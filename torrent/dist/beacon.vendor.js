(()=>{var gd=Object.create;var zu=Object.defineProperty;var md=Object.getOwnPropertyDescriptor;var vd=Object.getOwnPropertyNames;var bd=Object.getPrototypeOf,yd=Object.prototype.hasOwnProperty;var Bi=(we=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(we,{get:(Q,A)=>(typeof require!="undefined"?require:Q)[A]}):we)(function(we){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+we+'" is not supported')});var wi=(we,Q)=>()=>(Q||we((Q={exports:{}}).exports,Q),Q.exports);var wd=(we,Q,A,O)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let I of vd(Q))!yd.call(we,I)&&I!==A&&zu(we,I,{get:()=>Q[I],enumerable:!(O=md(Q,I))||O.enumerable});return we};var ta=(we,Q,A)=>(A=we!=null?gd(bd(we)):{},wd(Q||!we||!we.__esModule?zu(A,"default",{value:we,enumerable:!0}):A,we));var ju=wi(()=>{(function(we){"use strict";var Q={objectMaxDepth:5,urlErrorParamsEnabled:!0};function A(r){if(q(r))L(r.objectMaxDepth)&&(Q.objectMaxDepth=O(r.objectMaxDepth)?r.objectMaxDepth:NaN),L(r.urlErrorParamsEnabled)&&le(r.urlErrorParamsEnabled)&&(Q.urlErrorParamsEnabled=r.urlErrorParamsEnabled);else return Q}function O(r){return fe(r)&&r>0}function I(r,y){y=y||Error;var P="https://errors.angularjs.org/1.8.3/",H=P.replace(".","\\.")+"[\\s\\S]*",X=new RegExp(H,"g");return function(){var ce=arguments[0],ie=arguments[1],ne="["+(r?r+":":"")+ce+"] ",re=de(arguments,2).map(function(xe){return qe(xe,Q.objectMaxDepth)}),me,be;if(ne+=ie.replace(/\{\d+\}/g,function(xe){var ke=+xe.slice(1,-1);return ke<re.length?re[ke].replace(X,""):xe}),ne+=`
`+P+(r?r+"/":"")+ce,Q.urlErrorParamsEnabled)for(be=0,me="?";be<re.length;be++,me="&")ne+=me+"p"+be+"="+encodeURIComponent(re[be]);return new y(ne)}}var D=/^\/(.+)\/([a-z]*)$/,T="validity",_=Object.prototype.hasOwnProperty,E=function(r){return ae(r)?r.toLowerCase():r},d=function(r){return ae(r)?r.toUpperCase():r},M,g,F,N=[].slice,J=[].splice,pe=[].push,m=Object.prototype.toString,U=Object.getPrototypeOf,k=I("ng"),p=we.angular||(we.angular={}),w,v=0;M=we.document.documentMode;function h(r){if(r==null||x(r))return!1;if(se(r)||ae(r)||g&&r instanceof g)return!0;var y="length"in Object(r)&&r.length;return fe(y)&&(y>=0&&y-1 in r||typeof r.item=="function")}function e(r,y,P){var H,X;if(r)if(K(r))for(H in r)H!=="prototype"&&H!=="length"&&H!=="name"&&r.hasOwnProperty(H)&&y.call(P,r[H],H,r);else if(se(r)||h(r)){var ce=typeof r!="object";for(H=0,X=r.length;H<X;H++)(ce||H in r)&&y.call(P,r[H],H,r)}else if(r.forEach&&r.forEach!==e)r.forEach(y,P,r);else if(ee(r))for(H in r)y.call(P,r[H],H,r);else if(typeof r.hasOwnProperty=="function")for(H in r)r.hasOwnProperty(H)&&y.call(P,r[H],H,r);else for(H in r)_.call(r,H)&&y.call(P,r[H],H,r);return r}function o(r,y,P){for(var H=Object.keys(r).sort(),X=0;X<H.length;X++)y.call(P,r[H[X]],H[X]);return H}function i(r){return function(y,P){r(P,y)}}function u(){return++v}function c(r,y){y?r.$$hashKey=y:delete r.$$hashKey}function s(r,y,P){for(var H=r.$$hashKey,X=0,ce=y.length;X<ce;++X){var ie=y[X];if(!(!q(ie)&&!K(ie)))for(var ne=Object.keys(ie),re=0,me=ne.length;re<me;re++){var be=ne[re],xe=ie[be];P&&q(xe)?Ee(xe)?r[be]=new Date(xe.valueOf()):j(xe)?r[be]=new RegExp(xe):xe.nodeName?r[be]=xe.cloneNode(!0):rt(xe)?r[be]=xe.clone():be!=="__proto__"&&(q(r[be])||(r[be]=se(xe)?[]:{}),s(r[be],[xe],!0)):r[be]=xe}}return c(r,H),r}function t(r){return s(r,N.call(arguments,1),!1)}function n(r){return s(r,N.call(arguments,1),!0)}function a(r){return parseInt(r,10)}var l=Number.isNaN||function(y){return y!==y};function f(r,y){return t(Object.create(r),y)}function b(){}b.$inject=[];function C(r){return r}C.$inject=[];function $(r){return function(){return r}}function W(r){return K(r.toString)&&r.toString!==m}function R(r){return typeof r=="undefined"}function L(r){return typeof r!="undefined"}function q(r){return r!==null&&typeof r=="object"}function ee(r){return r!==null&&typeof r=="object"&&!U(r)}function ae(r){return typeof r=="string"}function fe(r){return typeof r=="number"}function Ee(r){return m.call(r)==="[object Date]"}function se(r){return Array.isArray(r)||r instanceof Array}function B(r){var y=m.call(r);switch(y){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return r instanceof Error}}function K(r){return typeof r=="function"}function j(r){return m.call(r)==="[object RegExp]"}function x(r){return r&&r.window===r}function z(r){return r&&r.$evalAsync&&r.$watch}function Z(r){return m.call(r)==="[object File]"}function oe(r){return m.call(r)==="[object FormData]"}function Y(r){return m.call(r)==="[object Blob]"}function le(r){return typeof r=="boolean"}function ge(r){return r&&K(r.then)}var Re=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function Ae(r){return r&&fe(r.length)&&Re.test(m.call(r))}function De(r){return m.call(r)==="[object ArrayBuffer]"}var $e=function(r){return ae(r)?r.trim():r},Ye=function(r){return r.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function rt(r){return!!(r&&(r.nodeName||r.prop&&r.attr&&r.find))}function bt(r){var y={},P=r.split(","),H;for(H=0;H<P.length;H++)y[P[H]]=!0;return y}function ut(r){return E(r.nodeName||r[0]&&r[0].nodeName)}function Me(r,y){return Array.prototype.indexOf.call(r,y)!==-1}function Ge(r,y){var P=r.indexOf(y);return P>=0&&r.splice(P,1),P}function Ze(r,y,P){var H=[],X=[];if(P=O(P)?P:NaN,y){if(Ae(y)||De(y))throw k("cpta","Can't copy! TypedArray destination cannot be mutated.");if(r===y)throw k("cpi","Can't copy! Source and destination are identical.");return se(y)?y.length=0:e(y,function(re,me){me!=="$$hashKey"&&delete y[me]}),H.push(r),X.push(y),ce(r,y,P)}return ie(r,P);function ce(re,me,be){if(be--,be<0)return"...";var xe=me.$$hashKey,ke;if(se(re))for(var Fe=0,Oe=re.length;Fe<Oe;Fe++)me.push(ie(re[Fe],be));else if(ee(re))for(ke in re)me[ke]=ie(re[ke],be);else if(re&&typeof re.hasOwnProperty=="function")for(ke in re)re.hasOwnProperty(ke)&&(me[ke]=ie(re[ke],be));else for(ke in re)_.call(re,ke)&&(me[ke]=ie(re[ke],be));return c(me,xe),me}function ie(re,me){if(!q(re))return re;var be=H.indexOf(re);if(be!==-1)return X[be];if(x(re)||z(re))throw k("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var xe=!1,ke=ne(re);return ke===void 0&&(ke=se(re)?[]:Object.create(U(re)),xe=!0),H.push(re),X.push(ke),xe?ce(re,ke,me):ke}function ne(re){switch(m.call(re)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new re.constructor(ie(re.buffer),re.byteOffset,re.length);case"[object ArrayBuffer]":if(!re.slice){var me=new ArrayBuffer(re.byteLength);return new Uint8Array(me).set(new Uint8Array(re)),me}return re.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new re.constructor(re.valueOf());case"[object RegExp]":var be=new RegExp(re.source,re.toString().match(/[^/]*$/)[0]);return be.lastIndex=re.lastIndex,be;case"[object Blob]":return new re.constructor([re],{type:re.type})}if(K(re.cloneNode))return re.cloneNode(!0)}}function ft(r,y){return r===y||r!==r&&y!==y}function Mt(r,y){if(r===y)return!0;if(r===null||y===null)return!1;if(r!==r&&y!==y)return!0;var P=typeof r,H=typeof y,X,ce,ie;if(P===H&&P==="object")if(se(r)){if(!se(y))return!1;if((X=r.length)===y.length){for(ce=0;ce<X;ce++)if(!Mt(r[ce],y[ce]))return!1;return!0}}else{if(Ee(r))return Ee(y)?ft(r.getTime(),y.getTime()):!1;if(j(r))return j(y)?r.toString()===y.toString():!1;if(z(r)||z(y)||x(r)||x(y)||se(y)||Ee(y)||j(y))return!1;ie=Ht();for(ce in r)if(!(ce.charAt(0)==="$"||K(r[ce]))){if(!Mt(r[ce],y[ce]))return!1;ie[ce]=!0}for(ce in y)if(!(ce in ie)&&ce.charAt(0)!=="$"&&L(y[ce])&&!K(y[ce]))return!1;return!0}return!1}var ue=function(){if(!L(ue.rules)){var r=we.document.querySelector("[ng-csp]")||we.document.querySelector("[data-ng-csp]");if(r){var y=r.getAttribute("ng-csp")||r.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!y||y.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!y||y.indexOf("no-inline-style")!==-1}}else ue.rules={noUnsafeEval:P(),noInlineStyle:!1}}return ue.rules;function P(){try{return new Function(""),!1}catch{return!0}}},G=function(){if(L(G.name_))return G.name_;var r,y,P=Kt.length,H,X;for(y=0;y<P;++y)if(H=Kt[y],r=we.document.querySelector("["+H.replace(":","\\:")+"jq]"),r){X=r.getAttribute(H+"jq");break}return G.name_=X};function te(r,y,P){return r.concat(N.call(y,P))}function de(r,y){return N.call(r,y||0)}function _e(r,y){var P=arguments.length>2?de(arguments,2):[];return K(y)&&!(y instanceof RegExp)?P.length?function(){return arguments.length?y.apply(r,te(P,arguments,0)):y.apply(r,P)}:function(){return arguments.length?y.apply(r,arguments):y.call(r)}:y}function Pe(r,y){var P=y;return typeof r=="string"&&r.charAt(0)==="$"&&r.charAt(1)==="$"?P=void 0:x(y)?P="$WINDOW":y&&we.document===y?P="$DOCUMENT":z(y)&&(P="$SCOPE"),P}function je(r,y){if(!R(r))return fe(y)||(y=y?2:null),JSON.stringify(r,Pe,y)}function Ue(r){return ae(r)?JSON.parse(r):r}var yt=/:/g;function mt(r,y){r=r.replace(yt,"");var P=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return l(P)?y:P}function et(r,y){return r=new Date(r.getTime()),r.setMinutes(r.getMinutes()+y),r}function Dt(r,y,P){P=P?-1:1;var H=r.getTimezoneOffset(),X=mt(y,H);return et(r,P*(X-H))}function wt(r){r=g(r).clone().empty();var y=g("<div></div>").append(r).html();try{return r[0].nodeType===rr?E(y):y.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(P,H){return"<"+E(H)})}catch{return E(y)}}function Lt(r){try{return decodeURIComponent(r)}catch{}}function mr(r){var y={};return e((r||"").split("&"),function(P){var H,X,ce;P&&(X=P=P.replace(/\+/g,"%20"),H=P.indexOf("="),H!==-1&&(X=P.substring(0,H),ce=P.substring(H+1)),X=Lt(X),L(X)&&(ce=L(ce)?Lt(ce):!0,_.call(y,X)?se(y[X])?y[X].push(ce):y[X]=[y[X],ce]:y[X]=ce))}),y}function St(r){var y=[];return e(r,function(P,H){se(P)?e(P,function(X){y.push(qt(H,!0)+(X===!0?"":"="+qt(X,!0)))}):y.push(qt(H,!0)+(P===!0?"":"="+qt(P,!0)))}),y.length?y.join("&"):""}function Wt(r){return qt(r,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function qt(r,y){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,y?"%20":"+")}var Kt=["ng-","data-ng-","ng:","x-ng-"];function sr(r,y){var P,H,X=Kt.length;for(H=0;H<X;++H)if(P=Kt[H]+y,ae(P=r.getAttribute(P)))return P;return null}function _n(r){var y=r.currentScript;if(!y)return!0;if(!(y instanceof we.HTMLScriptElement||y instanceof we.SVGScriptElement))return!1;var P=y.attributes,H=[P.getNamedItem("src"),P.getNamedItem("href"),P.getNamedItem("xlink:href")];return H.every(function(X){if(!X)return!0;if(!X.value)return!1;var ce=r.createElement("a");if(ce.href=X.value,r.location.origin===ce.origin)return!0;switch(ce.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}var Jt=_n(we.document);function nr(r,y){var P,H,X={};if(e(Kt,function(ce){var ie=ce+"app";!P&&r.hasAttribute&&r.hasAttribute(ie)&&(P=r,H=r.getAttribute(ie))}),e(Kt,function(ce){var ie=ce+"app",ne;!P&&(ne=r.querySelector("["+ie.replace(":","\\:")+"]"))&&(P=ne,H=ne.getAttribute(ie))}),P){if(!Jt){we.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");return}X.strictDi=sr(P,"strict-di")!==null,y(P,H?[H]:[],X)}}function Jr(r,y,P){q(P)||(P={});var H={strictDi:!1};P=t(H,P);var X=function(){if(r=g(r),r.injector()){var ne=r[0]===we.document?"document":wt(r);throw k("btstrpd","App already bootstrapped with this element '{0}'",ne.replace(/</,"&lt;").replace(/>/,"&gt;"))}y=y||[],y.unshift(["$provide",function(me){me.value("$rootElement",r)}]),P.debugInfoEnabled&&y.push(["$compileProvider",function(me){me.debugInfoEnabled(!0)}]),y.unshift("ng");var re=fi(y,P.strictDi);return re.invoke(["$rootScope","$rootElement","$compile","$injector",function(be,xe,ke,Fe){be.$apply(function(){xe.data("$injector",Fe),ke(xe)(be)})}]),re},ce=/^NG_ENABLE_DEBUG_INFO!/,ie=/^NG_DEFER_BOOTSTRAP!/;if(we&&ce.test(we.name)&&(P.debugInfoEnabled=!0,we.name=we.name.replace(ce,"")),we&&!ie.test(we.name))return X();we.name=we.name.replace(ie,""),p.resumeBootstrap=function(ne){return e(ne,function(re){y.push(re)}),X()},K(p.resumeDeferredBootstrap)&&p.resumeDeferredBootstrap()}function Yt(){we.name="NG_ENABLE_DEBUG_INFO!"+we.name,we.location.reload()}function tr(r){var y=p.element(r).injector();if(!y)throw k("test","no injector found for element argument to getTestability");return y.get("$$testability")}var Vr=/[A-Z]/g;function ir(r,y){return y=y||"_",r.replace(Vr,function(P,H){return(H?y:"")+P.toLowerCase()})}var dr=!1;function an(){var r;if(!dr){var y=G();F=R(y)?we.jQuery:y?we[y]:void 0,F&&F.fn.on?(g=F,t(F.fn,{scope:ci.scope,isolateScope:ci.isolateScope,controller:ci.controller,injector:ci.injector,inheritedData:ci.inheritedData})):g=zr,r=g.cleanData,g.cleanData=function(P){for(var H,X=0,ce;(ce=P[X])!=null;X++)H=(g._data(ce)||{}).events,H&&H.$destroy&&g(ce).triggerHandler("$destroy");r(P)},p.element=g,dr=!0}}function Xt(){zr.legacyXHTMLReplacement=!0}function or(r,y,P){if(!r)throw k("areq","Argument '{0}' is {1}",y||"?",P||"required");return r}function In(r,y,P){return P&&se(r)&&(r=r[r.length-1]),or(K(r),y,"not a function, got "+(r&&typeof r=="object"?r.constructor.name||"Object":typeof r)),r}function er(r,y){if(r==="hasOwnProperty")throw k("badname","hasOwnProperty is not a valid {0} name",y)}function lr(r,y,P){if(!y)return r;for(var H=y.split("."),X,ce=r,ie=H.length,ne=0;ne<ie;ne++)X=H[ne],r&&(r=(ce=r)[X]);return!P&&K(r)?_e(ce,r):r}function Sn(r){for(var y=r[0],P=r[r.length-1],H,X=1;y!==P&&(y=y.nextSibling);X++)(H||r[X]!==y)&&(H||(H=g(N.call(r,0,X))),H.push(y));return H||r}function Ht(){return Object.create(null)}function fr(r){if(r==null)return"";switch(typeof r){case"string":break;case"number":r=""+r;break;default:W(r)&&!se(r)&&!Ee(r)?r=r.toString():r=je(r)}return r}var sn=1,Vt=2,rr=3,Cn=8,hr=9,pr=11;function Ke(r){var y=I("$injector"),P=I("ng");function H(ce,ie,ne){return ce[ie]||(ce[ie]=ne())}var X=H(r,"angular",Object);return X.$$minErr=X.$$minErr||I,H(X,"module",function(){var ce={};return function(ne,re,me){var be={},xe=function(ke,Fe){if(ke==="hasOwnProperty")throw P("badname","hasOwnProperty is not a valid {0} name",Fe)};return xe(ne,"module"),re&&ce.hasOwnProperty(ne)&&(ce[ne]=null),H(ce,ne,function(){if(!re)throw y("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",ne);var ke=[],Fe=[],Oe=[],at=st("$injector","invoke","push",Fe),vt={_invokeQueue:ke,_configBlocks:Fe,_runBlocks:Oe,info:function(it){if(L(it)){if(!q(it))throw P("aobj","Argument '{0}' must be an object","value");return be=it,this}return be},requires:re,name:ne,provider:ot("$provide","provider"),factory:ot("$provide","factory"),service:ot("$provide","service"),value:st("$provide","value"),constant:st("$provide","constant","unshift"),decorator:ot("$provide","decorator",Fe),animation:ot("$animateProvider","register"),filter:ot("$filterProvider","register"),controller:ot("$controllerProvider","register"),directive:ot("$compileProvider","directive"),component:ot("$compileProvider","component"),config:at,run:function(it){return Oe.push(it),this}};return me&&at(me),vt;function st(it,ct,ze,Xe){return Xe||(Xe=ke),function(){return Xe[ze||"push"]([it,ct,arguments]),vt}}function ot(it,ct,ze){return ze||(ze=ke),function(Xe,Le){return Le&&K(Le)&&(Le.$$moduleName=ne),ze.push([it,ct,arguments]),vt}}})}})}function ye(r,y){if(se(r)){y=y||[];for(var P=0,H=r.length;P<H;P++)y[P]=r[P]}else if(q(r)){y=y||{};for(var X in r)X.charAt(0)==="$"&&X.charAt(1)==="$"||(y[X]=r[X])}return y||r}function He(r,y){var P=[];return O(y)&&(r=p.copy(r,null,y)),JSON.stringify(r,function(H,X){if(X=Pe(H,X),q(X)){if(P.indexOf(X)>=0)return"...";P.push(X)}return X})}function qe(r,y){return typeof r=="function"?r.toString().replace(/ \{[\s\S]*$/,""):R(r)?"undefined":typeof r!="string"?He(r,y):r}var Se={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};function Je(r){t(r,{errorHandlingConfig:A,bootstrap:Jr,copy:Ze,extend:t,merge:n,equals:Mt,element:g,forEach:e,injector:fi,noop:b,bind:_e,toJson:je,fromJson:Ue,identity:C,isUndefined:R,isDefined:L,isString:ae,isFunction:K,isObject:q,isNumber:fe,isElement:rt,isArray:se,version:Se,isDate:Ee,callbacks:{$$counter:0},getTestability:tr,reloadWithDebugInfo:Yt,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Xt,$$minErr:I,$$csp:ue,$$encodeUriSegment:Wt,$$encodeUriQuery:qt,$$lowercase:E,$$stringify:fr,$$uppercase:d}),w=Ke(we),w("ng",["ngLocale"],["$provide",function(P){P.provider({$$sanitizeUri:cl}),P.provider("$compile",pa).directive({a:Ol,input:hu,textarea:hu,form:Bl,script:qc,select:Xc,option:Zc,ngBind:pc,ngBindHtml:mc,ngBindTemplate:gc,ngClass:bc,ngClassEven:wc,ngClassOdd:yc,ngCloak:_c,ngController:Sc,ngForm:Yo,ngHide:Uc,ngIf:Ec,ngInclude:Cc,ngInit:Ac,ngNonBindable:Lc,ngPluralize:Oc,ngRef:Nc,ngRepeat:Bc,ngShow:Hc,ngStyle:zc,ngSwitch:jc,ngSwitchWhen:Vc,ngSwitchDefault:Wc,ngOptions:Fc,ngTransclude:Yc,ngModel:Ic,ngList:Rc,ngChange:vc,pattern:Cu,ngPattern:Cu,required:Eu,ngRequired:Eu,minlength:Au,ngMinlength:Au,maxlength:ku,ngMaxlength:ku,ngValue:hc,ngModelOptions:Dc}).directive({ngInclude:kc,input:dc}).directive(co).directive(pu),P.provider({$anchorScroll:ws,$animate:Es,$animateCss:ks,$$animateJs:xs,$$animateQueue:Ro,$$AnimateRunner:Cs,$$animateAsyncRun:To,$browser:Ts,$cacheFactory:ha,$controller:Ps,$document:Io,$$isDocumentHidden:Po,$exceptionHandler:Do,$filter:Va,$$forceReflow:Ds,$interpolate:Sa,$interval:zs,$$intervalFactory:js,$http:Bs,$httpParamSerializer:Fs,$httpParamSerializerJQLike:Os,$httpBackend:_a,$xhrFactory:wa,$jsonpCallbacks:Vs,$location:ka,$log:Aa,$parse:ol,$rootScope:ul,$q:al,$$q:sl,$sce:pl,$sceDelegate:hl,$sniffer:Ba,$$taskTrackerFactory:gl,$templateCache:Or,$templateRequest:vl,$$testability:bl,$timeout:Qn,$window:ja,$$rAF:ll,$$jqLite:hs,$$Map:Gn,$$cookieReader:xl})}]).info({angularVersion:"1.8.3"})}zr.expando="ng339";var ln=zr.cache={},mn=1;zr._data=function(r){return this.cache[r[this.expando]]||{}};function Pn(){return++mn}var $n=/-([a-z])/g,Fn=/^-ms-/,vn={mouseleave:"mouseout",mouseenter:"mouseover"},bn=I("jqLite");function Xr(r){return dn(r.replace(Fn,"ms-"))}function yn(r,y){return y.toUpperCase()}function dn(r){return r.replace($n,yn)}var fn=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Zr=/<|&#?\w+;/,Ut=/<([\w:-]+)/,Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,It={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td;var ur={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var vr in It){var $r=It[vr],Ir=$r.slice().reverse();ur[vr]=[Ir.length,"<"+Ir.join("><")+">","</"+$r.join("></")+">"]}ur.optgroup=ur.option;function rn(r){return!Zr.test(r)}function un(r){var y=r.nodeType;return y===sn||!y||y===hr}function Er(r){for(var y in ln[r.ng339])return!0;return!1}function xn(r,y){var P,H,X,ce,ie=y.createDocumentFragment(),ne=[],re;if(rn(r))ne.push(y.createTextNode(r));else{if(P=ie.appendChild(y.createElement("div")),H=(Ut.exec(r)||["",""])[1].toLowerCase(),ce=zr.legacyXHTMLReplacement?r.replace(Te,"<$1></$2>"):r,M<10)for(X=ur[H]||ur._default,P.innerHTML=X[1]+ce+X[2],re=X[0];re--;)P=P.firstChild;else{for(X=It[H]||[],re=X.length;--re>-1;)P.appendChild(we.document.createElement(X[re])),P=P.firstChild;P.innerHTML=ce}ne=te(ne,P.childNodes),P=ie.firstChild,P.textContent=""}return ie.textContent="",ie.innerHTML="",e(ne,function(me){ie.appendChild(me)}),ie}function Jn(r,y){y=y||we.document;var P;return(P=fn.exec(r))?[y.createElement(P[1])]:(P=xn(r,y))?P.childNodes:[]}function _i(r,y){var P=r.parentNode;P&&P.replaceChild(y,r),y.appendChild(r)}var _o=we.Node.prototype.contains||function(r){return!!(this.compareDocumentPosition(r)&16)};function zr(r){if(r instanceof zr)return r;var y;if(ae(r)&&(r=$e(r),y=!0),!(this instanceof zr)){if(y&&r.charAt(0)!=="<")throw bn("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new zr(r)}y?Si(this,Jn(r)):K(r)?aa(r):Si(this,r)}function So(r){return r.cloneNode(!0)}function Hi(r,y){!y&&un(r)&&g.cleanData([r]),r.querySelectorAll&&g.cleanData(r.querySelectorAll("*"))}function na(r){var y;for(y in r)return!1;return!0}function ia(r){var y=r.ng339,P=y&&ln[y],H=P&&P.events,X=P&&P.data;(!X||na(X))&&(!H||na(H))&&(delete ln[y],r.ng339=void 0)}function oa(r,y,P,H){if(L(H))throw bn("offargs","jqLite#off() does not support the `selector` argument");var X=Ui(r),ce=X&&X.events,ie=X&&X.handle;if(ie){if(y){var ne=function(re){var me=ce[re];L(P)&&Ge(me||[],P),L(P)&&me&&me.length>0||(r.removeEventListener(re,ie),delete ce[re])};e(y.split(" "),function(re){ne(re),vn[re]&&ne(vn[re])})}else for(y in ce)y!=="$destroy"&&r.removeEventListener(y,ie),delete ce[y];ia(r)}}function xo(r,y){var P=r.ng339,H=P&&ln[P];H&&(y?delete H.data[y]:H.data={},ia(r))}function Ui(r,y){var P=r.ng339,H=P&&ln[P];return y&&!H&&(r.ng339=P=Pn(),H=ln[P]={events:{},data:{},handle:void 0}),H}function Eo(r,y,P){if(un(r)){var H,X=L(P),ce=!X&&y&&!q(y),ie=!y,ne=Ui(r,!ce),re=ne&&ne.data;if(X)re[dn(y)]=P;else{if(ie)return re;if(ce)return re&&re[dn(y)];for(H in y)re[dn(H)]=y[H]}}}function zi(r,y){return r.getAttribute?(" "+(r.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+y+" ")>-1:!1}function ji(r,y){if(y&&r.setAttribute){var P=(" "+(r.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),H=P;e(y.split(" "),function(X){X=$e(X),H=H.replace(" "+X+" "," ")}),H!==P&&r.setAttribute("class",$e(H))}}function Vi(r,y){if(y&&r.setAttribute){var P=(" "+(r.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),H=P;e(y.split(" "),function(X){X=$e(X),H.indexOf(" "+X+" ")===-1&&(H+=X+" ")}),H!==P&&r.setAttribute("class",$e(H))}}function Si(r,y){if(y)if(y.nodeType)r[r.length++]=y;else{var P=y.length;if(typeof P=="number"&&y.window!==y){if(P)for(var H=0;H<P;H++)r[r.length++]=y[H]}else r[r.length++]=y}}function Wi(r,y){return Gi(r,"$"+(y||"ngController")+"Controller")}function Gi(r,y,P){r.nodeType===hr&&(r=r.documentElement);for(var H=se(y)?y:[y];r;){for(var X=0,ce=H.length;X<ce;X++)if(L(P=g.data(r,H[X])))return P;r=r.parentNode||r.nodeType===pr&&r.host}}function Co(r){for(Hi(r,!0);r.firstChild;)r.removeChild(r.firstChild)}function xi(r,y){y||Hi(r);var P=r.parentNode;P&&P.removeChild(r)}function cs(r,y){y=y||we,y.document.readyState==="complete"?y.setTimeout(r):g(y).on("load",r)}function aa(r){function y(){we.document.removeEventListener("DOMContentLoaded",y),we.removeEventListener("load",y),r()}we.document.readyState==="complete"?we.setTimeout(r):(we.document.addEventListener("DOMContentLoaded",y),we.addEventListener("load",y))}var ci=zr.prototype={ready:aa,toString:function(){var r=[];return e(this,function(y){r.push(""+y)}),"["+r.join(", ")+"]"},eq:function(r){return r>=0?g(this[r]):g(this[this.length+r])},length:0,push:pe,sort:[].sort,splice:[].splice},Yi={};e("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(r){Yi[E(r)]=r});var ko={};e("input,select,option,textarea,button,form,details".split(","),function(r){ko[r]=!0});var Fr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function di(r,y){var P=Yi[y.toLowerCase()];return P&&ko[ut(r)]&&P}function Ei(r){return Fr[r]}e({data:Eo,removeData:xo,hasData:Er,cleanData:function(y){for(var P=0,H=y.length;P<H;P++)xo(y[P]),oa(y[P])}},function(r,y){zr[y]=r}),e({data:Eo,inheritedData:Gi,scope:function(r){return g.data(r,"$scope")||Gi(r.parentNode||r,["$isolateScope","$scope"])},isolateScope:function(r){return g.data(r,"$isolateScope")||g.data(r,"$isolateScopeNoTemplate")},controller:Wi,injector:function(r){return Gi(r,"$injector")},removeAttr:function(r,y){r.removeAttribute(y)},hasClass:zi,css:function(r,y,P){if(y=Xr(y),L(P))r.style[y]=P;else return r.style[y]},attr:function(r,y,P){var H,X=r.nodeType;if(!(X===rr||X===Vt||X===Cn||!r.getAttribute)){var ce=E(y),ie=Yi[ce];if(L(P))P===null||P===!1&&ie?r.removeAttribute(y):r.setAttribute(y,ie?ce:P);else return H=r.getAttribute(y),ie&&H!==null&&(H=ce),H===null?void 0:H}},prop:function(r,y,P){if(L(P))r[y]=P;else return r[y]},text:(function(){return r.$dv="",r;function r(y,P){if(R(P)){var H=y.nodeType;return H===sn||H===rr?y.textContent:""}y.textContent=P}})(),val:function(r,y){if(R(y)){if(r.multiple&&ut(r)==="select"){var P=[];return e(r.options,function(H){H.selected&&P.push(H.value||H.text)}),P}return r.value}r.value=y},html:function(r,y){if(R(y))return r.innerHTML;Hi(r,!0),r.innerHTML=y},empty:Co},function(r,y){zr.prototype[y]=function(P,H){var X,ce,ie=this.length;if(r!==Co&&R(r.length===2&&r!==zi&&r!==Wi?P:H))if(q(P)){for(X=0;X<ie;X++)if(r===Eo)r(this[X],P);else for(ce in P)r(this[X],ce,P[ce]);return this}else{for(var ne=r.$dv,re=R(ne)?Math.min(ie,1):ie,me=0;me<re;me++){var be=r(this[me],P,H);ne=ne?ne+be:be}return ne}else{for(X=0;X<ie;X++)r(this[X],P,H);return this}}});function ds(r,y){var P=function(H,X){H.isDefaultPrevented=function(){return H.defaultPrevented};var ce=y[X||H.type],ie=ce?ce.length:0;if(ie){if(R(H.immediatePropagationStopped)){var ne=H.stopImmediatePropagation;H.stopImmediatePropagation=function(){H.immediatePropagationStopped=!0,H.stopPropagation&&H.stopPropagation(),ne&&ne.call(H)}}H.isImmediatePropagationStopped=function(){return H.immediatePropagationStopped===!0};var re=ce.specialHandlerWrapper||sa;ie>1&&(ce=ye(ce));for(var me=0;me<ie;me++)H.isImmediatePropagationStopped()||re(r,H,ce[me])}};return P.elem=r,P}function sa(r,y,P){P.call(r,y)}function fs(r,y,P){var H=y.relatedTarget;(!H||H!==r&&!_o.call(r,H))&&P.call(r,y)}e({removeData:xo,on:function(y,P,H,X){if(L(X))throw bn("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(un(y)){var ce=Ui(y,!0),ie=ce.events,ne=ce.handle;ne||(ne=ce.handle=ds(y,ie));for(var re=P.indexOf(" ")>=0?P.split(" "):[P],me=re.length,be=function(xe,ke,Fe){var Oe=ie[xe];Oe||(Oe=ie[xe]=[],Oe.specialHandlerWrapper=ke,xe!=="$destroy"&&!Fe&&y.addEventListener(xe,ne)),Oe.push(H)};me--;)P=re[me],vn[P]?(be(vn[P],fs),be(P,void 0,!0)):be(P)}},off:oa,one:function(r,y,P){r=g(r),r.on(y,function H(){r.off(y,P),r.off(y,H)}),r.on(y,P)},replaceWith:function(r,y){var P,H=r.parentNode;Hi(r),e(new zr(y),function(X){P?H.insertBefore(X,P.nextSibling):H.replaceChild(X,r),P=X})},children:function(r){var y=[];return e(r.childNodes,function(P){P.nodeType===sn&&y.push(P)}),y},contents:function(r){return r.contentDocument||r.childNodes||[]},append:function(r,y){var P=r.nodeType;if(!(P!==sn&&P!==pr)){y=new zr(y);for(var H=0,X=y.length;H<X;H++){var ce=y[H];r.appendChild(ce)}}},prepend:function(r,y){if(r.nodeType===sn){var P=r.firstChild;e(new zr(y),function(H){r.insertBefore(H,P)})}},wrap:function(r,y){_i(r,g(y).eq(0).clone()[0])},remove:xi,detach:function(r){xi(r,!0)},after:function(r,y){var P=r,H=r.parentNode;if(H){y=new zr(y);for(var X=0,ce=y.length;X<ce;X++){var ie=y[X];H.insertBefore(ie,P.nextSibling),P=ie}}},addClass:Vi,removeClass:ji,toggleClass:function(r,y,P){y&&e(y.split(" "),function(H){var X=P;R(X)&&(X=!zi(r,H)),(X?Vi:ji)(r,H)})},parent:function(r){var y=r.parentNode;return y&&y.nodeType!==pr?y:null},next:function(r){return r.nextElementSibling},find:function(r,y){return r.getElementsByTagName?r.getElementsByTagName(y):[]},clone:So,triggerHandler:function(r,y,P){var H,X,ce,ie=y.type||y,ne=Ui(r),re=ne&&ne.events,me=re&&re[ie];me&&(H={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:b,type:ie,target:r},y.type&&(H=t(H,y)),X=ye(me),ce=P?[H].concat(P):[H],e(X,function(be){H.isImmediatePropagationStopped()||be.apply(r,ce)}))}},function(r,y){zr.prototype[y]=function(P,H,X){for(var ce,ie=0,ne=this.length;ie<ne;ie++)R(ce)?(ce=r(this[ie],P,H,X),L(ce)&&(ce=g(ce))):Si(ce,r(this[ie],P,H,X));return L(ce)?ce:this}}),zr.prototype.bind=zr.prototype.on,zr.prototype.unbind=zr.prototype.off;function hs(){this.$get=function(){return t(zr,{hasClass:function(y,P){return y.attr&&(y=y[0]),zi(y,P)},addClass:function(y,P){return y.attr&&(y=y[0]),Vi(y,P)},removeClass:function(y,P){return y.attr&&(y=y[0]),ji(y,P)}})}}function Wn(r,y){var P=r&&r.$$hashKey;if(P)return typeof P=="function"&&(P=r.$$hashKey()),P;var H=typeof r;return H==="function"||H==="object"&&r!==null?P=r.$$hashKey=H+":"+(y||u)():P=H+":"+r,P}var Xn=Object.create(null);function qi(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}qi.prototype={_idx:function(r){return r!==this._lastKey&&(this._lastKey=r,this._lastIndex=this._keys.indexOf(r)),this._lastIndex},_transformKey:function(r){return l(r)?Xn:r},get:function(r){r=this._transformKey(r);var y=this._idx(r);if(y!==-1)return this._values[y]},has:function(r){r=this._transformKey(r);var y=this._idx(r);return y!==-1},set:function(r,y){r=this._transformKey(r);var P=this._idx(r);P===-1&&(P=this._lastIndex=this._keys.length),this._keys[P]=r,this._values[P]=y},delete:function(r){r=this._transformKey(r);var y=this._idx(r);return y===-1?!1:(this._keys.splice(y,1),this._values.splice(y,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ki=qi,Gn=[function(){this.$get=[function(){return Ki}]}],ps=/^([^(]+?)=>/,Ao=/^[^(]*\(\s*([^)]*)\)/m,gs=/,/,ms=/^\s*(_?)(\S+?)\1\s*$/,vs=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Bn=I("$injector");function Ji(r){return Function.prototype.toString.call(r)}function la(r){var y=Ji(r).replace(vs,""),P=y.match(ps)||y.match(Ao);return P}function bs(r){var y=la(r);return y?"function("+(y[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ys(r,y,P){var H,X,ce;if(typeof r=="function"){if(!(H=r.$inject)){if(H=[],r.length){if(y)throw(!ae(P)||!P)&&(P=r.name||bs(r)),Bn("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",P);X=la(r),e(X[1].split(gs),function(ie){ie.replace(ms,function(ne,re,me){H.push(me)})})}r.$inject=H}}else se(r)?(ce=r.length-1,In(r[ce],"fn"),H=r.slice(0,ce)):In(r,"fn",!0);return H}function fi(r,y){y=y===!0;var P={},H="Provider",X=[],ce=new Ki,ie={$provide:{provider:ke(Fe),factory:ke(at),service:ke(vt),value:ke(st),constant:ke(ot),decorator:it}},ne=ie.$injector=ze(ie,function(Xe,Le){throw p.isString(Le)&&X.push(Le),Bn("unpr","Unknown provider: {0}",X.join(" <- "))}),re={},me=ze(re,function(Xe,Le){var Ie=ne.get(Xe+H,Le);return be.invoke(Ie.$get,Ie,void 0,Xe)}),be=me;ie["$injector"+H]={$get:$(me)},be.modules=ne.modules=Ht();var xe=ct(r);return be=me.get("$injector"),be.strictDi=y,e(xe,function(Xe){Xe&&be.invoke(Xe)}),be.loadNewModules=function(Xe){e(ct(Xe),function(Le){Le&&be.invoke(Le)})},be;function ke(Xe){return function(Le,Ie){if(q(Le))e(Le,i(Xe));else return Xe(Le,Ie)}}function Fe(Xe,Le){if(er(Xe,"service"),(K(Le)||se(Le))&&(Le=ne.instantiate(Le)),!Le.$get)throw Bn("pget","Provider '{0}' must define $get factory method.",Xe);return ie[Xe+H]=Le}function Oe(Xe,Le){return function(){var Ne=be.invoke(Le,this);if(R(Ne))throw Bn("undef","Provider '{0}' must return a value from $get factory method.",Xe);return Ne}}function at(Xe,Le,Ie){return Fe(Xe,{$get:Ie!==!1?Oe(Xe,Le):Le})}function vt(Xe,Le){return at(Xe,["$injector",function(Ie){return Ie.instantiate(Le)}])}function st(Xe,Le){return at(Xe,$(Le),!1)}function ot(Xe,Le){er(Xe,"constant"),ie[Xe]=Le,re[Xe]=Le}function it(Xe,Le){var Ie=ne.get(Xe+H),Ne=Ie.$get;Ie.$get=function(){var Be=be.invoke(Ne,Ie);return be.invoke(Le,null,{$delegate:Be})}}function ct(Xe){or(R(Xe)||se(Xe),"modulesToLoad","not an array");var Le=[],Ie;return e(Xe,function(Ne){if(ce.get(Ne))return;ce.set(Ne,!0);function Be(tt){var dt,nt;for(dt=0,nt=tt.length;dt<nt;dt++){var gt=tt[dt],Et=ne.get(gt[0]);Et[gt[1]].apply(Et,gt[2])}}try{ae(Ne)?(Ie=w(Ne),be.modules[Ne]=Ie,Le=Le.concat(ct(Ie.requires)).concat(Ie._runBlocks),Be(Ie._invokeQueue),Be(Ie._configBlocks)):K(Ne)||se(Ne)?Le.push(ne.invoke(Ne)):In(Ne,"module")}catch(tt){throw se(Ne)&&(Ne=Ne[Ne.length-1]),tt.message&&tt.stack&&tt.stack.indexOf(tt.message)===-1&&(tt=tt.message+`
`+tt.stack),Bn("modulerr",`Failed to instantiate module {0} due to:
{1}`,Ne,tt.stack||tt.message||tt)}}),Le}function ze(Xe,Le){function Ie(nt,gt){if(Xe.hasOwnProperty(nt)){if(Xe[nt]===P)throw Bn("cdep","Circular dependency found: {0}",nt+" <- "+X.join(" <- "));return Xe[nt]}else try{return X.unshift(nt),Xe[nt]=P,Xe[nt]=Le(nt,gt),Xe[nt]}catch(Et){throw Xe[nt]===P&&delete Xe[nt],Et}finally{X.shift()}}function Ne(nt,gt,Et){for(var Rt=[],_t=fi.$$annotate(nt,y,Et),Pt=0,Zt=_t.length;Pt<Zt;Pt++){var Gt=_t[Pt];if(typeof Gt!="string")throw Bn("itkn","Incorrect injection token! Expected service name as string, got {0}",Gt);Rt.push(gt&&gt.hasOwnProperty(Gt)?gt[Gt]:Ie(Gt,Et))}return Rt}function Be(nt){if(M||typeof nt!="function")return!1;var gt=nt.$$ngIsClass;return le(gt)||(gt=nt.$$ngIsClass=/^class\b/.test(Ji(nt))),gt}function tt(nt,gt,Et,Rt){typeof Et=="string"&&(Rt=Et,Et=null);var _t=Ne(nt,Et,Rt);return se(nt)&&(nt=nt[nt.length-1]),Be(nt)?(_t.unshift(null),new(Function.prototype.bind.apply(nt,_t))):nt.apply(gt,_t)}function dt(nt,gt,Et){var Rt=se(nt)?nt[nt.length-1]:nt,_t=Ne(nt,gt,Et);return _t.unshift(null),new(Function.prototype.bind.apply(Rt,_t))}return{invoke:tt,instantiate:dt,get:Ie,annotate:fi.$$annotate,has:function(nt){return ie.hasOwnProperty(nt+H)||Xe.hasOwnProperty(nt)}}}}fi.$$annotate=ys;function ws(){var r=!0;this.disableAutoScrolling=function(){r=!1},this.$get=["$window","$location","$rootScope",function(y,P,H){var X=y.document;function ce(me){var be=null;return Array.prototype.some.call(me,function(xe){if(ut(xe)==="a")return be=xe,!0}),be}function ie(){var me=re.yOffset;if(K(me))me=me();else if(rt(me)){var be=me[0],xe=y.getComputedStyle(be);xe.position!=="fixed"?me=0:me=be.getBoundingClientRect().bottom}else fe(me)||(me=0);return me}function ne(me){if(me){me.scrollIntoView();var be=ie();if(be){var xe=me.getBoundingClientRect().top;y.scrollBy(0,xe-be)}}else y.scrollTo(0,0)}function re(me){me=ae(me)?me:fe(me)?me.toString():P.hash();var be;me?(be=X.getElementById(me))||(be=ce(X.getElementsByName(me)))?ne(be):me==="top"&&ne(null):ne(null)}return r&&H.$watch(function(){return P.hash()},function(be,xe){be===xe&&be===""||cs(function(){H.$evalAsync(re)})}),re}]}var ua=I("$animate"),_s=1,ca="ng-animate";function Ci(r,y){return!r&&!y?"":r?y?(se(r)&&(r=r.join(" ")),se(y)&&(y=y.join(" ")),r+" "+y):r:y}function da(r){for(var y=0;y<r.length;y++){var P=r[y];if(P.nodeType===_s)return P}}function Ss(r){ae(r)&&(r=r.split(" "));var y=Ht();return e(r,function(P){P.length&&(y[P]=!0)}),y}function Dn(r){return q(r)?r:{}}var xs=function(){this.$get=b},Ro=function(){var r=new Ki,y=[];this.$get=["$$AnimateRunner","$rootScope",function(P,H){return{enabled:b,on:b,off:b,pin:b,push:function(ne,re,me,be){be&&be(),me=me||{},me.from&&ne.css(me.from),me.to&&ne.css(me.to),(me.addClass||me.removeClass)&&ie(ne,me.addClass,me.removeClass);var xe=new P;return xe.complete(),xe}};function X(ne,re,me){var be=!1;return re&&(re=ae(re)?re.split(" "):se(re)?re:[],e(re,function(xe){xe&&(be=!0,ne[xe]=me)})),be}function ce(){e(y,function(ne){var re=r.get(ne);if(re){var me=Ss(ne.attr("class")),be="",xe="";e(re,function(ke,Fe){var Oe=!!me[Fe];ke!==Oe&&(ke?be+=(be.length?" ":"")+Fe:xe+=(xe.length?" ":"")+Fe)}),e(ne,function(ke){be&&Vi(ke,be),xe&&ji(ke,xe)}),r.delete(ne)}}),y.length=0}function ie(ne,re,me){var be=r.get(ne)||{},xe=X(be,re,!0),ke=X(be,me,!1);(xe||ke)&&(r.set(ne,be),y.push(ne),y.length===1&&H.$$postDigest(ce))}}]},Es=["$provide",function(r){var y=this,P=null,H=null;this.$$registeredAnimations=Object.create(null),this.register=function(X,ce){if(X&&X.charAt(0)!==".")throw ua("notcsel","Expecting class selector starting with '.' got '{0}'.",X);var ie=X+"-animation";y.$$registeredAnimations[X.substr(1)]=ie,r.factory(ie,ce)},this.customFilter=function(X){return arguments.length===1&&(H=K(X)?X:null),H},this.classNameFilter=function(X){if(arguments.length===1&&(P=X instanceof RegExp?X:null,P)){var ce=new RegExp("[(\\s|\\/)]"+ca+"[(\\s|\\/)]");if(ce.test(P.toString()))throw P=null,ua("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ca)}return P},this.$get=["$$animateQueue",function(X){function ce(ie,ne,re){if(re){var me=da(re);me&&!me.parentNode&&!me.previousElementSibling&&(re=null)}re?re.after(ie):ne.prepend(ie)}return{on:X.on,off:X.off,pin:X.pin,enabled:X.enabled,cancel:function(ie){ie.cancel&&ie.cancel()},enter:function(ie,ne,re,me){return ne=ne&&g(ne),re=re&&g(re),ne=ne||re.parent(),ce(ie,ne,re),X.push(ie,"enter",Dn(me))},move:function(ie,ne,re,me){return ne=ne&&g(ne),re=re&&g(re),ne=ne||re.parent(),ce(ie,ne,re),X.push(ie,"move",Dn(me))},leave:function(ie,ne){return X.push(ie,"leave",Dn(ne),function(){ie.remove()})},addClass:function(ie,ne,re){return re=Dn(re),re.addClass=Ci(re.addclass,ne),X.push(ie,"addClass",re)},removeClass:function(ie,ne,re){return re=Dn(re),re.removeClass=Ci(re.removeClass,ne),X.push(ie,"removeClass",re)},setClass:function(ie,ne,re,me){return me=Dn(me),me.addClass=Ci(me.addClass,ne),me.removeClass=Ci(me.removeClass,re),X.push(ie,"setClass",me)},animate:function(ie,ne,re,me,be){return be=Dn(be),be.from=be.from?t(be.from,ne):ne,be.to=be.to?t(be.to,re):re,me=me||"ng-inline-animate",be.tempClasses=Ci(be.tempClasses,me),X.push(ie,"animate",be)}}}]}],To=function(){this.$get=["$$rAF",function(r){var y=[];function P(H){y.push(H),!(y.length>1)&&r(function(){for(var X=0;X<y.length;X++)y[X]();y=[]})}return function(){var H=!1;return P(function(){H=!0}),function(X){H?X():P(X)}}}]},Cs=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(r,y,P,H,X){var ce=0,ie=1,ne=2;re.chain=function(me,be){var xe=0;ke();function ke(){if(xe===me.length){be(!0);return}me[xe](function(Fe){if(Fe===!1){be(!1);return}xe++,ke()})}},re.all=function(me,be){var xe=0,ke=!0;e(me,function(Oe){Oe.done(Fe)});function Fe(Oe){ke=ke&&Oe,++xe===me.length&&be(ke)}};function re(me){this.setHost(me);var be=P(),xe=function(ke){X(ke,0,!1)};this._doneCallbacks=[],this._tick=function(ke){H()?xe(ke):be(ke)},this._state=0}return re.prototype={setHost:function(me){this.host=me||{}},done:function(me){this._state===ne?me():this._doneCallbacks.push(me)},progress:b,getPromise:function(){if(!this.promise){var me=this;this.promise=r(function(be,xe){me.done(function(ke){ke===!1?xe():be()})})}return this.promise},then:function(me,be){return this.getPromise().then(me,be)},catch:function(me){return this.getPromise().catch(me)},finally:function(me){return this.getPromise().finally(me)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(me){var be=this;be._state===ce&&(be._state=ie,be._tick(function(){be._resolve(me)}))},_resolve:function(me){this._state!==ne&&(e(this._doneCallbacks,function(be){be(me)}),this._doneCallbacks.length=0,this._state=ne)}},re}]},ks=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(r,y,P){return function(H,X){var ce=X||{};ce.$$prepared||(ce=Ze(ce)),ce.cleanupStyles&&(ce.from=ce.to=null),ce.from&&(H.css(ce.from),ce.from=null);var ie,ne=new P;return{start:re,end:re};function re(){return r(function(){me(),ie||ne.complete(),ie=!0}),ne}function me(){ce.addClass&&(H.addClass(ce.addClass),ce.addClass=null),ce.removeClass&&(H.removeClass(ce.removeClass),ce.removeClass=null),ce.to&&(H.css(ce.to),ce.to=null)}}}]};function As(r){var y=r.indexOf("#");return y===-1?"":r.substr(y)}function Rs(r){return r.replace(/#$/,"")}function fa(r,y,P,H,X){var ce=this,ie=r.location,ne=r.history,re=r.setTimeout,me=r.clearTimeout,be={},xe=X(P);ce.isMock=!1,ce.$$completeOutstandingRequest=xe.completeTask,ce.$$incOutstandingRequestCount=xe.incTaskCount,ce.notifyWhenNoOutstandingRequests=xe.notifyWhenNoPendingTasks;var ke,Fe,Oe=ie.href,at=y.find("base"),vt=null,st=H.history?function(){try{return ne.state}catch{}}:b;Xe(),ce.url=function(Ie,Ne,Be){if(R(Be)&&(Be=null),ie!==r.location&&(ie=r.location),ne!==r.history&&(ne=r.history),Ie){var tt=Fe===Be;if(Ie=xt(Ie).href,Oe===Ie&&(!H.history||tt))return ce;var dt=Oe&&ii(Oe)===ii(Ie);return Oe=Ie,Fe=Be,H.history&&(!dt||!tt)?(ne[Ne?"replaceState":"pushState"](Be,"",Ie),Xe()):(dt||(vt=Ie),Ne?ie.replace(Ie):dt?ie.hash=As(Ie):ie.href=Ie,ie.href!==Ie&&(vt=Ie)),vt&&(vt=Ie),ce}else return Rs(vt||ie.href)},ce.state=function(){return ke};var ot=[],it=!1;function ct(){vt=null,Le()}var ze=null;function Xe(){ke=st(),ke=R(ke)?null:ke,Mt(ke,ze)&&(ke=ze),ze=ke,Fe=ke}function Le(){var Ie=Fe;Xe(),!(Oe===ce.url()&&Ie===ke)&&(Oe=ce.url(),Fe=ke,e(ot,function(Ne){Ne(ce.url(),ke)}))}ce.onUrlChange=function(Ie){return it||(H.history&&g(r).on("popstate",ct),g(r).on("hashchange",ct),it=!0),ot.push(Ie),Ie},ce.$$applicationDestroyed=function(){g(r).off("hashchange popstate",ct)},ce.$$checkUrlChange=Le,ce.baseHref=function(){var Ie=at.attr("href");return Ie?Ie.replace(/^(https?:)?\/\/[^/]*/,""):""},ce.defer=function(Ie,Ne,Be){var tt;return Ne=Ne||0,Be=Be||xe.DEFAULT_TASK_TYPE,xe.incTaskCount(Be),tt=re(function(){delete be[tt],xe.completeTask(Ie,Be)},Ne),be[tt]=Be,tt},ce.defer.cancel=function(Ie){if(be.hasOwnProperty(Ie)){var Ne=be[Ie];return delete be[Ie],me(Ie),xe.completeTask(b,Ne),!0}return!1}}function Ts(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(r,y,P,H,X){return new fa(r,H,y,P,X)}]}function ha(){this.$get=function(){var r={};function y(P,H){if(P in r)throw I("$cacheFactory")("iid","CacheId '{0}' is already taken!",P);var X=0,ce=t({},H,{id:P}),ie=Ht(),ne=H&&H.capacity||Number.MAX_VALUE,re=Ht(),me=null,be=null;return r[P]={put:function(Fe,Oe){if(!R(Oe)){if(ne<Number.MAX_VALUE){var at=re[Fe]||(re[Fe]={key:Fe});xe(at)}return Fe in ie||X++,ie[Fe]=Oe,X>ne&&this.remove(be.key),Oe}},get:function(Fe){if(ne<Number.MAX_VALUE){var Oe=re[Fe];if(!Oe)return;xe(Oe)}return ie[Fe]},remove:function(Fe){if(ne<Number.MAX_VALUE){var Oe=re[Fe];if(!Oe)return;Oe===me&&(me=Oe.p),Oe===be&&(be=Oe.n),ke(Oe.n,Oe.p),delete re[Fe]}Fe in ie&&(delete ie[Fe],X--)},removeAll:function(){ie=Ht(),X=0,re=Ht(),me=be=null},destroy:function(){ie=null,ce=null,re=null,delete r[P]},info:function(){return t({},ce,{size:X})}};function xe(Fe){Fe!==me&&(be?be===Fe&&(be=Fe.n):be=Fe,ke(Fe.n,Fe.p),ke(Fe,me),me=Fe,me.n=null)}function ke(Fe,Oe){Fe!==Oe&&(Fe&&(Fe.p=Oe),Oe&&(Oe.n=Fe))}}return y.info=function(){var P={};return e(r,function(H,X){P[X]=H.info()}),P},y.get=function(P){return r[P]},y}}function Or(){this.$get=["$cacheFactory",function(r){return r("templates")}]}var Wr=I("$compile");function Is(){}var Xi=new Is;pa.$inject=["$provide","$$sanitizeUriProvider"];function pa(r,y){var P={},H="Directive",X=/^\s*directive:\s*([\w-]+)\s+(.*)$/,ce=/(([\w-]+)(?::([^;]+))?;?)/,ie=bt("ngSrc,ngSrcset,src,srcset"),ne=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,re=/^(on[a-z]+|formaction)$/,me=Ht();function be(ze,Xe,Le){var Ie=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,Ne=Ht();return e(ze,function(Be,tt){if(Be=Be.trim(),Be in me){Ne[tt]=me[Be];return}var dt=Be.match(Ie);if(!dt)throw Wr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",Xe,tt,Be,Le?"controller bindings definition":"isolate scope definition");Ne[tt]={mode:dt[1][0],collection:dt[2]==="*",optional:dt[3]==="?",attrName:dt[4]||tt},dt[4]&&(me[Be]=Ne[tt])}),Ne}function xe(ze,Xe){var Le={isolateScope:null,bindToController:null};if(q(ze.scope)&&(ze.bindToController===!0?(Le.bindToController=be(ze.scope,Xe,!0),Le.isolateScope={}):Le.isolateScope=be(ze.scope,Xe,!1)),q(ze.bindToController)&&(Le.bindToController=be(ze.bindToController,Xe,!0)),Le.bindToController&&!ze.controller)throw Wr("noctrl","Cannot bind to controller without directive '{0}'s controller.",Xe);return Le}function ke(ze){var Xe=ze.charAt(0);if(!Xe||Xe!==E(Xe))throw Wr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",ze);if(ze!==ze.trim())throw Wr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",ze)}function Fe(ze){var Xe=ze.require||ze.controller&&ze.name;return!se(Xe)&&q(Xe)&&e(Xe,function(Le,Ie){var Ne=Le.match(ne),Be=Le.substring(Ne[0].length);Be||(Xe[Ie]=Ne[0]+Ie)}),Xe}function Oe(ze,Xe){if(ze&&!(ae(ze)&&/[EACM]/.test(ze)))throw Wr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",ze,Xe);return ze||"EA"}this.directive=function ze(Xe,Le){return or(Xe,"name"),er(Xe,"directive"),ae(Xe)?(ke(Xe),or(Le,"directiveFactory"),P.hasOwnProperty(Xe)||(P[Xe]=[],r.factory(Xe+H,["$injector","$exceptionHandler",function(Ie,Ne){var Be=[];return e(P[Xe],function(tt,dt){try{var nt=Ie.invoke(tt);K(nt)?nt={compile:$(nt)}:!nt.compile&&nt.link&&(nt.compile=$(nt.link)),nt.priority=nt.priority||0,nt.index=dt,nt.name=nt.name||Xe,nt.require=Fe(nt),nt.restrict=Oe(nt.restrict,Xe),nt.$$moduleName=tt.$$moduleName,Be.push(nt)}catch(gt){Ne(gt)}}),Be}])),P[Xe].push(Le)):e(Xe,i(ze)),this},this.component=function ze(Xe,Le){if(!ae(Xe))return e(Xe,i(_e(this,ze))),this;var Ie=Le.controller||function(){};function Ne(Be){function tt(gt){return K(gt)||se(gt)?function(Et,Rt){return Be.invoke(gt,this,{$element:Et,$attrs:Rt})}:gt}var dt=!Le.template&&!Le.templateUrl?"":Le.template,nt={controller:Ie,controllerAs:va(Le.controller)||Le.controllerAs||"$ctrl",template:tt(dt),templateUrl:tt(Le.templateUrl),transclude:Le.transclude,scope:{},bindToController:Le.bindings||{},restrict:"E",require:Le.require};return e(Le,function(gt,Et){Et.charAt(0)==="$"&&(nt[Et]=gt)}),nt}return e(Le,function(Be,tt){tt.charAt(0)==="$"&&(Ne[tt]=Be,K(Ie)&&(Ie[tt]=Be))}),Ne.$inject=["$injector"],this.directive(Xe,Ne)},this.aHrefSanitizationTrustedUrlList=function(ze){return L(ze)?(y.aHrefSanitizationTrustedUrlList(ze),this):y.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(ze){this.aHrefSanitizationTrustedUrlList=ze}}),this.imgSrcSanitizationTrustedUrlList=function(ze){return L(ze)?(y.imgSrcSanitizationTrustedUrlList(ze),this):y.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(ze){this.imgSrcSanitizationTrustedUrlList=ze}});var at=!0;this.debugInfoEnabled=function(ze){return L(ze)?(at=ze,this):at};var vt=!1;this.strictComponentBindingsEnabled=function(ze){return L(ze)?(vt=ze,this):vt};var st=10;this.onChangesTtl=function(ze){return arguments.length?(st=ze,this):st};var ot=!0;this.commentDirectivesEnabled=function(ze){return arguments.length?(ot=ze,this):ot};var it=!0;this.cssClassDirectivesEnabled=function(ze){return arguments.length?(it=ze,this):it};var ct=Ht();this.addPropertySecurityContext=function(ze,Xe,Le){var Ie=ze.toLowerCase()+"|"+Xe.toLowerCase();if(Ie in ct&&ct[Ie]!==Le)throw Wr("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",ze,Xe,ct[Ie],Le);return ct[Ie]=Le,this},(function(){function Xe(Le,Ie){e(Ie,function(Ne){ct[Ne.toLowerCase()]=Le})}Xe(Nr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Xe(Nr.CSS,["*|style"]),Xe(Nr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),Xe(Nr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),Xe(Nr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(ze,Xe,Le,Ie,Ne,Be,tt,dt,nt){var gt=/^\w/,Et=we.document.createElement("div"),Rt=ot,_t=it,Pt=st,Zt;function Gt(){try{if(!--Pt)throw Zt=void 0,Wr("infchng",`{0} $onChanges() iterations reached. Aborting!
`,st);tt.$apply(function(){for(var We=0,Qe=Zt.length;We<Qe;++We)try{Zt[We]()}catch(lt){Le(lt)}Zt=void 0})}finally{Pt++}}function cr(We,Qe){if(!We)return We;if(!ae(We))throw Wr("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',Qe,We.toString());for(var lt="",pt=$e(We),Ct=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,At=/\s/.test(pt)?Ct:/(,)/,$t=pt.split(At),ar=Math.floor($t.length/2),Ft=0;Ft<ar;Ft++){var Ot=Ft*2;lt+=dt.getTrustedMediaUrl($e($t[Ot])),lt+=" "+$e($t[Ot+1])}var Nt=$e($t[Ft*2]).split(/\s/);return lt+=dt.getTrustedMediaUrl($e(Nt[0])),Nt.length===2&&(lt+=" "+$e(Nt[1])),lt}function _r(We,Qe){if(Qe){var lt=Object.keys(Qe),pt,Ct,At;for(pt=0,Ct=lt.length;pt<Ct;pt++)At=lt[pt],this[At]=Qe[At]}else this.$attr={};this.$$element=We}_r.prototype={$normalize:On,$addClass:function(We){We&&We.length>0&&nt.addClass(this.$$element,We)},$removeClass:function(We){We&&We.length>0&&nt.removeClass(this.$$element,We)},$updateClass:function(We,Qe){var lt=Ai(We,Qe);lt&&lt.length&&nt.addClass(this.$$element,lt);var pt=Ai(Qe,We);pt&&pt.length&&nt.removeClass(this.$$element,pt)},$set:function(We,Qe,lt,pt){var Ct=this.$$element[0],At=di(Ct,We),$t=Ei(We),ar=We,Ft;At?(this.$$element.prop(We,Qe),pt=At):$t&&(this[$t]=Qe,ar=$t),this[We]=Qe,pt?this.$attr[We]=pt:(pt=this.$attr[We],pt||(this.$attr[We]=pt=ir(We,"-"))),Ft=ut(this.$$element),Ft==="img"&&We==="srcset"&&(this[We]=Qe=cr(Qe,"$set('srcset', value)")),lt!==!1&&(Qe===null||R(Qe)?this.$$element.removeAttr(pt):gt.test(pt)?At&&Qe===!1?this.$$element.removeAttr(pt):this.$$element.attr(pt,Qe):kr(this.$$element[0],pt,Qe));var Ot=this.$$observers;Ot&&e(Ot[ar],function(Nt){try{Nt(Qe)}catch(jt){Le(jt)}})},$observe:function(We,Qe){var lt=this,pt=lt.$$observers||(lt.$$observers=Ht()),Ct=pt[We]||(pt[We]=[]);return Ct.push(Qe),tt.$evalAsync(function(){!Ct.$$inter&&lt.hasOwnProperty(We)&&!R(lt[We])&&Qe(lt[We])}),function(){Ge(Ct,Qe)}}};function kr(We,Qe,lt){Et.innerHTML="<span "+Qe+">";var pt=Et.firstChild.attributes,Ct=pt[0];pt.removeNamedItem(Ct.name),Ct.value=lt,We.attributes.setNamedItem(Ct)}function Pr(We,Qe){try{We.addClass(Qe)}catch{}}var Gr=Xe.startSymbol(),Hr=Xe.endSymbol(),pn=Gr==="{{"&&Hr==="}}"?C:function(Qe){return Qe.replace(/\{\{/g,Gr).replace(/}}/g,Hr)},tn=/^ng(Attr|Prop|On)([A-Z].*)$/,cn=/^(.+)Start$/;return jr.$$addBindingInfo=at?function(Qe,lt){var pt=Qe.data("$binding")||[];se(lt)?pt=pt.concat(lt):pt.push(lt),Qe.data("$binding",pt)}:b,jr.$$addBindingClass=at?function(Qe){Pr(Qe,"ng-binding")}:b,jr.$$addScopeInfo=at?function(Qe,lt,pt,Ct){var At=pt?Ct?"$isolateScopeNoTemplate":"$isolateScope":"$scope";Qe.data(At,lt)}:b,jr.$$addScopeClass=at?function(Qe,lt){Pr(Qe,lt?"ng-isolate-scope":"ng-scope")}:b,jr.$$createComment=function(We,Qe){var lt="";return at&&(lt=" "+(We||"")+": ",Qe&&(lt+=Qe+" ")),we.document.createComment(lt)},jr;function jr(We,Qe,lt,pt,Ct){We instanceof g||(We=g(We));var At=Fi(We,Qe,We,lt,pt,Ct);jr.$$addScopeClass(We);var $t=null;return function(Ft,Ot,Nt){if(!We)throw Wr("multilink","This element has already been linked.");or(Ft,"scope"),Ct&&Ct.needsNewScope&&(Ft=Ft.$parent.$new()),Nt=Nt||{};var jt=Nt.parentBoundTranscludeFn,Tt=Nt.transcludeControllers,Qt=Nt.futureParentElement;jt&&jt.$$boundTransclude&&(jt=jt.$$boundTransclude),$t||($t=$i(Qt));var br;if($t!=="html"?br=g(Kl($t,g("<div></div>").append(We).html())):Ot?br=ci.clone.call(We):br=We,Tt)for(var Dr in Tt)br.data("$"+Dr+"Controller",Tt[Dr].instance);return jr.$$addScopeInfo(br,Ft),Ot&&Ot(br,Ft),At&&At(Ft,br,br,jt),Ot||(We=At=null),br}}function $i(We){var Qe=We&&We[0];return Qe&&ut(Qe)!=="foreignobject"&&m.call(Qe).match(/SVG/)?"svg":"html"}function Fi(We,Qe,lt,pt,Ct,At){for(var $t=[],ar=se(We)||We instanceof g,Ft,Ot,Nt,jt,Tt,Qt,br,Dr=0;Dr<We.length;Dr++)Ft=new _r,M===11&&Gl(We,Dr,ar),Ot=bi(We[Dr],[],Ft,Dr===0?pt:void 0,Ct),Nt=Ot.length?Iu(Ot,We[Dr],Ft,Qe,lt,null,[],[],At):null,Nt&&Nt.scope&&jr.$$addScopeClass(Ft.$$element),Tt=Nt&&Nt.terminal||!(jt=We[Dr].childNodes)||!jt.length?null:Fi(jt,Nt?(Nt.transcludeOnThisElement||!Nt.templateOnThisElement)&&Nt.transclude:Qe),(Nt||Tt)&&($t.push(Dr,Nt,Tt),Qt=!0,br=br||Nt),At=null;return Qt?Tr:null;function Tr(yr,wr,Bt,Rr){var Ar,qr,Kr,Yr,Lr,gn,nn,En,ei;if(br){var mo=wr.length;for(ei=new Array(mo),Lr=0;Lr<$t.length;Lr+=3)nn=$t[Lr],ei[nn]=wr[nn]}else ei=wr;for(Lr=0,gn=$t.length;Lr<gn;)Kr=ei[$t[Lr++]],Ar=$t[Lr++],qr=$t[Lr++],Ar?(Ar.scope?(Yr=yr.$new(),jr.$$addScopeInfo(g(Kr),Yr)):Yr=yr,Ar.transcludeOnThisElement?En=qn(yr,Ar.transclude,Rr):!Ar.templateOnThisElement&&Rr?En=Rr:!Rr&&Qe?En=qn(yr,Qe):En=null,Ar(qr,Yr,Kr,Bt,En)):qr&&qr(yr,Kr.childNodes,void 0,Rr)}}function Gl(We,Qe,lt){var pt=We[Qe],Ct=pt.parentNode,At;if(pt.nodeType===rr)for(;At=Ct?pt.nextSibling:We[Qe+1],!(!At||At.nodeType!==rr);)pt.nodeValue=pt.nodeValue+At.nodeValue,At.parentNode&&At.parentNode.removeChild(At),lt&&At===We[Qe+1]&&We.splice(Qe+1,1)}function qn(We,Qe,lt){function pt($t,ar,Ft,Ot,Nt){return $t||($t=We.$new(!1,Nt),$t.$$transcluded=!0),Qe($t,ar,{parentBoundTranscludeFn:lt,transcludeControllers:Ft,futureParentElement:Ot})}var Ct=pt.$$slots=Ht();for(var At in Qe.$$slots)Qe.$$slots[At]?Ct[At]=qn(We,Qe.$$slots[At],lt):Ct[At]=null;return pt}function bi(We,Qe,lt,pt,Ct){var At=We.nodeType,$t=lt.$attr,ar,Ft,Ot;switch(At){case sn:Ft=ut(We),os(Qe,On(Ft),"E",pt,Ct);for(var Nt,jt,Tt,Qt,br,Dr=We.attributes,Tr=0,yr=Dr&&Dr.length;Tr<yr;Tr++){var wr=!1,Bt=!1,Rr=!1,Ar=!1,qr=!1,Kr;Nt=Dr[Tr],jt=Nt.name,Qt=Nt.value,Tt=On(jt.toLowerCase()),(br=Tt.match(tn))?(Rr=br[1]==="Attr",Ar=br[1]==="Prop",qr=br[1]==="On",jt=jt.replace(ga,"").toLowerCase().substr(4+br[1].length).replace(/_(.)/g,function(Yr,Lr){return Lr.toUpperCase()})):(Kr=Tt.match(cn))&&ed(Kr[1])&&(wr=jt,Bt=jt.substr(0,jt.length-5)+"end",jt=jt.substr(0,jt.length-6)),Ar||qr?(lt[Tt]=Qt,$t[Tt]=Nt.name,Ar?sd(We,Qe,Tt,jt):ld(Qe,Tt,jt)):(Tt=On(jt.toLowerCase()),$t[Tt]=jt,(Rr||!lt.hasOwnProperty(Tt))&&(lt[Tt]=Qt,di(We,Tt)&&(lt[Tt]=!0)),ud(We,Qe,Qt,Tt,Rr),os(Qe,Tt,"A",pt,Ct,wr,Bt))}if(Ft==="input"&&We.getAttribute("type")==="hidden"&&We.setAttribute("autocomplete","off"),!_t)break;if(Ot=We.className,q(Ot)&&(Ot=Ot.animVal),ae(Ot)&&Ot!=="")for(;ar=ce.exec(Ot);)Tt=On(ar[2]),os(Qe,Tt,"C",pt,Ct)&&(lt[Tt]=$e(ar[3])),Ot=Ot.substr(ar.index+ar[0].length);break;case rr:nd(Qe,We.nodeValue);break;case Cn:if(!Rt)break;Yl(We,Qe,lt,pt,Ct);break}return Qe.sort(rd),Qe}function Yl(We,Qe,lt,pt,Ct){try{var At=X.exec(We.nodeValue);if(At){var $t=On(At[1]);os(Qe,$t,"M",pt,Ct)&&(lt[$t]=$e(At[2]))}}catch{}}function Xo(We,Qe,lt){var pt=[],Ct=0;if(Qe&&We.hasAttribute&&We.hasAttribute(Qe))do{if(!We)throw Wr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",Qe,lt);We.nodeType===sn&&(We.hasAttribute(Qe)&&Ct++,We.hasAttribute(lt)&&Ct--),pt.push(We),We=We.nextSibling}while(Ct>0);else pt.push(We);return g(pt)}function Tu(We,Qe,lt){return function(Ct,At,$t,ar,Ft){return At=Xo(At[0],Qe,lt),We(Ct,At,$t,ar,Ft)}}function ql(We,Qe,lt,pt,Ct,At){var $t;return We?jr(Qe,lt,pt,Ct,At):function(){return $t||($t=jr(Qe,lt,pt,Ct,At),Qe=lt=At=null),$t.apply(this,arguments)}}function Iu(We,Qe,lt,pt,Ct,At,$t,ar,Ft){Ft=Ft||{};for(var Ot=-Number.MAX_VALUE,Nt=Ft.newScopeDirective,jt=Ft.controllerDirectives,Tt=Ft.newIsolateScopeDirective,Qt=Ft.templateDirective,br=Ft.nonTlbTranscludeDirective,Dr=!1,Tr=!1,yr=Ft.hasElementTranscludeDirective,wr=lt.$$element=g(Qe),Bt,Rr,Ar,qr=At,Kr=pt,Yr,Lr=!1,gn=!1,nn,En=0,ei=We.length;En<ei;En++){Bt=We[En];var mo=Bt.$$start,Jl=Bt.$$end;if(mo&&(wr=Xo(Qe,mo,Jl)),Ar=void 0,Ot>Bt.priority)break;if(nn=Bt.scope,nn&&(Bt.templateUrl||(q(nn)?(go("new/isolated scope",Tt||Nt,Bt,wr),Tt=Bt):go("new/isolated scope",Tt,Bt,wr)),Nt=Nt||Bt),Rr=Bt.name,!Lr&&(Bt.replace&&(Bt.templateUrl||Bt.template)||Bt.transclude&&!Bt.$$tlb)){for(var vo,cd=En+1;vo=We[cd++];)if(vo.transclude&&!vo.$$tlb||vo.replace&&(vo.templateUrl||vo.template)){gn=!0;break}Lr=!0}if(!Bt.templateUrl&&Bt.controller&&(jt=jt||Ht(),go("'"+Rr+"' controller",jt[Rr],Bt,wr),jt[Rr]=Bt),nn=Bt.transclude,nn)if(Dr=!0,Bt.$$tlb||(go("transclusion",br,Bt,wr),br=Bt),nn==="element")yr=!0,Ot=Bt.priority,Ar=wr,wr=lt.$$element=g(jr.$$createComment(Rr,lt[Rr])),Qe=wr[0],as(Ct,de(Ar),Qe),Kr=ql(gn,Ar,pt,Ot,qr&&qr.name,{nonTlbTranscludeDirective:br});else{var ui=Ht();if(!q(nn))Ar=g(So(Qe)).contents();else{Ar=we.document.createDocumentFragment();var Fu=Ht(),Xl=Ht();e(nn,function(Ur,Mr){var Kn=Ur.charAt(0)==="?";Ur=Kn?Ur.substring(1):Ur,Fu[Ur]=Mr,ui[Mr]=null,Xl[Mr]=Kn}),e(wr.contents(),function(Ur){var Mr=Fu[On(ut(Ur))];Mr?(Xl[Mr]=!0,ui[Mr]=ui[Mr]||we.document.createDocumentFragment(),ui[Mr].appendChild(Ur)):Ar.appendChild(Ur)}),e(Xl,function(Ur,Mr){if(!Ur)throw Wr("reqslot","Required transclusion slot `{0}` was not filled.",Mr)});for(var Zl in ui)if(ui[Zl]){var dd=g(ui[Zl].childNodes);ui[Zl]=ql(gn,dd,pt)}Ar=g(Ar.childNodes)}wr.empty(),Kr=ql(gn,Ar,pt,void 0,void 0,{needsNewScope:Bt.$$isolateScope||Bt.$$newScope}),Kr.$$slots=ui}if(Bt.template)if(Tr=!0,go("template",Qt,Bt,wr),Qt=Bt,nn=K(Bt.template)?Bt.template(wr,lt):Bt.template,nn=pn(nn),Bt.replace){if(qr=Bt,rn(nn)?Ar=[]:Ar=Ri(Kl(Bt.templateNamespace,$e(nn))),Qe=Ar[0],Ar.length!==1||Qe.nodeType!==sn)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",Rr,"");as(Ct,wr,Qe);var Ou={$attr:{}},Nu=bi(Qe,[],Ou),fd=We.splice(En+1,We.length-(En+1));(Tt||Nt)&&Pu(Nu,Tt,Nt),We=We.concat(Nu).concat(fd),Du(lt,Ou),ei=We.length}else wr.html(nn);if(Bt.templateUrl)Tr=!0,go("template",Qt,Bt,wr),Qt=Bt,Bt.replace&&(qr=Bt),Oi=td(We.splice(En,We.length-En),wr,lt,Ct,Dr&&Kr,$t,ar,{controllerDirectives:jt,newScopeDirective:Nt!==Bt&&Nt,newIsolateScopeDirective:Tt,templateDirective:Qt,nonTlbTranscludeDirective:br}),ei=We.length;else if(Bt.compile)try{Yr=Bt.compile(wr,lt,Kr);var Ql=Bt.$$originalDirective||Bt;K(Yr)?Bu(null,_e(Ql,Yr),mo,Jl):Yr&&Bu(_e(Ql,Yr.pre),_e(Ql,Yr.post),mo,Jl)}catch(Ur){Le(Ur,wt(wr))}Bt.terminal&&(Oi.terminal=!0,Ot=Math.max(Ot,Bt.priority))}return Oi.scope=Nt&&Nt.scope===!0,Oi.transcludeOnThisElement=Dr,Oi.templateOnThisElement=Tr,Oi.transclude=Kr,Ft.hasElementTranscludeDirective=yr,Oi;function Bu(Ur,Mr,Kn,eu){Ur&&(Kn&&(Ur=Tu(Ur,Kn,eu)),Ur.require=Bt.require,Ur.directiveName=Rr,(Tt===Bt||Bt.$$isolateScope)&&(Ur=Lu(Ur,{isolateScope:!0})),$t.push(Ur)),Mr&&(Kn&&(Mr=Tu(Mr,Kn,eu)),Mr.require=Bt.require,Mr.directiveName=Rr,(Tt===Bt||Bt.$$isolateScope)&&(Mr=Lu(Mr,{isolateScope:!0})),ar.push(Mr))}function Oi(Ur,Mr,Kn,eu,bo){var yi,Hu,Vn,ti,Qo,ri,yo,An,Ni,tu;Qe===Kn?(Ni=lt,An=lt.$$element):(An=g(Kn),Ni=new _r(An,lt)),Qo=Mr,Tt?ti=Mr.$new(!0):Nt&&(Qo=Mr.$parent),bo&&(yo=pd,yo.$$boundTransclude=bo,yo.isSlotFilled=function(Rn){return!!bo.$$slots[Rn]}),jt&&(ri=Qc(An,Ni,yo,jt,ti,Mr,Tt)),Tt&&(jr.$$addScopeInfo(An,ti,!0,!(Qt&&(Qt===Tt||Qt===Tt.$$originalDirective))),jr.$$addScopeClass(An,!0),ti.$$isolateBindings=Tt.$$isolateBindings,tu=$u(Mr,Ni,ti,ti.$$isolateBindings,Tt),tu.removeWatches&&ti.$on("$destroy",tu.removeWatches));for(var Uu in ri){var ru=jt[Uu],ea=ri[Uu],hd=ru.$$bindings.bindToController;ea.instance=ea(),An.data("$"+ru.name+"Controller",ea.instance),ea.bindingInfo=$u(Qo,Ni,ea.instance,hd,ru)}for(e(jt,function(Rn,on){var Tn=Rn.require;Rn.bindToController&&!se(Tn)&&q(Tn)&&t(ri[on].instance,Zo(on,Tn,An,ri))}),e(ri,function(Rn){var on=Rn.instance;if(K(on.$onChanges))try{on.$onChanges(Rn.bindingInfo.initialChanges)}catch(Tn){Le(Tn)}if(K(on.$onInit))try{on.$onInit()}catch(Tn){Le(Tn)}K(on.$doCheck)&&(Qo.$watch(function(){on.$doCheck()}),on.$doCheck()),K(on.$onDestroy)&&Qo.$on("$destroy",function(){on.$onDestroy()})}),yi=0,Hu=$t.length;yi<Hu;yi++)Vn=$t[yi],Mu(Vn,Vn.isolateScope?ti:Mr,An,Ni,Vn.require&&Zo(Vn.directiveName,Vn.require,An,ri),yo);var ls=Mr;for(Tt&&(Tt.template||Tt.templateUrl===null)&&(ls=ti),Ur&&Ur(ls,Kn.childNodes,void 0,bo),yi=ar.length-1;yi>=0;yi--)Vn=ar[yi],Mu(Vn,Vn.isolateScope?ti:Mr,An,Ni,Vn.require&&Zo(Vn.directiveName,Vn.require,An,ri),yo);e(ri,function(Rn){var on=Rn.instance;K(on.$postLink)&&on.$postLink()});function pd(Rn,on,Tn,us){var nu;if(z(Rn)||(us=Tn,Tn=on,on=Rn,Rn=void 0),yr&&(nu=ri),Tn||(Tn=yr?An.parent():An),us){var iu=bo.$$slots[us];if(iu)return iu(Rn,on,nu,Tn,ls);if(R(iu))throw Wr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',us,wt(An))}else return bo(Rn,on,nu,Tn,ls)}}}function Zo(We,Qe,lt,pt){var Ct;if(ae(Qe)){var At=Qe.match(ne),$t=Qe.substring(At[0].length),ar=At[1]||At[3],Ft=At[2]==="?";if(ar==="^^"?lt=lt.parent():(Ct=pt&&pt[$t],Ct=Ct&&Ct.instance),!Ct){var Ot="$"+$t+"Controller";ar==="^^"&&lt[0]&&lt[0].nodeType===hr?Ct=null:Ct=ar?lt.inheritedData(Ot):lt.data(Ot)}if(!Ct&&!Ft)throw Wr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",$t,We)}else if(se(Qe)){Ct=[];for(var Nt=0,jt=Qe.length;Nt<jt;Nt++)Ct[Nt]=Zo(We,Qe[Nt],lt,pt)}else q(Qe)&&(Ct={},e(Qe,function(Tt,Qt){Ct[Qt]=Zo(We,Tt,lt,pt)}));return Ct||null}function Qc(We,Qe,lt,pt,Ct,At,$t){var ar=Ht();for(var Ft in pt){var Ot=pt[Ft],Nt={$scope:Ot===$t||Ot.$$isolateScope?Ct:At,$element:We,$attrs:Qe,$transclude:lt},jt=Ot.controller;jt==="@"&&(jt=Qe[Ot.name]);var Tt=Be(jt,Nt,!0,Ot.controllerAs);ar[Ot.name]=Tt,We.data("$"+Ot.name+"Controller",Tt.instance)}return ar}function Pu(We,Qe,lt){for(var pt=0,Ct=We.length;pt<Ct;pt++)We[pt]=f(We[pt],{$$isolateScope:Qe,$$newScope:lt})}function os(We,Qe,lt,pt,Ct,At,$t){if(Qe===Ct)return null;var ar=null;if(P.hasOwnProperty(Qe)){for(var Ft,Ot=ze.get(Qe+H),Nt=0,jt=Ot.length;Nt<jt;Nt++)if(Ft=Ot[Nt],(R(pt)||pt>Ft.priority)&&Ft.restrict.indexOf(lt)!==-1){if(At&&(Ft=f(Ft,{$$start:At,$$end:$t})),!Ft.$$bindings){var Tt=Ft.$$bindings=xe(Ft,Ft.name);q(Tt.isolateScope)&&(Ft.$$isolateBindings=Tt.isolateScope)}We.push(Ft),ar=Ft}}return ar}function ed(We){if(P.hasOwnProperty(We)){for(var Qe,lt=ze.get(We+H),pt=0,Ct=lt.length;pt<Ct;pt++)if(Qe=lt[pt],Qe.multiElement)return!0}return!1}function Du(We,Qe){var lt=Qe.$attr,pt=We.$attr;e(We,function(Ct,At){At.charAt(0)!=="$"&&(Qe[At]&&Qe[At]!==Ct&&(Ct.length?Ct+=(At==="style"?";":" ")+Qe[At]:Ct=Qe[At]),We.$set(At,Ct,!0,lt[At]))}),e(Qe,function(Ct,At){!We.hasOwnProperty(At)&&At.charAt(0)!=="$"&&(We[At]=Ct,At!=="class"&&At!=="style"&&(pt[At]=lt[At]))})}function td(We,Qe,lt,pt,Ct,At,$t,ar){var Ft=[],Ot,Nt,jt=Qe[0],Tt=We.shift(),Qt=f(Tt,{templateUrl:null,transclude:null,replace:null,$$originalDirective:Tt}),br=K(Tt.templateUrl)?Tt.templateUrl(Qe,lt):Tt.templateUrl,Dr=Tt.templateNamespace;return Qe.empty(),Ie(br).then(function(Tr){var yr,wr,Bt,Rr;if(Tr=pn(Tr),Tt.replace){if(rn(Tr)?Bt=[]:Bt=Ri(Kl(Dr,$e(Tr))),yr=Bt[0],Bt.length!==1||yr.nodeType!==sn)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",Tt.name,br);wr={$attr:{}},as(pt,Qe,yr);var Ar=bi(yr,[],wr);q(Tt.scope)&&Pu(Ar,!0),We=Ar.concat(We),Du(lt,wr)}else yr=jt,Qe.html(Tr);for(We.unshift(Qt),Ot=Iu(We,yr,lt,Ct,Qe,Tt,At,$t,ar),e(pt,function(En,ei){En===yr&&(pt[ei]=Qe[0])}),Nt=Fi(Qe[0].childNodes,Ct);Ft.length;){var qr=Ft.shift(),Kr=Ft.shift(),Yr=Ft.shift(),Lr=Ft.shift(),gn=Qe[0];if(!qr.$$destroyed){if(Kr!==jt){var nn=Kr.className;ar.hasElementTranscludeDirective&&Tt.replace||(gn=So(yr)),as(Yr,g(Kr),gn),Pr(g(gn),nn)}Ot.transcludeOnThisElement?Rr=qn(qr,Ot.transclude,Lr):Rr=Lr,Ot(Nt,qr,gn,pt,Rr)}}Ft=null}).catch(function(Tr){B(Tr)&&Le(Tr)}),function(yr,wr,Bt,Rr,Ar){var qr=Ar;wr.$$destroyed||(Ft?Ft.push(wr,Bt,Rr,qr):(Ot.transcludeOnThisElement&&(qr=qn(wr,Ot.transclude,Ar)),Ot(Nt,wr,Bt,Rr,qr)))}}function rd(We,Qe){var lt=Qe.priority-We.priority;return lt!==0?lt:We.name!==Qe.name?We.name<Qe.name?-1:1:We.index-Qe.index}function go(We,Qe,lt,pt){function Ct(At){return At?" (module: "+At+")":""}if(Qe)throw Wr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",Qe.name,Ct(Qe.$$moduleName),lt.name,Ct(lt.$$moduleName),We,wt(pt))}function nd(We,Qe){var lt=Xe(Qe,!0);lt&&We.push({priority:0,compile:function(Ct){var At=Ct.parent(),$t=!!At.length;return $t&&jr.$$addBindingClass(At),function(Ft,Ot){var Nt=Ot.parent();$t||jr.$$addBindingClass(Nt),jr.$$addBindingInfo(Nt,lt.expressions),Ft.$watch(lt,function(Tt){Ot[0].nodeValue=Tt})}}})}function Kl(We,Qe){switch(We=E(We||"html"),We){case"svg":case"math":var lt=we.document.createElement("div");return lt.innerHTML="<"+We+">"+Qe+"</"+We+">",lt.childNodes[0].childNodes;default:return Qe}}function id(We,Qe){if(Qe==="srcdoc")return dt.HTML;if(Qe==="src"||Qe==="ngSrc")return["img","video","audio","source","track"].indexOf(We)===-1?dt.RESOURCE_URL:dt.MEDIA_URL;if(Qe==="xlinkHref")return We==="image"?dt.MEDIA_URL:We==="a"?dt.URL:dt.RESOURCE_URL;if(We==="form"&&Qe==="action"||We==="base"&&Qe==="href"||We==="link"&&Qe==="href")return dt.RESOURCE_URL;if(We==="a"&&(Qe==="href"||Qe==="ngHref"))return dt.URL}function od(We,Qe){var lt=Qe.toLowerCase();return ct[We+"|"+lt]||ct["*|"+lt]}function ad(We){return cr(dt.valueOf(We),"ng-prop-srcset")}function sd(We,Qe,lt,pt){if(re.test(pt))throw Wr("nodomevents","Property bindings for HTML DOM event properties are disallowed");var Ct=ut(We),At=od(Ct,pt),$t=C;pt==="srcset"&&(Ct==="img"||Ct==="source")?$t=ad:At&&($t=dt.getTrusted.bind(dt,At)),Qe.push({priority:100,compile:function(Ft,Ot){var Nt=Ne(Ot[lt]),jt=Ne(Ot[lt],function(Qt){return dt.valueOf(Qt)});return{pre:function(Qt,br){function Dr(){var Tr=Nt(Qt);br[0][pt]=$t(Tr)}Dr(),Qt.$watch(jt,Dr)}}}})}function ld(We,Qe,lt){We.push(gu(Ne,tt,Le,Qe,lt,!1))}function ud(We,Qe,lt,pt,Ct){var At=ut(We),$t=id(At,pt),ar=!Ct,Ft=ie[pt]||Ct,Ot=Xe(lt,ar,$t,Ft);if(Ot){if(pt==="multiple"&&At==="select")throw Wr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",wt(We));if(re.test(pt))throw Wr("nodomevents","Interpolations for HTML DOM event attributes are disallowed");Qe.push({priority:100,compile:function(){return{pre:function(jt,Tt,Qt){var br=Qt.$$observers||(Qt.$$observers=Ht()),Dr=Qt[pt];Dr!==lt&&(Ot=Dr&&Xe(Dr,!0,$t,Ft),lt=Dr),Ot&&(Qt[pt]=Ot(jt),(br[pt]||(br[pt]=[])).$$inter=!0,(Qt.$$observers&&Qt.$$observers[pt].$$scope||jt).$watch(Ot,function(yr,wr){pt==="class"&&yr!==wr?Qt.$updateClass(yr,wr):Qt.$set(pt,yr)}))}}}})}}function as(We,Qe,lt){var pt=Qe[0],Ct=Qe.length,At=pt.parentNode,$t,ar;if(We){for($t=0,ar=We.length;$t<ar;$t++)if(We[$t]===pt){We[$t++]=lt;for(var Ft=$t,Ot=Ft+Ct-1,Nt=We.length;Ft<Nt;Ft++,Ot++)Ot<Nt?We[Ft]=We[Ot]:delete We[Ft];We.length-=Ct-1,We.context===pt&&(We.context=lt);break}}At&&At.replaceChild(lt,pt);var jt=we.document.createDocumentFragment();for($t=0;$t<Ct;$t++)jt.appendChild(Qe[$t]);for(g.hasData(pt)&&(g.data(lt,g.data(pt)),g(pt).off("$destroy")),g.cleanData(jt.querySelectorAll("*")),$t=1;$t<Ct;$t++)delete Qe[$t];Qe[0]=lt,Qe.length=1}function Lu(We,Qe){return t(function(){return We.apply(null,arguments)},We,Qe)}function Mu(We,Qe,lt,pt,Ct,At){try{We(Qe,lt,pt,Ct,At)}catch($t){Le($t,wt(lt))}}function ss(We,Qe){if(vt)throw Wr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",We,Qe)}function $u(We,Qe,lt,pt,Ct){var At=[],$t={},ar;e(pt,function(jt,Tt){var Qt=jt.attrName,br=jt.optional,Dr=jt.mode,Tr,yr,wr,Bt,Rr;switch(Dr){case"@":!br&&!_.call(Qe,Qt)&&(ss(Qt,Ct.name),lt[Tt]=Qe[Qt]=void 0),Rr=Qe.$observe(Qt,function(Yr){if(ae(Yr)||le(Yr)){var Lr=lt[Tt];Ft(Tt,Yr,Lr),lt[Tt]=Yr}}),Qe.$$observers[Qt].$$scope=We,Tr=Qe[Qt],ae(Tr)?lt[Tt]=Xe(Tr)(We):le(Tr)&&(lt[Tt]=Tr),$t[Tt]=new Zi(Xi,lt[Tt]),At.push(Rr);break;case"=":if(!_.call(Qe,Qt)){if(br)break;ss(Qt,Ct.name),Qe[Qt]=void 0}if(br&&!Qe[Qt])break;yr=Ne(Qe[Qt]),yr.literal?Bt=Mt:Bt=ft,wr=yr.assign||function(){throw Tr=lt[Tt]=yr(We),Wr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",Qe[Qt],Qt,Ct.name)},Tr=lt[Tt]=yr(We);var Ar=function(Lr){return Bt(Lr,lt[Tt])||(Bt(Lr,Tr)?wr(We,Lr=lt[Tt]):lt[Tt]=Lr),Tr=Lr,Tr};Ar.$stateful=!0,jt.collection?Rr=We.$watchCollection(Qe[Qt],Ar):Rr=We.$watch(Ne(Qe[Qt],Ar),null,yr.literal),At.push(Rr);break;case"<":if(!_.call(Qe,Qt)){if(br)break;ss(Qt,Ct.name),Qe[Qt]=void 0}if(br&&!Qe[Qt])break;yr=Ne(Qe[Qt]);var qr=yr.literal,Kr=lt[Tt]=yr(We);$t[Tt]=new Zi(Xi,lt[Tt]),Rr=We[jt.collection?"$watchCollection":"$watch"](yr,function(Lr,gn){if(gn===Lr){if(gn===Kr||qr&&Mt(gn,Kr))return;gn=Kr}Ft(Tt,Lr,gn),lt[Tt]=Lr}),At.push(Rr);break;case"&":if(!br&&!_.call(Qe,Qt)&&ss(Qt,Ct.name),yr=Qe.hasOwnProperty(Qt)?Ne(Qe[Qt]):b,yr===b&&br)break;lt[Tt]=function(Yr){return yr(We,Yr)};break}});function Ft(Nt,jt,Tt){K(lt.$onChanges)&&!ft(jt,Tt)&&(Zt||(We.$$postDigest(Gt),Zt=[]),ar||(ar={},Zt.push(Ot)),ar[Nt]&&(Tt=ar[Nt].previousValue),ar[Nt]=new Zi(Tt,jt))}function Ot(){lt.$onChanges(ar),ar=void 0}return{initialChanges:$t,removeWatches:At.length&&function(){for(var jt=0,Tt=At.length;jt<Tt;++jt)At[jt]()}}}}]}function Zi(r,y){this.previousValue=r,this.currentValue=y}Zi.prototype.isFirstChange=function(){return this.previousValue===Xi};var ga=/^((?:x|data)[:\-_])/i,ki=/[:\-_]+(.)/g;function On(r){return r.replace(ga,"").replace(ki,function(y,P,H){return H?P.toUpperCase():P})}function lu(r,y,P,H){}function uu(r,y,P,H,X){}function Ai(r,y){var P="",H=r.split(/\s+/),X=y.split(/\s+/);e:for(var ce=0;ce<H.length;ce++){for(var ie=H[ce],ne=0;ne<X.length;ne++)if(ie===X[ne])continue e;P+=(P.length>0?" ":"")+ie}return P}function Ri(r){r=g(r);var y=r.length;if(y<=1)return r;for(;y--;){var P=r[y];(P.nodeType===Cn||P.nodeType===rr&&P.nodeValue.trim()==="")&&J.call(r,y,1)}return r}var Qi=I("$controller"),ma=/^(\S+)(\s+as\s+([\w$]+))?$/;function va(r,y){if(y&&ae(y))return y;if(ae(r)){var P=ma.exec(r);if(P)return P[3]}}function Ps(){var r={};this.has=function(y){return r.hasOwnProperty(y)},this.register=function(y,P){er(y,"controller"),q(y)?t(r,y):r[y]=P},this.$get=["$injector",function(y){return function(X,ce,ie,ne){var re,me,be,xe;if(ie=ie===!0,ne&&ae(ne)&&(xe=ne),ae(X)){if(me=X.match(ma),!me)throw Qi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",X);if(be=me[1],xe=xe||me[3],X=r.hasOwnProperty(be)?r[be]:lr(ce.$scope,be,!0),!X)throw Qi("ctrlreg","The controller with the name '{0}' is not registered.",be);In(X,be,!0)}if(ie){var ke=(se(X)?X[X.length-1]:X).prototype;return re=Object.create(ke||null),xe&&P(ce,xe,re,be||X.name),t(function(){var Oe=y.invoke(X,re,ce,be);return Oe!==re&&(q(Oe)||K(Oe))&&(re=Oe,xe&&P(ce,xe,re,be||X.name)),re},{instance:re,identifier:xe})}return re=y.instantiate(X,ce,be),xe&&P(ce,xe,re,be||X.name),re};function P(H,X,ce,ie){if(!(H&&q(H.$scope)))throw I("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",ie,X);H.$scope[X]=ce}}]}function Io(){this.$get=["$window",function(r){return g(r.document)}]}function Po(){this.$get=["$document","$rootScope",function(r,y){var P=r[0],H=P&&P.hidden;r.on("visibilitychange",X),y.$on("$destroy",function(){r.off("visibilitychange",X)});function X(){H=P.hidden}return function(){return H}}]}function Do(){this.$get=["$log",function(r){return function(y,P){r.error.apply(r,arguments)}}]}var Ds=function(){this.$get=["$document",function(r){return function(y){return y?!y.nodeType&&y instanceof g&&(y=y[0]):y=r[0].body,y.offsetWidth+1}}]},ba="application/json",Lo={"Content-Type":ba+";charset=utf-8"},Ls=/^\[|^\{(?!\{)/,Ms={"[":/]$/,"{":/}$/},$s=/^\)]\}',?\n/,eo=I("$http");function Mo(r){return q(r)?Ee(r)?r.toISOString():je(r):r}function Fs(){this.$get=function(){return function(y){if(!y)return"";var P=[];return o(y,function(H,X){H===null||R(H)||K(H)||(se(H)?e(H,function(ce){P.push(qt(X)+"="+qt(Mo(ce)))}):P.push(qt(X)+"="+qt(Mo(H))))}),P.join("&")}}}function Os(){this.$get=function(){return function(y){if(!y)return"";var P=[];return H(y,"",!0),P.join("&");function H(X,ce,ie){se(X)?e(X,function(ne,re){H(ne,ce+"["+(q(ne)?re:"")+"]")}):q(X)&&!Ee(X)?o(X,function(ne,re){H(ne,ce+(ie?"":"[")+re+(ie?"":"]"))}):(K(X)&&(X=X()),P.push(qt(ce)+"="+(X==null?"":qt(Mo(X)))))}}}}function to(r,y){if(ae(r)){var P=r.replace($s,"").trim();if(P){var H=y("Content-Type"),X=H&&H.indexOf(ba)===0;if(X||Ns(P))try{r=Ue(P)}catch(ce){if(!X)return r;throw eo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',r,ce)}}}return r}function Ns(r){var y=r.match(Ls);return y&&Ms[y[0]].test(r)}function ya(r){var y=Ht(),P;function H(X,ce){X&&(y[X]=y[X]?y[X]+", "+ce:ce)}return ae(r)?e(r.split(`
`),function(X){P=X.indexOf(":"),H(E($e(X.substr(0,P))),$e(X.substr(P+1)))}):q(r)&&e(r,function(X,ce){H(E(ce),$e(X))}),y}function Ln(r){var y;return function(P){if(y||(y=ya(r)),P){var H=y[E(P)];return H===void 0&&(H=null),H}return y}}function Zn(r,y,P,H){return K(H)?H(r,y,P):(e(H,function(X){r=X(r,y,P)}),r)}function ro(r){return 200<=r&&r<300}function Bs(){var r=this.defaults={transformResponse:[to],transformRequest:[function(X){return q(X)&&!Z(X)&&!Y(X)&&!oe(X)?je(X):X}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ye(Lo),put:ye(Lo),patch:ye(Lo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},y=!1;this.useApplyAsync=function(X){return L(X)?(y=!!X,this):y};var P=this.interceptors=[],H=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(X){this.xsrfTrustedOrigins=X}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(X,ce,ie,ne,re,me,be,xe){var ke=ne("$http");r.paramSerializer=ae(r.paramSerializer)?be.get(r.paramSerializer):r.paramSerializer;var Fe=[];e(P,function(ze){Fe.unshift(ae(ze)?be.get(ze):be.invoke(ze))});var Oe=za(H);function at(ze){if(!q(ze))throw I("$http")("badreq","Http request configuration must be an object.  Received: {0}",ze);if(!ae(xe.valueOf(ze.url)))throw I("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",ze.url);var Xe=t({method:"get",transformRequest:r.transformRequest,transformResponse:r.transformResponse,paramSerializer:r.paramSerializer,jsonpCallbackParam:r.jsonpCallbackParam},ze);Xe.headers=nt(ze),Xe.method=d(Xe.method),Xe.paramSerializer=ae(Xe.paramSerializer)?be.get(Xe.paramSerializer):Xe.paramSerializer,X.$$incOutstandingRequestCount("$http");var Le=[],Ie=[],Ne=me.resolve(Xe);return e(Fe,function(Rt){(Rt.request||Rt.requestError)&&Le.unshift(Rt.request,Rt.requestError),(Rt.response||Rt.responseError)&&Ie.push(Rt.response,Rt.responseError)}),Ne=Be(Ne,Le),Ne=Ne.then(gt),Ne=Be(Ne,Ie),Ne=Ne.finally(tt),Ne;function Be(Rt,_t){for(var Pt=0,Zt=_t.length;Pt<Zt;){var Gt=_t[Pt++],cr=_t[Pt++];Rt=Rt.then(Gt,cr)}return _t.length=0,Rt}function tt(){X.$$completeOutstandingRequest(b,"$http")}function dt(Rt,_t){var Pt,Zt={};return e(Rt,function(Gt,cr){K(Gt)?(Pt=Gt(_t),Pt!=null&&(Zt[cr]=Pt)):Zt[cr]=Gt}),Zt}function nt(Rt){var _t=r.headers,Pt=t({},Rt.headers),Zt,Gt,cr;_t=t({},_t.common,_t[E(Rt.method)]);e:for(Zt in _t){Gt=E(Zt);for(cr in Pt)if(E(cr)===Gt)continue e;Pt[Zt]=_t[Zt]}return dt(Pt,ye(Rt))}function gt(Rt){var _t=Rt.headers,Pt=Zn(Rt.data,Ln(_t),void 0,Rt.transformRequest);return R(Pt)&&e(_t,function(Zt,Gt){E(Gt)==="content-type"&&delete _t[Gt]}),R(Rt.withCredentials)&&!R(r.withCredentials)&&(Rt.withCredentials=r.withCredentials),ot(Rt,Pt).then(Et,Et)}function Et(Rt){var _t=t({},Rt);return _t.data=Zn(Rt.data,Rt.headers,Rt.status,Xe.transformResponse),ro(Rt.status)?_t:me.reject(_t)}}return at.pendingRequests=[],vt("get","delete","head","jsonp"),st("post","put","patch"),at.defaults=r,at;function vt(ze){e(arguments,function(Xe){at[Xe]=function(Le,Ie){return at(t({},Ie||{},{method:Xe,url:Le}))}})}function st(ze){e(arguments,function(Xe){at[Xe]=function(Le,Ie,Ne){return at(t({},Ne||{},{method:Xe,url:Le,data:Ie}))}})}function ot(ze,Xe){var Le=me.defer(),Ie=Le.promise,Ne,Be,tt=ze.headers,dt=E(ze.method)==="jsonp",nt=ze.url;if(dt?nt=xe.getTrustedResourceUrl(nt):ae(nt)||(nt=xe.valueOf(nt)),nt=it(nt,ze.paramSerializer(ze.params)),dt&&(nt=ct(nt,ze.jsonpCallbackParam)),at.pendingRequests.push(ze),Ie.then(Zt,Zt),(ze.cache||r.cache)&&ze.cache!==!1&&(ze.method==="GET"||ze.method==="JSONP")&&(Ne=q(ze.cache)?ze.cache:q(r.cache)?r.cache:ke),Ne&&(Be=Ne.get(nt),L(Be)?ge(Be)?Be.then(Pt,Pt):se(Be)?_t(Be[1],Be[0],ye(Be[2]),Be[3],Be[4]):_t(Be,200,{},"OK","complete"):Ne.put(nt,Ie)),R(Be)){var gt=Oe(ze.url)?ie()[ze.xsrfCookieName||r.xsrfCookieName]:void 0;gt&&(tt[ze.xsrfHeaderName||r.xsrfHeaderName]=gt),ce(ze.method,nt,Xe,Rt,tt,ze.timeout,ze.withCredentials,ze.responseType,Et(ze.eventHandlers),Et(ze.uploadEventHandlers))}return Ie;function Et(Gt){if(Gt){var cr={};return e(Gt,function(_r,kr){cr[kr]=function(Pr){y?re.$applyAsync(Gr):re.$$phase?Gr():re.$apply(Gr);function Gr(){_r(Pr)}}}),cr}}function Rt(Gt,cr,_r,kr,Pr){Ne&&(ro(Gt)?Ne.put(nt,[Gt,cr,ya(_r),kr,Pr]):Ne.remove(nt));function Gr(){_t(cr,Gt,_r,kr,Pr)}y?re.$applyAsync(Gr):(Gr(),re.$$phase||re.$apply())}function _t(Gt,cr,_r,kr,Pr){cr=cr>=-1?cr:0,(ro(cr)?Le.resolve:Le.reject)({data:Gt,status:cr,headers:Ln(_r),config:ze,statusText:kr,xhrStatus:Pr})}function Pt(Gt){_t(Gt.data,Gt.status,ye(Gt.headers()),Gt.statusText,Gt.xhrStatus)}function Zt(){var Gt=at.pendingRequests.indexOf(ze);Gt!==-1&&at.pendingRequests.splice(Gt,1)}}function it(ze,Xe){return Xe.length>0&&(ze+=(ze.indexOf("?")===-1?"?":"&")+Xe),ze}function ct(ze,Xe){var Le=ze.split("?");if(Le.length>2)throw eo("badjsonp",'Illegal use more than one "?", in url, "{1}"',ze);var Ie=mr(Le[1]);return e(Ie,function(Ne,Be){if(Ne==="JSON_CALLBACK")throw eo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',ze);if(Be===Xe)throw eo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',Xe,ze)}),ze+=(ze.indexOf("?")===-1?"?":"&")+Xe+"=JSON_CALLBACK",ze}}]}function wa(){this.$get=function(){return function(){return new we.XMLHttpRequest}}}function _a(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(r,y,P,H){return Hs(r,H,r.defer,y,P[0])}]}function Hs(r,y,P,H,X){return function(ie,ne,re,me,be,xe,ke,Fe,Oe,at){if(ne=ne||r.url(),E(ie)==="jsonp")var vt=H.createCallback(ne),st=ce(ne,vt,function(Be,tt){var dt=Be===200&&H.getResponse(vt);Ne(me,Be,dt,"",tt,"complete"),H.removeCallback(vt)});else{var ot=y(ie,ne),it=!1;ot.open(ie,ne,!0),e(be,function(Be,tt){L(Be)&&ot.setRequestHeader(tt,Be)}),ot.onload=function(){var tt=ot.statusText||"",dt="response"in ot?ot.response:ot.responseText,nt=ot.status===1223?204:ot.status;nt===0&&(nt=dt?200:xt(ne).protocol==="file"?404:0),Ne(me,nt,dt,ot.getAllResponseHeaders(),tt,"complete")};var ct=function(){Ne(me,-1,null,null,"","error")},ze=function(){Ne(me,-1,null,null,"",it?"timeout":"abort")},Xe=function(){Ne(me,-1,null,null,"","timeout")};if(ot.onerror=ct,ot.ontimeout=Xe,ot.onabort=ze,e(Oe,function(Be,tt){ot.addEventListener(tt,Be)}),e(at,function(Be,tt){ot.upload.addEventListener(tt,Be)}),ke&&(ot.withCredentials=!0),Fe)try{ot.responseType=Fe}catch(Be){if(Fe!=="json")throw Be}ot.send(R(re)?null:re)}if(xe>0)var Le=P(function(){Ie("timeout")},xe);else ge(xe)&&xe.then(function(){Ie(L(xe.$$timeoutId)?"timeout":"abort")});function Ie(Be){it=Be==="timeout",st&&st(),ot&&ot.abort()}function Ne(Be,tt,dt,nt,gt,Et){L(Le)&&P.cancel(Le),st=ot=null,Be(tt,dt,nt,gt,Et)}};function ce(ie,ne,re){ie=ie.replace("JSON_CALLBACK",ne);var me=X.createElement("script"),be=null;return me.type="text/javascript",me.src=ie,me.async=!0,be=function(xe){me.removeEventListener("load",be),me.removeEventListener("error",be),X.body.removeChild(me),me=null;var ke=-1,Fe="unknown";xe&&(xe.type==="load"&&!H.wasCalled(ne)&&(xe={type:"error"}),Fe=xe.type,ke=xe.type==="error"?404:200),re&&re(ke,Fe)},me.addEventListener("load",be),me.addEventListener("error",be),X.body.appendChild(me),be}}var ni=p.$interpolateMinErr=I("$interpolate");ni.throwNoconcat=function(r){throw ni("noconcat",`Error while interpolating: {0}
Strict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce`,r)},ni.interr=function(r,y){return ni("interr",`Can't interpolate: {0}
{1}`,r,y.toString())};function Sa(){var r="{{",y="}}";this.startSymbol=function(P){return P?(r=P,this):r},this.endSymbol=function(P){return P?(y=P,this):y},this.$get=["$parse","$exceptionHandler","$sce",function(P,H,X){var ce=r.length,ie=y.length,ne=new RegExp(r.replace(/./g,me),"g"),re=new RegExp(y.replace(/./g,me),"g");function me(Fe){return"\\\\\\"+Fe}function be(Fe){return Fe.replace(ne,r).replace(re,y)}function xe(Fe,Oe,at,vt){var st=Fe.$watch(function(it){return st(),vt(it)},Oe,at);return st}function ke(Fe,Oe,at,vt){var st=at===X.URL||at===X.MEDIA_URL;if(!Fe.length||Fe.indexOf(r)===-1){if(Oe)return;var ot=be(Fe);st&&(ot=X.getTrusted(at,ot));var it=$(ot);return it.exp=Fe,it.expressions=[],it.$$watchDelegate=xe,it}vt=!!vt;for(var ct,ze,Xe=0,Le=[],Ie,Ne=Fe.length,Be,tt=[],dt=[],nt;Xe<Ne;)if((ct=Fe.indexOf(r,Xe))!==-1&&(ze=Fe.indexOf(y,ct+ce))!==-1)Xe!==ct&&tt.push(be(Fe.substring(Xe,ct))),Be=Fe.substring(ct+ce,ze),Le.push(Be),Xe=ze+ie,dt.push(tt.length),tt.push("");else{Xe!==Ne&&tt.push(be(Fe.substring(Xe)));break}nt=tt.length===1&&dt.length===1;var gt=st&&nt?void 0:Rt;if(Ie=Le.map(function(_t){return P(_t,gt)}),!Oe||Le.length){var Et=function(_t){for(var Pt=0,Zt=Le.length;Pt<Zt;Pt++){if(vt&&R(_t[Pt]))return;tt[dt[Pt]]=_t[Pt]}return st?X.getTrusted(at,nt?tt[0]:tt.join("")):(at&&tt.length>1&&ni.throwNoconcat(Fe),tt.join(""))};return t(function(Pt){var Zt=0,Gt=Le.length,cr=new Array(Gt);try{for(;Zt<Gt;Zt++)cr[Zt]=Ie[Zt](Pt);return Et(cr)}catch(_r){H(ni.interr(Fe,_r))}},{exp:Fe,expressions:Le,$$watchDelegate:function(_t,Pt){var Zt;return _t.$watchGroup(Ie,function(cr,_r){var kr=Et(cr);Pt.call(this,kr,cr!==_r?Zt:kr,_t),Zt=kr})}})}function Rt(_t){try{return _t=at&&!st?X.getTrusted(at,_t):X.valueOf(_t),vt&&!L(_t)?_t:fr(_t)}catch(Pt){H(ni.interr(Fe,Pt))}}}return ke.startSymbol=function(){return r},ke.endSymbol=function(){return y},ke}]}var Us=I("$interval");function zs(){this.$get=["$$intervalFactory","$window",function(r,y){var P={},H=function(ie,ne,re){var me=y.setInterval(ie,ne);return P[me]=re,me},X=function(ie){y.clearInterval(ie),delete P[ie]},ce=r(H,X);return ce.cancel=function(ie){if(!ie)return!1;if(!ie.hasOwnProperty("$$intervalId"))throw Us("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!P.hasOwnProperty(ie.$$intervalId))return!1;var ne=ie.$$intervalId,re=P[ne];return oo(re.promise),re.reject("canceled"),X(ne),!0},ce}]}function js(){this.$get=["$browser","$q","$$q","$rootScope",function(r,y,P,H){return function(ce,ie){return function(re,me,be,xe){var ke=arguments.length>4,Fe=ke?de(arguments,4):[],Oe=0,at=L(xe)&&!xe,vt=(at?P:y).defer(),st=vt.promise;be=L(be)?be:0;function ot(){ke?re.apply(null,Fe):re(Oe)}function it(){at?r.defer(ot):H.$evalAsync(ot),vt.notify(Oe++),be>0&&Oe>=be&&(vt.resolve(Oe),ie(st.$$intervalId)),at||H.$apply()}return st.$$intervalId=ce(it,me,vt,at),st}}}]}var Vs=function(){this.$get=function(){var r=p.callbacks,y={};function P(H){var X=function(ce){X.data=ce,X.called=!0};return X.id=H,X}return{createCallback:function(H){var X="_"+(r.$$counter++).toString(36),ce="angular.callbacks."+X,ie=P(X);return y[ce]=r[X]=ie,ce},wasCalled:function(H){return y[H].called},getResponse:function(H){return y[H].data},removeCallback:function(H){var X=y[H];delete r[X.id],delete y[H]}}}},Ws=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Gs={http:80,https:443,ftp:21},Ti=I("$location");function Ys(r){for(var y=r.split("/"),P=y.length;P--;)y[P]=Wt(y[P].replace(/%2F/g,"/"));return y.join("/")}function qs(r,y){for(var P=r.split("/"),H=P.length;H--;)P[H]=decodeURIComponent(P[H]),y&&(P[H]=P[H].replace(/\//g,"%2F"));return P.join("/")}function Ks(r,y,P){var H=St(y),X=P?"#"+Wt(P):"",ce=Ys(r);return ce+(H?"?"+H:"")+X}function xa(r,y){var P=xt(r);y.$$protocol=P.protocol,y.$$host=P.hostname,y.$$port=a(P.port)||Gs[P.protocol]||null}var Js=/^\s*[\\/]{2,}/;function Ea(r,y,P){if(Js.test(r))throw Ti("badpath",'Invalid url "{0}".',r);var H=r.charAt(0)!=="/";H&&(r="/"+r);var X=xt(r),ce=H&&X.pathname.charAt(0)==="/"?X.pathname.substring(1):X.pathname;y.$$path=qs(ce,P),y.$$search=mr(X.search),y.$$hash=decodeURIComponent(X.hash),y.$$path&&y.$$path.charAt(0)!=="/"&&(y.$$path="/"+y.$$path)}function $o(r,y){return r.slice(0,y.length)===y}function Mn(r,y){if($o(y,r))return y.substr(r.length)}function ii(r){var y=r.indexOf("#");return y===-1?r:r.substr(0,y)}function Xs(r){return r.substr(0,ii(r).lastIndexOf("/")+1)}function Zs(r){return r.substring(0,r.indexOf("/",r.indexOf("//")+2))}function Fo(r,y,P){this.$$html5=!0,P=P||"",xa(r,this),this.$$parse=function(H){var X=Mn(y,H);if(!ae(X))throw Ti("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',H,y);Ea(X,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(H){return y+H.substr(1)},this.$$parseLinkUrl=function(H,X){if(X&&X[0]==="#")return this.hash(X.slice(1)),!0;var ce,ie,ne;return L(ce=Mn(r,H))?(ie=ce,P&&L(ce=Mn(P,ce))?ne=y+(Mn("/",ce)||ce):ne=r+ie):L(ce=Mn(y,H))?ne=y+ce:y===H+"/"&&(ne=y),ne&&this.$$parse(ne),!!ne}}function Oo(r,y,P){xa(r,this),this.$$parse=function(H){var X=Mn(r,H)||Mn(y,H),ce;!R(X)&&X.charAt(0)==="#"?(ce=Mn(P,X),R(ce)&&(ce=X)):this.$$html5?ce=X:(ce="",R(X)&&(r=H,this.replace())),Ea(ce,this,!1),this.$$path=ie(this.$$path,ce,r),this.$$compose();function ie(ne,re,me){var be=/^\/[A-Z]:(\/.*)/,xe;return $o(re,me)&&(re=re.replace(me,"")),be.exec(re)?ne:(xe=be.exec(ne),xe?xe[1]:ne)}},this.$$normalizeUrl=function(H){return r+(H?P+H:"")},this.$$parseLinkUrl=function(H,X){return ii(r)===ii(H)?(this.$$parse(H),!0):!1}}function Ca(r,y,P){this.$$html5=!0,Oo.apply(this,arguments),this.$$parseLinkUrl=function(H,X){if(X&&X[0]==="#")return this.hash(X.slice(1)),!0;var ce,ie;return r===ii(H)?ce=H:(ie=Mn(y,H))?ce=r+P+ie:y===H+"/"&&(ce=y),ce&&this.$$parse(ce),!!ce},this.$$normalizeUrl=function(H){return r+P+H}}var Qs={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=Ks(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:no("$$absUrl"),url:function(r){if(R(r))return this.$$url;var y=Ws.exec(r);return(y[1]||r==="")&&this.path(decodeURIComponent(y[1])),(y[2]||y[1]||r==="")&&this.search(y[3]||""),this.hash(y[5]||""),this},protocol:no("$$protocol"),host:no("$$host"),port:no("$$port"),path:No("$$path",function(r){return r=r!==null?r.toString():"",r.charAt(0)==="/"?r:"/"+r}),search:function(r,y){switch(arguments.length){case 0:return this.$$search;case 1:if(ae(r)||fe(r))r=r.toString(),this.$$search=mr(r);else if(q(r))r=Ze(r,{}),e(r,function(P,H){P==null&&delete r[H]}),this.$$search=r;else throw Ti("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:R(y)||y===null?delete this.$$search[r]:this.$$search[r]=y}return this.$$compose(),this},hash:No("$$hash",function(r){return r!==null?r.toString():""}),replace:function(){return this.$$replace=!0,this}};e([Ca,Oo,Fo],function(r){r.prototype=Object.create(Qs),r.prototype.state=function(y){if(!arguments.length)return this.$$state;if(r!==Fo||!this.$$html5)throw Ti("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=R(y)?null:y,this.$$urlUpdatedByLocation=!0,this}});function no(r){return function(){return this[r]}}function No(r,y){return function(P){return R(P)?this[r]:(this[r]=y(P),this.$$compose(),this)}}function ka(){var r="!",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(P){return L(P)?(r=P,this):r},this.html5Mode=function(P){return le(P)?(y.enabled=P,this):q(P)?(le(P.enabled)&&(y.enabled=P.enabled),le(P.requireBase)&&(y.requireBase=P.requireBase),(le(P.rewriteLinks)||ae(P.rewriteLinks))&&(y.rewriteLinks=P.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(P,H,X,ce,ie){var ne,re,me=H.baseHref(),be=H.url(),xe;if(y.enabled){if(!me&&y.requireBase)throw Ti("nobase","$location in HTML5 mode requires a <base> tag to be present!");xe=Zs(be)+(me||"/"),re=X.history?Fo:Ca}else xe=ii(be),re=Oo;var ke=Xs(xe);ne=new re(xe,ke,"#"+r),ne.$$parseLinkUrl(be,be),ne.$$state=H.state();var Fe=/^\s*(javascript|mailto):/i;function Oe(ot,it){return ot===it||xt(ot).href===xt(it).href}function at(ot,it,ct){var ze=ne.url(),Xe=ne.$$state;try{H.url(ot,it,ct),ne.$$state=H.state()}catch(Le){throw ne.url(ze),ne.$$state=Xe,Le}}ce.on("click",function(ot){var it=y.rewriteLinks;if(!(!it||ot.ctrlKey||ot.metaKey||ot.shiftKey||ot.which===2||ot.button===2)){for(var ct=g(ot.target);ut(ct[0])!=="a";)if(ct[0]===ce[0]||!(ct=ct.parent())[0])return;if(!(ae(it)&&R(ct.attr(it)))){var ze=ct.prop("href"),Xe=ct.attr("href")||ct.attr("xlink:href");q(ze)&&ze.toString()==="[object SVGAnimatedString]"&&(ze=xt(ze.animVal).href),!Fe.test(ze)&&ze&&!ct.attr("target")&&!ot.isDefaultPrevented()&&ne.$$parseLinkUrl(ze,Xe)&&(ot.preventDefault(),ne.absUrl()!==H.url()&&P.$apply())}}}),ne.absUrl()!==be&&H.url(ne.absUrl(),!0);var vt=!0;return H.onUrlChange(function(ot,it){if(!$o(ot,ke)){ie.location.href=ot;return}P.$evalAsync(function(){var ct=ne.absUrl(),ze=ne.$$state,Xe;ne.$$parse(ot),ne.$$state=it,Xe=P.$broadcast("$locationChangeStart",ot,ct,it,ze).defaultPrevented,ne.absUrl()===ot&&(Xe?(ne.$$parse(ct),ne.$$state=ze,at(ct,!1,ze)):(vt=!1,st(ct,ze)))}),P.$$phase||P.$digest()}),P.$watch(function(){if(vt||ne.$$urlUpdatedByLocation){ne.$$urlUpdatedByLocation=!1;var it=H.url(),ct=ne.absUrl(),ze=H.state(),Xe=ne.$$replace,Le=!Oe(it,ct)||ne.$$html5&&X.history&&ze!==ne.$$state;(vt||Le)&&(vt=!1,P.$evalAsync(function(){var Ie=ne.absUrl(),Ne=P.$broadcast("$locationChangeStart",Ie,it,ne.$$state,ze).defaultPrevented;ne.absUrl()===Ie&&(Ne?(ne.$$parse(it),ne.$$state=ze):(Le&&at(Ie,Xe,ze===ne.$$state?null:ne.$$state),st(it,ze)))}))}ne.$$replace=!1}),ne;function st(ot,it){P.$broadcast("$locationChangeSuccess",ne.absUrl(),ot,ne.$$state,it)}}]}function Aa(){var r=!0,y=this;this.debugEnabled=function(P){return L(P)?(r=P,this):r},this.$get=["$window",function(P){var H=M||/\bEdge\//.test(P.navigator&&P.navigator.userAgent);return{log:ce("log"),info:ce("info"),warn:ce("warn"),error:ce("error"),debug:(function(){var ie=ce("debug");return function(){r&&ie.apply(y,arguments)}})()};function X(ie){return B(ie)&&(ie.stack&&H?ie=ie.message&&ie.stack.indexOf(ie.message)===-1?"Error: "+ie.message+`
`+ie.stack:ie.stack:ie.sourceURL&&(ie=ie.message+`
`+ie.sourceURL+":"+ie.line)),ie}function ce(ie){var ne=P.console||{},re=ne[ie]||ne.log||b;return function(){var me=[];return e(arguments,function(be){me.push(X(be))}),Function.prototype.apply.call(re,ne,me)}}}]}var Yn=I("$parse"),hi={}.constructor.prototype.valueOf;function Ii(r){return r+""}var Pi=Ht();e("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(r){Pi[r]=!0});var pi={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},Di=function(y){this.options=y};Di.prototype={constructor:Di,lex:function(r){for(this.text=r,this.index=0,this.tokens=[];this.index<this.text.length;){var y=this.text.charAt(this.index);if(y==='"'||y==="'")this.readString(y);else if(this.isNumber(y)||y==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(y,"(){}[].,;:?"))this.tokens.push({index:this.index,text:y}),this.index++;else if(this.isWhitespace(y))this.index++;else{var P=y+this.peek(),H=P+this.peek(2),X=Pi[y],ce=Pi[P],ie=Pi[H];if(X||ce||ie){var ne=ie?H:ce?P:y;this.tokens.push({index:this.index,text:ne,operator:!0}),this.index+=ne.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(r,y){return y.indexOf(r)!==-1},peek:function(r){var y=r||1;return this.index+y<this.text.length?this.text.charAt(this.index+y):!1},isNumber:function(r){return"0"<=r&&r<="9"&&typeof r=="string"},isWhitespace:function(r){return r===" "||r==="\r"||r==="	"||r===`
`||r==="\v"||r==="\xA0"},isIdentifierStart:function(r){return this.options.isIdentifierStart?this.options.isIdentifierStart(r,this.codePointAt(r)):this.isValidIdentifierStart(r)},isValidIdentifierStart:function(r){return"a"<=r&&r<="z"||"A"<=r&&r<="Z"||r==="_"||r==="$"},isIdentifierContinue:function(r){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(r,this.codePointAt(r)):this.isValidIdentifierContinue(r)},isValidIdentifierContinue:function(r,y){return this.isValidIdentifierStart(r,y)||this.isNumber(r)},codePointAt:function(r){return r.length===1?r.charCodeAt(0):(r.charCodeAt(0)<<10)+r.charCodeAt(1)-56613888},peekMultichar:function(){var r=this.text.charAt(this.index),y=this.peek();if(!y)return r;var P=r.charCodeAt(0),H=y.charCodeAt(0);return P>=55296&&P<=56319&&H>=56320&&H<=57343?r+y:r},isExpOperator:function(r){return r==="-"||r==="+"||this.isNumber(r)},throwError:function(r,y,P){P=P||this.index;var H=L(y)?"s "+y+"-"+this.index+" ["+this.text.substring(y,P)+"]":" "+P;throw Yn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",r,H,this.text)},readNumber:function(){for(var r="",y=this.index;this.index<this.text.length;){var P=E(this.text.charAt(this.index));if(P==="."||this.isNumber(P))r+=P;else{var H=this.peek();if(P==="e"&&this.isExpOperator(H))r+=P;else if(this.isExpOperator(P)&&H&&this.isNumber(H)&&r.charAt(r.length-1)==="e")r+=P;else if(this.isExpOperator(P)&&(!H||!this.isNumber(H))&&r.charAt(r.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:y,text:r,constant:!0,value:Number(r)})},readIdent:function(){var r=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var y=this.peekMultichar();if(!this.isIdentifierContinue(y))break;this.index+=y.length}this.tokens.push({index:r,text:this.text.slice(r,this.index),identifier:!0})},readString:function(r){var y=this.index;this.index++;for(var P="",H=r,X=!1;this.index<this.text.length;){var ce=this.text.charAt(this.index);if(H+=ce,X){if(ce==="u"){var ie=this.text.substring(this.index+1,this.index+5);ie.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+ie+"]"),this.index+=4,P+=String.fromCharCode(parseInt(ie,16))}else{var ne=pi[ce];P=P+(ne||ce)}X=!1}else if(ce==="\\")X=!0;else if(ce===r){this.index++,this.tokens.push({index:y,text:H,constant:!0,value:P});return}else P+=ce;this.index++}this.throwError("Unterminated quote",y)}};var kt=function(y,P){this.lexer=y,this.options=P};kt.Program="Program",kt.ExpressionStatement="ExpressionStatement",kt.AssignmentExpression="AssignmentExpression",kt.ConditionalExpression="ConditionalExpression",kt.LogicalExpression="LogicalExpression",kt.BinaryExpression="BinaryExpression",kt.UnaryExpression="UnaryExpression",kt.CallExpression="CallExpression",kt.MemberExpression="MemberExpression",kt.Identifier="Identifier",kt.Literal="Literal",kt.ArrayExpression="ArrayExpression",kt.Property="Property",kt.ObjectExpression="ObjectExpression",kt.ThisExpression="ThisExpression",kt.LocalsExpression="LocalsExpression",kt.NGValueParameter="NGValueParameter",kt.prototype={ast:function(r){this.text=r,this.tokens=this.lexer.lex(r);var y=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),y},program:function(){for(var r=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&r.push(this.expressionStatement()),!this.expect(";"))return{type:kt.Program,body:r}},expressionStatement:function(){return{type:kt.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var r=this.expression();this.expect("|");)r=this.filter(r);return r},expression:function(){return this.assignment()},assignment:function(){var r=this.ternary();if(this.expect("=")){if(!Da(r))throw Yn("lval","Trying to assign a value to a non l-value");r={type:kt.AssignmentExpression,left:r,right:this.assignment(),operator:"="}}return r},ternary:function(){var r=this.logicalOR(),y,P;return this.expect("?")&&(y=this.expression(),this.consume(":"))?(P=this.expression(),{type:kt.ConditionalExpression,test:r,alternate:y,consequent:P}):r},logicalOR:function(){for(var r=this.logicalAND();this.expect("||");)r={type:kt.LogicalExpression,operator:"||",left:r,right:this.logicalAND()};return r},logicalAND:function(){for(var r=this.equality();this.expect("&&");)r={type:kt.LogicalExpression,operator:"&&",left:r,right:this.equality()};return r},equality:function(){for(var r=this.relational(),y;y=this.expect("==","!=","===","!==");)r={type:kt.BinaryExpression,operator:y.text,left:r,right:this.relational()};return r},relational:function(){for(var r=this.additive(),y;y=this.expect("<",">","<=",">=");)r={type:kt.BinaryExpression,operator:y.text,left:r,right:this.additive()};return r},additive:function(){for(var r=this.multiplicative(),y;y=this.expect("+","-");)r={type:kt.BinaryExpression,operator:y.text,left:r,right:this.multiplicative()};return r},multiplicative:function(){for(var r=this.unary(),y;y=this.expect("*","/","%");)r={type:kt.BinaryExpression,operator:y.text,left:r,right:this.unary()};return r},unary:function(){var r;return(r=this.expect("+","-","!"))?{type:kt.UnaryExpression,operator:r.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var r;this.expect("(")?(r=this.filterChain(),this.consume(")")):this.expect("[")?r=this.arrayDeclaration():this.expect("{")?r=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?r=Ze(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?r={type:kt.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?r=this.identifier():this.peek().constant?r=this.constant():this.throwError("not a primary expression",this.peek());for(var y;y=this.expect("(","[",".");)y.text==="("?(r={type:kt.CallExpression,callee:r,arguments:this.parseArguments()},this.consume(")")):y.text==="["?(r={type:kt.MemberExpression,object:r,property:this.expression(),computed:!0},this.consume("]")):y.text==="."?r={type:kt.MemberExpression,object:r,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return r},filter:function(r){for(var y=[r],P={type:kt.CallExpression,callee:this.identifier(),arguments:y,filter:!0};this.expect(":");)y.push(this.expression());return P},parseArguments:function(){var r=[];if(this.peekToken().text!==")")do r.push(this.filterChain());while(this.expect(","));return r},identifier:function(){var r=this.consume();return r.identifier||this.throwError("is not a valid identifier",r),{type:kt.Identifier,name:r.text}},constant:function(){return{type:kt.Literal,value:this.consume().value}},arrayDeclaration:function(){var r=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;r.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:kt.ArrayExpression,elements:r}},object:function(){var r=[],y;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;y={type:kt.Property,kind:"init"},this.peek().constant?(y.key=this.constant(),y.computed=!1,this.consume(":"),y.value=this.expression()):this.peek().identifier?(y.key=this.identifier(),y.computed=!1,this.peek(":")?(this.consume(":"),y.value=this.expression()):y.value=y.key):this.peek("[")?(this.consume("["),y.key=this.expression(),this.consume("]"),y.computed=!0,this.consume(":"),y.value=this.expression()):this.throwError("invalid key",this.peek()),r.push(y)}while(this.expect(","));return this.consume("}"),{type:kt.ObjectExpression,properties:r}},throwError:function(r,y){throw Yn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",y.text,r,y.index+1,this.text,this.text.substring(y.index))},consume:function(r){if(this.tokens.length===0)throw Yn("ueoe","Unexpected end of expression: {0}",this.text);var y=this.expect(r);return y||this.throwError("is unexpected, expecting ["+r+"]",this.peek()),y},peekToken:function(){if(this.tokens.length===0)throw Yn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(r,y,P,H){return this.peekAhead(0,r,y,P,H)},peekAhead:function(r,y,P,H,X){if(this.tokens.length>r){var ce=this.tokens[r],ie=ce.text;if(ie===y||ie===P||ie===H||ie===X||!y&&!P&&!H&&!X)return ce}return!1},expect:function(r,y,P,H){var X=this.peek(r,y,P,H);return X?(this.tokens.shift(),X):!1},selfReferential:{this:{type:kt.ThisExpression},$locals:{type:kt.LocalsExpression}}};function el(r,y){return typeof r!="undefined"?r:y}function Ra(r,y){return typeof r=="undefined"?y:typeof y=="undefined"?r:r+y}function tl(r,y){var P=r(y);return!P.$stateful}var Ta=1,Ia=2;function rl(r,y){switch(r.type){case kt.MemberExpression:if(r.computed)return!1;break;case kt.UnaryExpression:return Ta;case kt.BinaryExpression:return r.operator!=="+"?Ta:!1;case kt.CallExpression:return!1}return y===void 0?Ia:y}function Qr(r,y,P){var H,X,ce,ie=r.isPure=rl(r,P);switch(r.type){case kt.Program:H=!0,e(r.body,function(ne){Qr(ne.expression,y,ie),H=H&&ne.expression.constant}),r.constant=H;break;case kt.Literal:r.constant=!0,r.toWatch=[];break;case kt.UnaryExpression:Qr(r.argument,y,ie),r.constant=r.argument.constant,r.toWatch=r.argument.toWatch;break;case kt.BinaryExpression:Qr(r.left,y,ie),Qr(r.right,y,ie),r.constant=r.left.constant&&r.right.constant,r.toWatch=r.left.toWatch.concat(r.right.toWatch);break;case kt.LogicalExpression:Qr(r.left,y,ie),Qr(r.right,y,ie),r.constant=r.left.constant&&r.right.constant,r.toWatch=r.constant?[]:[r];break;case kt.ConditionalExpression:Qr(r.test,y,ie),Qr(r.alternate,y,ie),Qr(r.consequent,y,ie),r.constant=r.test.constant&&r.alternate.constant&&r.consequent.constant,r.toWatch=r.constant?[]:[r];break;case kt.Identifier:r.constant=!1,r.toWatch=[r];break;case kt.MemberExpression:Qr(r.object,y,ie),r.computed&&Qr(r.property,y,ie),r.constant=r.object.constant&&(!r.computed||r.property.constant),r.toWatch=r.constant?[]:[r];break;case kt.CallExpression:ce=r.filter?tl(y,r.callee.name):!1,H=ce,X=[],e(r.arguments,function(ne){Qr(ne,y,ie),H=H&&ne.constant,X.push.apply(X,ne.toWatch)}),r.constant=H,r.toWatch=ce?X:[r];break;case kt.AssignmentExpression:Qr(r.left,y,ie),Qr(r.right,y,ie),r.constant=r.left.constant&&r.right.constant,r.toWatch=[r];break;case kt.ArrayExpression:H=!0,X=[],e(r.elements,function(ne){Qr(ne,y,ie),H=H&&ne.constant,X.push.apply(X,ne.toWatch)}),r.constant=H,r.toWatch=X;break;case kt.ObjectExpression:H=!0,X=[],e(r.properties,function(ne){Qr(ne.value,y,ie),H=H&&ne.value.constant,X.push.apply(X,ne.value.toWatch),ne.computed&&(Qr(ne.key,y,!1),H=H&&ne.key.constant,X.push.apply(X,ne.key.toWatch))}),r.constant=H,r.toWatch=X;break;case kt.ThisExpression:r.constant=!1,r.toWatch=[];break;case kt.LocalsExpression:r.constant=!1,r.toWatch=[];break}}function Pa(r){if(r.length===1){var y=r[0].expression,P=y.toWatch;return P.length!==1||P[0]!==y?P:void 0}}function Da(r){return r.type===kt.Identifier||r.type===kt.MemberExpression}function La(r){if(r.body.length===1&&Da(r.body[0].expression))return{type:kt.AssignmentExpression,left:r.body[0].expression,right:{type:kt.NGValueParameter},operator:"="}}function nl(r){return r.body.length===0||r.body.length===1&&(r.body[0].expression.type===kt.Literal||r.body[0].expression.type===kt.ArrayExpression||r.body[0].expression.type===kt.ObjectExpression)}function il(r){return r.constant}function Ma(r){this.$filter=r}Ma.prototype={compile:function(r){var y=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Qr(r,y.$filter);var P="",H;if(this.stage="assign",H=La(r)){this.state.computing="assign";var X=this.nextId();this.recurse(H,X),this.return_(X),P="fn.assign="+this.generateFunction("assign","s,v,l")}var ce=Pa(r.body);y.stage="inputs",e(ce,function(re,me){var be="fn"+me;y.state[be]={vars:[],body:[],own:{}},y.state.computing=be;var xe=y.nextId();y.recurse(re,xe),y.return_(xe),y.state.inputs.push({name:be,isPure:re.isPure}),re.watchId=me}),this.state.computing="fn",this.stage="main",this.recurse(r);var ie='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+P+this.watchFns()+"return fn;",ne=new Function("$filter","getStringValue","ifDefined","plus",ie)(this.$filter,Ii,el,Ra);return this.state=this.stage=void 0,ne},USE:"use",STRICT:"strict",watchFns:function(){var r=[],y=this.state.inputs,P=this;return e(y,function(H){r.push("var "+H.name+"="+P.generateFunction(H.name,"s")),H.isPure&&r.push(H.name,".isPure="+JSON.stringify(H.isPure)+";")}),y.length&&r.push("fn.inputs=["+y.map(function(H){return H.name}).join(",")+"];"),r.join("")},generateFunction:function(r,y){return"function("+y+"){"+this.varsPrefix(r)+this.body(r)+"};"},filterPrefix:function(){var r=[],y=this;return e(this.state.filters,function(P,H){r.push(P+"=$filter("+y.escape(H)+")")}),r.length?"var "+r.join(",")+";":""},varsPrefix:function(r){return this.state[r].vars.length?"var "+this.state[r].vars.join(",")+";":""},body:function(r){return this.state[r].body.join("")},recurse:function(r,y,P,H,X,ce){var ie,ne,re=this,me,be,xe;if(H=H||b,!ce&&L(r.watchId)){y=y||this.nextId(),this.if_("i",this.lazyAssign(y,this.computedMember("i",r.watchId)),this.lazyRecurse(r,y,P,H,X,!0));return}switch(r.type){case kt.Program:e(r.body,function(ke,Fe){re.recurse(ke.expression,void 0,void 0,function(Oe){ne=Oe}),Fe!==r.body.length-1?re.current().body.push(ne,";"):re.return_(ne)});break;case kt.Literal:be=this.escape(r.value),this.assign(y,be),H(y||be);break;case kt.UnaryExpression:this.recurse(r.argument,void 0,void 0,function(ke){ne=ke}),be=r.operator+"("+this.ifDefined(ne,0)+")",this.assign(y,be),H(be);break;case kt.BinaryExpression:this.recurse(r.left,void 0,void 0,function(ke){ie=ke}),this.recurse(r.right,void 0,void 0,function(ke){ne=ke}),r.operator==="+"?be=this.plus(ie,ne):r.operator==="-"?be=this.ifDefined(ie,0)+r.operator+this.ifDefined(ne,0):be="("+ie+")"+r.operator+"("+ne+")",this.assign(y,be),H(be);break;case kt.LogicalExpression:y=y||this.nextId(),re.recurse(r.left,y),re.if_(r.operator==="&&"?y:re.not(y),re.lazyRecurse(r.right,y)),H(y);break;case kt.ConditionalExpression:y=y||this.nextId(),re.recurse(r.test,y),re.if_(y,re.lazyRecurse(r.alternate,y),re.lazyRecurse(r.consequent,y)),H(y);break;case kt.Identifier:y=y||this.nextId(),P&&(P.context=re.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",r.name)+"?l:s"),P.computed=!1,P.name=r.name),re.if_(re.stage==="inputs"||re.not(re.getHasOwnProperty("l",r.name)),function(){re.if_(re.stage==="inputs"||"s",function(){X&&X!==1&&re.if_(re.isNull(re.nonComputedMember("s",r.name)),re.lazyAssign(re.nonComputedMember("s",r.name),"{}")),re.assign(y,re.nonComputedMember("s",r.name))})},y&&re.lazyAssign(y,re.nonComputedMember("l",r.name))),H(y);break;case kt.MemberExpression:ie=P&&(P.context=this.nextId())||this.nextId(),y=y||this.nextId(),re.recurse(r.object,ie,void 0,function(){re.if_(re.notNull(ie),function(){r.computed?(ne=re.nextId(),re.recurse(r.property,ne),re.getStringValue(ne),X&&X!==1&&re.if_(re.not(re.computedMember(ie,ne)),re.lazyAssign(re.computedMember(ie,ne),"{}")),be=re.computedMember(ie,ne),re.assign(y,be),P&&(P.computed=!0,P.name=ne)):(X&&X!==1&&re.if_(re.isNull(re.nonComputedMember(ie,r.property.name)),re.lazyAssign(re.nonComputedMember(ie,r.property.name),"{}")),be=re.nonComputedMember(ie,r.property.name),re.assign(y,be),P&&(P.computed=!1,P.name=r.property.name))},function(){re.assign(y,"undefined")}),H(y)},!!X);break;case kt.CallExpression:y=y||this.nextId(),r.filter?(ne=re.filter(r.callee.name),me=[],e(r.arguments,function(ke){var Fe=re.nextId();re.recurse(ke,Fe),me.push(Fe)}),be=ne+"("+me.join(",")+")",re.assign(y,be),H(y)):(ne=re.nextId(),ie={},me=[],re.recurse(r.callee,ne,ie,function(){re.if_(re.notNull(ne),function(){e(r.arguments,function(ke){re.recurse(ke,r.constant?void 0:re.nextId(),void 0,function(Fe){me.push(Fe)})}),ie.name?be=re.member(ie.context,ie.name,ie.computed)+"("+me.join(",")+")":be=ne+"("+me.join(",")+")",re.assign(y,be)},function(){re.assign(y,"undefined")}),H(y)}));break;case kt.AssignmentExpression:ne=this.nextId(),ie={},this.recurse(r.left,void 0,ie,function(){re.if_(re.notNull(ie.context),function(){re.recurse(r.right,ne),be=re.member(ie.context,ie.name,ie.computed)+r.operator+ne,re.assign(y,be),H(y||be)})},1);break;case kt.ArrayExpression:me=[],e(r.elements,function(ke){re.recurse(ke,r.constant?void 0:re.nextId(),void 0,function(Fe){me.push(Fe)})}),be="["+me.join(",")+"]",this.assign(y,be),H(y||be);break;case kt.ObjectExpression:me=[],xe=!1,e(r.properties,function(ke){ke.computed&&(xe=!0)}),xe?(y=y||this.nextId(),this.assign(y,"{}"),e(r.properties,function(ke){ke.computed?(ie=re.nextId(),re.recurse(ke.key,ie)):ie=ke.key.type===kt.Identifier?ke.key.name:""+ke.key.value,ne=re.nextId(),re.recurse(ke.value,ne),re.assign(re.member(y,ie,ke.computed),ne)})):(e(r.properties,function(ke){re.recurse(ke.value,r.constant?void 0:re.nextId(),void 0,function(Fe){me.push(re.escape(ke.key.type===kt.Identifier?ke.key.name:""+ke.key.value)+":"+Fe)})}),be="{"+me.join(",")+"}",this.assign(y,be)),H(y||be);break;case kt.ThisExpression:this.assign(y,"s"),H(y||"s");break;case kt.LocalsExpression:this.assign(y,"l"),H(y||"l");break;case kt.NGValueParameter:this.assign(y,"v"),H(y||"v");break}},getHasOwnProperty:function(r,y){var P=r+"."+y,H=this.current().own;return H.hasOwnProperty(P)||(H[P]=this.nextId(!1,r+"&&("+this.escape(y)+" in "+r+")")),H[P]},assign:function(r,y){if(r)return this.current().body.push(r,"=",y,";"),r},filter:function(r){return this.state.filters.hasOwnProperty(r)||(this.state.filters[r]=this.nextId(!0)),this.state.filters[r]},ifDefined:function(r,y){return"ifDefined("+r+","+this.escape(y)+")"},plus:function(r,y){return"plus("+r+","+y+")"},return_:function(r){this.current().body.push("return ",r,";")},if_:function(r,y,P){if(r===!0)y();else{var H=this.current().body;H.push("if(",r,"){"),y(),H.push("}"),P&&(H.push("else{"),P(),H.push("}"))}},not:function(r){return"!("+r+")"},isNull:function(r){return r+"==null"},notNull:function(r){return r+"!=null"},nonComputedMember:function(r,y){var P=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,H=/[^$_a-zA-Z0-9]/g;return P.test(y)?r+"."+y:r+'["'+y.replace(H,this.stringEscapeFn)+'"]'},computedMember:function(r,y){return r+"["+y+"]"},member:function(r,y,P){return P?this.computedMember(r,y):this.nonComputedMember(r,y)},getStringValue:function(r){this.assign(r,"getStringValue("+r+")")},lazyRecurse:function(r,y,P,H,X,ce){var ie=this;return function(){ie.recurse(r,y,P,H,X,ce)}},lazyAssign:function(r,y){var P=this;return function(){P.assign(r,y)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)},escape:function(r){if(ae(r))return"'"+r.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(fe(r))return r.toString();if(r===!0)return"true";if(r===!1)return"false";if(r===null)return"null";if(typeof r=="undefined")return"undefined";throw Yn("esc","IMPOSSIBLE")},nextId:function(r,y){var P="v"+this.state.nextId++;return r||this.current().vars.push(P+(y?"="+y:"")),P},current:function(){return this.state[this.state.computing]}};function $a(r){this.$filter=r}$a.prototype={compile:function(r){var y=this;Qr(r,y.$filter);var P,H;(P=La(r))&&(H=this.recurse(P));var X=Pa(r.body),ce;X&&(ce=[],e(X,function(re,me){var be=y.recurse(re);be.isPure=re.isPure,re.input=be,ce.push(be),re.watchId=me}));var ie=[];e(r.body,function(re){ie.push(y.recurse(re.expression))});var ne=r.body.length===0?b:r.body.length===1?ie[0]:function(re,me){var be;return e(ie,function(xe){be=xe(re,me)}),be};return H&&(ne.assign=function(re,me,be){return H(re,be,me)}),ce&&(ne.inputs=ce),ne},recurse:function(r,y,P){var H,X,ce=this,ie;if(r.input)return this.inputs(r.input,r.watchId);switch(r.type){case kt.Literal:return this.value(r.value,y);case kt.UnaryExpression:return X=this.recurse(r.argument),this["unary"+r.operator](X,y);case kt.BinaryExpression:return H=this.recurse(r.left),X=this.recurse(r.right),this["binary"+r.operator](H,X,y);case kt.LogicalExpression:return H=this.recurse(r.left),X=this.recurse(r.right),this["binary"+r.operator](H,X,y);case kt.ConditionalExpression:return this["ternary?:"](this.recurse(r.test),this.recurse(r.alternate),this.recurse(r.consequent),y);case kt.Identifier:return ce.identifier(r.name,y,P);case kt.MemberExpression:return H=this.recurse(r.object,!1,!!P),r.computed||(X=r.property.name),r.computed&&(X=this.recurse(r.property)),r.computed?this.computedMember(H,X,y,P):this.nonComputedMember(H,X,y,P);case kt.CallExpression:return ie=[],e(r.arguments,function(ne){ie.push(ce.recurse(ne))}),r.filter&&(X=this.$filter(r.callee.name)),r.filter||(X=this.recurse(r.callee,!0)),r.filter?function(ne,re,me,be){for(var xe=[],ke=0;ke<ie.length;++ke)xe.push(ie[ke](ne,re,me,be));var Fe=X.apply(void 0,xe,be);return y?{context:void 0,name:void 0,value:Fe}:Fe}:function(ne,re,me,be){var xe=X(ne,re,me,be),ke;if(xe.value!=null){for(var Fe=[],Oe=0;Oe<ie.length;++Oe)Fe.push(ie[Oe](ne,re,me,be));ke=xe.value.apply(xe.context,Fe)}return y?{value:ke}:ke};case kt.AssignmentExpression:return H=this.recurse(r.left,!0,1),X=this.recurse(r.right),function(ne,re,me,be){var xe=H(ne,re,me,be),ke=X(ne,re,me,be);return xe.context[xe.name]=ke,y?{value:ke}:ke};case kt.ArrayExpression:return ie=[],e(r.elements,function(ne){ie.push(ce.recurse(ne))}),function(ne,re,me,be){for(var xe=[],ke=0;ke<ie.length;++ke)xe.push(ie[ke](ne,re,me,be));return y?{value:xe}:xe};case kt.ObjectExpression:return ie=[],e(r.properties,function(ne){ne.computed?ie.push({key:ce.recurse(ne.key),computed:!0,value:ce.recurse(ne.value)}):ie.push({key:ne.key.type===kt.Identifier?ne.key.name:""+ne.key.value,computed:!1,value:ce.recurse(ne.value)})}),function(ne,re,me,be){for(var xe={},ke=0;ke<ie.length;++ke)ie[ke].computed?xe[ie[ke].key(ne,re,me,be)]=ie[ke].value(ne,re,me,be):xe[ie[ke].key]=ie[ke].value(ne,re,me,be);return y?{value:xe}:xe};case kt.ThisExpression:return function(ne){return y?{value:ne}:ne};case kt.LocalsExpression:return function(ne,re){return y?{value:re}:re};case kt.NGValueParameter:return function(ne,re,me){return y?{value:me}:me}}},"unary+":function(r,y){return function(P,H,X,ce){var ie=r(P,H,X,ce);return L(ie)?ie=+ie:ie=0,y?{value:ie}:ie}},"unary-":function(r,y){return function(P,H,X,ce){var ie=r(P,H,X,ce);return L(ie)?ie=-ie:ie=-0,y?{value:ie}:ie}},"unary!":function(r,y){return function(P,H,X,ce){var ie=!r(P,H,X,ce);return y?{value:ie}:ie}},"binary+":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie),re=y(H,X,ce,ie),me=Ra(ne,re);return P?{value:me}:me}},"binary-":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie),re=y(H,X,ce,ie),me=(L(ne)?ne:0)-(L(re)?re:0);return P?{value:me}:me}},"binary*":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)*y(H,X,ce,ie);return P?{value:ne}:ne}},"binary/":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)/y(H,X,ce,ie);return P?{value:ne}:ne}},"binary%":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)%y(H,X,ce,ie);return P?{value:ne}:ne}},"binary===":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)===y(H,X,ce,ie);return P?{value:ne}:ne}},"binary!==":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)!==y(H,X,ce,ie);return P?{value:ne}:ne}},"binary==":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)==y(H,X,ce,ie);return P?{value:ne}:ne}},"binary!=":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)!=y(H,X,ce,ie);return P?{value:ne}:ne}},"binary<":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)<y(H,X,ce,ie);return P?{value:ne}:ne}},"binary>":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)>y(H,X,ce,ie);return P?{value:ne}:ne}},"binary<=":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)<=y(H,X,ce,ie);return P?{value:ne}:ne}},"binary>=":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)>=y(H,X,ce,ie);return P?{value:ne}:ne}},"binary&&":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)&&y(H,X,ce,ie);return P?{value:ne}:ne}},"binary||":function(r,y,P){return function(H,X,ce,ie){var ne=r(H,X,ce,ie)||y(H,X,ce,ie);return P?{value:ne}:ne}},"ternary?:":function(r,y,P,H){return function(X,ce,ie,ne){var re=r(X,ce,ie,ne)?y(X,ce,ie,ne):P(X,ce,ie,ne);return H?{value:re}:re}},value:function(r,y){return function(){return y?{context:void 0,name:void 0,value:r}:r}},identifier:function(r,y,P){return function(H,X,ce,ie){var ne=X&&r in X?X:H;P&&P!==1&&ne&&ne[r]==null&&(ne[r]={});var re=ne?ne[r]:void 0;return y?{context:ne,name:r,value:re}:re}},computedMember:function(r,y,P,H){return function(X,ce,ie,ne){var re=r(X,ce,ie,ne),me,be;return re!=null&&(me=y(X,ce,ie,ne),me=Ii(me),H&&H!==1&&re&&!re[me]&&(re[me]={}),be=re[me]),P?{context:re,name:me,value:be}:be}},nonComputedMember:function(r,y,P,H){return function(X,ce,ie,ne){var re=r(X,ce,ie,ne);H&&H!==1&&re&&re[y]==null&&(re[y]={});var me=re!=null?re[y]:void 0;return P?{context:re,name:y,value:me}:me}},inputs:function(r,y){return function(P,H,X,ce){return ce?ce[y]:r(P,H,X)}}};function io(r,y,P){this.ast=new kt(r,P),this.astCompiler=P.csp?new $a(y):new Ma(y)}io.prototype={constructor:io,parse:function(r){var y=this.getAst(r),P=this.astCompiler.compile(y.ast);return P.literal=nl(y.ast),P.constant=il(y.ast),P.oneTime=y.oneTime,P},getAst:function(r){var y=!1;return r=r.trim(),r.charAt(0)===":"&&r.charAt(1)===":"&&(y=!0,r=r.substring(2)),{ast:this.ast.ast(r),oneTime:y}}};function Bo(r){return K(r.valueOf)?r.valueOf():hi.call(r)}function ol(){var r=Ht(),y={true:!0,false:!1,null:null,undefined:void 0},P,H;this.addLiteral=function(X,ce){y[X]=ce},this.setIdentifierFns=function(X,ce){return P=X,H=ce,this},this.$get=["$filter",function(X){var ce=ue().noUnsafeEval,ie={csp:ce,literals:Ze(y),isIdentifierStart:K(P)&&P,isIdentifierContinue:K(H)&&H};return ne.$$getAst=re,ne;function ne(st,ot){var it,ct;switch(typeof st){case"string":if(st=st.trim(),ct=st,it=r[ct],!it){var ze=new Di(ie),Xe=new io(ze,X,ie);it=Xe.parse(st),r[ct]=Oe(it)}return vt(it,ot);case"function":return vt(st,ot);default:return vt(b,ot)}}function re(st){var ot=new Di(ie),it=new io(ot,X,ie);return it.getAst(st).ast}function me(st,ot,it){return st==null||ot==null?st===ot:typeof st=="object"&&(st=Bo(st),typeof st=="object"&&!it)?!1:st===ot||st!==st&&ot!==ot}function be(st,ot,it,ct,ze){var Xe=ct.inputs,Le;if(Xe.length===1){var Ie=me;return Xe=Xe[0],st.$watch(function(gt){var Et=Xe(gt);return me(Et,Ie,Xe.isPure)||(Le=ct(gt,void 0,void 0,[Et]),Ie=Et&&Bo(Et)),Le},ot,it,ze)}for(var Ne=[],Be=[],tt=0,dt=Xe.length;tt<dt;tt++)Ne[tt]=me,Be[tt]=null;return st.$watch(function(gt){for(var Et=!1,Rt=0,_t=Xe.length;Rt<_t;Rt++){var Pt=Xe[Rt](gt);(Et||(Et=!me(Pt,Ne[Rt],Xe[Rt].isPure)))&&(Be[Rt]=Pt,Ne[Rt]=Pt&&Bo(Pt))}return Et&&(Le=ct(gt,void 0,void 0,Be)),Le},ot,it,ze)}function xe(st,ot,it,ct,ze){var Xe=ct.literal?ke:L,Le,Ie,Ne=ct.$$intercepted||ct,Be=ct.$$interceptor||C,tt=ct.inputs&&!Ne.inputs;return nt.literal=ct.literal,nt.constant=ct.constant,nt.inputs=ct.inputs,Oe(nt),Le=st.$watch(nt,ot,it,ze),Le;function dt(){Xe(Ie)&&Le()}function nt(gt,Et,Rt,_t){return Ie=tt&&_t?_t[0]:Ne(gt,Et,Rt,_t),Xe(Ie)&&gt.$$postDigest(dt),Be(Ie)}}function ke(st){var ot=!0;return e(st,function(it){L(it)||(ot=!1)}),ot}function Fe(st,ot,it,ct){var ze=st.$watch(function(Le){return ze(),ct(Le)},ot,it);return ze}function Oe(st){return st.constant?st.$$watchDelegate=Fe:st.oneTime?st.$$watchDelegate=xe:st.inputs&&(st.$$watchDelegate=be),st}function at(st,ot){function it(ct){return ot(st(ct))}return it.$stateful=st.$stateful||ot.$stateful,it.$$pure=st.$$pure&&ot.$$pure,it}function vt(st,ot){if(!ot)return st;st.$$interceptor&&(ot=at(st.$$interceptor,ot),st=st.$$intercepted);var it=!1,ct=function(Xe,Le,Ie,Ne){var Be=it&&Ne?Ne[0]:st(Xe,Le,Ie,Ne);return ot(Be)};return ct.$$intercepted=st,ct.$$interceptor=ot,ct.literal=st.literal,ct.oneTime=st.oneTime,ct.constant=st.constant,ot.$stateful||(it=!st.inputs,ct.inputs=st.inputs?st.inputs:[st],ot.$$pure||(ct.inputs=ct.inputs.map(function(ze){return ze.isPure===Ia?function(Le){return ze(Le)}:ze}))),Oe(ct)}}]}function al(){var r=!0;this.$get=["$rootScope","$exceptionHandler",function(y,P){return Fa(function(H){y.$evalAsync(H)},P,r)}],this.errorOnUnhandledRejections=function(y){return L(y)?(r=y,this):r}}function sl(){var r=!0;this.$get=["$browser","$exceptionHandler",function(y,P){return Fa(function(H){y.defer(H)},P,r)}],this.errorOnUnhandledRejections=function(y){return L(y)?(r=y,this):r}}function Fa(r,y,P){var H=I("$q",TypeError),X=0,ce=[];function ie(){return new ne}function ne(){var Ie=this.promise=new re;this.resolve=function(Ne){ke(Ie,Ne)},this.reject=function(Ne){Oe(Ie,Ne)},this.notify=function(Ne){vt(Ie,Ne)}}function re(){this.$$state={status:0}}t(re.prototype,{then:function(Ie,Ne,Be){if(R(Ie)&&R(Ne)&&R(Be))return this;var tt=new re;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([tt,Ie,Ne,Be]),this.$$state.status>0&&xe(this.$$state),tt},catch:function(Ie){return this.then(null,Ie)},finally:function(Ie,Ne){return this.then(function(Be){return ot(Be,ct,Ie)},function(Be){return ot(Be,st,Ie)},Ne)}});function me(Ie){var Ne,Be,tt;tt=Ie.pending,Ie.processScheduled=!1,Ie.pending=void 0;try{for(var dt=0,nt=tt.length;dt<nt;++dt){Ho(Ie),Be=tt[dt][0],Ne=tt[dt][Ie.status];try{K(Ne)?ke(Be,Ne(Ie.value)):Ie.status===1?ke(Be,Ie.value):Oe(Be,Ie.value)}catch(gt){Oe(Be,gt),gt&&gt.$$passToExceptionHandler===!0&&y(gt)}}}finally{--X,P&&X===0&&r(be)}}function be(){for(;!X&&ce.length;){var Ie=ce.shift();if(!Oa(Ie)){Ho(Ie);var Ne="Possibly unhandled rejection: "+qe(Ie.value);B(Ie.value)?y(Ie.value,Ne):y(Ne)}}}function xe(Ie){P&&!Ie.pending&&Ie.status===2&&!Oa(Ie)&&(X===0&&ce.length===0&&r(be),ce.push(Ie)),!(Ie.processScheduled||!Ie.pending)&&(Ie.processScheduled=!0,++X,r(function(){me(Ie)}))}function ke(Ie,Ne){Ie.$$state.status||(Ne===Ie?at(Ie,H("qcycle","Expected promise to be resolved with value other than itself '{0}'",Ne)):Fe(Ie,Ne))}function Fe(Ie,Ne){var Be,tt=!1;try{(q(Ne)||K(Ne))&&(Be=Ne.then),K(Be)?(Ie.$$state.status=-1,Be.call(Ne,dt,nt,gt)):(Ie.$$state.value=Ne,Ie.$$state.status=1,xe(Ie.$$state))}catch(Et){nt(Et)}function dt(Et){tt||(tt=!0,Fe(Ie,Et))}function nt(Et){tt||(tt=!0,at(Ie,Et))}function gt(Et){vt(Ie,Et)}}function Oe(Ie,Ne){Ie.$$state.status||at(Ie,Ne)}function at(Ie,Ne){Ie.$$state.value=Ne,Ie.$$state.status=2,xe(Ie.$$state)}function vt(Ie,Ne){var Be=Ie.$$state.pending;Ie.$$state.status<=0&&Be&&Be.length&&r(function(){for(var tt,dt,nt=0,gt=Be.length;nt<gt;nt++){dt=Be[nt][0],tt=Be[nt][3];try{vt(dt,K(tt)?tt(Ne):Ne)}catch(Et){y(Et)}}})}function st(Ie){var Ne=new re;return Oe(Ne,Ie),Ne}function ot(Ie,Ne,Be){var tt=null;try{K(Be)&&(tt=Be())}catch(dt){return st(dt)}return ge(tt)?tt.then(function(){return Ne(Ie)},st):Ne(Ie)}function it(Ie,Ne,Be,tt){var dt=new re;return ke(dt,Ie),dt.then(Ne,Be,tt)}var ct=it;function ze(Ie){var Ne=new re,Be=0,tt=se(Ie)?[]:{};return e(Ie,function(dt,nt){Be++,it(dt).then(function(gt){tt[nt]=gt,--Be||ke(Ne,tt)},function(gt){Oe(Ne,gt)})}),Be===0&&ke(Ne,tt),Ne}function Xe(Ie){var Ne=ie();return e(Ie,function(Be){it(Be).then(Ne.resolve,Ne.reject)}),Ne.promise}function Le(Ie){if(!K(Ie))throw H("norslvr","Expected resolverFn, got '{0}'",Ie);var Ne=new re;function Be(dt){ke(Ne,dt)}function tt(dt){Oe(Ne,dt)}return Ie(Be,tt),Ne}return Le.prototype=re.prototype,Le.defer=ie,Le.reject=st,Le.when=it,Le.resolve=ct,Le.all=ze,Le.race=Xe,Le}function Oa(r){return!!r.pur}function Ho(r){r.pur=!0}function oo(r){r.$$state&&Ho(r.$$state)}function ll(){this.$get=["$window","$timeout",function(r,y){var P=r.requestAnimationFrame||r.webkitRequestAnimationFrame,H=r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.webkitCancelRequestAnimationFrame,X=!!P,ce=X?function(ie){var ne=P(ie);return function(){H(ne)}}:function(ie){var ne=y(ie,16.66,!1);return function(){y.cancel(ne)}};return ce.supported=X,ce}]}function ul(){var r=10,y=I("$rootScope"),P=null,H=null;this.digestTtl=function(ce){return arguments.length&&(r=ce),r};function X(ce){function ie(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null,this.$$suspended=!1}return ie.prototype=ce,ie}this.$get=["$exceptionHandler","$parse","$browser",function(ce,ie,ne){function re(Le){Le.currentScope.$$destroyed=!0}function me(Le){M===9&&(Le.$$childHead&&me(Le.$$childHead),Le.$$nextSibling&&me(Le.$$nextSibling)),Le.$parent=Le.$$nextSibling=Le.$$prevSibling=Le.$$childHead=Le.$$childTail=Le.$root=Le.$$watchers=null}function be(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}be.prototype={constructor:be,$new:function(Le,Ie){var Ne;return Ie=Ie||this,Le?(Ne=new be,Ne.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=X(this)),Ne=new this.$$ChildScope),Ne.$parent=Ie,Ne.$$prevSibling=Ie.$$childTail,Ie.$$childHead?(Ie.$$childTail.$$nextSibling=Ne,Ie.$$childTail=Ne):Ie.$$childHead=Ie.$$childTail=Ne,(Le||Ie!==this)&&Ne.$on("$destroy",re),Ne},$watch:function(Le,Ie,Ne,Be){var tt=ie(Le),dt=K(Ie)?Ie:b;if(tt.$$watchDelegate)return tt.$$watchDelegate(this,dt,Ne,tt,Le);var nt=this,gt=nt.$$watchers,Et={fn:dt,last:ct,get:tt,exp:Be||Le,eq:!!Ne};return P=null,gt||(gt=nt.$$watchers=[],gt.$$digestWatchIndex=-1),gt.unshift(Et),gt.$$digestWatchIndex++,ot(this,1),function(){var _t=Ge(gt,Et);_t>=0&&(ot(nt,-1),_t<gt.$$digestWatchIndex&&gt.$$digestWatchIndex--),P=null}},$watchGroup:function(Le,Ie){var Ne=new Array(Le.length),Be=new Array(Le.length),tt=[],dt=this,nt=!1,gt=!0;if(!Le.length){var Et=!0;return dt.$evalAsync(function(){Et&&Ie(Be,Be,dt)}),function(){Et=!1}}if(Le.length===1)return this.$watch(Le[0],function(Pt,Zt,Gt){Be[0]=Pt,Ne[0]=Zt,Ie(Be,Pt===Zt?Be:Ne,Gt)});e(Le,function(_t,Pt){var Zt=dt.$watch(_t,function(cr){Be[Pt]=cr,nt||(nt=!0,dt.$evalAsync(Rt))});tt.push(Zt)});function Rt(){nt=!1;try{gt?(gt=!1,Ie(Be,Be,dt)):Ie(Be,Ne,dt)}finally{for(var _t=0;_t<Le.length;_t++)Ne[_t]=Be[_t]}}return function(){for(;tt.length;)tt.shift()()}},$watchCollection:function(Le,Ie){Gt.$$pure=ie(Le).literal,Gt.$stateful=!Gt.$$pure;var Ne=this,Be,tt,dt,nt=Ie.length>1,gt=0,Et=ie(Le,Gt),Rt=[],_t={},Pt=!0,Zt=0;function Gt(_r){Be=_r;var kr,Pr,Gr,Hr,pn;if(!R(Be)){if(!q(Be))tt!==Be&&(tt=Be,gt++);else if(h(Be)){tt!==Rt&&(tt=Rt,Zt=tt.length=0,gt++),kr=Be.length,Zt!==kr&&(gt++,tt.length=Zt=kr);for(var tn=0;tn<kr;tn++)pn=tt[tn],Hr=Be[tn],Gr=pn!==pn&&Hr!==Hr,!Gr&&pn!==Hr&&(gt++,tt[tn]=Hr)}else{tt!==_t&&(tt=_t={},Zt=0,gt++),kr=0;for(Pr in Be)_.call(Be,Pr)&&(kr++,Hr=Be[Pr],pn=tt[Pr],Pr in tt?(Gr=pn!==pn&&Hr!==Hr,!Gr&&pn!==Hr&&(gt++,tt[Pr]=Hr)):(Zt++,tt[Pr]=Hr,gt++));if(Zt>kr){gt++;for(Pr in tt)_.call(Be,Pr)||(Zt--,delete tt[Pr])}}return gt}}function cr(){if(Pt?(Pt=!1,Ie(Be,Be,Ne)):Ie(Be,dt,Ne),nt)if(!q(Be))dt=Be;else if(h(Be)){dt=new Array(Be.length);for(var _r=0;_r<Be.length;_r++)dt[_r]=Be[_r]}else{dt={};for(var kr in Be)_.call(Be,kr)&&(dt[kr]=Be[kr])}}return this.$watch(Et,cr)},$digest:function(){var Le,Ie,Ne,Be,tt,dt,nt,gt=r,Et,Rt,_t=ke.length?xe:this,Pt=[],Zt,Gt;vt("$digest"),ne.$$checkUrlChange(),this===xe&&H!==null&&(ne.defer.cancel(H),ze()),P=null;do{nt=!1,Rt=_t;for(var cr=0;cr<ke.length;cr++){try{Gt=ke[cr],Be=Gt.fn,Be(Gt.scope,Gt.locals)}catch(_r){ce(_r)}P=null}ke.length=0;e:do{if(dt=!Rt.$$suspended&&Rt.$$watchers)for(dt.$$digestWatchIndex=dt.length;dt.$$digestWatchIndex--;)try{if(Le=dt[dt.$$digestWatchIndex],Le){if(tt=Le.get,(Ie=tt(Rt))!==(Ne=Le.last)&&!(Le.eq?Mt(Ie,Ne):l(Ie)&&l(Ne)))nt=!0,P=Le,Le.last=Le.eq?Ze(Ie,null):Ie,Be=Le.fn,Be(Ie,Ne===ct?Ie:Ne,Rt),gt<5&&(Zt=4-gt,Pt[Zt]||(Pt[Zt]=[]),Pt[Zt].push({msg:K(Le.exp)?"fn: "+(Le.exp.name||Le.exp.toString()):Le.exp,newVal:Ie,oldVal:Ne}));else if(Le===P){nt=!1;break e}}}catch(_r){ce(_r)}if(!(Et=!Rt.$$suspended&&Rt.$$watchersCount&&Rt.$$childHead||Rt!==_t&&Rt.$$nextSibling))for(;Rt!==_t&&!(Et=Rt.$$nextSibling);)Rt=Rt.$parent}while(Rt=Et);if((nt||ke.length)&&!gt--)throw st(),y("infdig",`{0} $digest() iterations reached. Aborting!
Watchers fired in the last 5 iterations: {1}`,r,Pt)}while(nt||ke.length);for(st();at<Fe.length;)try{Fe[at++]()}catch(_r){ce(_r)}Fe.length=at=0,ne.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var Le=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===xe&&ne.$$applicationDestroyed(),ot(this,-this.$$watchersCount);for(var Ie in this.$$listenerCount)it(this,this.$$listenerCount[Ie],Ie);Le&&Le.$$childHead===this&&(Le.$$childHead=this.$$nextSibling),Le&&Le.$$childTail===this&&(Le.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=b,this.$on=this.$watch=this.$watchGroup=function(){return b},this.$$listeners={},this.$$nextSibling=null,me(this)}},$eval:function(Le,Ie){return ie(Le)(this,Ie)},$evalAsync:function(Le,Ie){!xe.$$phase&&!ke.length&&ne.defer(function(){ke.length&&xe.$digest()},null,"$evalAsync"),ke.push({scope:this,fn:ie(Le),locals:Ie})},$$postDigest:function(Le){Fe.push(Le)},$apply:function(Le){try{vt("$apply");try{return this.$eval(Le)}finally{st()}}catch(Ie){ce(Ie)}finally{try{xe.$digest()}catch(Ie){throw ce(Ie),Ie}}},$applyAsync:function(Le){var Ie=this;Le&&Oe.push(Ne),Le=ie(Le),Xe();function Ne(){Ie.$eval(Le)}},$on:function(Le,Ie){var Ne=this.$$listeners[Le];Ne||(this.$$listeners[Le]=Ne=[]),Ne.push(Ie);var Be=this;do Be.$$listenerCount[Le]||(Be.$$listenerCount[Le]=0),Be.$$listenerCount[Le]++;while(Be=Be.$parent);var tt=this;return function(){var dt=Ne.indexOf(Ie);dt!==-1&&(delete Ne[dt],it(tt,1,Le))}},$emit:function(Le,Ie){var Ne=[],Be,tt=this,dt=!1,nt={name:Le,targetScope:tt,stopPropagation:function(){dt=!0},preventDefault:function(){nt.defaultPrevented=!0},defaultPrevented:!1},gt=te([nt],arguments,1),Et,Rt;do{for(Be=tt.$$listeners[Le]||Ne,nt.currentScope=tt,Et=0,Rt=Be.length;Et<Rt;Et++){if(!Be[Et]){Be.splice(Et,1),Et--,Rt--;continue}try{Be[Et].apply(null,gt)}catch(_t){ce(_t)}}if(dt)break;tt=tt.$parent}while(tt);return nt.currentScope=null,nt},$broadcast:function(Le,Ie){var Ne=this,Be=Ne,tt=Ne,dt={name:Le,targetScope:Ne,preventDefault:function(){dt.defaultPrevented=!0},defaultPrevented:!1};if(!Ne.$$listenerCount[Le])return dt;for(var nt=te([dt],arguments,1),gt,Et,Rt;Be=tt;){for(dt.currentScope=Be,gt=Be.$$listeners[Le]||[],Et=0,Rt=gt.length;Et<Rt;Et++){if(!gt[Et]){gt.splice(Et,1),Et--,Rt--;continue}try{gt[Et].apply(null,nt)}catch(_t){ce(_t)}}if(!(tt=Be.$$listenerCount[Le]&&Be.$$childHead||Be!==Ne&&Be.$$nextSibling))for(;Be!==Ne&&!(tt=Be.$$nextSibling);)Be=Be.$parent}return dt.currentScope=null,dt}};var xe=new be,ke=xe.$$asyncQueue=[],Fe=xe.$$postDigestQueue=[],Oe=xe.$$applyAsyncQueue=[],at=0;return xe;function vt(Le){if(xe.$$phase)throw y("inprog","{0} already in progress",xe.$$phase);xe.$$phase=Le}function st(){xe.$$phase=null}function ot(Le,Ie){do Le.$$watchersCount+=Ie;while(Le=Le.$parent)}function it(Le,Ie,Ne){do Le.$$listenerCount[Ne]-=Ie,Le.$$listenerCount[Ne]===0&&delete Le.$$listenerCount[Ne];while(Le=Le.$parent)}function ct(){}function ze(){for(;Oe.length;)try{Oe.shift()()}catch(Le){ce(Le)}H=null}function Xe(){H===null&&(H=ne.defer(function(){xe.$apply(ze)},null,"$applyAsync"))}}]}function cl(){var r=/^\s*(https?|s?ftp|mailto|tel|file):/,y=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(P){return L(P)?(r=P,this):r},this.imgSrcSanitizationTrustedUrlList=function(P){return L(P)?(y=P,this):y},this.$get=function(){return function(H,X){var ce=X?y:r,ie=xt(H&&H.trim()).href;return ie!==""&&!ie.match(ce)?"unsafe:"+ie:H}}}var Hn=I("$sce"),Nr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},dl=/_([a-z])/g;function Uo(r){return r.replace(dl,yn)}function fl(r){if(r==="self")return r;if(ae(r)){if(r.indexOf("***")>-1)throw Hn("iwcard","Illegal sequence *** in string matcher.  String: {0}",r);return r=Ye(r).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+r+"$")}else{if(j(r))return new RegExp("^"+r.source+"$");throw Hn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Na(r){var y=[];return L(r)&&e(r,function(P){y.push(fl(P))}),y}function hl(){this.SCE_CONTEXTS=Nr;var r=["self"],y=[];this.trustedResourceUrlList=function(P){return arguments.length&&(r=Na(P)),r},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(P){this.trustedResourceUrlList=P}}),this.bannedResourceUrlList=function(P){return arguments.length&&(y=Na(P)),y},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(P){this.bannedResourceUrlList=P}}),this.$get=["$injector","$$sanitizeUri",function(P,H){var X=function(Oe){throw Hn("unsafe","Attempting to use an unsafe value in a safe context.")};P.has("$sanitize")&&(X=P.get("$sanitize"));function ce(Fe,Oe){return Fe==="self"?_l(Oe)||Sl(Oe):!!Fe.exec(Oe.href)}function ie(Fe){var Oe=xt(Fe.toString()),at,vt,st=!1;for(at=0,vt=r.length;at<vt;at++)if(ce(r[at],Oe)){st=!0;break}if(st){for(at=0,vt=y.length;at<vt;at++)if(ce(y[at],Oe)){st=!1;break}}return st}function ne(Fe){var Oe=function(vt){this.$$unwrapTrustedValue=function(){return vt}};return Fe&&(Oe.prototype=new Fe),Oe.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},Oe.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},Oe}var re=ne(),me={};me[Nr.HTML]=ne(re),me[Nr.CSS]=ne(re),me[Nr.MEDIA_URL]=ne(re),me[Nr.URL]=ne(me[Nr.MEDIA_URL]),me[Nr.JS]=ne(re),me[Nr.RESOURCE_URL]=ne(me[Nr.URL]);function be(Fe,Oe){var at=me.hasOwnProperty(Fe)?me[Fe]:null;if(!at)throw Hn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",Fe,Oe);if(Oe===null||R(Oe)||Oe==="")return Oe;if(typeof Oe!="string")throw Hn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",Fe);return new at(Oe)}function xe(Fe){return Fe instanceof re?Fe.$$unwrapTrustedValue():Fe}function ke(Fe,Oe){if(Oe===null||R(Oe)||Oe==="")return Oe;var at=me.hasOwnProperty(Fe)?me[Fe]:null;if(at&&Oe instanceof at)return Oe.$$unwrapTrustedValue();if(K(Oe.$$unwrapTrustedValue)&&(Oe=Oe.$$unwrapTrustedValue()),Fe===Nr.MEDIA_URL||Fe===Nr.URL)return H(Oe.toString(),Fe===Nr.MEDIA_URL);if(Fe===Nr.RESOURCE_URL){if(ie(Oe))return Oe;throw Hn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",Oe.toString())}else if(Fe===Nr.HTML)return X(Oe);throw Hn("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:be,getTrusted:ke,valueOf:xe}}]}function pl(){var r=!0;this.enabled=function(y){return arguments.length&&(r=!!y),r},this.$get=["$parse","$sceDelegate",function(y,P){if(r&&M<8)throw Hn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var H=ye(Nr);H.isEnabled=function(){return r},H.trustAs=P.trustAs,H.getTrusted=P.getTrusted,H.valueOf=P.valueOf,r||(H.trustAs=H.getTrusted=function(ne,re){return re},H.valueOf=C),H.parseAs=function(re,me){var be=y(me);return be.literal&&be.constant?be:y(me,function(xe){return H.getTrusted(re,xe)})};var X=H.parseAs,ce=H.getTrusted,ie=H.trustAs;return e(Nr,function(ne,re){var me=E(re);H[Uo("parse_as_"+me)]=function(be){return X(ne,be)},H[Uo("get_trusted_"+me)]=function(be){return ce(ne,be)},H[Uo("trust_as_"+me)]=function(be){return ie(ne,be)}}),H}]}function Ba(){this.$get=["$window","$document",function(r,y){var P={},H=r.nw&&r.nw.process,X=!H&&r.chrome&&(r.chrome.app&&r.chrome.app.runtime||!r.chrome.app&&r.chrome.runtime&&r.chrome.runtime.id),ce=!X&&r.history&&r.history.pushState,ie=a((/android (\d+)/.exec(E((r.navigator||{}).userAgent))||[])[1]),ne=/Boxee/i.test((r.navigator||{}).userAgent),re=y[0]||{},me=re.body&&re.body.style,be=!1,xe=!1;return me&&(be="transition"in me||"webkitTransition"in me,xe="animation"in me||"webkitAnimation"in me),{history:!!(ce&&!(ie<4)&&!ne),hasEvent:function(ke){if(ke==="input"&&M)return!1;if(R(P[ke])){var Fe=re.createElement("div");P[ke]="on"+ke in Fe}return P[ke]},csp:ue(),transitions:be,animations:xe,android:ie}}]}function gl(){this.$get=$(function(r){return new ml(r)})}function ml(r){var y=this,P={},H=[],X=y.ALL_TASKS_TYPE="$$all$$",ce=y.DEFAULT_TASK_TYPE="$$default$$";y.completeTask=ie,y.incTaskCount=be,y.notifyWhenNoPendingTasks=xe;function ie(ke,Fe){Fe=Fe||ce;try{ke()}finally{ne(Fe);var Oe=P[Fe],at=P[X];if(!at||!Oe)for(var vt=at?me:re,st;st=vt(Fe);)try{st()}catch(ot){r.error(ot)}}}function ne(ke){ke=ke||ce,P[ke]&&(P[ke]--,P[X]--)}function re(){var ke=H.pop();return ke&&ke.cb}function me(ke){for(var Fe=H.length-1;Fe>=0;--Fe){var Oe=H[Fe];if(Oe.type===ke)return H.splice(Fe,1),Oe.cb}}function be(ke){ke=ke||ce,P[ke]=(P[ke]||0)+1,P[X]=(P[X]||0)+1}function xe(ke,Fe){Fe=Fe||X,P[Fe]?H.push({type:Fe,cb:ke}):ke()}}var Ha=I("$templateRequest");function vl(){var r;this.httpOptions=function(y){return y?(r=y,this):r},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(y,P,H,X,ce){function ie(ne,re){ie.totalPendingRequests++,(!ae(ne)||R(P.get(ne)))&&(ne=ce.getTrustedResourceUrl(ne));var me=H.defaults&&H.defaults.transformResponse;return se(me)?me=me.filter(function(xe){return xe!==to}):me===to&&(me=null),H.get(ne,t({cache:P,transformResponse:me},r)).finally(function(){ie.totalPendingRequests--}).then(function(xe){return P.put(ne,xe.data)},be);function be(xe){return re||(xe=Ha("tpload","Failed to load template: {0} (HTTP status: {1} {2})",ne,xe.status,xe.statusText),y(xe)),X.reject(xe)}}return ie.totalPendingRequests=0,ie}]}function bl(){this.$get=["$rootScope","$browser","$location",function(r,y,P){var H={};return H.findBindings=function(X,ce,ie){var ne=X.getElementsByClassName("ng-binding"),re=[];return e(ne,function(me){var be=p.element(me).data("$binding");be&&e(be,function(xe){if(ie){var ke=new RegExp("(^|\\s)"+Ye(ce)+"(\\s|\\||$)");ke.test(xe)&&re.push(me)}else xe.indexOf(ce)!==-1&&re.push(me)})}),re},H.findModels=function(X,ce,ie){for(var ne=["ng-","data-ng-","ng\\:"],re=0;re<ne.length;++re){var me=ie?"=":"*=",be="["+ne[re]+"model"+me+'"'+ce+'"]',xe=X.querySelectorAll(be);if(xe.length)return xe}},H.getLocation=function(){return P.url()},H.setLocation=function(X){X!==P.url()&&(P.url(X),r.$digest())},H.whenStable=function(X){y.notifyWhenNoOutstandingRequests(X)},H}]}var yl=I("$timeout");function Qn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(r,y,P,H,X){var ce={};function ie(ne,re,me){K(ne)||(me=re,re=ne,ne=b);var be=de(arguments,3),xe=L(me)&&!me,ke=(xe?H:P).defer(),Fe=ke.promise,Oe;return Oe=y.defer(function(){try{ke.resolve(ne.apply(null,be))}catch(at){ke.reject(at),X(at)}finally{delete ce[Fe.$$timeoutId]}xe||r.$apply()},re,"$timeout"),Fe.$$timeoutId=Oe,ce[Oe]=ke,Fe}return ie.cancel=function(ne){if(!ne)return!1;if(!ne.hasOwnProperty("$$timeoutId"))throw yl("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!ce.hasOwnProperty(ne.$$timeoutId))return!1;var re=ne.$$timeoutId,me=ce[re];return oo(me.promise),me.reject("canceled"),delete ce[re],y.defer.cancel(re)},ie}]}var en=we.document.createElement("a"),Ua=xt(we.location.href),gi;en.href="http://[::1]";var wl=en.hostname==="[::1]";function xt(r){if(!ae(r))return r;var y=r;M&&(en.setAttribute("href",y),y=en.href),en.setAttribute("href",y);var P=en.hostname;return!wl&&P.indexOf(":")>-1&&(P="["+P+"]"),{href:en.href,protocol:en.protocol?en.protocol.replace(/:$/,""):"",host:en.host,search:en.search?en.search.replace(/^\?/,""):"",hash:en.hash?en.hash.replace(/^#/,""):"",hostname:P,port:en.port,pathname:en.pathname.charAt(0)==="/"?en.pathname:"/"+en.pathname}}function _l(r){return Cr(r,Ua)}function Sl(r){return Cr(r,ao())}function za(r){var y=[Ua].concat(r.map(xt));return function(H){var X=xt(H);return y.some(Cr.bind(null,X))}}function Cr(r,y){return r=xt(r),y=xt(y),r.protocol===y.protocol&&r.host===y.host}function ao(){return we.document.baseURI?we.document.baseURI:(gi||(gi=we.document.createElement("a"),gi.href=".",gi=gi.cloneNode(!1)),gi.href)}function ja(){this.$get=$(we)}function so(r){var y=r[0]||{},P={},H="";function X(ie){try{return ie.cookie||""}catch{return""}}function ce(ie){try{return decodeURIComponent(ie)}catch{return ie}}return function(){var ie,ne,re,me,be,xe=X(y);if(xe!==H)for(H=xe,ie=H.split("; "),P={},re=0;re<ie.length;re++)ne=ie[re],me=ne.indexOf("="),me>0&&(be=ce(ne.substring(0,me)),R(P[be])&&(P[be]=ce(ne.substring(me+1))));return P}}so.$inject=["$document"];function xl(){this.$get=so}Va.$inject=["$provide"];function Va(r){var y="Filter";function P(H,X){if(q(H)){var ce={};return e(H,function(ie,ne){ce[ne]=P(ne,ie)}),ce}else return r.factory(H+y,X)}this.register=P,this.$get=["$injector",function(H){return function(X){return H.get(X+y)}}],P("currency",Ga),P("date",Ja),P("filter",El),P("json",ai),P("limitTo",Fl),P("lowercase",Ml),P("number",Vo),P("orderBy",Xa),P("uppercase",$l)}function El(){return function(r,y,P,H){if(!h(r)){if(r==null)return r;throw I("filter")("notarray","Expected array but received: {0}",r)}H=H||"$";var X=Nn(y),ce,ie;switch(X){case"function":ce=y;break;case"boolean":case"null":case"number":case"string":ie=!0;case"object":ce=Cl(y,P,H,ie);break;default:return r}return Array.prototype.filter.call(r,ce)}}function Cl(r,y,P,H){var X=q(r)&&P in r,ce;return y===!0?y=Mt:K(y)||(y=function(ie,ne){return R(ie)?!1:ie===null||ne===null?ie===ne:q(ne)||q(ie)&&!W(ie)?!1:(ie=E(""+ie),ne=E(""+ne),ie.indexOf(ne)!==-1)}),ce=function(ie){return X&&!q(ie)?oi(ie,r[P],y,P,!1):oi(ie,r,y,P,H)},ce}function oi(r,y,P,H,X,ce){var ie=Nn(r),ne=Nn(y);if(ne==="string"&&y.charAt(0)==="!")return!oi(r,y.substring(1),P,H,X);if(se(r))return r.some(function(ke){return oi(ke,y,P,H,X)});switch(ie){case"object":var re;if(X){for(re in r)if(re.charAt&&re.charAt(0)!=="$"&&oi(r[re],y,P,H,!0))return!0;return ce?!1:oi(r,y,P,H,!1)}else if(ne==="object"){for(re in y){var me=y[re];if(!(K(me)||R(me))){var be=re===H,xe=be?r:r[re];if(!oi(xe,me,P,H,be,be))return!1}}return!0}else return P(r,y);case"function":return!1;default:return P(r,y)}}function Nn(r){return r===null?"null":typeof r}var Wa=22,zo=".",jo="0";Ga.$inject=["$locale"];function Ga(r){var y=r.NUMBER_FORMATS;return function(P,H,X){R(H)&&(H=y.CURRENCY_SYM),R(X)&&(X=y.PATTERNS[1].maxFrac);var ce=H?/\u00A4/g:/\s*\u00A4\s*/g;return P==null?P:lo(P,y.PATTERNS[1],y.GROUP_SEP,y.DECIMAL_SEP,X).replace(ce,H)}}Vo.$inject=["$locale"];function Vo(r){var y=r.NUMBER_FORMATS;return function(P,H){return P==null?P:lo(P,y.PATTERNS[0],y.GROUP_SEP,y.DECIMAL_SEP,H)}}function kl(r){var y=0,P,H,X,ce,ie;for((H=r.indexOf(zo))>-1&&(r=r.replace(zo,"")),(X=r.search(/e/i))>0?(H<0&&(H=X),H+=+r.slice(X+1),r=r.substring(0,X)):H<0&&(H=r.length),X=0;r.charAt(X)===jo;X++);if(X===(ie=r.length))P=[0],H=1;else{for(ie--;r.charAt(ie)===jo;)ie--;for(H-=X,P=[],ce=0;X<=ie;X++,ce++)P[ce]=+r.charAt(X)}return H>Wa&&(P=P.splice(0,Wa-1),y=H-1,H=1),{d:P,e:y,i:H}}function Ya(r,y,P,H){var X=r.d,ce=X.length-r.i;y=R(y)?Math.min(Math.max(P,ce),H):+y;var ie=y+r.i,ne=X[ie];if(ie>0){X.splice(Math.max(r.i,ie));for(var re=ie;re<X.length;re++)X[re]=0}else{ce=Math.max(0,ce),r.i=1,X.length=Math.max(1,ie=y+1),X[0]=0;for(var me=1;me<ie;me++)X[me]=0}if(ne>=5)if(ie-1<0){for(var be=0;be>ie;be--)X.unshift(0),r.i++;X.unshift(1),r.i++}else X[ie-1]++;for(;ce<Math.max(0,y);ce++)X.push(0);var xe=X.reduceRight(function(ke,Fe,Oe,at){return Fe=Fe+ke,at[Oe]=Fe%10,Math.floor(Fe/10)},0);xe&&(X.unshift(xe),r.i++)}function lo(r,y,P,H,X){if(!(ae(r)||fe(r))||isNaN(r))return"";var ce=!isFinite(r),ie=!1,ne=Math.abs(r)+"",re="",me;if(ce)re="\u221E";else{me=kl(ne),Ya(me,X,y.minFrac,y.maxFrac);var be=me.d,xe=me.i,ke=me.e,Fe=[];for(ie=be.reduce(function(at,vt){return at&&!vt},!0);xe<0;)be.unshift(0),xe++;xe>0?Fe=be.splice(xe,be.length):(Fe=be,be=[0]);var Oe=[];for(be.length>=y.lgSize&&Oe.unshift(be.splice(-y.lgSize,be.length).join(""));be.length>y.gSize;)Oe.unshift(be.splice(-y.gSize,be.length).join(""));be.length&&Oe.unshift(be.join("")),re=Oe.join(P),Fe.length&&(re+=H+Fe.join("")),ke&&(re+="e+"+ke)}return r<0&&!ie?y.negPre+re+y.negSuf:y.posPre+re+y.posSuf}function uo(r,y,P,H){var X="";for((r<0||H&&r<=0)&&(H?r=-r+1:(r=-r,X="-")),r=""+r;r.length<y;)r=jo+r;return P&&(r=r.substr(r.length-y)),X+r}function Br(r,y,P,H,X){return P=P||0,function(ce){var ie=ce["get"+r]();return(P>0||ie>-P)&&(ie+=P),ie===0&&P===-12&&(ie=12),uo(ie,y,H,X)}}function mi(r,y,P){return function(H,X){var ce=H["get"+r](),ie=(P?"STANDALONE":"")+(y?"SHORT":""),ne=d(ie+r);return X[ne][ce]}}function Al(r,y,P){var H=-1*P,X=H>=0?"+":"";return X+=uo(Math[H>0?"floor":"ceil"](H/60),2)+uo(Math.abs(H%60),2),X}function qa(r){var y=new Date(r,0,1).getDay();return new Date(r,0,(y<=4?5:12)-y)}function Rl(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function Ka(r){return function(y){var P=qa(y.getFullYear()),H=Rl(y),X=+H-+P,ce=1+Math.round(X/6048e5);return uo(ce,r)}}function Tl(r,y){return r.getHours()<12?y.AMPMS[0]:y.AMPMS[1]}function Wo(r,y){return r.getFullYear()<=0?y.ERAS[0]:y.ERAS[1]}function Il(r,y){return r.getFullYear()<=0?y.ERANAMES[0]:y.ERANAMES[1]}var Pl={yyyy:Br("FullYear",4,0,!1,!0),yy:Br("FullYear",2,0,!0,!0),y:Br("FullYear",1,0,!1,!0),MMMM:mi("Month"),MMM:mi("Month",!0),MM:Br("Month",2,1),M:Br("Month",1,1),LLLL:mi("Month",!1,!0),dd:Br("Date",2),d:Br("Date",1),HH:Br("Hours",2),H:Br("Hours",1),hh:Br("Hours",2,-12),h:Br("Hours",1,-12),mm:Br("Minutes",2),m:Br("Minutes",1),ss:Br("Seconds",2),s:Br("Seconds",1),sss:Br("Milliseconds",3),EEEE:mi("Day"),EEE:mi("Day",!0),a:Tl,Z:Al,ww:Ka(2),w:Ka(1),G:Wo,GG:Wo,GGG:Wo,GGGG:Il},Dl=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ll=/^-?\d+$/;Ja.$inject=["$locale"];function Ja(r){var y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function P(H){var X;if(X=H.match(y)){var ce=new Date(0),ie=0,ne=0,re=X[8]?ce.setUTCFullYear:ce.setFullYear,me=X[8]?ce.setUTCHours:ce.setHours;X[9]&&(ie=a(X[9]+X[10]),ne=a(X[9]+X[11])),re.call(ce,a(X[1]),a(X[2])-1,a(X[3]));var be=a(X[4]||0)-ie,xe=a(X[5]||0)-ne,ke=a(X[6]||0),Fe=Math.round(parseFloat("0."+(X[7]||0))*1e3);return me.call(ce,be,xe,ke,Fe),ce}return H}return function(H,X,ce){var ie="",ne=[],re,me;if(X=X||"mediumDate",X=r.DATETIME_FORMATS[X]||X,ae(H)&&(H=Ll.test(H)?a(H):P(H)),fe(H)&&(H=new Date(H)),!Ee(H)||!isFinite(H.getTime()))return H;for(;X;)me=Dl.exec(X),me?(ne=te(ne,me,1),X=ne.pop()):(ne.push(X),X=null);var be=H.getTimezoneOffset();return ce&&(be=mt(ce,be),H=Dt(H,ce,!0)),e(ne,function(xe){re=Pl[xe],ie+=re?re(H,r.DATETIME_FORMATS,be):xe==="''"?"'":xe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ie}}function ai(){return function(r,y){return R(y)&&(y=2),je(r,y)}}var Ml=$(E),$l=$(d);function Fl(){return function(r,y,P){return Math.abs(Number(y))===1/0?y=Number(y):y=a(y),l(y)||(fe(r)&&(r=r.toString()),!h(r))?r:(P=!P||isNaN(P)?0:a(P),P=P<0?Math.max(0,r.length+P):P,y>=0?Go(r,P,P+y):P===0?Go(r,y,r.length):Go(r,Math.max(0,P+y),P))}}function Go(r,y,P){return ae(r)?r.slice(y,P):N.call(r,y,P)}Xa.$inject=["$parse"];function Xa(r){return function(ie,ne,re,me){if(ie==null)return ie;if(!h(ie))throw I("orderBy")("notarray","Expected array but received: {0}",ie);se(ne)||(ne=[ne]),ne.length===0&&(ne=["+"]);var be=y(ne),xe=re?-1:1,ke=K(me)?me:ce,Fe=Array.prototype.map.call(ie,Oe);return Fe.sort(at),ie=Fe.map(function(vt){return vt.value}),ie;function Oe(vt,st){return{value:vt,tieBreaker:{value:st,type:"number",index:st},predicateValues:be.map(function(ot){return X(ot.get(vt),st)})}}function at(vt,st){for(var ot=0,it=be.length;ot<it;ot++){var ct=ke(vt.predicateValues[ot],st.predicateValues[ot]);if(ct)return ct*be[ot].descending*xe}return(ke(vt.tieBreaker,st.tieBreaker)||ce(vt.tieBreaker,st.tieBreaker))*xe}};function y(ie){return ie.map(function(ne){var re=1,me=C;if(K(ne))me=ne;else if(ae(ne)&&((ne.charAt(0)==="+"||ne.charAt(0)==="-")&&(re=ne.charAt(0)==="-"?-1:1,ne=ne.substring(1)),ne!==""&&(me=r(ne),me.constant))){var be=me();me=function(xe){return xe[be]}}return{get:me,descending:re}})}function P(ie){switch(typeof ie){case"number":case"boolean":case"string":return!0;default:return!1}}function H(ie){return K(ie.valueOf)&&(ie=ie.valueOf(),P(ie))||W(ie)&&(ie=ie.toString(),P(ie)),ie}function X(ie,ne){var re=typeof ie;return ie===null?re="null":re==="object"&&(ie=H(ie)),{value:ie,type:re,index:ne}}function ce(ie,ne){var re=0,me=ie.type,be=ne.type;if(me===be){var xe=ie.value,ke=ne.value;me==="string"?(xe=xe.toLowerCase(),ke=ke.toLowerCase()):me==="object"&&(q(xe)&&(xe=ie.index),q(ke)&&(ke=ne.index)),xe!==ke&&(re=xe<ke?-1:1)}else re=me==="undefined"?1:be==="undefined"?-1:me==="null"?1:be==="null"||me<be?-1:1;return re}}function vi(r){return K(r)&&(r={link:r}),r.restrict=r.restrict||"AC",$(r)}var Ol=$({restrict:"E",compile:function(r,y){if(!y.href&&!y.xlinkHref)return function(P,H){if(H[0].nodeName.toLowerCase()==="a"){var X=m.call(H.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";H.on("click",function(ce){H.attr(X)||ce.preventDefault()})}}}}),co={};e(Yi,function(r,y){if(r==="multiple")return;function P(ce,ie,ne){ce.$watch(ne[H],function(me){ne.$set(y,!!me)})}var H=On("ng-"+y),X=P;r==="checked"&&(X=function(ce,ie,ne){ne.ngModel!==ne[H]&&P(ce,ie,ne)}),co[H]=function(){return{restrict:"A",priority:100,link:X}}}),e(Fr,function(r,y){co[y]=function(){return{priority:100,link:function(P,H,X){if(y==="ngPattern"&&X.ngPattern.charAt(0)==="/"){var ce=X.ngPattern.match(D);if(ce){X.$set("ngPattern",new RegExp(ce[1],ce[2]));return}}P.$watch(X[y],function(ne){X.$set(y,ne)})}}}}),e(["src","srcset","href"],function(r){var y=On("ng-"+r);co[y]=["$sce",function(P){return{priority:99,link:function(H,X,ce){var ie=r,ne=r;r==="href"&&m.call(X.prop("href"))==="[object SVGAnimatedString]"&&(ne="xlinkHref",ce.$attr[ne]="xlink:href",ie=null),ce.$set(y,P.getTrustedMediaUrl(ce[y])),ce.$observe(y,function(re){if(!re){r==="href"&&ce.$set(ne,null);return}ce.$set(ne,re),M&&ie&&X.prop(ie,ce[ne])})}}}]});var kn={$addControl:b,$getControls:$([]),$$renameControl:Nl,$removeControl:b,$setValidity:b,$setDirty:b,$setPristine:b,$setSubmitted:b,$$setSubmitted:b},si="ng-pending",Za="ng-submitted";function Nl(r,y){r.$name=y}fo.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function fo(r,y,P,H,X){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=X(y.name||y.ngForm||"")(P),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=kn,this.$$element=r,this.$$animate=H,li(this)}fo.prototype={$rollbackViewValue:function(){e(this.$$controls,function(r){r.$rollbackViewValue()})},$commitViewValue:function(){e(this.$$controls,function(r){r.$commitViewValue()})},$addControl:function(r){er(r.$name,"input"),this.$$controls.push(r),r.$name&&(this[r.$name]=r),r.$$parentForm=this},$getControls:function(){return ye(this.$$controls)},$$renameControl:function(r,y){var P=r.$name;this[P]===r&&delete this[P],this[y]=r,r.$name=y},$removeControl:function(r){r.$name&&this[r.$name]===r&&delete this[r.$name],e(this.$pending,function(y,P){this.$setValidity(P,null,r)},this),e(this.$error,function(y,P){this.$setValidity(P,null,r)},this),e(this.$$success,function(y,P){this.$setValidity(P,null,r)},this),Ge(this.$$controls,r),r.$$parentForm=kn},$setDirty:function(){this.$$animate.removeClass(this.$$element,po),this.$$animate.addClass(this.$$element,ts),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,po,ts+" "+Za),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,e(this.$$controls,function(r){r.$setPristine()})},$setUntouched:function(){e(this.$$controls,function(r){r.$setUntouched()})},$setSubmitted:function(){for(var r=this;r.$$parentForm&&r.$$parentForm!==kn;)r=r.$$parentForm;r.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Za),this.$submitted=!0,e(this.$$controls,function(r){r.$$setSubmitted&&r.$$setSubmitted()})}},Li({clazz:fo,set:function(r,y,P){var H=r[y];if(!H)r[y]=[P];else{var X=H.indexOf(P);X===-1&&H.push(P)}},unset:function(r,y,P){var H=r[y];H&&(Ge(H,P),H.length===0&&delete r[y])}});var Qa=function(r){return["$timeout","$parse",function(y,P){var H={name:"form",restrict:r?"EAC":"E",require:["form","^^?form"],controller:fo,compile:function(ie,ne){ie.addClass(po).addClass(Ko);var re=ne.name?"name":r&&ne.ngForm?"ngForm":!1;return{pre:function(be,xe,ke,Fe){var Oe=Fe[0];if(!("action"in ke)){var at=function(ot){be.$apply(function(){Oe.$commitViewValue(),Oe.$setSubmitted()}),ot.preventDefault()};xe[0].addEventListener("submit",at),xe.on("$destroy",function(){y(function(){xe[0].removeEventListener("submit",at)},0,!1)})}var vt=Fe[1]||Oe.$$parentForm;vt.$addControl(Oe);var st=re?X(Oe.$name):b;re&&(st(be,Oe),ke.$observe(re,function(ot){Oe.$name!==ot&&(st(be,void 0),Oe.$$parentForm.$$renameControl(Oe,ot),st=X(Oe.$name),st(be,Oe))})),xe.on("$destroy",function(){Oe.$$parentForm.$removeControl(Oe),st(be,void 0),t(Oe,kn)})}}}};return H;function X(ce){return ce===""?P('this[""]').assign:P(ce).assign||b}}]},Bl=Qa(),Yo=Qa(!0);function li(r){r.$$classCache={},r.$$classCache[mu]=!(r.$$classCache[Ko]=r.$$element.hasClass(Ko))}function Li(r){var y=r.clazz,P=r.set,H=r.unset;y.prototype.$setValidity=function(re,me,be){R(me)?X(this,"$pending",re,be):ce(this,"$pending",re,be),le(me)?me?(H(this.$error,re,be),P(this.$$success,re,be)):(P(this.$error,re,be),H(this.$$success,re,be)):(H(this.$error,re,be),H(this.$$success,re,be)),this.$pending?(ie(this,si,!0),this.$valid=this.$invalid=void 0,ne(this,"",null)):(ie(this,si,!1),this.$valid=Sr(this.$error),this.$invalid=!this.$valid,ne(this,"",this.$valid));var xe;this.$pending&&this.$pending[re]?xe=void 0:this.$error[re]?xe=!1:this.$$success[re]?xe=!0:xe=null,ne(this,re,xe),this.$$parentForm.$setValidity(re,xe,this)};function X(re,me,be,xe){re[me]||(re[me]={}),P(re[me],be,xe)}function ce(re,me,be,xe){re[me]&&H(re[me],be,xe),Sr(re[me])&&(re[me]=void 0)}function ie(re,me,be){be&&!re.$$classCache[me]?(re.$$animate.addClass(re.$$element,me),re.$$classCache[me]=!0):!be&&re.$$classCache[me]&&(re.$$animate.removeClass(re.$$element,me),re.$$classCache[me]=!1)}function ne(re,me,be){me=me?"-"+ir(me,"-"):"",ie(re,Ko+me,be===!0),ie(re,mu+me,be===!1)}}function Sr(r){if(r){for(var y in r)if(r.hasOwnProperty(y))return!1}return!0}var S=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,V=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,he=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ve=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ce=/^(\d{4,})-(\d{2})-(\d{2})$/,Ve=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ht=/^(\d{4,})-W(\d\d)$/,zt=/^(\d{4,})-(\d\d)$/,gr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xr="keydown wheel mousedown",hn=Ht();e("date,datetime-local,month,time,week".split(","),function(r){hn[r]=!0});var Un={text:nc,date:qo("date",Ce,es(Ce,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":qo("datetimelocal",Ve,es(Ve,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:qo("time",gr,es(gr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:qo("week",ht,ic,"yyyy-Www"),month:qo("month",zt,es(zt,["yyyy","MM"]),"yyyy-MM"),number:oc,url:sc,email:lc,radio:uc,range:ac,checkbox:cc,hidden:b,button:b,submit:b,reset:b,file:b};function zn(r){r.$formatters.push(function(y){return r.$isEmpty(y)?y:y.toString()})}function nc(r,y,P,H,X,ce){ho(r,y,P,H,X,ce),zn(H)}function ho(r,y,P,H,X,ce){var ie=E(y[0].type);if(!X.android){var ne=!1;y.on("compositionstart",function(){ne=!0}),y.on("compositionupdate",function(xe){(R(xe.data)||xe.data==="")&&(ne=!1)}),y.on("compositionend",function(){ne=!1,me()})}var re,me=function(xe){if(re&&(ce.defer.cancel(re),re=null),!ne){var ke=y.val(),Fe=xe&&xe.type;ie!=="password"&&(!P.ngTrim||P.ngTrim!=="false")&&(ke=$e(ke)),(H.$viewValue!==ke||ke===""&&H.$$hasNativeValidators)&&H.$setViewValue(ke,Fe)}};if(X.hasEvent("input"))y.on("input",me);else{var be=function(xe,ke,Fe){re||(re=ce.defer(function(){re=null,(!ke||ke.value!==Fe)&&me(xe)}))};y.on("keydown",function(xe){var ke=xe.keyCode;ke===91||15<ke&&ke<19||37<=ke&&ke<=40||be(xe,this,this.value)}),X.hasEvent("paste")&&y.on("paste cut drop",be)}y.on("change",me),hn[ie]&&H.$$hasNativeValidators&&ie===P.type&&y.on(xr,function(xe){if(!re){var ke=this[T],Fe=ke.badInput,Oe=ke.typeMismatch;re=ce.defer(function(){re=null,(ke.badInput!==Fe||ke.typeMismatch!==Oe)&&me(xe)})}}),H.$render=function(){var xe=H.$isEmpty(H.$viewValue)?"":H.$viewValue;y.val()!==xe&&y.val(xe)}}function ic(r,y){if(Ee(r))return r;if(ae(r)){ht.lastIndex=0;var P=ht.exec(r);if(P){var H=+P[1],X=+P[2],ce=0,ie=0,ne=0,re=0,me=qa(H),be=(X-1)*7;return y&&(ce=y.getHours(),ie=y.getMinutes(),ne=y.getSeconds(),re=y.getMilliseconds()),new Date(H,0,me.getDate()+be,ce,ie,ne,re)}}return NaN}function es(r,y){return function(P,H){var X,ce;if(Ee(P))return P;if(ae(P)){if(P.charAt(0)==='"'&&P.charAt(P.length-1)==='"'&&(P=P.substring(1,P.length-1)),S.test(P))return new Date(P);if(r.lastIndex=0,X=r.exec(P),X){X.shift(),H?ce={yyyy:H.getFullYear(),MM:H.getMonth()+1,dd:H.getDate(),HH:H.getHours(),mm:H.getMinutes(),ss:H.getSeconds(),sss:H.getMilliseconds()/1e3}:ce={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},e(X,function(ne,re){re<y.length&&(ce[y[re]]=+ne)});var ie=new Date(ce.yyyy,ce.MM-1,ce.dd,ce.HH,ce.mm,ce.ss||0,ce.sss*1e3||0);return ce.yyyy<100&&ie.setFullYear(ce.yyyy),ie}}return NaN}}function qo(r,y,P,H){return function(ce,ie,ne,re,me,be,xe,ke){Hl(ce,ie,ne,re,r),ho(ce,ie,ne,re,me,be);var Fe=r==="time"||r==="datetimelocal",Oe,at;if(re.$parsers.push(function(Ie){if(re.$isEmpty(Ie))return null;if(y.test(Ie))return Xe(Ie,Oe);re.$$parserName=r}),re.$formatters.push(function(Ie){if(Ie&&!Ee(Ie))throw Jo("datefmt","Expected `{0}` to be a date",Ie);if(ct(Ie)){Oe=Ie;var Ne=re.$options.getOption("timezone");return Ne&&(at=Ne,Oe=Dt(Oe,Ne,!0)),Le(Ie,Ne)}else return Oe=null,at=null,""}),L(ne.min)||ne.ngMin){var vt=ne.min||ke(ne.ngMin)(ce),st=ze(vt);re.$validators.min=function(Ie){return!ct(Ie)||R(st)||P(Ie)>=st},ne.$observe("min",function(Ie){Ie!==vt&&(st=ze(Ie),vt=Ie,re.$validate())})}if(L(ne.max)||ne.ngMax){var ot=ne.max||ke(ne.ngMax)(ce),it=ze(ot);re.$validators.max=function(Ie){return!ct(Ie)||R(it)||P(Ie)<=it},ne.$observe("max",function(Ie){Ie!==ot&&(it=ze(Ie),ot=Ie,re.$validate())})}function ct(Ie){return Ie&&!(Ie.getTime&&Ie.getTime()!==Ie.getTime())}function ze(Ie){return L(Ie)&&!Ee(Ie)?Xe(Ie)||void 0:Ie}function Xe(Ie,Ne){var Be=re.$options.getOption("timezone");at&&at!==Be&&(Ne=et(Ne,mt(at)));var tt=P(Ie,Ne);return!isNaN(tt)&&Be&&(tt=Dt(tt,Be)),tt}function Le(Ie,Ne){var Be=H;Fe&&ae(re.$options.getOption("timeSecondsFormat"))&&(Be=H.replace("ss.sss",re.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var tt=xe("date")(Ie,Be,Ne);return Fe&&re.$options.getOption("timeStripZeroSeconds")&&(tt=tt.replace(/(?::00)?(?:\.000)?$/,"")),tt}}}function Hl(r,y,P,H,X){var ce=y[0],ie=H.$$hasNativeValidators=q(ce.validity);ie&&H.$parsers.push(function(ne){var re=y.prop(T)||{};if(re.badInput||re.typeMismatch){H.$$parserName=X;return}return ne})}function cu(r){r.$parsers.push(function(y){if(r.$isEmpty(y))return null;if(ve.test(y))return parseFloat(y);r.$$parserName="number"}),r.$formatters.push(function(y){if(!r.$isEmpty(y)){if(!fe(y))throw Jo("numfmt","Expected `{0}` to be a number",y);y=y.toString()}return y})}function jn(r){return L(r)&&!fe(r)&&(r=parseFloat(r)),l(r)?void 0:r}function Ul(r){return(r|0)===r}function zl(r){var y=r.toString(),P=y.indexOf(".");if(P===-1){if(-1<r&&r<1){var H=/e-(\d+)$/.exec(y);if(H)return Number(H[1])}return 0}return y.length-P-1}function du(r,y,P){var H=Number(r),X=!Ul(H),ce=!Ul(y),ie=!Ul(P);if(X||ce||ie){var ne=X?zl(H):0,re=ce?zl(y):0,me=ie?zl(P):0,be=Math.max(ne,re,me),xe=Math.pow(10,be);H=H*xe,y=y*xe,P=P*xe,X&&(H=Math.round(H)),ce&&(y=Math.round(y)),ie&&(P=Math.round(P))}return(H-y)%P===0}function oc(r,y,P,H,X,ce,ie,ne){Hl(r,y,P,H,"number"),cu(H),ho(r,y,P,H,X,ce);var re;if(L(P.min)||P.ngMin){var me=P.min||ne(P.ngMin)(r);re=jn(me),H.$validators.min=function(Oe,at){return H.$isEmpty(at)||R(re)||at>=re},P.$observe("min",function(Oe){Oe!==me&&(re=jn(Oe),me=Oe,H.$validate())})}if(L(P.max)||P.ngMax){var be=P.max||ne(P.ngMax)(r),xe=jn(be);H.$validators.max=function(Oe,at){return H.$isEmpty(at)||R(xe)||at<=xe},P.$observe("max",function(Oe){Oe!==be&&(xe=jn(Oe),be=Oe,H.$validate())})}if(L(P.step)||P.ngStep){var ke=P.step||ne(P.ngStep)(r),Fe=jn(ke);H.$validators.step=function(Oe,at){return H.$isEmpty(at)||R(Fe)||du(at,re||0,Fe)},P.$observe("step",function(Oe){Oe!==ke&&(Fe=jn(Oe),ke=Oe,H.$validate())})}}function ac(r,y,P,H,X,ce){Hl(r,y,P,H,"range"),cu(H),ho(r,y,P,H,X,ce);var ie=H.$$hasNativeValidators&&y[0].type==="range",ne=ie?0:void 0,re=ie?100:void 0,me=ie?1:void 0,be=y[0].validity,xe=L(P.min),ke=L(P.max),Fe=L(P.step),Oe=H.$render;H.$render=ie&&L(be.rangeUnderflow)&&L(be.rangeOverflow)?function(){Oe(),H.$setViewValue(y.val())}:Oe,xe&&(ne=jn(P.min),H.$validators.min=ie?function(){return!0}:function(ct,ze){return H.$isEmpty(ze)||R(ne)||ze>=ne},at("min",vt)),ke&&(re=jn(P.max),H.$validators.max=ie?function(){return!0}:function(ct,ze){return H.$isEmpty(ze)||R(re)||ze<=re},at("max",st)),Fe&&(me=jn(P.step),H.$validators.step=ie?function(){return!be.stepMismatch}:function(ct,ze){return H.$isEmpty(ze)||R(me)||du(ze,ne||0,me)},at("step",ot));function at(it,ct){y.attr(it,P[it]);var ze=P[it];P.$observe(it,function(Le){Le!==ze&&(ze=Le,ct(Le))})}function vt(it){if(ne=jn(it),!l(H.$modelValue))if(ie){var ct=y.val();ne>ct&&(ct=ne,y.val(ct)),H.$setViewValue(ct)}else H.$validate()}function st(it){if(re=jn(it),!l(H.$modelValue))if(ie){var ct=y.val();re<ct&&(y.val(re),ct=re<ne?ne:re),H.$setViewValue(ct)}else H.$validate()}function ot(it){me=jn(it),!l(H.$modelValue)&&(ie?H.$viewValue!==y.val()&&H.$setViewValue(y.val()):H.$validate())}}function sc(r,y,P,H,X,ce){ho(r,y,P,H,X,ce),zn(H),H.$validators.url=function(ie,ne){var re=ie||ne;return H.$isEmpty(re)||V.test(re)}}function lc(r,y,P,H,X,ce){ho(r,y,P,H,X,ce),zn(H),H.$validators.email=function(ie,ne){var re=ie||ne;return H.$isEmpty(re)||he.test(re)}}function uc(r,y,P,H){var X=!P.ngTrim||$e(P.ngTrim)!=="false";R(P.name)&&y.attr("name",u());var ce=function(ie){var ne;y[0].checked&&(ne=P.value,X&&(ne=$e(ne)),H.$setViewValue(ne,ie&&ie.type))};y.on("change",ce),H.$render=function(){var ie=P.value;X&&(ie=$e(ie)),y[0].checked=ie===H.$viewValue},P.$observe("value",H.$render)}function fu(r,y,P,H,X){var ce;if(L(H)){if(ce=r(H),!ce.constant)throw Jo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",P,H);return ce(y)}return X}function cc(r,y,P,H,X,ce,ie,ne){var re=fu(ne,r,"ngTrueValue",P.ngTrueValue,!0),me=fu(ne,r,"ngFalseValue",P.ngFalseValue,!1),be=function(xe){H.$setViewValue(y[0].checked,xe&&xe.type)};y.on("change",be),H.$render=function(){y[0].checked=H.$viewValue},H.$isEmpty=function(xe){return xe===!1},H.$formatters.push(function(xe){return Mt(xe,re)}),H.$parsers.push(function(xe){return xe?re:me})}var hu=["$browser","$sniffer","$filter","$parse",function(r,y,P,H){return{restrict:"E",require:["?ngModel"],link:{pre:function(X,ce,ie,ne){ne[0]&&(Un[E(ie.type)]||Un.text)(X,ce,ie,ne[0],y,r,P,H)}}}}],dc=function(){var r={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(y){this.setAttribute("value",y)}};return{restrict:"E",priority:200,compile:function(y,P){if(E(P.type)==="hidden")return{pre:function(H,X,ce,ie){var ne=X[0];ne.parentNode&&ne.parentNode.insertBefore(ne,ne.nextSibling),Object.defineProperty&&Object.defineProperty(ne,"value",r)}}}}},fc=/^(true|false|\d+)$/,hc=function(){function r(y,P,H){var X=L(H)?H:M===9?"":null;y.prop("value",X),P.$set("value",H)}return{restrict:"A",priority:100,compile:function(y,P){return fc.test(P.ngValue)?function(X,ce,ie){var ne=X.$eval(ie.ngValue);r(ce,ie,ne)}:function(X,ce,ie){X.$watch(ie.ngValue,function(re){r(ce,ie,re)})}}}},pc=["$compile",function(r){return{restrict:"AC",compile:function(P){return r.$$addBindingClass(P),function(X,ce,ie){r.$$addBindingInfo(ce,ie.ngBind),ce=ce[0],X.$watch(ie.ngBind,function(re){ce.textContent=fr(re)})}}}}],gc=["$interpolate","$compile",function(r,y){return{compile:function(H){return y.$$addBindingClass(H),function(ce,ie,ne){var re=r(ie.attr(ne.$attr.ngBindTemplate));y.$$addBindingInfo(ie,re.expressions),ie=ie[0],ne.$observe("ngBindTemplate",function(me){ie.textContent=R(me)?"":me})}}}}],mc=["$sce","$parse","$compile",function(r,y,P){return{restrict:"A",compile:function(X,ce){var ie=y(ce.ngBindHtml),ne=y(ce.ngBindHtml,function(me){return r.valueOf(me)});return P.$$addBindingClass(X),function(me,be,xe){P.$$addBindingInfo(be,xe.ngBindHtml),me.$watch(ne,function(){var Fe=ie(me);be.html(r.getTrustedHtml(Fe)||"")})}}}}],vc=$({restrict:"A",require:"ngModel",link:function(r,y,P,H){H.$viewChangeListeners.push(function(){r.$eval(P.ngChange)})}});function jl(r,y){r="ngClass"+r;var P;return["$parse",function(ie){return{restrict:"AC",link:function(ne,re,me){var be=re.data("$classCounts"),xe=!0,ke;be||(be=Ht(),re.data("$classCounts",be)),r!=="ngClass"&&(P||(P=ie("$index",function(ct){return ct&1})),ne.$watch(P,st)),ne.$watch(ie(me[r],ce),ot);function Fe(it){it=vt(X(it),1),me.$addClass(it)}function Oe(it){it=vt(X(it),-1),me.$removeClass(it)}function at(it,ct){var ze=X(it),Xe=X(ct),Le=H(ze,Xe),Ie=H(Xe,ze),Ne=vt(Le,-1),Be=vt(Ie,1);me.$addClass(Be),me.$removeClass(Ne)}function vt(it,ct){var ze=[];return e(it,function(Xe){(ct>0||be[Xe])&&(be[Xe]=(be[Xe]||0)+ct,be[Xe]===+(ct>0)&&ze.push(Xe))}),ze.join(" ")}function st(it){it===y?Fe(ke):Oe(ke),xe=it}function ot(it){xe===y&&at(ke,it),ke=it}}}}];function H(ie,ne){if(!ie||!ie.length)return[];if(!ne||!ne.length)return ie;var re=[];e:for(var me=0;me<ie.length;me++){for(var be=ie[me],xe=0;xe<ne.length;xe++)if(be===ne[xe])continue e;re.push(be)}return re}function X(ie){return ie&&ie.split(" ")}function ce(ie){if(!ie)return ie;var ne=ie;return se(ie)?ne=ie.map(ce).join(" "):q(ie)?ne=Object.keys(ie).filter(function(re){return ie[re]}).join(" "):ae(ie)||(ne=ie+""),ne}}var bc=jl("",!0),yc=jl("Odd",0),wc=jl("Even",1),_c=vi({compile:function(r,y){y.$set("ngCloak",void 0),r.removeClass("ng-cloak")}}),Sc=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],pu={},xc={blur:!0,focus:!0};e("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var y=On("ng-"+r);pu[y]=["$parse","$rootScope","$exceptionHandler",function(P,H,X){return gu(P,H,X,y,r,xc[r])}]});function gu(r,y,P,H,X,ce){return{restrict:"A",compile:function(ie,ne){var re=r(ne[H]);return function(be,xe){xe.on(X,function(ke){var Fe=function(){re(be,{$event:ke})};if(!y.$$phase)be.$apply(Fe);else if(ce)be.$evalAsync(Fe);else try{Fe()}catch(Oe){P(Oe)}})}}}}var Ec=["$animate","$compile",function(r,y){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(P,H,X,ce,ie){var ne,re,me;P.$watch(X.ngIf,function(xe){xe?re||ie(function(ke,Fe){re=Fe,ke[ke.length++]=y.$$createComment("end ngIf",X.ngIf),ne={clone:ke},r.enter(ke,H.parent(),H)}):(me&&(me.remove(),me=null),re&&(re.$destroy(),re=null),ne&&(me=Sn(ne.clone),r.leave(me).done(function(ke){ke!==!1&&(me=null)}),ne=null))})}}}],Cc=["$templateRequest","$anchorScroll","$animate",function(r,y,P){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:p.noop,compile:function(H,X){var ce=X.ngInclude||X.src,ie=X.onload||"",ne=X.autoscroll;return function(re,me,be,xe,ke){var Fe=0,Oe,at,vt,st=function(){at&&(at.remove(),at=null),Oe&&(Oe.$destroy(),Oe=null),vt&&(P.leave(vt).done(function(ot){ot!==!1&&(at=null)}),at=vt,vt=null)};re.$watch(ce,function(it){var ct=function(Xe){Xe!==!1&&L(ne)&&(!ne||re.$eval(ne))&&y()},ze=++Fe;it?(r(it,!0).then(function(Xe){if(!re.$$destroyed&&ze===Fe){var Le=re.$new();xe.template=Xe;var Ie=ke(Le,function(Ne){st(),P.enter(Ne,null,me).done(ct)});Oe=Le,vt=Ie,Oe.$emit("$includeContentLoaded",it),re.$eval(ie)}},function(){re.$$destroyed||ze===Fe&&(st(),re.$emit("$includeContentError",it))}),re.$emit("$includeContentRequested",it)):(st(),xe.template=null)})}}}}],kc=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(y,P,H,X){if(m.call(P[0]).match(/SVG/)){P.empty(),r(xn(X.template,we.document).childNodes)(y,function(ie){P.append(ie)},{futureParentElement:P});return}P.html(X.template),r(P.contents())(y)}}}],Ac=vi({priority:450,compile:function(){return{pre:function(r,y,P){r.$eval(P.ngInit)}}}}),Rc=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(r,y,P,H){var X=P.ngList||", ",ce=P.ngTrim!=="false",ie=ce?$e(X):X,ne=function(re){if(!R(re)){var me=[];return re&&e(re.split(ie),function(be){be&&me.push(ce?$e(be):be)}),me}};H.$parsers.push(ne),H.$formatters.push(function(re){if(se(re))return re.join(X)}),H.$isEmpty=function(re){return!re||!re.length}}}},Ko="ng-valid",mu="ng-invalid",po="ng-pristine",ts="ng-dirty",Vl="ng-untouched",vu="ng-touched",bu="ng-empty",yu="ng-not-empty",Jo=I("ngModel");rs.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function rs(r,y,P,H,X,ce,ie,ne,re){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=re(P.name||"",!1)(r),this.$$parentForm=kn,this.$options=ns,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=X(P.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=r,this.$$rootScope=r.$root,this.$$attr=P,this.$$element=H,this.$$animate=ce,this.$$timeout=ie,this.$$parse=X,this.$$q=ne,this.$$exceptionHandler=y,li(this),Tc(this)}rs.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var r=this.$$parse(this.$$attr.ngModel+"()"),y=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(P){var H=this.$$parsedNgModel(P);return K(H)&&(H=r(P)),H},this.$$ngModelSet=function(P,H){K(this.$$parsedNgModel(P))?y(P,{$$$p:H}):this.$$parsedNgModelAssign(P,H)}}else if(!this.$$parsedNgModel.assign)throw Jo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,wt(this.$$element))},$render:b,$isEmpty:function(r){return R(r)||r===""||r===null||r!==r},$$updateEmptyClasses:function(r){this.$isEmpty(r)?(this.$$animate.removeClass(this.$$element,yu),this.$$animate.addClass(this.$$element,bu)):(this.$$animate.removeClass(this.$$element,bu),this.$$animate.addClass(this.$$element,yu))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,ts),this.$$animate.addClass(this.$$element,po)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,po),this.$$animate.addClass(this.$$element,ts),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Vl,vu)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,vu,Vl)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!l(this.$modelValue)){var r=this.$$lastCommittedViewValue,y=this.$$rawModelValue,P=this.$valid,H=this.$modelValue,X=this.$options.getOption("allowInvalid"),ce=this;this.$$runValidators(y,r,function(ie){!X&&P!==ie&&(ce.$modelValue=ie?y:void 0,ce.$modelValue!==H&&ce.$$writeModelToScope())})}},$$runValidators:function(r,y,P){this.$$currentValidationRunId++;var H=this.$$currentValidationRunId,X=this;if(!ce()){me(!1);return}if(!ie()){me(!1);return}ne();function ce(){var be=X.$$parserName;if(R(X.$$parserValid))re(be,null);else return X.$$parserValid||(e(X.$validators,function(xe,ke){re(ke,null)}),e(X.$asyncValidators,function(xe,ke){re(ke,null)})),re(be,X.$$parserValid),X.$$parserValid;return!0}function ie(){var be=!0;return e(X.$validators,function(xe,ke){var Fe=!!xe(r,y);be=be&&Fe,re(ke,Fe)}),be?!0:(e(X.$asyncValidators,function(xe,ke){re(ke,null)}),!1)}function ne(){var be=[],xe=!0;e(X.$asyncValidators,function(ke,Fe){var Oe=ke(r,y);if(!ge(Oe))throw Jo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",Oe);re(Fe,void 0),be.push(Oe.then(function(){re(Fe,!0)},function(){xe=!1,re(Fe,!1)}))}),be.length?X.$$q.all(be).then(function(){me(xe)},b):me(!0)}function re(be,xe){H===X.$$currentValidationRunId&&X.$setValidity(be,xe)}function me(be){H===X.$$currentValidationRunId&&P(be)}},$commitViewValue:function(){var r=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),!(this.$$lastCommittedViewValue===r&&(r!==""||!this.$$hasNativeValidators))&&(this.$$updateEmptyClasses(r),this.$$lastCommittedViewValue=r,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var r=this.$$lastCommittedViewValue,y=r,P=this;if(this.$$parserValid=R(y)?void 0:!0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid){for(var H=0;H<this.$parsers.length;H++)if(y=this.$parsers[H](y),R(y)){this.$$parserValid=!1;break}}l(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var X=this.$modelValue,ce=this.$options.getOption("allowInvalid");this.$$rawModelValue=y,ce&&(this.$modelValue=y,ie()),this.$$runValidators(y,this.$$lastCommittedViewValue,function(ne){ce||(P.$modelValue=ne?y:void 0,ie())});function ie(){P.$modelValue!==X&&P.$$writeModelToScope()}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),e(this.$viewChangeListeners,function(r){try{r()}catch(y){this.$$exceptionHandler(y)}},this)},$setViewValue:function(r,y){this.$viewValue=r,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(y)},$$debounceViewValueCommit:function(r){var y=this.$options.getOption("debounce");fe(y[r])?y=y[r]:fe(y.default)&&this.$options.getOption("updateOn").indexOf(r)===-1?y=y.default:fe(y["*"])&&(y=y["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var P=this;y>0?this.$$pendingDebounce=this.$$timeout(function(){P.$commitViewValue()},y):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){P.$commitViewValue()})},$overrideModelOptions:function(r){this.$options=this.$options.createChild(r),this.$$setUpdateOnEvents()},$processModelValue:function(){var r=this.$$format();this.$viewValue!==r&&(this.$$updateEmptyClasses(r),this.$viewValue=this.$$lastCommittedViewValue=r,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,b))},$$format:function(){for(var r=this.$formatters,y=r.length,P=this.$modelValue;y--;)P=r[y](P);return P},$$setModelValue:function(r){this.$modelValue=this.$$rawModelValue=r,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(r){this.$$debounceViewValueCommit(r&&r.type)}};function Tc(r){r.$$scope.$watch(function(P){var H=r.$$ngModelGet(P);return H!==r.$modelValue&&(r.$modelValue===r.$modelValue||H===H)&&r.$$setModelValue(H),H})}Li({clazz:rs,set:function(r,y){r[y]=!0},unset:function(r,y){delete r[y]}});var Ic=["$rootScope",function(r){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:rs,priority:1,compile:function(P){return P.addClass(po).addClass(Vl).addClass(Ko),{pre:function(X,ce,ie,ne){var re=ne[0],me=ne[1]||re.$$parentForm,be=ne[2];be&&(re.$options=be.$options),re.$$initGetterSetters(),me.$addControl(re),ie.$observe("name",function(xe){re.$name!==xe&&re.$$parentForm.$$renameControl(re,xe)}),X.$on("$destroy",function(){re.$$parentForm.$removeControl(re)})},post:function(X,ce,ie,ne){var re=ne[0];re.$$setUpdateOnEvents();function me(){re.$setTouched()}ce.on("blur",function(){re.$touched||(r.$$phase?X.$evalAsync(me):X.$apply(me))})}}}}}],ns,Pc=/(\s+|^)default(\s+|$)/;function Wl(r){this.$$options=r}Wl.prototype={getOption:function(r){return this.$$options[r]},createChild:function(r){var y=!1;return r=t({},r),e(r,function(P,H){P==="$inherit"?H==="*"?y=!0:(r[H]=this.$$options[H],H==="updateOn"&&(r.updateOnDefault=this.$$options.updateOnDefault)):H==="updateOn"&&(r.updateOnDefault=!1,r[H]=$e(P.replace(Pc,function(){return r.updateOnDefault=!0," "})))},this),y&&(delete r["*"],wu(r,this.$$options)),wu(r,ns.$$options),new Wl(r)}},ns=new Wl({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Dc=function(){r.$inject=["$attrs","$scope"];function r(y,P){this.$$attrs=y,this.$$scope=P}return r.prototype={$onInit:function(){var y=this.parentCtrl?this.parentCtrl.$options:ns,P=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=y.createChild(P)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:r}};function wu(r,y){e(y,function(P,H){L(r[H])||(r[H]=P)})}var Lc=vi({terminal:!0,priority:1e3}),Mc=I("ngOptions"),$c=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Fc=["$compile","$document","$parse",function(r,y,P){function H(ne,re,me){var be=ne.match($c);if(!be)throw Mc("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",ne,wt(re));var xe=be[5]||be[7],ke=be[6],Fe=/ as /.test(be[0])&&be[1],Oe=be[9],at=P(be[2]?be[1]:xe),vt=Fe&&P(Fe),st=vt||at,ot=Oe&&P(Oe),it=Oe?function(nt,gt){return ot(me,gt)}:function(gt){return Wn(gt)},ct=function(nt,gt){return it(nt,Be(nt,gt))},ze=P(be[2]||be[1]),Xe=P(be[3]||""),Le=P(be[4]||""),Ie=P(be[8]),Ne={},Be=ke?function(nt,gt){return Ne[ke]=gt,Ne[xe]=nt,Ne}:function(nt){return Ne[xe]=nt,Ne};function tt(nt,gt,Et,Rt,_t){this.selectValue=nt,this.viewValue=gt,this.label=Et,this.group=Rt,this.disabled=_t}function dt(nt){var gt;if(!ke&&h(nt))gt=nt;else{gt=[];for(var Et in nt)nt.hasOwnProperty(Et)&&Et.charAt(0)!=="$"&&gt.push(Et)}return gt}return{trackBy:Oe,getTrackByValue:ct,getWatchables:P(Ie,function(nt){var gt=[];nt=nt||[];for(var Et=dt(nt),Rt=Et.length,_t=0;_t<Rt;_t++){var Pt=nt===Et?_t:Et[_t],Zt=nt[Pt],Gt=Be(Zt,Pt),cr=it(Zt,Gt);if(gt.push(cr),be[2]||be[1]){var _r=ze(me,Gt);gt.push(_r)}if(be[4]){var kr=Le(me,Gt);gt.push(kr)}}return gt}),getOptions:function(){for(var nt=[],gt={},Et=Ie(me)||[],Rt=dt(Et),_t=Rt.length,Pt=0;Pt<_t;Pt++){var Zt=Et===Rt?Pt:Rt[Pt],Gt=Et[Zt],cr=Be(Gt,Zt),_r=st(me,cr),kr=it(_r,cr),Pr=ze(me,cr),Gr=Xe(me,cr),Hr=Le(me,cr),pn=new tt(kr,_r,Pr,Gr,Hr);nt.push(pn),gt[kr]=pn}return{items:nt,selectValueMap:gt,getOptionFromViewValue:function(tn){return gt[ct(tn)]},getViewValueFromOption:function(tn){return Oe?Ze(tn.viewValue):tn.viewValue}}}}}var X=we.document.createElement("option"),ce=we.document.createElement("optgroup");function ie(ne,re,me,be){for(var xe=be[0],ke=be[1],Fe=me.multiple,Oe=0,at=re.children(),vt=at.length;Oe<vt;Oe++)if(at[Oe].value===""){xe.hasEmptyOption=!0,xe.emptyOption=at.eq(Oe);break}re.empty();var st=!!xe.emptyOption,ot=g(X.cloneNode(!1));ot.val("?");var it,ct=H(me.ngOptions,re,ne),ze=y[0].createDocumentFragment();xe.generateUnknownOptionValue=function(Be){return"?"},Fe?(xe.writeValue=function(tt){if(it){var dt=tt&&tt.map(Le)||[];it.items.forEach(function(nt){nt.element.selected&&!Me(dt,nt)&&(nt.element.selected=!1)})}},xe.readValue=function(){var tt=re.val()||[],dt=[];return e(tt,function(nt){var gt=it.selectValueMap[nt];gt&&!gt.disabled&&dt.push(it.getViewValueFromOption(gt))}),dt},ct.trackBy&&ne.$watchCollection(function(){if(se(ke.$viewValue))return ke.$viewValue.map(function(Be){return ct.getTrackByValue(Be)})},function(){ke.$render()})):(xe.writeValue=function(tt){if(it){var dt=re[0].options[re[0].selectedIndex],nt=it.getOptionFromViewValue(tt);dt&&dt.removeAttribute("selected"),nt?(re[0].value!==nt.selectValue&&(xe.removeUnknownOption(),re[0].value=nt.selectValue,nt.element.selected=!0),nt.element.setAttribute("selected","selected")):xe.selectUnknownOrEmptyOption(tt)}},xe.readValue=function(){var tt=it.selectValueMap[re.val()];return tt&&!tt.disabled?(xe.unselectEmptyOption(),xe.removeUnknownOption(),it.getViewValueFromOption(tt)):null},ct.trackBy&&ne.$watch(function(){return ct.getTrackByValue(ke.$viewValue)},function(){ke.$render()})),st&&(r(xe.emptyOption)(ne),re.prepend(xe.emptyOption),xe.emptyOption[0].nodeType===Cn?(xe.hasEmptyOption=!1,xe.registerOption=function(Be,tt){tt.val()===""&&(xe.hasEmptyOption=!0,xe.emptyOption=tt,xe.emptyOption.removeClass("ng-scope"),ke.$render(),tt.on("$destroy",function(){var dt=xe.$isEmptyOptionSelected();xe.hasEmptyOption=!1,xe.emptyOption=void 0,dt&&ke.$render()}))}):xe.emptyOption.removeClass("ng-scope")),ne.$watchCollection(ct.getWatchables,Ne);function Xe(Be,tt){var dt=X.cloneNode(!1);tt.appendChild(dt),Ie(Be,dt)}function Le(Be){var tt=it.getOptionFromViewValue(Be),dt=tt&&tt.element;return dt&&!dt.selected&&(dt.selected=!0),tt}function Ie(Be,tt){Be.element=tt,tt.disabled=Be.disabled,Be.label!==tt.label&&(tt.label=Be.label,tt.textContent=Be.label),tt.value=Be.selectValue}function Ne(){var Be=it&&xe.readValue();if(it)for(var tt=it.items.length-1;tt>=0;tt--){var dt=it.items[tt];L(dt.group)?xi(dt.element.parentNode):xi(dt.element)}it=ct.getOptions();var nt={};if(it.items.forEach(function(_t){var Pt;L(_t.group)?(Pt=nt[_t.group],Pt||(Pt=ce.cloneNode(!1),ze.appendChild(Pt),Pt.label=_t.group===null?"null":_t.group,nt[_t.group]=Pt),Xe(_t,Pt)):Xe(_t,ze)}),re[0].appendChild(ze),ke.$render(),!ke.$isEmpty(Be)){var gt=xe.readValue(),Et=ct.trackBy||Fe;(Et?!Mt(Be,gt):Be!==gt)&&(ke.$setViewValue(gt),ke.$render())}}}return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(re,me,be,xe){xe[0].registerOption=b},post:ie}}}],Oc=["$locale","$interpolate","$log",function(r,y,P){var H=/{}/g,X=/^when(Minus)?(.+)$/;return{link:function(ce,ie,ne){var re=ne.count,me=ne.$attr.when&&ie.attr(ne.$attr.when),be=ne.offset||0,xe=ce.$eval(me)||{},ke={},Fe=y.startSymbol(),Oe=y.endSymbol(),at=Fe+re+"-"+be+Oe,vt=p.noop,st;e(ne,function(it,ct){var ze=X.exec(ct);if(ze){var Xe=(ze[1]?"-":"")+E(ze[2]);xe[Xe]=ie.attr(ne.$attr[ct])}}),e(xe,function(it,ct){ke[ct]=y(it.replace(H,at))}),ce.$watch(re,function(ct){var ze=parseFloat(ct),Xe=l(ze);if(!Xe&&!(ze in xe)&&(ze=r.pluralCat(ze-be)),ze!==st&&!(Xe&&l(st))){vt();var Le=ke[ze];R(Le)?(ct!=null&&P.debug("ngPluralize: no rule defined for '"+ze+"' in "+me),vt=b,ot()):vt=ce.$watch(Le,ot),st=ze}});function ot(it){ie.text(it||"")}}}}],_u=I("ngRef"),Nc=["$parse",function(r){return{priority:-1,restrict:"A",compile:function(y,P){var H=On(ut(y)),X=r(P.ngRef),ce=X.assign||function(){throw _u("nonassign",'Expression in ngRef="{0}" is non-assignable!',P.ngRef)};return function(ie,ne,re){var me;if(re.hasOwnProperty("ngRefRead")){if(re.ngRefRead==="$element")me=ne;else if(me=ne.data("$"+re.ngRefRead+"Controller"),!me)throw _u("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',re.ngRefRead,P.ngRef)}else me=ne.data("$"+H+"Controller");me=me||ne,ce(ie,me),ne.on("$destroy",function(){X(ie)===me&&ce(ie,null)})}}}}],Bc=["$parse","$animate","$compile",function(r,y,P){var H="$$NG_REMOVED",X=I("ngRepeat"),ce=function(be,xe,ke,Fe,Oe,at,vt){be[ke]=Fe,Oe&&(be[Oe]=at),be.$index=xe,be.$first=xe===0,be.$last=xe===vt-1,be.$middle=!(be.$first||be.$last),be.$odd=!(be.$even=(xe&1)===0)},ie=function(be){return be.clone[0]},ne=function(be){return be.clone[be.clone.length-1]},re=function(be,xe,ke){return Wn(ke)},me=function(be,xe){return xe};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(xe,ke){var Fe=ke.ngRepeat,Oe=P.$$createComment("end ngRepeat",Fe),at=Fe.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!at)throw X("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",Fe);var vt=at[1],st=at[2],ot=at[3],it=at[4];if(at=vt.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!at)throw X("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",vt);var ct=at[3]||at[1],ze=at[2];if(ot&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(ot)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(ot)))throw X("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",ot);var Xe;if(it){var Le={$id:Wn},Ie=r(it);Xe=function(Ne,Be,tt,dt){return ze&&(Le[ze]=Be),Le[ct]=tt,Le.$index=dt,Ie(Ne,Le)}}return function(Be,tt,dt,nt,gt){var Et=Ht();Be.$watchCollection(st,function(_t){var Pt,Zt,Gt=tt[0],cr,_r=Ht(),kr,Pr,Gr,Hr,pn,tn,cn,jr,$i;if(ot&&(Be[ot]=_t),h(_t))tn=_t,pn=Xe||re;else{pn=Xe||me,tn=[];for(var Fi in _t)_.call(_t,Fi)&&Fi.charAt(0)!=="$"&&tn.push(Fi)}for(kr=tn.length,jr=new Array(kr),Pt=0;Pt<kr;Pt++)if(Pr=_t===tn?Pt:tn[Pt],Gr=_t[Pr],Hr=pn(Be,Pr,Gr,Pt),Et[Hr])cn=Et[Hr],delete Et[Hr],_r[Hr]=cn,jr[Pt]=cn;else{if(_r[Hr])throw e(jr,function(qn){qn&&qn.scope&&(Et[qn.id]=qn)}),X("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",Fe,Hr,Gr);jr[Pt]={id:Hr,scope:void 0,clone:void 0},_r[Hr]=!0}Le&&(Le[ct]=void 0);for(var Gl in Et){if(cn=Et[Gl],$i=Sn(cn.clone),y.leave($i),$i[0].parentNode)for(Pt=0,Zt=$i.length;Pt<Zt;Pt++)$i[Pt][H]=!0;cn.scope.$destroy()}for(Pt=0;Pt<kr;Pt++)if(Pr=_t===tn?Pt:tn[Pt],Gr=_t[Pr],cn=jr[Pt],cn.scope){cr=Gt;do cr=cr.nextSibling;while(cr&&cr[H]);ie(cn)!==cr&&y.move(Sn(cn.clone),null,Gt),Gt=ne(cn),ce(cn.scope,Pt,ct,Gr,ze,Pr,kr)}else gt(function(bi,Yl){cn.scope=Yl;var Xo=Oe.cloneNode(!1);bi[bi.length++]=Xo,y.enter(bi,null,Gt),Gt=Xo,cn.clone=bi,_r[cn.id]=cn,ce(cn.scope,Pt,ct,Gr,ze,Pr,kr)});Et=_r})}}}}],Su="ng-hide",xu="ng-hide-animate",Hc=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(y,P,H){y.$watch(H.ngShow,function(ce){r[ce?"removeClass":"addClass"](P,Su,{tempClasses:xu})})}}}],Uc=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(y,P,H){y.$watch(H.ngHide,function(ce){r[ce?"addClass":"removeClass"](P,Su,{tempClasses:xu})})}}}],zc=vi(function(r,y,P){r.$watchCollection(P.ngStyle,function(X,ce){ce&&X!==ce&&e(ce,function(ie,ne){y.css(ne,"")}),X&&y.css(X)})}),jc=["$animate","$compile",function(r,y){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(P,H,X,ce){var ie=X.ngSwitch||X.on,ne=[],re=[],me=[],be=[],xe=function(ke,Fe){return function(Oe){Oe!==!1&&ke.splice(Fe,1)}};P.$watch(ie,function(Fe){for(var Oe,at;me.length;)r.cancel(me.pop());for(Oe=0,at=be.length;Oe<at;++Oe){var vt=Sn(re[Oe].clone);be[Oe].$destroy();var st=me[Oe]=r.leave(vt);st.done(xe(me,Oe))}re.length=0,be.length=0,(ne=ce.cases["!"+Fe]||ce.cases["?"])&&e(ne,function(ot){ot.transclude(function(it,ct){be.push(ct);var ze=ot.element;it[it.length++]=y.$$createComment("end ngSwitchWhen");var Xe={clone:it};re.push(Xe),r.enter(it,ze.parent(),ze)})})})}}}],Vc=vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(r,y,P,H,X){var ce=P.ngSwitchWhen.split(P.ngSwitchWhenSeparator).sort().filter(function(ie,ne,re){return re[ne-1]!==ie});e(ce,function(ie){H.cases["!"+ie]=H.cases["!"+ie]||[],H.cases["!"+ie].push({transclude:X,element:y})})}}),Wc=vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(r,y,P,H,X){H.cases["?"]=H.cases["?"]||[],H.cases["?"].push({transclude:X,element:y})}}),Gc=I("ngTransclude"),Yc=["$compile",function(r){return{restrict:"EAC",compile:function(P){var H=r(P.contents());return P.empty(),function(ce,ie,ne,re,me){if(!me)throw Gc("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",wt(ie));ne.ngTransclude===ne.$attr.ngTransclude&&(ne.ngTransclude="");var be=ne.ngTransclude||ne.ngTranscludeSlot;me(xe,null,be),be&&!me.isSlotFilled(be)&&ke();function xe(Oe,at){Oe.length&&Fe(Oe)?ie.append(Oe):(ke(),at.$destroy())}function ke(){H(ce,function(Oe){ie.append(Oe)})}function Fe(Oe){for(var at=0,vt=Oe.length;at<vt;at++){var st=Oe[at];if(st.nodeType!==rr||st.nodeValue.trim())return!0}}}}}}],qc=["$templateCache",function(r){return{restrict:"E",terminal:!0,compile:function(y,P){if(P.type==="text/ng-template"){var H=P.id,X=y[0].text;r.put(H,X)}}}}],Kc={$setViewValue:b,$render:b};function Mi(r,y){r.prop("selected",y),r.attr("selected",y)}var Jc=["$element","$scope",function(r,y){var P=this,H=new Ki;P.selectValueMap={},P.ngModelCtrl=Kc,P.multiple=!1,P.unknownOption=g(we.document.createElement("option")),P.hasEmptyOption=!1,P.emptyOption=void 0,P.renderUnknownOption=function(re){var me=P.generateUnknownOptionValue(re);P.unknownOption.val(me),r.prepend(P.unknownOption),Mi(P.unknownOption,!0),r.val(me)},P.updateUnknownOption=function(re){var me=P.generateUnknownOptionValue(re);P.unknownOption.val(me),Mi(P.unknownOption,!0),r.val(me)},P.generateUnknownOptionValue=function(re){return"? "+Wn(re)+" ?"},P.removeUnknownOption=function(){P.unknownOption.parent()&&P.unknownOption.remove()},P.selectEmptyOption=function(){P.emptyOption&&(r.val(""),Mi(P.emptyOption,!0))},P.unselectEmptyOption=function(){P.hasEmptyOption&&Mi(P.emptyOption,!1)},y.$on("$destroy",function(){P.renderUnknownOption=b}),P.readValue=function(){var me=r.val(),be=me in P.selectValueMap?P.selectValueMap[me]:me;return P.hasOption(be)?be:null},P.writeValue=function(me){var be=r[0].options[r[0].selectedIndex];if(be&&Mi(g(be),!1),P.hasOption(me)){P.removeUnknownOption();var xe=Wn(me);r.val(xe in P.selectValueMap?xe:me);var ke=r[0].options[r[0].selectedIndex];Mi(g(ke),!0)}else P.selectUnknownOrEmptyOption(me)},P.addOption=function(re,me){if(me[0].nodeType!==Cn){er(re,'"option value"'),re===""&&(P.hasEmptyOption=!0,P.emptyOption=me);var be=H.get(re)||0;H.set(re,be+1),ce()}},P.removeOption=function(re){var me=H.get(re);me&&(me===1?(H.delete(re),re===""&&(P.hasEmptyOption=!1,P.emptyOption=void 0)):H.set(re,me-1))},P.hasOption=function(re){return!!H.get(re)},P.$hasEmptyOption=function(){return P.hasEmptyOption},P.$isUnknownOptionSelected=function(){return r[0].options[0]===P.unknownOption[0]},P.$isEmptyOptionSelected=function(){return P.hasEmptyOption&&r[0].options[r[0].selectedIndex]===P.emptyOption[0]},P.selectUnknownOrEmptyOption=function(re){re==null&&P.emptyOption?(P.removeUnknownOption(),P.selectEmptyOption()):P.unknownOption.parent().length?P.updateUnknownOption(re):P.renderUnknownOption(re)};var X=!1;function ce(){X||(X=!0,y.$$postDigest(function(){X=!1,P.ngModelCtrl.$render()}))}var ie=!1;function ne(re){ie||(ie=!0,y.$$postDigest(function(){y.$$destroyed||(ie=!1,P.ngModelCtrl.$setViewValue(P.readValue()),re&&P.ngModelCtrl.$render())}))}P.registerOption=function(re,me,be,xe,ke){if(be.$attr.ngValue){var Fe,Oe;be.$observe("value",function(vt){var st,ot=me.prop("selected");L(Oe)&&(P.removeOption(Fe),delete P.selectValueMap[Oe],st=!0),Oe=Wn(vt),Fe=vt,P.selectValueMap[Oe]=vt,P.addOption(vt,me),me.attr("value",Oe),st&&ot&&ne()})}else xe?be.$observe("value",function(vt){P.readValue();var st,ot=me.prop("selected");L(Fe)&&(P.removeOption(Fe),st=!0),Fe=vt,P.addOption(vt,me),st&&ot&&ne()}):ke?re.$watch(ke,function(vt,st){be.$set("value",vt);var ot=me.prop("selected");st!==vt&&P.removeOption(st),P.addOption(vt,me),st&&ot&&ne()}):P.addOption(be.value,me);be.$observe("disabled",function(at){(at==="true"||at&&me.prop("selected"))&&(P.multiple?ne(!0):(P.ngModelCtrl.$setViewValue(null),P.ngModelCtrl.$render()))}),me.on("$destroy",function(){var at=P.readValue(),vt=be.value;P.removeOption(vt),ce(),(P.multiple&&at&&at.indexOf(vt)!==-1||at===vt)&&ne(!0)})}}],Xc=function(){return{restrict:"E",require:["select","?ngModel"],controller:Jc,priority:1,link:{pre:r,post:y}};function r(P,H,X,ce){var ie=ce[0],ne=ce[1];if(!ne){ie.registerOption=b;return}if(ie.ngModelCtrl=ne,H.on("change",function(){ie.removeUnknownOption(),P.$apply(function(){ne.$setViewValue(ie.readValue())})}),X.multiple){ie.multiple=!0,ie.readValue=function(){var xe=[];return e(H.find("option"),function(ke){if(ke.selected&&!ke.disabled){var Fe=ke.value;xe.push(Fe in ie.selectValueMap?ie.selectValueMap[Fe]:Fe)}}),xe},ie.writeValue=function(xe){e(H.find("option"),function(ke){var Fe=!!xe&&(Me(xe,ke.value)||Me(xe,ie.selectValueMap[ke.value])),Oe=ke.selected;Fe!==Oe&&Mi(g(ke),Fe)})};var re,me=NaN;P.$watch(function(){me===ne.$viewValue&&!Mt(re,ne.$viewValue)&&(re=ye(ne.$viewValue),ne.$render()),me=ne.$viewValue}),ne.$isEmpty=function(be){return!be||be.length===0}}}function y(P,H,X,ce){var ie=ce[1];if(ie){var ne=ce[0];ie.$render=function(){ne.writeValue(ie.$viewValue)}}}},Zc=["$interpolate",function(r){return{restrict:"E",priority:100,compile:function(y,P){var H,X;return L(P.ngValue)||(L(P.value)?H=r(P.value,!0):(X=r(y.text(),!0),X||P.$set("value",y.text()))),function(ce,ie,ne){var re="$selectController",me=ie.parent(),be=me.data(re)||me.parent().data(re);be&&be.registerOption(ce,ie,ne,H,X)}}}}],Eu=["$parse",function(r){return{restrict:"A",require:"?ngModel",link:function(y,P,H,X){if(X){var ce=H.hasOwnProperty("required")||r(H.ngRequired)(y);H.ngRequired||(H.required=!0),X.$validators.required=function(ie,ne){return!ce||!X.$isEmpty(ne)},H.$observe("required",function(ie){ce!==ie&&(ce=ie,X.$validate())})}}}}],Cu=["$parse",function(r){return{restrict:"A",require:"?ngModel",compile:function(y,P){var H,X;return P.ngPattern&&(H=P.ngPattern,P.ngPattern.charAt(0)==="/"&&D.test(P.ngPattern)?X=function(){return P.ngPattern}:X=r(P.ngPattern)),function(ce,ie,ne,re){if(re){var me=ne.pattern;ne.ngPattern?me=X(ce):H=ne.pattern;var be=Ru(me,H,ie);ne.$observe("pattern",function(xe){var ke=be;be=Ru(xe,H,ie),(ke&&ke.toString())!==(be&&be.toString())&&re.$validate()}),re.$validators.pattern=function(xe,ke){return re.$isEmpty(ke)||R(be)||be.test(ke)}}}}}}],ku=["$parse",function(r){return{restrict:"A",require:"?ngModel",link:function(y,P,H,X){if(X){var ce=H.maxlength||r(H.ngMaxlength)(y),ie=is(ce);H.$observe("maxlength",function(ne){ce!==ne&&(ie=is(ne),ce=ne,X.$validate())}),X.$validators.maxlength=function(ne,re){return ie<0||X.$isEmpty(re)||re.length<=ie}}}}}],Au=["$parse",function(r){return{restrict:"A",require:"?ngModel",link:function(y,P,H,X){if(X){var ce=H.minlength||r(H.ngMinlength)(y),ie=is(ce)||-1;H.$observe("minlength",function(ne){ce!==ne&&(ie=is(ne)||-1,ce=ne,X.$validate())}),X.$validators.minlength=function(ne,re){return X.$isEmpty(re)||re.length>=ie}}}}}];function Ru(r,y,P){if(r){if(ae(r)&&(r=new RegExp("^"+r+"$")),!r.test)throw I("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,r,wt(P));return r}}function is(r){var y=a(r);return l(y)?-1:y}if(we.angular.bootstrap){we.console&&console.log("WARNING: Tried to load AngularJS more than once.");return}an(),Je(p),p.module("ngLocale",[],["$provide",function(r){var y={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function P(X){X=X+"";var ce=X.indexOf(".");return ce==-1?0:X.length-ce-1}function H(X,ce){var ie=ce;ie===void 0&&(ie=Math.min(P(X),3));var ne=Math.pow(10,ie),re=(X*ne|0)%ne;return{v:ie,f:re}}r.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xA4",negSuf:"",posPre:"\xA4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(X,ce){var ie=X|0,ne=H(X,ce);return ie==1&&ne.v==0?y.ONE:y.OTHER}})}]),g(function(){nr(we.document,Jr)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))});var Wu=wi((Cd,Vu)=>{ju();Vu.exports=angular});var Gu=wi(()=>{(function(we,Q){"use strict";function A(m,U){if(I(m)){U=U||[];for(var k=0,p=m.length;k<p;k++)U[k]=m[k]}else if(D(m)){U=U||{};for(var w in m)w.charAt(0)==="$"&&w.charAt(1)==="$"||(U[w]=m[w])}return U||m}function O(m,U){var k=[],p=m.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(w,v,h,e){var o=e==="?"||e==="*?",i=e==="*"||e==="*?";return k.push({name:h,optional:o}),v=v||"",(o?"(?:"+v:v+"(?:")+(i?"(.+?)":"([^/]+)")+(o?"?)?":")")}).replace(/([/$*])/g,"\\$1");return U.ignoreTrailingSlashes&&(p=p.replace(/\/+$/,"")+"/*"),{keys:k,regexp:new RegExp("^"+p+"(?:[?#]|$)",U.caseInsensitiveMatch?"i":"")}}var I,D,T,_,E=Q.module("ngRoute",[]).info({angularVersion:"1.8.3"}).provider("$route",g).run(F),d=Q.$$minErr("ngRoute"),M;function g(){I=Q.isArray,D=Q.isObject,T=Q.isDefined,_=Q.noop;function m(k,p){return Q.extend(Object.create(k),p)}var U={};this.when=function(k,p){var w=A(p);if(Q.isUndefined(w.reloadOnUrl)&&(w.reloadOnUrl=!0),Q.isUndefined(w.reloadOnSearch)&&(w.reloadOnSearch=!0),Q.isUndefined(w.caseInsensitiveMatch)&&(w.caseInsensitiveMatch=this.caseInsensitiveMatch),U[k]=Q.extend(w,{originalPath:k},k&&O(k,w)),k){var v=k[k.length-1]==="/"?k.substr(0,k.length-1):k+"/";U[v]=Q.extend({originalPath:k,redirectTo:k},O(v,w))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(k){return typeof k=="string"&&(k={redirectTo:k}),this.when(null,k),this},M=!0,this.eagerInstantiationEnabled=function(p){return T(p)?(M=p,this):M},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(k,p,w,v,h,e,o,i){var u=!1,c,s,t={routes:U,reload:function(){u=!0;var q={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,u=!1}};k.$evalAsync(function(){a(q),q.defaultPrevented||l()})},updateParams:function(q){if(this.current&&this.current.$$route)q=Q.extend({},this.current.params,q),p.path(L(this.current.$$route.originalPath,q)),p.search(q);else throw d("norout","Tried updating route with no current route")}};return k.$on("$locationChangeStart",a),k.$on("$locationChangeSuccess",l),t;function n(q,ee){var ae=ee.keys,fe={};if(!ee.regexp)return null;var Ee=ee.regexp.exec(q);if(!Ee)return null;for(var se=1,B=Ee.length;se<B;++se){var K=ae[se-1],j=Ee[se];K&&j&&(fe[K.name]=j)}return fe}function a(q){var ee=t.current;c=W(),s=R(c,ee),!s&&(ee||c)&&k.$broadcast("$routeChangeStart",c,ee).defaultPrevented&&q&&q.preventDefault()}function l(){var q=t.current,ee=c;if(s)q.params=ee.params,Q.copy(q.params,w),k.$broadcast("$routeUpdate",q);else if(ee||q){u=!1,t.current=ee;var ae=v.resolve(ee);i.$$incOutstandingRequestCount("$route"),ae.then(f).then(b).then(function(fe){return fe&&ae.then(C).then(function(Ee){ee===t.current&&(ee&&(ee.locals=Ee,Q.copy(ee.params,w)),k.$broadcast("$routeChangeSuccess",ee,q))})}).catch(function(fe){ee===t.current&&k.$broadcast("$routeChangeError",ee,q,fe)}).finally(function(){i.$$completeOutstandingRequest(_,"$route")})}}function f(q){var ee={route:q,hasRedirection:!1};if(q){if(q.redirectTo)if(Q.isString(q.redirectTo))ee.path=L(q.redirectTo,q.params),ee.search=q.params,ee.hasRedirection=!0;else{var ae=p.path(),fe=p.search(),Ee=q.redirectTo(q.pathParams,ae,fe);Q.isDefined(Ee)&&(ee.url=Ee,ee.hasRedirection=!0)}else if(q.resolveRedirectTo)return v.resolve(h.invoke(q.resolveRedirectTo)).then(function(se){return Q.isDefined(se)&&(ee.url=se,ee.hasRedirection=!0),ee})}return ee}function b(q){var ee=!0;if(q.route!==t.current)ee=!1;else if(q.hasRedirection){var ae=p.url(),fe=q.url;fe?p.url(fe).replace():fe=p.path(q.path).search(q.search).replace().url(),fe!==ae&&(ee=!1)}return ee}function C(q){if(q){var ee=Q.extend({},q.resolve);Q.forEach(ee,function(fe,Ee){ee[Ee]=Q.isString(fe)?h.get(fe):h.invoke(fe,null,null,Ee)});var ae=$(q);return Q.isDefined(ae)&&(ee.$template=ae),v.all(ee)}}function $(q){var ee,ae;return Q.isDefined(ee=q.template)?Q.isFunction(ee)&&(ee=ee(q.params)):Q.isDefined(ae=q.templateUrl)&&(Q.isFunction(ae)&&(ae=ae(q.params)),Q.isDefined(ae)&&(q.loadedTemplateUrl=o.valueOf(ae),ee=e(ae))),ee}function W(){var q,ee;return Q.forEach(U,function(ae,fe){!ee&&(q=n(p.path(),ae))&&(ee=m(ae,{params:Q.extend({},p.search(),q),pathParams:q}),ee.$$route=ae)}),ee||U[null]&&m(U[null],{params:{},pathParams:{}})}function R(q,ee){return!u&&q&&ee&&q.$$route===ee.$$route&&(!q.reloadOnUrl||!q.reloadOnSearch&&Q.equals(q.pathParams,ee.pathParams))}function L(q,ee){var ae=[];return Q.forEach((q||"").split(":"),function(fe,Ee){if(Ee===0)ae.push(fe);else{var se=fe.match(/(\w+)(?:[?*])?(.*)/),B=se[1];ae.push(ee[B]),ae.push(se[2]||""),delete ee[B]}}),ae.join("")}}]}F.$inject=["$injector"];function F(m){M&&m.get("$route")}E.provider("$routeParams",N);function N(){this.$get=function(){return{}}}E.directive("ngView",J),E.directive("ngView",pe),J.$inject=["$route","$anchorScroll","$animate"];function J(m,U,k){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(p,w,v,h,e){var o,i,u,c=v.autoscroll,s=v.onload||"";p.$on("$routeChangeSuccess",n),n();function t(){u&&(k.cancel(u),u=null),o&&(o.$destroy(),o=null),i&&(u=k.leave(i),u.done(function(a){a!==!1&&(u=null)}),i=null)}function n(){var a=m.current&&m.current.locals,l=a&&a.$template;if(Q.isDefined(l)){var f=p.$new(),b=m.current,C=e(f,function($){k.enter($,null,i||w).done(function(R){R!==!1&&Q.isDefined(c)&&(!c||p.$eval(c))&&U()}),t()});i=C,o=b.scope=f,o.$emit("$viewContentLoaded"),o.$eval(s)}else t()}}}}pe.$inject=["$compile","$controller","$route"];function pe(m,U,k){return{restrict:"ECA",priority:-400,link:function(p,w){var v=k.current,h=v.locals;w.html(h.$template);var e=m(w.contents());if(v.controller){h.$scope=p;var o=U(v.controller,h);v.controllerAs&&(p[v.controllerAs]=o),w.data("$ngControllerController",o),w.children().data("$ngControllerController",o)}p[v.resolveAs||"$resolve"]=h,e(p)}}}})(window,window.angular)});var qu=wi((Rd,Yu)=>{Gu();Yu.exports="ngRoute"});var Ku=wi(()=>{(function(we,Q){"use strict";var A=Q.$$minErr("$sanitize"),O,I,D,T,_,E,d,M,g,F;function N(){var pe=!1,m=!1;this.$get=["$$sanitizeUri",function(ae){return pe=!0,m&&I(c,i),function(fe){var Ee=[];return g(fe,F(Ee,function(se,B){return!/^unsafe:/.test(ae(se,B))})),Ee.join("")}}],this.enableSvg=function(ae){return _(ae)?(m=ae,this):m},this.addValidElements=function(ae){return pe||(T(ae)&&(ae={htmlElements:ae}),b(i,ae.svgElements),b(p,ae.htmlVoidElements),b(c,ae.htmlVoidElements),b(c,ae.htmlElements)),this},this.addValidAttrs=function(ae){return pe||I(a,f(ae,!0)),this},O=Q.bind,I=Q.extend,D=Q.forEach,T=Q.isArray,_=Q.isDefined,E=Q.$$lowercase,d=Q.noop,g=$,F=L,M=we.Node.prototype.contains||function(ae){return!!(this.compareDocumentPosition(ae)&16)};var U=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/([^#-~ |!])/g,p=l("area,br,col,hr,img,wbr"),w=l("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=l("rp,rt"),h=I({},v,w),e=I({},w,l("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),o=I({},v,l("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),i=l("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),u=l("script,style"),c=I({},p,e,o,h),s=l("background,cite,href,longdesc,src,xlink:href,xml:base"),t=l("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),n=l("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),a=I({},s,n,t);function l(ae,fe){return f(ae.split(","),fe)}function f(ae,fe){var Ee={},se;for(se=0;se<ae.length;se++)Ee[fe?E(ae[se]):ae[se]]=!0;return Ee}function b(ae,fe){fe&&fe.length&&I(ae,f(fe))}var C=(function(ae,fe){if(B())return K;if(!fe||!fe.implementation)throw A("noinert","Can't create an inert html document");var Ee=fe.implementation.createHTMLDocument("inert"),se=(Ee.documentElement||Ee.getDocumentElement()).querySelector("body");return j;function B(){try{return!!K("")}catch{return!1}}function K(x){x="<remove></remove>"+x;try{var z=new ae.DOMParser().parseFromString(x,"text/html").body;return z.firstChild.remove(),z}catch{return}}function j(x){return se.innerHTML=x,fe.documentMode&&q(se),se}})(we,we.document);function $(ae,fe){ae==null?ae="":typeof ae!="string"&&(ae=""+ae);var Ee=C(ae);if(!Ee)return"";var se=5;do{if(se===0)throw A("uinput","Failed to sanitize html because the input is unstable");se--,ae=Ee.innerHTML,Ee=C(ae)}while(ae!==Ee.innerHTML);for(var B=Ee.firstChild;B;){switch(B.nodeType){case 1:fe.start(B.nodeName.toLowerCase(),W(B.attributes));break;case 3:fe.chars(B.textContent);break}var K;if(!(K=B.firstChild)&&(B.nodeType===1&&fe.end(B.nodeName.toLowerCase()),K=ee("nextSibling",B),!K))for(;K==null&&(B=ee("parentNode",B),B!==Ee);)K=ee("nextSibling",B),B.nodeType===1&&fe.end(B.nodeName.toLowerCase());B=K}for(;B=Ee.firstChild;)Ee.removeChild(B)}function W(ae){for(var fe={},Ee=0,se=ae.length;Ee<se;Ee++){var B=ae[Ee];fe[B.name]=B.value}return fe}function R(ae){return ae.replace(/&/g,"&amp;").replace(U,function(fe){var Ee=fe.charCodeAt(0),se=fe.charCodeAt(1);return"&#"+((Ee-55296)*1024+(se-56320)+65536)+";"}).replace(k,function(fe){return"&#"+fe.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(ae,fe){var Ee=!1,se=O(ae,ae.push);return{start:function(B,K){B=E(B),!Ee&&u[B]&&(Ee=B),!Ee&&c[B]===!0&&(se("<"),se(B),D(K,function(j,x){var z=E(x),Z=B==="img"&&z==="src"||z==="background";a[z]===!0&&(s[z]!==!0||fe(j,Z))&&(se(" "),se(x),se('="'),se(R(j)),se('"'))}),se(">"))},end:function(B){B=E(B),!Ee&&c[B]===!0&&p[B]!==!0&&(se("</"),se(B),se(">")),B==Ee&&(Ee=!1)},chars:function(B){Ee||se(R(B))}}}function q(ae){for(;ae;){if(ae.nodeType===we.Node.ELEMENT_NODE)for(var fe=ae.attributes,Ee=0,se=fe.length;Ee<se;Ee++){var B=fe[Ee],K=B.name.toLowerCase();(K==="xmlns:ns1"||K.lastIndexOf("ns1:",0)===0)&&(ae.removeAttributeNode(B),Ee--,se--)}var j=ae.firstChild;j&&q(j),ae=ee("nextSibling",ae)}}function ee(ae,fe){var Ee=fe[ae];if(Ee&&M.call(fe,Ee))throw A("elclob","Failed to sanitize html because the element is clobbered: {0}",fe.outerHTML||fe.outerText);return Ee}}function J(pe){var m=[],U=F(m,d);return U.chars(pe),m.join("")}Q.module("ngSanitize",[]).provider("$sanitize",N).info({angularVersion:"1.8.3"}),Q.module("ngSanitize").filter("linky",["$sanitize",function(pe){var m=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,U=/^mailto:/i,k=Q.$$minErr("linky"),p=Q.isDefined,w=Q.isFunction,v=Q.isObject,h=Q.isString;return function(e,o,i){if(e==null||e==="")return e;if(!h(e))throw k("notstring","Expected string but received: {0}",e);for(var u=w(i)?i:v(i)?function(){return i}:function(){return{}},c,s=e,t=[],n,a;c=s.match(m);)n=c[0],!c[2]&&!c[4]&&(n=(c[3]?"http://":"mailto:")+n),a=c.index,l(s.substr(0,a)),f(n,c[0].replace(U,"")),s=s.substring(a+c[0].length);return l(s),pe(t.join(""));function l(b){b&&t.push(J(b))}function f(b,C){var $,W=u(b);t.push("<a ");for($ in W)t.push($+'="'+W[$]+'" ');p(o)&&!("target"in W)&&t.push('target="',o,'" '),t.push('href="',b.replace(/"/g,"&quot;"),'">'),l(C),t.push("</a>")}}}])})(window,window.angular)});var Xu=wi((Pd,Ju)=>{Ku();Ju.exports="ngSanitize"});var Zu=wi((ou,wo)=>{(function(we,Q){typeof ou=="object"&&typeof wo!="undefined"?wo.exports=Q():typeof define=="function"&&define.amd?define(Q):we.moment=Q()})(ou,(function(){"use strict";var we;function Q(){return we.apply(null,arguments)}function A(S){we=S}function O(S){return S instanceof Array||Object.prototype.toString.call(S)==="[object Array]"}function I(S){return S!=null&&Object.prototype.toString.call(S)==="[object Object]"}function D(S,V){return Object.prototype.hasOwnProperty.call(S,V)}function T(S){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(S).length===0;var V;for(V in S)if(D(S,V))return!1;return!0}function _(S){return S===void 0}function E(S){return typeof S=="number"||Object.prototype.toString.call(S)==="[object Number]"}function d(S){return S instanceof Date||Object.prototype.toString.call(S)==="[object Date]"}function M(S,V){var he=[],ve,Ce=S.length;for(ve=0;ve<Ce;++ve)he.push(V(S[ve],ve));return he}function g(S,V){for(var he in V)D(V,he)&&(S[he]=V[he]);return D(V,"toString")&&(S.toString=V.toString),D(V,"valueOf")&&(S.valueOf=V.valueOf),S}function F(S,V,he,ve){return ha(S,V,he,ve,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function J(S){return S._pf==null&&(S._pf=N()),S._pf}var pe;Array.prototype.some?pe=Array.prototype.some:pe=function(S){var V=Object(this),he=V.length>>>0,ve;for(ve=0;ve<he;ve++)if(ve in V&&S.call(this,V[ve],ve,V))return!0;return!1};function m(S){var V=null,he=!1,ve=S._d&&!isNaN(S._d.getTime());if(ve&&(V=J(S),he=pe.call(V.parsedDateParts,function(Ce){return Ce!=null}),ve=V.overflow<0&&!V.empty&&!V.invalidEra&&!V.invalidMonth&&!V.invalidWeekday&&!V.weekdayMismatch&&!V.nullInput&&!V.invalidFormat&&!V.userInvalidated&&(!V.meridiem||V.meridiem&&he),S._strict&&(ve=ve&&V.charsLeftOver===0&&V.unusedTokens.length===0&&V.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(S))S._isValid=ve;else return ve;return S._isValid}function U(S){var V=F(NaN);return S!=null?g(J(V),S):J(V).userInvalidated=!0,V}var k=Q.momentProperties=[],p=!1;function w(S,V){var he,ve,Ce,Ve=k.length;if(_(V._isAMomentObject)||(S._isAMomentObject=V._isAMomentObject),_(V._i)||(S._i=V._i),_(V._f)||(S._f=V._f),_(V._l)||(S._l=V._l),_(V._strict)||(S._strict=V._strict),_(V._tzm)||(S._tzm=V._tzm),_(V._isUTC)||(S._isUTC=V._isUTC),_(V._offset)||(S._offset=V._offset),_(V._pf)||(S._pf=J(V)),_(V._locale)||(S._locale=V._locale),Ve>0)for(he=0;he<Ve;he++)ve=k[he],Ce=V[ve],_(Ce)||(S[ve]=Ce);return S}function v(S){w(this,S),this._d=new Date(S._d!=null?S._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),p===!1&&(p=!0,Q.updateOffset(this),p=!1)}function h(S){return S instanceof v||S!=null&&S._isAMomentObject!=null}function e(S){Q.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+S)}function o(S,V){var he=!0;return g(function(){if(Q.deprecationHandler!=null&&Q.deprecationHandler(null,S),he){var ve=[],Ce,Ve,ht,zt=arguments.length;for(Ve=0;Ve<zt;Ve++){if(Ce="",typeof arguments[Ve]=="object"){Ce+=`
[`+Ve+"] ";for(ht in arguments[0])D(arguments[0],ht)&&(Ce+=ht+": "+arguments[0][ht]+", ");Ce=Ce.slice(0,-2)}else Ce=arguments[Ve];ve.push(Ce)}e(S+`
Arguments: `+Array.prototype.slice.call(ve).join("")+`
`+new Error().stack),he=!1}return V.apply(this,arguments)},V)}var i={};function u(S,V){Q.deprecationHandler!=null&&Q.deprecationHandler(S,V),i[S]||(e(V),i[S]=!0)}Q.suppressDeprecationWarnings=!1,Q.deprecationHandler=null;function c(S){return typeof Function!="undefined"&&S instanceof Function||Object.prototype.toString.call(S)==="[object Function]"}function s(S){var V,he;for(he in S)D(S,he)&&(V=S[he],c(V)?this[he]=V:this["_"+he]=V);this._config=S,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function t(S,V){var he=g({},S),ve;for(ve in V)D(V,ve)&&(I(S[ve])&&I(V[ve])?(he[ve]={},g(he[ve],S[ve]),g(he[ve],V[ve])):V[ve]!=null?he[ve]=V[ve]:delete he[ve]);for(ve in S)D(S,ve)&&!D(V,ve)&&I(S[ve])&&(he[ve]=g({},he[ve]));return he}function n(S){S!=null&&this.set(S)}var a;Object.keys?a=Object.keys:a=function(S){var V,he=[];for(V in S)D(S,V)&&he.push(V);return he};var l={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function f(S,V,he){var ve=this._calendar[S]||this._calendar.sameElse;return c(ve)?ve.call(V,he):ve}function b(S,V,he){var ve=""+Math.abs(S),Ce=V-ve.length,Ve=S>=0;return(Ve?he?"+":"":"-")+Math.pow(10,Math.max(0,Ce)).toString().substr(1)+ve}var C=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},R={};function L(S,V,he,ve){var Ce=ve;typeof ve=="string"&&(Ce=function(){return this[ve]()}),S&&(R[S]=Ce),V&&(R[V[0]]=function(){return b(Ce.apply(this,arguments),V[1],V[2])}),he&&(R[he]=function(){return this.localeData().ordinal(Ce.apply(this,arguments),S)})}function q(S){return S.match(/\[[\s\S]/)?S.replace(/^\[|\]$/g,""):S.replace(/\\/g,"")}function ee(S){var V=S.match(C),he,ve;for(he=0,ve=V.length;he<ve;he++)R[V[he]]?V[he]=R[V[he]]:V[he]=q(V[he]);return function(Ce){var Ve="",ht;for(ht=0;ht<ve;ht++)Ve+=c(V[ht])?V[ht].call(Ce,S):V[ht];return Ve}}function ae(S,V){return S.isValid()?(V=fe(V,S.localeData()),W[V]=W[V]||ee(V),W[V](S)):S.localeData().invalidDate()}function fe(S,V){var he=5;function ve(Ce){return V.longDateFormat(Ce)||Ce}for($.lastIndex=0;he>=0&&$.test(S);)S=S.replace($,ve),$.lastIndex=0,he-=1;return S}var Ee={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function se(S){var V=this._longDateFormat[S],he=this._longDateFormat[S.toUpperCase()];return V||!he?V:(this._longDateFormat[S]=he.match(C).map(function(ve){return ve==="MMMM"||ve==="MM"||ve==="DD"||ve==="dddd"?ve.slice(1):ve}).join(""),this._longDateFormat[S])}var B="Invalid date";function K(){return this._invalidDate}var j="%d",x=/\d{1,2}/;function z(S){return this._ordinal.replace("%d",S)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function oe(S,V,he,ve){var Ce=this._relativeTime[he];return c(Ce)?Ce(S,V,he,ve):Ce.replace(/%d/i,S)}function Y(S,V){var he=this._relativeTime[S>0?"future":"past"];return c(he)?he(V):he.replace(/%s/i,V)}var le={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ge(S){return typeof S=="string"?le[S]||le[S.toLowerCase()]:void 0}function Re(S){var V={},he,ve;for(ve in S)D(S,ve)&&(he=ge(ve),he&&(V[he]=S[ve]));return V}var Ae={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function De(S){var V=[],he;for(he in S)D(S,he)&&V.push({unit:he,priority:Ae[he]});return V.sort(function(ve,Ce){return ve.priority-Ce.priority}),V}var $e=/\d/,Ye=/\d\d/,rt=/\d{3}/,bt=/\d{4}/,ut=/[+-]?\d{6}/,Me=/\d\d?/,Ge=/\d\d\d\d?/,Ze=/\d\d\d\d\d\d?/,ft=/\d{1,3}/,Mt=/\d{1,4}/,ue=/[+-]?\d{1,6}/,G=/\d+/,te=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,je=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ue=/^[1-9]\d?/,yt=/^([1-9]\d|\d)/,mt;mt={};function et(S,V,he){mt[S]=c(V)?V:function(ve,Ce){return ve&&he?he:V}}function Dt(S,V){return D(mt,S)?mt[S](V._strict,V._locale):new RegExp(wt(S))}function wt(S){return Lt(S.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(V,he,ve,Ce,Ve){return he||ve||Ce||Ve}))}function Lt(S){return S.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function mr(S){return S<0?Math.ceil(S)||0:Math.floor(S)}function St(S){var V=+S,he=0;return V!==0&&isFinite(V)&&(he=mr(V)),he}var Wt={};function qt(S,V){var he,ve=V,Ce;for(typeof S=="string"&&(S=[S]),E(V)&&(ve=function(Ve,ht){ht[V]=St(Ve)}),Ce=S.length,he=0;he<Ce;he++)Wt[S[he]]=ve}function Kt(S,V){qt(S,function(he,ve,Ce,Ve){Ce._w=Ce._w||{},V(he,Ce._w,Ce,Ve)})}function sr(S,V,he){V!=null&&D(Wt,S)&&Wt[S](V,he._a,he,S)}function _n(S){return S%4===0&&S%100!==0||S%400===0}var Jt=0,nr=1,Jr=2,Yt=3,tr=4,Vr=5,ir=6,dr=7,an=8;L("Y",0,0,function(){var S=this.year();return S<=9999?b(S,4):"+"+S}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),et("Y",te),et("YY",Me,Ye),et("YYYY",Mt,bt),et("YYYYY",ue,ut),et("YYYYYY",ue,ut),qt(["YYYYY","YYYYYY"],Jt),qt("YYYY",function(S,V){V[Jt]=S.length===2?Q.parseTwoDigitYear(S):St(S)}),qt("YY",function(S,V){V[Jt]=Q.parseTwoDigitYear(S)}),qt("Y",function(S,V){V[Jt]=parseInt(S,10)});function Xt(S){return _n(S)?366:365}Q.parseTwoDigitYear=function(S){return St(S)+(St(S)>68?1900:2e3)};var or=er("FullYear",!0);function In(){return _n(this.year())}function er(S,V){return function(he){return he!=null?(Sn(this,S,he),Q.updateOffset(this,V),this):lr(this,S)}}function lr(S,V){if(!S.isValid())return NaN;var he=S._d,ve=S._isUTC;switch(V){case"Milliseconds":return ve?he.getUTCMilliseconds():he.getMilliseconds();case"Seconds":return ve?he.getUTCSeconds():he.getSeconds();case"Minutes":return ve?he.getUTCMinutes():he.getMinutes();case"Hours":return ve?he.getUTCHours():he.getHours();case"Date":return ve?he.getUTCDate():he.getDate();case"Day":return ve?he.getUTCDay():he.getDay();case"Month":return ve?he.getUTCMonth():he.getMonth();case"FullYear":return ve?he.getUTCFullYear():he.getFullYear();default:return NaN}}function Sn(S,V,he){var ve,Ce,Ve,ht,zt;if(!(!S.isValid()||isNaN(he))){switch(ve=S._d,Ce=S._isUTC,V){case"Milliseconds":return void(Ce?ve.setUTCMilliseconds(he):ve.setMilliseconds(he));case"Seconds":return void(Ce?ve.setUTCSeconds(he):ve.setSeconds(he));case"Minutes":return void(Ce?ve.setUTCMinutes(he):ve.setMinutes(he));case"Hours":return void(Ce?ve.setUTCHours(he):ve.setHours(he));case"Date":return void(Ce?ve.setUTCDate(he):ve.setDate(he));case"FullYear":break;default:return}Ve=he,ht=S.month(),zt=S.date(),zt=zt===29&&ht===1&&!_n(Ve)?28:zt,Ce?ve.setUTCFullYear(Ve,ht,zt):ve.setFullYear(Ve,ht,zt)}}function Ht(S){return S=ge(S),c(this[S])?this[S]():this}function fr(S,V){if(typeof S=="object"){S=Re(S);var he=De(S),ve,Ce=he.length;for(ve=0;ve<Ce;ve++)this[he[ve].unit](S[he[ve].unit])}else if(S=ge(S),c(this[S]))return this[S](V);return this}function sn(S,V){return(S%V+V)%V}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(S){var V;for(V=0;V<this.length;++V)if(this[V]===S)return V;return-1};function rr(S,V){if(isNaN(S)||isNaN(V))return NaN;var he=sn(V,12);return S+=(V-he)/12,he===1?_n(S)?29:28:31-he%7%2}L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(S){return this.localeData().monthsShort(this,S)}),L("MMMM",0,0,function(S){return this.localeData().months(this,S)}),et("M",Me,Ue),et("MM",Me,Ye),et("MMM",function(S,V){return V.monthsShortRegex(S)}),et("MMMM",function(S,V){return V.monthsRegex(S)}),qt(["M","MM"],function(S,V){V[nr]=St(S)-1}),qt(["MMM","MMMM"],function(S,V,he,ve){var Ce=he._locale.monthsParse(S,ve,he._strict);Ce!=null?V[nr]=Ce:J(he).invalidMonth=S});var Cn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ke=je,ye=je;function He(S,V){return S?O(this._months)?this._months[S.month()]:this._months[(this._months.isFormat||pr).test(V)?"format":"standalone"][S.month()]:O(this._months)?this._months:this._months.standalone}function qe(S,V){return S?O(this._monthsShort)?this._monthsShort[S.month()]:this._monthsShort[pr.test(V)?"format":"standalone"][S.month()]:O(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Se(S,V,he){var ve,Ce,Ve,ht=S.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ve=0;ve<12;++ve)Ve=F([2e3,ve]),this._shortMonthsParse[ve]=this.monthsShort(Ve,"").toLocaleLowerCase(),this._longMonthsParse[ve]=this.months(Ve,"").toLocaleLowerCase();return he?V==="MMM"?(Ce=Vt.call(this._shortMonthsParse,ht),Ce!==-1?Ce:null):(Ce=Vt.call(this._longMonthsParse,ht),Ce!==-1?Ce:null):V==="MMM"?(Ce=Vt.call(this._shortMonthsParse,ht),Ce!==-1?Ce:(Ce=Vt.call(this._longMonthsParse,ht),Ce!==-1?Ce:null)):(Ce=Vt.call(this._longMonthsParse,ht),Ce!==-1?Ce:(Ce=Vt.call(this._shortMonthsParse,ht),Ce!==-1?Ce:null))}function Je(S,V,he){var ve,Ce,Ve;if(this._monthsParseExact)return Se.call(this,S,V,he);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ve=0;ve<12;ve++){if(Ce=F([2e3,ve]),he&&!this._longMonthsParse[ve]&&(this._longMonthsParse[ve]=new RegExp("^"+this.months(Ce,"").replace(".","")+"$","i"),this._shortMonthsParse[ve]=new RegExp("^"+this.monthsShort(Ce,"").replace(".","")+"$","i")),!he&&!this._monthsParse[ve]&&(Ve="^"+this.months(Ce,"")+"|^"+this.monthsShort(Ce,""),this._monthsParse[ve]=new RegExp(Ve.replace(".",""),"i")),he&&V==="MMMM"&&this._longMonthsParse[ve].test(S))return ve;if(he&&V==="MMM"&&this._shortMonthsParse[ve].test(S))return ve;if(!he&&this._monthsParse[ve].test(S))return ve}}function ln(S,V){if(!S.isValid())return S;if(typeof V=="string"){if(/^\d+$/.test(V))V=St(V);else if(V=S.localeData().monthsParse(V),!E(V))return S}var he=V,ve=S.date();return ve=ve<29?ve:Math.min(ve,rr(S.year(),he)),S._isUTC?S._d.setUTCMonth(he,ve):S._d.setMonth(he,ve),S}function mn(S){return S!=null?(ln(this,S),Q.updateOffset(this,!0),this):lr(this,"Month")}function Pn(){return rr(this.year(),this.month())}function $n(S){return this._monthsParseExact?(D(this,"_monthsRegex")||vn.call(this),S?this._monthsShortStrictRegex:this._monthsShortRegex):(D(this,"_monthsShortRegex")||(this._monthsShortRegex=Ke),this._monthsShortStrictRegex&&S?this._monthsShortStrictRegex:this._monthsShortRegex)}function Fn(S){return this._monthsParseExact?(D(this,"_monthsRegex")||vn.call(this),S?this._monthsStrictRegex:this._monthsRegex):(D(this,"_monthsRegex")||(this._monthsRegex=ye),this._monthsStrictRegex&&S?this._monthsStrictRegex:this._monthsRegex)}function vn(){function S(gr,xr){return xr.length-gr.length}var V=[],he=[],ve=[],Ce,Ve,ht,zt;for(Ce=0;Ce<12;Ce++)Ve=F([2e3,Ce]),ht=Lt(this.monthsShort(Ve,"")),zt=Lt(this.months(Ve,"")),V.push(ht),he.push(zt),ve.push(zt),ve.push(ht);V.sort(S),he.sort(S),ve.sort(S),this._monthsRegex=new RegExp("^("+ve.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+he.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+V.join("|")+")","i")}function bn(S,V,he,ve,Ce,Ve,ht){var zt;return S<100&&S>=0?(zt=new Date(S+400,V,he,ve,Ce,Ve,ht),isFinite(zt.getFullYear())&&zt.setFullYear(S)):zt=new Date(S,V,he,ve,Ce,Ve,ht),zt}function Xr(S){var V,he;return S<100&&S>=0?(he=Array.prototype.slice.call(arguments),he[0]=S+400,V=new Date(Date.UTC.apply(null,he)),isFinite(V.getUTCFullYear())&&V.setUTCFullYear(S)):V=new Date(Date.UTC.apply(null,arguments)),V}function yn(S,V,he){var ve=7+V-he,Ce=(7+Xr(S,0,ve).getUTCDay()-V)%7;return-Ce+ve-1}function dn(S,V,he,ve,Ce){var Ve=(7+he-ve)%7,ht=yn(S,ve,Ce),zt=1+7*(V-1)+Ve+ht,gr,xr;return zt<=0?(gr=S-1,xr=Xt(gr)+zt):zt>Xt(S)?(gr=S+1,xr=zt-Xt(S)):(gr=S,xr=zt),{year:gr,dayOfYear:xr}}function fn(S,V,he){var ve=yn(S.year(),V,he),Ce=Math.floor((S.dayOfYear()-ve-1)/7)+1,Ve,ht;return Ce<1?(ht=S.year()-1,Ve=Ce+Zr(ht,V,he)):Ce>Zr(S.year(),V,he)?(Ve=Ce-Zr(S.year(),V,he),ht=S.year()+1):(ht=S.year(),Ve=Ce),{week:Ve,year:ht}}function Zr(S,V,he){var ve=yn(S,V,he),Ce=yn(S+1,V,he);return(Xt(S)-ve+Ce)/7}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),et("w",Me,Ue),et("ww",Me,Ye),et("W",Me,Ue),et("WW",Me,Ye),Kt(["w","ww","W","WW"],function(S,V,he,ve){V[ve.substr(0,1)]=St(S)});function Ut(S){return fn(S,this._week.dow,this._week.doy).week}var Te={dow:0,doy:6};function It(){return this._week.dow}function ur(){return this._week.doy}function vr(S){var V=this.localeData().week(this);return S==null?V:this.add((S-V)*7,"d")}function $r(S){var V=fn(this,1,4).week;return S==null?V:this.add((S-V)*7,"d")}L("d",0,"do","day"),L("dd",0,0,function(S){return this.localeData().weekdaysMin(this,S)}),L("ddd",0,0,function(S){return this.localeData().weekdaysShort(this,S)}),L("dddd",0,0,function(S){return this.localeData().weekdays(this,S)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),et("d",Me),et("e",Me),et("E",Me),et("dd",function(S,V){return V.weekdaysMinRegex(S)}),et("ddd",function(S,V){return V.weekdaysShortRegex(S)}),et("dddd",function(S,V){return V.weekdaysRegex(S)}),Kt(["dd","ddd","dddd"],function(S,V,he,ve){var Ce=he._locale.weekdaysParse(S,ve,he._strict);Ce!=null?V.d=Ce:J(he).invalidWeekday=S}),Kt(["d","e","E"],function(S,V,he,ve){V[ve]=St(S)});function Ir(S,V){return typeof S!="string"?S:isNaN(S)?(S=V.weekdaysParse(S),typeof S=="number"?S:null):parseInt(S,10)}function rn(S,V){return typeof S=="string"?V.weekdaysParse(S)%7||7:isNaN(S)?null:S}function un(S,V){return S.slice(V,7).concat(S.slice(0,V))}var Er="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_i=je,_o=je,zr=je;function So(S,V){var he=O(this._weekdays)?this._weekdays:this._weekdays[S&&S!==!0&&this._weekdays.isFormat.test(V)?"format":"standalone"];return S===!0?un(he,this._week.dow):S?he[S.day()]:he}function Hi(S){return S===!0?un(this._weekdaysShort,this._week.dow):S?this._weekdaysShort[S.day()]:this._weekdaysShort}function na(S){return S===!0?un(this._weekdaysMin,this._week.dow):S?this._weekdaysMin[S.day()]:this._weekdaysMin}function ia(S,V,he){var ve,Ce,Ve,ht=S.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ve=0;ve<7;++ve)Ve=F([2e3,1]).day(ve),this._minWeekdaysParse[ve]=this.weekdaysMin(Ve,"").toLocaleLowerCase(),this._shortWeekdaysParse[ve]=this.weekdaysShort(Ve,"").toLocaleLowerCase(),this._weekdaysParse[ve]=this.weekdays(Ve,"").toLocaleLowerCase();return he?V==="dddd"?(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1?Ce:null):V==="ddd"?(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1?Ce:null):(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1?Ce:null):V==="dddd"?(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1||(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1)?Ce:(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1?Ce:null)):V==="ddd"?(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1||(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1)?Ce:(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1?Ce:null)):(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1||(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1)?Ce:(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1?Ce:null))}function oa(S,V,he){var ve,Ce,Ve;if(this._weekdaysParseExact)return ia.call(this,S,V,he);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ve=0;ve<7;ve++){if(Ce=F([2e3,1]).day(ve),he&&!this._fullWeekdaysParse[ve]&&(this._fullWeekdaysParse[ve]=new RegExp("^"+this.weekdays(Ce,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ve]=new RegExp("^"+this.weekdaysShort(Ce,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ve]=new RegExp("^"+this.weekdaysMin(Ce,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ve]||(Ve="^"+this.weekdays(Ce,"")+"|^"+this.weekdaysShort(Ce,"")+"|^"+this.weekdaysMin(Ce,""),this._weekdaysParse[ve]=new RegExp(Ve.replace(".",""),"i")),he&&V==="dddd"&&this._fullWeekdaysParse[ve].test(S))return ve;if(he&&V==="ddd"&&this._shortWeekdaysParse[ve].test(S))return ve;if(he&&V==="dd"&&this._minWeekdaysParse[ve].test(S))return ve;if(!he&&this._weekdaysParse[ve].test(S))return ve}}function xo(S){if(!this.isValid())return S!=null?this:NaN;var V=lr(this,"Day");return S!=null?(S=Ir(S,this.localeData()),this.add(S-V,"d")):V}function Ui(S){if(!this.isValid())return S!=null?this:NaN;var V=(this.day()+7-this.localeData()._week.dow)%7;return S==null?V:this.add(S-V,"d")}function Eo(S){if(!this.isValid())return S!=null?this:NaN;if(S!=null){var V=rn(S,this.localeData());return this.day(this.day()%7?V:V-7)}else return this.day()||7}function zi(S){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Si.call(this),S?this._weekdaysStrictRegex:this._weekdaysRegex):(D(this,"_weekdaysRegex")||(this._weekdaysRegex=_i),this._weekdaysStrictRegex&&S?this._weekdaysStrictRegex:this._weekdaysRegex)}function ji(S){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Si.call(this),S?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(D(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_o),this._weekdaysShortStrictRegex&&S?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vi(S){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Si.call(this),S?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(D(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zr),this._weekdaysMinStrictRegex&&S?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Si(){function S(hn,Un){return Un.length-hn.length}var V=[],he=[],ve=[],Ce=[],Ve,ht,zt,gr,xr;for(Ve=0;Ve<7;Ve++)ht=F([2e3,1]).day(Ve),zt=Lt(this.weekdaysMin(ht,"")),gr=Lt(this.weekdaysShort(ht,"")),xr=Lt(this.weekdays(ht,"")),V.push(zt),he.push(gr),ve.push(xr),Ce.push(zt),Ce.push(gr),Ce.push(xr);V.sort(S),he.sort(S),ve.sort(S),Ce.sort(S),this._weekdaysRegex=new RegExp("^("+Ce.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ve.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+V.join("|")+")","i")}function Wi(){return this.hours()%12||12}function Gi(){return this.hours()||24}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Wi),L("k",["kk",2],0,Gi),L("hmm",0,0,function(){return""+Wi.apply(this)+b(this.minutes(),2)}),L("hmmss",0,0,function(){return""+Wi.apply(this)+b(this.minutes(),2)+b(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+b(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+b(this.minutes(),2)+b(this.seconds(),2)});function Co(S,V){L(S,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),V)})}Co("a",!0),Co("A",!1);function xi(S,V){return V._meridiemParse}et("a",xi),et("A",xi),et("H",Me,yt),et("h",Me,Ue),et("k",Me,Ue),et("HH",Me,Ye),et("hh",Me,Ye),et("kk",Me,Ye),et("hmm",Ge),et("hmmss",Ze),et("Hmm",Ge),et("Hmmss",Ze),qt(["H","HH"],Yt),qt(["k","kk"],function(S,V,he){var ve=St(S);V[Yt]=ve===24?0:ve}),qt(["a","A"],function(S,V,he){he._isPm=he._locale.isPM(S),he._meridiem=S}),qt(["h","hh"],function(S,V,he){V[Yt]=St(S),J(he).bigHour=!0}),qt("hmm",function(S,V,he){var ve=S.length-2;V[Yt]=St(S.substr(0,ve)),V[tr]=St(S.substr(ve)),J(he).bigHour=!0}),qt("hmmss",function(S,V,he){var ve=S.length-4,Ce=S.length-2;V[Yt]=St(S.substr(0,ve)),V[tr]=St(S.substr(ve,2)),V[Vr]=St(S.substr(Ce)),J(he).bigHour=!0}),qt("Hmm",function(S,V,he){var ve=S.length-2;V[Yt]=St(S.substr(0,ve)),V[tr]=St(S.substr(ve))}),qt("Hmmss",function(S,V,he){var ve=S.length-4,Ce=S.length-2;V[Yt]=St(S.substr(0,ve)),V[tr]=St(S.substr(ve,2)),V[Vr]=St(S.substr(Ce))});function cs(S){return(S+"").toLowerCase().charAt(0)==="p"}var aa=/[ap]\.?m?\.?/i,ci=er("Hours",!0);function Yi(S,V,he){return S>11?he?"pm":"PM":he?"am":"AM"}var ko={calendar:l,longDateFormat:Ee,invalidDate:B,ordinal:j,dayOfMonthOrdinalParse:x,relativeTime:Z,months:Cn,monthsShort:hr,week:Te,weekdays:Er,weekdaysMin:Jn,weekdaysShort:xn,meridiemParse:aa},Fr={},di={},Ei;function ds(S,V){var he,ve=Math.min(S.length,V.length);for(he=0;he<ve;he+=1)if(S[he]!==V[he])return he;return ve}function sa(S){return S&&S.toLowerCase().replace("_","-")}function fs(S){for(var V=0,he,ve,Ce,Ve;V<S.length;){for(Ve=sa(S[V]).split("-"),he=Ve.length,ve=sa(S[V+1]),ve=ve?ve.split("-"):null;he>0;){if(Ce=Wn(Ve.slice(0,he).join("-")),Ce)return Ce;if(ve&&ve.length>=he&&ds(Ve,ve)>=he-1)break;he--}V++}return Ei}function hs(S){return!!(S&&S.match("^[^/\\\\]*$"))}function Wn(S){var V=null,he;if(Fr[S]===void 0&&typeof wo!="undefined"&&wo&&wo.exports&&hs(S))try{V=Ei._abbr,he=Bi,he("./locale/"+S),Xn(V)}catch{Fr[S]=null}return Fr[S]}function Xn(S,V){var he;return S&&(_(V)?he=Gn(S):he=qi(S,V),he?Ei=he:typeof console!="undefined"&&console.warn&&console.warn("Locale "+S+" not found. Did you forget to load it?")),Ei._abbr}function qi(S,V){if(V!==null){var he,ve=ko;if(V.abbr=S,Fr[S]!=null)u("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ve=Fr[S]._config;else if(V.parentLocale!=null)if(Fr[V.parentLocale]!=null)ve=Fr[V.parentLocale]._config;else if(he=Wn(V.parentLocale),he!=null)ve=he._config;else return di[V.parentLocale]||(di[V.parentLocale]=[]),di[V.parentLocale].push({name:S,config:V}),null;return Fr[S]=new n(t(ve,V)),di[S]&&di[S].forEach(function(Ce){qi(Ce.name,Ce.config)}),Xn(S),Fr[S]}else return delete Fr[S],null}function Ki(S,V){if(V!=null){var he,ve,Ce=ko;Fr[S]!=null&&Fr[S].parentLocale!=null?Fr[S].set(t(Fr[S]._config,V)):(ve=Wn(S),ve!=null&&(Ce=ve._config),V=t(Ce,V),ve==null&&(V.abbr=S),he=new n(V),he.parentLocale=Fr[S],Fr[S]=he),Xn(S)}else Fr[S]!=null&&(Fr[S].parentLocale!=null?(Fr[S]=Fr[S].parentLocale,S===Xn()&&Xn(S)):Fr[S]!=null&&delete Fr[S]);return Fr[S]}function Gn(S){var V;if(S&&S._locale&&S._locale._abbr&&(S=S._locale._abbr),!S)return Ei;if(!O(S)){if(V=Wn(S),V)return V;S=[S]}return fs(S)}function ps(){return a(Fr)}function Ao(S){var V,he=S._a;return he&&J(S).overflow===-2&&(V=he[nr]<0||he[nr]>11?nr:he[Jr]<1||he[Jr]>rr(he[Jt],he[nr])?Jr:he[Yt]<0||he[Yt]>24||he[Yt]===24&&(he[tr]!==0||he[Vr]!==0||he[ir]!==0)?Yt:he[tr]<0||he[tr]>59?tr:he[Vr]<0||he[Vr]>59?Vr:he[ir]<0||he[ir]>999?ir:-1,J(S)._overflowDayOfYear&&(V<Jt||V>Jr)&&(V=Jr),J(S)._overflowWeeks&&V===-1&&(V=dr),J(S)._overflowWeekday&&V===-1&&(V=an),J(S).overflow=V),S}var gs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ms=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/Z|[+-]\d\d(?::?\d\d)?/,Bn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ji=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],la=/^\/?Date\((-?\d+)/i,bs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ys={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fi(S){var V,he,ve=S._i,Ce=gs.exec(ve)||ms.exec(ve),Ve,ht,zt,gr,xr=Bn.length,hn=Ji.length;if(Ce){for(J(S).iso=!0,V=0,he=xr;V<he;V++)if(Bn[V][1].exec(Ce[1])){ht=Bn[V][0],Ve=Bn[V][2]!==!1;break}if(ht==null){S._isValid=!1;return}if(Ce[3]){for(V=0,he=hn;V<he;V++)if(Ji[V][1].exec(Ce[3])){zt=(Ce[2]||" ")+Ji[V][0];break}if(zt==null){S._isValid=!1;return}}if(!Ve&&zt!=null){S._isValid=!1;return}if(Ce[4])if(vs.exec(Ce[4]))gr="Z";else{S._isValid=!1;return}S._f=ht+(zt||"")+(gr||""),To(S)}else S._isValid=!1}function ws(S,V,he,ve,Ce,Ve){var ht=[ua(S),hr.indexOf(V),parseInt(he,10),parseInt(ve,10),parseInt(Ce,10)];return Ve&&ht.push(parseInt(Ve,10)),ht}function ua(S){var V=parseInt(S,10);return V<=49?2e3+V:V<=999?1900+V:V}function _s(S){return S.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ca(S,V,he){if(S){var ve=xn.indexOf(S),Ce=new Date(V[0],V[1],V[2]).getDay();if(ve!==Ce)return J(he).weekdayMismatch=!0,he._isValid=!1,!1}return!0}function Ci(S,V,he){if(S)return ys[S];if(V)return 0;var ve=parseInt(he,10),Ce=ve%100,Ve=(ve-Ce)/100;return Ve*60+Ce}function da(S){var V=bs.exec(_s(S._i)),he;if(V){if(he=ws(V[4],V[3],V[2],V[5],V[6],V[7]),!ca(V[1],he,S))return;S._a=he,S._tzm=Ci(V[8],V[9],V[10]),S._d=Xr.apply(null,S._a),S._d.setUTCMinutes(S._d.getUTCMinutes()-S._tzm),J(S).rfc2822=!0}else S._isValid=!1}function Ss(S){var V=la.exec(S._i);if(V!==null){S._d=new Date(+V[1]);return}if(fi(S),S._isValid===!1)delete S._isValid;else return;if(da(S),S._isValid===!1)delete S._isValid;else return;S._strict?S._isValid=!1:Q.createFromInputFallback(S)}Q.createFromInputFallback=o("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(S){S._d=new Date(S._i+(S._useUTC?" UTC":""))});function Dn(S,V,he){return S!=null?S:V!=null?V:he}function xs(S){var V=new Date(Q.now());return S._useUTC?[V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate()]:[V.getFullYear(),V.getMonth(),V.getDate()]}function Ro(S){var V,he,ve=[],Ce,Ve,ht;if(!S._d){for(Ce=xs(S),S._w&&S._a[Jr]==null&&S._a[nr]==null&&Es(S),S._dayOfYear!=null&&(ht=Dn(S._a[Jt],Ce[Jt]),(S._dayOfYear>Xt(ht)||S._dayOfYear===0)&&(J(S)._overflowDayOfYear=!0),he=Xr(ht,0,S._dayOfYear),S._a[nr]=he.getUTCMonth(),S._a[Jr]=he.getUTCDate()),V=0;V<3&&S._a[V]==null;++V)S._a[V]=ve[V]=Ce[V];for(;V<7;V++)S._a[V]=ve[V]=S._a[V]==null?V===2?1:0:S._a[V];S._a[Yt]===24&&S._a[tr]===0&&S._a[Vr]===0&&S._a[ir]===0&&(S._nextDay=!0,S._a[Yt]=0),S._d=(S._useUTC?Xr:bn).apply(null,ve),Ve=S._useUTC?S._d.getUTCDay():S._d.getDay(),S._tzm!=null&&S._d.setUTCMinutes(S._d.getUTCMinutes()-S._tzm),S._nextDay&&(S._a[Yt]=24),S._w&&typeof S._w.d!="undefined"&&S._w.d!==Ve&&(J(S).weekdayMismatch=!0)}}function Es(S){var V,he,ve,Ce,Ve,ht,zt,gr,xr;V=S._w,V.GG!=null||V.W!=null||V.E!=null?(Ve=1,ht=4,he=Dn(V.GG,S._a[Jt],fn(Or(),1,4).year),ve=Dn(V.W,1),Ce=Dn(V.E,1),(Ce<1||Ce>7)&&(gr=!0)):(Ve=S._locale._week.dow,ht=S._locale._week.doy,xr=fn(Or(),Ve,ht),he=Dn(V.gg,S._a[Jt],xr.year),ve=Dn(V.w,xr.week),V.d!=null?(Ce=V.d,(Ce<0||Ce>6)&&(gr=!0)):V.e!=null?(Ce=V.e+Ve,(V.e<0||V.e>6)&&(gr=!0)):Ce=Ve),ve<1||ve>Zr(he,Ve,ht)?J(S)._overflowWeeks=!0:gr!=null?J(S)._overflowWeekday=!0:(zt=dn(he,ve,Ce,Ve,ht),S._a[Jt]=zt.year,S._dayOfYear=zt.dayOfYear)}Q.ISO_8601=function(){},Q.RFC_2822=function(){};function To(S){if(S._f===Q.ISO_8601){fi(S);return}if(S._f===Q.RFC_2822){da(S);return}S._a=[],J(S).empty=!0;var V=""+S._i,he,ve,Ce,Ve,ht,zt=V.length,gr=0,xr,hn;for(Ce=fe(S._f,S._locale).match(C)||[],hn=Ce.length,he=0;he<hn;he++)Ve=Ce[he],ve=(V.match(Dt(Ve,S))||[])[0],ve&&(ht=V.substr(0,V.indexOf(ve)),ht.length>0&&J(S).unusedInput.push(ht),V=V.slice(V.indexOf(ve)+ve.length),gr+=ve.length),R[Ve]?(ve?J(S).empty=!1:J(S).unusedTokens.push(Ve),sr(Ve,ve,S)):S._strict&&!ve&&J(S).unusedTokens.push(Ve);J(S).charsLeftOver=zt-gr,V.length>0&&J(S).unusedInput.push(V),S._a[Yt]<=12&&J(S).bigHour===!0&&S._a[Yt]>0&&(J(S).bigHour=void 0),J(S).parsedDateParts=S._a.slice(0),J(S).meridiem=S._meridiem,S._a[Yt]=Cs(S._locale,S._a[Yt],S._meridiem),xr=J(S).era,xr!==null&&(S._a[Jt]=S._locale.erasConvertYear(xr,S._a[Jt])),Ro(S),Ao(S)}function Cs(S,V,he){var ve;return he==null?V:S.meridiemHour!=null?S.meridiemHour(V,he):(S.isPM!=null&&(ve=S.isPM(he),ve&&V<12&&(V+=12),!ve&&V===12&&(V=0)),V)}function ks(S){var V,he,ve,Ce,Ve,ht,zt=!1,gr=S._f.length;if(gr===0){J(S).invalidFormat=!0,S._d=new Date(NaN);return}for(Ce=0;Ce<gr;Ce++)Ve=0,ht=!1,V=w({},S),S._useUTC!=null&&(V._useUTC=S._useUTC),V._f=S._f[Ce],To(V),m(V)&&(ht=!0),Ve+=J(V).charsLeftOver,Ve+=J(V).unusedTokens.length*10,J(V).score=Ve,zt?Ve<ve&&(ve=Ve,he=V):(ve==null||Ve<ve||ht)&&(ve=Ve,he=V,ht&&(zt=!0));g(S,he||V)}function As(S){if(!S._d){var V=Re(S._i),he=V.day===void 0?V.date:V.day;S._a=M([V.year,V.month,he,V.hour,V.minute,V.second,V.millisecond],function(ve){return ve&&parseInt(ve,10)}),Ro(S)}}function Rs(S){var V=new v(Ao(fa(S)));return V._nextDay&&(V.add(1,"d"),V._nextDay=void 0),V}function fa(S){var V=S._i,he=S._f;return S._locale=S._locale||Gn(S._l),V===null||he===void 0&&V===""?U({nullInput:!0}):(typeof V=="string"&&(S._i=V=S._locale.preparse(V)),h(V)?new v(Ao(V)):(d(V)?S._d=V:O(he)?ks(S):he?To(S):Ts(S),m(S)||(S._d=null),S))}function Ts(S){var V=S._i;_(V)?S._d=new Date(Q.now()):d(V)?S._d=new Date(V.valueOf()):typeof V=="string"?Ss(S):O(V)?(S._a=M(V.slice(0),function(he){return parseInt(he,10)}),Ro(S)):I(V)?As(S):E(V)?S._d=new Date(V):Q.createFromInputFallback(S)}function ha(S,V,he,ve,Ce){var Ve={};return(V===!0||V===!1)&&(ve=V,V=void 0),(he===!0||he===!1)&&(ve=he,he=void 0),(I(S)&&T(S)||O(S)&&S.length===0)&&(S=void 0),Ve._isAMomentObject=!0,Ve._useUTC=Ve._isUTC=Ce,Ve._l=he,Ve._i=S,Ve._f=V,Ve._strict=ve,Rs(Ve)}function Or(S,V,he,ve){return ha(S,V,he,ve,!1)}var Wr=o("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var S=Or.apply(null,arguments);return this.isValid()&&S.isValid()?S<this?this:S:U()}),Is=o("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var S=Or.apply(null,arguments);return this.isValid()&&S.isValid()?S>this?this:S:U()});function Xi(S,V){var he,ve;if(V.length===1&&O(V[0])&&(V=V[0]),!V.length)return Or();for(he=V[0],ve=1;ve<V.length;++ve)(!V[ve].isValid()||V[ve][S](he))&&(he=V[ve]);return he}function pa(){var S=[].slice.call(arguments,0);return Xi("isBefore",S)}function Zi(){var S=[].slice.call(arguments,0);return Xi("isAfter",S)}var ga=function(){return Date.now?Date.now():+new Date},ki=["year","quarter","month","week","day","hour","minute","second","millisecond"];function On(S){var V,he=!1,ve,Ce=ki.length;for(V in S)if(D(S,V)&&!(Vt.call(ki,V)!==-1&&(S[V]==null||!isNaN(S[V]))))return!1;for(ve=0;ve<Ce;++ve)if(S[ki[ve]]){if(he)return!1;parseFloat(S[ki[ve]])!==St(S[ki[ve]])&&(he=!0)}return!0}function lu(){return this._isValid}function uu(){return Ln(NaN)}function Ai(S){var V=Re(S),he=V.year||0,ve=V.quarter||0,Ce=V.month||0,Ve=V.week||V.isoWeek||0,ht=V.day||0,zt=V.hour||0,gr=V.minute||0,xr=V.second||0,hn=V.millisecond||0;this._isValid=On(V),this._milliseconds=+hn+xr*1e3+gr*6e4+zt*1e3*60*60,this._days=+ht+Ve*7,this._months=+Ce+ve*3+he*12,this._data={},this._locale=Gn(),this._bubble()}function Ri(S){return S instanceof Ai}function Qi(S){return S<0?Math.round(-1*S)*-1:Math.round(S)}function ma(S,V,he){var ve=Math.min(S.length,V.length),Ce=Math.abs(S.length-V.length),Ve=0,ht;for(ht=0;ht<ve;ht++)(he&&S[ht]!==V[ht]||!he&&St(S[ht])!==St(V[ht]))&&Ve++;return Ve+Ce}function va(S,V){L(S,0,0,function(){var he=this.utcOffset(),ve="+";return he<0&&(he=-he,ve="-"),ve+b(~~(he/60),2)+V+b(~~he%60,2)})}va("Z",":"),va("ZZ",""),et("Z",_e),et("ZZ",_e),qt(["Z","ZZ"],function(S,V,he){he._useUTC=!0,he._tzm=Io(_e,S)});var Ps=/([\+\-]|\d\d)/gi;function Io(S,V){var he=(V||"").match(S),ve,Ce,Ve;return he===null?null:(ve=he[he.length-1]||[],Ce=(ve+"").match(Ps)||["-",0,0],Ve=+(Ce[1]*60)+St(Ce[2]),Ve===0?0:Ce[0]==="+"?Ve:-Ve)}function Po(S,V){var he,ve;return V._isUTC?(he=V.clone(),ve=(h(S)||d(S)?S.valueOf():Or(S).valueOf())-he.valueOf(),he._d.setTime(he._d.valueOf()+ve),Q.updateOffset(he,!1),he):Or(S).local()}function Do(S){return-Math.round(S._d.getTimezoneOffset())}Q.updateOffset=function(){};function Ds(S,V,he){var ve=this._offset||0,Ce;if(!this.isValid())return S!=null?this:NaN;if(S!=null){if(typeof S=="string"){if(S=Io(_e,S),S===null)return this}else Math.abs(S)<16&&!he&&(S=S*60);return!this._isUTC&&V&&(Ce=Do(this)),this._offset=S,this._isUTC=!0,Ce!=null&&this.add(Ce,"m"),ve!==S&&(!V||this._changeInProgress?_a(this,Ln(S-ve,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?ve:Do(this)}function ba(S,V){return S!=null?(typeof S!="string"&&(S=-S),this.utcOffset(S,V),this):-this.utcOffset()}function Lo(S){return this.utcOffset(0,S)}function Ls(S){return this._isUTC&&(this.utcOffset(0,S),this._isUTC=!1,S&&this.subtract(Do(this),"m")),this}function Ms(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var S=Io(de,this._i);S!=null?this.utcOffset(S):this.utcOffset(0,!0)}return this}function $s(S){return this.isValid()?(S=S?Or(S).utcOffset():0,(this.utcOffset()-S)%60===0):!1}function eo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mo(){if(!_(this._isDSTShifted))return this._isDSTShifted;var S={},V;return w(S,this),S=fa(S),S._a?(V=S._isUTC?F(S._a):Or(S._a),this._isDSTShifted=this.isValid()&&ma(S._a,V.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Fs(){return this.isValid()?!this._isUTC:!1}function Os(){return this.isValid()?this._isUTC:!1}function to(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ns=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ya=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ln(S,V){var he=S,ve=null,Ce,Ve,ht;return Ri(S)?he={ms:S._milliseconds,d:S._days,M:S._months}:E(S)||!isNaN(+S)?(he={},V?he[V]=+S:he.milliseconds=+S):(ve=Ns.exec(S))?(Ce=ve[1]==="-"?-1:1,he={y:0,d:St(ve[Jr])*Ce,h:St(ve[Yt])*Ce,m:St(ve[tr])*Ce,s:St(ve[Vr])*Ce,ms:St(Qi(ve[ir]*1e3))*Ce}):(ve=ya.exec(S))?(Ce=ve[1]==="-"?-1:1,he={y:Zn(ve[2],Ce),M:Zn(ve[3],Ce),w:Zn(ve[4],Ce),d:Zn(ve[5],Ce),h:Zn(ve[6],Ce),m:Zn(ve[7],Ce),s:Zn(ve[8],Ce)}):he==null?he={}:typeof he=="object"&&("from"in he||"to"in he)&&(ht=Bs(Or(he.from),Or(he.to)),he={},he.ms=ht.milliseconds,he.M=ht.months),Ve=new Ai(he),Ri(S)&&D(S,"_locale")&&(Ve._locale=S._locale),Ri(S)&&D(S,"_isValid")&&(Ve._isValid=S._isValid),Ve}Ln.fn=Ai.prototype,Ln.invalid=uu;function Zn(S,V){var he=S&&parseFloat(S.replace(",","."));return(isNaN(he)?0:he)*V}function ro(S,V){var he={};return he.months=V.month()-S.month()+(V.year()-S.year())*12,S.clone().add(he.months,"M").isAfter(V)&&--he.months,he.milliseconds=+V-+S.clone().add(he.months,"M"),he}function Bs(S,V){var he;return S.isValid()&&V.isValid()?(V=Po(V,S),S.isBefore(V)?he=ro(S,V):(he=ro(V,S),he.milliseconds=-he.milliseconds,he.months=-he.months),he):{milliseconds:0,months:0}}function wa(S,V){return function(he,ve){var Ce,Ve;return ve!==null&&!isNaN(+ve)&&(u(V,"moment()."+V+"(period, number) is deprecated. Please use moment()."+V+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ve=he,he=ve,ve=Ve),Ce=Ln(he,ve),_a(this,Ce,S),this}}function _a(S,V,he,ve){var Ce=V._milliseconds,Ve=Qi(V._days),ht=Qi(V._months);S.isValid()&&(ve=ve==null?!0:ve,ht&&ln(S,lr(S,"Month")+ht*he),Ve&&Sn(S,"Date",lr(S,"Date")+Ve*he),Ce&&S._d.setTime(S._d.valueOf()+Ce*he),ve&&Q.updateOffset(S,Ve||ht))}var Hs=wa(1,"add"),ni=wa(-1,"subtract");function Sa(S){return typeof S=="string"||S instanceof String}function Us(S){return h(S)||d(S)||Sa(S)||E(S)||js(S)||zs(S)||S===null||S===void 0}function zs(S){var V=I(S)&&!T(S),he=!1,ve=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Ce,Ve,ht=ve.length;for(Ce=0;Ce<ht;Ce+=1)Ve=ve[Ce],he=he||D(S,Ve);return V&&he}function js(S){var V=O(S),he=!1;return V&&(he=S.filter(function(ve){return!E(ve)&&Sa(S)}).length===0),V&&he}function Vs(S){var V=I(S)&&!T(S),he=!1,ve=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Ce,Ve;for(Ce=0;Ce<ve.length;Ce+=1)Ve=ve[Ce],he=he||D(S,Ve);return V&&he}function Ws(S,V){var he=S.diff(V,"days",!0);return he<-6?"sameElse":he<-1?"lastWeek":he<0?"lastDay":he<1?"sameDay":he<2?"nextDay":he<7?"nextWeek":"sameElse"}function Gs(S,V){arguments.length===1&&(arguments[0]?Us(arguments[0])?(S=arguments[0],V=void 0):Vs(arguments[0])&&(V=arguments[0],S=void 0):(S=void 0,V=void 0));var he=S||Or(),ve=Po(he,this).startOf("day"),Ce=Q.calendarFormat(this,ve)||"sameElse",Ve=V&&(c(V[Ce])?V[Ce].call(this,he):V[Ce]);return this.format(Ve||this.localeData().calendar(Ce,this,Or(he)))}function Ti(){return new v(this)}function Ys(S,V){var he=h(S)?S:Or(S);return this.isValid()&&he.isValid()?(V=ge(V)||"millisecond",V==="millisecond"?this.valueOf()>he.valueOf():he.valueOf()<this.clone().startOf(V).valueOf()):!1}function qs(S,V){var he=h(S)?S:Or(S);return this.isValid()&&he.isValid()?(V=ge(V)||"millisecond",V==="millisecond"?this.valueOf()<he.valueOf():this.clone().endOf(V).valueOf()<he.valueOf()):!1}function Ks(S,V,he,ve){var Ce=h(S)?S:Or(S),Ve=h(V)?V:Or(V);return this.isValid()&&Ce.isValid()&&Ve.isValid()?(ve=ve||"()",(ve[0]==="("?this.isAfter(Ce,he):!this.isBefore(Ce,he))&&(ve[1]===")"?this.isBefore(Ve,he):!this.isAfter(Ve,he))):!1}function xa(S,V){var he=h(S)?S:Or(S),ve;return this.isValid()&&he.isValid()?(V=ge(V)||"millisecond",V==="millisecond"?this.valueOf()===he.valueOf():(ve=he.valueOf(),this.clone().startOf(V).valueOf()<=ve&&ve<=this.clone().endOf(V).valueOf())):!1}function Js(S,V){return this.isSame(S,V)||this.isAfter(S,V)}function Ea(S,V){return this.isSame(S,V)||this.isBefore(S,V)}function $o(S,V,he){var ve,Ce,Ve;if(!this.isValid())return NaN;if(ve=Po(S,this),!ve.isValid())return NaN;switch(Ce=(ve.utcOffset()-this.utcOffset())*6e4,V=ge(V),V){case"year":Ve=Mn(this,ve)/12;break;case"month":Ve=Mn(this,ve);break;case"quarter":Ve=Mn(this,ve)/3;break;case"second":Ve=(this-ve)/1e3;break;case"minute":Ve=(this-ve)/6e4;break;case"hour":Ve=(this-ve)/36e5;break;case"day":Ve=(this-ve-Ce)/864e5;break;case"week":Ve=(this-ve-Ce)/6048e5;break;default:Ve=this-ve}return he?Ve:mr(Ve)}function Mn(S,V){if(S.date()<V.date())return-Mn(V,S);var he=(V.year()-S.year())*12+(V.month()-S.month()),ve=S.clone().add(he,"months"),Ce,Ve;return V-ve<0?(Ce=S.clone().add(he-1,"months"),Ve=(V-ve)/(ve-Ce)):(Ce=S.clone().add(he+1,"months"),Ve=(V-ve)/(Ce-ve)),-(he+Ve)||0}Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ii(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xs(S){if(!this.isValid())return null;var V=S!==!0,he=V?this.clone().utc():this;return he.year()<0||he.year()>9999?ae(he,V?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):c(Date.prototype.toISOString)?V?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ae(he,"Z")):ae(he,V?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var S="moment",V="",he,ve,Ce,Ve;return this.isLocal()||(S=this.utcOffset()===0?"moment.utc":"moment.parseZone",V="Z"),he="["+S+'("]',ve=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Ce="-MM-DD[T]HH:mm:ss.SSS",Ve=V+'[")]',this.format(he+ve+Ce+Ve)}function Fo(S){S||(S=this.isUtc()?Q.defaultFormatUtc:Q.defaultFormat);var V=ae(this,S);return this.localeData().postformat(V)}function Oo(S,V){return this.isValid()&&(h(S)&&S.isValid()||Or(S).isValid())?Ln({to:this,from:S}).locale(this.locale()).humanize(!V):this.localeData().invalidDate()}function Ca(S){return this.from(Or(),S)}function Qs(S,V){return this.isValid()&&(h(S)&&S.isValid()||Or(S).isValid())?Ln({from:this,to:S}).locale(this.locale()).humanize(!V):this.localeData().invalidDate()}function no(S){return this.to(Or(),S)}function No(S){var V;return S===void 0?this._locale._abbr:(V=Gn(S),V!=null&&(this._locale=V),this)}var ka=o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(S){return S===void 0?this.localeData():this.locale(S)});function Aa(){return this._locale}var Yn=1e3,hi=60*Yn,Ii=60*hi,Pi=(365*400+97)*24*Ii;function pi(S,V){return(S%V+V)%V}function Di(S,V,he){return S<100&&S>=0?new Date(S+400,V,he)-Pi:new Date(S,V,he).valueOf()}function kt(S,V,he){return S<100&&S>=0?Date.UTC(S+400,V,he)-Pi:Date.UTC(S,V,he)}function el(S){var V,he;if(S=ge(S),S===void 0||S==="millisecond"||!this.isValid())return this;switch(he=this._isUTC?kt:Di,S){case"year":V=he(this.year(),0,1);break;case"quarter":V=he(this.year(),this.month()-this.month()%3,1);break;case"month":V=he(this.year(),this.month(),1);break;case"week":V=he(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":V=he(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":V=he(this.year(),this.month(),this.date());break;case"hour":V=this._d.valueOf(),V-=pi(V+(this._isUTC?0:this.utcOffset()*hi),Ii);break;case"minute":V=this._d.valueOf(),V-=pi(V,hi);break;case"second":V=this._d.valueOf(),V-=pi(V,Yn);break}return this._d.setTime(V),Q.updateOffset(this,!0),this}function Ra(S){var V,he;if(S=ge(S),S===void 0||S==="millisecond"||!this.isValid())return this;switch(he=this._isUTC?kt:Di,S){case"year":V=he(this.year()+1,0,1)-1;break;case"quarter":V=he(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":V=he(this.year(),this.month()+1,1)-1;break;case"week":V=he(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":V=he(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":V=he(this.year(),this.month(),this.date()+1)-1;break;case"hour":V=this._d.valueOf(),V+=Ii-pi(V+(this._isUTC?0:this.utcOffset()*hi),Ii)-1;break;case"minute":V=this._d.valueOf(),V+=hi-pi(V,hi)-1;break;case"second":V=this._d.valueOf(),V+=Yn-pi(V,Yn)-1;break}return this._d.setTime(V),Q.updateOffset(this,!0),this}function tl(){return this._d.valueOf()-(this._offset||0)*6e4}function Ta(){return Math.floor(this.valueOf()/1e3)}function Ia(){return new Date(this.valueOf())}function rl(){var S=this;return[S.year(),S.month(),S.date(),S.hour(),S.minute(),S.second(),S.millisecond()]}function Qr(){var S=this;return{years:S.year(),months:S.month(),date:S.date(),hours:S.hours(),minutes:S.minutes(),seconds:S.seconds(),milliseconds:S.milliseconds()}}function Pa(){return this.isValid()?this.toISOString():null}function Da(){return m(this)}function La(){return g({},J(this))}function nl(){return J(this).overflow}function il(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),et("N",oo),et("NN",oo),et("NNN",oo),et("NNNN",ll),et("NNNNN",ul),qt(["N","NN","NNN","NNNN","NNNNN"],function(S,V,he,ve){var Ce=he._locale.erasParse(S,ve,he._strict);Ce?J(he).era=Ce:J(he).invalidEra=S}),et("y",G),et("yy",G),et("yyy",G),et("yyyy",G),et("yo",cl),qt(["y","yy","yyy","yyyy"],Jt),qt(["yo"],function(S,V,he,ve){var Ce;he._locale._eraYearOrdinalRegex&&(Ce=S.match(he._locale._eraYearOrdinalRegex)),he._locale.eraYearOrdinalParse?V[Jt]=he._locale.eraYearOrdinalParse(S,Ce):V[Jt]=parseInt(S,10)});function Ma(S,V){var he,ve,Ce,Ve=this._eras||Gn("en")._eras;for(he=0,ve=Ve.length;he<ve;++he){switch(typeof Ve[he].since){case"string":Ce=Q(Ve[he].since).startOf("day"),Ve[he].since=Ce.valueOf();break}switch(typeof Ve[he].until){case"undefined":Ve[he].until=1/0;break;case"string":Ce=Q(Ve[he].until).startOf("day").valueOf(),Ve[he].until=Ce.valueOf();break}}return Ve}function $a(S,V,he){var ve,Ce,Ve=this.eras(),ht,zt,gr;for(S=S.toUpperCase(),ve=0,Ce=Ve.length;ve<Ce;++ve)if(ht=Ve[ve].name.toUpperCase(),zt=Ve[ve].abbr.toUpperCase(),gr=Ve[ve].narrow.toUpperCase(),he)switch(V){case"N":case"NN":case"NNN":if(zt===S)return Ve[ve];break;case"NNNN":if(ht===S)return Ve[ve];break;case"NNNNN":if(gr===S)return Ve[ve];break}else if([ht,zt,gr].indexOf(S)>=0)return Ve[ve]}function io(S,V){var he=S.since<=S.until?1:-1;return V===void 0?Q(S.since).year():Q(S.since).year()+(V-S.offset)*he}function Bo(){var S,V,he,ve=this.localeData().eras();for(S=0,V=ve.length;S<V;++S)if(he=this.clone().startOf("day").valueOf(),ve[S].since<=he&&he<=ve[S].until||ve[S].until<=he&&he<=ve[S].since)return ve[S].name;return""}function ol(){var S,V,he,ve=this.localeData().eras();for(S=0,V=ve.length;S<V;++S)if(he=this.clone().startOf("day").valueOf(),ve[S].since<=he&&he<=ve[S].until||ve[S].until<=he&&he<=ve[S].since)return ve[S].narrow;return""}function al(){var S,V,he,ve=this.localeData().eras();for(S=0,V=ve.length;S<V;++S)if(he=this.clone().startOf("day").valueOf(),ve[S].since<=he&&he<=ve[S].until||ve[S].until<=he&&he<=ve[S].since)return ve[S].abbr;return""}function sl(){var S,V,he,ve,Ce=this.localeData().eras();for(S=0,V=Ce.length;S<V;++S)if(he=Ce[S].since<=Ce[S].until?1:-1,ve=this.clone().startOf("day").valueOf(),Ce[S].since<=ve&&ve<=Ce[S].until||Ce[S].until<=ve&&ve<=Ce[S].since)return(this.year()-Q(Ce[S].since).year())*he+Ce[S].offset;return this.year()}function Fa(S){return D(this,"_erasNameRegex")||Hn.call(this),S?this._erasNameRegex:this._erasRegex}function Oa(S){return D(this,"_erasAbbrRegex")||Hn.call(this),S?this._erasAbbrRegex:this._erasRegex}function Ho(S){return D(this,"_erasNarrowRegex")||Hn.call(this),S?this._erasNarrowRegex:this._erasRegex}function oo(S,V){return V.erasAbbrRegex(S)}function ll(S,V){return V.erasNameRegex(S)}function ul(S,V){return V.erasNarrowRegex(S)}function cl(S,V){return V._eraYearOrdinalRegex||G}function Hn(){var S=[],V=[],he=[],ve=[],Ce,Ve,ht,zt,gr,xr=this.eras();for(Ce=0,Ve=xr.length;Ce<Ve;++Ce)ht=Lt(xr[Ce].name),zt=Lt(xr[Ce].abbr),gr=Lt(xr[Ce].narrow),V.push(ht),S.push(zt),he.push(gr),ve.push(ht),ve.push(zt),ve.push(gr);this._erasRegex=new RegExp("^("+ve.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+V.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+S.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+he.join("|")+")","i")}L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Nr(S,V){L(0,[S,S.length],0,V)}Nr("gggg","weekYear"),Nr("ggggg","weekYear"),Nr("GGGG","isoWeekYear"),Nr("GGGGG","isoWeekYear"),et("G",te),et("g",te),et("GG",Me,Ye),et("gg",Me,Ye),et("GGGG",Mt,bt),et("gggg",Mt,bt),et("GGGGG",ue,ut),et("ggggg",ue,ut),Kt(["gggg","ggggg","GGGG","GGGGG"],function(S,V,he,ve){V[ve.substr(0,2)]=St(S)}),Kt(["gg","GG"],function(S,V,he,ve){V[ve]=Q.parseTwoDigitYear(S)});function dl(S){return Ba.call(this,S,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Uo(S){return Ba.call(this,S,this.isoWeek(),this.isoWeekday(),1,4)}function fl(){return Zr(this.year(),1,4)}function Na(){return Zr(this.isoWeekYear(),1,4)}function hl(){var S=this.localeData()._week;return Zr(this.year(),S.dow,S.doy)}function pl(){var S=this.localeData()._week;return Zr(this.weekYear(),S.dow,S.doy)}function Ba(S,V,he,ve,Ce){var Ve;return S==null?fn(this,ve,Ce).year:(Ve=Zr(S,ve,Ce),V>Ve&&(V=Ve),gl.call(this,S,V,he,ve,Ce))}function gl(S,V,he,ve,Ce){var Ve=dn(S,V,he,ve,Ce),ht=Xr(Ve.year,0,Ve.dayOfYear);return this.year(ht.getUTCFullYear()),this.month(ht.getUTCMonth()),this.date(ht.getUTCDate()),this}L("Q",0,"Qo","quarter"),et("Q",$e),qt("Q",function(S,V){V[nr]=(St(S)-1)*3});function ml(S){return S==null?Math.ceil((this.month()+1)/3):this.month((S-1)*3+this.month()%3)}L("D",["DD",2],"Do","date"),et("D",Me,Ue),et("DD",Me,Ye),et("Do",function(S,V){return S?V._dayOfMonthOrdinalParse||V._ordinalParse:V._dayOfMonthOrdinalParseLenient}),qt(["D","DD"],Jr),qt("Do",function(S,V){V[Jr]=St(S.match(Me)[0])});var Ha=er("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),et("DDD",ft),et("DDDD",rt),qt(["DDD","DDDD"],function(S,V,he){he._dayOfYear=St(S)});function vl(S){var V=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return S==null?V:this.add(S-V,"d")}L("m",["mm",2],0,"minute"),et("m",Me,yt),et("mm",Me,Ye),qt(["m","mm"],tr);var bl=er("Minutes",!1);L("s",["ss",2],0,"second"),et("s",Me,yt),et("ss",Me,Ye),qt(["s","ss"],Vr);var yl=er("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return this.millisecond()*10}),L(0,["SSSSS",5],0,function(){return this.millisecond()*100}),L(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),L(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),L(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),L(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),et("S",ft,$e),et("SS",ft,Ye),et("SSS",ft,rt);var Qn,en;for(Qn="SSSS";Qn.length<=9;Qn+="S")et(Qn,G);function Ua(S,V){V[ir]=St(("0."+S)*1e3)}for(Qn="S";Qn.length<=9;Qn+="S")qt(Qn,Ua);en=er("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");function gi(){return this._isUTC?"UTC":""}function wl(){return this._isUTC?"Coordinated Universal Time":""}var xt=v.prototype;xt.add=Hs,xt.calendar=Gs,xt.clone=Ti,xt.diff=$o,xt.endOf=Ra,xt.format=Fo,xt.from=Oo,xt.fromNow=Ca,xt.to=Qs,xt.toNow=no,xt.get=Ht,xt.invalidAt=nl,xt.isAfter=Ys,xt.isBefore=qs,xt.isBetween=Ks,xt.isSame=xa,xt.isSameOrAfter=Js,xt.isSameOrBefore=Ea,xt.isValid=Da,xt.lang=ka,xt.locale=No,xt.localeData=Aa,xt.max=Is,xt.min=Wr,xt.parsingFlags=La,xt.set=fr,xt.startOf=el,xt.subtract=ni,xt.toArray=rl,xt.toObject=Qr,xt.toDate=Ia,xt.toISOString=Xs,xt.inspect=Zs,typeof Symbol!="undefined"&&Symbol.for!=null&&(xt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),xt.toJSON=Pa,xt.toString=ii,xt.unix=Ta,xt.valueOf=tl,xt.creationData=il,xt.eraName=Bo,xt.eraNarrow=ol,xt.eraAbbr=al,xt.eraYear=sl,xt.year=or,xt.isLeapYear=In,xt.weekYear=dl,xt.isoWeekYear=Uo,xt.quarter=xt.quarters=ml,xt.month=mn,xt.daysInMonth=Pn,xt.week=xt.weeks=vr,xt.isoWeek=xt.isoWeeks=$r,xt.weeksInYear=hl,xt.weeksInWeekYear=pl,xt.isoWeeksInYear=fl,xt.isoWeeksInISOWeekYear=Na,xt.date=Ha,xt.day=xt.days=xo,xt.weekday=Ui,xt.isoWeekday=Eo,xt.dayOfYear=vl,xt.hour=xt.hours=ci,xt.minute=xt.minutes=bl,xt.second=xt.seconds=yl,xt.millisecond=xt.milliseconds=en,xt.utcOffset=Ds,xt.utc=Lo,xt.local=Ls,xt.parseZone=Ms,xt.hasAlignedHourOffset=$s,xt.isDST=eo,xt.isLocal=Fs,xt.isUtcOffset=Os,xt.isUtc=to,xt.isUTC=to,xt.zoneAbbr=gi,xt.zoneName=wl,xt.dates=o("dates accessor is deprecated. Use date instead.",Ha),xt.months=o("months accessor is deprecated. Use month instead",mn),xt.years=o("years accessor is deprecated. Use year instead",or),xt.zone=o("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ba),xt.isDSTShifted=o("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mo);function _l(S){return Or(S*1e3)}function Sl(){return Or.apply(null,arguments).parseZone()}function za(S){return S}var Cr=n.prototype;Cr.calendar=f,Cr.longDateFormat=se,Cr.invalidDate=K,Cr.ordinal=z,Cr.preparse=za,Cr.postformat=za,Cr.relativeTime=oe,Cr.pastFuture=Y,Cr.set=s,Cr.eras=Ma,Cr.erasParse=$a,Cr.erasConvertYear=io,Cr.erasAbbrRegex=Oa,Cr.erasNameRegex=Fa,Cr.erasNarrowRegex=Ho,Cr.months=He,Cr.monthsShort=qe,Cr.monthsParse=Je,Cr.monthsRegex=Fn,Cr.monthsShortRegex=$n,Cr.week=Ut,Cr.firstDayOfYear=ur,Cr.firstDayOfWeek=It,Cr.weekdays=So,Cr.weekdaysMin=na,Cr.weekdaysShort=Hi,Cr.weekdaysParse=oa,Cr.weekdaysRegex=zi,Cr.weekdaysShortRegex=ji,Cr.weekdaysMinRegex=Vi,Cr.isPM=cs,Cr.meridiem=Yi;function ao(S,V,he,ve){var Ce=Gn(),Ve=F().set(ve,V);return Ce[he](Ve,S)}function ja(S,V,he){if(E(S)&&(V=S,S=void 0),S=S||"",V!=null)return ao(S,V,he,"month");var ve,Ce=[];for(ve=0;ve<12;ve++)Ce[ve]=ao(S,ve,he,"month");return Ce}function so(S,V,he,ve){typeof S=="boolean"?(E(V)&&(he=V,V=void 0),V=V||""):(V=S,he=V,S=!1,E(V)&&(he=V,V=void 0),V=V||"");var Ce=Gn(),Ve=S?Ce._week.dow:0,ht,zt=[];if(he!=null)return ao(V,(he+Ve)%7,ve,"day");for(ht=0;ht<7;ht++)zt[ht]=ao(V,(ht+Ve)%7,ve,"day");return zt}function xl(S,V){return ja(S,V,"months")}function Va(S,V){return ja(S,V,"monthsShort")}function El(S,V,he){return so(S,V,he,"weekdays")}function Cl(S,V,he){return so(S,V,he,"weekdaysShort")}function oi(S,V,he){return so(S,V,he,"weekdaysMin")}Xn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(S){var V=S%10,he=St(S%100/10)===1?"th":V===1?"st":V===2?"nd":V===3?"rd":"th";return S+he}}),Q.lang=o("moment.lang is deprecated. Use moment.locale instead.",Xn),Q.langData=o("moment.langData is deprecated. Use moment.localeData instead.",Gn);var Nn=Math.abs;function Wa(){var S=this._data;return this._milliseconds=Nn(this._milliseconds),this._days=Nn(this._days),this._months=Nn(this._months),S.milliseconds=Nn(S.milliseconds),S.seconds=Nn(S.seconds),S.minutes=Nn(S.minutes),S.hours=Nn(S.hours),S.months=Nn(S.months),S.years=Nn(S.years),this}function zo(S,V,he,ve){var Ce=Ln(V,he);return S._milliseconds+=ve*Ce._milliseconds,S._days+=ve*Ce._days,S._months+=ve*Ce._months,S._bubble()}function jo(S,V){return zo(this,S,V,1)}function Ga(S,V){return zo(this,S,V,-1)}function Vo(S){return S<0?Math.floor(S):Math.ceil(S)}function kl(){var S=this._milliseconds,V=this._days,he=this._months,ve=this._data,Ce,Ve,ht,zt,gr;return S>=0&&V>=0&&he>=0||S<=0&&V<=0&&he<=0||(S+=Vo(lo(he)+V)*864e5,V=0,he=0),ve.milliseconds=S%1e3,Ce=mr(S/1e3),ve.seconds=Ce%60,Ve=mr(Ce/60),ve.minutes=Ve%60,ht=mr(Ve/60),ve.hours=ht%24,V+=mr(ht/24),gr=mr(Ya(V)),he+=gr,V-=Vo(lo(gr)),zt=mr(he/12),he%=12,ve.days=V,ve.months=he,ve.years=zt,this}function Ya(S){return S*4800/146097}function lo(S){return S*146097/4800}function uo(S){if(!this.isValid())return NaN;var V,he,ve=this._milliseconds;if(S=ge(S),S==="month"||S==="quarter"||S==="year")switch(V=this._days+ve/864e5,he=this._months+Ya(V),S){case"month":return he;case"quarter":return he/3;case"year":return he/12}else switch(V=this._days+Math.round(lo(this._months)),S){case"week":return V/7+ve/6048e5;case"day":return V+ve/864e5;case"hour":return V*24+ve/36e5;case"minute":return V*1440+ve/6e4;case"second":return V*86400+ve/1e3;case"millisecond":return Math.floor(V*864e5)+ve;default:throw new Error("Unknown unit "+S)}}function Br(S){return function(){return this.as(S)}}var mi=Br("ms"),Al=Br("s"),qa=Br("m"),Rl=Br("h"),Ka=Br("d"),Tl=Br("w"),Wo=Br("M"),Il=Br("Q"),Pl=Br("y"),Dl=mi;function Ll(){return Ln(this)}function Ja(S){return S=ge(S),this.isValid()?this[S+"s"]():NaN}function ai(S){return function(){return this.isValid()?this._data[S]:NaN}}var Ml=ai("milliseconds"),$l=ai("seconds"),Fl=ai("minutes"),Go=ai("hours"),Xa=ai("days"),vi=ai("months"),Ol=ai("years");function co(){return mr(this.days()/7)}var kn=Math.round,si={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Za(S,V,he,ve,Ce){return Ce.relativeTime(V||1,!!he,S,ve)}function Nl(S,V,he,ve){var Ce=Ln(S).abs(),Ve=kn(Ce.as("s")),ht=kn(Ce.as("m")),zt=kn(Ce.as("h")),gr=kn(Ce.as("d")),xr=kn(Ce.as("M")),hn=kn(Ce.as("w")),Un=kn(Ce.as("y")),zn=Ve<=he.ss&&["s",Ve]||Ve<he.s&&["ss",Ve]||ht<=1&&["m"]||ht<he.m&&["mm",ht]||zt<=1&&["h"]||zt<he.h&&["hh",zt]||gr<=1&&["d"]||gr<he.d&&["dd",gr];return he.w!=null&&(zn=zn||hn<=1&&["w"]||hn<he.w&&["ww",hn]),zn=zn||xr<=1&&["M"]||xr<he.M&&["MM",xr]||Un<=1&&["y"]||["yy",Un],zn[2]=V,zn[3]=+S>0,zn[4]=ve,Za.apply(null,zn)}function fo(S){return S===void 0?kn:typeof S=="function"?(kn=S,!0):!1}function Qa(S,V){return si[S]===void 0?!1:V===void 0?si[S]:(si[S]=V,S==="s"&&(si.ss=V-1),!0)}function Bl(S,V){if(!this.isValid())return this.localeData().invalidDate();var he=!1,ve=si,Ce,Ve;return typeof S=="object"&&(V=S,S=!1),typeof S=="boolean"&&(he=S),typeof V=="object"&&(ve=Object.assign({},si,V),V.s!=null&&V.ss==null&&(ve.ss=V.s-1)),Ce=this.localeData(),Ve=Nl(this,!he,ve,Ce),he&&(Ve=Ce.pastFuture(+this,Ve)),Ce.postformat(Ve)}var Yo=Math.abs;function li(S){return(S>0)-(S<0)||+S}function Li(){if(!this.isValid())return this.localeData().invalidDate();var S=Yo(this._milliseconds)/1e3,V=Yo(this._days),he=Yo(this._months),ve,Ce,Ve,ht,zt=this.asSeconds(),gr,xr,hn,Un;return zt?(ve=mr(S/60),Ce=mr(ve/60),S%=60,ve%=60,Ve=mr(he/12),he%=12,ht=S?S.toFixed(3).replace(/\.?0+$/,""):"",gr=zt<0?"-":"",xr=li(this._months)!==li(zt)?"-":"",hn=li(this._days)!==li(zt)?"-":"",Un=li(this._milliseconds)!==li(zt)?"-":"",gr+"P"+(Ve?xr+Ve+"Y":"")+(he?xr+he+"M":"")+(V?hn+V+"D":"")+(Ce||ve||S?"T":"")+(Ce?Un+Ce+"H":"")+(ve?Un+ve+"M":"")+(S?Un+ht+"S":"")):"P0D"}var Sr=Ai.prototype;Sr.isValid=lu,Sr.abs=Wa,Sr.add=jo,Sr.subtract=Ga,Sr.as=uo,Sr.asMilliseconds=mi,Sr.asSeconds=Al,Sr.asMinutes=qa,Sr.asHours=Rl,Sr.asDays=Ka,Sr.asWeeks=Tl,Sr.asMonths=Wo,Sr.asQuarters=Il,Sr.asYears=Pl,Sr.valueOf=Dl,Sr._bubble=kl,Sr.clone=Ll,Sr.get=Ja,Sr.milliseconds=Ml,Sr.seconds=$l,Sr.minutes=Fl,Sr.hours=Go,Sr.days=Xa,Sr.weeks=co,Sr.months=vi,Sr.years=Ol,Sr.humanize=Bl,Sr.toISOString=Li,Sr.toString=Li,Sr.toJSON=Li,Sr.locale=No,Sr.localeData=Aa,Sr.toIsoString=o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Li),Sr.lang=ka,L("X",0,0,"unix"),L("x",0,0,"valueOf"),et("x",te),et("X",Pe),qt("X",function(S,V,he){he._d=new Date(parseFloat(S)*1e3)}),qt("x",function(S,V,he){he._d=new Date(St(S))});return Q.version="2.30.1",A(Or),Q.fn=xt,Q.min=pa,Q.max=Zi,Q.now=ga,Q.utc=F,Q.unix=_l,Q.months=xl,Q.isDate=d,Q.locale=Xn,Q.invalid=U,Q.duration=Ln,Q.isMoment=h,Q.weekdays=El,Q.parseZone=Sl,Q.localeData=Gn,Q.isDuration=Ri,Q.monthsShort=Va,Q.weekdaysMin=oi,Q.defineLocale=qi,Q.updateLocale=Ki,Q.locales=ps,Q.weekdaysShort=Cl,Q.normalizeUnits=ge,Q.relativeTimeRounding=fo,Q.relativeTimeThreshold=Qa,Q.calendarFormat=Ws,Q.prototype=xt,Q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},Q}))});var ec=wi((Qu,au)=>{(function(we){if(typeof Qu=="object"&&typeof au!="undefined")au.exports=we();else if(typeof define=="function"&&define.amd)define([],we);else{var Q;Q=typeof window=="undefined"?typeof global=="undefined"?typeof self=="undefined"?this:self:global:window,Q.WebTorrent=we()}})(function(){var we=Math.LN2,Q=Math.log,A=Math.pow,O=Math.abs,I=Math.floor,D=Math.round,T=Math.sin,_=Math.cos,E=Math.PI,d=Math.imul,M=Math.clz32,g=String.fromCharCode,F=Math.max,N=Math.ceil,J=Math.min,pe;return(function(){function m(U,k,p){function w(e,o){if(!k[e]){if(!U[e]){var i=typeof Bi=="function"&&Bi;if(!o&&i)return i(e,!0);if(v)return v(e,!0);var u=new Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u}var c=k[e]={exports:{}};U[e][0].call(c.exports,function(s){var t=U[e][1][s];return w(t||s)},c,c.exports,m,U,k,p)}return k[e].exports}for(var v=typeof Bi=="function"&&Bi,h=0;h<p.length;h++)w(p[h]);return w}return m})()({1:[function(m,U){let{Readable:k}=m("streamx"),p=m("debug"),w=p("webtorrent:file-stream");U.exports=class extends k{constructor(v,h){super(h!=null?h:{}),this._torrent=v._torrent;let e=h&&h.start||0,o=h&&h.end&&h.end<v.length?h.end:v.length-1,i=v._torrent.pieceLength;this._startPiece=0|(e+v.offset)/i,this._endPiece=0|(o+v.offset)/i,this._piece=this._startPiece,this._offset=e+v.offset-this._startPiece*i,this._missing=o-e+1,this._reading=!1,this._notifying=!1,this._criticalLength=J(0|1048576/i,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()})}_read(v){this._reading||(this._reading=!0,this._notify(v))}_notify(v=()=>{}){if(!this._reading||this._missing===0)return v();if(!this._torrent.bitfield.get(this._piece))return v(),this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return v();if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));let h=this._piece,e={};h===this._torrent.pieces.length-1&&(e.length=this._torrent.lastPieceLength),this._torrent.store.get(h,e,(o,i)=>{if(this._notifying=!1,!this.destroyed)return w("read %s (length %s) (err %s)",h,i&&i.length,o&&o.message),o?this.destroy(o):(this._offset&&(i=i.slice(this._offset),this._offset=0),this._missing<i.length&&(i=i.slice(0,this._missing)),this._missing-=i.length,w("pushing buffer of length %s",i.length),this._reading=!1,this.push(i),this._missing===0&&this.push(null),void v())}),this._piece+=1}_destroy(v,h){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),v(h)}}},{debug:91,streamx:264}],2:[function(m,U){let k=m("events"),{PassThrough:p}=m("streamx"),w=m("path"),v=m("render-media"),{BlobWriteStream:h}=m("fast-blob-stream"),e=m("stream-with-known-length-to-buffer"),o=m("queue-microtask"),i=m("range-parser"),u=m("mime"),c=m("end-of-stream"),s=m("./file-stream.js");U.exports=class extends k{constructor(t,n){super(),this._torrent=t,this._destroyed=!1,this._fileStreams=new Set,this.name=n.name,this.path=n.path,this.length=n.length,this.offset=n.offset,this.done=!1;let a=n.offset,l=a+n.length-1;this._startPiece=0|a/this._torrent.pieceLength,this._endPiece=0|l/this._torrent.pieceLength,this.length===0&&(this.done=!0,this.emit("done")),this._serviceWorker=t.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;let{pieces:t,bitfield:n,pieceLength:a,lastPieceLength:l}=this._torrent,{_startPiece:f,_endPiece:b}=this,C=R=>R===t.length-1?l:a,$=R=>{let L=R===t.length-1?l:a;return n.get(R)?L:L-t[R].missing},W=0;for(let R=f;R<=b;R+=1){let L=$(R);if(W+=L,R===f){let q=this.offset%a;W-=J(q,L)}if(R===b){let q=C(b)-(this.offset+this.length)%a;W-=J(q,L)}}return W}get progress(){return this.length?this.downloaded/this.length:0}select(t){this.length===0||this._torrent.select(this._startPiece,this._endPiece,t)}deselect(){this.length===0||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(t){if(this.length===0){let a=new p;return o(()=>{a.end()}),a}let n=new s(this,t);return this._fileStreams.add(n),n.once("close",()=>{this._fileStreams.delete(n)}),n}getBuffer(t){e(this.createReadStream(),this.length,t)}getBlob(t){if(typeof window=="undefined")throw new Error("browser-only method");let n=new h(a=>{t(null,a)},{mimeType:this._getMimeType()});this.createReadStream().pipe(n)}getBlobURL(t){this.getBlob((n,a)=>{t(null,URL.createObjectURL(a))})}appendTo(t,n,a){if(typeof window=="undefined")throw new Error("browser-only method");v.append(this,t,n,a)}renderTo(t,n,a){if(typeof window=="undefined")throw new Error("browser-only method");v.render(this,t,n,a)}_serve(t){let n={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":u.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:t.method==="HEAD"?"":"STREAM"};t.destination==="document"&&(n.headers["Content-Type"]="application/octet-stream",n.headers["Content-Disposition"]="attachment",n.body="DOWNLOAD");let a=i(this.length,t.headers.range||"");a.constructor===Array?(n.status=206,a=a[0],n.headers["Content-Range"]=`bytes ${a.start}-${a.end}/${this.length}`,n.headers["Content-Length"]=`${a.end-a.start+1}`):n.headers["Content-Length"]=this.length;let l=t.method==="GET"&&this.createReadStream(a),f=null;return l&&this.emit("stream",{stream:l,req:t,file:this},b=>{f=b,c(b,()=>{b&&b.destroy(),l.destroy()})}),[n,f||l,f&&l]}getStreamURL(t=()=>{}){if(typeof window=="undefined")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");let n=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length),a=`${n}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`;t(null,a)}streamTo(t,n=()=>{}){if(typeof window=="undefined")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");let a=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);t.src=`${a}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,n(null,t)}_getMimeType(){return v.mime[w.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(let t of this._fileStreams)t.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":121,events:123,"fast-blob-stream":125,mime:165,path:185,"queue-microtask":206,"range-parser":211,"render-media":229,"stream-with-known-length-to-buffer":263,streamx:264}],3:[function(m,U,k){let p=m("events"),{Transform:w}=m("stream"),v=m("unordered-array-remove"),h=m("debug"),e=m("bittorrent-protocol"),o=h("webtorrent:peer"),i=!1;k.enableSecure=()=>{i=!0},k.createWebRTCPeer=(t,n,a)=>{let l=new s(t.id,"webrtc");if(l.conn=t,l.swarm=n,l.throttleGroups=a,l.conn.connected)l.onConnect();else{let f=()=>{l.conn.removeListener("connect",b),l.conn.removeListener("error",C)},b=()=>{f(),l.onConnect()},C=$=>{f(),l.destroy($)};l.conn.once("connect",b),l.conn.once("error",C),l.startConnectTimeout()}return l},k.createTCPIncomingPeer=(t,n)=>u(t,"tcpIncoming",n),k.createUTPIncomingPeer=(t,n)=>u(t,"utpIncoming",n),k.createTCPOutgoingPeer=(t,n,a)=>c(t,n,"tcpOutgoing",a),k.createUTPOutgoingPeer=(t,n,a)=>c(t,n,"utpOutgoing",a);let u=(t,n,a)=>{let l=`${t.remoteAddress}:${t.remotePort}`,f=new s(l,n);return f.conn=t,f.addr=l,f.throttleGroups=a,f.onConnect(),f},c=(t,n,a,l)=>{let f=new s(t,a);return f.addr=t,f.swarm=n,f.throttleGroups=l,f};k.createWebSeedPeer=(t,n,a,l)=>{let f=new s(n,"webSeed");return f.swarm=a,f.conn=t,f.throttleGroups=l,f.onConnect(),f};class s extends p{constructor(n,a){super(),this.id=n,this.type=a,o("new %s Peer %s",a,n),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,o("Peer %s connected",this.id),clearTimeout(this.connectTimeout);let n=this.conn;n.once("end",()=>{this.destroy()}),n.once("close",()=>{this.destroy()}),n.once("finish",()=>{this.destroy()}),n.once("error",l=>{this.destroy(l)});let a=this.wire=new e(this.type,this.retries,i);a.once("end",()=>{this.destroy()}),a.once("close",()=>{this.destroy()}),a.once("finish",()=>{this.destroy()}),a.once("error",l=>{this.destroy(l)}),a.once("pe1",()=>{this.onPe1()}),a.once("pe2",()=>{this.onPe2()}),a.once("pe3",()=>{this.onPe3()}),a.once("pe4",()=>{this.onPe4()}),a.once("handshake",(l,f)=>{this.onHandshake(l,f)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&(this.type==="tcpOutgoing"?i&&this.retries===0&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():this.type!=="tcpIncoming"&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(n){this.swarm&&(this.swarm.infoHashHash!==n&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){let n=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new w({transform(a,l,f){n.emit("download",a.length),n.destroyed||f(null,a)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new w({transform(a,l,f){n.emit("upload",a.length),n.destroyed||f(null,a)}})).pipe(this.conn)}onHandshake(n,a){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(n!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(a===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));o("Peer %s got handshake %s",this.id,n),clearTimeout(this.handshakeTimeout),this.retries=0;let l=this.addr;!l&&this.conn.remoteAddress&&this.conn.remotePort&&(l=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,l),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){let n={dht:!this.swarm.private&&!!this.swarm.client.dht,fast:!0};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,n),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(n){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,o("destroy %s %s (error: %s)",this.type,this.id,n&&(n.message||n)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);let a=this.swarm,l=this.conn,f=this.wire;this.swarm=null,this.conn=null,this.wire=null,a&&f&&v(a.wires,a.wires.indexOf(f)),l&&(l.on("error",()=>{}),l.destroy()),f&&f.destroy(),a&&a.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:91,events:123,stream:256,"unordered-array-remove":273}],4:[function(m,U){U.exports=class{constructor(k){this._torrent=k,this._numPieces=k.pieces.length,this._pieces=Array(this._numPieces),this._onWire=p=>{this.recalculate(),this._initWire(p)},this._onWireHave=p=>{this._pieces[p]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(p=>{this._initWire(p)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(k){let p=[],w=1/0;for(let v=0;v<this._numPieces;++v){if(k&&!k(v))continue;let h=this._pieces[v];h===w?p.push(v):h<w&&(p=[v],w=h)}return p.length?p[0|Math.random()*p.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(k=>{this._cleanupWireEvents(k)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(k){k._onClose=()=>{this._cleanupWireEvents(k);for(let p=0;p<this._numPieces;++p)this._pieces[p]-=k.peerPieces.get(p)},k.on("have",this._onWireHave),k.on("bitfield",this._onWireBitfield),k.once("close",k._onClose)}recalculate(){this._pieces.fill(0);for(let k of this._torrent.wires)for(let p=0;p<this._numPieces;++p)this._pieces[p]+=k.peerPieces.get(p)}_cleanupWireEvents(k){k.removeListener("have",this._onWireHave),k.removeListener("bitfield",this._onWireBitfield),k._onClose&&k.removeListener("close",k._onClose),k._onClose=null}}},{}],5:[function(m,U){(function(k,p){(function(){function w(ue,G){let te=2+N(G*ue.downloadSpeed()/se.BLOCK_LENGTH);if(ue.peerExtendedHandshake){let de=ue.peerExtendedHandshake.reqq;typeof de=="number"&&0<de&&(te=J(te,de))}return te}function v(ue,G,te){return 1+N(G*ue.downloadSpeed()/te)}function h(ue){return 0|Math.random()*ue}function e(){}let o=m("events"),i=m("fs"),u=m("net"),c=m("os"),s=m("path"),t=m("addr-to-ip-port"),{default:n}=m("bitfield"),a=m("cache-chunk-store"),l=m("chunk-store-stream/write"),f=m("cpus"),b=m("debug"),C=m("torrent-discovery"),$=m("fs-chunk-store"),W=m("simple-get"),R=m("immediate-chunk-store"),L=m("lt_donthave"),q=m("memory-chunk-store"),ee=m("join-async-iterator"),ae=m("run-parallel"),fe=m("run-parallel-limit"),Ee=m("parse-torrent"),se=m("torrent-piece"),B=m("pump"),K=m("queue-microtask"),j=m("random-iterate"),x=m("simple-sha1"),z=m("throughput"),Z=m("ut_metadata"),oe=m("ut_pex"),{Readable:Y}=m("streamx"),le=m("./file.js"),ge=m("./peer.js"),Re=m("./rarity-map.js"),Ae=m("./server.js"),De=m("./utp.js"),$e=m("./webconn.js"),Ye=b("webtorrent:torrent"),rt=5e3,bt=3*se.BLOCK_LENGTH,ut=1,Me=k.browser?f().length:2,Ge=[1e3,5e3,15e3],Ze=m("../package.json").version,ft=`WebTorrent/${Ze} (https://webtorrent.io)`,Mt;try{Mt=s.join(i.statSync("/tmp")&&"/tmp","webtorrent")}catch{Mt=s.join(typeof c.tmpdir=="function"?c.tmpdir():"/","webtorrent")}U.exports=class extends o{constructor(ue,G,te){super(),this._debugId="unknown infohash",this.client=G,this.announce=te.announce,this.urlList=te.urlList,this.path=te.path||Mt,this.addUID=te.addUID||!1,this.skipVerify=!!te.skipVerify,this._store=te.store||$,this._preloadedStore=te.preloadedStore||null,this._storeCacheSlots=te.storeCacheSlots===void 0?20:te.storeCacheSlots,this._destroyStoreOnDestroy=te.destroyStoreOnDestroy||!1,this._getAnnounceOpts=te.getAnnounceOpts,typeof te.private=="boolean"&&(this.private=te.private),this.strategy=te.strategy||"sequential",this.maxWebConns=te.maxWebConns||4,this._rechokeNumSlots=te.uploads===!1||te.uploads===0?0:+te.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=te.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=te.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=z(),this._uploadSpeed=z(),this._servers=[],this._xsRequests=[],this._fileModtimes=te.fileModtimes,ue!==null&&this._onTorrentId(ue),this._debug("new torrent")}get timeRemaining(){return this.done?0:this.downloadSpeed===0?1/0:1e3*((this.length-this.downloaded)/this.downloadSpeed)}get downloaded(){if(!this.bitfield)return 0;let ue=0;for(let G=0,te=this.pieces.length;G<te;++G)if(this.bitfield.get(G))ue+=G===te-1?this.lastPieceLength:this.pieceLength;else{let de=this.pieces[G];ue+=de.length-de.missing}return ue}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window=="undefined")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let ue=0;for(let G in this._peers)this._peers[G].connected&&(ue+=1);return ue}_onTorrentId(ue){if(this.destroyed)return;let G;try{G=Ee(ue)}catch{}G?(this.infoHash=G.infoHash,this._debugId=G.infoHash.toString("hex").substring(0,7),K(()=>{this.destroyed||this._onParsedTorrent(G)})):Ee.remote(ue,(te,de)=>this.destroyed?void 0:te?this._destroy(te):void this._onParsedTorrent(de))}_onParsedTorrent(ue){if(!this.destroyed){if(this._processParsedTorrent(ue),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(ue){this._debugId=ue.infoHash.toString("hex").substring(0,7),typeof this.private!="undefined"&&(ue.private=this.private),this.announce&&(ue.announce=ue.announce.concat(this.announce)),this.client.tracker&&p.WEBTORRENT_ANNOUNCE&&!ue.private&&(ue.announce=ue.announce.concat(p.WEBTORRENT_ANNOUNCE)),this.urlList&&(ue.urlList=ue.urlList.concat(this.urlList)),ue.announce=Array.from(new Set(ue.announce)),ue.urlList=Array.from(new Set(ue.urlList)),Object.assign(this,ue),this.magnetURI=Ee.toMagnetURI(ue),this.torrentFile=Ee.toTorrentFile(ue)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let ue=this.client.tracker;ue&&(ue=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){let G={uploaded:this.uploaded,downloaded:this.downloaded,left:F(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(G,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(G,this._getAnnounceOpts()),G}}})),this.peerAddresses&&this.peerAddresses.forEach(G=>this.addPeer(G)),this.discovery=new C({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:ue,port:this.client.torrentPort,userAgent:ft,lsd:this.client.lsd}),this.discovery.on("error",G=>{this._destroy(G)}),this.discovery.on("peer",(G,te)=>{this._debug("peer %s discovered via %s",G,te),typeof G=="string"&&this.done||this.addPeer(G)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),this.numPeers===0&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),this.numPeers===0&&this.emit("noPeers","dht")}),this.discovery.on("warning",G=>{this.emit("warning",G)})}_getMetadataFromServer(){function ue(_e,Pe){function je(yt,mt,et){if(G.destroyed||G.metadata)return Pe(null);if(yt)return G.emit("warning",new Error(`http error from xs param: ${_e}`)),Pe(null);if(mt.statusCode!==200)return G.emit("warning",new Error(`non-200 status code ${mt.statusCode} from xs param: ${_e}`)),Pe(null);let Dt;try{Dt=Ee(et)}catch{}return Dt?Dt.infoHash===G.infoHash?(G._onMetadata(Dt),void Pe(null)):(G.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${_e}`)),Pe(null)):(G.emit("warning",new Error(`got invalid torrent file from xs param: ${_e}`)),Pe(null))}if(_e.indexOf("http://")!==0&&_e.indexOf("https://")!==0)return G.emit("warning",new Error(`skipping non-http xs param: ${_e}`)),Pe(null);let Ue;try{Ue=W.concat({url:_e,method:"GET",headers:{"user-agent":ft}},je)}catch{return G.emit("warning",new Error(`skipping invalid url xs param: ${_e}`)),Pe(null)}G._xsRequests.push(Ue)}let G=this,te=Array.isArray(this.xs)?this.xs:[this.xs],de=te.map(_e=>Pe=>{ue(_e,Pe)});ae(de)}_onMetadata(ue){if(this.metadata||this.destroyed)return;this._debug("got metadata"),this._xsRequests.forEach(de=>{de.abort()}),this._xsRequests=[];let G;if(ue&&ue.infoHash)G=ue;else try{G=Ee(ue)}catch(de){return this._destroy(de)}this._processParsedTorrent(G),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(de=>{this.addWebSeed(de)}),this._rarityMap=new Re(this),this.files=this.files.map(de=>new le(this,de));let te=this._preloadedStore;if(te||(te=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(te instanceof q)&&(te=new a(te,{max:this._storeCacheSlots})),this.store=new R(te),this.so?this.files.forEach((de,_e)=>{this.so.includes(_e)?this.files[_e].select():this.files[_e].deselect()}):this.pieces.length!==0&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((de,_e)=>{let Pe=_e===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new se(Pe)}),this._reservations=this.pieces.map(()=>[]),this.bitfield=new n(this.pieces.length),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{let de=_e=>_e?this._destroy(_e):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===$?this.getFileModtimes((_e,Pe)=>{if(_e)return this._destroy(_e);this.files.map((Ue,yt)=>Pe[yt]===this._fileModtimes[yt]).every(Ue=>Ue)?(this._markAllVerified(),this._onStore()):this._verifyPieces(de)}):this._verifyPieces(de)}}getFileModtimes(ue){let G=[];fe(this.files.map((te,de)=>_e=>{let Pe=this.addUID?s.join(this.name+" - "+this.infoHash.slice(0,8)):s.join(this.path,te.path);i.stat(Pe,(je,Ue)=>je&&je.code!=="ENOENT"?_e(je):(G[de]=Ue&&Ue.mtime.getTime(),void _e(null)))}),Me,te=>{this._debug("done getting file modtimes"),ue(te,G)})}_verifyPieces(ue){fe(this.pieces.map((G,te)=>de=>{if(this.destroyed)return de(new Error("torrent is destroyed"));let _e={};te===this.pieces.length-1&&(_e.length=this.lastPieceLength),this.store.get(te,_e,(Pe,je)=>this.destroyed?de(new Error("torrent is destroyed")):Pe?K(()=>de(null)):void x(je,Ue=>this.destroyed?de(new Error("torrent is destroyed")):(Ue===this._hashes[te]?(this._debug("piece verified %s",te),this._markVerified(te)):this._debug("piece invalid %s",te),void de(null))))}),Me,ue)}rescanFiles(ue){if(this.destroyed)throw new Error("torrent is destroyed");ue||(ue=e),this._verifyPieces(G=>G?(this._destroy(G),ue(G)):(this._checkDone(),void ue(null)))}_markAllVerified(){for(let ue=0;ue<this.pieces.length;ue++)this._markVerified(ue)}_markVerified(ue){this.pieces[ue]=null,this._reservations[ue]=null,this.bitfield.set(ue,!0)}_hasAllPieces(){for(let ue=0;ue<this.pieces.length;ue++)if(!this.bitfield.get(ue))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(ue){let G=0;for(let te=0;te<this.pieces.length;te++)if(this.bitfield.get(te)&&(G+=1,G>ue))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(ue=>{ue.ut_metadata&&ue.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(ue)}))}destroy(ue,G){return typeof ue=="function"?this.destroy(null,ue):void this._destroy(null,ue,G)}_destroy(ue,G,te){if(typeof G=="function")return this._destroy(ue,null,G);if(!this.destroyed){for(let _e in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(Pe=>{Pe.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(_e);this.files.forEach(_e=>{_e instanceof le&&_e._destroy()});let de=this._servers.map(_e=>Pe=>{_e.destroy(Pe)});if(this.discovery&&de.push(_e=>{this.discovery.destroy(_e)}),this.store){let _e=this._destroyStoreOnDestroy;G&&G.destroyStore!==void 0&&(_e=G.destroyStore),de.push(Pe=>{_e?this.store.destroy(Pe):this.store.close(Pe)})}ae(de,te),ue&&(this.listenerCount("error")===0?this.client.emit("error",ue):this.emit("error",ue)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(ue){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let G;if(this.client.blocked){if(typeof ue=="string"){let _e;try{_e=t(ue)}catch{return this._debug("ignoring peer: invalid %s",ue),this.emit("invalidPeer",ue),!1}G=_e[0]}else typeof ue.remoteAddress=="string"&&(G=ue.remoteAddress);if(G&&this.client.blocked.contains(G))return this._debug("ignoring peer: blocked %s",ue),typeof ue!="string"&&ue.destroy(),this.emit("blockedPeer",ue),!1}let te=this.client.utp&&this._isIPv4(G)?"utp":"tcp",de=!!this._addPeer(ue,te);return de?this.emit("peer",ue):this.emit("invalidPeer",ue),de}_addPeer(ue,G){if(this.destroyed)return typeof ue!="string"&&ue.destroy(),null;if(typeof ue=="string"&&!this._validAddr(ue))return this._debug("ignoring peer: invalid %s",ue),null;let te=ue&&ue.id||ue;if(this._peers[te])return this._debug("ignoring peer: duplicate (%s)",te),typeof ue!="string"&&ue.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),typeof ue!="string"&&ue.destroy(),null;this._debug("add peer %s",te);let de;return de=typeof ue=="string"?G==="utp"?ge.createUTPOutgoingPeer(ue,this,this.client.throttleGroups):ge.createTCPOutgoingPeer(ue,this,this.client.throttleGroups):ge.createWebRTCPeer(ue,this,this.client.throttleGroups),this._registerPeer(de),typeof ue=="string"&&(this._queue.push(de),this._drain()),de}addWebSeed(ue){if(this.destroyed)throw new Error("torrent is destroyed");let G,te;if(typeof ue=="string"){if(G=ue,!/^https?:\/\/.+/.test(G))return this.emit("warning",new Error(`ignoring invalid web seed: ${G}`)),void this.emit("invalidPeer",G);if(this._peers[G])return this.emit("warning",new Error(`ignoring duplicate web seed: ${G}`)),void this.emit("invalidPeer",G);te=new $e(G,this)}else{if(!(ue&&typeof ue.connId=="string"))return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(te=ue,G=te.connId,this._peers[G])return this.emit("warning",new Error(`ignoring duplicate web seed: ${G}`)),void this.emit("invalidPeer",G)}this._debug("add web seed %s",G);let de=ge.createWebSeedPeer(te,G,this,this.client.throttleGroups);this._registerPeer(de),this.emit("peer",G)}_addIncomingPeer(ue){return this.destroyed?ue.destroy(new Error("torrent is destroyed")):this.paused?ue.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",ue.id),void this._registerPeer(ue))}_registerPeer(ue){ue.on("download",G=>{this.destroyed||(this.received+=G,this._downloadSpeed(G),this.client._downloadSpeed(G),this.emit("download",G),this.destroyed||this.client.emit("download",G))}),ue.on("upload",G=>{this.destroyed||(this.uploaded+=G,this._uploadSpeed(G),this.client._uploadSpeed(G),this.emit("upload",G),this.destroyed||this.client.emit("upload",G))}),this._peers[ue.id]=ue,this._peersLength+=1}removePeer(ue){var te;let G=(ue==null?void 0:ue.id)||ue;ue&&!ue.id&&(ue=(te=this._peers)==null?void 0:te[G]),ue&&(ue.destroy(),this.destroyed||(this._debug("removePeer %s",G),delete this._peers[G],this._peersLength-=1,this._drain()))}select(ue,G,te,de){if(this.destroyed)throw new Error("torrent is destroyed");if(0>ue||G<ue||this.pieces.length<=G)throw new Error(`invalid selection ${ue} : ${G}`);te=+te||0,this._debug("select %s-%s (priority %s)",ue,G,te),this._selections.push({from:ue,to:G,offset:0,priority:te,notify:de||e}),this._selections.sort((_e,Pe)=>Pe.priority-_e.priority),this._updateSelections()}deselect(ue,G,te){if(this.destroyed)throw new Error("torrent is destroyed");te=+te||0,this._debug("deselect %s-%s (priority %s)",ue,G,te);for(let de=0;de<this._selections.length;++de){let _e=this._selections[de];if(_e.from===ue&&_e.to===G&&_e.priority===te){this._selections.splice(de,1);break}}this._updateSelections()}critical(ue,G){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",ue,G);for(let te=ue;te<=G;++te)this._critical[te]=!0;this._updateSelections()}_onWire(ue,G){if(this._debug("got wire %s (%s)",ue._debugId,G||"Unknown"),this.wires.push(ue),G){let te=t(G);ue.remoteAddress=te[0],ue.remotePort=te[1]}this.client.dht&&this.client.dht.listening&&ue.on("port",te=>this.destroyed||this.client.dht.destroyed?void 0:ue.remoteAddress?te===0||65536<te?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",te,G),void this.client.dht.addNode({host:ue.remoteAddress,port:te})):this._debug("ignoring PORT from peer with no address")),ue.on("timeout",()=>{this._debug("wire timeout (%s)",G),ue.destroy()}),ue.type!=="webSeed"&&ue.setTimeout(3e4,!0),ue.setKeepAlive(!0),ue.use(Z(this.metadata)),ue.ut_metadata.on("warning",te=>{this._debug("ut_metadata warning: %s",te.message)}),this.metadata||(ue.ut_metadata.on("metadata",te=>{this._debug("got metadata via ut_metadata"),this._onMetadata(te)}),ue.ut_metadata.fetch()),typeof oe!="function"||this.private||(ue.use(oe()),ue.ut_pex.on("peer",te=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",te,G),this.addPeer(te))}),ue.ut_pex.on("dropped",te=>{let de=this._peers[te];de&&!de.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",te,G),this.removePeer(te))}),ue.once("close",()=>{ue.ut_pex.reset()})),ue.use(L()),this.emit("wire",ue,G),this.ready&&K(()=>{this._onWireWithMetadata(ue)})}_onWireWithMetadata(ue){let G=null,te=()=>{this.destroyed||ue.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&ue.amInterested?ue.destroy():(G=setTimeout(te,rt),G.unref&&G.unref()))},de,_e=()=>{if(ue.peerPieces.buffer.length===this.bitfield.buffer.length){for(de=0;de<this.pieces.length;++de)if(!ue.peerPieces.get(de))return;ue.isSeeder=!0,ue.choke()}};ue.on("bitfield",()=>{_e(),this._update(),this._updateWireInterest(ue)}),ue.on("have",()=>{_e(),this._update(),this._updateWireInterest(ue)}),ue.lt_donthave.on("donthave",()=>{_e(),this._update(),this._updateWireInterest(ue)}),ue.on("have-all",()=>{ue.isSeeder=!0,ue.choke(),this._update(),this._updateWireInterest(ue)}),ue.on("have-none",()=>{ue.isSeeder=!1,this._update(),this._updateWireInterest(ue)}),ue.on("allowed-fast",()=>{this._update()}),ue.once("interested",()=>{ue.unchoke()}),ue.once("close",()=>{clearTimeout(G)}),ue.on("choke",()=>{clearTimeout(G),G=setTimeout(te,rt),G.unref&&G.unref()}),ue.on("unchoke",()=>{clearTimeout(G),this._update()}),ue.on("request",(Pe,je,Ue,yt)=>Ue>131072?ue.destroy():void(this.pieces[Pe]||this.store.get(Pe,{offset:je,length:Ue},yt))),ue.hasFast&&this._hasAllPieces()?ue.haveAll():ue.hasFast&&this._hasNoPieces()?ue.haveNone():ue.bitfield(this.bitfield),this._updateWireInterest(ue),ue.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&ue.port(this.client.dht.address().port),ue.type!=="webSeed"&&(G=setTimeout(te,rt),G.unref&&G.unref()),ue.isSeeder=!1,_e()}_updateSelections(){!this.ready||this.destroyed||(K(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let ue=0;ue<this._selections.length;++ue){let G=this._selections[ue],te=G.offset;for(;this.bitfield.get(G.from+G.offset)&&G.from+G.offset<G.to;)G.offset+=1;te!==G.offset&&G.notify(),G.to===G.from+G.offset&&this.bitfield.get(G.from+G.offset)&&(this._selections.splice(ue,1),ue-=1,G.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){let ue=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(G=>this._updateWireInterest(G)),ue===this._amInterested||(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_updateWireInterest(ue){let G=!1;for(let te=0;te<this.pieces.length;++te)if(this.pieces[te]&&ue.peerPieces.get(te)){G=!0;break}G?ue.interested():ue.uninterested()}_update(){if(!this.destroyed){let ue=j(this.wires);for(let G;G=ue();)this._updateWireWrapper(G)}}_updateWireWrapper(ue){let G=this;typeof window!="undefined"&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{G._updateWire(ue)},{timeout:250}):G._updateWire(ue)}_updateWire(ue){function G(yt,mt,et,Dt){return wt=>wt>=yt&&wt<=mt&&!(wt in et)&&ue.peerPieces.get(wt)&&(!Dt||Dt(wt))}function te(){let yt=ue.downloadSpeed()||1;if(yt>bt)return()=>!0;let mt=F(1,ue.requests.length)*se.BLOCK_LENGTH/yt,et=10,Dt=0;return wt=>{if(!et||Pe.bitfield.get(wt))return!0;for(let Lt=Pe.pieces[wt].missing;Dt<Pe.wires.length;Dt++){let mr=Pe.wires[Dt],St=mr.downloadSpeed();if(!(St<bt)&&!(St<=yt)&&mr.peerPieces.get(wt)&&!(0<(Lt-=St*mt)))return et--,!1}return!0}}function de(yt){let mt=yt;for(let Dt=yt;Dt<Pe._selections.length&&Pe._selections[Dt].priority;Dt++)mt=Dt;let et=Pe._selections[yt];Pe._selections[yt]=Pe._selections[mt],Pe._selections[mt]=et}function _e(yt){if(ue.requests.length>=Ue)return!0;let mt=te();for(let et=0;et<Pe._selections.length;et++){let Dt=Pe._selections[et],wt;if(Pe.strategy==="rarest"){let Lt=Dt.from+Dt.offset,mr=Dt.to,St={},Wt=0;for(let qt=G(Lt,mr,St,mt);Wt<mr-Lt+1&&(wt=Pe._rarityMap.getRarestPiece(qt),!(0>wt));){for(;Pe._request(ue,wt,Pe._critical[wt]||yt)&&ue.requests.length<Ue;);if(ue.requests.length<Ue){St[wt]=!0,Wt++;continue}return Dt.priority&&de(et),!0}}else for(wt=Dt.from+Dt.offset;wt<=Dt.to;wt++)if(ue.peerPieces.get(wt)&&mt(wt)){for(;Pe._request(ue,wt,Pe._critical[wt]||yt)&&ue.requests.length<Ue;);if(!(ue.requests.length<Ue))return Dt.priority&&de(et),!0}}return!1}if(ue.destroyed)return!1;let Pe=this,je=w(ue,.5);if(ue.requests.length>=je)return;let Ue=w(ue,ut);return ue.peerChoking?void(ue.hasFast&&0<ue.peerAllowedFastSet.length&&!this._hasMorePieces(ue.peerAllowedFastSet.length-1)&&(function(){if(ue.requests.length>=Ue)return!1;for(let yt of ue.peerAllowedFastSet){if(ue.peerPieces.get(yt)&&!Pe.bitfield.get(yt))for(;Pe._request(ue,yt,!1)&&ue.requests.length<Ue;);if(!(ue.requests.length<Ue))return!0}return!1})()):ue.downloaded?void(_e(!1)||_e(!0)):(function(){if(!ue.requests.length)for(let yt=Pe._selections.length;yt--;){let mt=Pe._selections[yt],et;if(Pe.strategy==="rarest"){let Dt=mt.from+mt.offset,wt=mt.to,Lt={},mr=0;for(let St=G(Dt,wt,Lt);mr<wt-Dt+1&&(et=Pe._rarityMap.getRarestPiece(St),!(0>et));){if(Pe._request(ue,et,!1))return;Lt[et]=!0,mr+=1}}else for(et=mt.to;et>=mt.from+mt.offset;--et)if(ue.peerPieces.get(et)&&Pe._request(ue,et,!1))return}})()}_rechoke(){if(this.ready){let ue=this.wires.map(G=>({wire:G,random:Math.random()})).sort((G,te)=>{let de=G.wire,_e=te.wire;return de.downloadSpeed()===_e.downloadSpeed()?de.uploadSpeed()===_e.uploadSpeed()?de.amChoking===_e.amChoking?G.random-te.random:de.amChoking?-1:1:de.uploadSpeed()-_e.uploadSpeed():de.downloadSpeed()-_e.downloadSpeed()}).map(G=>G.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let G=0;0<ue.length&&G<this._rechokeNumSlots-1;){let te=ue.pop();te.isSeeder||te===this._rechokeOptimisticWire||(te.unchoke(),te.peerInterested&&G++)}if(this._rechokeOptimisticWire===null&&0<this._rechokeNumSlots){let G=ue.filter(te=>te.peerInterested);if(0<G.length){let te=G[h(G.length)];te.unchoke(),this._rechokeOptimisticWire=te,this._rechokeOptimisticTime=2}}ue.filter(G=>G!==this._rechokeOptimisticWire).forEach(G=>G.choke())}}_hotswap(ue,G){let te=ue.downloadSpeed();if(te<se.BLOCK_LENGTH||!this._reservations[G])return!1;let de=this._reservations[G];if(!de)return!1;let _e=1/0,Pe,je;for(je=0;je<de.length;je++){let Ue=de[je];if(!Ue||Ue===ue)continue;let yt=Ue.downloadSpeed();yt>=bt||2*yt>te||yt>_e||(Pe=Ue,_e=yt)}if(!Pe)return!1;for(je=0;je<de.length;je++)de[je]===Pe&&(de[je]=null);for(je=0;je<Pe.requests.length;je++){let Ue=Pe.requests[je];Ue.piece===G&&this.pieces[G].cancel(0|Ue.offset/se.BLOCK_LENGTH)}return this.emit("hotswap",Pe,ue,G),!0}_request(ue,G,te){function de(){K(()=>{_e._update()})}let _e=this,Pe=ue.requests.length,je=ue.type==="webSeed";if(_e.bitfield.get(G))return!1;let Ue=je?J(v(ue,ut,_e.pieceLength),_e.maxWebConns):w(ue,ut);if(Pe>=Ue)return!1;let yt=_e.pieces[G],mt=je?yt.reserveRemaining():yt.reserve();if(mt===-1&&te&&_e._hotswap(ue,G)&&(mt=je?yt.reserveRemaining():yt.reserve()),mt===-1)return!1;let et=_e._reservations[G];et||(et=_e._reservations[G]=[]);let Dt=et.indexOf(null);Dt===-1&&(Dt=et.length),et[Dt]=ue;let wt=yt.chunkOffset(mt),Lt=je?yt.chunkLengthRemaining(mt):yt.chunkLength(mt);return ue.request(G,wt,Lt,function mr(St,Wt){if(_e.destroyed)return;if(!_e.ready)return _e.once("ready",()=>{mr(St,Wt)});if(et[Dt]===ue&&(et[Dt]=null),yt!==_e.pieces[G])return de();if(St)return _e._debug("error getting piece %s (offset: %s length: %s) from %s: %s",G,wt,Lt,`${ue.remoteAddress}:${ue.remotePort}`,St.message),je?yt.cancelRemaining(mt):yt.cancel(mt),void de();if(_e._debug("got piece %s (offset: %s length: %s) from %s",G,wt,Lt,`${ue.remoteAddress}:${ue.remotePort}`),!yt.set(mt,Wt,ue))return de();let qt=yt.flush();x(qt,Kt=>{_e.destroyed||(Kt===_e._hashes[G]?(_e._debug("piece verified %s",G),_e.store.put(G,qt,sr=>sr?void _e._destroy(sr):(_e.pieces[G]=null,_e._markVerified(G),_e.wires.forEach(_n=>{_n.have(G)}),_e._checkDone()&&!_e.destroyed&&_e.discovery.complete(),void de()))):(_e.pieces[G]=new se(yt.length),_e.emit("warning",new Error(`Piece ${G} failed verification`)),de()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(G=>{if(!G.done){for(let te=G._startPiece;te<=G._endPiece;++te)if(!this.bitfield.get(te))return;G.done=!0,G.emit("done"),this._debug(`file done: ${G.name}`)}});let ue=!0;for(let G of this._selections){for(let te=G.from;te<=G.to;te++)if(!this.bitfield.get(te)){ue=!1;break}if(!ue)break}return!this.done&&ue?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),ue}load(ue,G){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(ue,G)});Array.isArray(ue)||(ue=[ue]),G||(G=e);let te=Y.from(ee(ue)),de=new l(this.store,this.pieceLength);B(te,de,_e=>_e?G(_e):(this._markAllVerified(),this._checkDone(),void G(null)))}createServer(ue){if(typeof Ae!="function")throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");let G=new Ae(this,ue);return this._servers.push(G),G}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){let ue=[].slice.call(arguments);ue[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${ue[0]}`,Ye(...ue)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),typeof u.connect!="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);let ue=this._queue.shift();if(!ue)return;this._debug("%s connect attempt to %s",ue.type,ue.addr);let G=t(ue.addr),te={host:G[0],port:G[1]};ue.conn=this.client.utp&&ue.type==="utpOutgoing"?De.connect(te.port,te.host):u.connect(te);let de=ue.conn;de.once("connect",()=>{this.destroyed||ue.onConnect()}),de.once("error",_e=>{ue.destroy(_e)}),ue.startConnectTimeout(),de.on("close",()=>{if(!this.destroyed){if(ue.retries>=Ge.length){if(this.client.utp){let je=this._addPeer(ue.addr,"tcp");je&&(je.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",ue.addr,Ge.length);return}let _e=Ge[ue.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",ue.addr,_e,ue.retries+1);let Pe=setTimeout(()=>{if(!this.destroyed){let je=t(ue.addr)[0],Ue=this.client.utp&&this._isIPv4(je)?"utp":"tcp",yt=this._addPeer(ue.addr,Ue);yt&&(yt.retries=ue.retries+1)}},_e);Pe.unref&&Pe.unref()}})}_validAddr(ue){let G;try{G=t(ue)}catch{return!1}let te=G[0],de=G[1];return 0<de&&65535>de&&(te!=="127.0.0.1"||de!==this.client.torrentPort)}_isIPv4(ue){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(ue)}}}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"../package.json":282,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":42,"./utp.js":42,"./webconn.js":6,_process:193,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":78,"chunk-store-stream/write":79,cpus:82,debug:91,events:123,fs:42,"fs-chunk-store":161,"immediate-chunk-store":146,"join-async-iterator":150,lt_donthave:157,"memory-chunk-store":161,net:42,os:42,"parse-torrent":184,path:185,pump:201,"queue-microtask":206,"random-iterate":208,"run-parallel":233,"run-parallel-limit":232,"simple-get":246,"simple-sha1":248,streamx:264,throughput:268,"torrent-discovery":270,"torrent-piece":271,ut_metadata:276,ut_pex:42}],6:[function(m,U,k){(function(p){(function(){let{default:w}=m("bitfield"),v=m("debug"),h=m("simple-get"),e=m("lt_donthave"),o=m("simple-sha1"),i=m("bittorrent-protocol"),u=v("webtorrent:webconn"),c=m("../package.json").version,s=6e4,t=1e4;class n extends i{constructor(l,f){super(),this.url=l,this.connId=l,this.webPeerId=o.sync(l),this._torrent=f,this._init()}_init(){this.setKeepAlive(!0),this.use(e()),this.once("handshake",(l,f)=>{if(this.destroyed)return;this.handshake(l,this.webPeerId);let b=this._torrent.pieces.length,C=new w(b);for(let $=0;$<=b;$++)C.set($,!0);this.bitfield(C)}),this.once("interested",()=>{u("interested"),this.unchoke()}),this.on("uninterested",()=>{u("uninterested")}),this.on("choke",()=>{u("choke")}),this.on("unchoke",()=>{u("unchoke")}),this.on("bitfield",()=>{u("bitfield")}),this.lt_donthave.on("donthave",()=>{u("donthave")}),this.on("request",(l,f,b,C)=>{u("request pieceIndex=%d offset=%d length=%d",l,f,b),this.httpRequest(l,f,b,($,W)=>{if($){this.lt_donthave.donthave(l);let R=setTimeout(()=>{this.destroyed||this.have(l)},t);R.unref&&R.unref()}C($,W)})})}httpRequest(l,f,b,C){let $=l*this._torrent.pieceLength,W=$+f,R=W+b-1,L=this._torrent.files,q;if(1>=L.length)q=[{url:this.url,start:W,end:R}];else{let Ee=L.filter(se=>se.offset<=R&&se.offset+se.length>W);if(1>Ee.length)return C(new Error("Could not find file corresponding to web seed range request"));q=Ee.map(se=>{let B=se.offset+se.length-1;return{url:this.url+(this.url[this.url.length-1]==="/"?"":"/")+se.path.replace(this._torrent.path,""),fileOffsetInRange:F(se.offset-W,0),start:F(W-se.offset,0),end:J(B,R-se.offset)}})}let ee=0,ae=!1,fe;1<q.length&&(fe=p.alloc(b)),q.forEach(Ee=>{function se(z,Z){return 200>z.statusCode||300<=z.statusCode?ae?void 0:(ae=!0,C(new Error(`Unexpected HTTP status code ${z.statusCode}`))):(u("Got data of length %d",Z.length),void(q.length===1?C(null,Z):(Z.copy(fe,Ee.fileOffsetInRange),++ee===q.length&&C(null,fe))))}let B=Ee.url,K=Ee.start,j=Ee.end;u("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",B,l,f,b,K,j);let x={url:B,method:"GET",headers:{"user-agent":`WebTorrent/${c} (https://webtorrent.io)`,range:`bytes=${K}-${j}`},timeout:s};h.concat(x,(z,Z,oe)=>ae?void 0:z?typeof window=="undefined"||B.startsWith(`${window.location.origin}/`)?(ae=!0,C(z)):h.head(B,(Y,le)=>ae?void 0:Y?(ae=!0,C(Y)):200>le.statusCode||300<=le.statusCode?(ae=!0,C(new Error(`Unexpected HTTP status code ${le.statusCode}`))):le.url===B?(ae=!0,C(z)):(x.url=le.url,void h.concat(x,(ge,Re,Ae)=>ae?void 0:ge?(ae=!0,C(ge)):void se(Re,Ae)))):void se(Z,oe))})}destroy(){super.destroy(),this._torrent=null}}U.exports=n}).call(this)}).call(this,m("buffer").Buffer)},{"../package.json":282,bitfield:31,"bittorrent-protocol":32,buffer:76,debug:91,lt_donthave:157,"simple-get":246,"simple-sha1":248}],7:[function(m,U,k){let p=/^\[?([^\]]+)]?:(\d+)$/,w=new Map;U.exports=function(h){if(w.size===1e5&&w.clear(),!w.has(h)){let e=p.exec(h);if(!e)throw new Error(`invalid addr: ${h}`);w.set(h,[e[1],+e[2]])}return w.get(h)}},{}],8:[function(m,U,k){"use strict";let p=k;p.bignum=m("bn.js"),p.define=m("./asn1/api").define,p.base=m("./asn1/base"),p.constants=m("./asn1/constants"),p.decoders=m("./asn1/decoders"),p.encoders=m("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(m,U,k){"use strict";function p(o,i){this.name=o,this.body=i,this.decoders={},this.encoders={}}let w=m("./encoders"),v=m("./decoders"),h=m("inherits"),e=k;e.define=function(i,u){return new p(i,u)},p.prototype._createNamed=function(i){function u(s){this._initNamed(s,c)}let c=this.name;return h(u,i),u.prototype._initNamed=function(t,n){i.call(this,t,n)},new u(this)},p.prototype._getDecoder=function(i){return i=i||"der",this.decoders.hasOwnProperty(i)||(this.decoders[i]=this._createNamed(v[i])),this.decoders[i]},p.prototype.decode=function(i,u,c){return this._getDecoder(u).decode(i,c)},p.prototype._getEncoder=function(i){return i=i||"der",this.encoders.hasOwnProperty(i)||(this.encoders[i]=this._createNamed(w[i])),this.encoders[i]},p.prototype.encode=function(i,u,c){return this._getEncoder(u).encode(i,c)}},{"./decoders":17,"./encoders":20,inherits:147}],10:[function(m,U,k){"use strict";function p(o,i){return h.call(this,i),e.isBuffer(o)?(this.base=o,this.offset=0,void(this.length=o.length)):void this.error("Input not Buffer")}function w(o,i){if(Array.isArray(o))this.length=0,this.value=o.map(function(u){return w.isEncoderBuffer(u)||(u=new w(u,i)),this.length+=u.length,u},this);else if(typeof o=="number"){if(!(0<=o&&255>=o))return i.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=e.byteLength(o);else if(e.isBuffer(o))this.value=o,this.length=o.length;else return i.error("Unsupported type: "+typeof o)}let v=m("inherits"),h=m("../base/reporter").Reporter,e=m("safer-buffer").Buffer;v(p,h),k.DecoderBuffer=p,p.isDecoderBuffer=function(i){return i instanceof p?!0:typeof i=="object"&&e.isBuffer(i.base)&&i.constructor.name==="DecoderBuffer"&&typeof i.offset=="number"&&typeof i.length=="number"&&typeof i.save=="function"&&typeof i.restore=="function"&&typeof i.isEmpty=="function"&&typeof i.readUInt8=="function"&&typeof i.skip=="function"&&typeof i.raw=="function"},p.prototype.save=function(){return{offset:this.offset,reporter:h.prototype.save.call(this)}},p.prototype.restore=function(i){let u=new p(this.base);return u.offset=i.offset,u.length=this.offset,this.offset=i.offset,h.prototype.restore.call(this,i.reporter),u},p.prototype.isEmpty=function(){return this.offset===this.length},p.prototype.readUInt8=function(i){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(i||"DecoderBuffer overrun")},p.prototype.skip=function(i,u){if(!(this.offset+i<=this.length))return this.error(u||"DecoderBuffer overrun");let c=new p(this.base);return c._reporterState=this._reporterState,c.offset=this.offset,c.length=this.offset+i,this.offset+=i,c},p.prototype.raw=function(i){return this.base.slice(i?i.offset:this.offset,this.length)},k.EncoderBuffer=w,w.isEncoderBuffer=function(i){return i instanceof w?!0:typeof i=="object"&&i.constructor.name==="EncoderBuffer"&&typeof i.length=="number"&&typeof i.join=="function"},w.prototype.join=function(i,u){return i||(i=e.alloc(this.length)),u||(u=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(c){c.join(i,u),u+=c.length}):(typeof this.value=="number"?i[u]=this.value:typeof this.value=="string"?i.write(this.value,u):e.isBuffer(this.value)&&this.value.copy(i,u),u+=this.length)),i}},{"../base/reporter":13,inherits:147,"safer-buffer":236}],11:[function(m,U,k){"use strict";let p=k;p.Reporter=m("./reporter").Reporter,p.DecoderBuffer=m("./buffer").DecoderBuffer,p.EncoderBuffer=m("./buffer").EncoderBuffer,p.Node=m("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(m,U,k){"use strict";function p(s,t,n){let a={};this._baseState=a,a.name=n,a.enc=s,a.parent=t||null,a.children=null,a.tag=null,a.args=null,a.reverseArgs=null,a.choice=null,a.optional=!1,a.any=!1,a.obj=!1,a.use=null,a.useDecoder=null,a.key=null,a.default=null,a.explicit=null,a.implicit=null,a.contains=null,a.parent||(a.children=[],this._wrap())}let w=m("../base/reporter").Reporter,v=m("../base/buffer").EncoderBuffer,h=m("../base/buffer").DecoderBuffer,e=m("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];U.exports=p;let c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){let t=this._baseState,n={};c.forEach(function(l){n[l]=t[l]});let a=new this.constructor(n.parent);return a._baseState=n,a},p.prototype._wrap=function(){let t=this._baseState;i.forEach(function(n){this[n]=function(){let l=new this.constructor(this);return t.children.push(l),l[n].apply(l,arguments)}},this)},p.prototype._init=function(t){let n=this._baseState;e(n.parent===null),t.call(this),n.children=n.children.filter(function(a){return a._baseState.parent===this},this),e.equal(n.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(t){let n=this._baseState,a=t.filter(function(l){return l instanceof this.constructor},this);t=t.filter(function(l){return!(l instanceof this.constructor)},this),a.length!==0&&(e(n.children===null),n.children=a,a.forEach(function(l){l._baseState.parent=this},this)),t.length!==0&&(e(n.args===null),n.args=t,n.reverseArgs=t.map(function(l){if(typeof l!="object"||l.constructor!==Object)return l;let f={};return Object.keys(l).forEach(function(b){b==(0|b)&&(b|=0);let C=l[b];f[C]=b}),f}))},u.forEach(function(s){p.prototype[s]=function(){let n=this._baseState;throw new Error(s+" not implemented for encoding: "+n.enc)}}),o.forEach(function(s){p.prototype[s]=function(){let n=this._baseState,a=Array.prototype.slice.call(arguments);return e(n.tag===null),n.tag=s,this._useArgs(a),this}}),p.prototype.use=function(t){e(t);let n=this._baseState;return e(n.use===null),n.use=t,this},p.prototype.optional=function(){let t=this._baseState;return t.optional=!0,this},p.prototype.def=function(t){let n=this._baseState;return e(n.default===null),n.default=t,n.optional=!0,this},p.prototype.explicit=function(t){let n=this._baseState;return e(n.explicit===null&&n.implicit===null),n.explicit=t,this},p.prototype.implicit=function(t){let n=this._baseState;return e(n.explicit===null&&n.implicit===null),n.implicit=t,this},p.prototype.obj=function(){let t=this._baseState,n=Array.prototype.slice.call(arguments);return t.obj=!0,n.length!==0&&this._useArgs(n),this},p.prototype.key=function(t){let n=this._baseState;return e(n.key===null),n.key=t,this},p.prototype.any=function(){let t=this._baseState;return t.any=!0,this},p.prototype.choice=function(t){let n=this._baseState;return e(n.choice===null),n.choice=t,this._useArgs(Object.keys(t).map(function(a){return t[a]})),this},p.prototype.contains=function(t){let n=this._baseState;return e(n.use===null),n.contains=t,this},p.prototype._decode=function(t,n){let a=this._baseState;if(a.parent===null)return t.wrapResult(a.children[0]._decode(t,n));let l=a.default,f=!0,b=null;if(a.key!==null&&(b=t.enterKey(a.key)),a.optional){let $=null;if(a.explicit===null?a.implicit===null?a.tag!==null&&($=a.tag):$=a.implicit:$=a.explicit,$===null&&!a.any){let W=t.save();try{a.choice===null?this._decodeGeneric(a.tag,t,n):this._decodeChoice(t,n),f=!0}catch{f=!1}t.restore(W)}else if(f=this._peekTag(t,$,a.any),t.isError(f))return f}let C;if(a.obj&&f&&(C=t.enterObject()),f){if(a.explicit!==null){let W=this._decodeTag(t,a.explicit);if(t.isError(W))return W;t=W}let $=t.offset;if(a.use===null&&a.choice===null){let W;a.any&&(W=t.save());let R=this._decodeTag(t,a.implicit===null?a.tag:a.implicit,a.any);if(t.isError(R))return R;a.any?l=t.raw(W):t=R}if(n&&n.track&&a.tag!==null&&n.track(t.path(),$,t.length,"tagged"),n&&n.track&&a.tag!==null&&n.track(t.path(),t.offset,t.length,"content"),a.any||(a.choice===null?l=this._decodeGeneric(a.tag,t,n):l=this._decodeChoice(t,n)),t.isError(l))return l;if(a.any||a.choice!==null||a.children===null||a.children.forEach(function(R){R._decode(t,n)}),a.contains&&(a.tag==="octstr"||a.tag==="bitstr")){let W=new h(l);l=this._getUse(a.contains,t._reporterState.obj)._decode(W,n)}}return a.obj&&f&&(l=t.leaveObject(C)),a.key!==null&&(l!==null||f===!0)?t.leaveKey(b,a.key,l):b!==null&&t.exitKey(b),l},p.prototype._decodeGeneric=function(t,n,a){let l=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(n,t,l.args[0],a):/str$/.test(t)?this._decodeStr(n,t,a):t==="objid"&&l.args?this._decodeObjid(n,l.args[0],l.args[1],a):t==="objid"?this._decodeObjid(n,null,null,a):t==="gentime"||t==="utctime"?this._decodeTime(n,t,a):t==="null_"?this._decodeNull(n,a):t==="bool"?this._decodeBool(n,a):t==="objDesc"?this._decodeStr(n,t,a):t==="int"||t==="enum"?this._decodeInt(n,l.args&&l.args[0],a):l.use===null?n.error("unknown tag: "+t):this._getUse(l.use,n._reporterState.obj)._decode(n,a)},p.prototype._getUse=function(t,n){let a=this._baseState;return a.useDecoder=this._use(t,n),e(a.useDecoder._baseState.parent===null),a.useDecoder=a.useDecoder._baseState.children[0],a.implicit!==a.useDecoder._baseState.implicit&&(a.useDecoder=a.useDecoder.clone(),a.useDecoder._baseState.implicit=a.implicit),a.useDecoder},p.prototype._decodeChoice=function(t,n){let a=this._baseState,l=null,f=!1;return Object.keys(a.choice).some(function(b){let C=t.save(),$=a.choice[b];try{let W=$._decode(t,n);if(t.isError(W))return!1;l={type:b,value:W},f=!0}catch{return t.restore(C),!1}return!0},this),f?l:t.error("Choice not matched")},p.prototype._createEncoderBuffer=function(t){return new v(t,this.reporter)},p.prototype._encode=function(t,n,a){let l=this._baseState;if(l.default===null||l.default!==t){let f=this._encodeValue(t,n,a);return f===void 0||this._skipDefault(f,n,a)?void 0:f}},p.prototype._encodeValue=function(t,n,a){let l=this._baseState;if(l.parent===null)return l.children[0]._encode(t,n||new w);let f=null;if(this.reporter=n,l.optional&&t===void 0)if(l.default!==null)t=l.default;else return;let b=null,C=!1;if(l.any)f=this._createEncoderBuffer(t);else if(l.choice)f=this._encodeChoice(t,n);else if(l.contains)b=this._getUse(l.contains,a)._encode(t,n),C=!0;else if(l.children)b=l.children.map(function($){if($._baseState.tag==="null_")return $._encode(null,n,t);if($._baseState.key===null)return n.error("Child should have a key");let W=n.enterKey($._baseState.key);if(typeof t!="object")return n.error("Child expected, but input is not object");let R=$._encode(t[$._baseState.key],n,t);return n.leaveKey(W),R},this).filter(function($){return $}),b=this._createEncoderBuffer(b);else if(l.tag==="seqof"||l.tag==="setof"){if(!(l.args&&l.args.length===1))return n.error("Too many args for : "+l.tag);if(!Array.isArray(t))return n.error("seqof/setof, but data is not Array");let $=this.clone();$._baseState.implicit=null,b=this._createEncoderBuffer(t.map(function(W){let R=this._baseState;return this._getUse(R.args[0],t)._encode(W,n)},$))}else l.use===null?(b=this._encodePrimitive(l.tag,t),C=!0):f=this._getUse(l.use,a)._encode(t,n);if(!l.any&&l.choice===null){let $=l.implicit===null?l.tag:l.implicit,W=l.implicit===null?"universal":"context";$===null?l.use===null&&n.error("Tag could be omitted only for .use()"):l.use===null&&(f=this._encodeComposite($,C,W,b))}return l.explicit!==null&&(f=this._encodeComposite(l.explicit,!1,"context",f)),f},p.prototype._encodeChoice=function(t,n){let a=this._baseState,l=a.choice[t.type];return l||e(!1,t.type+" not found in "+JSON.stringify(Object.keys(a.choice))),l._encode(t.value,n)},p.prototype._encodePrimitive=function(t,n){let a=this._baseState;if(/str$/.test(t))return this._encodeStr(n,t);if(t==="objid"&&a.args)return this._encodeObjid(n,a.reverseArgs[0],a.args[1]);if(t==="objid")return this._encodeObjid(n,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(n,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(n,a.args&&a.reverseArgs[0]);if(t==="bool")return this._encodeBool(n);if(t==="objDesc")return this._encodeStr(n,t);throw new Error("Unsupported tag: "+t)},p.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},p.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":168}],13:[function(m,U,k){"use strict";function p(h){this._reporterState={obj:null,path:[],options:h||{},errors:[]}}function w(h,e){this.path=h,this.rethrow(e)}let v=m("inherits");k.Reporter=p,p.prototype.isError=function(e){return e instanceof w},p.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},p.prototype.restore=function(e){let o=this._reporterState;o.obj=e.obj,o.path=o.path.slice(0,e.pathLen)},p.prototype.enterKey=function(e){return this._reporterState.path.push(e)},p.prototype.exitKey=function(e){let o=this._reporterState;o.path=o.path.slice(0,e-1)},p.prototype.leaveKey=function(e,o,i){let u=this._reporterState;this.exitKey(e),u.obj!==null&&(u.obj[o]=i)},p.prototype.path=function(){return this._reporterState.path.join("/")},p.prototype.enterObject=function(){let e=this._reporterState,o=e.obj;return e.obj={},o},p.prototype.leaveObject=function(e){let o=this._reporterState,i=o.obj;return o.obj=e,i},p.prototype.error=function(e){let o,i=this._reporterState,u=e instanceof w;if(o=u?e:new w(i.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw o;return u||i.errors.push(o),o},p.prototype.wrapResult=function(e){let o=this._reporterState;return o.options.partial?{result:this.isError(e)?null:e,errors:o.errors}:e},v(w,Error),w.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,w),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:147}],14:[function(m,U,k){"use strict";function p(w){let v={};return Object.keys(w).forEach(function(h){(0|h)==h&&(h|=0);let e=w[h];v[e]=h}),v}k.tagClass={0:"universal",1:"application",2:"context",3:"private"},k.tagClassByName=p(k.tagClass),k.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},k.tagByName=p(k.tag)},{}],15:[function(m,U,k){"use strict";let p=k;p._reverse=function(v){let h={};return Object.keys(v).forEach(function(e){(0|e)==e&&(e|=0);let o=v[e];h[o]=e}),h},p.der=m("./der")},{"./der":14}],16:[function(m,U,k){"use strict";function p(s){this.enc="der",this.name=s.name,this.entity=s,this.tree=new w,this.tree._init(s.body)}function w(s){u.call(this,"der",s)}function v(s,t){let n=s.readUInt8(t);if(s.isError(n))return n;let a=c.tagClass[n>>6],l=(32&n)==0;if((31&n)==31){let b=n;for(n=0;(128&b)==128;){if(b=s.readUInt8(t),s.isError(b))return b;n<<=7,n|=127&b}}else n&=31;let f=c.tag[n];return{cls:a,primitive:l,tag:n,tagStr:f}}function h(s,t,n){let a=s.readUInt8(n);if(s.isError(a))return a;if(!t&&a===128)return null;if((128&a)==0)return a;let l=127&a;if(4<l)return s.error("length octect is too long");a=0;for(let f=0;f<l;f++){a<<=8;let b=s.readUInt8(n);if(s.isError(b))return b;a|=b}return a}let e=m("inherits"),o=m("bn.js"),i=m("../base/buffer").DecoderBuffer,u=m("../base/node"),c=m("../constants/der");U.exports=p,p.prototype.decode=function(t,n){return i.isDecoderBuffer(t)||(t=new i(t,n)),this.tree._decode(t,n)},e(w,u),w.prototype._peekTag=function(t,n,a){if(t.isEmpty())return!1;let l=t.save(),f=v(t,'Failed to peek tag: "'+n+'"');return t.isError(f)?f:(t.restore(l),f.tag===n||f.tagStr===n||f.tagStr+"of"===n||a)},w.prototype._decodeTag=function(t,n,a){let l=v(t,'Failed to decode tag of "'+n+'"');if(t.isError(l))return l;let f=h(t,l.primitive,'Failed to get length of "'+n+'"');if(t.isError(f))return f;if(!a&&l.tag!==n&&l.tagStr!==n&&l.tagStr+"of"!==n)return t.error('Failed to match tag: "'+n+'"');if(l.primitive||f!==null)return t.skip(f,'Failed to match body of: "'+n+'"');let b=t.save(),C=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(C)?C:(f=t.offset-b.offset,t.restore(b),t.skip(f,'Failed to match body of: "'+n+'"'))},w.prototype._skipUntilEnd=function(t,n){for(;;){let a=v(t,n);if(t.isError(a))return a;let l=h(t,a.primitive,n);if(t.isError(l))return l;let f;if(f=a.primitive||l!==null?t.skip(l):this._skipUntilEnd(t,n),t.isError(f))return f;if(a.tagStr==="end")break}},w.prototype._decodeList=function(t,n,a,l){let f=[];for(;!t.isEmpty();){let b=this._peekTag(t,"end");if(t.isError(b))return b;let C=a.decode(t,"der",l);if(t.isError(C)&&b)break;f.push(C)}return f},w.prototype._decodeStr=function(t,n){if(n==="bitstr"){let a=t.readUInt8();return t.isError(a)?a:{unused:a,data:t.raw()}}if(n==="bmpstr"){let a=t.raw();if(a.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let l="";for(let f=0;f<a.length/2;f++)l+=g(a.readUInt16BE(2*f));return l}if(n==="numstr"){let a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if(n==="octstr"||n==="objDesc")return t.raw();if(n==="printstr"){let a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(n)?t.raw().toString():t.error("Decoding of string type: "+n+" unsupported")},w.prototype._decodeObjid=function(t,n,a){let l,f=[],b=0,C=0;for(;!t.isEmpty();)C=t.readUInt8(),b<<=7,b|=127&C,(128&C)==0&&(f.push(b),b=0);128&C&&f.push(b);let $=0|f[0]/40,W=f[0]%40;if(l=a?f:[$,W].concat(f.slice(1)),n){let R=n[l.join(" ")];R===void 0&&(R=n[l.join(".")]),R!==void 0&&(l=R)}return l},w.prototype._decodeTime=function(t,n){let a=t.raw().toString(),l,f,b,C,$,W;if(n==="gentime")l=0|a.slice(0,4),f=0|a.slice(4,6),b=0|a.slice(6,8),C=0|a.slice(8,10),$=0|a.slice(10,12),W=0|a.slice(12,14);else if(n==="utctime")l=0|a.slice(0,2),f=0|a.slice(2,4),b=0|a.slice(4,6),C=0|a.slice(6,8),$=0|a.slice(8,10),W=0|a.slice(10,12),l=70>l?2e3+l:1900+l;else return t.error("Decoding "+n+" time is not supported yet");return Date.UTC(l,f-1,b,C,$,W,0)},w.prototype._decodeNull=function(){return null},w.prototype._decodeBool=function(t){let n=t.readUInt8();return t.isError(n)?n:n!==0},w.prototype._decodeInt=function(t,n){let a=t.raw(),l=new o(a);return n&&(l=n[l.toString(10)]||l),l},w.prototype._use=function(t,n){return typeof t=="function"&&(t=t(n)),t._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:147}],17:[function(m,U,k){"use strict";let p=k;p.der=m("./der"),p.pem=m("./pem")},{"./der":16,"./pem":18}],18:[function(m,U,k){"use strict";function p(e){h.call(this,e),this.enc="pem"}let w=m("inherits"),v=m("safer-buffer").Buffer,h=m("./der");w(p,h),U.exports=p,p.prototype.decode=function(o,i){let u=o.toString().split(/[\r\n]+/g),c=i.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,t=-1,n=-1;for(let f=0;f<u.length;f++){let b=u[f].match(s);if(b!==null&&b[2]===c)if(t===-1){if(b[1]!=="BEGIN")break;t=f}else{if(b[1]!=="END")break;n=f;break}}if(t===-1||n===-1)throw new Error("PEM section not found for: "+c);let a=u.slice(t+1,n).join("");a.replace(/[^a-z0-9+/=]+/gi,"");let l=v.from(a,"base64");return h.prototype.decode.call(this,l,i)}},{"./der":16,inherits:147,"safer-buffer":236}],19:[function(m,U,k){"use strict";function p(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new w,this.tree._init(c.body)}function w(c){i.call(this,"der",c)}function v(c){return 10>c?"0"+c:c}function h(c,s,t,n){let a;if(c==="seqof"?c="seq":c=="setof"&&(c="set"),u.tagByName.hasOwnProperty(c))a=u.tagByName[c];else if(typeof c=="number"&&(0|c)===c)a=c;else return n.error("Unknown tag: "+c);return 31<=a?n.error("Multi-octet tag encoding unsupported"):(s||(a|=32),a|=u.tagClassByName[t||"universal"]<<6,a)}let e=m("inherits"),o=m("safer-buffer").Buffer,i=m("../base/node"),u=m("../constants/der");U.exports=p,p.prototype.encode=function(s,t){return this.tree._encode(s,t).join()},e(w,i),w.prototype._encodeComposite=function(s,t,n,a){let l=h(s,t,n,this.reporter);if(128>a.length){let C=o.alloc(2);return C[0]=l,C[1]=a.length,this._createEncoderBuffer([C,a])}let f=1;for(let C=a.length;256<=C;C>>=8)f++;let b=o.alloc(2+f);b[0]=l,b[1]=128|f;for(let C=1+f,$=a.length;0<$;C--,$>>=8)b[C]=255&$;return this._createEncoderBuffer([b,a])},w.prototype._encodeStr=function(s,t){if(t==="bitstr")return this._createEncoderBuffer([0|s.unused,s.data]);if(t==="bmpstr"){let n=o.alloc(2*s.length);for(let a=0;a<s.length;a++)n.writeUInt16BE(s.charCodeAt(a),2*a);return this._createEncoderBuffer(n)}return t==="numstr"?this._isNumstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: numstr supports only digits and space"):t==="printstr"?this._isPrintstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(s):t==="objDesc"?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: "+t+" unsupported")},w.prototype._encodeObjid=function(s,t,n){if(typeof s=="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(s))return this.reporter.error("objid not found in values map");s=t[s].split(/[\s.]+/g);for(let b=0;b<s.length;b++)s[b]|=0}else if(Array.isArray(s)){s=s.slice();for(let b=0;b<s.length;b++)s[b]|=0}if(!Array.isArray(s))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(s));if(!n){if(40<=s[1])return this.reporter.error("Second objid identifier OOB");s.splice(0,2,40*s[0]+s[1])}let a=0;for(let b=0,C;b<s.length;b++)for(C=s[b],a++;128<=C;C>>=7)a++;let l=o.alloc(a),f=l.length-1;for(let b=s.length-1,C;0<=b;b--)for(C=s[b],l[f--]=127&C;0<(C>>=7);)l[f--]=128|127&C;return this._createEncoderBuffer(l)},w.prototype._encodeTime=function(s,t){let n,a=new Date(s);return t==="gentime"?n=[v(a.getUTCFullYear()),v(a.getUTCMonth()+1),v(a.getUTCDate()),v(a.getUTCHours()),v(a.getUTCMinutes()),v(a.getUTCSeconds()),"Z"].join(""):t==="utctime"?n=[v(a.getUTCFullYear()%100),v(a.getUTCMonth()+1),v(a.getUTCDate()),v(a.getUTCHours()),v(a.getUTCMinutes()),v(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},w.prototype._encodeNull=function(){return this._createEncoderBuffer("")},w.prototype._encodeInt=function(s,t){if(typeof s=="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(s))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(s));s=t[s]}if(typeof s!="number"&&!o.isBuffer(s)){let l=s.toArray();!s.sign&&128&l[0]&&l.unshift(0),s=o.from(l)}if(o.isBuffer(s)){let l=s.length;s.length===0&&l++;let f=o.alloc(l);return s.copy(f),s.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(128>s)return this._createEncoderBuffer(s);if(256>s)return this._createEncoderBuffer([0,s]);let n=1;for(let l=s;256<=l;l>>=8)n++;let a=Array(n);for(let l=a.length-1;0<=l;l--)a[l]=255&s,s>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(o.from(a))},w.prototype._encodeBool=function(s){return this._createEncoderBuffer(s?255:0)},w.prototype._use=function(s,t){return typeof s=="function"&&(s=s(t)),s._getEncoder("der").tree},w.prototype._skipDefault=function(s,t,n){let a=this._baseState,l;if(a.default===null)return!1;let f=s.join();if(a.defaultBuffer===void 0&&(a.defaultBuffer=this._encodeValue(a.default,t,n).join()),f.length!==a.defaultBuffer.length)return!1;for(l=0;l<f.length;l++)if(f[l]!==a.defaultBuffer[l])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:147,"safer-buffer":236}],20:[function(m,U,k){"use strict";let p=k;p.der=m("./der"),p.pem=m("./pem")},{"./der":19,"./pem":21}],21:[function(m,U,k){"use strict";function p(h){v.call(this,h),this.enc="pem"}let w=m("inherits"),v=m("./der");w(p,v),U.exports=p,p.prototype.encode=function(e,o){let i=v.prototype.encode.call(this,e),u=i.toString("base64"),c=["-----BEGIN "+o.label+"-----"];for(let s=0;s<u.length;s+=64)c.push(u.slice(s,s+64));return c.push("-----END "+o.label+"-----"),c.join(`
`)}},{"./der":19,inherits:147}],22:[function(m,U,k){(function(p,w){"use strict";function v(se,B){if(!se)throw new Error(B||"Assertion failed")}function h(se,B){se.super_=B;var K=function(){};K.prototype=B.prototype,se.prototype=new K,se.prototype.constructor=se}function e(se,B,K){return e.isBN(se)?se:(this.negative=0,this.words=null,this.length=0,this.red=null,void(se!==null&&((B==="le"||B==="be")&&(K=B,B=10),this._init(se||0,B||10,K||"be"))))}function o(se,B){var K=se.charCodeAt(B);return 65<=K&&70>=K?K-55:97<=K&&102>=K?K-87:15&K-48}function i(se,B,K){var j=o(se,K);return K-1>=B&&(j|=o(se,K-1)<<4),j}function u(se,B,K,j){for(var x=0,z=J(se.length,K),Z=B,oe;Z<z;Z++)oe=se.charCodeAt(Z)-48,x*=j,x+=49<=oe?oe-49+10:17<=oe?oe-17+10:oe;return x}function c(se){for(var B=Array(se.bitLength()),K=0;K<B.length;K++){var j=0|K/26,x=K%26;B[K]=(se.words[j]&1<<x)>>>x}return B}function s(se,B,K){K.negative=B.negative^se.negative;var j=0|se.length+B.length;K.length=j,j=0|j-1;var x=0|se.words[0],z=0|B.words[0],Z=x*z,oe=67108863&Z,Y=0|Z/67108864;K.words[0]=oe;for(var le=1;le<j;le++){for(var ge=Y>>>26,Re=67108863&Y,Ae=J(le,B.length-1),De=F(0,le-se.length+1),$e;De<=Ae;De++)$e=0|le-De,x=0|se.words[$e],z=0|B.words[De],Z=x*z+Re,ge+=0|Z/67108864,Re=67108863&Z;K.words[le]=0|Re,Y=0|ge}return Y===0?K.length--:K.words[le]=0|Y,K.strip()}function t(se,B,K){K.negative=B.negative^se.negative,K.length=se.length+B.length;for(var j=0,x=0,z=0,Z;z<K.length-1;z++){Z=x,x=0;for(var oe=67108863&j,Y=J(z,B.length-1),le=F(0,z-se.length+1);le<=Y;le++){var ge=z-le,Re=0|se.words[ge],Ae=0|B.words[le],De=Re*Ae,$e=67108863&De;Z=0|Z+(0|De/67108864),$e=0|$e+oe,oe=67108863&$e,Z=0|Z+($e>>>26),x+=Z>>>26,Z&=67108863}K.words[z]=oe,j=Z,Z=x}return j===0?K.length--:K.words[z]=j,K.strip()}function n(se,B,K){var j=new a;return j.mulp(se,B,K)}function a(se,B){this.x=se,this.y=B}function l(se,B){this.name=se,this.p=new e(B,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function f(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function W(se){if(typeof se=="string"){var B=e._prime(se);this.m=B.p,this.prime=B}else v(se.gtn(1),"modulus must be greater than 1"),this.m=se,this.prime=null}function R(se){W.call(this,se),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof p=="object"?p.exports=e:w.BN=e,e.BN=e,e.wordSize=26;var L;try{L=typeof window!="undefined"&&typeof window.Buffer!="undefined"?window.Buffer:m("buffer").Buffer}catch{}e.isBN=function(B){return B instanceof e||B!==null&&typeof B=="object"&&B.constructor.wordSize===e.wordSize&&Array.isArray(B.words)},e.max=function(B,K){return 0<B.cmp(K)?B:K},e.min=function(B,K){return 0>B.cmp(K)?B:K},e.prototype._init=function(B,K,j){if(typeof B=="number")return this._initNumber(B,K,j);if(typeof B=="object")return this._initArray(B,K,j);K==="hex"&&(K=16),v(K===(0|K)&&2<=K&&36>=K),B=B.toString().replace(/\s+/g,"");var x=0;B[0]==="-"&&(x++,this.negative=1),x<B.length&&(K===16?this._parseHex(B,x,j):(this._parseBase(B,K,x),j==="le"&&this._initArray(this.toArray(),K,j)))},e.prototype._initNumber=function(B,K,j){0>B&&(this.negative=1,B=-B),67108864>B?(this.words=[67108863&B],this.length=1):4503599627370496>B?(this.words=[67108863&B,67108863&B/67108864],this.length=2):(v(9007199254740992>B),this.words=[67108863&B,67108863&B/67108864,1],this.length=3),j!=="le"||this._initArray(this.toArray(),K,j)},e.prototype._initArray=function(B,K,j){if(v(typeof B.length=="number"),0>=B.length)return this.words=[0],this.length=1,this;this.length=N(B.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var z=0,Z,oe;if(j==="be")for(x=B.length-1,Z=0;0<=x;x-=3)oe=B[x]|B[x-1]<<8|B[x-2]<<16,this.words[Z]|=67108863&oe<<z,this.words[Z+1]=67108863&oe>>>26-z,z+=24,26<=z&&(z-=26,Z++);else if(j==="le")for(x=0,Z=0;x<B.length;x+=3)oe=B[x]|B[x+1]<<8|B[x+2]<<16,this.words[Z]|=67108863&oe<<z,this.words[Z+1]=67108863&oe>>>26-z,z+=24,26<=z&&(z-=26,Z++);return this.strip()},e.prototype._parseHex=function(B,K,j){this.length=N((B.length-K)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var z=0,Z=0,oe;if(j==="be")for(x=B.length-1;x>=K;x-=2)oe=i(B,K,x)<<z,this.words[Z]|=67108863&oe,18<=z?(z-=18,Z+=1,this.words[Z]|=oe>>>26):z+=8;else{var Y=B.length-K;for(x=Y%2==0?K+1:K;x<B.length;x+=2)oe=i(B,K,x)<<z,this.words[Z]|=67108863&oe,18<=z?(z-=18,Z+=1,this.words[Z]|=oe>>>26):z+=8}this.strip()},e.prototype._parseBase=function(B,K,j){this.words=[0],this.length=1;for(var x=0,z=1;67108863>=z;z*=K)x++;x--,z=0|z/K;for(var Z=B.length-j,oe=Z%x,Y=J(Z,Z-oe)+j,le=0,ge=j;ge<Y;ge+=x)le=u(B,ge,ge+x,K),this.imuln(z),67108864>this.words[0]+le?this.words[0]+=le:this._iaddn(le);if(oe!==0){var Re=1;for(le=u(B,ge,B.length,K),ge=0;ge<oe;ge++)Re*=K;this.imuln(Re),67108864>this.words[0]+le?this.words[0]+=le:this._iaddn(le)}this.strip()},e.prototype.copy=function(B){B.words=Array(this.length);for(var K=0;K<this.length;K++)B.words[K]=this.words[K];B.length=this.length,B.negative=this.negative,B.red=this.red},e.prototype.clone=function(){var B=new e(null);return this.copy(B),B},e.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ee=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ae=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(B,K){B=B||10,K=0|K||1;var j;if(B===16||B==="hex"){j="";for(var x=0,z=0,Z=0;Z<this.length;Z++){var oe=this.words[Z],Y=(16777215&(oe<<x|z)).toString(16);z=16777215&oe>>>24-x,j=z!==0||Z!==this.length-1?q[6-Y.length]+Y+j:Y+j,x+=2,26<=x&&(x-=26,Z--)}for(z!==0&&(j=z.toString(16)+j);j.length%K!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(B===(0|B)&&2<=B&&36>=B){var le=ee[B],ge=ae[B];j="";var Re=this.clone();for(Re.negative=0;!Re.isZero();){var Ae=Re.modn(ge).toString(B);Re=Re.idivn(ge),j=Re.isZero()?Ae+j:q[le-Ae.length]+Ae+j}for(this.isZero()&&(j="0"+j);j.length%K!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}v(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=67108864*this.words[1]:this.length===3&&this.words[2]===1?B+=4503599627370496+67108864*this.words[1]:2<this.length&&v(!1,"Number can only safely store up to 53 bits"),this.negative===0?B:-B},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(B,K){return v(typeof L!="undefined"),this.toArrayLike(L,B,K)},e.prototype.toArray=function(B,K){return this.toArrayLike(Array,B,K)},e.prototype.toArrayLike=function(B,K,j){var x=this.byteLength(),z=j||F(1,x);v(x<=z,"byte array longer than desired length"),v(0<z,"Requested array length <= 0"),this.strip();var Z=K==="le",oe=new B(z),Y=this.clone(),le,ge;if(Z){for(ge=0;!Y.isZero();ge++)le=Y.andln(255),Y.iushrn(8),oe[ge]=le;for(;ge<z;ge++)oe[ge]=0}else{for(ge=0;ge<z-x;ge++)oe[ge]=0;for(ge=0;!Y.isZero();ge++)le=Y.andln(255),Y.iushrn(8),oe[z-ge-1]=le}return oe},e.prototype._countBits=M?function(B){return 32-M(B)}:function(B){var K=B,j=0;return 4096<=K&&(j+=13,K>>>=13),64<=K&&(j+=7,K>>>=7),8<=K&&(j+=4,K>>>=4),2<=K&&(j+=2,K>>>=2),j+K},e.prototype._zeroBits=function(B){if(B===0)return 26;var K=B,j=0;return(8191&K)==0&&(j+=13,K>>>=13),(127&K)==0&&(j+=7,K>>>=7),(15&K)==0&&(j+=4,K>>>=4),(3&K)==0&&(j+=2,K>>>=2),(1&K)==0&&j++,j},e.prototype.bitLength=function(){var B=this.words[this.length-1],K=this._countBits(B);return 26*(this.length-1)+K},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,K=0,j;K<this.length&&(j=this._zeroBits(this.words[K]),B+=j,j===26);K++);return B},e.prototype.byteLength=function(){return N(this.bitLength()/8)},e.prototype.toTwos=function(B){return this.negative===0?this.clone():this.abs().inotn(B).iaddn(1)},e.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var K=0;K<B.length;K++)this.words[K]|=B.words[K];return this.strip()},e.prototype.ior=function(B){return v((this.negative|B.negative)==0),this.iuor(B)},e.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},e.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},e.prototype.iuand=function(B){var K;K=this.length>B.length?B:this;for(var j=0;j<K.length;j++)this.words[j]&=B.words[j];return this.length=K.length,this.strip()},e.prototype.iand=function(B){return v((this.negative|B.negative)==0),this.iuand(B)},e.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},e.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},e.prototype.iuxor=function(B){var K,j;this.length>B.length?(K=this,j=B):(K=B,j=this);for(var x=0;x<j.length;x++)this.words[x]=K.words[x]^j.words[x];if(this!==K)for(;x<K.length;x++)this.words[x]=K.words[x];return this.length=K.length,this.strip()},e.prototype.ixor=function(B){return v((this.negative|B.negative)==0),this.iuxor(B)},e.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},e.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},e.prototype.inotn=function(B){v(typeof B=="number"&&0<=B);var K=0|N(B/26),j=B%26;this._expand(K),0<j&&K--;for(var x=0;x<K;x++)this.words[x]=67108863&~this.words[x];return 0<j&&(this.words[x]=~this.words[x]&67108863>>26-j),this.strip()},e.prototype.notn=function(B){return this.clone().inotn(B)},e.prototype.setn=function(B,K){v(typeof B=="number"&&0<=B);var j=0|B/26,x=B%26;return this._expand(j+1),K?this.words[j]|=1<<x:this.words[j]&=~(1<<x),this.strip()},e.prototype.iadd=function(B){var K;if(this.negative!==0&&B.negative===0)return this.negative=0,K=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,K=this.isub(B),B.negative=1,K._normSign();var j,x;this.length>B.length?(j=this,x=B):(j=B,x=this);for(var z=0,Z=0;Z<x.length;Z++)K=(0|j.words[Z])+(0|x.words[Z])+z,this.words[Z]=67108863&K,z=K>>>26;for(;z!==0&&Z<j.length;Z++)K=(0|j.words[Z])+z,this.words[Z]=67108863&K,z=K>>>26;if(this.length=j.length,z!==0)this.words[this.length]=z,this.length++;else if(j!==this)for(;Z<j.length;Z++)this.words[Z]=j.words[Z];return this},e.prototype.add=function(B){var K;return B.negative!==0&&this.negative===0?(B.negative=0,K=this.sub(B),B.negative^=1,K):B.negative===0&&this.negative!==0?(this.negative=0,K=B.sub(this),this.negative=1,K):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},e.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var K=this.iadd(B);return B.negative=1,K._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var j=this.cmp(B);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,z;0<j?(x=this,z=B):(x=B,z=this);for(var Z=0,oe=0;oe<z.length;oe++)K=(0|x.words[oe])-(0|z.words[oe])+Z,Z=K>>26,this.words[oe]=67108863&K;for(;Z!==0&&oe<x.length;oe++)K=(0|x.words[oe])+Z,Z=K>>26,this.words[oe]=67108863&K;if(Z===0&&oe<x.length&&x!==this)for(;oe<x.length;oe++)this.words[oe]=x.words[oe];return this.length=F(this.length,oe),x!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(B){return this.clone().isub(B)};var fe=function(B,K,j){var x=B.words,z=K.words,Z=j.words,oe=0,Y=0|x[0],le=8191&Y,ge=Y>>>13,Re=0|x[1],Ae=8191&Re,De=Re>>>13,$e=0|x[2],Ye=8191&$e,rt=$e>>>13,bt=0|x[3],ut=8191&bt,Me=bt>>>13,Ge=0|x[4],Ze=8191&Ge,ft=Ge>>>13,Mt=0|x[5],ue=8191&Mt,G=Mt>>>13,te=0|x[6],de=8191&te,_e=te>>>13,Pe=0|x[7],je=8191&Pe,Ue=Pe>>>13,yt=0|x[8],mt=8191&yt,et=yt>>>13,Dt=0|x[9],wt=8191&Dt,Lt=Dt>>>13,mr=0|z[0],St=8191&mr,Wt=mr>>>13,qt=0|z[1],Kt=8191&qt,sr=qt>>>13,_n=0|z[2],Jt=8191&_n,nr=_n>>>13,Jr=0|z[3],Yt=8191&Jr,tr=Jr>>>13,Vr=0|z[4],ir=8191&Vr,dr=Vr>>>13,an=0|z[5],Xt=8191&an,or=an>>>13,In=0|z[6],er=8191&In,lr=In>>>13,Sn=0|z[7],Ht=8191&Sn,fr=Sn>>>13,sn=0|z[8],Vt=8191&sn,rr=sn>>>13,Cn=0|z[9],hr=8191&Cn,pr=Cn>>>13,Ke,ye,He;j.negative=B.negative^K.negative,j.length=19,Ke=d(le,St),ye=d(le,Wt),ye=0|ye+d(ge,St),He=d(ge,Wt);var qe=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(qe>>>26),qe&=67108863,Ke=d(Ae,St),ye=d(Ae,Wt),ye=0|ye+d(De,St),He=d(De,Wt),Ke=0|Ke+d(le,Kt),ye=0|ye+d(le,sr),ye=0|ye+d(ge,Kt),He=0|He+d(ge,sr);var Se=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Se>>>26),Se&=67108863,Ke=d(Ye,St),ye=d(Ye,Wt),ye=0|ye+d(rt,St),He=d(rt,Wt),Ke=0|Ke+d(Ae,Kt),ye=0|ye+d(Ae,sr),ye=0|ye+d(De,Kt),He=0|He+d(De,sr),Ke=0|Ke+d(le,Jt),ye=0|ye+d(le,nr),ye=0|ye+d(ge,Jt),He=0|He+d(ge,nr);var Je=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Je>>>26),Je&=67108863,Ke=d(ut,St),ye=d(ut,Wt),ye=0|ye+d(Me,St),He=d(Me,Wt),Ke=0|Ke+d(Ye,Kt),ye=0|ye+d(Ye,sr),ye=0|ye+d(rt,Kt),He=0|He+d(rt,sr),Ke=0|Ke+d(Ae,Jt),ye=0|ye+d(Ae,nr),ye=0|ye+d(De,Jt),He=0|He+d(De,nr),Ke=0|Ke+d(le,Yt),ye=0|ye+d(le,tr),ye=0|ye+d(ge,Yt),He=0|He+d(ge,tr);var ln=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(ln>>>26),ln&=67108863,Ke=d(Ze,St),ye=d(Ze,Wt),ye=0|ye+d(ft,St),He=d(ft,Wt),Ke=0|Ke+d(ut,Kt),ye=0|ye+d(ut,sr),ye=0|ye+d(Me,Kt),He=0|He+d(Me,sr),Ke=0|Ke+d(Ye,Jt),ye=0|ye+d(Ye,nr),ye=0|ye+d(rt,Jt),He=0|He+d(rt,nr),Ke=0|Ke+d(Ae,Yt),ye=0|ye+d(Ae,tr),ye=0|ye+d(De,Yt),He=0|He+d(De,tr),Ke=0|Ke+d(le,ir),ye=0|ye+d(le,dr),ye=0|ye+d(ge,ir),He=0|He+d(ge,dr);var mn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(mn>>>26),mn&=67108863,Ke=d(ue,St),ye=d(ue,Wt),ye=0|ye+d(G,St),He=d(G,Wt),Ke=0|Ke+d(Ze,Kt),ye=0|ye+d(Ze,sr),ye=0|ye+d(ft,Kt),He=0|He+d(ft,sr),Ke=0|Ke+d(ut,Jt),ye=0|ye+d(ut,nr),ye=0|ye+d(Me,Jt),He=0|He+d(Me,nr),Ke=0|Ke+d(Ye,Yt),ye=0|ye+d(Ye,tr),ye=0|ye+d(rt,Yt),He=0|He+d(rt,tr),Ke=0|Ke+d(Ae,ir),ye=0|ye+d(Ae,dr),ye=0|ye+d(De,ir),He=0|He+d(De,dr),Ke=0|Ke+d(le,Xt),ye=0|ye+d(le,or),ye=0|ye+d(ge,Xt),He=0|He+d(ge,or);var Pn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Pn>>>26),Pn&=67108863,Ke=d(de,St),ye=d(de,Wt),ye=0|ye+d(_e,St),He=d(_e,Wt),Ke=0|Ke+d(ue,Kt),ye=0|ye+d(ue,sr),ye=0|ye+d(G,Kt),He=0|He+d(G,sr),Ke=0|Ke+d(Ze,Jt),ye=0|ye+d(Ze,nr),ye=0|ye+d(ft,Jt),He=0|He+d(ft,nr),Ke=0|Ke+d(ut,Yt),ye=0|ye+d(ut,tr),ye=0|ye+d(Me,Yt),He=0|He+d(Me,tr),Ke=0|Ke+d(Ye,ir),ye=0|ye+d(Ye,dr),ye=0|ye+d(rt,ir),He=0|He+d(rt,dr),Ke=0|Ke+d(Ae,Xt),ye=0|ye+d(Ae,or),ye=0|ye+d(De,Xt),He=0|He+d(De,or),Ke=0|Ke+d(le,er),ye=0|ye+d(le,lr),ye=0|ye+d(ge,er),He=0|He+d(ge,lr);var $n=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+($n>>>26),$n&=67108863,Ke=d(je,St),ye=d(je,Wt),ye=0|ye+d(Ue,St),He=d(Ue,Wt),Ke=0|Ke+d(de,Kt),ye=0|ye+d(de,sr),ye=0|ye+d(_e,Kt),He=0|He+d(_e,sr),Ke=0|Ke+d(ue,Jt),ye=0|ye+d(ue,nr),ye=0|ye+d(G,Jt),He=0|He+d(G,nr),Ke=0|Ke+d(Ze,Yt),ye=0|ye+d(Ze,tr),ye=0|ye+d(ft,Yt),He=0|He+d(ft,tr),Ke=0|Ke+d(ut,ir),ye=0|ye+d(ut,dr),ye=0|ye+d(Me,ir),He=0|He+d(Me,dr),Ke=0|Ke+d(Ye,Xt),ye=0|ye+d(Ye,or),ye=0|ye+d(rt,Xt),He=0|He+d(rt,or),Ke=0|Ke+d(Ae,er),ye=0|ye+d(Ae,lr),ye=0|ye+d(De,er),He=0|He+d(De,lr),Ke=0|Ke+d(le,Ht),ye=0|ye+d(le,fr),ye=0|ye+d(ge,Ht),He=0|He+d(ge,fr);var Fn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Fn>>>26),Fn&=67108863,Ke=d(mt,St),ye=d(mt,Wt),ye=0|ye+d(et,St),He=d(et,Wt),Ke=0|Ke+d(je,Kt),ye=0|ye+d(je,sr),ye=0|ye+d(Ue,Kt),He=0|He+d(Ue,sr),Ke=0|Ke+d(de,Jt),ye=0|ye+d(de,nr),ye=0|ye+d(_e,Jt),He=0|He+d(_e,nr),Ke=0|Ke+d(ue,Yt),ye=0|ye+d(ue,tr),ye=0|ye+d(G,Yt),He=0|He+d(G,tr),Ke=0|Ke+d(Ze,ir),ye=0|ye+d(Ze,dr),ye=0|ye+d(ft,ir),He=0|He+d(ft,dr),Ke=0|Ke+d(ut,Xt),ye=0|ye+d(ut,or),ye=0|ye+d(Me,Xt),He=0|He+d(Me,or),Ke=0|Ke+d(Ye,er),ye=0|ye+d(Ye,lr),ye=0|ye+d(rt,er),He=0|He+d(rt,lr),Ke=0|Ke+d(Ae,Ht),ye=0|ye+d(Ae,fr),ye=0|ye+d(De,Ht),He=0|He+d(De,fr),Ke=0|Ke+d(le,Vt),ye=0|ye+d(le,rr),ye=0|ye+d(ge,Vt),He=0|He+d(ge,rr);var vn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(vn>>>26),vn&=67108863,Ke=d(wt,St),ye=d(wt,Wt),ye=0|ye+d(Lt,St),He=d(Lt,Wt),Ke=0|Ke+d(mt,Kt),ye=0|ye+d(mt,sr),ye=0|ye+d(et,Kt),He=0|He+d(et,sr),Ke=0|Ke+d(je,Jt),ye=0|ye+d(je,nr),ye=0|ye+d(Ue,Jt),He=0|He+d(Ue,nr),Ke=0|Ke+d(de,Yt),ye=0|ye+d(de,tr),ye=0|ye+d(_e,Yt),He=0|He+d(_e,tr),Ke=0|Ke+d(ue,ir),ye=0|ye+d(ue,dr),ye=0|ye+d(G,ir),He=0|He+d(G,dr),Ke=0|Ke+d(Ze,Xt),ye=0|ye+d(Ze,or),ye=0|ye+d(ft,Xt),He=0|He+d(ft,or),Ke=0|Ke+d(ut,er),ye=0|ye+d(ut,lr),ye=0|ye+d(Me,er),He=0|He+d(Me,lr),Ke=0|Ke+d(Ye,Ht),ye=0|ye+d(Ye,fr),ye=0|ye+d(rt,Ht),He=0|He+d(rt,fr),Ke=0|Ke+d(Ae,Vt),ye=0|ye+d(Ae,rr),ye=0|ye+d(De,Vt),He=0|He+d(De,rr),Ke=0|Ke+d(le,hr),ye=0|ye+d(le,pr),ye=0|ye+d(ge,hr),He=0|He+d(ge,pr);var bn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(bn>>>26),bn&=67108863,Ke=d(wt,Kt),ye=d(wt,sr),ye=0|ye+d(Lt,Kt),He=d(Lt,sr),Ke=0|Ke+d(mt,Jt),ye=0|ye+d(mt,nr),ye=0|ye+d(et,Jt),He=0|He+d(et,nr),Ke=0|Ke+d(je,Yt),ye=0|ye+d(je,tr),ye=0|ye+d(Ue,Yt),He=0|He+d(Ue,tr),Ke=0|Ke+d(de,ir),ye=0|ye+d(de,dr),ye=0|ye+d(_e,ir),He=0|He+d(_e,dr),Ke=0|Ke+d(ue,Xt),ye=0|ye+d(ue,or),ye=0|ye+d(G,Xt),He=0|He+d(G,or),Ke=0|Ke+d(Ze,er),ye=0|ye+d(Ze,lr),ye=0|ye+d(ft,er),He=0|He+d(ft,lr),Ke=0|Ke+d(ut,Ht),ye=0|ye+d(ut,fr),ye=0|ye+d(Me,Ht),He=0|He+d(Me,fr),Ke=0|Ke+d(Ye,Vt),ye=0|ye+d(Ye,rr),ye=0|ye+d(rt,Vt),He=0|He+d(rt,rr),Ke=0|Ke+d(Ae,hr),ye=0|ye+d(Ae,pr),ye=0|ye+d(De,hr),He=0|He+d(De,pr);var Xr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Xr>>>26),Xr&=67108863,Ke=d(wt,Jt),ye=d(wt,nr),ye=0|ye+d(Lt,Jt),He=d(Lt,nr),Ke=0|Ke+d(mt,Yt),ye=0|ye+d(mt,tr),ye=0|ye+d(et,Yt),He=0|He+d(et,tr),Ke=0|Ke+d(je,ir),ye=0|ye+d(je,dr),ye=0|ye+d(Ue,ir),He=0|He+d(Ue,dr),Ke=0|Ke+d(de,Xt),ye=0|ye+d(de,or),ye=0|ye+d(_e,Xt),He=0|He+d(_e,or),Ke=0|Ke+d(ue,er),ye=0|ye+d(ue,lr),ye=0|ye+d(G,er),He=0|He+d(G,lr),Ke=0|Ke+d(Ze,Ht),ye=0|ye+d(Ze,fr),ye=0|ye+d(ft,Ht),He=0|He+d(ft,fr),Ke=0|Ke+d(ut,Vt),ye=0|ye+d(ut,rr),ye=0|ye+d(Me,Vt),He=0|He+d(Me,rr),Ke=0|Ke+d(Ye,hr),ye=0|ye+d(Ye,pr),ye=0|ye+d(rt,hr),He=0|He+d(rt,pr);var yn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(yn>>>26),yn&=67108863,Ke=d(wt,Yt),ye=d(wt,tr),ye=0|ye+d(Lt,Yt),He=d(Lt,tr),Ke=0|Ke+d(mt,ir),ye=0|ye+d(mt,dr),ye=0|ye+d(et,ir),He=0|He+d(et,dr),Ke=0|Ke+d(je,Xt),ye=0|ye+d(je,or),ye=0|ye+d(Ue,Xt),He=0|He+d(Ue,or),Ke=0|Ke+d(de,er),ye=0|ye+d(de,lr),ye=0|ye+d(_e,er),He=0|He+d(_e,lr),Ke=0|Ke+d(ue,Ht),ye=0|ye+d(ue,fr),ye=0|ye+d(G,Ht),He=0|He+d(G,fr),Ke=0|Ke+d(Ze,Vt),ye=0|ye+d(Ze,rr),ye=0|ye+d(ft,Vt),He=0|He+d(ft,rr),Ke=0|Ke+d(ut,hr),ye=0|ye+d(ut,pr),ye=0|ye+d(Me,hr),He=0|He+d(Me,pr);var dn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(dn>>>26),dn&=67108863,Ke=d(wt,ir),ye=d(wt,dr),ye=0|ye+d(Lt,ir),He=d(Lt,dr),Ke=0|Ke+d(mt,Xt),ye=0|ye+d(mt,or),ye=0|ye+d(et,Xt),He=0|He+d(et,or),Ke=0|Ke+d(je,er),ye=0|ye+d(je,lr),ye=0|ye+d(Ue,er),He=0|He+d(Ue,lr),Ke=0|Ke+d(de,Ht),ye=0|ye+d(de,fr),ye=0|ye+d(_e,Ht),He=0|He+d(_e,fr),Ke=0|Ke+d(ue,Vt),ye=0|ye+d(ue,rr),ye=0|ye+d(G,Vt),He=0|He+d(G,rr),Ke=0|Ke+d(Ze,hr),ye=0|ye+d(Ze,pr),ye=0|ye+d(ft,hr),He=0|He+d(ft,pr);var fn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(fn>>>26),fn&=67108863,Ke=d(wt,Xt),ye=d(wt,or),ye=0|ye+d(Lt,Xt),He=d(Lt,or),Ke=0|Ke+d(mt,er),ye=0|ye+d(mt,lr),ye=0|ye+d(et,er),He=0|He+d(et,lr),Ke=0|Ke+d(je,Ht),ye=0|ye+d(je,fr),ye=0|ye+d(Ue,Ht),He=0|He+d(Ue,fr),Ke=0|Ke+d(de,Vt),ye=0|ye+d(de,rr),ye=0|ye+d(_e,Vt),He=0|He+d(_e,rr),Ke=0|Ke+d(ue,hr),ye=0|ye+d(ue,pr),ye=0|ye+d(G,hr),He=0|He+d(G,pr);var Zr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Zr>>>26),Zr&=67108863,Ke=d(wt,er),ye=d(wt,lr),ye=0|ye+d(Lt,er),He=d(Lt,lr),Ke=0|Ke+d(mt,Ht),ye=0|ye+d(mt,fr),ye=0|ye+d(et,Ht),He=0|He+d(et,fr),Ke=0|Ke+d(je,Vt),ye=0|ye+d(je,rr),ye=0|ye+d(Ue,Vt),He=0|He+d(Ue,rr),Ke=0|Ke+d(de,hr),ye=0|ye+d(de,pr),ye=0|ye+d(_e,hr),He=0|He+d(_e,pr);var Ut=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Ut>>>26),Ut&=67108863,Ke=d(wt,Ht),ye=d(wt,fr),ye=0|ye+d(Lt,Ht),He=d(Lt,fr),Ke=0|Ke+d(mt,Vt),ye=0|ye+d(mt,rr),ye=0|ye+d(et,Vt),He=0|He+d(et,rr),Ke=0|Ke+d(je,hr),ye=0|ye+d(je,pr),ye=0|ye+d(Ue,hr),He=0|He+d(Ue,pr);var Te=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Te>>>26),Te&=67108863,Ke=d(wt,Vt),ye=d(wt,rr),ye=0|ye+d(Lt,Vt),He=d(Lt,rr),Ke=0|Ke+d(mt,hr),ye=0|ye+d(mt,pr),ye=0|ye+d(et,hr),He=0|He+d(et,pr);var It=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(It>>>26),It&=67108863,Ke=d(wt,hr),ye=d(wt,pr),ye=0|ye+d(Lt,hr),He=d(Lt,pr);var ur=0|(0|oe+Ke)+((8191&ye)<<13);return oe=0|(0|He+(ye>>>13))+(ur>>>26),ur&=67108863,Z[0]=qe,Z[1]=Se,Z[2]=Je,Z[3]=ln,Z[4]=mn,Z[5]=Pn,Z[6]=$n,Z[7]=Fn,Z[8]=vn,Z[9]=bn,Z[10]=Xr,Z[11]=yn,Z[12]=dn,Z[13]=fn,Z[14]=Zr,Z[15]=Ut,Z[16]=Te,Z[17]=It,Z[18]=ur,oe!==0&&(Z[19]=oe,j.length++),j};d||(fe=s),e.prototype.mulTo=function(B,K){var j=this.length+B.length,x;return x=this.length===10&&B.length===10?fe(this,B,K):63>j?s(this,B,K):1024>j?t(this,B,K):n(this,B,K),x},a.prototype.makeRBT=function(B){for(var K=Array(B),j=e.prototype._countBits(B)-1,x=0;x<B;x++)K[x]=this.revBin(x,j,B);return K},a.prototype.revBin=function(B,K,j){if(B===0||B===j-1)return B;for(var x=0,z=0;z<K;z++)x|=(1&B)<<K-z-1,B>>=1;return x},a.prototype.permute=function(B,K,j,x,z,Z){for(var oe=0;oe<Z;oe++)x[oe]=K[B[oe]],z[oe]=j[B[oe]]},a.prototype.transform=function(B,K,j,x,z,Z){this.permute(Z,B,K,j,x,z);for(var oe=1;oe<z;oe<<=1)for(var Y=oe<<1,le=_(2*E/Y),ge=T(2*E/Y),Re=0;Re<z;Re+=Y)for(var Ae=le,De=ge,$e=0;$e<oe;$e++){var Ye=j[Re+$e],rt=x[Re+$e],bt=j[Re+$e+oe],ut=x[Re+$e+oe],Me=Ae*bt-De*ut;ut=Ae*ut+De*bt,bt=Me,j[Re+$e]=Ye+bt,x[Re+$e]=rt+ut,j[Re+$e+oe]=Ye-bt,x[Re+$e+oe]=rt-ut,$e!==Y&&(Me=le*Ae-ge*De,De=le*De+ge*Ae,Ae=Me)}},a.prototype.guessLen13b=function(B,K){var j=1|F(K,B),x=1&j,z=0;for(j=0|j/2;j;j>>>=1)z++;return 1<<z+1+x},a.prototype.conjugate=function(B,K,j){if(!(1>=j))for(var x=0,z;x<j/2;x++)z=B[x],B[x]=B[j-x-1],B[j-x-1]=z,z=K[x],K[x]=-K[j-x-1],K[j-x-1]=-z},a.prototype.normalize13b=function(B,K){for(var j=0,x=0,z;x<K/2;x++)z=8192*D(B[2*x+1]/K)+D(B[2*x]/K)+j,B[x]=67108863&z,j=67108864>z?0:0|z/67108864;return B},a.prototype.convert13b=function(B,K,j,x){for(var z=0,Z=0;Z<K;Z++)z+=0|B[Z],j[2*Z]=8191&z,z>>>=13,j[2*Z+1]=8191&z,z>>>=13;for(Z=2*K;Z<x;++Z)j[Z]=0;v(z===0),v((-8192&z)==0)},a.prototype.stub=function(B){for(var K=Array(B),j=0;j<B;j++)K[j]=0;return K},a.prototype.mulp=function(B,K,j){var x=2*this.guessLen13b(B.length,K.length),z=this.makeRBT(x),Z=this.stub(x),oe=Array(x),Y=Array(x),le=Array(x),ge=Array(x),Re=Array(x),Ae=Array(x),De=j.words;De.length=x,this.convert13b(B.words,B.length,oe,x),this.convert13b(K.words,K.length,ge,x),this.transform(oe,Z,Y,le,x,z),this.transform(ge,Z,Re,Ae,x,z);for(var $e=0,Ye;$e<x;$e++)Ye=Y[$e]*Re[$e]-le[$e]*Ae[$e],le[$e]=Y[$e]*Ae[$e]+le[$e]*Re[$e],Y[$e]=Ye;return this.conjugate(Y,le,x),this.transform(Y,le,De,Z,x,z),this.conjugate(De,Z,x),this.normalize13b(De,x),j.negative=B.negative^K.negative,j.length=B.length+K.length,j.strip()},e.prototype.mul=function(B){var K=new e(null);return K.words=Array(this.length+B.length),this.mulTo(B,K)},e.prototype.mulf=function(B){var K=new e(null);return K.words=Array(this.length+B.length),n(this,B,K)},e.prototype.imul=function(B){return this.clone().mulTo(B,this)},e.prototype.imuln=function(B){v(typeof B=="number"),v(67108864>B);for(var K=0,j=0;j<this.length;j++){var x=(0|this.words[j])*B,z=(67108863&x)+(67108863&K);K>>=26,K+=0|x/67108864,K+=z>>>26,this.words[j]=67108863&z}return K!==0&&(this.words[j]=K,this.length++),this},e.prototype.muln=function(B){return this.clone().imuln(B)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(B){var K=c(B);if(K.length===0)return new e(1);for(var j=this,x=0;x<K.length&&K[x]===0;x++,j=j.sqr());if(++x<K.length)for(var z=j.sqr();x<K.length;x++,z=z.sqr())K[x]!==0&&(j=j.mul(z));return j},e.prototype.iushln=function(B){v(typeof B=="number"&&0<=B);var K=B%26,j=(B-K)/26,x=67108863>>>26-K<<26-K,z;if(K!=0){var Z=0;for(z=0;z<this.length;z++){var oe=this.words[z]&x,Y=(0|this.words[z])-oe<<K;this.words[z]=Y|Z,Z=oe>>>26-K}Z&&(this.words[z]=Z,this.length++)}if(j!==0){for(z=this.length-1;0<=z;z--)this.words[z+j]=this.words[z];for(z=0;z<j;z++)this.words[z]=0;this.length+=j}return this.strip()},e.prototype.ishln=function(B){return v(this.negative===0),this.iushln(B)},e.prototype.iushrn=function(B,K,j){v(typeof B=="number"&&0<=B);var x;x=K?(K-K%26)/26:0;var z=B%26,Z=J((B-z)/26,this.length),oe=67108863^67108863>>>z<<z,Y=j;if(x-=Z,x=F(0,x),Y){for(var le=0;le<Z;le++)Y.words[le]=this.words[le];Y.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,le=0;le<this.length;le++)this.words[le]=this.words[le+Z];else this.words[0]=0,this.length=1;var ge=0;for(le=this.length-1;0<=le&&(ge!==0||le>=x);le--){var Re=0|this.words[le];this.words[le]=ge<<26-z|Re>>>z,ge=Re&oe}return Y&&ge!==0&&(Y.words[Y.length++]=ge),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(B,K,j){return v(this.negative===0),this.iushrn(B,K,j)},e.prototype.shln=function(B){return this.clone().ishln(B)},e.prototype.ushln=function(B){return this.clone().iushln(B)},e.prototype.shrn=function(B){return this.clone().ishrn(B)},e.prototype.ushrn=function(B){return this.clone().iushrn(B)},e.prototype.testn=function(B){v(typeof B=="number"&&0<=B);var K=B%26,j=(B-K)/26,x=1<<K;if(this.length<=j)return!1;var z=this.words[j];return!!(z&x)},e.prototype.imaskn=function(B){v(typeof B=="number"&&0<=B);var K=B%26,j=(B-K)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(K!=0&&j++,this.length=J(j,this.length),K!=0){var x=67108863^67108863>>>K<<K;this.words[this.length-1]&=x}return this.strip()},e.prototype.maskn=function(B){return this.clone().imaskn(B)},e.prototype.iaddn=function(B){return v(typeof B=="number"),v(67108864>B),0>B?this.isubn(-B):this.negative===0?this._iaddn(B):this.length===1&&(0|this.words[0])<B?(this.words[0]=B-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this)},e.prototype._iaddn=function(B){this.words[0]+=B;for(var K=0;K<this.length&&67108864<=this.words[K];K++)this.words[K]-=67108864,K==this.length-1?this.words[K+1]=1:this.words[K+1]++;return this.length=F(this.length,K+1),this},e.prototype.isubn=function(B){if(v(typeof B=="number"),v(67108864>B),0>B)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var K=0;K<this.length&&0>this.words[K];K++)this.words[K]+=67108864,this.words[K+1]-=1;return this.strip()},e.prototype.addn=function(B){return this.clone().iaddn(B)},e.prototype.subn=function(B){return this.clone().isubn(B)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(B,K,j){var x=B.length+j,z;this._expand(x);var Z=0,oe;for(z=0;z<B.length;z++){oe=(0|this.words[z+j])+Z;var Y=(0|B.words[z])*K;oe-=67108863&Y,Z=(oe>>26)-(0|Y/67108864),this.words[z+j]=67108863&oe}for(;z<this.length-j;z++)oe=(0|this.words[z+j])+Z,Z=oe>>26,this.words[z+j]=67108863&oe;if(Z===0)return this.strip();for(v(Z===-1),Z=0,z=0;z<this.length;z++)oe=-(0|this.words[z])+Z,Z=oe>>26,this.words[z]=67108863&oe;return this.negative=1,this.strip()},e.prototype._wordDiv=function(B,K){var j=this.length-B.length,x=this.clone(),z=B,Z=0|z.words[z.length-1],oe=this._countBits(Z);j=26-oe,j!=0&&(z=z.ushln(j),x.iushln(j),Z=0|z.words[z.length-1]);var Y=x.length-z.length,le;if(K!=="mod"){le=new e(null),le.length=Y+1,le.words=Array(le.length);for(var ge=0;ge<le.length;ge++)le.words[ge]=0}var Re=x.clone()._ishlnsubmul(z,1,Y);Re.negative===0&&(x=Re,le&&(le.words[Y]=1));for(var Ae=Y-1,De;0<=Ae;Ae--){for(De=67108864*(0|x.words[z.length+Ae])+(0|x.words[z.length+Ae-1]),De=J(0|De/Z,67108863),x._ishlnsubmul(z,De,Ae);x.negative!==0;)De--,x.negative=0,x._ishlnsubmul(z,1,Ae),x.isZero()||(x.negative^=1);le&&(le.words[Ae]=De)}return le&&le.strip(),x.strip(),K!=="div"&&j!==0&&x.iushrn(j),{div:le||null,mod:x}},e.prototype.divmod=function(B,K,j){if(v(!B.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var x,z,Z;return this.negative!==0&&B.negative===0?(Z=this.neg().divmod(B,K),K!=="mod"&&(x=Z.div.neg()),K!=="div"&&(z=Z.mod.neg(),j&&z.negative!==0&&z.iadd(B)),{div:x,mod:z}):this.negative===0&&B.negative!==0?(Z=this.divmod(B.neg(),K),K!=="mod"&&(x=Z.div.neg()),{div:x,mod:Z.mod}):(this.negative&B.negative)==0?B.length>this.length||0>this.cmp(B)?{div:new e(0),mod:this}:B.length===1?K==="div"?{div:this.divn(B.words[0]),mod:null}:K==="mod"?{div:null,mod:new e(this.modn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new e(this.modn(B.words[0]))}:this._wordDiv(B,K):(Z=this.neg().divmod(B.neg(),K),K!=="div"&&(z=Z.mod.neg(),j&&z.negative!==0&&z.isub(B)),{div:Z.div,mod:z})},e.prototype.div=function(B){return this.divmod(B,"div",!1).div},e.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},e.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},e.prototype.divRound=function(B){var K=this.divmod(B);if(K.mod.isZero())return K.div;var j=K.div.negative===0?K.mod:K.mod.isub(B),x=B.ushrn(1),z=B.andln(1),Z=j.cmp(x);return 0>Z||z===1&&Z===0?K.div:K.div.negative===0?K.div.iaddn(1):K.div.isubn(1)},e.prototype.modn=function(B){v(67108863>=B);for(var K=67108864%B,j=0,x=this.length-1;0<=x;x--)j=(K*j+(0|this.words[x]))%B;return j},e.prototype.idivn=function(B){v(67108863>=B);for(var K=0,j=this.length-1,x;0<=j;j--)x=(0|this.words[j])+67108864*K,this.words[j]=0|x/B,K=x%B;return this.strip()},e.prototype.divn=function(B){return this.clone().idivn(B)},e.prototype.egcd=function(B){v(B.negative===0),v(!B.isZero());var K=this,j=B.clone();K=K.negative===0?K.clone():K.umod(B);for(var x=new e(1),z=new e(0),Z=new e(0),oe=new e(1),Y=0;K.isEven()&&j.isEven();)K.iushrn(1),j.iushrn(1),++Y;for(var le=j.clone(),ge=K.clone();!K.isZero();){for(var Re=0,Ae=1;(K.words[0]&Ae)==0&&26>Re;++Re,Ae<<=1);if(0<Re)for(K.iushrn(Re);0<Re--;)(x.isOdd()||z.isOdd())&&(x.iadd(le),z.isub(ge)),x.iushrn(1),z.iushrn(1);for(var De=0,$e=1;(j.words[0]&$e)==0&&26>De;++De,$e<<=1);if(0<De)for(j.iushrn(De);0<De--;)(Z.isOdd()||oe.isOdd())&&(Z.iadd(le),oe.isub(ge)),Z.iushrn(1),oe.iushrn(1);0<=K.cmp(j)?(K.isub(j),x.isub(Z),z.isub(oe)):(j.isub(K),Z.isub(x),oe.isub(z))}return{a:Z,b:oe,gcd:j.iushln(Y)}},e.prototype._invmp=function(B){v(B.negative===0),v(!B.isZero());var K=this,j=B.clone();K=K.negative===0?K.clone():K.umod(B);for(var x=new e(1),z=new e(0),Z=j.clone();0<K.cmpn(1)&&0<j.cmpn(1);){for(var oe=0,Y=1;(K.words[0]&Y)==0&&26>oe;++oe,Y<<=1);if(0<oe)for(K.iushrn(oe);0<oe--;)x.isOdd()&&x.iadd(Z),x.iushrn(1);for(var le=0,ge=1;(j.words[0]&ge)==0&&26>le;++le,ge<<=1);if(0<le)for(j.iushrn(le);0<le--;)z.isOdd()&&z.iadd(Z),z.iushrn(1);0<=K.cmp(j)?(K.isub(j),x.isub(z)):(j.isub(K),z.isub(x))}var Re;return Re=K.cmpn(1)===0?x:z,0>Re.cmpn(0)&&Re.iadd(B),Re},e.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var K=this.clone(),j=B.clone();K.negative=0,j.negative=0;for(var x=0;K.isEven()&&j.isEven();x++)K.iushrn(1),j.iushrn(1);do{for(;K.isEven();)K.iushrn(1);for(;j.isEven();)j.iushrn(1);var z=K.cmp(j);if(0>z){var Z=K;K=j,j=Z}else if(z===0||j.cmpn(1)===0)break;K.isub(j)}while(!0);return j.iushln(x)},e.prototype.invm=function(B){return this.egcd(B).a.umod(B)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(B){return this.words[0]&B},e.prototype.bincn=function(B){v(typeof B=="number");var K=B%26,j=(B-K)/26,x=1<<K;if(this.length<=j)return this._expand(j+1),this.words[j]|=x,this;for(var z=x,Z=j,oe;z!==0&&Z<this.length;Z++)oe=0|this.words[Z],oe+=z,z=oe>>>26,oe&=67108863,this.words[Z]=oe;return z!==0&&(this.words[Z]=z,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(B){var K=0>B;if(this.negative!==0&&!K)return-1;if(this.negative===0&&K)return 1;this.strip();var j;if(1<this.length)j=1;else{K&&(B=-B),v(67108863>=B,"Number is too big");var x=0|this.words[0];j=x===B?0:x<B?-1:1}return this.negative===0?j:0|-j},e.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var K=this.ucmp(B);return this.negative===0?K:0|-K},e.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var K=0,j=this.length-1;0<=j;j--){var x=0|this.words[j],z=0|B.words[j];if(x!=z){x<z?K=-1:x>z&&(K=1);break}}return K},e.prototype.gtn=function(B){return this.cmpn(B)===1},e.prototype.gt=function(B){return this.cmp(B)===1},e.prototype.gten=function(B){return 0<=this.cmpn(B)},e.prototype.gte=function(B){return 0<=this.cmp(B)},e.prototype.ltn=function(B){return this.cmpn(B)===-1},e.prototype.lt=function(B){return this.cmp(B)===-1},e.prototype.lten=function(B){return 0>=this.cmpn(B)},e.prototype.lte=function(B){return 0>=this.cmp(B)},e.prototype.eqn=function(B){return this.cmpn(B)===0},e.prototype.eq=function(B){return this.cmp(B)===0},e.red=function(B){return new W(B)},e.prototype.toRed=function(B){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},e.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(B){return this.red=B,this},e.prototype.forceRed=function(B){return v(!this.red,"Already a number in reduction context"),this._forceRed(B)},e.prototype.redAdd=function(B){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},e.prototype.redIAdd=function(B){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},e.prototype.redSub=function(B){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},e.prototype.redISub=function(B){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},e.prototype.redShl=function(B){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},e.prototype.redMul=function(B){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},e.prototype.redIMul=function(B){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},e.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(B){return v(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var Ee={k256:null,p224:null,p192:null,p25519:null};l.prototype._tmp=function(){var B=new e(null);return B.words=Array(N(this.n/13)),B},l.prototype.ireduce=function(B){var K=B,j;do this.split(K,this.tmp),K=this.imulK(K),K=K.iadd(this.tmp),j=K.bitLength();while(j>this.n);var x=j<this.n?-1:K.ucmp(this.p);return x===0?(K.words[0]=0,K.length=1):0<x?K.isub(this.p):K.strip===void 0?K._strip():K.strip(),K},l.prototype.split=function(B,K){B.iushrn(this.n,0,K)},l.prototype.imulK=function(B){return B.imul(this.k)},h(f,l),f.prototype.split=function(B,K){for(var j=4194303,x=J(B.length,9),z=0;z<x;z++)K.words[z]=B.words[z];if(K.length=x,9>=B.length)return B.words[0]=0,void(B.length=1);var Z=B.words[9];for(K.words[K.length++]=Z&j,z=10;z<B.length;z++){var oe=0|B.words[z];B.words[z-10]=(oe&j)<<4|Z>>>22,Z=oe}Z>>>=22,B.words[z-10]=Z,B.length-=Z===0&&10<B.length?10:9},f.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var K=0,j=0,x;j<B.length;j++)x=0|B.words[j],K+=977*x,B.words[j]=67108863&K,K=64*x+(0|K/67108864);return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B},h(b,l),h(C,l),h($,l),$.prototype.imulK=function(B){for(var K=0,j=0;j<B.length;j++){var x=19*(0|B.words[j])+K,z=67108863&x;x>>>=26,B.words[j]=z,K=x}return K!==0&&(B.words[B.length++]=K),B},e._prime=function(B){if(Ee[B])return Ee[B];var K;if(B==="k256")K=new f;else if(B==="p224")K=new b;else if(B==="p192")K=new C;else if(B==="p25519")K=new $;else throw new Error("Unknown prime "+B);return Ee[B]=K,K},W.prototype._verify1=function(B){v(B.negative===0,"red works only with positives"),v(B.red,"red works only with red numbers")},W.prototype._verify2=function(B,K){v((B.negative|K.negative)==0,"red works only with positives"),v(B.red&&B.red===K.red,"red works only with red numbers")},W.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):B.umod(this.m)._forceRed(this)},W.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},W.prototype.add=function(B,K){this._verify2(B,K);var j=B.add(K);return 0<=j.cmp(this.m)&&j.isub(this.m),j._forceRed(this)},W.prototype.iadd=function(B,K){this._verify2(B,K);var j=B.iadd(K);return 0<=j.cmp(this.m)&&j.isub(this.m),j},W.prototype.sub=function(B,K){this._verify2(B,K);var j=B.sub(K);return 0>j.cmpn(0)&&j.iadd(this.m),j._forceRed(this)},W.prototype.isub=function(B,K){this._verify2(B,K);var j=B.isub(K);return 0>j.cmpn(0)&&j.iadd(this.m),j},W.prototype.shl=function(B,K){return this._verify1(B),this.imod(B.ushln(K))},W.prototype.imul=function(B,K){return this._verify2(B,K),this.imod(B.imul(K))},W.prototype.mul=function(B,K){return this._verify2(B,K),this.imod(B.mul(K))},W.prototype.isqr=function(B){return this.imul(B,B.clone())},W.prototype.sqr=function(B){return this.mul(B,B)},W.prototype.sqrt=function(B){if(B.isZero())return B.clone();var K=this.m.andln(3);if(v(K%2==1),K===3){var j=this.m.add(new e(1)).iushrn(2);return this.pow(B,j)}for(var x=this.m.subn(1),z=0;!x.isZero()&&x.andln(1)===0;)z++,x.iushrn(1);v(!x.isZero());var Z=new e(1).toRed(this),oe=Z.redNeg(),Y=this.m.subn(1).iushrn(1),le=this.m.bitLength();for(le=new e(2*le*le).toRed(this);this.pow(le,Y).cmp(oe)!==0;)le.redIAdd(oe);for(var ge=this.pow(le,x),Re=this.pow(B,x.addn(1).iushrn(1)),Ae=this.pow(B,x),De=z;Ae.cmp(Z)!==0;){for(var $e=Ae,Ye=0;$e.cmp(Z)!==0;Ye++)$e=$e.redSqr();v(Ye<De);var rt=this.pow(ge,new e(1).iushln(De-Ye-1));Re=Re.redMul(rt),ge=rt.redSqr(),Ae=Ae.redMul(ge),De=Ye}return Re},W.prototype.invm=function(B){var K=B._invmp(this.m);return K.negative===0?this.imod(K):(K.negative=0,this.imod(K).redNeg())},W.prototype.pow=function(B,K){if(K.isZero())return new e(1).toRed(this);if(K.cmpn(1)===0)return B.clone();var j=4,x=Array(16);x[0]=new e(1).toRed(this),x[1]=B;for(var z=2;z<x.length;z++)x[z]=this.mul(x[z-1],B);var Z=x[0],oe=0,Y=0,le=K.bitLength()%26;for(le===0&&(le=26),z=K.length-1;0<=z;z--){for(var ge=K.words[z],Re=le-1,Ae;0<=Re;Re--){if(Ae=1&ge>>Re,Z!==x[0]&&(Z=this.sqr(Z)),Ae===0&&oe===0){Y=0;continue}oe<<=1,oe|=Ae,Y++,(Y===4||z===0&&Re===0)&&(Z=this.mul(Z,x[oe]),Y=0,oe=0)}le=26}return Z},W.prototype.convertTo=function(B){var K=B.umod(this.m);return K===B?K.clone():K},W.prototype.convertFrom=function(B){var K=B.clone();return K.red=null,K},e.mont=function(B){return new R(B)},h(R,W),R.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},R.prototype.convertFrom=function(B){var K=this.imod(B.mul(this.rinv));return K.red=null,K},R.prototype.imul=function(B,K){if(B.isZero()||K.isZero())return B.words[0]=0,B.length=1,B;var j=B.imul(K),x=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=j.isub(x).iushrn(this.shift),Z=z;return 0<=z.cmp(this.m)?Z=z.isub(this.m):0>z.cmpn(0)&&(Z=z.iadd(this.m)),Z._forceRed(this)},R.prototype.mul=function(B,K){if(B.isZero()||K.isZero())return new e(0)._forceRed(this);var j=B.mul(K),x=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=j.isub(x).iushrn(this.shift),Z=z;return 0<=z.cmp(this.m)?Z=z.isub(this.m):0>z.cmpn(0)&&(Z=z.iadd(this.m)),Z._forceRed(this)},R.prototype.invm=function(B){var K=this.imod(B._invmp(this.m).mul(this.r2));return K._forceRed(this)}})(typeof U=="undefined"||U,this)},{buffer:42}],23:[function(m,U,k){"use strict";function p(l){var f=l.length;if(0<f%4)throw new Error("Invalid string. Length must be a multiple of 4");var b=l.indexOf("=");b===-1&&(b=f);var C=b===f?0:4-b%4;return[b,C]}function w(l){var f=p(l),b=f[0],C=f[1];return 3*(b+C)/4-C}function v(l,f,b){return 3*(f+b)/4-b}function h(l){var f=p(l),b=f[0],C=f[1],$=new s(v(l,b,C)),W=0,R=0<C?b-4:b,L,q;for(q=0;q<R;q+=4)L=c[l.charCodeAt(q)]<<18|c[l.charCodeAt(q+1)]<<12|c[l.charCodeAt(q+2)]<<6|c[l.charCodeAt(q+3)],$[W++]=255&L>>16,$[W++]=255&L>>8,$[W++]=255&L;return C===2&&(L=c[l.charCodeAt(q)]<<2|c[l.charCodeAt(q+1)]>>4,$[W++]=255&L),C===1&&(L=c[l.charCodeAt(q)]<<10|c[l.charCodeAt(q+1)]<<4|c[l.charCodeAt(q+2)]>>2,$[W++]=255&L>>8,$[W++]=255&L),$}function e(l){return u[63&l>>18]+u[63&l>>12]+u[63&l>>6]+u[63&l]}function o(l,f,b){for(var C=[],$=f,W;$<b;$+=3)W=(16711680&l[$]<<16)+(65280&l[$+1]<<8)+(255&l[$+2]),C.push(e(W));return C.join("")}function i(l){for(var f=l.length,b=f%3,C=[],$=16383,W=0,R=f-b,L;W<R;W+=$)C.push(o(l,W,W+$>R?R:W+$));return b===1?(L=l[f-1],C.push(u[L>>2]+u[63&L<<4]+"==")):b===2&&(L=(l[f-2]<<8)+l[f-1],C.push(u[L>>10]+u[63&L>>4]+u[63&L<<2]+"=")),C.join("")}k.byteLength=w,k.toByteArray=h,k.fromByteArray=i;for(var u=[],c=[],s=typeof Uint8Array=="undefined"?Array:Uint8Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,a=t.length;n<a;++n)u[n]=t[n],c[t.charCodeAt(n)]=n;c[45]=62,c[95]=63},{}],24:[function(m,U,k){(function(p){(function(){function w(c,s,t){let n=0,a=1;for(let l=s;l<t;l++){let f=c[l];if(58>f&&48<=f){n=10*n+(f-48);continue}if(l!==s||f!==43){if(l===s&&f===45){a=-1;continue}if(f===46)break;throw new Error("not a number: buffer["+l+"] = "+f)}}return n*a}function v(c,s,t,n){return c==null||c.length===0?null:(typeof s!="number"&&n==null&&(n=s,s=void 0),typeof t!="number"&&n==null&&(n=t,t=void 0),v.position=0,v.encoding=n||null,v.data=p.isBuffer(c)?c.slice(s,t):p.from(c),v.bytes=v.data.length,v.next())}let h=105,e=58,o=100,i=108,u=101;v.bytes=0,v.position=0,v.data=null,v.encoding=null,v.next=function(){switch(v.data[v.position]){case o:return v.dictionary();case i:return v.list();case h:return v.integer();default:return v.buffer()}},v.find=function(c){let s=v.position,t=v.data.length,n=v.data;for(;s<t;){if(n[s]===c)return s;s++}throw new Error('Invalid data: Missing delimiter "'+g(c)+'" [0x'+c.toString(16)+"]")},v.dictionary=function(){v.position++;let c={};for(;v.data[v.position]!==u;)c[v.buffer()]=v.next();return v.position++,c},v.list=function(){v.position++;let c=[];for(;v.data[v.position]!==u;)c.push(v.next());return v.position++,c},v.integer=function(){let c=v.find(u),s=w(v.data,v.position+1,c);return v.position+=c+1-v.position,s},v.buffer=function(){let c=v.find(e),s=w(v.data,v.position,c),t=++c+s;return v.position=t,v.encoding?v.data.toString(v.encoding,c,t):v.data.slice(c,t)},U.exports=v}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],25:[function(m,U,k){(function(p){(function(){function w(i,u,c){let s=[],t=null;return w._encode(s,i),t=p.concat(s),w.bytes=t.length,p.isBuffer(u)?(t.copy(u,c),u):t}let{getType:v}=m("./util.js");w.bytes=-1,w._floatConversionDetected=!1,w._encode=function(i,u){if(u!=null)switch(v(u)){case"buffer":w.buffer(i,u);break;case"object":w.dict(i,u);break;case"map":w.dictMap(i,u);break;case"array":w.list(i,u);break;case"set":w.listSet(i,u);break;case"string":w.string(i,u);break;case"number":w.number(i,u);break;case"boolean":w.number(i,u);break;case"arraybufferview":w.buffer(i,p.from(u.buffer,u.byteOffset,u.byteLength));break;case"arraybuffer":w.buffer(i,p.from(u))}};let h=p.from("e"),e=p.from("d"),o=p.from("l");w.buffer=function(i,u){i.push(p.from(u.length+":"),u)},w.string=function(i,u){i.push(p.from(p.byteLength(u)+":"+u))},w.number=function(i,u){let s=u/2147483648<<0,t=u%2147483648<<0,n=s*2147483648+t;i.push(p.from("i"+n+"e")),n===u||w._floatConversionDetected||(w._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+u+'":','Bencoding only defines support for integers, value was converted to "'+n+'"'),console.trace())},w.dict=function(i,u){i.push(e);let c=0,s,t=Object.keys(u).sort(),n=t.length;for(;c<n;c++)s=t[c],u[s]!=null&&(w.string(i,s),w._encode(i,u[s]));i.push(h)},w.dictMap=function(i,u){i.push(e);let c=Array.from(u.keys()).sort();for(let s of c)u.get(s)!=null&&(p.isBuffer(s)?w._encode(i,s):w.string(i,s+""),w._encode(i,u.get(s)));i.push(h)},w.list=function(i,u){let c=0,s=u.length;for(i.push(o);c<s;c++)u[c]!=null&&w._encode(i,u[c]);i.push(h)},w.listSet=function(i,u){i.push(o);for(let c of u)c!=null&&w._encode(i,c);i.push(h)},U.exports=w}).call(this)}).call(this,m("buffer").Buffer)},{"./util.js":28,buffer:76}],26:[function(m,U,k){(function(p){(function(){function w(s){let t=2;for(let n of s)t+=i(n);return t}function v(s){let t=2;for(let[n,a]of s){let l=p.byteLength(n);t+=u(l)+1+l,t+=i(a)}return t}function h(s){let t=2,n=Object.keys(s);for(let a=0;a<n.length;a++){let l=p.byteLength(n[a]);t+=u(l)+1+l,t+=i(s[n[a]])}return t}function e(s){let t=p.byteLength(s);return u(t)+1+t}function o(s){let t=s.byteLength-s.byteOffset;return u(t)+1+t}function i(s){if(s==null)return 0;let n=c(s);switch(n){case"buffer":return u(s.length)+1+s.length;case"arraybufferview":return o(s);case"string":return e(s);case"array":case"set":return w(s);case"number":return 1+u(I(s))+1;case"bigint":return 1+s.toString().length+1;case"object":return h(s);case"map":return v(s);default:throw new TypeError(`Unsupported value of type "${n}"`)}}let{digitCount:u,getType:c}=m("./util.js");U.exports=i}).call(this)}).call(this,m("buffer").Buffer)},{"./util.js":28,buffer:76}],27:[function(m,U,k){let p=U.exports;p.encode=m("./encode.js"),p.decode=m("./decode.js"),p.byteLength=p.encodingLength=m("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(m,U,k){(function(p){(function(){let w=U.exports;w.digitCount=function(h){var e=Math.log10;let o=0>h?1:0;return h=O(+(h||1)),I(e(h))+1+o},w.getType=function(h){return p.isBuffer(h)?"buffer":ArrayBuffer.isView(h)?"arraybufferview":Array.isArray(h)?"array":h instanceof Number?"number":h instanceof Boolean?"boolean":h instanceof Set?"set":h instanceof Map?"map":h instanceof String?"string":h instanceof ArrayBuffer?"arraybuffer":typeof h}}).call(this)}).call(this,{isBuffer:m("../../is-buffer/index.js")})},{"../../is-buffer/index.js":149}],29:[function(m,U,k){function p(v){return v.reduce((h,e,o,i)=>((o===0||e!==i[o-1]+1)&&h.push([]),h[h.length-1].push(e),h),[]).map(h=>1<h.length?`${h[0]}-${h[h.length-1]}`:`${h[0]}`)}function w(v){let h=(e,o=e)=>Array.from({length:o-e+1},(i,u)=>u+e);return v.reduce((e,o,i,u)=>{let c=o.split("-").map(s=>parseInt(s));return e.concat(h(...c))},[])}U.exports=w,U.exports.parse=w,U.exports.compose=p},{}],30:[function(m,U,k){U.exports=function(p,w,v,h,e){var o,i;if(h===void 0)h=0;else if(h|=0,0>h||h>=p.length)throw new RangeError("invalid lower bound");if(e===void 0)e=p.length-1;else if(e|=0,e<h||e>=p.length)throw new RangeError("invalid upper bound");for(;h<=e;)if(o=h+(e-h>>>1),i=+v(p[o],w,o,p),0>i)h=o+1;else if(0<i)e=o-1;else return o;return~h}},{}],31:[function(m,U,k){"use strict";function p(v){var h=v>>3;return v%8!=0&&h++,h}Object.defineProperty(k,"__esModule",{value:!0});var w=(function(){function v(h,e){h===void 0&&(h=0);var o=e==null?void 0:e.grow;this.grow=o&&isFinite(o)&&p(o)||o||0,this.buffer=typeof h=="number"?new Uint8Array(p(h)):h}return v.prototype.get=function(h){var e=h>>3;return e<this.buffer.length&&!!(this.buffer[e]&128>>h%8)},v.prototype.set=function(h,e){e===void 0&&(e=!0);var o=h>>3;if(e){if(this.buffer.length<o+1){var i=F(o+1,J(2*this.buffer.length,this.grow));if(i<=this.grow){var u=new Uint8Array(i);u.set(this.buffer),this.buffer=u}}this.buffer[o]|=128>>h%8}else o<this.buffer.length&&(this.buffer[o]&=~(128>>h%8))},v.prototype.forEach=function(h,e,o){e===void 0&&(e=0),o===void 0&&(o=8*this.buffer.length);for(var i=e,u=i>>3,c=128>>i%8,s=this.buffer[u];i<o;i++)h(!!(s&c),i),c=c==1?(s=this.buffer[++u],128):c>>1},v})();k.default=w},{}],32:[function(m,U,k){(function(p){(function(){function w(oe,Y){for(let le=oe.length;le--;)oe[le]^=Y[le];return oe}let v=m("unordered-array-remove"),h=m("bencode"),e=m("bitfield").default,o=m("crypto"),i=m("debug")("bittorrent-protocol"),u=m("randombytes"),c=m("simple-sha1"),s=m("speedometer"),t=m("readable-stream"),n=m("rc4"),a=4e5,l=55e3,f=100,b=p.from("BitTorrent protocol"),C=p.from([0,0,0,0]),$=p.from([0,0,0,1,0]),W=p.from([0,0,0,1,1]),R=p.from([0,0,0,1,2]),L=p.from([0,0,0,1,3]),q=[0,0,0,0,0,0,0,0],ee=[0,0,0,3,9,0,0],ae=p.from([0,0,0,1,14]),fe=p.from([0,0,0,1,15]),Ee="ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563",se=2,B=p.from([0,0,0,0,0,0,0,0]),K=p.from([0,0,1,2]),j=p.from([0,0,0,2]);class x{constructor(Y,le,ge,Re){this.piece=Y,this.offset=le,this.length=ge,this.callback=Re}}class z{constructor(){this.buffer=new Uint8Array}get(Y){return!0}set(Y){}}class Z extends t.Duplex{constructor(Y=null,le=0,ge=!1){super(),this._debugId=u(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=Y,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new e(0,{grow:a}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=s(),this.downloadSpeed=s(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=ge,ge?(this._dh=o.createDiffieHellman(Ee,"hex",se),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),this.type==="tcpIncoming"&&this._peEnabled?this._determineHandshakeType():this.type==="tcpOutgoing"&&this._peEnabled&&le===0?this._parsePe2():this._parseHandshake(null)}setKeepAlive(Y){this._debug("setKeepAlive %s",Y),clearInterval(this._keepAliveInterval),Y===!1||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},l))}setTimeout(Y,le){this._debug("setTimeout ms=%d unref=%s",Y,le),this._timeoutMs=Y,this._timeoutUnref=!!le,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end(),this}end(...Y){return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...Y)}use(Y){function le(){}let ge=Y.prototype.name;if(!ge)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",ge);let Re=this._nextExt,Ae=new Y(this);typeof Ae.onHandshake!="function"&&(Ae.onHandshake=le),typeof Ae.onExtendedHandshake!="function"&&(Ae.onExtendedHandshake=le),typeof Ae.onMessage!="function"&&(Ae.onMessage=le),this.extendedMapping[Re]=ge,this._ext[ge]=Ae,this[ge]=Ae,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(C)}sendPe1(){if(this._peEnabled){let Y=I(513*Math.random()),le=u(Y);this._push(p.concat([p.from(this._myPubKey,"hex"),le]))}}sendPe2(){let Y=I(513*Math.random()),le=u(Y);this._push(p.concat([p.from(this._myPubKey,"hex"),le]))}sendPe3(Y){this.setEncrypt(this._sharedSecret,Y);let le=p.from(c.sync(p.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),ge=p.from(c.sync(p.from(this._utfToHex("req2")+Y,"hex")),"hex"),Re=p.from(c.sync(p.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex"),Ae=w(ge,Re),De=u(2).readUInt16BE(0)%512,$e=u(De),Ye=p.alloc(14+De+2);B.copy(Ye),K.copy(Ye,8),Ye.writeInt16BE(De,12),$e.copy(Ye,14),Ye.writeInt16BE(0,14+De),Ye=this._encryptHandshake(Ye),this._push(p.concat([le,Ae,Ye]))}sendPe4(Y){this.setEncrypt(this._sharedSecret,Y);let le=u(2).readUInt16BE(0)%512,ge=u(le),Re=p.alloc(14+le);B.copy(Re),j.copy(Re,8),Re.writeInt16BE(le,12),ge.copy(Re,14),Re=this._encryptHandshake(Re),this._push(Re),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(Y,le,ge){let Re,Ae;if(typeof Y=="string"?(Y=Y.toLowerCase(),Re=p.from(Y,"hex")):(Re=Y,Y=Re.toString("hex")),typeof le=="string"?Ae=p.from(le,"hex"):(Ae=le,le=Ae.toString("hex")),this._infoHash=Re,Re.length!==20||Ae.length!==20)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",Y,le,ge);let De=p.from(q);this.extensions={extended:!0,dht:!!(ge&&ge.dht),fast:!!(ge&&ge.fast)},De[5]|=16,this.extensions.dht&&(De[7]|=1),this.extensions.fast&&(De[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push(p.concat([b,De,Re,Ae])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){let Y=Object.assign({},this.extendedHandshake);for(let le in Y.m={},this.extendedMapping){let ge=this.extendedMapping[le];Y.m[ge]=+le}this.extended(0,h.encode(Y)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push($),this.hasFast)for(let Y=0;this.peerRequests.length>Y;){let le=this.peerRequests[Y];this.allowedFastSet.includes(le.piece)?++Y:this.reject(le.piece,le.offset,le.length)}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(W))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(R))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(L))}have(Y){this._debug("have %d",Y),this._message(4,[Y],null)}bitfield(Y){this._debug("bitfield"),p.isBuffer(Y)||(Y=Y.buffer),this._message(5,[],Y)}request(Y,le,ge,Re){return Re||(Re=()=>{}),this._finished?Re(new Error("wire is closed")):this.peerChoking&&!(this.hasFast&&this.peerAllowedFastSet.includes(Y))?Re(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",Y,le,ge),this.requests.push(new x(Y,le,ge,Re)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[Y,le,ge],null))}piece(Y,le,ge){this._debug("piece index=%d offset=%d",Y,le),this._message(7,[Y,le],ge),this.uploaded+=ge.length,this.uploadSpeed(ge.length),this.emit("upload",ge.length)}cancel(Y,le,ge){this._debug("cancel index=%d offset=%d length=%d",Y,le,ge),this._callback(this._pull(this.requests,Y,le,ge),new Error("request was cancelled"),null),this._message(8,[Y,le,ge],null)}port(Y){this._debug("port %d",Y);let le=p.from(ee);le.writeUInt16BE(Y,5),this._push(le)}suggest(Y){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",Y),this._message(13,[Y],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(ae)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(fe)}reject(Y,le,ge){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",Y,le,ge),this._pull(this.peerRequests,Y,le,ge),this._message(16,[Y,le,ge],null)}allowedFast(Y){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",Y),this.allowedFastSet.includes(Y)||this.allowedFastSet.push(Y),this._message(17,[Y],null)}extended(Y,le){if(this._debug("extended ext=%s",Y),typeof Y=="string"&&this.peerExtendedMapping[Y]&&(Y=this.peerExtendedMapping[Y]),typeof Y=="number"){let ge=p.from([Y]),Re=p.isBuffer(le)?le:h.encode(le);this._message(20,[],p.concat([ge,Re]))}else throw new Error(`Unrecognized extension: ${Y}`)}setEncrypt(Y,le){let ge,Re,Ae,De,$e,Ye;switch(this.type){case"tcpIncoming":ge=c.sync(p.from(this._utfToHex("keyB")+Y+le,"hex")),Re=c.sync(p.from(this._utfToHex("keyA")+Y+le,"hex")),Ae=p.from(ge,"hex"),De=[];for(let rt of Ae.values())De.push(rt);$e=p.from(Re,"hex"),Ye=[];for(let rt of $e.values())Ye.push(rt);this._encryptGenerator=new n(De),this._decryptGenerator=new n(Ye);break;case"tcpOutgoing":ge=c.sync(p.from(this._utfToHex("keyA")+Y+le,"hex")),Re=c.sync(p.from(this._utfToHex("keyB")+Y+le,"hex")),Ae=p.from(ge,"hex"),De=[];for(let rt of Ae.values())De.push(rt);$e=p.from(Re,"hex"),Ye=[];for(let rt of $e.values())Ye.push(rt);this._encryptGenerator=new n(De),this._decryptGenerator=new n(Ye);break;default:return!1}for(let rt=0;1024>rt;rt++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(Y,le,ge){let Re=ge?ge.length:0,Ae=p.allocUnsafe(5+4*le.length);Ae.writeUInt32BE(Ae.length+Re-4,0),Ae[4]=Y;for(let De=0;De<le.length;De++)Ae.writeUInt32BE(le[De],5+4*De);this._push(Ae),ge&&this._push(ge)}_push(Y){if(!this._finished)return this._encryptionMethod===2&&this._cryptoHandshakeDone&&(Y=this._encrypt(Y)),this.push(Y)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(Y){this._peerPubKey=Y.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(Y){this._peerPubKey=Y.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(Y){let le=c.sync(p.from(this._utfToHex("req3")+this._sharedSecret,"hex")),ge=w(p.from(le,"hex"),Y).toString("hex");this.emit("pe3",ge)}_onPe3Encrypted(Y,le){if(!Y.equals(B))return this._debug("Error: verification constant did not match"),void this.destroy();for(let ge of le.values())ge!==0&&this._peerCryptoProvide.push(ge);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(Y){this._encryptionMethod=Y.readUInt8(3),K.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(Y,le,ge){let Re=Y.toString("hex"),Ae=le.toString("hex");for(let De in this._debug("got handshake i=%s p=%s exts=%o",Re,Ae,ge),this.peerId=Ae,this.peerIdBuffer=le,this.peerExtensions=ge,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",Re,Ae,ge),this._ext)this._ext[De].onHandshake(Re,Ae,ge);ge.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(Y){this.peerPieces.get(Y)||(this._debug("got have %d",Y),this.peerPieces.set(Y,!0),this.emit("have",Y))}_onBitField(Y){this.peerPieces=new e(Y),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(Y,le,ge){if(this.amChoking&&!(this.hasFast&&this.allowedFastSet.includes(Y)))return void(this.hasFast&&this.reject(Y,le,ge));this._debug("got request index=%d offset=%d length=%d",Y,le,ge);let Re=(De,$e)=>Ae===this._pull(this.peerRequests,Y,le,ge)?De?(this._debug("error satisfying request index=%d offset=%d length=%d (%s)",Y,le,ge,De.message),void(this.hasFast&&this.reject(Y,le,ge))):void this.piece(Y,le,$e):void 0,Ae=new x(Y,le,ge,Re);this.peerRequests.push(Ae),this.emit("request",Y,le,ge,Re)}_onPiece(Y,le,ge){this._debug("got piece index=%d offset=%d",Y,le),this._callback(this._pull(this.requests,Y,le,ge.length),null,ge),this.downloaded+=ge.length,this.downloadSpeed(ge.length),this.emit("download",ge.length),this.emit("piece",Y,le,ge)}_onCancel(Y,le,ge){this._debug("got cancel index=%d offset=%d length=%d",Y,le,ge),this._pull(this.peerRequests,Y,le,ge),this.emit("cancel",Y,le,ge)}_onPort(Y){this._debug("got port %d",Y),this.emit("port",Y)}_onSuggest(Y){return this.hasFast?(this._debug("got suggest %d",Y),void this.emit("suggest",Y)):(this._debug("Error: got suggest whereas fast extension is disabled"),void this.destroy())}_onHaveAll(){return this.hasFast?(this._debug("got have-all"),this.peerPieces=new z,void this.emit("have-all")):(this._debug("Error: got have-all whereas fast extension is disabled"),void this.destroy())}_onHaveNone(){return this.hasFast?(this._debug("got have-none"),void this.emit("have-none")):(this._debug("Error: got have-none whereas fast extension is disabled"),void this.destroy())}_onReject(Y,le,ge){return this.hasFast?(this._debug("got reject index=%d offset=%d length=%d",Y,le,ge),this._callback(this._pull(this.requests,Y,le,ge),new Error("request was rejected"),null),void this.emit("reject",Y,le,ge)):(this._debug("Error: got reject whereas fast extension is disabled"),void this.destroy())}_onAllowedFast(Y){return this.hasFast?(this._debug("got allowed-fast %d",Y),!this.peerAllowedFastSet.includes(Y)&&this.peerAllowedFastSet.push(Y),this.peerAllowedFastSet.length>f&&this.peerAllowedFastSet.shift(),void this.emit("allowed-fast",Y)):(this._debug("Error: got allowed-fast whereas fast extension is disabled"),void this.destroy())}_onExtended(Y,le){if(Y===0){let ge;try{ge=h.decode(le)}catch(Re){this._debug("ignoring invalid extended handshake: %s",Re.message||Re)}if(!ge)return;if(this.peerExtendedHandshake=ge,typeof ge.m=="object")for(let Re in ge.m)this.peerExtendedMapping[Re]=+ge.m[Re].toString();for(let Re in this._ext)this.peerExtendedMapping[Re]&&this._ext[Re].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[Y]&&(Y=this.extendedMapping[Y],this._ext[Y]&&this._ext[Y].onMessage(le)),this._debug("got extended message ext=%s",Y),this.emit("extended",Y,le)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(Y,le,ge){if(this._encryptionMethod===2&&this._cryptoHandshakeDone&&(Y=this._decrypt(Y)),this._bufferSize+=Y.length,this._buffer.push(Y),1<this._buffer.length&&(this._buffer=[p.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){let Re=this._buffer[0].indexOf(this._cryptoSyncPattern);if(Re!==-1)this._buffer[0]=this._buffer[0].slice(Re+this._cryptoSyncPattern.length),this._bufferSize-=Re+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+Y.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(this._parserSize===0)this._parser(p.from([]));else{let Re=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[Re.slice(this._parserSize)]:[],this._parser(Re.slice(0,this._parserSize))}ge(null)}_callback(Y,le,ge){Y&&(this._resetTimeout(!this.peerChoking&&!this._finished),Y.callback(le,ge))}_resetTimeout(Y){if(!Y||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);let le=Date.now()+this._timeoutMs;if(this._timeout){if(le-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=le,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(Y,le){this._parserSize=Y,this._parser=le}_parseUntil(Y,le){this._cryptoSyncPattern=Y,this._waitMaxBytes=le}_onMessageLength(Y){let le=Y.readUInt32BE(0);0<le?this._parse(le,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(Y){switch(this._parse(4,this._onMessageLength),Y[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(Y.readUInt32BE(1));case 5:return this._onBitField(Y.slice(1));case 6:return this._onRequest(Y.readUInt32BE(1),Y.readUInt32BE(5),Y.readUInt32BE(9));case 7:return this._onPiece(Y.readUInt32BE(1),Y.readUInt32BE(5),Y.slice(9));case 8:return this._onCancel(Y.readUInt32BE(1),Y.readUInt32BE(5),Y.readUInt32BE(9));case 9:return this._onPort(Y.readUInt16BE(1));case 13:return this._onSuggest(Y.readUInt32BE(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(Y.readUInt32BE(1),Y.readUInt32BE(5),Y.readUInt32BE(9));case 17:return this._onAllowedFast(Y.readUInt32BE(1));case 20:return this._onExtended(Y.readUInt8(1),Y.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",Y)}}_determineHandshakeType(){this._parse(1,Y=>{let le=Y.readUInt8(0);le===19?this._parse(le+48,this._onHandshakeBuffer):this._parsePe1(Y)})}_parsePe1(Y){this._parse(95,le=>{this._onPe1(p.concat([Y,le])),this._parsePe3()})}_parsePe2(){this._parse(96,Y=>{for(this._onPe2(Y);!this._setGenerators;);this._parsePe4()})}_parsePe3(){let Y=p.from(c.sync(p.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(Y,512),this._parse(20,le=>{for(this._onPe3(le);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,Y=>{let le=this._decryptHandshake(Y.slice(0,8)),ge=this._decryptHandshake(Y.slice(8,12)),Re=this._decryptHandshake(Y.slice(12,14)).readUInt16BE(0);this._parse(Re,Ae=>{Ae=this._decryptHandshake(Ae),this._parse(2,De=>{let $e=this._decryptHandshake(De).readUInt16BE(0);this._parse($e,Ye=>{Ye=this._decryptHandshake(Ye),this._onPe3Encrypted(le,ge,Ae,Ye);let rt=$e?Ye.readUInt8(0):null,bt=$e?Ye.slice(1,20):null;rt===19&&bt.toString()==="BitTorrent protocol"?this._onHandshakeBuffer(Ye.slice(1)):this._parseHandshake()})})})})}_parsePe4(){let Y=this._decryptHandshake(B);this._parseUntil(Y,512),this._parse(6,le=>{let ge=this._decryptHandshake(le.slice(0,4)),Re=this._decryptHandshake(le.slice(4,6)).readUInt16BE(0);this._parse(Re,Ae=>{this._decryptHandshake(Ae),this._onPe4(ge),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,Y=>{let le=Y.readUInt8(0);return le===19?void this._parse(le+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",le.toString()),void this.end())})}_onHandshakeBuffer(Y){let le=Y.slice(0,19);return le.toString()==="BitTorrent protocol"?(Y=Y.slice(19),this._onHandshake(Y.slice(8,28),Y.slice(28,48),{dht:!!(1&Y[7]),fast:!!(4&Y[7]),extended:!!(16&Y[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",le.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...Y){Y[0]=`[${this._debugId}] ${Y[0]}`,i(...Y)}_pull(Y,le,ge,Re){for(let Ae=0;Ae<Y.length;Ae++){let De=Y[Ae];if(De.piece===le&&De.offset===ge&&De.length===Re)return v(Y,Ae),De}return null}_encryptHandshake(Y){let le=p.from(Y);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),le;for(let ge=0;ge<Y.length;ge++){let Re=this._encryptGenerator.randomByte();le[ge]^=Re}return le}_encrypt(Y){let le=p.from(Y);if(!this._encryptGenerator||this._encryptionMethod!==2)return le;for(let ge=0;ge<Y.length;ge++){let Re=this._encryptGenerator.randomByte();le[ge]^=Re}return le}_decryptHandshake(Y){let le=p.from(Y);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),le;for(let ge=0;ge<Y.length;ge++){let Re=this._decryptGenerator.randomByte();le[ge]^=Re}return le}_decrypt(Y){let le=p.from(Y);if(!this._decryptGenerator||this._encryptionMethod!==2)return le;for(let ge=0;ge<Y.length;ge++){let Re=this._decryptGenerator.randomByte();le[ge]^=Re}return le}_utfToHex(Y){return p.from(Y,"utf8").toString("hex")}}U.exports=Z}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,bitfield:31,buffer:76,crypto:90,debug:91,randombytes:209,rc4:213,"readable-stream":228,"simple-sha1":248,speedometer:255,"unordered-array-remove":273}],33:[function(m,U,k){(function(p,w){(function(){let v=m("debug")("bittorrent-tracker:client"),h=m("events"),e=m("once"),o=m("run-parallel"),i=m("simple-peer"),u=m("queue-microtask"),c=m("./lib/common"),s=m("./lib/client/http-tracker"),t=m("./lib/client/udp-tracker"),n=m("./lib/client/websocket-tracker");class a extends h{constructor(f={}){if(super(),!f.peerId)throw new Error("Option `peerId` is required");if(!f.infoHash)throw new Error("Option `infoHash` is required");if(!f.announce)throw new Error("Option `announce` is required");if(!p.browser&&!f.port)throw new Error("Option `port` is required");this.peerId=typeof f.peerId=="string"?f.peerId:f.peerId.toString("hex"),this._peerIdBuffer=w.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash=typeof f.infoHash=="string"?f.infoHash.toLowerCase():f.infoHash.toString("hex"),this._infoHashBuffer=w.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),v("new client %s",this.infoHash),this.destroyed=!1,this._port=f.port,this._getAnnounceOpts=f.getAnnounceOpts,this._rtcConfig=f.rtcConfig,this._userAgent=f.userAgent,this._proxyOpts=f.proxyOpts,this._wrtc=typeof f.wrtc=="function"?f.wrtc():f.wrtc;let b=typeof f.announce=="string"?[f.announce]:f.announce==null?[]:f.announce;b=b.map(W=>(W=W.toString(),W[W.length-1]==="/"&&(W=W.substring(0,W.length-1)),W)),b=Array.from(new Set(b));let C=this._wrtc!==!1&&(!!this._wrtc||i.WEBRTC_SUPPORT),$=W=>{u(()=>{this.emit("warning",W)})};this._trackers=b.map(W=>{let R;try{R=c.parseUrl(W)}catch{return $(new Error(`Invalid tracker URL: ${W}`)),null}let L=R.port;if(0>L||65535<L)return $(new Error(`Invalid tracker port: ${W}`)),null;let q=R.protocol;return(q==="http:"||q==="https:")&&typeof s=="function"?new s(this,W):q==="udp:"&&typeof t=="function"?new t(this,W):(q==="ws:"||q==="wss:")&&C?q==="ws:"&&typeof window!="undefined"&&window.location.protocol==="https:"?($(new Error(`Unsupported tracker protocol: ${W}`)),null):new n(this,W):($(new Error(`Unsupported tracker protocol: ${W}`)),null)}).filter(Boolean)}start(f){f=this._defaultAnnounceOpts(f),f.event="started",v("send `start` %o",f),this._announce(f),this._trackers.forEach(b=>{b.setInterval()})}stop(f){f=this._defaultAnnounceOpts(f),f.event="stopped",v("send `stop` %o",f),this._announce(f)}complete(f){f||(f={}),f=this._defaultAnnounceOpts(f),f.event="completed",v("send `complete` %o",f),this._announce(f)}update(f){f=this._defaultAnnounceOpts(f),f.event&&delete f.event,v("send `update` %o",f),this._announce(f)}_announce(f){this._trackers.forEach(b=>{b.announce(f)})}scrape(f){v("send `scrape`"),f||(f={}),this._trackers.forEach(b=>{b.scrape(f)})}setInterval(f){v("setInterval %d",f),this._trackers.forEach(b=>{b.setInterval(f)})}destroy(f){if(!this.destroyed){this.destroyed=!0,v("destroy");let b=this._trackers.map(C=>$=>{C.destroy($)});o(b,f),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(f={}){return f.numwant==null&&(f.numwant=c.DEFAULT_ANNOUNCE_PEERS),f.uploaded==null&&(f.uploaded=0),f.downloaded==null&&(f.downloaded=0),this._getAnnounceOpts&&(f=Object.assign({},f,this._getAnnounceOpts())),f}}a.scrape=(l,f)=>{if(f=e(f),!l.infoHash)throw new Error("Option `infoHash` is required");if(!l.announce)throw new Error("Option `announce` is required");let b=Object.assign({},l,{infoHash:Array.isArray(l.infoHash)?l.infoHash[0]:l.infoHash,peerId:w.from("01234567890123456789"),port:6881}),C=new a(b);C.once("error",f),C.once("warning",f);let $=Array.isArray(l.infoHash)?l.infoHash.length:1,W={};return C.on("scrape",R=>{if($-=1,W[R.infoHash]=R,$===0){C.destroy();let L=Object.keys(W);L.length===1?f(null,W[L[0]]):f(null,W)}}),l.infoHash=Array.isArray(l.infoHash)?l.infoHash.map(R=>w.from(R,"hex")):w.from(l.infoHash,"hex"),C.scrape({infoHash:l.infoHash}),C},U.exports=a}).call(this)}).call(this,m("_process"),m("buffer").Buffer)},{"./lib/client/http-tracker":42,"./lib/client/udp-tracker":42,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:193,buffer:76,debug:91,events:123,once:178,"queue-microtask":206,"run-parallel":233,"simple-peer":247}],34:[function(m,U,k){let p=m("events");class w extends p{constructor(h,e){super(),this.client=h,this.announceUrl=e,this.interval=null,this.destroyed=!1}setInterval(h){h==null&&(h=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),h&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},h),this.interval.unref&&this.interval.unref())}}U.exports=w},{events:123}],35:[function(m,U,k){function p(){}let w=m("clone"),v=m("debug")("bittorrent-tracker:websocket-tracker"),h=m("simple-peer"),e=m("randombytes"),o=m("simple-websocket"),i=m("socks"),u=m("../common"),c=m("./tracker"),s={},t=1e4,n=36e5,a=3e5,l=5e4;class f extends c{constructor(C,$){super(C,$),v("new websocket tracker %s",$),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(C){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(C)});let $=Object.assign({},C,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&($.trackerid=this._trackerId),C.event==="stopped"||C.event==="completed")this._send($);else{let W=J(C.numwant,5);this._generateOffers(W,R=>{$.numwant=W,$.offers=R,this._send($)})}}scrape(C){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(C)});let $=Array.isArray(C.infoHash)&&0<C.infoHash.length?C.infoHash.map(R=>R.toString("binary")):C.infoHash&&C.infoHash.toString("binary")||this.client._infoHashBinary,W={action:"scrape",info_hash:$};this._send(W)}destroy(C=p){function $(){R&&(clearTimeout(R),R=null),W.removeListener("data",$),W.destroy(),W=null}if(this.destroyed)return C(null);for(let L in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){let q=this.peers[L];clearTimeout(q.trackerTimeout),q.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,s[this.announceUrl]&&(s[this.announceUrl].consumers-=1),0<s[this.announceUrl].consumers)return C();let W=s[this.announceUrl];delete s[this.announceUrl],W.on("error",p),W.once("close",C);let R;return this.expectingResponse?(R=setTimeout($,u.DESTROY_TIMEOUT),void W.once("data",$)):$()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=C=>{this._onSocketError(C)},this._onSocketDataBound=C=>{this._onSocketData(C)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=s[this.announceUrl],this.socket)s[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{let C=new URL(this.announceUrl),$;this.client._proxyOpts&&($=C.protocol==="wss:"?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!$&&this.client._proxyOpts.socksProxy&&($=new i.Agent(w(this.client._proxyOpts.socksProxy),C.protocol==="wss:"))),this.socket=s[this.announceUrl]=new o({url:this.announceUrl,agent:$}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(C){if(!this.destroyed){this.expectingResponse=!1;try{C=JSON.parse(C)}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}C.action==="announce"?this._onAnnounceResponse(C):C.action==="scrape"?this._onScrapeResponse(C):this._onSocketError(new Error(`invalid action in WS response: ${C.action}`))}}_onAnnounceResponse(C){if(C.info_hash!==this.client._infoHashBinary)return void v("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,u.binaryToHex(C.info_hash),this.client.infoHash);if(C.peer_id&&C.peer_id===this.client._peerIdBinary)return;v("received %s from %s for %s",JSON.stringify(C),this.announceUrl,this.client.infoHash);let $=C["failure reason"];if($)return this.client.emit("warning",new Error($));let W=C["warning message"];W&&this.client.emit("warning",new Error(W));let R=C.interval||C["min interval"];R&&this.setInterval(1e3*R);let L=C["tracker id"];if(L&&(this._trackerId=L),C.complete!=null){let ee=Object.assign({},C,{announce:this.announceUrl,infoHash:u.binaryToHex(C.info_hash)});this.client.emit("update",ee)}let q;if(C.offer&&C.peer_id&&(v("creating peer (from remote offer)"),q=this._createPeer(),q.id=u.binaryToHex(C.peer_id),q.once("signal",ee=>{let ae={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:C.peer_id,answer:ee,offer_id:C.offer_id};this._trackerId&&(ae.trackerid=this._trackerId),this._send(ae)}),this.client.emit("peer",q),q.signal(C.offer)),C.answer&&C.peer_id){let ee=u.binaryToHex(C.offer_id);q=this.peers[ee],q?(q.id=u.binaryToHex(C.peer_id),this.client.emit("peer",q),q.signal(C.answer),clearTimeout(q.trackerTimeout),q.trackerTimeout=null,delete this.peers[ee]):v(`got unexpected answer: ${JSON.stringify(C.answer)}`)}}_onScrapeResponse(C){C=C.files||{};let $=Object.keys(C);return $.length===0?void this.client.emit("warning",new Error("invalid scrape response")):void $.forEach(W=>{let R=Object.assign(C[W],{announce:this.announceUrl,infoHash:u.binaryToHex(W)});this.client.emit("scrape",R)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(C){this.destroyed||(this.destroy(),this.client.emit("warning",C),this._startReconnectTimer())}_startReconnectTimer(){let C=I(Math.random()*a)+J(A(2,this.retries)*t,n);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},C),this.reconnectTimer.unref&&this.reconnectTimer.unref(),v("reconnecting socket in %s ms",C)}_send(C){if(!this.destroyed){this.expectingResponse=!0;let $=JSON.stringify(C);v("send %s",$),this.socket.send($)}}_generateOffers(C,$){function W(){let ee=e(20).toString("hex");v("creating peer (from _generateOffers)");let ae=L.peers[ee]=L._createPeer({initiator:!0});ae.once("signal",fe=>{q.push({offer:fe,offer_id:u.hexToBinary(ee)}),R()}),ae.trackerTimeout=setTimeout(()=>{v("tracker timeout: destroying peer"),ae.trackerTimeout=null,delete L.peers[ee],ae.destroy()},l),ae.trackerTimeout.unref&&ae.trackerTimeout.unref()}function R(){q.length===C&&(v("generated %s offers",C),$(q))}let L=this,q=[];v("generating %s offers",C);for(let ee=0;ee<C;++ee)W();R()}_createPeer(C){function $(q){R.client.emit("warning",new Error(`Connection error: ${q.message}`)),L.destroy()}function W(){L.removeListener("error",$),L.removeListener("connect",W)}let R=this;C=Object.assign({trickle:!1,config:R.client._rtcConfig,wrtc:R.client._wrtc},C);let L=new h(C);return L.once("error",$),L.once("connect",W),L}}f.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,f._socketPool=s,U.exports=f},{"../common":36,"./tracker":34,clone:81,debug:91,randombytes:209,"simple-peer":247,"simple-websocket":250,socks:42}],36:[function(m,U,k){(function(p){(function(){k.DEFAULT_ANNOUNCE_PEERS=50,k.MAX_ANNOUNCE_PEERS=82,k.binaryToHex=v=>(typeof v!="string"&&(v+=""),p.from(v,"binary").toString("hex")),k.hexToBinary=v=>(typeof v!="string"&&(v+=""),p.from(v,"hex").toString("binary")),k.parseUrl=v=>{let h=new URL(v.replace(/^udp:/,"http:"));return v.match(/^udp:/)&&Object.defineProperties(h,{href:{value:h.href.replace(/^http/,"udp")},protocol:{value:h.protocol.replace(/^http/,"udp")},origin:{value:h.origin.replace(/^http/,"udp")}}),h};let w=m("./common-node");Object.assign(k,w)}).call(this)}).call(this,m("buffer").Buffer)},{"./common-node":42,buffer:76}],37:[function(m,U,k){(function(p){(function(){U.exports=function(v,h){function e(i){o.removeEventListener("loadend",e,!1),i.error?h(i.error):h(null,p.from(o.result))}if(typeof Blob=="undefined"||!(v instanceof Blob))throw new Error("first argument must be a Blob");if(typeof h!="function")throw new Error("second argument must be a function");let o=new FileReader;o.addEventListener("loadend",e,!1),o.readAsArrayBuffer(v)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],38:[function(m,U,k){function p(w,v){if(typeof w[0]=="string")return w.join("");if(typeof w[0]=="number")return new Uint8Array(w);let h=new Uint8Array(v),e=0;for(let o=0,i=w.length;o<i;o++){let u=w[o];h.set(u,e),e+=u.byteLength||u.length}return h}U.exports=async function*(w,v=512,h={}){typeof v=="object"&&(h=v,v=h.size);let{nopad:e,zeroPadding:o=!0}=h;e&&(o=!1);let i=[],u=0;for await(let c of w)if(u+=c.byteLength||c.length||1,i.push(c),u>=v){let s=p(i,u),t=0;for(;u>=v;)yield s.slice(t,t+v),u-=v,t+=v;i=[s.slice(t,s.length)]}u&&(yield p(i,o?v:u))}},{}],39:[function(m,U,k){(function(p){(function(){let{Transform:w}=m("readable-stream");class v extends w{constructor(e,o={}){super(o),typeof e=="object"&&(o=e,e=o.size),this.size=e||512;let{nopad:i,zeroPadding:u=!0}=o;this._zeroPadding=!i&&!!u,this._buffered=[],this._bufferedBytes=0}_transform(e,o,i){for(this._bufferedBytes+=e.length,this._buffered.push(e);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;let u=[];for(let c=0;c<this.size;){let s=this._buffered.shift();if(c+s.length<=this.size)u.push(s),c+=s.length;else{let t=this.size-c;u.push(s.slice(0,t)),c+=t,this._buffered.unshift(s.slice(t))}}this.push(p.concat(u,this.size))}i()}_flush(){if(this._bufferedBytes&&this._zeroPadding){let e=p.alloc(this.size-this._bufferedBytes);this._buffered.push(e),this.push(p.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(p.concat(this._buffered)),this._buffered=null);this.push(null)}}U.exports=v}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"readable-stream":228}],40:[function(m,U,k){(function(p,w){"use strict";function v(j,x){if(!j)throw new Error(x||"Assertion failed")}function h(j,x){j.super_=x;var z=function(){};z.prototype=x.prototype,j.prototype=new z,j.prototype.constructor=j}function e(j,x,z){return e.isBN(j)?j:(this.negative=0,this.words=null,this.length=0,this.red=null,void(j!==null&&((x==="le"||x==="be")&&(z=x,x=10),this._init(j||0,x||10,z||"be"))))}function o(j,x){var z=j.charCodeAt(x);return 48<=z&&57>=z?z-48:65<=z&&70>=z?z-55:97<=z&&102>=z?z-87:void v(!1,"Invalid character in "+j)}function i(j,x,z){var Z=o(j,z);return z-1>=x&&(Z|=o(j,z-1)<<4),Z}function u(j,x,z,Z){for(var oe=0,Y=0,le=J(j.length,z),ge=x,Re;ge<le;ge++)Re=j.charCodeAt(ge)-48,oe*=Z,Y=49<=Re?Re-49+10:17<=Re?Re-17+10:Re,v(0<=Re&&Y<Z,"Invalid character"),oe+=Y;return oe}function c(j,x){j.words=x.words,j.length=x.length,j.negative=x.negative,j.red=x.red}function s(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function t(j){for(var x=Array(j.bitLength()),z=0;z<x.length;z++){var Z=0|z/26,oe=z%26;x[z]=1&j.words[Z]>>>oe}return x}function n(j,x,z){z.negative=x.negative^j.negative;var Z=0|j.length+x.length;z.length=Z,Z=0|Z-1;var oe=0|j.words[0],Y=0|x.words[0],le=oe*Y,ge=67108863&le,Re=0|le/67108864;z.words[0]=ge;for(var Ae=1;Ae<Z;Ae++){for(var De=Re>>>26,$e=67108863&Re,Ye=J(Ae,x.length-1),rt=F(0,Ae-j.length+1),bt;rt<=Ye;rt++)bt=0|Ae-rt,oe=0|j.words[bt],Y=0|x.words[rt],le=oe*Y+$e,De+=0|le/67108864,$e=67108863&le;z.words[Ae]=0|$e,Re=0|De}return Re===0?z.length--:z.words[Ae]=0|Re,z._strip()}function a(j,x,z){z.negative=x.negative^j.negative,z.length=j.length+x.length;for(var Z=0,oe=0,Y=0,le;Y<z.length-1;Y++){le=oe,oe=0;for(var ge=67108863&Z,Re=J(Y,x.length-1),Ae=F(0,Y-j.length+1);Ae<=Re;Ae++){var De=Y-Ae,$e=0|j.words[De],Ye=0|x.words[Ae],rt=$e*Ye,bt=67108863&rt;le=0|le+(0|rt/67108864),bt=0|bt+ge,ge=67108863&bt,le=0|le+(bt>>>26),oe+=le>>>26,le&=67108863}z.words[Y]=ge,Z=le,le=oe}return Z===0?z.length--:z.words[Y]=Z,z._strip()}function l(j,x,z){return a(j,x,z)}function f(j,x){this.x=j,this.y=x}function b(j,x){this.name=j,this.p=new e(x,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function $(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function L(j){if(typeof j=="string"){var x=e._prime(j);this.m=x.p,this.prime=x}else v(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}function q(j){L.call(this,j),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof p=="object"?p.exports=e:w.BN=e,e.BN=e,e.wordSize=26;var ee;try{ee=typeof window!="undefined"&&typeof window.Buffer!="undefined"?window.Buffer:m("buffer").Buffer}catch{}if(e.isBN=function(x){return x instanceof e||x!==null&&typeof x=="object"&&x.constructor.wordSize===e.wordSize&&Array.isArray(x.words)},e.max=function(x,z){return 0<x.cmp(z)?x:z},e.min=function(x,z){return 0>x.cmp(z)?x:z},e.prototype._init=function(x,z,Z){if(typeof x=="number")return this._initNumber(x,z,Z);if(typeof x=="object")return this._initArray(x,z,Z);z==="hex"&&(z=16),v(z===(0|z)&&2<=z&&36>=z),x=x.toString().replace(/\s+/g,"");var oe=0;x[0]==="-"&&(oe++,this.negative=1),oe<x.length&&(z===16?this._parseHex(x,oe,Z):(this._parseBase(x,z,oe),Z==="le"&&this._initArray(this.toArray(),z,Z)))},e.prototype._initNumber=function(x,z,Z){0>x&&(this.negative=1,x=-x),67108864>x?(this.words=[67108863&x],this.length=1):4503599627370496>x?(this.words=[67108863&x,67108863&x/67108864],this.length=2):(v(9007199254740992>x),this.words=[67108863&x,67108863&x/67108864,1],this.length=3),Z!=="le"||this._initArray(this.toArray(),z,Z)},e.prototype._initArray=function(x,z,Z){if(v(typeof x.length=="number"),0>=x.length)return this.words=[0],this.length=1,this;this.length=N(x.length/3),this.words=Array(this.length);for(var oe=0;oe<this.length;oe++)this.words[oe]=0;var Y=0,le,ge;if(Z==="be")for(oe=x.length-1,le=0;0<=oe;oe-=3)ge=x[oe]|x[oe-1]<<8|x[oe-2]<<16,this.words[le]|=67108863&ge<<Y,this.words[le+1]=67108863&ge>>>26-Y,Y+=24,26<=Y&&(Y-=26,le++);else if(Z==="le")for(oe=0,le=0;oe<x.length;oe+=3)ge=x[oe]|x[oe+1]<<8|x[oe+2]<<16,this.words[le]|=67108863&ge<<Y,this.words[le+1]=67108863&ge>>>26-Y,Y+=24,26<=Y&&(Y-=26,le++);return this._strip()},e.prototype._parseHex=function(x,z,Z){this.length=N((x.length-z)/6),this.words=Array(this.length);for(var oe=0;oe<this.length;oe++)this.words[oe]=0;var Y=0,le=0,ge;if(Z==="be")for(oe=x.length-1;oe>=z;oe-=2)ge=i(x,z,oe)<<Y,this.words[le]|=67108863&ge,18<=Y?(Y-=18,le+=1,this.words[le]|=ge>>>26):Y+=8;else{var Re=x.length-z;for(oe=Re%2==0?z+1:z;oe<x.length;oe+=2)ge=i(x,z,oe)<<Y,this.words[le]|=67108863&ge,18<=Y?(Y-=18,le+=1,this.words[le]|=ge>>>26):Y+=8}this._strip()},e.prototype._parseBase=function(x,z,Z){this.words=[0],this.length=1;for(var oe=0,Y=1;67108863>=Y;Y*=z)oe++;oe--,Y=0|Y/z;for(var le=x.length-Z,ge=le%oe,Re=J(le,le-ge)+Z,Ae=0,De=Z;De<Re;De+=oe)Ae=u(x,De,De+oe,z),this.imuln(Y),67108864>this.words[0]+Ae?this.words[0]+=Ae:this._iaddn(Ae);if(ge!==0){var $e=1;for(Ae=u(x,De,x.length,z),De=0;De<ge;De++)$e*=z;this.imuln($e),67108864>this.words[0]+Ae?this.words[0]+=Ae:this._iaddn(Ae)}this._strip()},e.prototype.copy=function(x){x.words=Array(this.length);for(var z=0;z<this.length;z++)x.words[z]=this.words[z];x.length=this.length,x.negative=this.negative,x.red=this.red},e.prototype._move=function(x){c(x,this)},e.prototype.clone=function(){var x=new e(null);return this.copy(x),x},e.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=s}catch{e.prototype.inspect=s}else e.prototype.inspect=s;var ae=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(x,z){x=x||10,z=0|z||1;var Z;if(x===16||x==="hex"){Z="";for(var oe=0,Y=0,le=0;le<this.length;le++){var ge=this.words[le],Re=(16777215&(ge<<oe|Y)).toString(16);Y=16777215&ge>>>24-oe,oe+=2,26<=oe&&(oe-=26,le--),Z=Y!==0||le!==this.length-1?ae[6-Re.length]+Re+Z:Re+Z}for(Y!==0&&(Z=Y.toString(16)+Z);Z.length%z!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(x===(0|x)&&2<=x&&36>=x){var Ae=fe[x],De=Ee[x];Z="";var $e=this.clone();for($e.negative=0;!$e.isZero();){var Ye=$e.modrn(De).toString(x);$e=$e.idivn(De),Z=$e.isZero()?Ye+Z:ae[Ae-Ye.length]+Ye+Z}for(this.isZero()&&(Z="0"+Z);Z.length%z!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}v(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=67108864*this.words[1]:this.length===3&&this.words[2]===1?x+=4503599627370496+67108864*this.words[1]:2<this.length&&v(!1,"Number can only safely store up to 53 bits"),this.negative===0?x:-x},e.prototype.toJSON=function(){return this.toString(16,2)},ee&&(e.prototype.toBuffer=function(x,z){return this.toArrayLike(ee,x,z)}),e.prototype.toArray=function(x,z){return this.toArrayLike(Array,x,z)};var se=function(x,z){return x.allocUnsafe?x.allocUnsafe(z):new x(z)};e.prototype.toArrayLike=function(x,z,Z){this._strip();var oe=this.byteLength(),Y=Z||F(1,oe);v(oe<=Y,"byte array longer than desired length"),v(0<Y,"Requested array length <= 0");var le=se(x,Y),ge=z==="le"?"LE":"BE";return this["_toArrayLike"+ge](le,oe),le},e.prototype._toArrayLikeLE=function(x,z){for(var Z=0,oe=0,Y=0,le=0,ge;Y<this.length;Y++)ge=this.words[Y]<<le|oe,x[Z++]=255&ge,Z<x.length&&(x[Z++]=255&ge>>8),Z<x.length&&(x[Z++]=255&ge>>16),le==6?(Z<x.length&&(x[Z++]=255&ge>>24),oe=0,le=0):(oe=ge>>>24,le+=2);if(Z<x.length)for(x[Z++]=oe;Z<x.length;)x[Z++]=0},e.prototype._toArrayLikeBE=function(x,z){for(var Z=x.length-1,oe=0,Y=0,le=0,ge;Y<this.length;Y++)ge=this.words[Y]<<le|oe,x[Z--]=255&ge,0<=Z&&(x[Z--]=255&ge>>8),0<=Z&&(x[Z--]=255&ge>>16),le==6?(0<=Z&&(x[Z--]=255&ge>>24),oe=0,le=0):(oe=ge>>>24,le+=2);if(0<=Z)for(x[Z--]=oe;0<=Z;)x[Z--]=0},e.prototype._countBits=M?function(x){return 32-M(x)}:function(x){var z=x,Z=0;return 4096<=z&&(Z+=13,z>>>=13),64<=z&&(Z+=7,z>>>=7),8<=z&&(Z+=4,z>>>=4),2<=z&&(Z+=2,z>>>=2),Z+z},e.prototype._zeroBits=function(x){if(x===0)return 26;var z=x,Z=0;return(8191&z)==0&&(Z+=13,z>>>=13),(127&z)==0&&(Z+=7,z>>>=7),(15&z)==0&&(Z+=4,z>>>=4),(3&z)==0&&(Z+=2,z>>>=2),(1&z)==0&&Z++,Z},e.prototype.bitLength=function(){var x=this.words[this.length-1],z=this._countBits(x);return 26*(this.length-1)+z},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,z=0,Z;z<this.length&&(Z=this._zeroBits(this.words[z]),x+=Z,Z===26);z++);return x},e.prototype.byteLength=function(){return N(this.bitLength()/8)},e.prototype.toTwos=function(x){return this.negative===0?this.clone():this.abs().inotn(x).iaddn(1)},e.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var z=0;z<x.length;z++)this.words[z]|=x.words[z];return this._strip()},e.prototype.ior=function(x){return v((this.negative|x.negative)==0),this.iuor(x)},e.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},e.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},e.prototype.iuand=function(x){var z;z=this.length>x.length?x:this;for(var Z=0;Z<z.length;Z++)this.words[Z]&=x.words[Z];return this.length=z.length,this._strip()},e.prototype.iand=function(x){return v((this.negative|x.negative)==0),this.iuand(x)},e.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},e.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},e.prototype.iuxor=function(x){var z,Z;this.length>x.length?(z=this,Z=x):(z=x,Z=this);for(var oe=0;oe<Z.length;oe++)this.words[oe]=z.words[oe]^Z.words[oe];if(this!==z)for(;oe<z.length;oe++)this.words[oe]=z.words[oe];return this.length=z.length,this._strip()},e.prototype.ixor=function(x){return v((this.negative|x.negative)==0),this.iuxor(x)},e.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},e.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},e.prototype.inotn=function(x){v(typeof x=="number"&&0<=x);var z=0|N(x/26),Z=x%26;this._expand(z),0<Z&&z--;for(var oe=0;oe<z;oe++)this.words[oe]=67108863&~this.words[oe];return 0<Z&&(this.words[oe]=~this.words[oe]&67108863>>26-Z),this._strip()},e.prototype.notn=function(x){return this.clone().inotn(x)},e.prototype.setn=function(x,z){v(typeof x=="number"&&0<=x);var Z=0|x/26,oe=x%26;return this._expand(Z+1),z?this.words[Z]|=1<<oe:this.words[Z]&=~(1<<oe),this._strip()},e.prototype.iadd=function(x){var z;if(this.negative!==0&&x.negative===0)return this.negative=0,z=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,z=this.isub(x),x.negative=1,z._normSign();var Z,oe;this.length>x.length?(Z=this,oe=x):(Z=x,oe=this);for(var Y=0,le=0;le<oe.length;le++)z=(0|Z.words[le])+(0|oe.words[le])+Y,this.words[le]=67108863&z,Y=z>>>26;for(;Y!==0&&le<Z.length;le++)z=(0|Z.words[le])+Y,this.words[le]=67108863&z,Y=z>>>26;if(this.length=Z.length,Y!==0)this.words[this.length]=Y,this.length++;else if(Z!==this)for(;le<Z.length;le++)this.words[le]=Z.words[le];return this},e.prototype.add=function(x){var z;return x.negative!==0&&this.negative===0?(x.negative=0,z=this.sub(x),x.negative^=1,z):x.negative===0&&this.negative!==0?(this.negative=0,z=x.sub(this),this.negative=1,z):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},e.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var z=this.iadd(x);return x.negative=1,z._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var Z=this.cmp(x);if(Z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var oe,Y;0<Z?(oe=this,Y=x):(oe=x,Y=this);for(var le=0,ge=0;ge<Y.length;ge++)z=(0|oe.words[ge])-(0|Y.words[ge])+le,le=z>>26,this.words[ge]=67108863&z;for(;le!==0&&ge<oe.length;ge++)z=(0|oe.words[ge])+le,le=z>>26,this.words[ge]=67108863&z;if(le===0&&ge<oe.length&&oe!==this)for(;ge<oe.length;ge++)this.words[ge]=oe.words[ge];return this.length=F(this.length,ge),oe!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(x){return this.clone().isub(x)};var B=function(x,z,Z){var oe=x.words,Y=z.words,le=Z.words,ge=0,Re=0|oe[0],Ae=8191&Re,De=Re>>>13,$e=0|oe[1],Ye=8191&$e,rt=$e>>>13,bt=0|oe[2],ut=8191&bt,Me=bt>>>13,Ge=0|oe[3],Ze=8191&Ge,ft=Ge>>>13,Mt=0|oe[4],ue=8191&Mt,G=Mt>>>13,te=0|oe[5],de=8191&te,_e=te>>>13,Pe=0|oe[6],je=8191&Pe,Ue=Pe>>>13,yt=0|oe[7],mt=8191&yt,et=yt>>>13,Dt=0|oe[8],wt=8191&Dt,Lt=Dt>>>13,mr=0|oe[9],St=8191&mr,Wt=mr>>>13,qt=0|Y[0],Kt=8191&qt,sr=qt>>>13,_n=0|Y[1],Jt=8191&_n,nr=_n>>>13,Jr=0|Y[2],Yt=8191&Jr,tr=Jr>>>13,Vr=0|Y[3],ir=8191&Vr,dr=Vr>>>13,an=0|Y[4],Xt=8191&an,or=an>>>13,In=0|Y[5],er=8191&In,lr=In>>>13,Sn=0|Y[6],Ht=8191&Sn,fr=Sn>>>13,sn=0|Y[7],Vt=8191&sn,rr=sn>>>13,Cn=0|Y[8],hr=8191&Cn,pr=Cn>>>13,Ke=0|Y[9],ye=8191&Ke,He=Ke>>>13,qe,Se,Je;Z.negative=x.negative^z.negative,Z.length=19,qe=d(Ae,Kt),Se=d(Ae,sr),Se=0|Se+d(De,Kt),Je=d(De,sr);var ln=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(ln>>>26),ln&=67108863,qe=d(Ye,Kt),Se=d(Ye,sr),Se=0|Se+d(rt,Kt),Je=d(rt,sr),qe=0|qe+d(Ae,Jt),Se=0|Se+d(Ae,nr),Se=0|Se+d(De,Jt),Je=0|Je+d(De,nr);var mn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(mn>>>26),mn&=67108863,qe=d(ut,Kt),Se=d(ut,sr),Se=0|Se+d(Me,Kt),Je=d(Me,sr),qe=0|qe+d(Ye,Jt),Se=0|Se+d(Ye,nr),Se=0|Se+d(rt,Jt),Je=0|Je+d(rt,nr),qe=0|qe+d(Ae,Yt),Se=0|Se+d(Ae,tr),Se=0|Se+d(De,Yt),Je=0|Je+d(De,tr);var Pn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Pn>>>26),Pn&=67108863,qe=d(Ze,Kt),Se=d(Ze,sr),Se=0|Se+d(ft,Kt),Je=d(ft,sr),qe=0|qe+d(ut,Jt),Se=0|Se+d(ut,nr),Se=0|Se+d(Me,Jt),Je=0|Je+d(Me,nr),qe=0|qe+d(Ye,Yt),Se=0|Se+d(Ye,tr),Se=0|Se+d(rt,Yt),Je=0|Je+d(rt,tr),qe=0|qe+d(Ae,ir),Se=0|Se+d(Ae,dr),Se=0|Se+d(De,ir),Je=0|Je+d(De,dr);var $n=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+($n>>>26),$n&=67108863,qe=d(ue,Kt),Se=d(ue,sr),Se=0|Se+d(G,Kt),Je=d(G,sr),qe=0|qe+d(Ze,Jt),Se=0|Se+d(Ze,nr),Se=0|Se+d(ft,Jt),Je=0|Je+d(ft,nr),qe=0|qe+d(ut,Yt),Se=0|Se+d(ut,tr),Se=0|Se+d(Me,Yt),Je=0|Je+d(Me,tr),qe=0|qe+d(Ye,ir),Se=0|Se+d(Ye,dr),Se=0|Se+d(rt,ir),Je=0|Je+d(rt,dr),qe=0|qe+d(Ae,Xt),Se=0|Se+d(Ae,or),Se=0|Se+d(De,Xt),Je=0|Je+d(De,or);var Fn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Fn>>>26),Fn&=67108863,qe=d(de,Kt),Se=d(de,sr),Se=0|Se+d(_e,Kt),Je=d(_e,sr),qe=0|qe+d(ue,Jt),Se=0|Se+d(ue,nr),Se=0|Se+d(G,Jt),Je=0|Je+d(G,nr),qe=0|qe+d(Ze,Yt),Se=0|Se+d(Ze,tr),Se=0|Se+d(ft,Yt),Je=0|Je+d(ft,tr),qe=0|qe+d(ut,ir),Se=0|Se+d(ut,dr),Se=0|Se+d(Me,ir),Je=0|Je+d(Me,dr),qe=0|qe+d(Ye,Xt),Se=0|Se+d(Ye,or),Se=0|Se+d(rt,Xt),Je=0|Je+d(rt,or),qe=0|qe+d(Ae,er),Se=0|Se+d(Ae,lr),Se=0|Se+d(De,er),Je=0|Je+d(De,lr);var vn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(vn>>>26),vn&=67108863,qe=d(je,Kt),Se=d(je,sr),Se=0|Se+d(Ue,Kt),Je=d(Ue,sr),qe=0|qe+d(de,Jt),Se=0|Se+d(de,nr),Se=0|Se+d(_e,Jt),Je=0|Je+d(_e,nr),qe=0|qe+d(ue,Yt),Se=0|Se+d(ue,tr),Se=0|Se+d(G,Yt),Je=0|Je+d(G,tr),qe=0|qe+d(Ze,ir),Se=0|Se+d(Ze,dr),Se=0|Se+d(ft,ir),Je=0|Je+d(ft,dr),qe=0|qe+d(ut,Xt),Se=0|Se+d(ut,or),Se=0|Se+d(Me,Xt),Je=0|Je+d(Me,or),qe=0|qe+d(Ye,er),Se=0|Se+d(Ye,lr),Se=0|Se+d(rt,er),Je=0|Je+d(rt,lr),qe=0|qe+d(Ae,Ht),Se=0|Se+d(Ae,fr),Se=0|Se+d(De,Ht),Je=0|Je+d(De,fr);var bn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(bn>>>26),bn&=67108863,qe=d(mt,Kt),Se=d(mt,sr),Se=0|Se+d(et,Kt),Je=d(et,sr),qe=0|qe+d(je,Jt),Se=0|Se+d(je,nr),Se=0|Se+d(Ue,Jt),Je=0|Je+d(Ue,nr),qe=0|qe+d(de,Yt),Se=0|Se+d(de,tr),Se=0|Se+d(_e,Yt),Je=0|Je+d(_e,tr),qe=0|qe+d(ue,ir),Se=0|Se+d(ue,dr),Se=0|Se+d(G,ir),Je=0|Je+d(G,dr),qe=0|qe+d(Ze,Xt),Se=0|Se+d(Ze,or),Se=0|Se+d(ft,Xt),Je=0|Je+d(ft,or),qe=0|qe+d(ut,er),Se=0|Se+d(ut,lr),Se=0|Se+d(Me,er),Je=0|Je+d(Me,lr),qe=0|qe+d(Ye,Ht),Se=0|Se+d(Ye,fr),Se=0|Se+d(rt,Ht),Je=0|Je+d(rt,fr),qe=0|qe+d(Ae,Vt),Se=0|Se+d(Ae,rr),Se=0|Se+d(De,Vt),Je=0|Je+d(De,rr);var Xr=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Xr>>>26),Xr&=67108863,qe=d(wt,Kt),Se=d(wt,sr),Se=0|Se+d(Lt,Kt),Je=d(Lt,sr),qe=0|qe+d(mt,Jt),Se=0|Se+d(mt,nr),Se=0|Se+d(et,Jt),Je=0|Je+d(et,nr),qe=0|qe+d(je,Yt),Se=0|Se+d(je,tr),Se=0|Se+d(Ue,Yt),Je=0|Je+d(Ue,tr),qe=0|qe+d(de,ir),Se=0|Se+d(de,dr),Se=0|Se+d(_e,ir),Je=0|Je+d(_e,dr),qe=0|qe+d(ue,Xt),Se=0|Se+d(ue,or),Se=0|Se+d(G,Xt),Je=0|Je+d(G,or),qe=0|qe+d(Ze,er),Se=0|Se+d(Ze,lr),Se=0|Se+d(ft,er),Je=0|Je+d(ft,lr),qe=0|qe+d(ut,Ht),Se=0|Se+d(ut,fr),Se=0|Se+d(Me,Ht),Je=0|Je+d(Me,fr),qe=0|qe+d(Ye,Vt),Se=0|Se+d(Ye,rr),Se=0|Se+d(rt,Vt),Je=0|Je+d(rt,rr),qe=0|qe+d(Ae,hr),Se=0|Se+d(Ae,pr),Se=0|Se+d(De,hr),Je=0|Je+d(De,pr);var yn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(yn>>>26),yn&=67108863,qe=d(St,Kt),Se=d(St,sr),Se=0|Se+d(Wt,Kt),Je=d(Wt,sr),qe=0|qe+d(wt,Jt),Se=0|Se+d(wt,nr),Se=0|Se+d(Lt,Jt),Je=0|Je+d(Lt,nr),qe=0|qe+d(mt,Yt),Se=0|Se+d(mt,tr),Se=0|Se+d(et,Yt),Je=0|Je+d(et,tr),qe=0|qe+d(je,ir),Se=0|Se+d(je,dr),Se=0|Se+d(Ue,ir),Je=0|Je+d(Ue,dr),qe=0|qe+d(de,Xt),Se=0|Se+d(de,or),Se=0|Se+d(_e,Xt),Je=0|Je+d(_e,or),qe=0|qe+d(ue,er),Se=0|Se+d(ue,lr),Se=0|Se+d(G,er),Je=0|Je+d(G,lr),qe=0|qe+d(Ze,Ht),Se=0|Se+d(Ze,fr),Se=0|Se+d(ft,Ht),Je=0|Je+d(ft,fr),qe=0|qe+d(ut,Vt),Se=0|Se+d(ut,rr),Se=0|Se+d(Me,Vt),Je=0|Je+d(Me,rr),qe=0|qe+d(Ye,hr),Se=0|Se+d(Ye,pr),Se=0|Se+d(rt,hr),Je=0|Je+d(rt,pr),qe=0|qe+d(Ae,ye),Se=0|Se+d(Ae,He),Se=0|Se+d(De,ye),Je=0|Je+d(De,He);var dn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(dn>>>26),dn&=67108863,qe=d(St,Jt),Se=d(St,nr),Se=0|Se+d(Wt,Jt),Je=d(Wt,nr),qe=0|qe+d(wt,Yt),Se=0|Se+d(wt,tr),Se=0|Se+d(Lt,Yt),Je=0|Je+d(Lt,tr),qe=0|qe+d(mt,ir),Se=0|Se+d(mt,dr),Se=0|Se+d(et,ir),Je=0|Je+d(et,dr),qe=0|qe+d(je,Xt),Se=0|Se+d(je,or),Se=0|Se+d(Ue,Xt),Je=0|Je+d(Ue,or),qe=0|qe+d(de,er),Se=0|Se+d(de,lr),Se=0|Se+d(_e,er),Je=0|Je+d(_e,lr),qe=0|qe+d(ue,Ht),Se=0|Se+d(ue,fr),Se=0|Se+d(G,Ht),Je=0|Je+d(G,fr),qe=0|qe+d(Ze,Vt),Se=0|Se+d(Ze,rr),Se=0|Se+d(ft,Vt),Je=0|Je+d(ft,rr),qe=0|qe+d(ut,hr),Se=0|Se+d(ut,pr),Se=0|Se+d(Me,hr),Je=0|Je+d(Me,pr),qe=0|qe+d(Ye,ye),Se=0|Se+d(Ye,He),Se=0|Se+d(rt,ye),Je=0|Je+d(rt,He);var fn=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(fn>>>26),fn&=67108863,qe=d(St,Yt),Se=d(St,tr),Se=0|Se+d(Wt,Yt),Je=d(Wt,tr),qe=0|qe+d(wt,ir),Se=0|Se+d(wt,dr),Se=0|Se+d(Lt,ir),Je=0|Je+d(Lt,dr),qe=0|qe+d(mt,Xt),Se=0|Se+d(mt,or),Se=0|Se+d(et,Xt),Je=0|Je+d(et,or),qe=0|qe+d(je,er),Se=0|Se+d(je,lr),Se=0|Se+d(Ue,er),Je=0|Je+d(Ue,lr),qe=0|qe+d(de,Ht),Se=0|Se+d(de,fr),Se=0|Se+d(_e,Ht),Je=0|Je+d(_e,fr),qe=0|qe+d(ue,Vt),Se=0|Se+d(ue,rr),Se=0|Se+d(G,Vt),Je=0|Je+d(G,rr),qe=0|qe+d(Ze,hr),Se=0|Se+d(Ze,pr),Se=0|Se+d(ft,hr),Je=0|Je+d(ft,pr),qe=0|qe+d(ut,ye),Se=0|Se+d(ut,He),Se=0|Se+d(Me,ye),Je=0|Je+d(Me,He);var Zr=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Zr>>>26),Zr&=67108863,qe=d(St,ir),Se=d(St,dr),Se=0|Se+d(Wt,ir),Je=d(Wt,dr),qe=0|qe+d(wt,Xt),Se=0|Se+d(wt,or),Se=0|Se+d(Lt,Xt),Je=0|Je+d(Lt,or),qe=0|qe+d(mt,er),Se=0|Se+d(mt,lr),Se=0|Se+d(et,er),Je=0|Je+d(et,lr),qe=0|qe+d(je,Ht),Se=0|Se+d(je,fr),Se=0|Se+d(Ue,Ht),Je=0|Je+d(Ue,fr),qe=0|qe+d(de,Vt),Se=0|Se+d(de,rr),Se=0|Se+d(_e,Vt),Je=0|Je+d(_e,rr),qe=0|qe+d(ue,hr),Se=0|Se+d(ue,pr),Se=0|Se+d(G,hr),Je=0|Je+d(G,pr),qe=0|qe+d(Ze,ye),Se=0|Se+d(Ze,He),Se=0|Se+d(ft,ye),Je=0|Je+d(ft,He);var Ut=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Ut>>>26),Ut&=67108863,qe=d(St,Xt),Se=d(St,or),Se=0|Se+d(Wt,Xt),Je=d(Wt,or),qe=0|qe+d(wt,er),Se=0|Se+d(wt,lr),Se=0|Se+d(Lt,er),Je=0|Je+d(Lt,lr),qe=0|qe+d(mt,Ht),Se=0|Se+d(mt,fr),Se=0|Se+d(et,Ht),Je=0|Je+d(et,fr),qe=0|qe+d(je,Vt),Se=0|Se+d(je,rr),Se=0|Se+d(Ue,Vt),Je=0|Je+d(Ue,rr),qe=0|qe+d(de,hr),Se=0|Se+d(de,pr),Se=0|Se+d(_e,hr),Je=0|Je+d(_e,pr),qe=0|qe+d(ue,ye),Se=0|Se+d(ue,He),Se=0|Se+d(G,ye),Je=0|Je+d(G,He);var Te=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Te>>>26),Te&=67108863,qe=d(St,er),Se=d(St,lr),Se=0|Se+d(Wt,er),Je=d(Wt,lr),qe=0|qe+d(wt,Ht),Se=0|Se+d(wt,fr),Se=0|Se+d(Lt,Ht),Je=0|Je+d(Lt,fr),qe=0|qe+d(mt,Vt),Se=0|Se+d(mt,rr),Se=0|Se+d(et,Vt),Je=0|Je+d(et,rr),qe=0|qe+d(je,hr),Se=0|Se+d(je,pr),Se=0|Se+d(Ue,hr),Je=0|Je+d(Ue,pr),qe=0|qe+d(de,ye),Se=0|Se+d(de,He),Se=0|Se+d(_e,ye),Je=0|Je+d(_e,He);var It=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(It>>>26),It&=67108863,qe=d(St,Ht),Se=d(St,fr),Se=0|Se+d(Wt,Ht),Je=d(Wt,fr),qe=0|qe+d(wt,Vt),Se=0|Se+d(wt,rr),Se=0|Se+d(Lt,Vt),Je=0|Je+d(Lt,rr),qe=0|qe+d(mt,hr),Se=0|Se+d(mt,pr),Se=0|Se+d(et,hr),Je=0|Je+d(et,pr),qe=0|qe+d(je,ye),Se=0|Se+d(je,He),Se=0|Se+d(Ue,ye),Je=0|Je+d(Ue,He);var ur=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(ur>>>26),ur&=67108863,qe=d(St,Vt),Se=d(St,rr),Se=0|Se+d(Wt,Vt),Je=d(Wt,rr),qe=0|qe+d(wt,hr),Se=0|Se+d(wt,pr),Se=0|Se+d(Lt,hr),Je=0|Je+d(Lt,pr),qe=0|qe+d(mt,ye),Se=0|Se+d(mt,He),Se=0|Se+d(et,ye),Je=0|Je+d(et,He);var vr=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(vr>>>26),vr&=67108863,qe=d(St,hr),Se=d(St,pr),Se=0|Se+d(Wt,hr),Je=d(Wt,pr),qe=0|qe+d(wt,ye),Se=0|Se+d(wt,He),Se=0|Se+d(Lt,ye),Je=0|Je+d(Lt,He);var $r=0|(0|ge+qe)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+($r>>>26),$r&=67108863,qe=d(St,ye),Se=d(St,He),Se=0|Se+d(Wt,ye),Je=d(Wt,He);var Ir=0|(0|ge+qe)+((8191&Se)<<13);return ge=0|(0|Je+(Se>>>13))+(Ir>>>26),Ir&=67108863,le[0]=ln,le[1]=mn,le[2]=Pn,le[3]=$n,le[4]=Fn,le[5]=vn,le[6]=bn,le[7]=Xr,le[8]=yn,le[9]=dn,le[10]=fn,le[11]=Zr,le[12]=Ut,le[13]=Te,le[14]=It,le[15]=ur,le[16]=vr,le[17]=$r,le[18]=Ir,ge!==0&&(le[19]=ge,Z.length++),Z};d||(B=n),e.prototype.mulTo=function(x,z){var Z=this.length+x.length,oe;return oe=this.length===10&&x.length===10?B(this,x,z):63>Z?n(this,x,z):1024>Z?a(this,x,z):l(this,x,z),oe},f.prototype.makeRBT=function(x){for(var z=Array(x),Z=e.prototype._countBits(x)-1,oe=0;oe<x;oe++)z[oe]=this.revBin(oe,Z,x);return z},f.prototype.revBin=function(x,z,Z){if(x===0||x===Z-1)return x;for(var oe=0,Y=0;Y<z;Y++)oe|=(1&x)<<z-Y-1,x>>=1;return oe},f.prototype.permute=function(x,z,Z,oe,Y,le){for(var ge=0;ge<le;ge++)oe[ge]=z[x[ge]],Y[ge]=Z[x[ge]]},f.prototype.transform=function(x,z,Z,oe,Y,le){this.permute(le,x,z,Z,oe,Y);for(var ge=1;ge<Y;ge<<=1)for(var Re=ge<<1,Ae=_(2*E/Re),De=T(2*E/Re),$e=0;$e<Y;$e+=Re)for(var Ye=Ae,rt=De,bt=0;bt<ge;bt++){var ut=Z[$e+bt],Me=oe[$e+bt],Ge=Z[$e+bt+ge],Ze=oe[$e+bt+ge],ft=Ye*Ge-rt*Ze;Ze=Ye*Ze+rt*Ge,Ge=ft,Z[$e+bt]=ut+Ge,oe[$e+bt]=Me+Ze,Z[$e+bt+ge]=ut-Ge,oe[$e+bt+ge]=Me-Ze,bt!==Re&&(ft=Ae*Ye-De*rt,rt=Ae*rt+De*Ye,Ye=ft)}},f.prototype.guessLen13b=function(x,z){var Z=1|F(z,x),oe=1&Z,Y=0;for(Z=0|Z/2;Z;Z>>>=1)Y++;return 1<<Y+1+oe},f.prototype.conjugate=function(x,z,Z){if(!(1>=Z))for(var oe=0,Y;oe<Z/2;oe++)Y=x[oe],x[oe]=x[Z-oe-1],x[Z-oe-1]=Y,Y=z[oe],z[oe]=-z[Z-oe-1],z[Z-oe-1]=-Y},f.prototype.normalize13b=function(x,z){for(var Z=0,oe=0,Y;oe<z/2;oe++)Y=8192*D(x[2*oe+1]/z)+D(x[2*oe]/z)+Z,x[oe]=67108863&Y,Z=67108864>Y?0:0|Y/67108864;return x},f.prototype.convert13b=function(x,z,Z,oe){for(var Y=0,le=0;le<z;le++)Y+=0|x[le],Z[2*le]=8191&Y,Y>>>=13,Z[2*le+1]=8191&Y,Y>>>=13;for(le=2*z;le<oe;++le)Z[le]=0;v(Y===0),v((-8192&Y)==0)},f.prototype.stub=function(x){for(var z=Array(x),Z=0;Z<x;Z++)z[Z]=0;return z},f.prototype.mulp=function(x,z,Z){var oe=2*this.guessLen13b(x.length,z.length),Y=this.makeRBT(oe),le=this.stub(oe),ge=Array(oe),Re=Array(oe),Ae=Array(oe),De=Array(oe),$e=Array(oe),Ye=Array(oe),rt=Z.words;rt.length=oe,this.convert13b(x.words,x.length,ge,oe),this.convert13b(z.words,z.length,De,oe),this.transform(ge,le,Re,Ae,oe,Y),this.transform(De,le,$e,Ye,oe,Y);for(var bt=0,ut;bt<oe;bt++)ut=Re[bt]*$e[bt]-Ae[bt]*Ye[bt],Ae[bt]=Re[bt]*Ye[bt]+Ae[bt]*$e[bt],Re[bt]=ut;return this.conjugate(Re,Ae,oe),this.transform(Re,Ae,rt,le,oe,Y),this.conjugate(rt,le,oe),this.normalize13b(rt,oe),Z.negative=x.negative^z.negative,Z.length=x.length+z.length,Z._strip()},e.prototype.mul=function(x){var z=new e(null);return z.words=Array(this.length+x.length),this.mulTo(x,z)},e.prototype.mulf=function(x){var z=new e(null);return z.words=Array(this.length+x.length),l(this,x,z)},e.prototype.imul=function(x){return this.clone().mulTo(x,this)},e.prototype.imuln=function(x){var z=0>x;z&&(x=-x),v(typeof x=="number"),v(67108864>x);for(var Z=0,oe=0;oe<this.length;oe++){var Y=(0|this.words[oe])*x,le=(67108863&Y)+(67108863&Z);Z>>=26,Z+=0|Y/67108864,Z+=le>>>26,this.words[oe]=67108863&le}return Z!==0&&(this.words[oe]=Z,this.length++),z?this.ineg():this},e.prototype.muln=function(x){return this.clone().imuln(x)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(x){var z=t(x);if(z.length===0)return new e(1);for(var Z=this,oe=0;oe<z.length&&z[oe]===0;oe++,Z=Z.sqr());if(++oe<z.length)for(var Y=Z.sqr();oe<z.length;oe++,Y=Y.sqr())z[oe]!==0&&(Z=Z.mul(Y));return Z},e.prototype.iushln=function(x){v(typeof x=="number"&&0<=x);var z=x%26,Z=(x-z)/26,oe=67108863>>>26-z<<26-z,Y;if(z!=0){var le=0;for(Y=0;Y<this.length;Y++){var ge=this.words[Y]&oe,Re=(0|this.words[Y])-ge<<z;this.words[Y]=Re|le,le=ge>>>26-z}le&&(this.words[Y]=le,this.length++)}if(Z!==0){for(Y=this.length-1;0<=Y;Y--)this.words[Y+Z]=this.words[Y];for(Y=0;Y<Z;Y++)this.words[Y]=0;this.length+=Z}return this._strip()},e.prototype.ishln=function(x){return v(this.negative===0),this.iushln(x)},e.prototype.iushrn=function(x,z,Z){v(typeof x=="number"&&0<=x);var oe;oe=z?(z-z%26)/26:0;var Y=x%26,le=J((x-Y)/26,this.length),ge=67108863^67108863>>>Y<<Y,Re=Z;if(oe-=le,oe=F(0,oe),Re){for(var Ae=0;Ae<le;Ae++)Re.words[Ae]=this.words[Ae];Re.length=le}if(le!==0)if(this.length>le)for(this.length-=le,Ae=0;Ae<this.length;Ae++)this.words[Ae]=this.words[Ae+le];else this.words[0]=0,this.length=1;var De=0;for(Ae=this.length-1;0<=Ae&&(De!==0||Ae>=oe);Ae--){var $e=0|this.words[Ae];this.words[Ae]=De<<26-Y|$e>>>Y,De=$e&ge}return Re&&De!==0&&(Re.words[Re.length++]=De),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(x,z,Z){return v(this.negative===0),this.iushrn(x,z,Z)},e.prototype.shln=function(x){return this.clone().ishln(x)},e.prototype.ushln=function(x){return this.clone().iushln(x)},e.prototype.shrn=function(x){return this.clone().ishrn(x)},e.prototype.ushrn=function(x){return this.clone().iushrn(x)},e.prototype.testn=function(x){v(typeof x=="number"&&0<=x);var z=x%26,Z=(x-z)/26,oe=1<<z;if(this.length<=Z)return!1;var Y=this.words[Z];return!!(Y&oe)},e.prototype.imaskn=function(x){v(typeof x=="number"&&0<=x);var z=x%26,Z=(x-z)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(z!=0&&Z++,this.length=J(Z,this.length),z!=0){var oe=67108863^67108863>>>z<<z;this.words[this.length-1]&=oe}return this._strip()},e.prototype.maskn=function(x){return this.clone().imaskn(x)},e.prototype.iaddn=function(x){return v(typeof x=="number"),v(67108864>x),0>x?this.isubn(-x):this.negative===0?this._iaddn(x):this.length===1&&(0|this.words[0])<=x?(this.words[0]=x-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this)},e.prototype._iaddn=function(x){this.words[0]+=x;for(var z=0;z<this.length&&67108864<=this.words[z];z++)this.words[z]-=67108864,z==this.length-1?this.words[z+1]=1:this.words[z+1]++;return this.length=F(this.length,z+1),this},e.prototype.isubn=function(x){if(v(typeof x=="number"),v(67108864>x),0>x)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var z=0;z<this.length&&0>this.words[z];z++)this.words[z]+=67108864,this.words[z+1]-=1;return this._strip()},e.prototype.addn=function(x){return this.clone().iaddn(x)},e.prototype.subn=function(x){return this.clone().isubn(x)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(x,z,Z){var oe=x.length+Z,Y;this._expand(oe);var le=0,ge;for(Y=0;Y<x.length;Y++){ge=(0|this.words[Y+Z])+le;var Re=(0|x.words[Y])*z;ge-=67108863&Re,le=(ge>>26)-(0|Re/67108864),this.words[Y+Z]=67108863&ge}for(;Y<this.length-Z;Y++)ge=(0|this.words[Y+Z])+le,le=ge>>26,this.words[Y+Z]=67108863&ge;if(le===0)return this._strip();for(v(le===-1),le=0,Y=0;Y<this.length;Y++)ge=-(0|this.words[Y])+le,le=ge>>26,this.words[Y]=67108863&ge;return this.negative=1,this._strip()},e.prototype._wordDiv=function(x,z){var Z=this.length-x.length,oe=this.clone(),Y=x,le=0|Y.words[Y.length-1],ge=this._countBits(le);Z=26-ge,Z!=0&&(Y=Y.ushln(Z),oe.iushln(Z),le=0|Y.words[Y.length-1]);var Re=oe.length-Y.length,Ae;if(z!=="mod"){Ae=new e(null),Ae.length=Re+1,Ae.words=Array(Ae.length);for(var De=0;De<Ae.length;De++)Ae.words[De]=0}var $e=oe.clone()._ishlnsubmul(Y,1,Re);$e.negative===0&&(oe=$e,Ae&&(Ae.words[Re]=1));for(var Ye=Re-1,rt;0<=Ye;Ye--){for(rt=67108864*(0|oe.words[Y.length+Ye])+(0|oe.words[Y.length+Ye-1]),rt=J(0|rt/le,67108863),oe._ishlnsubmul(Y,rt,Ye);oe.negative!==0;)rt--,oe.negative=0,oe._ishlnsubmul(Y,1,Ye),oe.isZero()||(oe.negative^=1);Ae&&(Ae.words[Ye]=rt)}return Ae&&Ae._strip(),oe._strip(),z!=="div"&&Z!==0&&oe.iushrn(Z),{div:Ae||null,mod:oe}},e.prototype.divmod=function(x,z,Z){if(v(!x.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var oe,Y,le;return this.negative!==0&&x.negative===0?(le=this.neg().divmod(x,z),z!=="mod"&&(oe=le.div.neg()),z!=="div"&&(Y=le.mod.neg(),Z&&Y.negative!==0&&Y.iadd(x)),{div:oe,mod:Y}):this.negative===0&&x.negative!==0?(le=this.divmod(x.neg(),z),z!=="mod"&&(oe=le.div.neg()),{div:oe,mod:le.mod}):(this.negative&x.negative)==0?x.length>this.length||0>this.cmp(x)?{div:new e(0),mod:this}:x.length===1?z==="div"?{div:this.divn(x.words[0]),mod:null}:z==="mod"?{div:null,mod:new e(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new e(this.modrn(x.words[0]))}:this._wordDiv(x,z):(le=this.neg().divmod(x.neg(),z),z!=="div"&&(Y=le.mod.neg(),Z&&Y.negative!==0&&Y.isub(x)),{div:le.div,mod:Y})},e.prototype.div=function(x){return this.divmod(x,"div",!1).div},e.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},e.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},e.prototype.divRound=function(x){var z=this.divmod(x);if(z.mod.isZero())return z.div;var Z=z.div.negative===0?z.mod:z.mod.isub(x),oe=x.ushrn(1),Y=x.andln(1),le=Z.cmp(oe);return 0>le||Y===1&&le===0?z.div:z.div.negative===0?z.div.iaddn(1):z.div.isubn(1)},e.prototype.modrn=function(x){var z=0>x;z&&(x=-x),v(67108863>=x);for(var Z=67108864%x,oe=0,Y=this.length-1;0<=Y;Y--)oe=(Z*oe+(0|this.words[Y]))%x;return z?-oe:oe},e.prototype.modn=function(x){return this.modrn(x)},e.prototype.idivn=function(x){var z=0>x;z&&(x=-x),v(67108863>=x);for(var Z=0,oe=this.length-1,Y;0<=oe;oe--)Y=(0|this.words[oe])+67108864*Z,this.words[oe]=0|Y/x,Z=Y%x;return this._strip(),z?this.ineg():this},e.prototype.divn=function(x){return this.clone().idivn(x)},e.prototype.egcd=function(x){v(x.negative===0),v(!x.isZero());var z=this,Z=x.clone();z=z.negative===0?z.clone():z.umod(x);for(var oe=new e(1),Y=new e(0),le=new e(0),ge=new e(1),Re=0;z.isEven()&&Z.isEven();)z.iushrn(1),Z.iushrn(1),++Re;for(var Ae=Z.clone(),De=z.clone();!z.isZero();){for(var $e=0,Ye=1;(z.words[0]&Ye)==0&&26>$e;++$e,Ye<<=1);if(0<$e)for(z.iushrn($e);0<$e--;)(oe.isOdd()||Y.isOdd())&&(oe.iadd(Ae),Y.isub(De)),oe.iushrn(1),Y.iushrn(1);for(var rt=0,bt=1;(Z.words[0]&bt)==0&&26>rt;++rt,bt<<=1);if(0<rt)for(Z.iushrn(rt);0<rt--;)(le.isOdd()||ge.isOdd())&&(le.iadd(Ae),ge.isub(De)),le.iushrn(1),ge.iushrn(1);0<=z.cmp(Z)?(z.isub(Z),oe.isub(le),Y.isub(ge)):(Z.isub(z),le.isub(oe),ge.isub(Y))}return{a:le,b:ge,gcd:Z.iushln(Re)}},e.prototype._invmp=function(x){v(x.negative===0),v(!x.isZero());var z=this,Z=x.clone();z=z.negative===0?z.clone():z.umod(x);for(var oe=new e(1),Y=new e(0),le=Z.clone();0<z.cmpn(1)&&0<Z.cmpn(1);){for(var ge=0,Re=1;(z.words[0]&Re)==0&&26>ge;++ge,Re<<=1);if(0<ge)for(z.iushrn(ge);0<ge--;)oe.isOdd()&&oe.iadd(le),oe.iushrn(1);for(var Ae=0,De=1;(Z.words[0]&De)==0&&26>Ae;++Ae,De<<=1);if(0<Ae)for(Z.iushrn(Ae);0<Ae--;)Y.isOdd()&&Y.iadd(le),Y.iushrn(1);0<=z.cmp(Z)?(z.isub(Z),oe.isub(Y)):(Z.isub(z),Y.isub(oe))}var $e;return $e=z.cmpn(1)===0?oe:Y,0>$e.cmpn(0)&&$e.iadd(x),$e},e.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var z=this.clone(),Z=x.clone();z.negative=0,Z.negative=0;for(var oe=0;z.isEven()&&Z.isEven();oe++)z.iushrn(1),Z.iushrn(1);do{for(;z.isEven();)z.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var Y=z.cmp(Z);if(0>Y){var le=z;z=Z,Z=le}else if(Y===0||Z.cmpn(1)===0)break;z.isub(Z)}while(!0);return Z.iushln(oe)},e.prototype.invm=function(x){return this.egcd(x).a.umod(x)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(x){return this.words[0]&x},e.prototype.bincn=function(x){v(typeof x=="number");var z=x%26,Z=(x-z)/26,oe=1<<z;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=oe,this;for(var Y=oe,le=Z,ge;Y!==0&&le<this.length;le++)ge=0|this.words[le],ge+=Y,Y=ge>>>26,ge&=67108863,this.words[le]=ge;return Y!==0&&(this.words[le]=Y,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(x){var z=0>x;if(this.negative!==0&&!z)return-1;if(this.negative===0&&z)return 1;this._strip();var Z;if(1<this.length)Z=1;else{z&&(x=-x),v(67108863>=x,"Number is too big");var oe=0|this.words[0];Z=oe===x?0:oe<x?-1:1}return this.negative===0?Z:0|-Z},e.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var z=this.ucmp(x);return this.negative===0?z:0|-z},e.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var z=0,Z=this.length-1;0<=Z;Z--){var oe=0|this.words[Z],Y=0|x.words[Z];if(oe!=Y){oe<Y?z=-1:oe>Y&&(z=1);break}}return z},e.prototype.gtn=function(x){return this.cmpn(x)===1},e.prototype.gt=function(x){return this.cmp(x)===1},e.prototype.gten=function(x){return 0<=this.cmpn(x)},e.prototype.gte=function(x){return 0<=this.cmp(x)},e.prototype.ltn=function(x){return this.cmpn(x)===-1},e.prototype.lt=function(x){return this.cmp(x)===-1},e.prototype.lten=function(x){return 0>=this.cmpn(x)},e.prototype.lte=function(x){return 0>=this.cmp(x)},e.prototype.eqn=function(x){return this.cmpn(x)===0},e.prototype.eq=function(x){return this.cmp(x)===0},e.red=function(x){return new L(x)},e.prototype.toRed=function(x){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},e.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(x){return this.red=x,this},e.prototype.forceRed=function(x){return v(!this.red,"Already a number in reduction context"),this._forceRed(x)},e.prototype.redAdd=function(x){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},e.prototype.redIAdd=function(x){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},e.prototype.redSub=function(x){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},e.prototype.redISub=function(x){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},e.prototype.redShl=function(x){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},e.prototype.redMul=function(x){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},e.prototype.redIMul=function(x){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},e.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(x){return v(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var K={k256:null,p224:null,p192:null,p25519:null};b.prototype._tmp=function(){var x=new e(null);return x.words=Array(N(this.n/13)),x},b.prototype.ireduce=function(x){var z=x,Z;do this.split(z,this.tmp),z=this.imulK(z),z=z.iadd(this.tmp),Z=z.bitLength();while(Z>this.n);var oe=Z<this.n?-1:z.ucmp(this.p);return oe===0?(z.words[0]=0,z.length=1):0<oe?z.isub(this.p):z.strip===void 0?z._strip():z.strip(),z},b.prototype.split=function(x,z){x.iushrn(this.n,0,z)},b.prototype.imulK=function(x){return x.imul(this.k)},h(C,b),C.prototype.split=function(x,z){for(var Z=4194303,oe=J(x.length,9),Y=0;Y<oe;Y++)z.words[Y]=x.words[Y];if(z.length=oe,9>=x.length)return x.words[0]=0,void(x.length=1);var le=x.words[9];for(z.words[z.length++]=le&Z,Y=10;Y<x.length;Y++){var ge=0|x.words[Y];x.words[Y-10]=(ge&Z)<<4|le>>>22,le=ge}le>>>=22,x.words[Y-10]=le,x.length-=le===0&&10<x.length?10:9},C.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var z=0,Z=0,oe;Z<x.length;Z++)oe=0|x.words[Z],z+=977*oe,x.words[Z]=67108863&z,z=64*oe+(0|z/67108864);return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x},h($,b),h(W,b),h(R,b),R.prototype.imulK=function(x){for(var z=0,Z=0;Z<x.length;Z++){var oe=19*(0|x.words[Z])+z,Y=67108863&oe;oe>>>=26,x.words[Z]=Y,z=oe}return z!==0&&(x.words[x.length++]=z),x},e._prime=function(x){if(K[x])return K[x];var z;if(x==="k256")z=new C;else if(x==="p224")z=new $;else if(x==="p192")z=new W;else if(x==="p25519")z=new R;else throw new Error("Unknown prime "+x);return K[x]=z,z},L.prototype._verify1=function(x){v(x.negative===0,"red works only with positives"),v(x.red,"red works only with red numbers")},L.prototype._verify2=function(x,z){v((x.negative|z.negative)==0,"red works only with positives"),v(x.red&&x.red===z.red,"red works only with red numbers")},L.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(c(x,x.umod(this.m)._forceRed(this)),x)},L.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},L.prototype.add=function(x,z){this._verify2(x,z);var Z=x.add(z);return 0<=Z.cmp(this.m)&&Z.isub(this.m),Z._forceRed(this)},L.prototype.iadd=function(x,z){this._verify2(x,z);var Z=x.iadd(z);return 0<=Z.cmp(this.m)&&Z.isub(this.m),Z},L.prototype.sub=function(x,z){this._verify2(x,z);var Z=x.sub(z);return 0>Z.cmpn(0)&&Z.iadd(this.m),Z._forceRed(this)},L.prototype.isub=function(x,z){this._verify2(x,z);var Z=x.isub(z);return 0>Z.cmpn(0)&&Z.iadd(this.m),Z},L.prototype.shl=function(x,z){return this._verify1(x),this.imod(x.ushln(z))},L.prototype.imul=function(x,z){return this._verify2(x,z),this.imod(x.imul(z))},L.prototype.mul=function(x,z){return this._verify2(x,z),this.imod(x.mul(z))},L.prototype.isqr=function(x){return this.imul(x,x.clone())},L.prototype.sqr=function(x){return this.mul(x,x)},L.prototype.sqrt=function(x){if(x.isZero())return x.clone();var z=this.m.andln(3);if(v(z%2==1),z===3){var Z=this.m.add(new e(1)).iushrn(2);return this.pow(x,Z)}for(var oe=this.m.subn(1),Y=0;!oe.isZero()&&oe.andln(1)===0;)Y++,oe.iushrn(1);v(!oe.isZero());var le=new e(1).toRed(this),ge=le.redNeg(),Re=this.m.subn(1).iushrn(1),Ae=this.m.bitLength();for(Ae=new e(2*Ae*Ae).toRed(this);this.pow(Ae,Re).cmp(ge)!==0;)Ae.redIAdd(ge);for(var De=this.pow(Ae,oe),$e=this.pow(x,oe.addn(1).iushrn(1)),Ye=this.pow(x,oe),rt=Y;Ye.cmp(le)!==0;){for(var bt=Ye,ut=0;bt.cmp(le)!==0;ut++)bt=bt.redSqr();v(ut<rt);var Me=this.pow(De,new e(1).iushln(rt-ut-1));$e=$e.redMul(Me),De=Me.redSqr(),Ye=Ye.redMul(De),rt=ut}return $e},L.prototype.invm=function(x){var z=x._invmp(this.m);return z.negative===0?this.imod(z):(z.negative=0,this.imod(z).redNeg())},L.prototype.pow=function(x,z){if(z.isZero())return new e(1).toRed(this);if(z.cmpn(1)===0)return x.clone();var Z=4,oe=Array(16);oe[0]=new e(1).toRed(this),oe[1]=x;for(var Y=2;Y<oe.length;Y++)oe[Y]=this.mul(oe[Y-1],x);var le=oe[0],ge=0,Re=0,Ae=z.bitLength()%26;for(Ae===0&&(Ae=26),Y=z.length-1;0<=Y;Y--){for(var De=z.words[Y],$e=Ae-1,Ye;0<=$e;$e--){if(Ye=1&De>>$e,le!==oe[0]&&(le=this.sqr(le)),Ye===0&&ge===0){Re=0;continue}ge<<=1,ge|=Ye,Re++,(Re===4||Y===0&&$e===0)&&(le=this.mul(le,oe[ge]),Re=0,ge=0)}Ae=26}return le},L.prototype.convertTo=function(x){var z=x.umod(this.m);return z===x?z.clone():z},L.prototype.convertFrom=function(x){var z=x.clone();return z.red=null,z},e.mont=function(x){return new q(x)},h(q,L),q.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},q.prototype.convertFrom=function(x){var z=this.imod(x.mul(this.rinv));return z.red=null,z},q.prototype.imul=function(x,z){if(x.isZero()||z.isZero())return x.words[0]=0,x.length=1,x;var Z=x.imul(z),oe=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Y=Z.isub(oe).iushrn(this.shift),le=Y;return 0<=Y.cmp(this.m)?le=Y.isub(this.m):0>Y.cmpn(0)&&(le=Y.iadd(this.m)),le._forceRed(this)},q.prototype.mul=function(x,z){if(x.isZero()||z.isZero())return new e(0)._forceRed(this);var Z=x.mul(z),oe=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Y=Z.isub(oe).iushrn(this.shift),le=Y;return 0<=Y.cmp(this.m)?le=Y.isub(this.m):0>Y.cmpn(0)&&(le=Y.iadd(this.m)),le._forceRed(this)},q.prototype.invm=function(x){var z=this.imod(x._invmp(this.m).mul(this.r2));return z._forceRed(this)}})(typeof U=="undefined"||U,this)},{buffer:42}],41:[function(m,U,k){function p(h){this.rand=h}var w;if(U.exports=function(e){return w||(w=new p(null)),w.generate(e)},U.exports.Rand=p,p.prototype.generate=function(e){return this._rand(e)},p.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var o=new Uint8Array(e),i=0;i<o.length;i++)o[i]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?p.prototype._rand=function(e){var o=new Uint8Array(e);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?p.prototype._rand=function(e){var o=new Uint8Array(e);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(p.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var v=m("crypto");if(typeof v.randomBytes!="function")throw new Error("Not supported");p.prototype._rand=function(e){return v.randomBytes(e)}}catch{}},{crypto:42}],42:[function(m,U,k){},{}],43:[function(m,U,k){function p(u){e.isBuffer(u)||(u=e.from(u));for(var c=0|u.length/4,s=Array(c),t=0;t<c;t++)s[t]=u.readUInt32BE(4*t);return s}function w(u){for(var c=0;c<u.length;u++)u[c]=0}function v(u,c,s,t,n){for(var a=s[0],l=s[1],f=s[2],b=s[3],C=u[0]^c[0],$=u[1]^c[1],W=u[2]^c[2],R=u[3]^c[3],L=4,q=1,ee,ae,fe,Ee;q<n;q++)ee=a[C>>>24]^l[255&$>>>16]^f[255&W>>>8]^b[255&R]^c[L++],ae=a[$>>>24]^l[255&W>>>16]^f[255&R>>>8]^b[255&C]^c[L++],fe=a[W>>>24]^l[255&R>>>16]^f[255&C>>>8]^b[255&$]^c[L++],Ee=a[R>>>24]^l[255&C>>>16]^f[255&$>>>8]^b[255&W]^c[L++],C=ee,$=ae,W=fe,R=Ee;return ee=(t[C>>>24]<<24|t[255&$>>>16]<<16|t[255&W>>>8]<<8|t[255&R])^c[L++],ae=(t[$>>>24]<<24|t[255&W>>>16]<<16|t[255&R>>>8]<<8|t[255&C])^c[L++],fe=(t[W>>>24]<<24|t[255&R>>>16]<<16|t[255&C>>>8]<<8|t[255&$])^c[L++],Ee=(t[R>>>24]<<24|t[255&C>>>16]<<16|t[255&$>>>8]<<8|t[255&W])^c[L++],ee>>>=0,ae>>>=0,fe>>>=0,Ee>>>=0,[ee,ae,fe,Ee]}function h(u){this._key=p(u),this._reset()}var e=m("safe-buffer").Buffer,o=[0,1,2,4,8,16,32,64,128,27,54],i=(function(){for(var u=Array(256),c=0;256>c;c++)u[c]=128>c?c<<1:283^c<<1;for(var s=[],t=[],n=[[],[],[],[]],a=[[],[],[],[]],l=0,f=0,b=0,C;256>b;++b){C=f^f<<1^f<<2^f<<3^f<<4,C=99^(C>>>8^255&C),s[l]=C,t[C]=l;var $=u[l],W=u[$],R=u[W],L=257*u[C]^16843008*C;n[0][l]=L<<24|L>>>8,n[1][l]=L<<16|L>>>16,n[2][l]=L<<8|L>>>24,n[3][l]=L,L=16843009*R^65537*W^257*$^16843008*l,a[0][C]=L<<24|L>>>8,a[1][C]=L<<16|L>>>16,a[2][C]=L<<8|L>>>24,a[3][C]=L,l===0?l=f=1:(l=$^u[u[u[R^$]]],f^=u[u[f]])}return{SBOX:s,INV_SBOX:t,SUB_MIX:n,INV_SUB_MIX:a}})();h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var u=this._key,c=u.length,s=c+6,t=4*(s+1),n=[],a=0;a<c;a++)n[a]=u[a];for(a=c;a<t;a++){var l=n[a-1];a%c==0?(l=l<<8|l>>>24,l=i.SBOX[l>>>24]<<24|i.SBOX[255&l>>>16]<<16|i.SBOX[255&l>>>8]<<8|i.SBOX[255&l],l^=o[0|a/c]<<24):6<c&&a%c==4&&(l=i.SBOX[l>>>24]<<24|i.SBOX[255&l>>>16]<<16|i.SBOX[255&l>>>8]<<8|i.SBOX[255&l]),n[a]=n[a-c]^l}for(var f=[],b=0;b<t;b++){var C=t-b,$=n[C-(b%4?0:4)];f[b]=4>b||4>=C?$:i.INV_SUB_MIX[0][i.SBOX[$>>>24]]^i.INV_SUB_MIX[1][i.SBOX[255&$>>>16]]^i.INV_SUB_MIX[2][i.SBOX[255&$>>>8]]^i.INV_SUB_MIX[3][i.SBOX[255&$]]}this._nRounds=s,this._keySchedule=n,this._invKeySchedule=f},h.prototype.encryptBlockRaw=function(u){return u=p(u),v(u,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},h.prototype.encryptBlock=function(u){var c=this.encryptBlockRaw(u),s=e.allocUnsafe(16);return s.writeUInt32BE(c[0],0),s.writeUInt32BE(c[1],4),s.writeUInt32BE(c[2],8),s.writeUInt32BE(c[3],12),s},h.prototype.decryptBlock=function(u){u=p(u);var c=u[1];u[1]=u[3],u[3]=c;var s=v(u,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),t=e.allocUnsafe(16);return t.writeUInt32BE(s[0],0),t.writeUInt32BE(s[3],4),t.writeUInt32BE(s[2],8),t.writeUInt32BE(s[1],12),t},h.prototype.scrub=function(){w(this._keySchedule),w(this._invKeySchedule),w(this._key)},U.exports.AES=h},{"safe-buffer":235}],44:[function(m,U,k){function p(t,n){var a=0;t.length!==n.length&&a++;for(var l=J(t.length,n.length),f=0;f<l;++f)a+=t[f]^n[f];return a}function w(t,n,a){if(n.length===12)return t._finID=e.concat([n,e.from([0,0,0,1])]),e.concat([n,e.from([0,0,0,2])]);var l=new u(a),f=n.length,b=f%16;l.update(n),b&&(b=16-b,l.update(e.alloc(b,0))),l.update(e.alloc(8,0));var C=8*f,$=e.alloc(8);$.writeUIntBE(C,0,8),l.update($),t._finID=l.state;var W=e.from(t._finID);return s(W),W}function v(t,n,a,l){o.call(this);var f=e.alloc(4,0);this._cipher=new h.AES(n);var b=this._cipher.encryptBlock(f);this._ghash=new u(b),a=w(this,a,b),this._prev=e.from(a),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=l,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}var h=m("./aes"),e=m("safe-buffer").Buffer,o=m("cipher-base"),i=m("inherits"),u=m("./ghash"),c=m("buffer-xor"),s=m("./incr32");i(v,o),v.prototype._update=function(t){if(!this._called&&this._alen){var n=16-this._alen%16;16>n&&(n=e.alloc(n,0),this._ghash.update(n))}this._called=!0;var a=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(a),this._len+=t.length,a},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&p(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(n){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=n},v.prototype.setAAD=function(n){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(n),this._alen+=n.length},U.exports=v},{"./aes":43,"./ghash":48,"./incr32":49,"buffer-xor":75,"cipher-base":80,inherits:147,"safe-buffer":235}],45:[function(m,U,k){function p(){return Object.keys(h)}var w=m("./encrypter"),v=m("./decrypter"),h=m("./modes/list.json");k.createCipher=k.Cipher=w.createCipher,k.createCipheriv=k.Cipheriv=w.createCipheriv,k.createDecipher=k.Decipher=v.createDecipher,k.createDecipheriv=k.Decipheriv=v.createDecipheriv,k.listCiphers=k.getCiphers=p},{"./decrypter":46,"./encrypter":47,"./modes/list.json":57}],46:[function(m,U,k){function p(l,f,b){s.call(this),this._cache=new w,this._last=void 0,this._cipher=new t.AES(f),this._prev=i.from(b),this._mode=l,this._autopadding=!0}function w(){this.cache=i.allocUnsafe(0)}function v(l){var f=l[15];if(1>f||16<f)throw new Error("unable to decrypt data");for(var b=-1;++b<f;)if(l[b+(16-f)]!==f)throw new Error("unable to decrypt data");return f===16?void 0:l.slice(0,16-f)}function h(l,f,b){var C=u[l.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=i.from(b)),C.mode!=="GCM"&&b.length!==C.iv)throw new TypeError("invalid iv length "+b.length);if(typeof f=="string"&&(f=i.from(f)),f.length!==C.key/8)throw new TypeError("invalid key length "+f.length);return C.type==="stream"?new c(C.module,f,b,!0):C.type==="auth"?new o(C.module,f,b,!0):new p(C.module,f,b)}function e(l,f){var b=u[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var C=n(f,!1,b.key,b.iv);return h(l,C.key,C.iv)}var o=m("./authCipher"),i=m("safe-buffer").Buffer,u=m("./modes"),c=m("./streamCipher"),s=m("cipher-base"),t=m("./aes"),n=m("evp_bytestokey"),a=m("inherits");a(p,s),p.prototype._update=function(l){this._cache.add(l);for(var f=[],b,C;b=this._cache.get(this._autopadding);)C=this._mode.decrypt(this,b),f.push(C);return i.concat(f)},p.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return v(this._mode.decrypt(this,l));if(l)throw new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},w.prototype.add=function(l){this.cache=i.concat([this.cache,l])},w.prototype.get=function(l){var f;if(l){if(16<this.cache.length)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(16<=this.cache.length)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},w.prototype.flush=function(){if(this.cache.length)return this.cache},k.createDecipher=e,k.createDecipheriv=h},{"./aes":43,"./authCipher":44,"./modes":56,"./streamCipher":59,"cipher-base":80,evp_bytestokey:124,inherits:147,"safe-buffer":235}],47:[function(m,U,k){function p(l,f,b){c.call(this),this._cache=new w,this._cipher=new s.AES(f),this._prev=i.from(b),this._mode=l,this._autopadding=!0}function w(){this.cache=i.allocUnsafe(0)}function v(l,f,b){var C=e[l.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof f=="string"&&(f=i.from(f)),f.length!==C.key/8)throw new TypeError("invalid key length "+f.length);if(typeof b=="string"&&(b=i.from(b)),C.mode!=="GCM"&&b.length!==C.iv)throw new TypeError("invalid iv length "+b.length);return C.type==="stream"?new u(C.module,f,b):C.type==="auth"?new o(C.module,f,b):new p(C.module,f,b)}function h(l,f){var b=e[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var C=t(f,!1,b.key,b.iv);return v(l,C.key,C.iv)}var e=m("./modes"),o=m("./authCipher"),i=m("safe-buffer").Buffer,u=m("./streamCipher"),c=m("cipher-base"),s=m("./aes"),t=m("evp_bytestokey"),n=m("inherits");n(p,c),p.prototype._update=function(l){this._cache.add(l);for(var f=[],b,C;b=this._cache.get();)C=this._mode.encrypt(this,b),f.push(C);return i.concat(f)};var a=i.alloc(16,16);p.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return l=this._mode.encrypt(this,l),this._cipher.scrub(),l;if(!l.equals(a))throw this._cipher.scrub(),new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},w.prototype.add=function(l){this.cache=i.concat([this.cache,l])},w.prototype.get=function(){if(15<this.cache.length){var l=this.cache.slice(0,16);return this.cache=this.cache.slice(16),l}return null},w.prototype.flush=function(){for(var l=16-this.cache.length,f=i.allocUnsafe(l),b=-1;++b<l;)f.writeUInt8(l,b);return i.concat([this.cache,f])},k.createCipheriv=v,k.createCipher=h},{"./aes":43,"./authCipher":44,"./modes":56,"./streamCipher":59,"cipher-base":80,evp_bytestokey:124,inherits:147,"safe-buffer":235}],48:[function(m,U,k){function p(o){return[o.readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)]}function w(o){var i=h.allocUnsafe(16);return i.writeUInt32BE(o[0]>>>0,0),i.writeUInt32BE(o[1]>>>0,4),i.writeUInt32BE(o[2]>>>0,8),i.writeUInt32BE(o[3]>>>0,12),i}function v(o){this.h=o,this.state=h.alloc(16,0),this.cache=h.allocUnsafe(0)}var h=m("safe-buffer").Buffer,e=h.alloc(16,0);v.prototype.ghash=function(o){for(var i=-1;++i<o.length;)this.state[i]^=o[i];this._multiply()},v.prototype._multiply=function(){for(var o=p(this.h),i=[0,0,0,0],u=-1,c,s,t;128>++u;){for(s=(this.state[~~(u/8)]&1<<7-u%8)!=0,s&&(i[0]^=o[0],i[1]^=o[1],i[2]^=o[2],i[3]^=o[3]),t=(1&o[3])!=0,c=3;0<c;c--)o[c]=o[c]>>>1|(1&o[c-1])<<31;o[0]>>>=1,t&&(o[0]^=-520093696)}this.state=w(i)},v.prototype.update=function(o){this.cache=h.concat([this.cache,o]);for(var i;16<=this.cache.length;)i=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(i)},v.prototype.final=function(o,i){return this.cache.length&&this.ghash(h.concat([this.cache,e],16)),this.ghash(w([0,o,0,i])),this.state},U.exports=v},{"safe-buffer":235}],49:[function(m,U,k){function p(w){for(var v=w.length,h;v--;)if(h=w.readUInt8(v),h===255)w.writeUInt8(0,v);else{h++,w.writeUInt8(h,v);break}}U.exports=p},{}],50:[function(m,U,k){var p=m("buffer-xor");k.encrypt=function(w,v){var h=p(v,w._prev);return w._prev=w._cipher.encryptBlock(h),w._prev},k.decrypt=function(w,v){var h=w._prev;w._prev=v;var e=w._cipher.decryptBlock(v);return p(e,h)}},{"buffer-xor":75}],51:[function(m,U,k){function p(h,e,o){var i=e.length,u=v(e,h._cache);return h._cache=h._cache.slice(i),h._prev=w.concat([h._prev,o?e:u]),u}var w=m("safe-buffer").Buffer,v=m("buffer-xor");k.encrypt=function(h,e,o){for(var i=w.allocUnsafe(0),u;e.length;)if(h._cache.length===0&&(h._cache=h._cipher.encryptBlock(h._prev),h._prev=w.allocUnsafe(0)),h._cache.length<=e.length)u=h._cache.length,i=w.concat([i,p(h,e.slice(0,u),o)]),e=e.slice(u);else{i=w.concat([i,p(h,e,o)]);break}return i}},{"buffer-xor":75,"safe-buffer":235}],52:[function(m,U,k){function p(h,e,o){for(var i=-1,u=8,c=0,s,t,n;++i<u;)s=h._cipher.encryptBlock(h._prev),t=e&1<<7-i?128:0,n=s[0]^t,c+=(128&n)>>i%8,h._prev=w(h._prev,o?t:n);return c}function w(h,e){var o=h.length,i=-1,u=v.allocUnsafe(h.length);for(h=v.concat([h,v.from([e])]);++i<o;)u[i]=h[i]<<1|h[i+1]>>7;return u}var v=m("safe-buffer").Buffer;k.encrypt=function(h,e,o){for(var i=e.length,u=v.allocUnsafe(i),c=-1;++c<i;)u[c]=p(h,e[c],o);return u}},{"safe-buffer":235}],53:[function(m,U,k){function p(v,h,e){var o=v._cipher.encryptBlock(v._prev),i=o[0]^h;return v._prev=w.concat([v._prev.slice(1),w.from([e?h:i])]),i}var w=m("safe-buffer").Buffer;k.encrypt=function(v,h,e){for(var o=h.length,i=w.allocUnsafe(o),u=-1;++u<o;)i[u]=p(v,h[u],e);return i}},{"safe-buffer":235}],54:[function(m,U,k){function p(o){var i=o._cipher.encryptBlockRaw(o._prev);return h(o._prev),i}var w=m("buffer-xor"),v=m("safe-buffer").Buffer,h=m("../incr32"),e=16;k.encrypt=function(o,i){var u=N(i.length/e),c=o._cache.length;o._cache=v.concat([o._cache,v.allocUnsafe(u*e)]);for(var s=0;s<u;s++){var t=p(o),n=c+s*e;o._cache.writeUInt32BE(t[0],n+0),o._cache.writeUInt32BE(t[1],n+4),o._cache.writeUInt32BE(t[2],n+8),o._cache.writeUInt32BE(t[3],n+12)}var a=o._cache.slice(0,i.length);return o._cache=o._cache.slice(i.length),w(i,a)}},{"../incr32":49,"buffer-xor":75,"safe-buffer":235}],55:[function(m,U,k){k.encrypt=function(p,w){return p._cipher.encryptBlock(w)},k.decrypt=function(p,w){return p._cipher.decryptBlock(w)}},{}],56:[function(m,U,k){var p={ECB:m("./ecb"),CBC:m("./cbc"),CFB:m("./cfb"),CFB8:m("./cfb8"),CFB1:m("./cfb1"),OFB:m("./ofb"),CTR:m("./ctr"),GCM:m("./ctr")},w=m("./list.json");for(var v in w)w[v].module=p[w[v].mode];U.exports=w},{"./cbc":50,"./cfb":51,"./cfb1":52,"./cfb8":53,"./ctr":54,"./ecb":55,"./list.json":57,"./ofb":58}],57:[function(m,U,k){U.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],58:[function(m,U,k){(function(p){(function(){function w(h){return h._prev=h._cipher.encryptBlock(h._prev),h._prev}var v=m("buffer-xor");k.encrypt=function(h,e){for(;h._cache.length<e.length;)h._cache=p.concat([h._cache,w(h)]);var o=h._cache.slice(0,e.length);return h._cache=h._cache.slice(e.length),v(e,o)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"buffer-xor":75}],59:[function(m,U,k){function p(o,i,u,c){h.call(this),this._cipher=new w.AES(i),this._prev=v.from(u),this._cache=v.allocUnsafe(0),this._secCache=v.allocUnsafe(0),this._decrypt=c,this._mode=o}var w=m("./aes"),v=m("safe-buffer").Buffer,h=m("cipher-base"),e=m("inherits");e(p,h),p.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},p.prototype._final=function(){this._cipher.scrub()},U.exports=p},{"./aes":43,"cipher-base":80,inherits:147,"safe-buffer":235}],60:[function(m,U,k){function p(t,n){t=t.toLowerCase();var a,l;if(u[t])a=u[t].key,l=u[t].iv;else if(c[t])a=8*c[t].key,l=c[t].iv;else throw new TypeError("invalid suite type");var f=s(n,!1,a,l);return v(t,f.key,f.iv)}function w(t,n){t=t.toLowerCase();var a,l;if(u[t])a=u[t].key,l=u[t].iv;else if(c[t])a=8*c[t].key,l=c[t].iv;else throw new TypeError("invalid suite type");var f=s(n,!1,a,l);return h(t,f.key,f.iv)}function v(t,n,a){if(t=t.toLowerCase(),u[t])return i.createCipheriv(t,n,a);if(c[t])return new o({key:n,iv:a,mode:t});throw new TypeError("invalid suite type")}function h(t,n,a){if(t=t.toLowerCase(),u[t])return i.createDecipheriv(t,n,a);if(c[t])return new o({key:n,iv:a,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function e(){return Object.keys(c).concat(i.getCiphers())}var o=m("browserify-des"),i=m("browserify-aes/browser"),u=m("browserify-aes/modes"),c=m("browserify-des/modes"),s=m("evp_bytestokey");k.createCipher=k.Cipher=p,k.createCipheriv=k.Cipheriv=v,k.createDecipher=k.Decipher=w,k.createDecipheriv=k.Decipheriv=h,k.listCiphers=k.getCiphers=e},{"browserify-aes/browser":45,"browserify-aes/modes":56,"browserify-des":61,"browserify-des/modes":62,evp_bytestokey:124}],61:[function(m,U,k){function p(i){w.call(this);var u=i.mode.toLowerCase(),c=o[u],s;s=i.decrypt?"decrypt":"encrypt";var t=i.key;e.isBuffer(t)||(t=e.from(t)),(u==="des-ede"||u==="des-ede-cbc")&&(t=e.concat([t,t.slice(0,8)]));var n=i.iv;e.isBuffer(n)||(n=e.from(n)),this._des=c.create({key:t,iv:n,type:s})}var w=m("cipher-base"),v=m("des.js"),h=m("inherits"),e=m("safe-buffer").Buffer,o={"des-ede3-cbc":v.CBC.instantiate(v.EDE),"des-ede3":v.EDE,"des-ede-cbc":v.CBC.instantiate(v.EDE),"des-ede":v.EDE,"des-cbc":v.CBC.instantiate(v.DES),"des-ecb":v.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],U.exports=p,h(p,w),p.prototype._update=function(i){return e.from(this._des.update(i))},p.prototype._final=function(){return e.from(this._des.final())}},{"cipher-base":80,"des.js":93,inherits:147,"safe-buffer":235}],62:[function(m,U,k){k["des-ecb"]={key:8,iv:0},k["des-cbc"]=k.des={key:8,iv:8},k["des-ede3-cbc"]=k.des3={key:24,iv:8},k["des-ede3"]={key:24,iv:0},k["des-ede-cbc"]={key:16,iv:8},k["des-ede"]={key:16,iv:0}},{}],63:[function(m,U,k){(function(p){(function(){function w(i){var u=v(i),c=u.toRed(e.mont(i.modulus)).redPow(new e(i.publicExponent)).fromRed();return{blinder:c,unblinder:u.invm(i.modulus)}}function v(i){var u=i.modulus.byteLength(),c;do c=new e(o(u));while(0<=c.cmp(i.modulus)||!c.umod(i.prime1)||!c.umod(i.prime2));return c}function h(i,u){var c=w(u),s=u.modulus.byteLength(),t=new e(i).mul(c.blinder).umod(u.modulus),n=t.toRed(e.mont(u.prime1)),a=t.toRed(e.mont(u.prime2)),l=u.coefficient,f=u.prime1,b=u.prime2,C=n.redPow(u.exponent1).fromRed(),$=a.redPow(u.exponent2).fromRed(),W=C.isub($).imul(l).umod(f).imul(b);return $.iadd(W).imul(c.unblinder).umod(u.modulus).toArrayLike(p,"be",s)}var e=m("bn.js"),o=m("randombytes");h.getr=v,U.exports=h}).call(this)}).call(this,m("buffer").Buffer)},{"bn.js":40,buffer:76,randombytes:209}],64:[function(m,U,k){U.exports=m("./browser/algorithms.json")},{"./browser/algorithms.json":65}],65:[function(m,U,k){U.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],66:[function(m,U,k){U.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],67:[function(m,U,k){function p(n){i.Writable.call(this);var a=t[n];if(!a)throw new Error("Unknown message digest");this._hashType=a.hash,this._hash=o(a.hash),this._tag=a.id,this._signType=a.sign}function w(n){i.Writable.call(this);var a=t[n];if(!a)throw new Error("Unknown message digest");this._hash=o(a.hash),this._tag=a.id,this._signType=a.sign}function v(n){return new p(n)}function h(n){return new w(n)}var e=m("safe-buffer").Buffer,o=m("create-hash"),i=m("readable-stream"),u=m("inherits"),c=m("./sign"),s=m("./verify"),t=m("./algorithms.json");Object.keys(t).forEach(function(n){t[n].id=e.from(t[n].id,"hex"),t[n.toLowerCase()]=t[n]}),u(p,i.Writable),p.prototype._write=function(a,l,f){this._hash.update(a),f()},p.prototype.update=function(a,l){return typeof a=="string"&&(a=e.from(a,l)),this._hash.update(a),this},p.prototype.sign=function(a,l){this.end();var f=this._hash.digest(),b=c(f,a,this._hashType,this._signType,this._tag);return l?b.toString(l):b},u(w,i.Writable),w.prototype._write=function(a,l,f){this._hash.update(a),f()},w.prototype.update=function(a,l){return typeof a=="string"&&(a=e.from(a,l)),this._hash.update(a),this},w.prototype.verify=function(a,l,f){typeof l=="string"&&(l=e.from(l,f)),this.end();var b=this._hash.digest();return s(l,b,a,this._signType,this._tag)},U.exports={Sign:v,Verify:h,createSign:v,createVerify:h}},{"./algorithms.json":65,"./sign":68,"./verify":69,"create-hash":85,inherits:147,"readable-stream":228,"safe-buffer":235}],68:[function(m,U,k){function p(C,$,W,R,L){var q=f($);if(q.curve){if(R!=="ecdsa"&&R!=="ecdsa/rsa")throw new Error("wrong private key type");return w(C,q)}if(q.type==="dsa"){if(R!=="dsa")throw new Error("wrong private key type");return v(C,q,W)}if(R!=="rsa"&&R!=="ecdsa/rsa")throw new Error("wrong private key type");C=s.concat([L,C]);for(var ee=q.modulus.byteLength(),ae=[0,1];C.length+ae.length+1<ee;)ae.push(255);ae.push(0);for(var fe=-1;++fe<C.length;)ae.push(C[fe]);var Ee=n(ae,q);return Ee}function w(C,$){var W=b[$.curve.join(".")];if(!W)throw new Error("unknown curve "+$.curve.join("."));var R=new a(W),L=R.keyFromPrivate($.privateKey),q=L.sign(C);return s.from(q.toDER())}function v(C,$,W){for(var R=$.params.priv_key,L=$.params.p,q=$.params.q,ee=$.params.g,ae=new l(0),fe=o(C,q).mod(q),Ee=!1,se=e(R,q,C,W),B;Ee===!1;)B=u(q,se,W),ae=c(ee,B,L,q),Ee=B.invm(q).imul(fe.add(R.mul(ae))).mod(q),Ee.cmpn(0)===0&&(Ee=!1,ae=new l(0));return h(ae,Ee)}function h(C,$){C=C.toArray(),$=$.toArray(),128&C[0]&&(C=[0].concat(C)),128&$[0]&&($=[0].concat($));var W=C.length+$.length+4,R=[48,W,2,C.length];return R=R.concat(C,[2,$.length],$),s.from(R)}function e(C,$,W,R){if(C=s.from(C.toArray()),C.length<$.byteLength()){var L=s.alloc($.byteLength()-C.length);C=s.concat([L,C])}var q=W.length,ee=i(W,$),ae=s.alloc(q);ae.fill(1);var fe=s.alloc(q);return fe=t(R,fe).update(ae).update(s.from([0])).update(C).update(ee).digest(),ae=t(R,fe).update(ae).digest(),fe=t(R,fe).update(ae).update(s.from([1])).update(C).update(ee).digest(),ae=t(R,fe).update(ae).digest(),{k:fe,v:ae}}function o(C,$){var W=new l(C),R=(C.length<<3)-$.bitLength();return 0<R&&W.ishrn(R),W}function i(C,$){C=o(C,$),C=C.mod($);var W=s.from(C.toArray());if(W.length<$.byteLength()){var R=s.alloc($.byteLength()-W.length);W=s.concat([R,W])}return W}function u(C,$,W){var R,L;do{for(R=s.alloc(0);8*R.length<C.bitLength();)$.v=t(W,$.k).update($.v).digest(),R=s.concat([R,$.v]);L=o(R,C),$.k=t(W,$.k).update($.v).update(s.from([0])).digest(),$.v=t(W,$.k).update($.v).digest()}while(L.cmp(C)!==-1);return L}function c(C,$,W,R){return C.toRed(l.mont(W)).redPow($).fromRed().mod(R)}var s=m("safe-buffer").Buffer,t=m("create-hmac"),n=m("browserify-rsa"),a=m("elliptic").ec,l=m("bn.js"),f=m("parse-asn1"),b=m("./curves.json");U.exports=p,U.exports.getKey=e,U.exports.makeKey=u},{"./curves.json":66,"bn.js":40,"browserify-rsa":63,"create-hmac":87,elliptic:104,"parse-asn1":183,"safe-buffer":235}],69:[function(m,U,k){function p(s,t,n,a,l){var f=u(n);if(f.type==="ec"){if(a!=="ecdsa"&&a!=="ecdsa/rsa")throw new Error("wrong public key type");return w(s,t,f)}if(f.type==="dsa"){if(a!=="dsa")throw new Error("wrong public key type");return v(s,t,f)}if(a!=="rsa"&&a!=="ecdsa/rsa")throw new Error("wrong public key type");t=e.concat([l,t]);for(var b=f.modulus.byteLength(),C=[1],$=0;t.length+C.length+2<b;)C.push(255),$++;C.push(0);for(var W=-1;++W<t.length;)C.push(t[W]);C=e.from(C);var R=o.mont(f.modulus);s=new o(s).toRed(R),s=s.redPow(new o(f.publicExponent)),s=e.from(s.fromRed().toArray());var L=8>$?1:0;for(b=J(s.length,C.length),s.length!==C.length&&(L=1),W=-1;++W<b;)L|=s[W]^C[W];return L==0}function w(s,t,n){var a=c[n.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var l=new i(a),f=n.data.subjectPrivateKey.data;return l.verify(t,s,f)}function v(s,t,n){var a=n.data.p,l=n.data.q,f=n.data.g,b=n.data.pub_key,C=u.signature.decode(s,"der"),$=C.s,W=C.r;h($,l),h(W,l);var R=o.mont(a),L=$.invm(l),q=f.toRed(R).redPow(new o(t).mul(L).mod(l)).fromRed().mul(b.toRed(R).redPow(W.mul(L).mod(l)).fromRed()).mod(a).mod(l);return q.cmp(W)===0}function h(s,t){if(0>=s.cmpn(0))throw new Error("invalid sig");if(s.cmp(t)>=t)throw new Error("invalid sig")}var e=m("safe-buffer").Buffer,o=m("bn.js"),i=m("elliptic").ec,u=m("parse-asn1"),c=m("./curves.json");U.exports=p},{"./curves.json":66,"bn.js":40,elliptic:104,"parse-asn1":183,"safe-buffer":235}],70:[function(m,U,k){function p(e,o){for(var i in e)o[i]=e[i]}function w(e,o,i){return h(e,o,i)}var v=m("buffer"),h=v.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?U.exports=v:(p(v,k),k.Buffer=w),p(h,w),w.from=function(e,o,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return h(e,o,i)},w.alloc=function(e,o,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var u=h(e);return o===void 0?u.fill(0):typeof i=="string"?u.fill(o,i):u.fill(o),u},w.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return h(e)},w.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return v.SlowBuffer(e)}},{buffer:76}],71:[function(m,U,k){"use strict";function p($){if(!$)return"utf8";for(var W;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(W)return;$=(""+$).toLowerCase(),W=!0}}function w($){var W=p($);if(typeof W!="string"&&(b.isEncoding===C||!C($)))throw new Error("Unknown encoding: "+$);return W||$}function v($){this.encoding=w($);var W;switch(this.encoding){case"utf16le":this.text=s,this.end=t,W=4;break;case"utf8":this.fillLast=i,W=4;break;case"base64":this.text=n,this.end=a,W=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(W)}function h($){return 127>=$?0:$>>5==6?2:$>>4==14?3:$>>3==30?4:$>>6==2?-1:-2}function e($,W,R){var L=W.length-1;if(L<R)return 0;var q=h(W[L]);return 0<=q?(0<q&&($.lastNeed=q-1),q):--L<R||q===-2?0:(q=h(W[L]),0<=q?(0<q&&($.lastNeed=q-2),q):--L<R||q===-2?0:(q=h(W[L]),0<=q?(0<q&&(q===2?q=0:$.lastNeed=q-3),q):0))}function o($,W,R){if((192&W[0])!=128)return $.lastNeed=0,"\uFFFD";if(1<$.lastNeed&&1<W.length){if((192&W[1])!=128)return $.lastNeed=1,"\uFFFD";if(2<$.lastNeed&&2<W.length&&(192&W[2])!=128)return $.lastNeed=2,"\uFFFD"}}function i($){var W=this.lastTotal-this.lastNeed,R=o(this,$,W);return R===void 0?this.lastNeed<=$.length?($.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):($.copy(this.lastChar,W,0,$.length),void(this.lastNeed-=$.length)):R}function u($,W){var R=e(this,$,W);if(!this.lastNeed)return $.toString("utf8",W);this.lastTotal=R;var L=$.length-(R-this.lastNeed);return $.copy(this.lastChar,0,L),$.toString("utf8",W,L)}function c($){var W=$&&$.length?this.write($):"";return this.lastNeed?W+"\uFFFD":W}function s($,W){if(($.length-W)%2==0){var R=$.toString("utf16le",W);if(R){var L=R.charCodeAt(R.length-1);if(55296<=L&&56319>=L)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",W,$.length-1)}function t($){var W=$&&$.length?this.write($):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return W+this.lastChar.toString("utf16le",0,R)}return W}function n($,W){var R=($.length-W)%3;return R==0?$.toString("base64",W):(this.lastNeed=3-R,this.lastTotal=3,R==1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",W,$.length-R))}function a($){var W=$&&$.length?this.write($):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function l($){return $.toString(this.encoding)}function f($){return $&&$.length?this.write($):""}var b=m("safe-buffer").Buffer,C=b.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};k.StringDecoder=v,v.prototype.write=function($){if($.length===0)return"";var W,R;if(this.lastNeed){if(W=this.fillLast($),W===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<$.length?W?W+this.text($,R):this.text($,R):W||""},v.prototype.end=c,v.prototype.text=u,v.prototype.fillLast=function($){return this.lastNeed<=$.length?($.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):($.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),void(this.lastNeed-=$.length))}},{"safe-buffer":70}],72:[function(m,U,k){(function(p){(function(){function w(v){if(typeof v!="number")throw new TypeError('"size" argument must be a number');if(0>v)throw new RangeError('"size" argument must not be negative');return p.allocUnsafe?p.allocUnsafe(v):new p(v)}U.exports=w}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],73:[function(m,U,k){(function(p){(function(){var w=m("buffer-fill"),v=m("buffer-alloc-unsafe");U.exports=function(e,o,i){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative');if(p.alloc)return p.alloc(e,o,i);var u=v(e);return e===0?u:o===void 0?w(u,0):(typeof i!="string"&&(i=void 0),w(u,o,i))}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"buffer-alloc-unsafe":72,"buffer-fill":74}],74:[function(m,U,k){(function(p){(function(){function w(i){return i.length===1&&256>i.charCodeAt(0)}function v(i,u,c,s){if(0>c||s>i.length)throw new RangeError("Out of range index");return c>>>=0,s=s===void 0?i.length:s>>>0,s>c&&i.fill(u,c,s),i}function h(i,u,c,s){if(0>c||s>i.length)throw new RangeError("Out of range index");if(s<=c)return i;c>>>=0,s=s===void 0?i.length:s>>>0;for(var t=c,n=u.length;t<=s-n;)u.copy(i,t),t+=n;return t!==s&&u.copy(i,t,0,s-t),i}function e(i,u,c,s,t){if(o)return i.fill(u,c,s,t);if(typeof u=="number")return v(i,u,c,s);if(typeof u=="string"){if(typeof c=="string"?(t=c,c=0,s=i.length):typeof s=="string"&&(t=s,s=i.length),t!==void 0&&typeof t!="string")throw new TypeError("encoding must be a string");if(t==="latin1"&&(t="binary"),typeof t=="string"&&!p.isEncoding(t))throw new TypeError("Unknown encoding: "+t);if(u==="")return v(i,0,c,s);if(w(u))return v(i,u.charCodeAt(0),c,s);u=new p(u,t)}return p.isBuffer(u)?h(i,u,c,s):v(i,0,c,s)}var o=(function(){try{if(!p.isEncoding("latin1"))return!1;var i=p.alloc?p.alloc(4):new p(4);return i.fill("ab","ucs2"),i.toString("hex")==="61006200"}catch{return!1}})();U.exports=e}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],75:[function(m,U,k){(function(p){(function(){U.exports=function(v,h){for(var e=J(v.length,h.length),o=new p(e),i=0;i<e;++i)o[i]=v[i]^h[i];return o}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],76:[function(m,U,k){(function(p){(function(){"use strict";function w(){try{var G=new Uint8Array(1);return G.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},G.foo()===42}catch{return!1}}function v(G){if(2147483647<G)throw new RangeError('The value "'+G+'" is invalid for option "size"');var te=new Uint8Array(G);return te.__proto__=h.prototype,te}function h(G,te,de){if(typeof G=="number"){if(typeof te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(G)}return e(G,te,de)}function e(G,te,de){if(typeof G=="string")return c(G,te);if(ArrayBuffer.isView(G))return s(G);if(G==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(ut(G,ArrayBuffer)||G&&ut(G.buffer,ArrayBuffer))return t(G,te,de);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _e=G.valueOf&&G.valueOf();if(_e!=null&&_e!==G)return h.from(_e,te,de);var Pe=n(G);if(Pe)return Pe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return h.from(G[Symbol.toPrimitive]("string"),te,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}function o(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(0>G)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function i(G,te,de){return o(G),0>=G||te===void 0?v(G):typeof de=="string"?v(G).fill(te,de):v(G).fill(te)}function u(G){return o(G),v(0>G?0:0|a(G))}function c(G,te){if((typeof te!="string"||te==="")&&(te="utf8"),!h.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var de=0|f(G,te),_e=v(de),Pe=_e.write(G,te);return Pe!==de&&(_e=_e.slice(0,Pe)),_e}function s(G){for(var te=0>G.length?0:0|a(G.length),de=v(te),_e=0;_e<te;_e+=1)de[_e]=255&G[_e];return de}function t(G,te,de){if(0>te||G.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<te+(de||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return _e=te===void 0&&de===void 0?new Uint8Array(G):de===void 0?new Uint8Array(G,te):new Uint8Array(G,te,de),_e.__proto__=h.prototype,_e}function n(G){if(h.isBuffer(G)){var te=0|a(G.length),de=v(te);return de.length===0||G.copy(de,0,0,te),de}return G.length===void 0?G.type==="Buffer"&&Array.isArray(G.data)?s(G.data):void 0:typeof G.length!="number"||Me(G.length)?v(0):s(G)}function a(G){if(G>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|G}function l(G){return+G!=G&&(G=0),h.alloc(+G)}function f(G,te){if(h.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||ut(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);var de=G.length,_e=2<arguments.length&&arguments[2]===!0;if(!_e&&de===0)return 0;for(var Pe=!1;;)switch(te){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return De(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return rt(G).length;default:if(Pe)return _e?-1:De(G).length;te=(""+te).toLowerCase(),Pe=!0}}function b(G,te,de){var _e=!1;if((te===void 0||0>te)&&(te=0),te>this.length||((de===void 0||de>this.length)&&(de=this.length),0>=de)||(de>>>=0,te>>>=0,de<=te))return"";for(G||(G="utf8");;)switch(G){case"hex":return x(this,te,de);case"utf8":case"utf-8":return se(this,te,de);case"ascii":return K(this,te,de);case"latin1":case"binary":return j(this,te,de);case"base64":return Ee(this,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,te,de);default:if(_e)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),_e=!0}}function C(G,te,de){var _e=G[te];G[te]=G[de],G[de]=_e}function $(G,te,de,_e,Pe){if(G.length===0)return-1;if(typeof de=="string"?(_e=de,de=0):2147483647<de?de=2147483647:-2147483648>de&&(de=-2147483648),de=+de,Me(de)&&(de=Pe?0:G.length-1),0>de&&(de=G.length+de),de>=G.length){if(Pe)return-1;de=G.length-1}else if(0>de)if(Pe)de=0;else return-1;if(typeof te=="string"&&(te=h.from(te,_e)),h.isBuffer(te))return te.length===0?-1:W(G,te,de,_e,Pe);if(typeof te=="number")return te&=255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(G,te,de):Uint8Array.prototype.lastIndexOf.call(G,te,de):W(G,[te],de,_e,Pe);throw new TypeError("val must be string, number or Buffer")}function W(G,te,de,_e,Pe){function je(mr,St){return Ue===1?mr[St]:mr.readUInt16BE(St*Ue)}var Ue=1,yt=G.length,mt=te.length;if(_e!==void 0&&(_e=(_e+"").toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(2>G.length||2>te.length)return-1;Ue=2,yt/=2,mt/=2,de/=2}var et;if(Pe){var Dt=-1;for(et=de;et<yt;et++)if(je(G,et)!==je(te,Dt===-1?0:et-Dt))Dt!==-1&&(et-=et-Dt),Dt=-1;else if(Dt===-1&&(Dt=et),et-Dt+1===mt)return Dt*Ue}else for(de+mt>yt&&(de=yt-mt),et=de;0<=et;et--){for(var wt=!0,Lt=0;Lt<mt;Lt++)if(je(G,et+Lt)!==je(te,Lt)){wt=!1;break}if(wt)return et}return-1}function R(G,te,de,_e){de=+de||0;var Pe=G.length-de;_e?(_e=+_e,_e>Pe&&(_e=Pe)):_e=Pe;var je=te.length;_e>je/2&&(_e=je/2);for(var Ue=0,yt;Ue<_e;++Ue){if(yt=parseInt(te.substr(2*Ue,2),16),Me(yt))return Ue;G[de+Ue]=yt}return Ue}function L(G,te,de,_e){return bt(De(te,G.length-de),G,de,_e)}function q(G,te,de,_e){return bt($e(te),G,de,_e)}function ee(G,te,de,_e){return q(G,te,de,_e)}function ae(G,te,de,_e){return bt(rt(te),G,de,_e)}function fe(G,te,de,_e){return bt(Ye(te,G.length-de),G,de,_e)}function Ee(G,te,de){return te===0&&de===G.length?Ge.fromByteArray(G):Ge.fromByteArray(G.slice(te,de))}function se(G,te,de){de=J(G.length,de);for(var _e=[],Pe=te;Pe<de;){var je=G[Pe],Ue=null,yt=239<je?4:223<je?3:191<je?2:1;if(Pe+yt<=de){var mt,et,Dt,wt;yt===1?128>je&&(Ue=je):yt===2?(mt=G[Pe+1],(192&mt)==128&&(wt=(31&je)<<6|63&mt,127<wt&&(Ue=wt))):yt===3?(mt=G[Pe+1],et=G[Pe+2],(192&mt)==128&&(192&et)==128&&(wt=(15&je)<<12|(63&mt)<<6|63&et,2047<wt&&(55296>wt||57343<wt)&&(Ue=wt))):yt===4&&(mt=G[Pe+1],et=G[Pe+2],Dt=G[Pe+3],(192&mt)==128&&(192&et)==128&&(192&Dt)==128&&(wt=(15&je)<<18|(63&mt)<<12|(63&et)<<6|63&Dt,65535<wt&&1114112>wt&&(Ue=wt)))}Ue===null?(Ue=65533,yt=1):65535<Ue&&(Ue-=65536,_e.push(55296|1023&Ue>>>10),Ue=56320|1023&Ue),_e.push(Ue),Pe+=yt}return B(_e)}function B(G){var te=G.length;if(te<=4096)return g.apply(String,G);for(var de="",_e=0;_e<te;)de+=g.apply(String,G.slice(_e,_e+=4096));return de}function K(G,te,de){var _e="";de=J(G.length,de);for(var Pe=te;Pe<de;++Pe)_e+=g(127&G[Pe]);return _e}function j(G,te,de){var _e="";de=J(G.length,de);for(var Pe=te;Pe<de;++Pe)_e+=g(G[Pe]);return _e}function x(G,te,de){var _e=G.length;(!te||0>te)&&(te=0),(!de||0>de||de>_e)&&(de=_e);for(var Pe="",je=te;je<de;++je)Pe+=Ae(G[je]);return Pe}function z(G,te,de){for(var _e=G.slice(te,de),Pe="",je=0;je<_e.length;je+=2)Pe+=g(_e[je]+256*_e[je+1]);return Pe}function Z(G,te,de){if(G%1!=0||0>G)throw new RangeError("offset is not uint");if(G+te>de)throw new RangeError("Trying to access beyond buffer length")}function oe(G,te,de,_e,Pe,je){if(!h.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Pe||te<je)throw new RangeError('"value" argument is out of bounds');if(de+_e>G.length)throw new RangeError("Index out of range")}function Y(G,te,de,_e,Pe,je){if(de+_e>G.length)throw new RangeError("Index out of range");if(0>de)throw new RangeError("Index out of range")}function le(G,te,de,_e,Pe){return te=+te,de>>>=0,Pe||Y(G,te,de,4,34028234663852886e22,-34028234663852886e22),Ze.write(G,te,de,_e,23,4),de+4}function ge(G,te,de,_e,Pe){return te=+te,de>>>=0,Pe||Y(G,te,de,8,17976931348623157e292,-17976931348623157e292),Ze.write(G,te,de,_e,52,8),de+8}function Re(G){if(G=G.split("=")[0],G=G.trim().replace(ue,""),2>G.length)return"";for(;G.length%4!=0;)G+="=";return G}function Ae(G){return 16>G?"0"+G.toString(16):G.toString(16)}function De(G,te){te=te||1/0;for(var de=G.length,_e=null,Pe=[],je=0,Ue;je<de;++je){if(Ue=G.charCodeAt(je),55295<Ue&&57344>Ue){if(!_e){if(56319<Ue){-1<(te-=3)&&Pe.push(239,191,189);continue}else if(je+1===de){-1<(te-=3)&&Pe.push(239,191,189);continue}_e=Ue;continue}if(56320>Ue){-1<(te-=3)&&Pe.push(239,191,189),_e=Ue;continue}Ue=(_e-55296<<10|Ue-56320)+65536}else _e&&-1<(te-=3)&&Pe.push(239,191,189);if(_e=null,128>Ue){if(0>(te-=1))break;Pe.push(Ue)}else if(2048>Ue){if(0>(te-=2))break;Pe.push(192|Ue>>6,128|63&Ue)}else if(65536>Ue){if(0>(te-=3))break;Pe.push(224|Ue>>12,128|63&Ue>>6,128|63&Ue)}else if(1114112>Ue){if(0>(te-=4))break;Pe.push(240|Ue>>18,128|63&Ue>>12,128|63&Ue>>6,128|63&Ue)}else throw new Error("Invalid code point")}return Pe}function $e(G){for(var te=[],de=0;de<G.length;++de)te.push(255&G.charCodeAt(de));return te}function Ye(G,te){for(var de=[],_e=0,Pe,je,Ue;_e<G.length&&!(0>(te-=2));++_e)Pe=G.charCodeAt(_e),je=Pe>>8,Ue=Pe%256,de.push(Ue),de.push(je);return de}function rt(G){return Ge.toByteArray(Re(G))}function bt(G,te,de,_e){for(var Pe=0;Pe<_e&&!(Pe+de>=te.length||Pe>=G.length);++Pe)te[Pe+de]=G[Pe];return Pe}function ut(G,te){return G instanceof te||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===te.name}function Me(G){return G!==G}var Ge=m("base64-js"),Ze=m("ieee754");k.Buffer=h,k.SlowBuffer=l,k.INSPECT_MAX_BYTES=50;var ft=2147483647;k.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=w(),h.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){return h.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){return h.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol!="undefined"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(G,te,de){return e(G,te,de)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(G,te,de){return i(G,te,de)},h.allocUnsafe=function(G){return u(G)},h.allocUnsafeSlow=function(G){return u(G)},h.isBuffer=function(te){return te!=null&&te._isBuffer===!0&&te!==h.prototype},h.compare=function(te,de){if(ut(te,Uint8Array)&&(te=h.from(te,te.offset,te.byteLength)),ut(de,Uint8Array)&&(de=h.from(de,de.offset,de.byteLength)),!h.isBuffer(te)||!h.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===de)return 0;for(var _e=te.length,Pe=de.length,je=0,Ue=J(_e,Pe);je<Ue;++je)if(te[je]!==de[je]){_e=te[je],Pe=de[je];break}return _e<Pe?-1:Pe<_e?1:0},h.isEncoding=function(te){switch((te+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(te,de){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(te.length===0)return h.alloc(0);var _e;if(de===void 0)for(de=0,_e=0;_e<te.length;++_e)de+=te[_e].length;var Pe=h.allocUnsafe(de),je=0;for(_e=0;_e<te.length;++_e){var Ue=te[_e];if(ut(Ue,Uint8Array)&&(Ue=h.from(Ue)),!h.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(Pe,je),je+=Ue.length}return Pe},h.byteLength=f,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<te;de+=2)C(this,de,de+1);return this},h.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<te;de+=4)C(this,de,de+3),C(this,de+1,de+2);return this},h.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<te;de+=8)C(this,de,de+7),C(this,de+1,de+6),C(this,de+2,de+5),C(this,de+3,de+4);return this},h.prototype.toString=function(){var te=this.length;return te===0?"":arguments.length===0?se(this,0,te):b.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(te){if(!h.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||h.compare(this,te)===0},h.prototype.inspect=function(){var te="",de=k.INSPECT_MAX_BYTES;return te=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(te+=" ... "),"<Buffer "+te+">"},h.prototype.compare=function(te,de,_e,Pe,je){if(ut(te,Uint8Array)&&(te=h.from(te,te.offset,te.byteLength)),!h.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof te);if(de===void 0&&(de=0),_e===void 0&&(_e=te?te.length:0),Pe===void 0&&(Pe=0),je===void 0&&(je=this.length),0>de||_e>te.length||0>Pe||je>this.length)throw new RangeError("out of range index");if(Pe>=je&&de>=_e)return 0;if(Pe>=je)return-1;if(de>=_e)return 1;if(de>>>=0,_e>>>=0,Pe>>>=0,je>>>=0,this===te)return 0;for(var Ue=je-Pe,yt=_e-de,mt=J(Ue,yt),et=this.slice(Pe,je),Dt=te.slice(de,_e),wt=0;wt<mt;++wt)if(et[wt]!==Dt[wt]){Ue=et[wt],yt=Dt[wt];break}return Ue<yt?-1:yt<Ue?1:0},h.prototype.includes=function(te,de,_e){return this.indexOf(te,de,_e)!==-1},h.prototype.indexOf=function(te,de,_e){return $(this,te,de,_e,!0)},h.prototype.lastIndexOf=function(te,de,_e){return $(this,te,de,_e,!1)},h.prototype.write=function(te,de,_e,Pe){if(de===void 0)Pe="utf8",_e=this.length,de=0;else if(_e===void 0&&typeof de=="string")Pe=de,_e=this.length,de=0;else if(isFinite(de))de>>>=0,isFinite(_e)?(_e>>>=0,Pe===void 0&&(Pe="utf8")):(Pe=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var je=this.length-de;if((_e===void 0||_e>je)&&(_e=je),0<te.length&&(0>_e||0>de)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");for(var Ue=!1;;)switch(Pe){case"hex":return R(this,te,de,_e);case"utf8":case"utf-8":return L(this,te,de,_e);case"ascii":return q(this,te,de,_e);case"latin1":case"binary":return ee(this,te,de,_e);case"base64":return ae(this,te,de,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,te,de,_e);default:if(Ue)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),Ue=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Mt=4096;h.prototype.slice=function(te,de){var _e=this.length;te=~~te,de=de===void 0?_e:~~de,0>te?(te+=_e,0>te&&(te=0)):te>_e&&(te=_e),0>de?(de+=_e,0>de&&(de=0)):de>_e&&(de=_e),de<te&&(de=te);var Pe=this.subarray(te,de);return Pe.__proto__=h.prototype,Pe},h.prototype.readUIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=this[te],je=1,Ue=0;++Ue<de&&(je*=256);)Pe+=this[te+Ue]*je;return Pe},h.prototype.readUIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=this[te+--de],je=1;0<de&&(je*=256);)Pe+=this[te+--de]*je;return Pe},h.prototype.readUInt8=function(te,de){return te>>>=0,de||Z(te,1,this.length),this[te]},h.prototype.readUInt16LE=function(te,de){return te>>>=0,de||Z(te,2,this.length),this[te]|this[te+1]<<8},h.prototype.readUInt16BE=function(te,de){return te>>>=0,de||Z(te,2,this.length),this[te]<<8|this[te+1]},h.prototype.readUInt32LE=function(te,de){return te>>>=0,de||Z(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},h.prototype.readUInt32BE=function(te,de){return te>>>=0,de||Z(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},h.prototype.readIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=this[te],je=1,Ue=0;++Ue<de&&(je*=256);)Pe+=this[te+Ue]*je;return je*=128,Pe>=je&&(Pe-=A(2,8*de)),Pe},h.prototype.readIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=de,je=1,Ue=this[te+--Pe];0<Pe&&(je*=256);)Ue+=this[te+--Pe]*je;return je*=128,Ue>=je&&(Ue-=A(2,8*de)),Ue},h.prototype.readInt8=function(te,de){return te>>>=0,de||Z(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},h.prototype.readInt16LE=function(te,de){te>>>=0,de||Z(te,2,this.length);var _e=this[te]|this[te+1]<<8;return 32768&_e?4294901760|_e:_e},h.prototype.readInt16BE=function(te,de){te>>>=0,de||Z(te,2,this.length);var _e=this[te+1]|this[te]<<8;return 32768&_e?4294901760|_e:_e},h.prototype.readInt32LE=function(te,de){return te>>>=0,de||Z(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},h.prototype.readInt32BE=function(te,de){return te>>>=0,de||Z(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},h.prototype.readFloatLE=function(te,de){return te>>>=0,de||Z(te,4,this.length),Ze.read(this,te,!0,23,4)},h.prototype.readFloatBE=function(te,de){return te>>>=0,de||Z(te,4,this.length),Ze.read(this,te,!1,23,4)},h.prototype.readDoubleLE=function(te,de){return te>>>=0,de||Z(te,8,this.length),Ze.read(this,te,!0,52,8)},h.prototype.readDoubleBE=function(te,de){return te>>>=0,de||Z(te,8,this.length),Ze.read(this,te,!1,52,8)},h.prototype.writeUIntLE=function(te,de,_e,Pe){if(te=+te,de>>>=0,_e>>>=0,!Pe){var je=A(2,8*_e)-1;oe(this,te,de,_e,je,0)}var Ue=1,yt=0;for(this[de]=255&te;++yt<_e&&(Ue*=256);)this[de+yt]=255&te/Ue;return de+_e},h.prototype.writeUIntBE=function(te,de,_e,Pe){if(te=+te,de>>>=0,_e>>>=0,!Pe){var je=A(2,8*_e)-1;oe(this,te,de,_e,je,0)}var Ue=_e-1,yt=1;for(this[de+Ue]=255&te;0<=--Ue&&(yt*=256);)this[de+Ue]=255&te/yt;return de+_e},h.prototype.writeUInt8=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,1,255,0),this[de]=255&te,de+1},h.prototype.writeUInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,65535,0),this[de]=255&te,this[de+1]=te>>>8,de+2},h.prototype.writeUInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,65535,0),this[de]=te>>>8,this[de+1]=255&te,de+2},h.prototype.writeUInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,4294967295,0),this[de+3]=te>>>24,this[de+2]=te>>>16,this[de+1]=te>>>8,this[de]=255&te,de+4},h.prototype.writeUInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,4294967295,0),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},h.prototype.writeIntLE=function(te,de,_e,Pe){if(te=+te,de>>>=0,!Pe){var je=A(2,8*_e-1);oe(this,te,de,_e,je-1,-je)}var Ue=0,yt=1,mt=0;for(this[de]=255&te;++Ue<_e&&(yt*=256);)0>te&&mt===0&&this[de+Ue-1]!==0&&(mt=1),this[de+Ue]=255&(te/yt>>0)-mt;return de+_e},h.prototype.writeIntBE=function(te,de,_e,Pe){if(te=+te,de>>>=0,!Pe){var je=A(2,8*_e-1);oe(this,te,de,_e,je-1,-je)}var Ue=_e-1,yt=1,mt=0;for(this[de+Ue]=255&te;0<=--Ue&&(yt*=256);)0>te&&mt===0&&this[de+Ue+1]!==0&&(mt=1),this[de+Ue]=255&(te/yt>>0)-mt;return de+_e},h.prototype.writeInt8=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,1,127,-128),0>te&&(te=255+te+1),this[de]=255&te,de+1},h.prototype.writeInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,32767,-32768),this[de]=255&te,this[de+1]=te>>>8,de+2},h.prototype.writeInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,32767,-32768),this[de]=te>>>8,this[de+1]=255&te,de+2},h.prototype.writeInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,2147483647,-2147483648),this[de]=255&te,this[de+1]=te>>>8,this[de+2]=te>>>16,this[de+3]=te>>>24,de+4},h.prototype.writeInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,2147483647,-2147483648),0>te&&(te=4294967295+te+1),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},h.prototype.writeFloatLE=function(te,de,_e){return le(this,te,de,!0,_e)},h.prototype.writeFloatBE=function(te,de,_e){return le(this,te,de,!1,_e)},h.prototype.writeDoubleLE=function(te,de,_e){return ge(this,te,de,!0,_e)},h.prototype.writeDoubleBE=function(te,de,_e){return ge(this,te,de,!1,_e)},h.prototype.copy=function(te,de,_e,Pe){if(!h.isBuffer(te))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),Pe||Pe===0||(Pe=this.length),de>=te.length&&(de=te.length),de||(de=0),0<Pe&&Pe<_e&&(Pe=_e),Pe===_e||te.length===0||this.length===0)return 0;if(0>de)throw new RangeError("targetStart out of bounds");if(0>_e||_e>=this.length)throw new RangeError("Index out of range");if(0>Pe)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),te.length-de<Pe-_e&&(Pe=te.length-de+_e);var je=Pe-_e;if(this===te&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(de,_e,Pe);else if(this===te&&_e<de&&de<Pe)for(var Ue=je-1;0<=Ue;--Ue)te[Ue+de]=this[Ue+_e];else Uint8Array.prototype.set.call(te,this.subarray(_e,Pe),de);return je},h.prototype.fill=function(te,de,_e,Pe){if(typeof te=="string"){if(typeof de=="string"?(Pe=de,de=0,_e=this.length):typeof _e=="string"&&(Pe=_e,_e=this.length),Pe!==void 0&&typeof Pe!="string")throw new TypeError("encoding must be a string");if(typeof Pe=="string"&&!h.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);if(te.length===1){var je=te.charCodeAt(0);(Pe==="utf8"&&128>je||Pe==="latin1")&&(te=je)}}else typeof te=="number"&&(te&=255);if(0>de||this.length<de||this.length<_e)throw new RangeError("Out of range index");if(_e<=de)return this;de>>>=0,_e=_e===void 0?this.length:_e>>>0,te||(te=0);var Ue;if(typeof te=="number")for(Ue=de;Ue<_e;++Ue)this[Ue]=te;else{var yt=h.isBuffer(te)?te:h.from(te,Pe),mt=yt.length;if(mt===0)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Ue=0;Ue<_e-de;++Ue)this[Ue+de]=yt[Ue%mt]}return this};var ue=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,m("buffer").Buffer)},{"base64-js":23,buffer:76,ieee754:145}],77:[function(m,U,k){U.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],78:[function(m,U,k){let p=m("lru"),w=m("queue-microtask");class v{constructor(e,o){if(this.store=e,this.chunkLength=e.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new p(o)}put(e,o,i=()=>{}){return this.cache?(this.cache.remove(e),void this.store.put(e,o,i)):w(()=>i(new Error("CacheStore closed")))}get(e,o,i=()=>{}){if(typeof o=="function")return this.get(e,null,o);if(!this.cache)return w(()=>i(new Error("CacheStore closed")));o||(o={});let u=this.cache.get(e);if(u){let t=o.offset||0,n=o.length||u.length-t;return(t!==0||n!==u.length)&&(u=u.slice(t,n+t)),w(()=>i(null,u))}let c=this.inProgressGets.get(e),s=!!c;c||(c=[],this.inProgressGets.set(e,c)),c.push({opts:o,cb:i}),s||this.store.get(e,(t,n)=>{t||this.cache==null||this.cache.set(e,n);let a=this.inProgressGets.get(e);this.inProgressGets.delete(e);for(let{opts:l,cb:f}of a)if(t)f(t);else{let b=l.offset||0,C=l.length||n.length-b,$=n;(b!==0||C!==n.length)&&($=n.slice(b,C+b)),f(null,$)}})}close(e=()=>{}){return this.cache?(this.cache=null,void this.store.close(e)):w(()=>e(new Error("CacheStore closed")))}destroy(e=()=>{}){return this.cache?(this.cache=null,void this.store.destroy(e)):w(()=>e(new Error("CacheStore closed")))}}U.exports=v},{lru:156,"queue-microtask":206}],79:[function(m,U,k){let p=m("block-stream2"),w=m("readable-stream");class v extends w.Writable{constructor(e,o,i={}){if(super(i),!e||!e.put||!e.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(o=+o,!o)throw new Error("Second argument must be a chunk length");let u=i.zeroPadding!==void 0&&i.zeroPadding;this._blockstream=new p(o,{...i,zeroPadding:u}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=i.storeMaxOutstandingPuts||16;let c=0,s=t=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),e.put(c,t,n=>n?this.destroy(n):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(this._outstandingPuts===0&&typeof this._finalCb=="function"&&(this._finalCb(null),this._finalCb=null)))),c+=1)};this._blockstream.on("data",s).on("error",t=>{this.destroy(t)})}_write(e,o,i){this._blockstream.write(e,o,i)}_final(e){this._blockstream.end(),this._blockstream.once("end",()=>{this._outstandingPuts===0?e(null):this._finalCb=e})}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this.emit("close"))}}U.exports=v},{"block-stream2":39,"readable-stream":228}],80:[function(m,U,k){function p(o){v.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var w=m("safe-buffer").Buffer,v=m("stream").Transform,h=m("string_decoder").StringDecoder,e=m("inherits");e(p,v),p.prototype.update=function(o,i,u){typeof o=="string"&&(o=w.from(o,i));var c=this._update(o);return this.hashMode?this:(u&&(c=this._toString(c,u)),c)},p.prototype.setAutoPadding=function(){},p.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},p.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},p.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},p.prototype._transform=function(o,i,u){var c;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(s){c=s}finally{u(c)}},p.prototype._flush=function(o){var i;try{this.push(this.__final())}catch(u){i=u}o(i)},p.prototype._finalOrDigest=function(o){var i=this.__final()||w.alloc(0);return o&&(i=this._toString(i,o,!0)),i},p.prototype._toString=function(o,i,u){if(this._decoder||(this._decoder=new h(i),this._encoding=i),this._encoding!==i)throw new Error("can't switch encodings");var c=this._decoder.write(o);return u&&(c+=this._decoder.end()),c},U.exports=p},{inherits:147,"safe-buffer":235,stream:256,string_decoder:71}],81:[function(m,U,k){(function(p){(function(){var w=(function(){"use strict";function v(a,l){return l!=null&&a instanceof l}function h(a,l,f,b,C){function $(q,ee){if(q===null)return null;if(ee===0)return q;var ae,fe;if(typeof q!="object")return q;if(v(q,s))ae=new s;else if(v(q,t))ae=new t;else if(v(q,n))ae=new n(function(oe,Y){q.then(function(le){oe($(le,ee-1))},function(le){Y($(le,ee-1))})});else if(h.__isArray(q))ae=[];else if(h.__isRegExp(q))ae=new RegExp(q.source,c(q)),q.lastIndex&&(ae.lastIndex=q.lastIndex);else if(h.__isDate(q))ae=new Date(q.getTime());else{if(L&&p.isBuffer(q))return ae=p.allocUnsafe?p.allocUnsafe(q.length):new p(q.length),q.copy(ae),ae;v(q,Error)?ae=Object.create(q):typeof b=="undefined"?(fe=Object.getPrototypeOf(q),ae=Object.create(fe)):(ae=Object.create(b),fe=b)}if(l){var Ee=W.indexOf(q);if(Ee!=-1)return R[Ee];W.push(q),R.push(ae)}for(var se in v(q,s)&&q.forEach(function(oe,Y){var le=$(Y,ee-1),ge=$(oe,ee-1);ae.set(le,ge)}),v(q,t)&&q.forEach(function(oe){var Y=$(oe,ee-1);ae.add(Y)}),q){var B;fe&&(B=Object.getOwnPropertyDescriptor(fe,se)),!(B&&B.set==null)&&(ae[se]=$(q[se],ee-1))}if(Object.getOwnPropertySymbols)for(var K=Object.getOwnPropertySymbols(q),se=0;se<K.length;se++){var j=K[se],x=Object.getOwnPropertyDescriptor(q,j);(!x||x.enumerable||C)&&(ae[j]=$(q[j],ee-1),x.enumerable||Object.defineProperty(ae,j,{enumerable:!1}))}if(C)for(var z=Object.getOwnPropertyNames(q),se=0;se<z.length;se++){var Z=z[se],x=Object.getOwnPropertyDescriptor(q,Z);x&&x.enumerable||(ae[Z]=$(q[Z],ee-1),Object.defineProperty(ae,Z,{enumerable:!1}))}return ae}typeof l=="object"&&(f=l.depth,b=l.prototype,C=l.includeNonEnumerable,l=l.circular);var W=[],R=[],L=typeof p!="undefined";return typeof l=="undefined"&&(l=!0),typeof f=="undefined"&&(f=1/0),$(a,f)}function e(a){return Object.prototype.toString.call(a)}function o(a){return typeof a=="object"&&e(a)==="[object Date]"}function i(a){return typeof a=="object"&&e(a)==="[object Array]"}function u(a){return typeof a=="object"&&e(a)==="[object RegExp]"}function c(a){var l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),l}var s;try{s=Map}catch{s=function(){}}var t;try{t=Set}catch{t=function(){}}var n;try{n=Promise}catch{n=function(){}}return h.clonePrototype=function(l){if(l===null)return null;var f=function(){};return f.prototype=l,new f},h.__objToStr=e,h.__isDate=o,h.__isArray=i,h.__isRegExp=u,h.__getRegExpFlags=c,h})();typeof U=="object"&&U.exports&&(U.exports=w)}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],82:[function(m,U,k){U.exports=function(){for(var w=navigator.hardwareConcurrency||1,v=[],h=0;h<w;h++)v.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return v}},{}],83:[function(m,U,k){(function(p){(function(){function w(i){this.curveType=o[i],this.curveType||(this.curveType={name:i}),this.curve=new h.ec(this.curveType.name),this.keys=void 0}function v(i,u,c){Array.isArray(i)||(i=i.toArray());var s=new p(i);if(c&&s.length<c){var t=new p(c-s.length);t.fill(0),s=p.concat([t,s])}return u?s.toString(u):s}var h=m("elliptic"),e=m("bn.js");U.exports=function(u){return new w(u)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,w.prototype.generateKeys=function(i,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,u)},w.prototype.computeSecret=function(i,u,c){u=u||"utf8",p.isBuffer(i)||(i=new p(i,u));var s=this.curve.keyFromPublic(i).getPublic(),t=s.mul(this.keys.getPrivate()).getX();return v(t,c,this.curveType.byteLength)},w.prototype.getPublicKey=function(i,u){var c=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),v(c,i)},w.prototype.getPrivateKey=function(i){return v(this.keys.getPrivate(),i)},w.prototype.setPublicKey=function(i,u){return u=u||"utf8",p.isBuffer(i)||(i=new p(i,u)),this.keys._importPublic(i),this},w.prototype.setPrivateKey=function(i,u){u=u||"utf8",p.isBuffer(i)||(i=new p(i,u));var c=new e(i);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this}}).call(this)}).call(this,m("buffer").Buffer)},{"bn.js":84,buffer:76,elliptic:104}],84:[function(m,U,k){arguments[4][22][0].apply(k,arguments)},{buffer:42,dup:22}],85:[function(m,U,k){"use strict";function p(i){o.call(this,"digest"),this._hash=i}var w=m("inherits"),v=m("md5.js"),h=m("ripemd160"),e=m("sha.js"),o=m("cipher-base");w(p,o),p.prototype._update=function(i){this._hash.update(i)},p.prototype._final=function(){return this._hash.digest()},U.exports=function(u){return u=u.toLowerCase(),u==="md5"?new v:u==="rmd160"||u==="ripemd160"?new h:new p(e(u))}},{"cipher-base":80,inherits:147,"md5.js":159,ripemd160:231,"sha.js":238}],86:[function(m,U,k){var p=m("md5.js");U.exports=function(w){return new p().update(w).digest()}},{"md5.js":159}],87:[function(m,U,k){"use strict";function p(s,t){h.call(this,"digest"),typeof t=="string"&&(t=e.from(t));var n=s==="sha512"||s==="sha384"?128:64;if(this._alg=s,this._key=t,t.length>n){var a=s==="rmd160"?new i:u(s);t=a.update(t).digest()}else t.length<n&&(t=e.concat([t,c],n));for(var l=this._ipad=e.allocUnsafe(n),f=this._opad=e.allocUnsafe(n),b=0;b<n;b++)l[b]=54^t[b],f[b]=92^t[b];this._hash=s==="rmd160"?new i:u(s),this._hash.update(l)}var w=m("inherits"),v=m("./legacy"),h=m("cipher-base"),e=m("safe-buffer").Buffer,o=m("create-hash/md5"),i=m("ripemd160"),u=m("sha.js"),c=e.alloc(128);w(p,h),p.prototype._update=function(s){this._hash.update(s)},p.prototype._final=function(){var s=this._hash.digest(),t=this._alg==="rmd160"?new i:u(this._alg);return t.update(this._opad).update(s).digest()},U.exports=function(t,n){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new p("rmd160",n):t==="md5"?new v(o,n):new p(t,n)}},{"./legacy":88,"cipher-base":80,"create-hash/md5":86,inherits:147,ripemd160:231,"safe-buffer":235,"sha.js":238}],88:[function(m,U,k){"use strict";function p(i,u){h.call(this,"digest"),typeof u=="string"&&(u=v.from(u)),this._alg=i,this._key=u,u.length>64?u=i(u):u.length<64&&(u=v.concat([u,e],64));for(var c=this._ipad=v.allocUnsafe(64),s=this._opad=v.allocUnsafe(64),t=0;t<64;t++)c[t]=54^u[t],s[t]=92^u[t];this._hash=[c]}var w=m("inherits"),v=m("safe-buffer").Buffer,h=m("cipher-base"),e=v.alloc(128),o=64;w(p,h),p.prototype._update=function(i){this._hash.push(i)},p.prototype._final=function(){var i=this._alg(v.concat(this._hash));return this._alg(v.concat([this._opad,i]))},U.exports=p},{"cipher-base":80,inherits:147,"safe-buffer":235}],89:[function(m,U,k){(function(p){(function(){function w(se,B,K){typeof B=="function"&&([B,K]=[K,B]),B=B?Object.assign({},B):{},h(se,B,(j,x,z)=>j?K(j):(B.singleFileTorrent=z,void o(x,B,K)))}function v(se,B,K){typeof B=="function"&&([B,K]=[K,B]),B=B?Object.assign({},B):{},h(se,B,K)}function h(se,B,K){function j(){R(se.map(Y=>le=>{let ge={};if(c(Y))ge.getStream=Y.stream(),ge.length=Y.size;else if(p.isBuffer(Y))ge.getStream=[Y],ge.length=Y.length;else if(t(Y))ge.getStream=n(Y,ge),ge.length=0;else{if(typeof Y=="string"){if(typeof ee!="function")throw new Error("filesystem paths do not work in the browser");let Re=1<Z||oe;return void ee(Y,Re,le)}throw new Error("invalid input type")}ge.path=Y[fe],le(null,ge)}),(Y,le)=>Y?K(Y):(le=le.flat(),void K(null,le,oe)))}if(s(se)&&(se=Array.from(se)),Array.isArray(se)||(se=[se]),se.length===0)throw new Error("invalid input type");se.forEach(Y=>{if(Y==null)throw new Error(`invalid input type: ${Y}`)}),se=se.map(Y=>c(Y)&&typeof Y.path=="string"&&typeof ee=="function"?Y.path:Y),se.length!==1||typeof se[0]=="string"||se[0].name||(se[0].name=B.name);let x=null;se.forEach((Y,le)=>{if(typeof Y=="string")return;let ge=Y.fullPath||Y.name;ge||(ge=`Unknown File ${le+1}`,Y.unknownName=!0),Y[fe]=ge.split("/"),Y[fe][0]||Y[fe].shift(),2>Y[fe].length?x=null:le===0&&1<se.length?x=Y[fe][0]:Y[fe][0]!==x&&(x=null)}),(B.filterJunkFiles===void 0||B.filterJunkFiles)&&(se=se.filter(Y=>typeof Y=="string"||!i(Y[fe]))),x&&se.forEach(Y=>{let le=(p.isBuffer(Y)||t(Y))&&!Y[fe];typeof Y=="string"||le||Y[fe].shift()}),!B.name&&x&&(B.name=x),B.name||se.some(Y=>typeof Y=="string"?(B.name=b.basename(Y),!0):!Y.unknownName&&(B.name=Y[fe][Y[fe].length-1],!0)),B.name||(B.name=`Unnamed Torrent ${Date.now()}`);let Z=se.reduce((Y,le)=>Y+ +(typeof le=="string"),0),oe=se.length===1;if(se.length===1&&typeof se[0]=="string"){if(typeof ee!="function")throw new Error("filesystem paths do not work in the browser");C(se[0],(Y,le)=>Y?K(Y):(oe=le,void j()))}else L(j)}async function e(se,B,K,j,x){let z=[],Z=0,oe=0,Y=se.map($e=>$e.getStream),le=j.onProgress,ge=0,Re=0,Ae=!1,De=l(W(Y),B,{zeroPadding:!1});try{for await(let $e of De)await new Promise(Ye=>{Z+=$e.length;let rt=Re;++Re,++ge<Ee&&Ye(),q($e,bt=>{z[rt]=bt,--ge,oe+=$e.length,le&&le(oe,K),Ye(),Ae&&ge==0&&x(null,p.from(z.join(""),"hex"),Z)})});if(ge==0)return x(null,p.from(z.join(""),"hex"),Z);Ae=!0}catch($e){x($e)}}function o(se,B,K){let j=B.announceList;j||(typeof B.announce=="string"?j=[[B.announce]]:Array.isArray(B.announce)&&(j=B.announce.map(oe=>[oe]))),j||(j=[]),globalThis.WEBTORRENT_ANNOUNCE&&(typeof globalThis.WEBTORRENT_ANNOUNCE=="string"?j.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(j=j.concat(globalThis.WEBTORRENT_ANNOUNCE.map(oe=>[oe])))),B.announce===void 0&&B.announceList===void 0&&(j=j.concat(U.exports.announceList)),typeof B.urlList=="string"&&(B.urlList=[B.urlList]);let x={info:{name:B.name},"creation date":N((+B.creationDate||Date.now())/1e3),encoding:"UTF-8"};j.length!==0&&(x.announce=j[0][0],x["announce-list"]=j),B.comment!==void 0&&(x.comment=B.comment),B.createdBy!==void 0&&(x["created by"]=B.createdBy),B.private!==void 0&&(x.info.private=+B.private),B.info!==void 0&&Object.assign(x.info,B.info),B.sslCert!==void 0&&(x.info["ssl-cert"]=B.sslCert),B.urlList!==void 0&&(x["url-list"]=B.urlList);let z=se.reduce(u,0),Z=B.pieceLength||f(z);x.info["piece length"]=Z,e(se,Z,z,B,(oe,Y,le)=>oe?K(oe):(x.info.pieces=Y,se.forEach(ge=>{delete ge.getStream}),B.singleFileTorrent?x.info.length=le:x.info.files=se,void K(null,a.encode(x))))}function i(se){let B=se[se.length-1];return B[0]==="."&&$.is(B)}function u(se,B){return se+B.length}function c(se){return typeof Blob!="undefined"&&se instanceof Blob}function s(se){return typeof FileList!="undefined"&&se instanceof FileList}function t(se){return typeof se=="object"&&se!=null&&typeof se.pipe=="function"}async function*n(se,B){for await(let K of se)B.length+=K.length,yield K}let a=m("bencode"),l=m("block-iterator"),f=m("piece-length"),b=m("path"),C=m("is-file"),$=m("junk"),W=m("join-async-iterator"),R=m("run-parallel"),L=m("queue-microtask"),q=m("simple-sha1");m("fast-readable-async-iterator");let ee=m("./get-files"),ae=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],fe=Symbol("itemPath"),Ee=5;U.exports=w,U.exports.parseInput=v,U.exports.announceList=ae,U.exports.isJunkPath=i}).call(this)}).call(this,m("buffer").Buffer)},{"./get-files":42,bencode:27,"block-iterator":38,buffer:76,"fast-readable-async-iterator":128,"is-file":42,"join-async-iterator":150,junk:151,path:185,"piece-length":192,"queue-microtask":206,"run-parallel":233,"simple-sha1":248}],90:[function(m,U,k){"use strict";k.randomBytes=k.rng=k.pseudoRandomBytes=k.prng=m("randombytes"),k.createHash=k.Hash=m("create-hash"),k.createHmac=k.Hmac=m("create-hmac");var p=m("browserify-sign/algos"),w=Object.keys(p),v=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(w);k.getHashes=function(){return v};var h=m("pbkdf2");k.pbkdf2=h.pbkdf2,k.pbkdf2Sync=h.pbkdf2Sync;var e=m("browserify-cipher");k.Cipher=e.Cipher,k.createCipher=e.createCipher,k.Cipheriv=e.Cipheriv,k.createCipheriv=e.createCipheriv,k.Decipher=e.Decipher,k.createDecipher=e.createDecipher,k.Decipheriv=e.Decipheriv,k.createDecipheriv=e.createDecipheriv,k.getCiphers=e.getCiphers,k.listCiphers=e.listCiphers;var o=m("diffie-hellman");k.DiffieHellmanGroup=o.DiffieHellmanGroup,k.createDiffieHellmanGroup=o.createDiffieHellmanGroup,k.getDiffieHellman=o.getDiffieHellman,k.createDiffieHellman=o.createDiffieHellman,k.DiffieHellman=o.DiffieHellman;var i=m("browserify-sign");k.createSign=i.createSign,k.Sign=i.Sign,k.createVerify=i.createVerify,k.Verify=i.Verify,k.createECDH=m("create-ecdh");var u=m("public-encrypt");k.publicEncrypt=u.publicEncrypt,k.privateEncrypt=u.privateEncrypt,k.publicDecrypt=u.publicDecrypt,k.privateDecrypt=u.privateDecrypt;var c=m("randomfill");k.randomFill=c.randomFill,k.randomFillSync=c.randomFillSync,k.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/crypto-browserify/crypto-browserify`)},k.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":60,"browserify-sign":67,"browserify-sign/algos":64,"create-ecdh":83,"create-hash":85,"create-hmac":87,"diffie-hellman":99,pbkdf2:186,"public-encrypt":194,randombytes:209,randomfill:210}],91:[function(m,U,k){(function(p){(function(){function w(){return!!(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function v(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+U.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;u.splice(1,0,c,"color: inherit");let s=0,t=0;u[0].replace(/%[a-zA-Z%]/g,n=>{n==="%%"||(s++,n==="%c"&&(t=s))}),u.splice(t,0,c)}function h(u){try{u?k.storage.setItem("debug",u):k.storage.removeItem("debug")}catch{}}function e(){let u;try{u=k.storage.getItem("debug")}catch{}return!u&&typeof p!="undefined"&&"env"in p&&(u=p.env.DEBUG),u}function o(){try{return localStorage}catch{}}k.formatArgs=v,k.save=h,k.load=e,k.useColors=w,k.storage=o(),k.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),k.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],k.log=console.debug||console.log||(()=>{}),U.exports=m("./common")(k);let{formatters:i}=U.exports;i.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,m("_process"))},{"./common":92,_process:193}],92:[function(m,U,k){function p(w){function v(n){let a=0;for(let l=0;l<n.length;l++)a=(a<<5)-a+n.charCodeAt(l),a|=0;return h.colors[O(a)%h.colors.length]}function h(n){function a(...$){if(!a.enabled)return;let W=a,R=+new Date,L=R-(f||R);W.diff=L,W.prev=f,W.curr=R,f=R,$[0]=h.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");let q=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,(ae,fe)=>{if(ae==="%%")return"%";q++;let Ee=h.formatters[fe];if(typeof Ee=="function"){let se=$[q];ae=Ee.call(W,se),$.splice(q,1),q--}return ae}),h.formatArgs.call(W,$),(W.log||h.log).apply(W,$)}let l=null,f,b,C;return a.namespace=n,a.useColors=h.useColors(),a.color=h.selectColor(n),a.extend=e,a.destroy=h.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>l===null?(b!==h.namespaces&&(b=h.namespaces,C=h.enabled(n)),C):l,set:$=>{l=$}}),typeof h.init=="function"&&h.init(a),a}function e(n,a){let l=h(this.namespace+(typeof a=="undefined"?":":a)+n);return l.log=this.log,l}function o(n){h.save(n),h.namespaces=n,h.names=[],h.skips=[];let a,l=(typeof n=="string"?n:"").split(/[\s,]+/),f=l.length;for(a=0;a<f;a++)l[a]&&(n=l[a].replace(/\*/g,".*?"),n[0]==="-"?h.skips.push(new RegExp("^"+n.slice(1)+"$")):h.names.push(new RegExp("^"+n+"$")))}function i(){let n=[...h.names.map(c),...h.skips.map(c).map(a=>"-"+a)].join(",");return h.enable(""),n}function u(n){if(n[n.length-1]==="*")return!0;let a,l;for(a=0,l=h.skips.length;a<l;a++)if(h.skips[a].test(n))return!1;for(a=0,l=h.names.length;a<l;a++)if(h.names[a].test(n))return!0;return!1}function c(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,"*")}function s(n){return n instanceof Error?n.stack||n.message:n}function t(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return h.debug=h,h.default=h,h.coerce=s,h.disable=i,h.enable=o,h.enabled=u,h.humanize=m("ms"),h.destroy=t,Object.keys(w).forEach(n=>{h[n]=w[n]}),h.names=[],h.skips=[],h.formatters={},h.selectColor=v,h.enable(h.load()),h}U.exports=p},{ms:176}],93:[function(m,U,k){"use strict";k.utils=m("./des/utils"),k.Cipher=m("./des/cipher"),k.DES=m("./des/des"),k.CBC=m("./des/cbc"),k.EDE=m("./des/ede")},{"./des/cbc":94,"./des/cipher":95,"./des/des":96,"./des/ede":97,"./des/utils":98}],94:[function(m,U,k){"use strict";function p(o){v.equal(o.length,8,"Invalid IV length"),this.iv=Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=o[i]}function w(o){function i(t){o.call(this,t),this._cbcInit()}h(i,o);for(var u=Object.keys(e),c=0,s;c<u.length;c++)s=u[c],i.prototype[s]=e[s];return i.create=function(n){return new i(n)},i}var v=m("minimalistic-assert"),h=m("inherits"),e={};k.instantiate=w,e._cbcInit=function(){var i=new p(this.options.iv);this._cbcState=i},e._update=function(i,u,c,s){var t=this._cbcState,n=this.constructor.super_.prototype,a=t.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)a[l]^=i[u+l];n._update.call(this,a,0,c,s);for(var l=0;l<this.blockSize;l++)a[l]=c[s+l]}else{n._update.call(this,i,u,c,s);for(var l=0;l<this.blockSize;l++)c[s+l]^=a[l];for(var l=0;l<this.blockSize;l++)a[l]=i[u+l]}}},{inherits:147,"minimalistic-assert":168}],95:[function(m,U,k){"use strict";function p(v){this.options=v,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var w=m("minimalistic-assert");U.exports=p,p.prototype._init=function(){},p.prototype.update=function(h){return h.length===0?[]:this.type==="decrypt"?this._updateDecrypt(h):this._updateEncrypt(h)},p.prototype._buffer=function(h,e){for(var o=J(this.buffer.length-this.bufferOff,h.length-e),i=0;i<o;i++)this.buffer[this.bufferOff+i]=h[e+i];return this.bufferOff+=o,o},p.prototype._flushBuffer=function(h,e){return this._update(this.buffer,0,h,e),this.bufferOff=0,this.blockSize},p.prototype._updateEncrypt=function(h){var e=0,o=0,i=0|(this.bufferOff+h.length)/this.blockSize,u=Array(i*this.blockSize);this.bufferOff!==0&&(e+=this._buffer(h,e),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(u,o)));for(var c=h.length-(h.length-e)%this.blockSize;e<c;e+=this.blockSize)this._update(h,e,u,o),o+=this.blockSize;for(;e<h.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=h[e];return u},p.prototype._updateDecrypt=function(h){for(var e=0,o=0,i=N((this.bufferOff+h.length)/this.blockSize)-1,u=Array(i*this.blockSize);0<i;i--)e+=this._buffer(h,e),o+=this._flushBuffer(u,o);return e+=this._buffer(h,e),u},p.prototype.final=function(h){var e;h&&(e=this.update(h));var o;return o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),e?e.concat(o):o},p.prototype._pad=function(h,e){if(e===0)return!1;for(;e<h.length;)h[e++]=0;return!0},p.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var h=Array(this.blockSize);return this._update(this.buffer,0,h,0),h},p.prototype._unpad=function(h){return h},p.prototype._finalDecrypt=function(){w.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var h=Array(this.blockSize);return this._flushBuffer(h,0),this._unpad(h)}},{"minimalistic-assert":168}],96:[function(m,U,k){"use strict";function p(){this.tmp=[,,],this.keys=null}function w(u){o.call(this,u);var c=new p;this._desState=c,this.deriveKeys(c,u.key)}var v=m("minimalistic-assert"),h=m("inherits"),e=m("./utils"),o=m("./cipher");h(w,o),U.exports=w,w.create=function(c){return new w(c)};var i=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];w.prototype.deriveKeys=function(c,s){c.keys=Array(32),v.equal(s.length,this.blockSize,"Invalid key length");var t=e.readUInt32BE(s,0),n=e.readUInt32BE(s,4);e.pc1(t,n,c.tmp,0),t=c.tmp[0],n=c.tmp[1];for(var a=0,l;a<c.keys.length;a+=2)l=i[a>>>1],t=e.r28shl(t,l),n=e.r28shl(n,l),e.pc2(t,n,c.keys,a)},w.prototype._update=function(c,s,t,n){var a=this._desState,l=e.readUInt32BE(c,s),f=e.readUInt32BE(c,s+4);e.ip(l,f,a.tmp,0),l=a.tmp[0],f=a.tmp[1],this.type==="encrypt"?this._encrypt(a,l,f,a.tmp,0):this._decrypt(a,l,f,a.tmp,0),l=a.tmp[0],f=a.tmp[1],e.writeUInt32BE(t,l,n),e.writeUInt32BE(t,f,n+4)},w.prototype._pad=function(c,s){for(var t=c.length-s,n=s;n<c.length;n++)c[n]=t;return!0},w.prototype._unpad=function(c){for(var s=c[c.length-1],t=c.length-s;t<c.length;t++)v.equal(c[t],s);return c.slice(0,c.length-s)},w.prototype._encrypt=function(c,s,t,n,a){for(var l=s,f=t,b=0;b<c.keys.length;b+=2){var C=c.keys[b],$=c.keys[b+1];e.expand(f,c.tmp,0),C^=c.tmp[0],$^=c.tmp[1];var W=e.substitute(C,$),R=e.permute(W),L=f;f=(l^R)>>>0,l=L}e.rip(f,l,n,a)},w.prototype._decrypt=function(c,s,t,n,a){for(var l=t,f=s,b=c.keys.length-2;0<=b;b-=2){var C=c.keys[b],$=c.keys[b+1];e.expand(l,c.tmp,0),C^=c.tmp[0],$^=c.tmp[1];var W=e.substitute(C,$),R=e.permute(W),L=l;l=(f^R)>>>0,f=L}e.rip(l,f,n,a)}},{"./cipher":95,"./utils":98,inherits:147,"minimalistic-assert":168}],97:[function(m,U,k){"use strict";function p(i,u){v.equal(u.length,24,"Invalid key length");var c=u.slice(0,8),s=u.slice(8,16),t=u.slice(16,24);this.ciphers=i==="encrypt"?[o.create({type:"encrypt",key:c}),o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:t})]:[o.create({type:"decrypt",key:t}),o.create({type:"encrypt",key:s}),o.create({type:"decrypt",key:c})]}function w(i){e.call(this,i);var u=new p(this.type,this.options.key);this._edeState=u}var v=m("minimalistic-assert"),h=m("inherits"),e=m("./cipher"),o=m("./des");h(w,e),U.exports=w,w.create=function(u){return new w(u)},w.prototype._update=function(u,c,s,t){var n=this._edeState;n.ciphers[0]._update(u,c,s,t),n.ciphers[1]._update(s,t,s,t),n.ciphers[2]._update(s,t,s,t)},w.prototype._pad=o.prototype._pad,w.prototype._unpad=o.prototype._unpad},{"./cipher":95,"./des":96,inherits:147,"minimalistic-assert":168}],98:[function(m,U,k){"use strict";k.readUInt32BE=function(e,o){var i=e[0+o]<<24|e[1+o]<<16|e[2+o]<<8|e[3+o];return i>>>0},k.writeUInt32BE=function(e,o,i){e[0+i]=o>>>24,e[1+i]=255&o>>>16,e[2+i]=255&o>>>8,e[3+i]=255&o},k.ip=function(e,o,i,u){for(var c=0,s=0,t=6;0<=t;t-=2){for(var n=0;24>=n;n+=8)c<<=1,c|=1&o>>>n+t;for(var n=0;24>=n;n+=8)c<<=1,c|=1&e>>>n+t}for(var t=6;0<=t;t-=2){for(var n=1;25>=n;n+=8)s<<=1,s|=1&o>>>n+t;for(var n=1;25>=n;n+=8)s<<=1,s|=1&e>>>n+t}i[u+0]=c>>>0,i[u+1]=s>>>0},k.rip=function(e,o,i,u){for(var c=0,s=0,t=0;4>t;t++)for(var n=24;0<=n;n-=8)c<<=1,c|=1&o>>>n+t,c<<=1,c|=1&e>>>n+t;for(var t=4;8>t;t++)for(var n=24;0<=n;n-=8)s<<=1,s|=1&o>>>n+t,s<<=1,s|=1&e>>>n+t;i[u+0]=c>>>0,i[u+1]=s>>>0},k.pc1=function(e,o,i,u){for(var c=0,s=0,t=7;5<=t;t--){for(var n=0;24>=n;n+=8)c<<=1,c|=1&o>>n+t;for(var n=0;24>=n;n+=8)c<<=1,c|=1&e>>n+t}for(var n=0;24>=n;n+=8)c<<=1,c|=1&o>>n+t;for(var t=1;3>=t;t++){for(var n=0;24>=n;n+=8)s<<=1,s|=1&o>>n+t;for(var n=0;24>=n;n+=8)s<<=1,s|=1&e>>n+t}for(var n=0;24>=n;n+=8)s<<=1,s|=1&e>>n+t;i[u+0]=c>>>0,i[u+1]=s>>>0},k.r28shl=function(e,o){return 268435455&e<<o|e>>>28-o};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];k.pc2=function(e,o,i,u){for(var c=0,s=0,t=p.length>>>1,n=0;n<t;n++)c<<=1,c|=1&e>>>p[n];for(var n=t;n<p.length;n++)s<<=1,s|=1&o>>>p[n];i[u+0]=c>>>0,i[u+1]=s>>>0},k.expand=function(e,o,i){var u=0,c=0;u=(1&e)<<5|e>>>27;for(var s=23;15<=s;s-=4)u<<=6,u|=63&e>>>s;for(var s=11;3<=s;s-=4)c|=63&e>>>s,c<<=6;c|=(31&e)<<1|e>>>31,o[i+0]=u>>>0,o[i+1]=c>>>0};var w=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];k.substitute=function(e,o){for(var i=0,u=0;4>u;u++){var c=63&e>>>18-6*u,s=w[64*u+c];i<<=4,i|=s}for(var u=0;4>u;u++){var c=63&o>>>18-6*u,s=w[256+64*u+c];i<<=4,i|=s}return i>>>0};var v=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];k.permute=function(e){for(var o=0,i=0;i<v.length;i++)o<<=1,o|=1&e>>>v[i];return o>>>0},k.padSplit=function(e,o,i){for(var u=e.toString(2);u.length<o;)u="0"+u;for(var c=[],s=0;s<o;s+=i)c.push(u.slice(s,s+i));return c.join(" ")}},{}],99:[function(m,U,k){(function(p){(function(){function w(u){var c=new p(e[u].prime,"hex"),s=new p(e[u].gen,"hex");return new o(c,s)}function v(u,c,s,t){return p.isBuffer(c)||i[c]===void 0?v(u,"binary",c,s):(c=c||"binary",t=t||"binary",s=s||new p([2]),p.isBuffer(s)||(s=new p(s,t)),typeof u=="number"?new o(h(u,s),s,!0):(p.isBuffer(u)||(u=new p(u,c)),new o(u,s,!0)))}var h=m("./lib/generatePrime"),e=m("./lib/primes.json"),o=m("./lib/dh"),i={binary:!0,hex:!0,base64:!0};k.DiffieHellmanGroup=k.createDiffieHellmanGroup=k.getDiffieHellman=w,k.createDiffieHellman=k.DiffieHellman=v}).call(this)}).call(this,m("buffer").Buffer)},{"./lib/dh":100,"./lib/generatePrime":101,"./lib/primes.json":102,buffer:76}],100:[function(m,U,k){(function(p){(function(){function w($,W){return W=W||"utf8",p.isBuffer($)||($=new p($,W)),this._pub=new i($),this}function v($,W){return W=W||"utf8",p.isBuffer($)||($=new p($,W)),this._priv=new i($),this}function h($,W){var R=W.toString("hex"),L=[R,$.toString(16)].join("_");if(L in C)return C[L];var q=0;if($.isEven()||!f.simpleSieve||!f.fermatTest($)||!c.test($))return q+=1,q+=R==="02"||R==="05"?8:4,C[L]=q,q;c.test($.shrn(1))||(q+=2);var ee;return R==="02"?$.mod(s).cmp(t)&&(q+=8):R==="05"?(ee=$.mod(n),ee.cmp(a)&&ee.cmp(l)&&(q+=8)):q+=4,C[L]=q,q}function e($,W,R){this.setGenerator(W),this.__prime=new i($),this._prime=i.mont(this.__prime),this._primeLen=$.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=w,this.setPrivateKey=v):this._primeCode=8}function o($,W){var R=new p($.toArray());return W?R.toString(W):R}var i=m("bn.js"),u=m("miller-rabin"),c=new u,s=new i(24),t=new i(11),n=new i(10),a=new i(3),l=new i(7),f=m("./generatePrime"),b=m("randombytes");U.exports=e;var C={};Object.defineProperty(e.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=h(this.__prime,this.__gen)),this._primeCode}}),e.prototype.generateKeys=function(){return this._priv||(this._priv=new i(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},e.prototype.computeSecret=function($){$=new i($),$=$.toRed(this._prime);var W=$.redPow(this._priv).fromRed(),R=new p(W.toArray()),L=this.getPrime();if(R.length<L.length){var q=new p(L.length-R.length);q.fill(0),R=p.concat([q,R])}return R},e.prototype.getPublicKey=function(W){return o(this._pub,W)},e.prototype.getPrivateKey=function(W){return o(this._priv,W)},e.prototype.getPrime=function($){return o(this.__prime,$)},e.prototype.getGenerator=function($){return o(this._gen,$)},e.prototype.setGenerator=function($,W){return W=W||"utf8",p.isBuffer($)||($=new p($,W)),this.__gen=$,this._gen=new i($),this}}).call(this)}).call(this,m("buffer").Buffer)},{"./generatePrime":101,"bn.js":103,buffer:76,"miller-rabin":162,randombytes:209}],101:[function(m,U,k){function p(){var q=Math.sqrt;if(L!==null)return L;var ee=1048576,ae=[];ae[0]=2;for(var fe=1,Ee=3,se;1048576>Ee;Ee+=2){se=N(q(Ee));for(var B=0;B<fe&&ae[B]<=se&&Ee%ae[B]!=0;B++);fe!=B&&ae[B]<=se||(ae[fe++]=Ee)}return L=ae,ae}function w(q){for(var ee=p(),ae=0;ae<ee.length;ae++)if(q.modn(ee[ae])===0)return q.cmpn(ee[ae])===0;return!0}function v(q){var ee=o.mont(q);return t.toRed(ee).redPow(q.subn(1)).fromRed().cmpn(1)===0}function h(q,ee){if(16>q)return ee===2||ee===5?new o([140,123]):new o([140,39]);ee=new o(ee);for(var ae,fe;;){for(ae=new o(e(N(q/8)));ae.bitLength()>q;)ae.ishrn(1);if(ae.isEven()&&ae.iadd(s),ae.testn(1)||ae.iadd(t),!ee.cmp(t))for(;ae.mod(i).cmp($);)ae.iadd(W);else if(!ee.cmp(n))for(;ae.mod(f).cmp(b);)ae.iadd(W);if(fe=ae.shrn(1),w(fe)&&w(ae)&&v(fe)&&v(ae)&&c.test(fe)&&c.test(ae))return ae}}var e=m("randombytes");U.exports=h,h.simpleSieve=w,h.fermatTest=v;var o=m("bn.js"),i=new o(24),u=m("miller-rabin"),c=new u,s=new o(1),t=new o(2),n=new o(5),a=new o(16),l=new o(8),f=new o(10),b=new o(3),C=new o(7),$=new o(11),W=new o(4),R=new o(12),L=null},{"bn.js":103,"miller-rabin":162,randombytes:209}],102:[function(m,U,k){U.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],103:[function(m,U,k){arguments[4][22][0].apply(k,arguments)},{buffer:42,dup:22}],104:[function(m,U,k){"use strict";var p=k;p.version=m("../package.json").version,p.utils=m("./elliptic/utils"),p.rand=m("brorand"),p.curve=m("./elliptic/curve"),p.curves=m("./elliptic/curves"),p.ec=m("./elliptic/ec"),p.eddsa=m("./elliptic/eddsa")},{"../package.json":120,"./elliptic/curve":107,"./elliptic/curves":110,"./elliptic/ec":111,"./elliptic/eddsa":114,"./elliptic/utils":118,brorand:41}],105:[function(m,U,k){"use strict";function p(u,c){this.type=u,this.p=new v(c.p,16),this.red=c.prime?v.red(c.prime):v.mont(this.p),this.zero=new v(0).toRed(this.red),this.one=new v(1).toRed(this.red),this.two=new v(2).toRed(this.red),this.n=c.n&&new v(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var s=this.n&&this.p.div(this.n);!s||0<s.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function w(u,c){this.curve=u,this.type=c,this.precomputed=null}var v=m("bn.js"),h=m("../utils"),e=h.getNAF,o=h.getJSF,i=h.assert;U.exports=p,p.prototype.point=function(){throw new Error("Not implemented")},p.prototype.validate=function(){throw new Error("Not implemented")},p.prototype._fixedNafMul=function(c,s){i(c.precomputed);var t=c._getDoubles(),n=e(s,1,this._bitLength),a=(1<<t.step+1)-(t.step%2==0?2:1);a/=3;var l=[],f,b;for(f=0;f<n.length;f+=t.step){b=0;for(var C=f+t.step-1;C>=f;C--)b=(b<<1)+n[C];l.push(b)}for(var $=this.jpoint(null,null,null),W=this.jpoint(null,null,null),R=a;0<R;R--){for(f=0;f<l.length;f++)b=l[f],b===R?W=W.mixedAdd(t.points[f]):b===-R&&(W=W.mixedAdd(t.points[f].neg()));$=$.add(W)}return $.toP()},p.prototype._wnafMul=function(c,s){var t=4,n=c._getNAFPoints(t);t=n.wnd;for(var a=n.points,l=e(s,t,this._bitLength),f=this.jpoint(null,null,null),b=l.length-1;0<=b;b--){for(var C=0;0<=b&&l[b]===0;b--)C++;if(0<=b&&C++,f=f.dblp(C),0>b)break;var $=l[b];i($!==0),f=c.type==="affine"?0<$?f.mixedAdd(a[$-1>>1]):f.mixedAdd(a[-$-1>>1].neg()):0<$?f.add(a[$-1>>1]):f.add(a[-$-1>>1].neg())}return c.type==="affine"?f.toP():f},p.prototype._wnafMulAdd=function(c,s,t,n,a){var l=this._wnafT1,f=this._wnafT2,b=this._wnafT3,C=0,$,W,R;for($=0;$<n;$++){R=s[$];var L=R._getNAFPoints(c);l[$]=L.wnd,f[$]=L.points}for($=n-1;1<=$;$-=2){var q=$-1,ee=$;if(l[q]!==1||l[ee]!==1){b[q]=e(t[q],l[q],this._bitLength),b[ee]=e(t[ee],l[ee],this._bitLength),C=F(b[q].length,C),C=F(b[ee].length,C);continue}var ae=[s[q],null,null,s[ee]];s[q].y.cmp(s[ee].y)===0?(ae[1]=s[q].add(s[ee]),ae[2]=s[q].toJ().mixedAdd(s[ee].neg())):s[q].y.cmp(s[ee].y.redNeg())===0?(ae[1]=s[q].toJ().mixedAdd(s[ee]),ae[2]=s[q].add(s[ee].neg())):(ae[1]=s[q].toJ().mixedAdd(s[ee]),ae[2]=s[q].toJ().mixedAdd(s[ee].neg()));var fe=[-3,-1,-5,-7,0,7,5,1,3],Ee=o(t[q],t[ee]);for(C=F(Ee[0].length,C),b[q]=Array(C),b[ee]=Array(C),W=0;W<C;W++){var se=0|Ee[0][W],B=0|Ee[1][W];b[q][W]=fe[3*(se+1)+(B+1)],b[ee][W]=0,f[q]=ae}}var K=this.jpoint(null,null,null),j=this._wnafT4;for($=C;0<=$;$--){for(var x=0,z;0<=$;){for(z=!0,W=0;W<n;W++)j[W]=0|b[W][$],j[W]!==0&&(z=!1);if(!z)break;x++,$--}if(0<=$&&x++,K=K.dblp(x),0>$)break;for(W=0;W<n;W++){var Z=j[W];Z!==0&&(0<Z?R=f[W][Z-1>>1]:0>Z&&(R=f[W][-Z-1>>1].neg()),K=R.type==="affine"?K.mixedAdd(R):K.add(R))}}for($=0;$<n;$++)f[$]=null;return a?K:K.toP()},p.BasePoint=w,w.prototype.eq=function(){throw new Error("Not implemented")},w.prototype.validate=function(){return this.curve.validate(this)},p.prototype.decodePoint=function(c,s){c=h.toArray(c,s);var t=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1==2*t){c[0]===6?i(c[c.length-1]%2==0):c[0]===7&&i(c[c.length-1]%2==1);var n=this.point(c.slice(1,1+t),c.slice(1+t,1+2*t));return n}if((c[0]===2||c[0]===3)&&c.length-1===t)return this.pointFromX(c.slice(1,1+t),c[0]===3);throw new Error("Unknown point format")},w.prototype.encodeCompressed=function(c){return this.encode(c,!0)},w.prototype._encode=function(c){var s=this.curve.p.byteLength(),t=this.getX().toArray("be",s);return c?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",s))},w.prototype.encode=function(c,s){return h.encode(this._encode(s),c)},w.prototype.precompute=function(c){if(this.precomputed)return this;var s={doubles:null,naf:null,beta:null};return s.naf=this._getNAFPoints(8),s.doubles=this._getDoubles(4,c),s.beta=this._getBeta(),this.precomputed=s,this},w.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var s=this.precomputed.doubles;return!!s&&s.points.length>=N((c.bitLength()+1)/s.step)},w.prototype._getDoubles=function(c,s){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],n=this,a=0;a<s;a+=c){for(var l=0;l<c;l++)n=n.dbl();t.push(n)}return{step:c,points:t}},w.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var s=[this],t=(1<<c)-1,n=t===1?null:this.dbl(),a=1;a<t;a++)s[a]=s[a-1].add(n);return{wnd:c,points:s}},w.prototype._getBeta=function(){return null},w.prototype.dblp=function(c){for(var s=this,t=0;t<c;t++)s=s.dbl();return s}},{"../utils":118,"bn.js":119}],106:[function(m,U,k){"use strict";function p(u){this.twisted=(0|u.a)!=1,this.mOneA=this.twisted&&(0|u.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",u),this.a=new h(u.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new h(u.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new h(u.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|u.c)==1}function w(u,c,s,t,n){o.BasePoint.call(this,u,"projective"),c===null&&s===null&&t===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new h(c,16),this.y=new h(s,16),this.z=t?new h(t,16):this.curve.one,this.t=n&&new h(n,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var v=m("../utils"),h=m("bn.js"),e=m("inherits"),o=m("./base"),i=v.assert;e(p,o),U.exports=p,p.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},p.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},p.prototype.jpoint=function(c,s,t,n){return this.point(c,s,t,n)},p.prototype.pointFromX=function(c,s){c=new h(c,16),c.red||(c=c.toRed(this.red));var t=c.redSqr(),n=this.c2.redSub(this.a.redMul(t)),a=this.one.redSub(this.c2.redMul(this.d).redMul(t)),l=n.redMul(a.redInvm()),f=l.redSqrt();if(f.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");var b=f.fromRed().isOdd();return(s&&!b||!s&&b)&&(f=f.redNeg()),this.point(c,f)},p.prototype.pointFromY=function(c,s){c=new h(c,16),c.red||(c=c.toRed(this.red));var t=c.redSqr(),n=t.redSub(this.c2),a=t.redMul(this.d).redMul(this.c2).redSub(this.a),l=n.redMul(a.redInvm());if(l.cmp(this.zero)===0){if(s)throw new Error("invalid point");return this.point(this.zero,c)}var f=l.redSqrt();if(f.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==s&&(f=f.redNeg()),this.point(f,c)},p.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var s=c.x.redSqr(),t=c.y.redSqr(),n=s.redMul(this.a).redAdd(t),a=this.c2.redMul(this.one.redAdd(this.d.redMul(s).redMul(t)));return n.cmp(a)===0},e(w,o.BasePoint),p.prototype.pointFromJSON=function(c){return w.fromJSON(this,c)},p.prototype.point=function(c,s,t,n){return new w(this,c,s,t,n)},w.fromJSON=function(c,s){return new w(c,s[0],s[1],s[2])},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},w.prototype._extDbl=function(){var c=this.x.redSqr(),s=this.y.redSqr(),t=this.z.redSqr();t=t.redIAdd(t);var n=this.curve._mulA(c),a=this.x.redAdd(this.y).redSqr().redISub(c).redISub(s),l=n.redAdd(s),f=l.redSub(t),b=n.redSub(s),C=a.redMul(f),$=l.redMul(b),W=a.redMul(b),R=f.redMul(l);return this.curve.point(C,$,R,W)},w.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),t=this.y.redSqr(),n,a,l,f,b,C;if(this.curve.twisted){f=this.curve._mulA(s);var $=f.redAdd(t);this.zOne?(n=c.redSub(s).redSub(t).redMul($.redSub(this.curve.two)),a=$.redMul(f.redSub(t)),l=$.redSqr().redSub($).redSub($)):(b=this.z.redSqr(),C=$.redSub(b).redISub(b),n=c.redSub(s).redISub(t).redMul(C),a=$.redMul(f.redSub(t)),l=$.redMul(C))}else f=s.redAdd(t),b=this.curve._mulC(this.z).redSqr(),C=f.redSub(b).redSub(b),n=this.curve._mulC(c.redISub(f)).redMul(C),a=this.curve._mulC(f).redMul(s.redISub(t)),l=f.redMul(C);return this.curve.point(n,a,l)},w.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},w.prototype._extAdd=function(c){var s=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),t=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),n=this.t.redMul(this.curve.dd).redMul(c.t),a=this.z.redMul(c.z.redAdd(c.z)),l=t.redSub(s),f=a.redSub(n),b=a.redAdd(n),C=t.redAdd(s),$=l.redMul(f),W=b.redMul(C),R=l.redMul(C),L=f.redMul(b);return this.curve.point($,W,L,R)},w.prototype._projAdd=function(c){var s=this.z.redMul(c.z),t=s.redSqr(),n=this.x.redMul(c.x),a=this.y.redMul(c.y),l=this.curve.d.redMul(n).redMul(a),f=t.redSub(l),b=t.redAdd(l),C=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(n).redISub(a),$=s.redMul(f).redMul(C),W,R;return this.curve.twisted?(W=s.redMul(b).redMul(a.redSub(this.curve._mulA(n))),R=f.redMul(b)):(W=s.redMul(b).redMul(a.redSub(n)),R=this.curve._mulC(f).redMul(b)),this.curve.point($,W,R)},w.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},w.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},w.prototype.mulAdd=function(c,s,t){return this.curve._wnafMulAdd(1,[this,s],[c,t],2,!1)},w.prototype.jmulAdd=function(c,s,t){return this.curve._wnafMulAdd(1,[this,s],[c,t],2,!0)},w.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},w.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()},w.prototype.getY=function(){return this.normalize(),this.y.fromRed()},w.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},w.prototype.eqXToP=function(c){var s=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(s)===0)return!0;for(var t=c.clone(),n=this.curve.redN.redMul(this.z);;){if(t.iadd(this.curve.n),0<=t.cmp(this.curve.p))return!1;if(s.redIAdd(n),this.x.cmp(s)===0)return!0}},w.prototype.toP=w.prototype.normalize,w.prototype.mixedAdd=w.prototype.add},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],107:[function(m,U,k){"use strict";var p=k;p.base=m("./base"),p.short=m("./short"),p.mont=m("./mont"),p.edwards=m("./edwards")},{"./base":105,"./edwards":106,"./mont":108,"./short":109}],108:[function(m,U,k){"use strict";function p(i){e.call(this,"mont",i),this.a=new v(i.a,16).toRed(this.red),this.b=new v(i.b,16).toRed(this.red),this.i4=new v(4).toRed(this.red).redInvm(),this.two=new v(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function w(i,u,c){e.BasePoint.call(this,i,"projective"),u===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new v(u,16),this.z=new v(c,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var v=m("bn.js"),h=m("inherits"),e=m("./base"),o=m("../utils");h(p,e),U.exports=p,p.prototype.validate=function(u){var c=u.normalize().x,s=c.redSqr(),t=s.redMul(c).redAdd(s.redMul(this.a)).redAdd(c),n=t.redSqrt();return n.redSqr().cmp(t)===0},h(w,e.BasePoint),p.prototype.decodePoint=function(u,c){return this.point(o.toArray(u,c),1)},p.prototype.point=function(u,c){return new w(this,u,c)},p.prototype.pointFromJSON=function(u){return w.fromJSON(this,u)},w.prototype.precompute=function(){},w.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},w.fromJSON=function(u,c){return new w(u,c[0],c[1]||u.one)},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.z.cmpn(0)===0},w.prototype.dbl=function(){var u=this.x.redAdd(this.z),c=u.redSqr(),s=this.x.redSub(this.z),t=s.redSqr(),n=c.redSub(t),a=c.redMul(t),l=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(a,l)},w.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.diffAdd=function(u,c){var s=this.x.redAdd(this.z),t=this.x.redSub(this.z),n=u.x.redAdd(u.z),a=u.x.redSub(u.z),l=a.redMul(s),f=n.redMul(t),b=c.z.redMul(l.redAdd(f).redSqr()),C=c.x.redMul(l.redISub(f).redSqr());return this.curve.point(b,C)},w.prototype.mul=function(u){for(var c=u.clone(),s=this,t=this.curve.point(null,null),n=this,a=[];c.cmpn(0)!==0;c.iushrn(1))a.push(c.andln(1));for(var l=a.length-1;0<=l;l--)a[l]===0?(s=s.diffAdd(t,n),t=t.dbl()):(t=s.diffAdd(t,n),s=s.dbl());return t},w.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},w.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],109:[function(m,U,k){"use strict";function p(c){i.call(this,"short",c),this.a=new e(c.a,16).toRed(this.red),this.b=new e(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function w(c,s,t,n){i.BasePoint.call(this,c,"affine"),s===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(s,16),this.y=new e(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function v(c,s,t,n){i.BasePoint.call(this,c,"jacobian"),s===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(s,16),this.y=new e(t,16),this.z=new e(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var h=m("../utils"),e=m("bn.js"),o=m("inherits"),i=m("./base"),u=h.assert;o(p,i),U.exports=p,p.prototype._getEndomorphism=function(s){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var t,n;if(s.beta)t=new e(s.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);t=0>a[0].cmp(a[1])?a[0]:a[1],t=t.toRed(this.red)}if(s.lambda)n=new e(s.lambda,16);else{var l=this._getEndoRoots(this.n);this.g.mul(l[0]).x.cmp(this.g.x.redMul(t))===0?n=l[0]:(n=l[1],u(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var f;return f=s.basis?s.basis.map(function(b){return{a:new e(b.a,16),b:new e(b.b,16)}}):this._getEndoBasis(n),{beta:t,lambda:n,basis:f}}},p.prototype._getEndoRoots=function(s){var t=s===this.p?this.red:e.mont(s),n=new e(2).toRed(t).redInvm(),a=n.redNeg(),l=new e(3).toRed(t).redNeg().redSqrt().redMul(n),f=a.redAdd(l).fromRed(),b=a.redSub(l).fromRed();return[f,b]},p.prototype._getEndoBasis=function(s){for(var t=this.n.ushrn(I(this.n.bitLength()/2)),n=s,a=this.n.clone(),l=new e(1),f=new e(0),b=new e(0),C=new e(1),$=0,W,R,L,q,ee,ae,fe,Ee,se,B;n.cmpn(0)!==0;){B=a.div(n),Ee=a.sub(B.mul(n)),se=b.sub(B.mul(l));var K=C.sub(B.mul(f));if(!L&&0>Ee.cmp(t))W=fe.neg(),R=l,L=Ee.neg(),q=se;else if(L&&++$==2)break;fe=Ee,a=n,n=Ee,b=l,l=se,C=f,f=K}ee=Ee.neg(),ae=se;var j=L.sqr().add(q.sqr()),x=ee.sqr().add(ae.sqr());return 0<=x.cmp(j)&&(ee=W,ae=R),L.negative&&(L=L.neg(),q=q.neg()),ee.negative&&(ee=ee.neg(),ae=ae.neg()),[{a:L,b:q},{a:ee,b:ae}]},p.prototype._endoSplit=function(s){var t=this.endo.basis,n=t[0],a=t[1],l=a.b.mul(s).divRound(this.n),f=n.b.neg().mul(s).divRound(this.n),b=l.mul(n.a),C=f.mul(a.a),$=l.mul(n.b),W=f.mul(a.b),R=s.sub(b).sub(C),L=$.add(W).neg();return{k1:R,k2:L}},p.prototype.pointFromX=function(s,t){s=new e(s,16),s.red||(s=s.toRed(this.red));var n=s.redSqr().redMul(s).redIAdd(s.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var l=a.fromRed().isOdd();return(t&&!l||!t&&l)&&(a=a.redNeg()),this.point(s,a)},p.prototype.validate=function(s){if(s.inf)return!0;var t=s.x,n=s.y,a=this.a.redMul(t),l=t.redSqr().redMul(t).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(l).cmpn(0)===0},p.prototype._endoWnafMulAdd=function(s,t,n){for(var a=this._endoWnafT1,l=this._endoWnafT2,f=0;f<s.length;f++){var b=this._endoSplit(t[f]),C=s[f],$=C._getBeta();b.k1.negative&&(b.k1.ineg(),C=C.neg(!0)),b.k2.negative&&(b.k2.ineg(),$=$.neg(!0)),a[2*f]=C,a[2*f+1]=$,l[2*f]=b.k1,l[2*f+1]=b.k2}for(var W=this._wnafMulAdd(1,a,l,2*f,n),R=0;R<2*f;R++)a[R]=null,l[R]=null;return W},o(w,i.BasePoint),p.prototype.point=function(s,t,n){return new w(this,s,t,n)},p.prototype.pointFromJSON=function(s,t){return w.fromJSON(this,s,t)},w.prototype._getBeta=function(){if(this.curve.endo){var s=this.precomputed;if(s&&s.beta)return s.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(s){var n=this.curve,a=function(l){return n.point(l.x.redMul(n.endo.beta),l.y)};s.beta=t,t.precomputed={beta:null,naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(a)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(a)}}}return t}},w.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},w.fromJSON=function(s,t,n){function a(b){return s.point(b[0],b[1],n)}typeof t=="string"&&(t=JSON.parse(t));var l=s.point(t[0],t[1],n);if(!t[2])return l;var f=t[2];return l.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[l].concat(f.doubles.points.map(a))},naf:f.naf&&{wnd:f.naf.wnd,points:[l].concat(f.naf.points.map(a))}},l},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.inf},w.prototype.add=function(s){if(this.inf)return s;if(s.inf)return this;if(this.eq(s))return this.dbl();if(this.neg().eq(s))return this.curve.point(null,null);if(this.x.cmp(s.x)===0)return this.curve.point(null,null);var t=this.y.redSub(s.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(s.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(s.x),a=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)},w.prototype.dbl=function(){if(this.inf)return this;var s=this.y.redAdd(this.y);if(s.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),a=s.redInvm(),l=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(a),f=l.redSqr().redISub(this.x.redAdd(this.x)),b=l.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,b)},w.prototype.getX=function(){return this.x.fromRed()},w.prototype.getY=function(){return this.y.fromRed()},w.prototype.mul=function(s){return s=new e(s,16),this.isInfinity()?this:this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve.endo?this.curve._endoWnafMulAdd([this],[s]):this.curve._wnafMul(this,s)},w.prototype.mulAdd=function(s,t,n){var a=[this,t],l=[s,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,l):this.curve._wnafMulAdd(1,a,l,2)},w.prototype.jmulAdd=function(s,t,n){var a=[this,t],l=[s,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,l,!0):this.curve._wnafMulAdd(1,a,l,2,!0)},w.prototype.eq=function(s){return this===s||this.inf===s.inf&&(this.inf||this.x.cmp(s.x)===0&&this.y.cmp(s.y)===0)},w.prototype.neg=function(s){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(s&&this.precomputed){var n=this.precomputed,a=function(l){return l.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return t},w.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var s=this.curve.jpoint(this.x,this.y,this.curve.one);return s},o(v,i.BasePoint),p.prototype.jpoint=function(s,t,n){return new v(this,s,t,n)},v.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var s=this.z.redInvm(),t=s.redSqr(),n=this.x.redMul(t),a=this.y.redMul(t).redMul(s);return this.curve.point(n,a)},v.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},v.prototype.add=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var t=s.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(t),l=s.x.redMul(n),f=this.y.redMul(t.redMul(s.z)),b=s.y.redMul(n.redMul(this.z)),C=a.redSub(l),$=f.redSub(b);if(C.cmpn(0)===0)return $.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var W=C.redSqr(),R=W.redMul(C),L=a.redMul(W),q=$.redSqr().redIAdd(R).redISub(L).redISub(L),ee=$.redMul(L.redISub(q)).redISub(f.redMul(R)),ae=this.z.redMul(s.z).redMul(C);return this.curve.jpoint(q,ee,ae)},v.prototype.mixedAdd=function(s){if(this.isInfinity())return s.toJ();if(s.isInfinity())return this;var t=this.z.redSqr(),n=this.x,a=s.x.redMul(t),l=this.y,f=s.y.redMul(t).redMul(this.z),b=n.redSub(a),C=l.redSub(f);if(b.cmpn(0)===0)return C.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var $=b.redSqr(),W=$.redMul(b),R=n.redMul($),L=C.redSqr().redIAdd(W).redISub(R).redISub(R),q=C.redMul(R.redISub(L)).redISub(l.redMul(W)),ee=this.z.redMul(b);return this.curve.jpoint(L,q,ee)},v.prototype.dblp=function(s){if(s===0)return this;if(this.isInfinity())return this;if(!s)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<s;t++)n=n.dbl();return n}var a=this.curve.a,l=this.curve.tinv,f=this.x,b=this.y,C=this.z,$=C.redSqr().redSqr(),W=b.redAdd(b);for(t=0;t<s;t++){var R=f.redSqr(),L=W.redSqr(),q=L.redSqr(),ee=R.redAdd(R).redIAdd(R).redIAdd(a.redMul($)),ae=f.redMul(L),fe=ee.redSqr().redISub(ae.redAdd(ae)),Ee=ae.redISub(fe),se=ee.redMul(Ee);se=se.redIAdd(se).redISub(q);var B=W.redMul(C);t+1<s&&($=$.redMul(q)),f=fe,C=B,W=se}return this.curve.jpoint(f,W.redMul(l),C)},v.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},v.prototype._zeroDbl=function(){var s,t,n;if(this.zOne){var a=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),b=this.x.redAdd(l).redSqr().redISub(a).redISub(f);b=b.redIAdd(b);var C=a.redAdd(a).redIAdd(a),$=C.redSqr().redISub(b).redISub(b),W=f.redIAdd(f);W=W.redIAdd(W),W=W.redIAdd(W),s=$,t=C.redMul(b.redISub($)).redISub(W),n=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),L=this.y.redSqr(),q=L.redSqr(),ee=this.x.redAdd(L).redSqr().redISub(R).redISub(q);ee=ee.redIAdd(ee);var ae=R.redAdd(R).redIAdd(R),fe=ae.redSqr(),Ee=q.redIAdd(q);Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),s=fe.redISub(ee).redISub(ee),t=ae.redMul(ee.redISub(s)).redISub(Ee),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(s,t,n)},v.prototype._threeDbl=function(){var s,t,n;if(this.zOne){var a=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),b=this.x.redAdd(l).redSqr().redISub(a).redISub(f);b=b.redIAdd(b);var C=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),$=C.redSqr().redISub(b).redISub(b);s=$;var W=f.redIAdd(f);W=W.redIAdd(W),W=W.redIAdd(W),t=C.redMul(b.redISub($)).redISub(W),n=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),L=this.y.redSqr(),q=this.x.redMul(L),ee=this.x.redSub(R).redMul(this.x.redAdd(R));ee=ee.redAdd(ee).redIAdd(ee);var ae=q.redIAdd(q);ae=ae.redIAdd(ae);var fe=ae.redAdd(ae);s=ee.redSqr().redISub(fe),n=this.y.redAdd(this.z).redSqr().redISub(L).redISub(R);var Ee=L.redSqr();Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),t=ee.redMul(ae.redISub(s)).redISub(Ee)}return this.curve.jpoint(s,t,n)},v.prototype._dbl=function(){var s=this.curve.a,t=this.x,n=this.y,a=this.z,l=a.redSqr().redSqr(),f=t.redSqr(),b=n.redSqr(),C=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),$=t.redAdd(t);$=$.redIAdd($);var W=$.redMul(b),R=C.redSqr().redISub(W.redAdd(W)),L=W.redISub(R),q=b.redSqr();q=q.redIAdd(q),q=q.redIAdd(q),q=q.redIAdd(q);var ee=C.redMul(L).redISub(q),ae=n.redAdd(n).redMul(a);return this.curve.jpoint(R,ee,ae)},v.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var s=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),a=t.redSqr(),l=s.redAdd(s).redIAdd(s),f=l.redSqr(),b=this.x.redAdd(t).redSqr().redISub(s).redISub(a);b=b.redIAdd(b),b=b.redAdd(b).redIAdd(b),b=b.redISub(f);var C=b.redSqr(),$=a.redIAdd(a);$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var W=l.redIAdd(b).redSqr().redISub(f).redISub(C).redISub($),R=t.redMul(W);R=R.redIAdd(R),R=R.redIAdd(R);var L=this.x.redMul(C).redISub(R);L=L.redIAdd(L),L=L.redIAdd(L);var q=this.y.redMul(W.redMul($.redISub(W)).redISub(b.redMul(C)));q=q.redIAdd(q),q=q.redIAdd(q),q=q.redIAdd(q);var ee=this.z.redAdd(b).redSqr().redISub(n).redISub(C);return this.curve.jpoint(L,q,ee)},v.prototype.mul=function(s,t){return s=new e(s,t),this.curve._wnafMul(this,s)},v.prototype.eq=function(s){if(s.type==="affine")return this.eq(s.toJ());if(this===s)return!0;var t=this.z.redSqr(),n=s.z.redSqr();if(this.x.redMul(n).redISub(s.x.redMul(t)).cmpn(0)!==0)return!1;var a=t.redMul(this.z),l=n.redMul(s.z);return this.y.redMul(l).redISub(s.y.redMul(a)).cmpn(0)===0},v.prototype.eqXToP=function(s){var t=this.z.redSqr(),n=s.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var a=s.clone(),l=this.curve.redN.redMul(t);;){if(a.iadd(this.curve.n),0<=a.cmp(this.curve.p))return!1;if(n.redIAdd(l),this.x.cmp(n)===0)return!0}},v.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],110:[function(m,U,k){"use strict";function p(c){this.curve=c.type==="short"?new e.short(c):c.type==="edwards"?new e.edwards(c):new e.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function w(c,s){Object.defineProperty(v,c,{configurable:!0,enumerable:!0,get:function(){var t=new p(s);return Object.defineProperty(v,c,{configurable:!0,enumerable:!0,value:t}),t}})}var v=k,h=m("hash.js"),e=m("./curve"),o=m("./utils"),i=o.assert;v.PresetCurve=p,w("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:h.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),w("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:h.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),w("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:h.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),w("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:h.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),w("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:h.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),w("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["9"]}),w("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=m("./precomputed/secp256k1")}catch{u=void 0}w("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:h.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})},{"./curve":107,"./precomputed/secp256k1":117,"./utils":118,"hash.js":131}],111:[function(m,U,k){"use strict";function p(s){return this instanceof p?(typeof s=="string"&&(i(Object.prototype.hasOwnProperty.call(e,s),"Unknown curve "+s),s=e[s]),s instanceof e.PresetCurve&&(s={curve:s}),this.curve=s.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=s.curve.g,this.g.precompute(s.curve.n.bitLength()+1),void(this.hash=s.hash||s.curve.hash)):new p(s)}var w=m("bn.js"),v=m("hmac-drbg"),h=m("../utils"),e=m("../curves"),o=m("brorand"),i=h.assert,u=m("./key"),c=m("./signature");U.exports=p,p.prototype.keyPair=function(t){return new u(this,t)},p.prototype.keyFromPrivate=function(t,n){return u.fromPrivate(this,t,n)},p.prototype.keyFromPublic=function(t,n){return u.fromPublic(this,t,n)},p.prototype.genKeyPair=function(t){t||(t={});for(var n=new v({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||o(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),a=this.n.byteLength(),l=this.n.sub(new w(2));;){var f=new w(n.generate(a));if(!(0<f.cmp(l)))return f.iaddn(1),this.keyFromPrivate(f)}},p.prototype._truncateToN=function(t,n){var a=8*t.byteLength()-this.n.bitLength();return 0<a&&(t=t.ushrn(a)),!n&&0<=t.cmp(this.n)?t.sub(this.n):t},p.prototype.sign=function(t,n,a,l){typeof a=="object"&&(l=a,a=null),l||(l={}),n=this.keyFromPrivate(n,a),t=this._truncateToN(new w(t,16));for(var f=this.n.byteLength(),b=n.getPrivate().toArray("be",f),C=t.toArray("be",f),$=new v({hash:this.hash,entropy:b,nonce:C,pers:l.pers,persEnc:l.persEnc||"utf8"}),W=this.n.sub(new w(1)),R=0,L;;R++)if(L=l.k?l.k(R):new w($.generate(this.n.byteLength())),L=this._truncateToN(L,!0),!(0>=L.cmpn(1)||0<=L.cmp(W))){var q=this.g.mul(L);if(!q.isInfinity()){var ee=q.getX(),ae=ee.umod(this.n);if(ae.cmpn(0)!==0){var fe=L.invm(this.n).mul(ae.mul(n.getPrivate()).iadd(t));if(fe=fe.umod(this.n),fe.cmpn(0)!==0){var Ee=(q.getY().isOdd()?1:0)|(ee.cmp(ae)===0?0:2);return l.canonical&&0<fe.cmp(this.nh)&&(fe=this.n.sub(fe),Ee^=1),new c({r:ae,s:fe,recoveryParam:Ee})}}}}},p.prototype.verify=function(t,n,a,l){t=this._truncateToN(new w(t,16)),a=this.keyFromPublic(a,l),n=new c(n,"hex");var f=n.r,b=n.s;if(0>f.cmpn(1)||0<=f.cmp(this.n)||0>b.cmpn(1)||0<=b.cmp(this.n))return!1;var C=b.invm(this.n),$=C.mul(t).umod(this.n),W=C.mul(f).umod(this.n),R;return this.curve._maxwellTrick?(R=this.g.jmulAdd($,a.getPublic(),W),!R.isInfinity()&&R.eqXToP(f)):(R=this.g.mulAdd($,a.getPublic(),W),!R.isInfinity()&&R.getX().umod(this.n).cmp(f)===0)},p.prototype.recoverPubKey=function(s,t,n,a){i((3&n)===n,"The recovery param is more than two bits"),t=new c(t,a);var l=this.n,f=new w(s),b=t.r,C=t.s,$=1&n,W=n>>1;if(0<=b.cmp(this.curve.p.umod(this.curve.n))&&W)throw new Error("Unable to find sencond key candinate");b=W?this.curve.pointFromX(b.add(this.curve.n),$):this.curve.pointFromX(b,$);var R=t.r.invm(l),L=l.sub(f).mul(R).umod(l),q=C.mul(R).umod(l);return this.g.mulAdd(L,b,q)},p.prototype.getKeyRecoveryParam=function(s,t,n,a){if(t=new c(t,a),t.recoveryParam!==null)return t.recoveryParam;for(var l=0;4>l;l++){var f;try{f=this.recoverPubKey(s,t,l)}catch{continue}if(f.eq(n))return l}throw new Error("Unable to find valid recovery factor")}},{"../curves":110,"../utils":118,"./key":112,"./signature":113,"bn.js":119,brorand:41,"hmac-drbg":143}],112:[function(m,U,k){"use strict";function p(e,o){this.ec=e,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}var w=m("bn.js"),v=m("../utils"),h=v.assert;U.exports=p,p.fromPublic=function(o,i,u){return i instanceof p?i:new p(o,{pub:i,pubEnc:u})},p.fromPrivate=function(o,i,u){return i instanceof p?i:new p(o,{priv:i,privEnc:u})},p.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},p.prototype.getPublic=function(o,i){return typeof o=="string"&&(i=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,o):this.pub},p.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},p.prototype._importPrivate=function(o,i){this.priv=new w(o,i||16),this.priv=this.priv.umod(this.ec.curve.n)},p.prototype._importPublic=function(o,i){return o.x||o.y?(this.ec.curve.type==="mont"?h(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&h(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y))):void(this.pub=this.ec.curve.decodePoint(o,i))},p.prototype.derive=function(o){return o.validate()||h(o.validate(),"public point not validated"),o.mul(this.priv).getX()},p.prototype.sign=function(o,i,u){return this.ec.sign(o,this,i,u)},p.prototype.verify=function(o,i){return this.ec.verify(o,i,this)},p.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":118,"bn.js":119}],113:[function(m,U,k){"use strict";function p(c,s){return c instanceof p?c:void(this._importDER(c,s)||(u(c.r&&c.s,"Signature without r or s"),this.r=new o(c.r,16),this.s=new o(c.s,16),this.recoveryParam=c.recoveryParam===void 0?null:c.recoveryParam))}function w(){this.place=0}function v(c,s){var t=c[s.place++];if(!(128&t))return t;var n=15&t;if(n==0||4<n)return!1;for(var a=0,l=0,f=s.place;l<n;l++,f++)a<<=8,a|=c[f],a>>>=0;return!(127>=a)&&(s.place=f,a)}function h(c){for(var s=0,t=c.length-1;!c[s]&&!(128&c[s+1])&&s<t;)s++;return s===0?c:c.slice(s)}function e(c,s){if(128>s)return void c.push(s);var t=1+(Q(s)/we>>>3);for(c.push(128|t);--t;)c.push(255&s>>>(t<<3));c.push(s)}var o=m("bn.js"),i=m("../utils"),u=i.assert;U.exports=p,p.prototype._importDER=function(s,t){s=i.toArray(s,t);var n=new w;if(s[n.place++]!==48)return!1;var a=v(s,n);if(a===!1||a+n.place!==s.length||s[n.place++]!==2)return!1;var l=v(s,n);if(l===!1)return!1;var f=s.slice(n.place,l+n.place);if(n.place+=l,s[n.place++]!==2)return!1;var b=v(s,n);if(b===!1||s.length!==b+n.place)return!1;var C=s.slice(n.place,b+n.place);if(f[0]===0)if(128&f[1])f=f.slice(1);else return!1;if(C[0]===0)if(128&C[1])C=C.slice(1);else return!1;return this.r=new o(f),this.s=new o(C),this.recoveryParam=null,!0},p.prototype.toDER=function(s){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=h(t),n=h(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var a=[2];e(a,t.length),a=a.concat(t),a.push(2),e(a,n.length);var l=a.concat(n),f=[48];return e(f,l.length),f=f.concat(l),i.encode(f,s)}},{"../utils":118,"bn.js":119}],114:[function(m,U,k){"use strict";function p(c){return e(c==="ed25519","only tested with ed25519 so far"),this instanceof p?(c=v[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=N(c.n.bitLength()/8),void(this.hash=w.sha512)):new p(c)}var w=m("hash.js"),v=m("../curves"),h=m("../utils"),e=h.assert,o=h.parseBytes,i=m("./key"),u=m("./signature");U.exports=p,p.prototype.sign=function(s,t){s=o(s);var n=this.keyFromSecret(t),a=this.hashInt(n.messagePrefix(),s),l=this.g.mul(a),f=this.encodePoint(l),b=this.hashInt(f,n.pubBytes(),s).mul(n.priv()),C=a.add(b).umod(this.curve.n);return this.makeSignature({R:l,S:C,Rencoded:f})},p.prototype.verify=function(s,t,n){s=o(s),t=this.makeSignature(t);var a=this.keyFromPublic(n),l=this.hashInt(t.Rencoded(),a.pubBytes(),s),f=this.g.mul(t.S()),b=t.R().add(a.pub().mul(l));return b.eq(f)},p.prototype.hashInt=function(){for(var s=this.hash(),t=0;t<arguments.length;t++)s.update(arguments[t]);return h.intFromLE(s.digest()).umod(this.curve.n)},p.prototype.keyFromPublic=function(s){return i.fromPublic(this,s)},p.prototype.keyFromSecret=function(s){return i.fromSecret(this,s)},p.prototype.makeSignature=function(s){return s instanceof u?s:new u(this,s)},p.prototype.encodePoint=function(s){var t=s.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=s.getX().isOdd()?128:0,t},p.prototype.decodePoint=function(s){s=h.parseBytes(s);var t=s.length-1,n=s.slice(0,t).concat(-129&s[t]),a=(128&s[t])!=0,l=h.intFromLE(n);return this.curve.pointFromY(l,a)},p.prototype.encodeInt=function(s){return s.toArray("le",this.encodingLength)},p.prototype.decodeInt=function(s){return h.intFromLE(s)},p.prototype.isPoint=function(s){return s instanceof this.pointClass}},{"../curves":110,"../utils":118,"./key":115,"./signature":116,"hash.js":131}],115:[function(m,U,k){"use strict";function p(o,i){this.eddsa=o,this._secret=h(i.secret),o.isPoint(i.pub)?this._pub=i.pub:this._pubBytes=h(i.pub)}var w=m("../utils"),v=w.assert,h=w.parseBytes,e=w.cachedProperty;p.fromPublic=function(i,u){return u instanceof p?u:new p(i,{pub:u})},p.fromSecret=function(i,u){return u instanceof p?u:new p(i,{secret:u})},p.prototype.secret=function(){return this._secret},e(p,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),e(p,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),e(p,"privBytes",function(){var i=this.eddsa,u=this.hash(),c=i.encodingLength-1,s=u.slice(0,i.encodingLength);return s[0]&=248,s[c]&=127,s[c]|=64,s}),e(p,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),e(p,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),e(p,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),p.prototype.sign=function(i){return v(this._secret,"KeyPair can only verify"),this.eddsa.sign(i,this)},p.prototype.verify=function(i,u){return this.eddsa.verify(i,u,this)},p.prototype.getSecret=function(i){return v(this._secret,"KeyPair is public only"),w.encode(this.secret(),i)},p.prototype.getPublic=function(i){return w.encode(this.pubBytes(),i)},U.exports=p},{"../utils":118}],116:[function(m,U,k){"use strict";function p(i,u){this.eddsa=i,typeof u!="object"&&(u=o(u)),Array.isArray(u)&&(u={R:u.slice(0,i.encodingLength),S:u.slice(i.encodingLength)}),h(u.R&&u.S,"Signature without R or S"),i.isPoint(u.R)&&(this._R=u.R),u.S instanceof w&&(this._S=u.S),this._Rencoded=Array.isArray(u.R)?u.R:u.Rencoded,this._Sencoded=Array.isArray(u.S)?u.S:u.Sencoded}var w=m("bn.js"),v=m("../utils"),h=v.assert,e=v.cachedProperty,o=v.parseBytes;e(p,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),e(p,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),e(p,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),e(p,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),p.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},p.prototype.toHex=function(){return v.encode(this.toBytes(),"hex").toUpperCase()},U.exports=p},{"../utils":118,"bn.js":119}],117:[function(m,U,k){U.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],118:[function(m,U,k){"use strict";function p(s,t,n){var a=Array(F(s.bitLength(),n)+1);a.fill(0);for(var l=1<<t+1,f=s.clone(),b=0;b<a.length;b++){var C=f.andln(l-1),$;f.isOdd()?($=C>(l>>1)-1?(l>>1)-C:C,f.isubn($)):$=0,a[b]=$,f.iushrn(1)}return a}function w(s,t){var n=[[],[]];s=s.clone(),t=t.clone();for(var a=0,l=0,f;0<s.cmpn(-a)||0<t.cmpn(-l);){var b=3&s.andln(3)+a,C=3&t.andln(3)+l;b==3&&(b=-1),C===3&&(C=-1);var $;(1&b)==0?$=0:(f=7&s.andln(7)+a,$=(f===3||f===5)&&C===2?-b:b),n[0].push($);var W;(1&C)==0?W=0:(f=7&t.andln(7)+l,W=(f===3||f===5)&&b===2?-C:C),n[1].push(W),2*a===$+1&&(a=1-a),2*l===W+1&&(l=1-l),s.iushrn(1),t.iushrn(1)}return n}function v(s,t,n){var a="_"+t;s.prototype[t]=function(){return this[a]===void 0?this[a]=n.call(this):this[a]}}function h(s){return typeof s=="string"?o.toArray(s,"hex"):s}function e(s){return new i(s,"hex","le")}var o=k,i=m("bn.js"),u=m("minimalistic-assert"),c=m("minimalistic-crypto-utils");o.assert=u,o.toArray=c.toArray,o.zero2=c.zero2,o.toHex=c.toHex,o.encode=c.encode,o.getNAF=p,o.getJSF=w,o.cachedProperty=v,o.parseBytes=h,o.intFromLE=e},{"bn.js":119,"minimalistic-assert":168,"minimalistic-crypto-utils":169}],119:[function(m,U,k){arguments[4][22][0].apply(k,arguments)},{buffer:42,dup:22}],120:[function(m,U,k){U.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],121:[function(m,U,k){(function(p){(function(){var w=m("once"),v=function(){},h=function(i){return i.setHeader&&typeof i.abort=="function"},e=function(i){return i.stdio&&Array.isArray(i.stdio)&&i.stdio.length===3},o=function(i,u,c){if(typeof u=="function")return o(i,null,u);u||(u={}),c=w(c||v);var s=i._writableState,t=i._readableState,n=u.readable||u.readable!==!1&&i.readable,a=u.writable||u.writable!==!1&&i.writable,l=!1,f=function(){i.writable||b()},b=function(){a=!1,n||c.call(i)},C=function(){n=!1,a||c.call(i)},$=function(ee){c.call(i,ee?new Error("exited with error code: "+ee):null)},W=function(ee){c.call(i,ee)},R=function(){p.nextTick(L)},L=function(){return l?void 0:n&&!(t&&t.ended&&!t.destroyed)?c.call(i,new Error("premature close")):a&&!(s&&s.ended&&!s.destroyed)?c.call(i,new Error("premature close")):void 0},q=function(){i.req.on("finish",b)};return h(i)?(i.on("complete",b),i.on("abort",R),i.req?q():i.on("request",q)):a&&!s&&(i.on("end",f),i.on("close",f)),e(i)&&i.on("exit",$),i.on("end",C),i.on("finish",b),u.error!==!1&&i.on("error",W),i.on("close",R),function(){l=!0,i.removeListener("complete",b),i.removeListener("abort",R),i.removeListener("request",q),i.req&&i.req.removeListener("finish",b),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",b),i.removeListener("exit",$),i.removeListener("end",C),i.removeListener("error",W),i.removeListener("close",R)}};U.exports=o}).call(this)}).call(this,m("_process"))},{_process:193,once:178}],122:[function(m,U,k){"use strict";function p(v,h){for(let e in h)Object.defineProperty(v,e,{value:h[e],enumerable:!0,configurable:!0});return v}function w(v,h,e){if(!v||typeof v=="string")throw new TypeError("Please pass an Error to err-code");e||(e={}),typeof h=="object"&&(e=h,h=""),h&&(e.code=h);try{return p(v,e)}catch{e.message=v.message,e.stack=v.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(v)),p(new i,e)}}U.exports=w},{}],123:[function(m,U,k){"use strict";function p(L){console&&console.warn&&console.warn(L)}function w(){w.init.call(this)}function v(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function h(L){return L._maxListeners===void 0?w.defaultMaxListeners:L._maxListeners}function e(L,q,ee,ae){var fe,Ee,se;if(v(ee),Ee=L._events,Ee===void 0?(Ee=L._events=Object.create(null),L._eventsCount=0):(Ee.newListener!==void 0&&(L.emit("newListener",q,ee.listener?ee.listener:ee),Ee=L._events),se=Ee[q]),se===void 0)se=Ee[q]=ee,++L._eventsCount;else if(typeof se=="function"?se=Ee[q]=ae?[ee,se]:[se,ee]:ae?se.unshift(ee):se.push(ee),fe=h(L),0<fe&&se.length>fe&&!se.warned){se.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+(q+" listeners added. Use emitter.setMaxListeners() to increase limit"));B.name="MaxListenersExceededWarning",B.emitter=L,B.type=q,B.count=se.length,p(B)}return L}function o(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(L,q,ee){var ae={fired:!1,wrapFn:void 0,target:L,type:q,listener:ee},fe=o.bind(ae);return fe.listener=ee,ae.wrapFn=fe,fe}function u(L,q,ee){var ae=L._events;if(ae===void 0)return[];var fe=ae[q];return fe===void 0?[]:typeof fe=="function"?ee?[fe.listener||fe]:[fe]:ee?n(fe):s(fe,fe.length)}function c(L){var q=this._events;if(q!==void 0){var ee=q[L];if(typeof ee=="function")return 1;if(ee!==void 0)return ee.length}return 0}function s(L,q){for(var ee=Array(q),ae=0;ae<q;++ae)ee[ae]=L[ae];return ee}function t(L,q){for(;q+1<L.length;q++)L[q]=L[q+1];L.pop()}function n(L){for(var q=Array(L.length),ee=0;ee<q.length;++ee)q[ee]=L[ee].listener||L[ee];return q}function a(L,q){return new Promise(function(ee,ae){function fe(se){L.removeListener(q,Ee),ae(se)}function Ee(){typeof L.removeListener=="function"&&L.removeListener("error",fe),ee([].slice.call(arguments))}f(L,q,Ee,{once:!0}),q!=="error"&&l(L,fe,{once:!0})})}function l(L,q,ee){typeof L.on=="function"&&f(L,"error",q,ee)}function f(L,q,ee,ae){if(typeof L.on=="function")ae.once?L.once(q,ee):L.on(q,ee);else if(typeof L.addEventListener=="function")L.addEventListener(q,function fe(Ee){ae.once&&L.removeEventListener(q,fe),ee(Ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}var b=typeof Reflect=="object"?Reflect:null,C=b&&typeof b.apply=="function"?b.apply:function(q,ee,ae){return Function.prototype.apply.call(q,ee,ae)},$;$=b&&typeof b.ownKeys=="function"?b.ownKeys:Object.getOwnPropertySymbols?function(q){return Object.getOwnPropertyNames(q).concat(Object.getOwnPropertySymbols(q))}:function(q){return Object.getOwnPropertyNames(q)};var W=Number.isNaN||function(q){return q!==q};U.exports=w,U.exports.once=a,w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var R=10;Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return R},set:function(L){if(typeof L!="number"||0>L||W(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");R=L}}),w.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(q){if(typeof q!="number"||0>q||W(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+q+".");return this._maxListeners=q,this},w.prototype.getMaxListeners=function(){return h(this)},w.prototype.emit=function(q){for(var ee=[],ae=1;ae<arguments.length;ae++)ee.push(arguments[ae]);var fe=q==="error",Ee=this._events;if(Ee!==void 0)fe=fe&&Ee.error===void 0;else if(!fe)return!1;if(fe){var se;if(0<ee.length&&(se=ee[0]),se instanceof Error)throw se;var B=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw B.context=se,B}var K=Ee[q];if(K===void 0)return!1;if(typeof K=="function")C(K,this,ee);else for(var j=K.length,x=s(K,j),ae=0;ae<j;++ae)C(x[ae],this,ee);return!0},w.prototype.addListener=function(q,ee){return e(this,q,ee,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(q,ee){return e(this,q,ee,!0)},w.prototype.once=function(q,ee){return v(ee),this.on(q,i(this,q,ee)),this},w.prototype.prependOnceListener=function(q,ee){return v(ee),this.prependListener(q,i(this,q,ee)),this},w.prototype.removeListener=function(q,ee){var ae,fe,Ee,se,B;if(v(ee),fe=this._events,fe===void 0)return this;if(ae=fe[q],ae===void 0)return this;if(ae===ee||ae.listener===ee)--this._eventsCount==0?this._events=Object.create(null):(delete fe[q],fe.removeListener&&this.emit("removeListener",q,ae.listener||ee));else if(typeof ae!="function"){for(Ee=-1,se=ae.length-1;0<=se;se--)if(ae[se]===ee||ae[se].listener===ee){B=ae[se].listener,Ee=se;break}if(0>Ee)return this;Ee===0?ae.shift():t(ae,Ee),ae.length===1&&(fe[q]=ae[0]),fe.removeListener!==void 0&&this.emit("removeListener",q,B||ee)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(q){var ee,ae,fe;if(ae=this._events,ae===void 0)return this;if(ae.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ae[q]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete ae[q]),this;if(arguments.length===0){var Ee=Object.keys(ae),se;for(fe=0;fe<Ee.length;++fe)se=Ee[fe],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ee=ae[q],typeof ee=="function")this.removeListener(q,ee);else if(ee!==void 0)for(fe=ee.length-1;0<=fe;fe--)this.removeListener(q,ee[fe]);return this},w.prototype.listeners=function(q){return u(this,q,!0)},w.prototype.rawListeners=function(q){return u(this,q,!1)},w.listenerCount=function(L,q){return typeof L.listenerCount=="function"?L.listenerCount(q):c.call(L,q)},w.prototype.listenerCount=c,w.prototype.eventNames=function(){return 0<this._eventsCount?$(this._events):[]}},{}],124:[function(m,U,k){function p(h,e,o,i){if(w.isBuffer(h)||(h=w.from(h,"binary")),e&&(w.isBuffer(e)||(e=w.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var u=o/8,c=w.alloc(u),s=w.alloc(i||0),t=w.alloc(0),n;0<u||0<i;){n=new v,n.update(t),n.update(h),e&&n.update(e),t=n.digest();var a=0;if(0<u){var l=c.length-u;a=J(u,t.length),t.copy(c,l,0,a),u-=a}if(a<t.length&&0<i){var f=s.length-i,b=J(i,t.length-a);t.copy(s,f,a,a+b),i-=b}}return t.fill(0),{key:c,iv:s}}var w=m("safe-buffer").Buffer,v=m("md5.js");U.exports=p},{"md5.js":159,"safe-buffer":235}],125:[function(m,U,k){function p(e,o={}){return w.from(e.stream(),o)}let{Readable:w,Writable:v}=m("streamx");m("fast-readable-async-iterator");class h extends v{constructor(o,i={}){super(Object.assign({decodeStrings:!1},i)),this.chunks=[];let u=i.mimeType;this.once("close",()=>{let c=u==null?new Blob(this.chunks):new Blob(this.chunks,{type:u});o(c),this.emit("blob",c)})}_write(o,i){this.chunks.push(o),i()}}U.exports={BlobWriteStream:h,BlobReadStream:p}},{"fast-readable-async-iterator":128,streamx:264}],126:[function(m,U,k){U.exports=class{constructor(w){if(!(0<w)||(w-1&w)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(w),this.mask=w-1,this.top=0,this.btm=0,this.next=null}push(w){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=w,this.top=this.top+1&this.mask,!0)}shift(){let w=this.buffer[this.btm];if(w!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,w}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}},{}],127:[function(m,U,k){let p=m("./fixed-size");U.exports=class{constructor(v){this.hwm=v||16,this.head=new p(this.hwm),this.tail=this.head}push(v){if(!this.head.push(v)){let h=this.head;this.head=h.next=new p(2*this.head.buffer.length),this.head.push(v)}}shift(){let v=this.tail.shift();if(v===void 0&&this.tail.next){let h=this.tail.next;return this.tail.next=null,this.tail=h,this.tail.shift()}return v}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":126}],128:[function(m,U,k){typeof ReadableStream=="undefined"||ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=function(){let p=this.getReader(),w=p.read();return{next(){let v=w;return w=p.read(),v},return(){w.then(()=>p.releaseLock())},throw(v){throw this.return(),v},[Symbol.asyncIterator](){return this}}})},{}],129:[function(m,U,k){U.exports=function(){if(typeof globalThis=="undefined")return null;var w={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return w.RTCPeerConnection?w:null}},{}],130:[function(m,U,k){"use strict";function p(o,i){if(!v.isBuffer(o)&&typeof o!="string")throw new TypeError(i+" must be a string or a buffer")}function w(o){h.call(this),this._block=v.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var v=m("safe-buffer").Buffer,h=m("readable-stream").Transform,e=m("inherits");e(w,h),w.prototype._transform=function(o,i,u){var c=null;try{this.update(o,i)}catch(s){c=s}u(c)},w.prototype._flush=function(o){var i=null;try{this.push(this.digest())}catch(u){i=u}o(i)},w.prototype.update=function(o,i){if(p(o,"Data"),this._finalized)throw new Error("Digest already called");v.isBuffer(o)||(o=v.from(o,i));for(var u=this._block,c=0;this._blockOffset+o.length-c>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)u[s++]=o[c++];this._update(),this._blockOffset=0}for(;c<o.length;)u[this._blockOffset++]=o[c++];for(var t=0,n=8*o.length;0<n;++t)this._length[t]+=n,n=0|this._length[t]/4294967296,0<n&&(this._length[t]-=4294967296*n);return this},w.prototype._update=function(){throw new Error("_update is not implemented")},w.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var i=this._digest();o!==void 0&&(i=i.toString(o)),this._block.fill(0),this._blockOffset=0;for(var u=0;4>u;++u)this._length[u]=0;return i},w.prototype._digest=function(){throw new Error("_digest is not implemented")},U.exports=w},{inherits:147,"readable-stream":228,"safe-buffer":235}],131:[function(m,U,k){var p=k;p.utils=m("./hash/utils"),p.common=m("./hash/common"),p.sha=m("./hash/sha"),p.ripemd=m("./hash/ripemd"),p.hmac=m("./hash/hmac"),p.sha1=p.sha.sha1,p.sha256=p.sha.sha256,p.sha224=p.sha.sha224,p.sha384=p.sha.sha384,p.sha512=p.sha.sha512,p.ripemd160=p.ripemd.ripemd160},{"./hash/common":132,"./hash/hmac":133,"./hash/ripemd":134,"./hash/sha":135,"./hash/utils":142}],132:[function(m,U,k){"use strict";function p(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var w=m("./utils"),v=m("minimalistic-assert");k.BlockHash=p,p.prototype.update=function(e,o){if(e=w.toArray(e,o),this.pending=this.pending?this.pending.concat(e):e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=w.join32(e,0,e.length-i,this.endian);for(var u=0;u<e.length;u+=this._delta32)this._update(e,u,u+this._delta32)}return this},p.prototype.digest=function(e){return this.update(this._pad()),v(this.pending===null),this._digest(e)},p.prototype._pad=function(){var e=this.pendingTotal,o=this._delta8,i=o-(e+this.padLength)%o,u=Array(i+this.padLength);u[0]=128;for(var c=1;c<i;c++)u[c]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=255&e>>>24,u[c++]=255&e>>>16,u[c++]=255&e>>>8,u[c++]=255&e}else for(u[c++]=255&e,u[c++]=255&e>>>8,u[c++]=255&e>>>16,u[c++]=255&e>>>24,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,s=8;s<this.padLength;s++)u[c++]=0;return u}},{"./utils":142,"minimalistic-assert":168}],133:[function(m,U,k){"use strict";function p(h,e,o){return this instanceof p?(this.Hash=h,this.blockSize=h.blockSize/8,this.outSize=h.outSize/8,this.inner=null,this.outer=null,void this._init(w.toArray(e,o))):new p(h,e,o)}var w=m("./utils"),v=m("minimalistic-assert");U.exports=p,p.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),v(e.length<=this.blockSize);for(var o=e.length;o<this.blockSize;o++)e.push(0);for(o=0;o<e.length;o++)e[o]^=54;for(this.inner=new this.Hash().update(e),o=0;o<e.length;o++)e[o]^=106;this.outer=new this.Hash().update(e)},p.prototype.update=function(e,o){return this.inner.update(e,o),this},p.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":142,"minimalistic-assert":168}],134:[function(m,U,k){"use strict";function p(){return this instanceof p?(t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new p}function w(b,C,$,W){return 15>=b?C^$^W:31>=b?C&$|~C&W:47>=b?(C|~$)^W:63>=b?C&W|$&~W:C^($|~W)}function v(b){return 15>=b?0:31>=b?1518500249:47>=b?1859775393:63>=b?2400959708:2840853838}function h(b){return 15>=b?1352829926:31>=b?1548603684:47>=b?1836072691:63>=b?2053994217:0}var e=m("./utils"),o=m("./common"),i=e.rotl32,u=e.sum32,c=e.sum32_3,s=e.sum32_4,t=o.BlockHash;e.inherits(p,t),k.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(C,$){for(var W=this.h[0],R=this.h[1],L=this.h[2],q=this.h[3],ee=this.h[4],ae=W,fe=R,Ee=L,se=q,B=ee,K=0,j;80>K;K++)j=u(i(s(W,w(K,R,L,q),C[n[K]+$],v(K)),l[K]),ee),W=ee,ee=q,q=i(L,10),L=R,R=j,j=u(i(s(ae,w(79-K,fe,Ee,se),C[a[K]+$],h(K)),f[K]),B),ae=B,B=se,se=i(Ee,10),Ee=fe,fe=j;j=c(this.h[1],L,se),this.h[1]=c(this.h[2],q,B),this.h[2]=c(this.h[3],ee,ae),this.h[3]=c(this.h[4],W,fe),this.h[4]=c(this.h[0],R,Ee),this.h[0]=j},p.prototype._digest=function(C){return C==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":132,"./utils":142}],135:[function(m,U,k){"use strict";k.sha1=m("./sha/1"),k.sha224=m("./sha/224"),k.sha256=m("./sha/256"),k.sha384=m("./sha/384"),k.sha512=m("./sha/512")},{"./sha/1":136,"./sha/224":137,"./sha/256":138,"./sha/384":139,"./sha/512":140}],136:[function(m,U,k){"use strict";function p(){return this instanceof p?(c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new p}var w=m("../utils"),v=m("../common"),h=m("./common"),e=w.rotl32,o=w.sum32,i=w.sum32_5,u=h.ft_1,c=v.BlockHash,s=[1518500249,1859775393,2400959708,3395469782];w.inherits(p,c),U.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(n,a){for(var l=this.W,f=0;16>f;f++)l[f]=n[a+f];for(;f<l.length;f++)l[f]=e(l[f-3]^l[f-8]^l[f-14]^l[f-16],1);var b=this.h[0],C=this.h[1],$=this.h[2],W=this.h[3],R=this.h[4];for(f=0;f<l.length;f++){var L=~~(f/20),q=i(e(b,5),u(L,C,$,W),R,l[f],s[L]);R=W,W=$,$=e(C,30),C=b,b=q}this.h[0]=o(this.h[0],b),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],$),this.h[3]=o(this.h[3],W),this.h[4]=o(this.h[4],R)},p.prototype._digest=function(n){return n==="hex"?w.toHex32(this.h,"big"):w.split32(this.h,"big")}},{"../common":132,"../utils":142,"./common":141}],137:[function(m,U,k){"use strict";function p(){return this instanceof p?(v.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new p}var w=m("../utils"),v=m("./256");w.inherits(p,v),U.exports=p,p.blockSize=512,p.outSize=224,p.hmacStrength=192,p.padLength=64,p.prototype._digest=function(e){return e==="hex"?w.toHex32(this.h.slice(0,7),"big"):w.split32(this.h.slice(0,7),"big")}},{"../utils":142,"./256":138}],138:[function(m,U,k){"use strict";function p(){return this instanceof p?(f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,void(this.W=Array(64))):new p}var w=m("../utils"),v=m("../common"),h=m("./common"),e=m("minimalistic-assert"),o=w.sum32,i=w.sum32_4,u=w.sum32_5,c=h.ch32,s=h.maj32,t=h.s0_256,n=h.s1_256,a=h.g0_256,l=h.g1_256,f=v.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];w.inherits(p,f),U.exports=p,p.blockSize=512,p.outSize=256,p.hmacStrength=192,p.padLength=64,p.prototype._update=function($,W){for(var R=this.W,L=0;16>L;L++)R[L]=$[W+L];for(;L<R.length;L++)R[L]=i(l(R[L-2]),R[L-7],a(R[L-15]),R[L-16]);var q=this.h[0],ee=this.h[1],ae=this.h[2],fe=this.h[3],Ee=this.h[4],se=this.h[5],B=this.h[6],K=this.h[7];for(e(this.k.length===R.length),L=0;L<R.length;L++){var j=u(K,n(Ee),c(Ee,se,B),this.k[L],R[L]),x=o(t(q),s(q,ee,ae));K=B,B=se,se=Ee,Ee=o(fe,j),fe=ae,ae=ee,ee=q,q=o(j,x)}this.h[0]=o(this.h[0],q),this.h[1]=o(this.h[1],ee),this.h[2]=o(this.h[2],ae),this.h[3]=o(this.h[3],fe),this.h[4]=o(this.h[4],Ee),this.h[5]=o(this.h[5],se),this.h[6]=o(this.h[6],B),this.h[7]=o(this.h[7],K)},p.prototype._digest=function($){return $==="hex"?w.toHex32(this.h,"big"):w.split32(this.h,"big")}},{"../common":132,"../utils":142,"./common":141,"minimalistic-assert":168}],139:[function(m,U,k){"use strict";function p(){return this instanceof p?(v.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new p}var w=m("../utils"),v=m("./512");w.inherits(p,v),U.exports=p,p.blockSize=1024,p.outSize=384,p.hmacStrength=192,p.padLength=128,p.prototype._digest=function(e){return e==="hex"?w.toHex32(this.h.slice(0,12),"big"):w.split32(this.h.slice(0,12),"big")}},{"../utils":142,"./512":140}],140:[function(m,U,k){"use strict";function p(){return this instanceof p?(B.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=K,void(this.W=Array(160))):new p}function w(j,x,z,Z,oe){var Y=j&z^~j&oe;return 0>Y&&(Y+=4294967296),Y}function v(j,x,z,Z,oe,Y){var le=x&Z^~x&Y;return 0>le&&(le+=4294967296),le}function h(j,x,z,Z,oe){var Y=j&z^j&oe^z&oe;return 0>Y&&(Y+=4294967296),Y}function e(j,x,z,Z,oe,Y){var le=x&Z^x&Y^Z&Y;return 0>le&&(le+=4294967296),le}function o(j,x){var z=C(j,x,28),Z=C(x,j,2),oe=C(x,j,7),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function i(j,x){var z=$(j,x,28),Z=$(x,j,2),oe=$(x,j,7),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function u(j,x){var z=C(j,x,14),Z=C(j,x,18),oe=C(x,j,9),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function c(j,x){var z=$(j,x,14),Z=$(j,x,18),oe=$(x,j,9),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function s(j,x){var z=C(j,x,1),Z=C(j,x,8),oe=W(j,x,7),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function t(j,x){var z=$(j,x,1),Z=$(j,x,8),oe=R(j,x,7),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function n(j,x){var z=C(j,x,19),Z=C(x,j,29),oe=W(j,x,6),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}function a(j,x){var z=$(j,x,19),Z=$(x,j,29),oe=R(j,x,6),Y=z^Z^oe;return 0>Y&&(Y+=4294967296),Y}var l=m("../utils"),f=m("../common"),b=m("minimalistic-assert"),C=l.rotr64_hi,$=l.rotr64_lo,W=l.shr64_hi,R=l.shr64_lo,L=l.sum64,q=l.sum64_hi,ee=l.sum64_lo,ae=l.sum64_4_hi,fe=l.sum64_4_lo,Ee=l.sum64_5_hi,se=l.sum64_5_lo,B=f.BlockHash,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];l.inherits(p,B),U.exports=p,p.blockSize=1024,p.outSize=512,p.hmacStrength=192,p.padLength=128,p.prototype._prepareBlock=function(x,z){for(var Z=this.W,oe=0;32>oe;oe++)Z[oe]=x[z+oe];for(;oe<Z.length;oe+=2){var Y=n(Z[oe-4],Z[oe-3]),le=a(Z[oe-4],Z[oe-3]),ge=Z[oe-14],Re=Z[oe-13],Ae=s(Z[oe-30],Z[oe-29]),De=t(Z[oe-30],Z[oe-29]),$e=Z[oe-32],Ye=Z[oe-31];Z[oe]=ae(Y,le,ge,Re,Ae,De,$e,Ye),Z[oe+1]=fe(Y,le,ge,Re,Ae,De,$e,Ye)}},p.prototype._update=function(x,z){this._prepareBlock(x,z);var Z=this.W,oe=this.h[0],Y=this.h[1],le=this.h[2],ge=this.h[3],Re=this.h[4],Ae=this.h[5],De=this.h[6],$e=this.h[7],Ye=this.h[8],rt=this.h[9],bt=this.h[10],ut=this.h[11],Me=this.h[12],Ge=this.h[13],Ze=this.h[14],ft=this.h[15];b(this.k.length===Z.length);for(var Mt=0;Mt<Z.length;Mt+=2){var ue=Ze,G=ft,te=u(Ye,rt),de=c(Ye,rt),_e=w(Ye,rt,bt,ut,Me,Ge),Pe=v(Ye,rt,bt,ut,Me,Ge),je=this.k[Mt],Ue=this.k[Mt+1],yt=Z[Mt],mt=Z[Mt+1],et=Ee(ue,G,te,de,_e,Pe,je,Ue,yt,mt),Dt=se(ue,G,te,de,_e,Pe,je,Ue,yt,mt);ue=o(oe,Y),G=i(oe,Y),te=h(oe,Y,le,ge,Re,Ae),de=e(oe,Y,le,ge,Re,Ae);var wt=q(ue,G,te,de),Lt=ee(ue,G,te,de);Ze=Me,ft=Ge,Me=bt,Ge=ut,bt=Ye,ut=rt,Ye=q(De,$e,et,Dt),rt=ee($e,$e,et,Dt),De=Re,$e=Ae,Re=le,Ae=ge,le=oe,ge=Y,oe=q(et,Dt,wt,Lt),Y=ee(et,Dt,wt,Lt)}L(this.h,0,oe,Y),L(this.h,2,le,ge),L(this.h,4,Re,Ae),L(this.h,6,De,$e),L(this.h,8,Ye,rt),L(this.h,10,bt,ut),L(this.h,12,Me,Ge),L(this.h,14,Ze,ft)},p.prototype._digest=function(x){return x==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":132,"../utils":142,"minimalistic-assert":168}],141:[function(m,U,k){"use strict";function p(t,n,a,l){return t===0?w(n,a,l):t===1||t===3?h(n,a,l):t===2?v(n,a,l):void 0}function w(t,n,a){return t&n^~t&a}function v(t,n,a){return t&n^t&a^n&a}function h(t,n,a){return t^n^a}function e(t){return s(t,2)^s(t,13)^s(t,22)}function o(t){return s(t,6)^s(t,11)^s(t,25)}function i(t){return s(t,7)^s(t,18)^t>>>3}function u(t){return s(t,17)^s(t,19)^t>>>10}var c=m("../utils"),s=c.rotr32;k.ft_1=p,k.ch32=w,k.maj32=v,k.p32=h,k.s0_256=e,k.s1_256=o,k.g0_256=i,k.g1_256=u},{"../utils":142}],142:[function(m,U,k){"use strict";function p(K,j){return(64512&K.charCodeAt(j))==55296&&!(0>j||j+1>=K.length)&&(64512&K.charCodeAt(j+1))==56320}function w(K,j){if(Array.isArray(K))return K.slice();if(!K)return[];var x=[];if(typeof K!="string")for(Z=0;Z<K.length;Z++)x[Z]=0|K[Z];else if(j){if(j==="hex")for(K=K.replace(/[^a-z0-9]+/ig,""),K.length%2!=0&&(K="0"+K),Z=0;Z<K.length;Z+=2)x.push(parseInt(K[Z]+K[Z+1],16))}else for(var z=0,Z=0,oe;Z<K.length;Z++)oe=K.charCodeAt(Z),128>oe?x[z++]=oe:2048>oe?(x[z++]=192|oe>>6,x[z++]=128|63&oe):p(K,Z)?(oe=65536+((1023&oe)<<10)+(1023&K.charCodeAt(++Z)),x[z++]=240|oe>>18,x[z++]=128|63&oe>>12,x[z++]=128|63&oe>>6,x[z++]=128|63&oe):(x[z++]=224|oe>>12,x[z++]=128|63&oe>>6,x[z++]=128|63&oe);return x}function v(K){for(var j="",x=0;x<K.length;x++)j+=o(K[x].toString(16));return j}function h(K){var j=K>>>24|65280&K>>>8|16711680&K<<8|(255&K)<<24;return j>>>0}function e(K,j){for(var x="",z=0,Z;z<K.length;z++)Z=K[z],j==="little"&&(Z=h(Z)),x+=i(Z.toString(16));return x}function o(K){return K.length===1?"0"+K:K}function i(K){return K.length===7?"0"+K:K.length===6?"00"+K:K.length===5?"000"+K:K.length===4?"0000"+K:K.length===3?"00000"+K:K.length===2?"000000"+K:K.length===1?"0000000"+K:K}function u(K,j,x,z){var Z=x-j;se(Z%4==0);for(var oe=Array(Z/4),Y=0,le=j;Y<oe.length;Y++,le+=4){var ge;ge=z==="big"?K[le]<<24|K[le+1]<<16|K[le+2]<<8|K[le+3]:K[le+3]<<24|K[le+2]<<16|K[le+1]<<8|K[le],oe[Y]=ge>>>0}return oe}function c(K,j){for(var x=Array(4*K.length),z=0,Z=0,oe;z<K.length;z++,Z+=4)oe=K[z],j==="big"?(x[Z]=oe>>>24,x[Z+1]=255&oe>>>16,x[Z+2]=255&oe>>>8,x[Z+3]=255&oe):(x[Z+3]=oe>>>24,x[Z+2]=255&oe>>>16,x[Z+1]=255&oe>>>8,x[Z]=255&oe);return x}function s(K,j){return K>>>j|K<<32-j}function t(K,j){return K<<j|K>>>32-j}function n(K,j){return K+j>>>0}function a(K,j,x){return K+j+x>>>0}function l(K,j,x,z){return K+j+x+z>>>0}function f(K,j,x,z,Z){return K+j+x+z+Z>>>0}function b(K,j,x,z){var Z=K[j],oe=K[j+1],Y=z+oe>>>0,le=(Y<z?1:0)+x+Z;K[j]=le>>>0,K[j+1]=Y}function C(K,j,x,z){var Z=j+z>>>0,oe=(Z<j?1:0)+K+x;return oe>>>0}function $(K,j,x,z){var Z=j+z;return Z>>>0}function W(K,j,x,z,Z,oe,Y,le){var ge=0,Re=j;Re=Re+z>>>0,ge+=Re<j?1:0,Re=Re+oe>>>0,ge+=Re<oe?1:0,Re=Re+le>>>0,ge+=Re<le?1:0;var Ae=K+x+Z+Y+ge;return Ae>>>0}function R(K,j,x,z,Z,oe,Y,le){var ge=j+z+oe+le;return ge>>>0}function L(K,j,x,z,Z,oe,Y,le,ge,Re){var Ae=0,De=j;De=De+z>>>0,Ae+=De<j?1:0,De=De+oe>>>0,Ae+=De<oe?1:0,De=De+le>>>0,Ae+=De<le?1:0,De=De+Re>>>0,Ae+=De<Re?1:0;var $e=K+x+Z+Y+ge+Ae;return $e>>>0}function q(K,j,x,z,Z,oe,Y,le,ge,Re){var Ae=j+z+oe+le+Re;return Ae>>>0}function ee(K,j,x){var z=j<<32-x|K>>>x;return z>>>0}function ae(K,j,x){var z=K<<32-x|j>>>x;return z>>>0}function fe(K,j,x){return K>>>x}function Ee(K,j,x){var z=K<<32-x|j>>>x;return z>>>0}var se=m("minimalistic-assert"),B=m("inherits");k.inherits=B,k.toArray=w,k.toHex=v,k.htonl=h,k.toHex32=e,k.zero2=o,k.zero8=i,k.join32=u,k.split32=c,k.rotr32=s,k.rotl32=t,k.sum32=n,k.sum32_3=a,k.sum32_4=l,k.sum32_5=f,k.sum64=b,k.sum64_hi=C,k.sum64_lo=$,k.sum64_4_hi=W,k.sum64_4_lo=R,k.sum64_5_hi=L,k.sum64_5_lo=q,k.rotr64_hi=ee,k.rotr64_lo=ae,k.shr64_hi=fe,k.shr64_lo=Ee},{inherits:147,"minimalistic-assert":168}],143:[function(m,U,k){"use strict";function p(e){if(!(this instanceof p))return new p(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=v.toArray(e.entropy,e.entropyEnc||"hex"),i=v.toArray(e.nonce,e.nonceEnc||"hex"),u=v.toArray(e.pers,e.persEnc||"hex");h(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,i,u)}var w=m("hash.js"),v=m("minimalistic-crypto-utils"),h=m("minimalistic-assert");U.exports=p,p.prototype._init=function(o,i,u){var c=o.concat(i).concat(u);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},p.prototype._hmac=function(){return new w.hmac(this.hash,this.K)},p.prototype._update=function(o){var i=this._hmac().update(this.V).update([0]);o&&(i=i.update(o)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},p.prototype.reseed=function(o,i,u,c){typeof i!="string"&&(c=u,u=i,i=null),o=v.toArray(o,i),u=v.toArray(u,c),h(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(u||[])),this._reseed=1},p.prototype.generate=function(o,i,u,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(c=u,u=i,i=null),u&&(u=v.toArray(u,c||"hex"),this._update(u));for(var s=[];s.length<o;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var t=s.slice(0,o);return this._update(u),this._reseed++,v.encode(t,i)}},{"hash.js":131,"minimalistic-assert":168,"minimalistic-crypto-utils":169}],144:[function(m,U,k){function p(o){if(typeof o=="string"&&(o=v.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}var w=m("http"),v=m("url"),h=U.exports;for(var e in w)w.hasOwnProperty(e)&&(h[e]=w[e]);h.request=function(o,i){return o=p(o),w.request.call(this,o,i)},h.get=function(o,i){return o=p(o),w.get.call(this,o,i)}},{http:257,url:274}],145:[function(m,U,k){k.read=function(p,w,v,h,e){var o=8*e-h-1,i=(1<<o)-1,u=i>>1,c=-7,s=v?e-1:0,t=v?-1:1,n=p[w+s],a,l;for(s+=t,a=n&(1<<-c)-1,n>>=-c,c+=o;0<c;a=256*a+p[w+s],s+=t,c-=8);for(l=a&(1<<-c)-1,a>>=-c,c+=h;0<c;l=256*l+p[w+s],s+=t,c-=8);if(a===0)a=1-u;else{if(a===i)return l?NaN:(n?-1:1)*(1/0);l+=A(2,h),a-=u}return(n?-1:1)*l*A(2,a-h)},k.write=function(p,w,v,h,e,o){var i=8*o-e-1,u=(1<<i)-1,c=u>>1,s=e===23?A(2,-24)-A(2,-77):0,t=h?0:o-1,n=h?1:-1,a=0>w||w===0&&0>1/w?1:0,l,f,b;for(w=O(w),isNaN(w)||w===1/0?(f=isNaN(w)?1:0,l=u):(l=I(Q(w)/we),1>w*(b=A(2,-l))&&(l--,b*=2),w+=1<=l+c?s/b:s*A(2,1-c),2<=w*b&&(l++,b/=2),l+c>=u?(f=0,l=u):1<=l+c?(f=(w*b-1)*A(2,e),l+=c):(f=w*A(2,c-1)*A(2,e),l=0));8<=e;p[v+t]=255&f,t+=n,f/=256,e-=8);for(l=l<<e|f,i+=e;0<i;p[v+t]=255&l,t+=n,l/=256,i-=8);p[v+t-n]|=128*a}},{}],146:[function(m,U,k){let p=m("queue-microtask");class w{constructor(h){if(this.store=h,this.chunkLength=h.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(h,e,o=()=>{}){this.mem[h]=e,this.store.put(h,e,i=>{this.mem[h]=null,o(i)})}get(h,e,o=()=>{}){if(typeof e=="function")return this.get(h,null,e);let i=this.mem[h];if(!i)return this.store.get(h,e,o);e||(e={});let u=e.offset||0,c=e.length||i.length-u;(u!==0||c!==i.length)&&(i=i.slice(u,c+u)),p(()=>o(null,i))}close(h=()=>{}){this.store.close(h)}destroy(h=()=>{}){this.store.destroy(h)}}U.exports=w},{"queue-microtask":206}],147:[function(m,U,k){U.exports=typeof Object.create=="function"?function(w,v){v&&(w.super_=v,w.prototype=Object.create(v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,v){if(v){w.super_=v;var h=function(){};h.prototype=v.prototype,w.prototype=new h,w.prototype.constructor=w}}},{}],148:[function(m,U,k){var p=127;U.exports=function(v){for(var h=0,e=v.length;h<e;++h)if(v.charCodeAt(h)>127)return!1;return!0}},{}],149:[function(m,U,k){function p(v){return!!v.constructor&&typeof v.constructor.isBuffer=="function"&&v.constructor.isBuffer(v)}function w(v){return typeof v.readFloatLE=="function"&&typeof v.slice=="function"&&p(v.slice(0,0))}U.exports=function(v){return v!=null&&(p(v)||w(v)||!!v._isBuffer)}},{}],150:[function(m,U,k){U.exports=async function*(p){for(let w of p)typeof w=="function"&&(w=w()),yield*w}},{}],151:[function(m,U,k){"use strict";let p=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"];k.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},k.regex=new RegExp(p.join("|")),k.is=w=>k.regex.test(w),k.not=w=>!k.is(w),k.default=U.exports},{}],152:[function(m,U,k){k.RateLimiter=m("./lib/rateLimiter"),k.TokenBucket=m("./lib/tokenBucket")},{"./lib/rateLimiter":154,"./lib/tokenBucket":155}],153:[function(m,U,k){(function(p){(function(){var w=function(){if(typeof p!="undefined"&&p.hrtime){var v=p.hrtime(),h=v[0],e=v[1];return 1e3*h+I(e/1e6)}return new Date().getTime()};U.exports=w}).call(this)}).call(this,m("_process"))},{_process:193}],154:[function(m,U,k){(function(p){(function(){var w=m("./tokenBucket"),v=m("./clock"),h=function(e,o,i){this.tokenBucket=new w(e,e,o,null),this.tokenBucket.content=e,this.curIntervalStart=v(),this.tokensThisInterval=0,this.fireImmediately=i};h.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,o){function i(t,n){return t?o(t,null):(u.tokensThisInterval+=e,void o(null,n))}if(e>this.tokenBucket.bucketSize)return p.nextTick(o.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var u=this,c=v();if((c<this.curIntervalStart||c-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=c,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)p.nextTick(o.bind(null,null,-1));else{var s=N(this.curIntervalStart+this.tokenBucket.interval-c);setTimeout(function(){u.tokenBucket.removeTokens(e,i)},s)}return!1}return this.tokenBucket.removeTokens(e,i)},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var o=v();if((o<this.curIntervalStart||o-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=o,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var i=this.tokenBucket.tryRemoveTokens(e);return i&&(this.tokensThisInterval+=e),i},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},U.exports=h}).call(this)}).call(this,m("_process"))},{"./clock":153,"./tokenBucket":155,_process:193}],155:[function(m,U,k){(function(p){(function(){var w=function(v,h,e,o){if(this.bucketSize=v,this.tokensPerInterval=h,typeof e=="string")switch(e){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+e)}else this.interval=e;this.parentBucket=o,this.content=0,this.lastDrip=+new Date};w.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(v,h){function e(){var i=N((v-o.content)*(o.interval/o.tokensPerInterval));return setTimeout(function(){o.removeTokens(v,h)},i),!1}var o=this;return this.bucketSize?v>this.bucketSize?(p.nextTick(h.bind(null,"Requested tokens "+v+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),v>this.content?e():this.parentBucket?this.parentBucket.removeTokens(v,function(i,u){return i?h(i,null):v>o.content?e():(o.content-=v,void h(null,J(u,o.content)))}):(this.content-=v,p.nextTick(h.bind(null,null,this.content)),!0)):(p.nextTick(h.bind(null,null,v,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(v){return!this.bucketSize||!(v>this.bucketSize)&&(this.drip(),!(v>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(v))&&(this.content-=v,!0)},drip:function(){if(!this.tokensPerInterval)return void(this.content=this.bucketSize);var v=+new Date,h=F(v-this.lastDrip,0);this.lastDrip=v;var e=h*(this.tokensPerInterval/this.interval);this.content=J(this.content+e,this.bucketSize)}},U.exports=w}).call(this)}).call(this,m("_process"))},{_process:193}],156:[function(m,U,k){function p(h){return this instanceof p?(typeof h=="number"&&(h={max:h}),!h&&(h={}),w.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=h.max||1e3,void(this.maxAge=h.maxAge||0)):new p(h)}var w=m("events"),v=m("inherits");U.exports=p,v(p,w.EventEmitter),Object.defineProperty(p.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),p.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},p.prototype.remove=function(h){if(typeof h!="string"&&(h=""+h),!!this.cache.hasOwnProperty(h)){var e=this.cache[h];return delete this.cache[h],this._unlink(h,e.prev,e.next),e.value}},p.prototype._unlink=function(h,e,o){this.length--,this.length===0?this.head=this.tail=null:this.head===h?(this.head=e,this.cache[this.head].next=null):this.tail===h?(this.tail=o,this.cache[this.tail].prev=null):(this.cache[e].next=o,this.cache[o].prev=e)},p.prototype.peek=function(h){if(this.cache.hasOwnProperty(h)){var e=this.cache[h];return this._checkAge(h,e)?e.value:void 0}},p.prototype.set=function(h,e){typeof h!="string"&&(h=""+h);var o;if(this.cache.hasOwnProperty(h)){if(o=this.cache[h],o.value=e,this.maxAge&&(o.modified=Date.now()),h===this.head)return e;this._unlink(h,o.prev,o.next)}else o={value:e,modified:0,next:null,prev:null},this.maxAge&&(o.modified=Date.now()),this.cache[h]=o,this.length===this.max&&this.evict();return this.length++,o.next=null,o.prev=this.head,this.head&&(this.cache[this.head].next=h),this.head=h,this.tail||(this.tail=h),e},p.prototype._checkAge=function(h,e){return!(this.maxAge&&Date.now()-e.modified>this.maxAge)||(this.remove(h),this.emit("evict",{key:h,value:e.value}),!1)},p.prototype.get=function(h){if(typeof h!="string"&&(h=""+h),!!this.cache.hasOwnProperty(h)){var e=this.cache[h];if(this._checkAge(h,e))return this.head!==h&&(h===this.tail?(this.tail=e.next,this.cache[this.tail].prev=null):this.cache[e.prev].next=e.next,this.cache[e.next].prev=e.prev,this.cache[this.head].next=h,e.prev=this.head,e.next=null,this.head=h),e.value}},p.prototype.evict=function(){if(this.tail){var h=this.tail,e=this.remove(this.tail);this.emit("evict",{key:h,value:e})}}},{events:123,inherits:147}],157:[function(m,U,k){(function(p){(function(){let w=m("unordered-array-remove"),{EventEmitter:v}=m("events"),h=m("debug")("lt_donthave");U.exports=()=>{class e extends v{constructor(i){super(),this._peerSupports=!1,this._wire=i}onExtendedHandshake(){this._peerSupports=!0}onMessage(i){let u;try{u=i.readUInt32BE()}catch{return}this._wire.peerPieces.get(u)&&(h("got donthave %d",u),this._wire.peerPieces.set(u,!1),this.emit("donthave",u),this._failRequests(u))}donthave(i){if(this._peerSupports){h("donthave %d",i);let u=p.alloc(4);u.writeUInt32BE(i),this._wire.extended("lt_donthave",u)}}_failRequests(i){let u=this._wire.requests;for(let c=0;c<u.length;c++){let s=u[c];s.piece===i&&(w(u,c),c-=1,this._wire._callback(s,new Error("peer sent donthave"),null))}}}return e.prototype.name="lt_donthave",e}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,debug:91,events:123,"unordered-array-remove":273}],158:[function(m,U,k){(function(p){(function(){function w(o){let i={},u=o.split("magnet:?")[1];(u&&0<=u.length?u.split("&"):[]).forEach(t=>{let n=t.split("=");if(n.length!==2)return;let a=n[0],l=n[1];a==="dn"&&(l=decodeURIComponent(l).replace(/\+/g," ")),(a==="tr"||a==="xs"||a==="as"||a==="ws")&&(l=decodeURIComponent(l)),a==="kt"&&(l=decodeURIComponent(l).split("+")),a==="ix"&&(l=+l),a==="so"&&(l=e.parse(decodeURIComponent(l).split(","))),i[a]?(!Array.isArray(i[a])&&(i[a]=[i[a]]),i[a].push(l)):i[a]=l});let s;return i.xt&&(Array.isArray(i.xt)?i.xt:[i.xt]).forEach(n=>{if(s=n.match(/^urn:btih:(.{40})/))i.infoHash=s[1].toLowerCase();else if(s=n.match(/^urn:btih:(.{32})/)){let a=h.decode(s[1]);i.infoHash=p.from(a,"binary").toString("hex")}else(s=n.match(/^urn:btmh:1220(.{64})/))&&(i.infoHashV2=s[1].toLowerCase())}),i.xs&&(Array.isArray(i.xs)?i.xs:[i.xs]).forEach(n=>{(s=n.match(/^urn:btpk:(.{64})/))&&(i.publicKey=s[1].toLowerCase())}),i.infoHash&&(i.infoHashBuffer=p.from(i.infoHash,"hex")),i.infoHashV2&&(i.infoHashV2Buffer=p.from(i.infoHashV2,"hex")),i.publicKey&&(i.publicKeyBuffer=p.from(i.publicKey,"hex")),i.dn&&(i.name=i.dn),i.kt&&(i.keywords=i.kt),i.announce=[],(typeof i.tr=="string"||Array.isArray(i.tr))&&(i.announce=i.announce.concat(i.tr)),i.urlList=[],(typeof i.as=="string"||Array.isArray(i.as))&&(i.urlList=i.urlList.concat(i.as)),(typeof i.ws=="string"||Array.isArray(i.ws))&&(i.urlList=i.urlList.concat(i.ws)),i.peerAddresses=[],(typeof i["x.pe"]=="string"||Array.isArray(i["x.pe"]))&&(i.peerAddresses=i.peerAddresses.concat(i["x.pe"])),i.announce=Array.from(new Set(i.announce)),i.urlList=Array.from(new Set(i.urlList)),i.peerAddresses=Array.from(new Set(i.peerAddresses)),i}function v(o){o=Object.assign({},o);let i=new Set;o.xt&&typeof o.xt=="string"&&i.add(o.xt),o.xt&&Array.isArray(o.xt)&&(i=new Set(o.xt)),o.infoHashBuffer&&i.add(`urn:btih:${o.infoHashBuffer.toString("hex")}`),o.infoHash&&i.add(`urn:btih:${o.infoHash}`),o.infoHashV2Buffer&&i.add(o.xt=`urn:btmh:1220${o.infoHashV2Buffer.toString("hex")}`),o.infoHashV2&&i.add(`urn:btmh:1220${o.infoHashV2}`);let u=Array.from(i);u.length===1&&(o.xt=u[0]),1<u.length&&(o.xt=u),o.publicKeyBuffer&&(o.xs=`urn:btpk:${o.publicKeyBuffer.toString("hex")}`),o.publicKey&&(o.xs=`urn:btpk:${o.publicKey}`),o.name&&(o.dn=o.name),o.keywords&&(o.kt=o.keywords),o.announce&&(o.tr=o.announce),o.urlList&&(o.ws=o.urlList,delete o.as),o.peerAddresses&&(o["x.pe"]=o.peerAddresses);let c="magnet:?";return Object.keys(o).filter(s=>s.length===2||s==="x.pe").forEach((s,t)=>{let n=Array.isArray(o[s])?o[s]:[o[s]];n.forEach((a,l)=>{(0<t||0<l)&&(s!=="kt"&&s!=="so"||l===0)&&(c+="&"),s==="dn"&&(a=encodeURIComponent(a).replace(/%20/g,"+")),(s==="tr"||s==="as"||s==="ws")&&(a=encodeURIComponent(a)),s!=="xs"||a.startsWith("urn:btpk:")||(a=encodeURIComponent(a)),s==="kt"&&(a=encodeURIComponent(a)),s==="so"||(s==="kt"&&0<l?c+=`+${a}`:c+=`${s}=${a}`)}),s==="so"&&(c+=`${s}=${e.compose(n)}`)}),c}U.exports=w,U.exports.decode=w,U.exports.encode=v;let h=m("thirty-two"),e=m("bep53-range")}).call(this)}).call(this,m("buffer").Buffer)},{"bep53-range":29,buffer:76,"thirty-two":266}],159:[function(m,U,k){"use strict";function p(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function w(t,n){return t<<n|t>>>32-n}function v(t,n,a,l,f,b,C){return 0|w(0|t+(n&a|~n&l)+f+b,C)+n}function h(t,n,a,l,f,b,C){return 0|w(0|t+(n&l|a&~l)+f+b,C)+n}function e(t,n,a,l,f,b,C){return 0|w(0|t+(n^a^l)+f+b,C)+n}function o(t,n,a,l,f,b,C){return 0|w(0|t+(a^(n|~l))+f+b,C)+n}var i=m("inherits"),u=m("hash-base"),c=m("safe-buffer").Buffer,s=Array(16);i(p,u),p.prototype._update=function(){for(var t=s,n=0;16>n;++n)t[n]=this._block.readInt32LE(4*n);var a=this._a,l=this._b,f=this._c,b=this._d;a=v(a,l,f,b,t[0],3614090360,7),b=v(b,a,l,f,t[1],3905402710,12),f=v(f,b,a,l,t[2],606105819,17),l=v(l,f,b,a,t[3],3250441966,22),a=v(a,l,f,b,t[4],4118548399,7),b=v(b,a,l,f,t[5],1200080426,12),f=v(f,b,a,l,t[6],2821735955,17),l=v(l,f,b,a,t[7],4249261313,22),a=v(a,l,f,b,t[8],1770035416,7),b=v(b,a,l,f,t[9],2336552879,12),f=v(f,b,a,l,t[10],4294925233,17),l=v(l,f,b,a,t[11],2304563134,22),a=v(a,l,f,b,t[12],1804603682,7),b=v(b,a,l,f,t[13],4254626195,12),f=v(f,b,a,l,t[14],2792965006,17),l=v(l,f,b,a,t[15],1236535329,22),a=h(a,l,f,b,t[1],4129170786,5),b=h(b,a,l,f,t[6],3225465664,9),f=h(f,b,a,l,t[11],643717713,14),l=h(l,f,b,a,t[0],3921069994,20),a=h(a,l,f,b,t[5],3593408605,5),b=h(b,a,l,f,t[10],38016083,9),f=h(f,b,a,l,t[15],3634488961,14),l=h(l,f,b,a,t[4],3889429448,20),a=h(a,l,f,b,t[9],568446438,5),b=h(b,a,l,f,t[14],3275163606,9),f=h(f,b,a,l,t[3],4107603335,14),l=h(l,f,b,a,t[8],1163531501,20),a=h(a,l,f,b,t[13],2850285829,5),b=h(b,a,l,f,t[2],4243563512,9),f=h(f,b,a,l,t[7],1735328473,14),l=h(l,f,b,a,t[12],2368359562,20),a=e(a,l,f,b,t[5],4294588738,4),b=e(b,a,l,f,t[8],2272392833,11),f=e(f,b,a,l,t[11],1839030562,16),l=e(l,f,b,a,t[14],4259657740,23),a=e(a,l,f,b,t[1],2763975236,4),b=e(b,a,l,f,t[4],1272893353,11),f=e(f,b,a,l,t[7],4139469664,16),l=e(l,f,b,a,t[10],3200236656,23),a=e(a,l,f,b,t[13],681279174,4),b=e(b,a,l,f,t[0],3936430074,11),f=e(f,b,a,l,t[3],3572445317,16),l=e(l,f,b,a,t[6],76029189,23),a=e(a,l,f,b,t[9],3654602809,4),b=e(b,a,l,f,t[12],3873151461,11),f=e(f,b,a,l,t[15],530742520,16),l=e(l,f,b,a,t[2],3299628645,23),a=o(a,l,f,b,t[0],4096336452,6),b=o(b,a,l,f,t[7],1126891415,10),f=o(f,b,a,l,t[14],2878612391,15),l=o(l,f,b,a,t[5],4237533241,21),a=o(a,l,f,b,t[12],1700485571,6),b=o(b,a,l,f,t[3],2399980690,10),f=o(f,b,a,l,t[10],4293915773,15),l=o(l,f,b,a,t[1],2240044497,21),a=o(a,l,f,b,t[8],1873313359,6),b=o(b,a,l,f,t[15],4264355552,10),f=o(f,b,a,l,t[6],2734768916,15),l=o(l,f,b,a,t[13],1309151649,21),a=o(a,l,f,b,t[4],4149444226,6),b=o(b,a,l,f,t[11],3174756917,10),f=o(f,b,a,l,t[2],718787259,15),l=o(l,f,b,a,t[9],3951481745,21),this._a=0|this._a+a,this._b=0|this._b+l,this._c=0|this._c+f,this._d=0|this._d+b},p.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=c.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},U.exports=p},{"hash-base":130,inherits:147,"safe-buffer":235}],160:[function(m,U,k){function p(s,t){var n=this;if(!(n instanceof p))return new p(s,t);if(!i)throw new Error("web browser lacks MediaSource support");t||(t={}),n._debug=t.debug,n._bufferDuration=t.bufferDuration||60,n._elem=s,n._mediaSource=new i,n._streams=[],n.detailedError=null,n._errorHandler=function(){n._elem.removeEventListener("error",n._errorHandler);var a=n._streams.slice();a.forEach(function(l){l.destroy(n._elem.error)})},n._elem.addEventListener("error",n._errorHandler),n._elem.src=window.URL.createObjectURL(n._mediaSource)}function w(s,t){var n=this;if(e.Writable.call(n),n._wrapper=s,n._elem=s._elem,n._mediaSource=s._mediaSource,n._allStreams=s._streams,n._allStreams.push(n),n._bufferDuration=s._bufferDuration,n._sourceBuffer=null,n._debugBuffers=[],n._openHandler=function(){n._onSourceOpen()},n._flowHandler=function(){n._flow()},n._errorHandler=function(a){n.destroyed||n.emit("error",a)},typeof t=="string")n._type=t,n._mediaSource.readyState==="open"?n._createSourceBuffer():n._mediaSource.addEventListener("sourceopen",n._openHandler);else if(t._sourceBuffer===null)t.destroy(),n._type=t._type,n._mediaSource.addEventListener("sourceopen",n._openHandler);else if(t._sourceBuffer)t.destroy(),n._type=t._type,n._sourceBuffer=t._sourceBuffer,n._debugBuffers=t._debugBuffers,n._sourceBuffer.addEventListener("updateend",n._flowHandler),n._sourceBuffer.addEventListener("error",n._errorHandler);else throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");n._elem.addEventListener("timeupdate",n._flowHandler),n.on("error",function(a){n._wrapper.error(a)}),n.on("finish",function(){if(!n.destroyed&&(n._finished=!0,n._allStreams.every(function(a){return a._finished}))){n._wrapper._dumpDebugData();try{n._mediaSource.endOfStream()}catch{}}})}function v(s,t){var n=document.createElement("a");n.href=window.URL.createObjectURL(new window.Blob(s)),n.download=t,n.click()}U.exports=p;var h=m("inherits"),e=m("readable-stream"),o=m("to-arraybuffer"),i=typeof window!="undefined"&&window.MediaSource,u=60;p.prototype.createWriteStream=function(s){var t=this;return new w(t,s)},p.prototype.error=function(s){var t=this;t.detailedError||(t.detailedError=s),t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(t._elem.src)}catch{}},p.prototype._dumpDebugData=function(){var s=this;s._debug&&(s._debug=!1,s._streams.forEach(function(t,n){v(t._debugBuffers,"mediasource-stream-"+n)}))},h(w,e.Writable),w.prototype._onSourceOpen=function(){var s=this;s.destroyed||(s._mediaSource.removeEventListener("sourceopen",s._openHandler),s._createSourceBuffer())},w.prototype.destroy=function(s){var t=this;t.destroyed||(t.destroyed=!0,t._allStreams.splice(t._allStreams.indexOf(t),1),t._mediaSource.removeEventListener("sourceopen",t._openHandler),t._elem.removeEventListener("timeupdate",t._flowHandler),t._sourceBuffer&&(t._sourceBuffer.removeEventListener("updateend",t._flowHandler),t._sourceBuffer.removeEventListener("error",t._errorHandler),t._mediaSource.readyState==="open"&&t._sourceBuffer.abort()),s&&t.emit("error",s),t.emit("close"))},w.prototype._createSourceBuffer=function(){var s=this;if(!s.destroyed){if(!i.isTypeSupported(s._type))s.destroy(new Error("The provided type is not supported"));else if(s._sourceBuffer=s._mediaSource.addSourceBuffer(s._type),s._sourceBuffer.addEventListener("updateend",s._flowHandler),s._sourceBuffer.addEventListener("error",s._errorHandler),s._cb){var t=s._cb;s._cb=null,t()}}},w.prototype._write=function(s,t,n){var a=this;if(!a.destroyed){if(!a._sourceBuffer)return void(a._cb=function(f){return f?n(f):void a._write(s,t,n)});if(a._sourceBuffer.updating)return n(new Error("Cannot append buffer while source buffer updating"));var l=o(s);a._wrapper._debug&&a._debugBuffers.push(l);try{a._sourceBuffer.appendBuffer(l)}catch(f){return void a.destroy(f)}a._cb=n}},w.prototype._flow=function(){var s=this;if(!(s.destroyed||!s._sourceBuffer||s._sourceBuffer.updating)&&!(s._mediaSource.readyState==="open"&&s._getBufferDuration()>s._bufferDuration)&&s._cb){var t=s._cb;s._cb=null,t()}};var c=0;w.prototype._getBufferDuration=function(){for(var s=this,t=s._sourceBuffer.buffered,n=s._elem.currentTime,a=-1,l=0;l<t.length;l++){var f=t.start(l),b=t.end(l)+0;if(f>n)break;(0<=a||n<=b)&&(a=b)}var C=a-n;return 0>C&&(C=0),C}},{inherits:147,"readable-stream":228,"to-arraybuffer":269}],161:[function(m,U,k){function p(v,h){if(!(this instanceof p))return new p(v,h);if(h||(h={}),this.chunkLength=+v,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+h.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=N(this.length/this.chunkLength)-1)}U.exports=p;let w=m("queue-microtask");p.prototype.put=function(v,h,e=()=>{}){if(this.closed)return w(()=>e(new Error("Storage is closed")));let o=v===this.lastChunkIndex;return o&&h.length!==this.lastChunkLength?w(()=>e(new Error("Last chunk length must be "+this.lastChunkLength))):o||h.length===this.chunkLength?(this.chunks[v]=h,void w(()=>e(null))):w(()=>e(new Error("Chunk length must be "+this.chunkLength)))},p.prototype.get=function(v,h,e=()=>{}){if(typeof h=="function")return this.get(v,null,h);if(this.closed)return w(()=>e(new Error("Storage is closed")));let o=this.chunks[v];if(!o){let c=new Error("Chunk not found");return c.notFound=!0,w(()=>e(c))}h||(h={});let i=h.offset||0,u=h.length||o.length-i;(i!==0||u!==o.length)&&(o=o.slice(i,u+i)),w(()=>e(null,o))},p.prototype.close=p.prototype.destroy=function(v=()=>{}){return this.closed?w(()=>v(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void w(()=>v(null)))}},{"queue-microtask":206}],162:[function(m,U,k){function p(h){this.rand=h||new v.Rand}var w=m("bn.js"),v=m("brorand");U.exports=p,p.create=function(e){return new p(e)},p.prototype._randbelow=function(e){var o=e.bitLength(),i=N(o/8);do var u=new w(this.rand.generate(i));while(0<=u.cmp(e));return u},p.prototype._randrange=function(e,o){var i=o.sub(e);return e.add(this._randbelow(i))},p.prototype.test=function(e,o,i){var u=e.bitLength(),c=w.mont(e),s=new w(1).toRed(c);o||(o=F(1,0|u/48));for(var t=e.subn(1),n=0;!t.testn(n);n++);for(var a=e.shrn(n),l=t.toRed(c),f=!0;0<o;o--){var b=this._randrange(new w(2),t);i&&i(b);var C=b.toRed(c).redPow(a);if(C.cmp(s)!==0&&C.cmp(l)!==0){for(var $=1;$<n;$++){if(C=C.redSqr(),C.cmp(s)===0)return!1;if(C.cmp(l)===0)break}if($===n)return!1}}return f},p.prototype.getDivisor=function(e,o){var i=e.bitLength(),u=w.mont(e),c=new w(1).toRed(u);o||(o=F(1,0|i/48));for(var s=e.subn(1),t=0;!s.testn(t);t++);for(var n=e.shrn(t),a=s.toRed(u);0<o;o--){var l=this._randrange(new w(2),s),f=e.gcd(l);if(f.cmpn(1)!==0)return f;var b=l.toRed(u).redPow(n);if(b.cmp(c)!==0&&b.cmp(a)!==0){for(var C=1;C<t;C++){if(b=b.redSqr(),b.cmp(c)===0)return b.fromRed().subn(1).gcd(e);if(b.cmp(a)===0)break}if(C===t)return b=b.redSqr(),b.fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":163,brorand:41}],163:[function(m,U,k){arguments[4][22][0].apply(k,arguments)},{buffer:42,dup:22}],164:[function(m,U,k){"use strict";function p(){this._types=Object.create(null),this._extensions=Object.create(null);for(let w=0;w<arguments.length;w++)this.define(arguments[w]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}p.prototype.define=function(w,v){for(let h in w){let e=w[h].map(function(o){return o.toLowerCase()});h=h.toLowerCase();for(let o=0;o<e.length;o++){let i=e[o];if(i[0]!=="*"){if(!v&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+h+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+h+'".');this._types[i]=h}}if(v||!this._extensions[h]){let o=e[0];this._extensions[h]=o[0]==="*"?o.substr(1):o}}},p.prototype.getType=function(w){w=w+"";let v=w.replace(/^.*[/\\]/,"").toLowerCase(),h=v.replace(/^.*\./,"").toLowerCase(),e=v.length<w.length;return(h.length<v.length-1||!e)&&this._types[h]||null},p.prototype.getExtension=function(w){return w=/^\s*([^;\s]*)/.test(w)&&RegExp.$1,w&&this._extensions[w.toLowerCase()]||null},U.exports=p},{}],165:[function(m,U,k){"use strict";let p=m("./Mime");U.exports=new p(m("./types/standard"),m("./types/other"))},{"./Mime":164,"./types/other":166,"./types/standard":167}],166:[function(m,U,k){U.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],167:[function(m,U,k){U.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],168:[function(m,U,k){function p(w,v){if(!w)throw new Error(v||"Assertion failed")}U.exports=p,p.equal=function(v,h,e){if(v!=h)throw new Error(e||"Assertion failed: "+v+" != "+h)}},{}],169:[function(m,U,k){"use strict";function p(e,o){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e!="string"){for(var u=0;u<e.length;u++)i[u]=0|e[u];return i}if(o==="hex"){e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!=0&&(e="0"+e);for(var u=0;u<e.length;u+=2)i.push(parseInt(e[u]+e[u+1],16))}else for(var u=0;u<e.length;u++){var c=e.charCodeAt(u),s=c>>8,t=255&c;s?i.push(s,t):i.push(t)}return i}function w(e){return e.length===1?"0"+e:e}function v(e){for(var o="",i=0;i<e.length;i++)o+=w(e[i].toString(16));return o}var h=k;h.toArray=p,h.zero2=w,h.toHex=v,h.encode=function(o,i){return i==="hex"?v(o):o}},{}],170:[function(m,U,k){(function(p){(function(){function w(R,L,q){for(var ee=L;ee<q;ee++)R[ee]=0}function v(R,L,q){L.writeUInt32BE(I((R.getTime()+20828448e5)/1e3),q)}function h(R,L,q){L.writeUIntBE(I((R.getTime()+20828448e5)/1e3),q,6)}function e(R,L,q){L.writeUInt16BE(I(R)%65536,q),L.writeUInt16BE(I(256*(256*R))%65536,q+2)}function o(R,L,q){L[q]=I(R)%256,L[q+1]=I(256*R)%256}function i(R,L,q){R||(R=[0,0,0,0,0,0,0,0,0]);for(var ee=0;ee<R.length;ee++)e(R[ee],L,q+4*ee)}function u(R,L,q){var ee=p.from(R,"utf8");ee.copy(L,q),L[q+ee.length]=0}function c(R){for(var L=Array(R.length/4),q=0;q<L.length;q++)L[q]=n(R,4*q);return L}function s(R,L){return new Date(1e3*R.readUIntBE(L,6)-20828448e5)}function t(R,L){return new Date(1e3*R.readUInt32BE(L)-20828448e5)}function n(R,L){return R.readUInt16BE(L)+R.readUInt16BE(L+2)/65536}function a(R,L){return R[L]+R[L+1]/256}function l(R,L,q){var ee;for(ee=0;ee<q&&R[L+ee]!==0;ee++);return R.toString("utf8",L,L+ee)}var f=m("./index"),b=m("./descriptor"),C=m("uint64be"),$=20828448e5;k.fullBoxes={};var W=["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"];W.forEach(function(R){k.fullBoxes[R]=!0}),k.ftyp={},k.ftyp.encode=function(R,L,q){L=L?L.slice(q):p.alloc(k.ftyp.encodingLength(R));var ee=R.compatibleBrands||[];L.write(R.brand,0,4,"ascii"),L.writeUInt32BE(R.brandVersion,4);for(var ae=0;ae<ee.length;ae++)L.write(ee[ae],8+4*ae,4,"ascii");return k.ftyp.encode.bytes=8+4*ee.length,L},k.ftyp.decode=function(R,L){R=R.slice(L);for(var q=R.toString("ascii",0,4),ee=R.readUInt32BE(4),ae=[],fe=8;fe<R.length;fe+=4)ae.push(R.toString("ascii",fe,fe+4));return{brand:q,brandVersion:ee,compatibleBrands:ae}},k.ftyp.encodingLength=function(R){return 8+4*(R.compatibleBrands||[]).length},k.mvhd={},k.mvhd.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(96),v(R.ctime||new Date,L,0),v(R.mtime||new Date,L,4),L.writeUInt32BE(R.timeScale||0,8),L.writeUInt32BE(R.duration||0,12),e(R.preferredRate||0,L,16),o(R.preferredVolume||0,L,20),w(L,22,32),i(R.matrix,L,32),L.writeUInt32BE(R.previewTime||0,68),L.writeUInt32BE(R.previewDuration||0,72),L.writeUInt32BE(R.posterTime||0,76),L.writeUInt32BE(R.selectionTime||0,80),L.writeUInt32BE(R.selectionDuration||0,84),L.writeUInt32BE(R.currentTime||0,88),L.writeUInt32BE(R.nextTrackId||0,92),k.mvhd.encode.bytes=96,L},k.mvhd.decode=function(R,L){return R=R.slice(L),{ctime:t(R,0),mtime:t(R,4),timeScale:R.readUInt32BE(8),duration:R.readUInt32BE(12),preferredRate:n(R,16),preferredVolume:a(R,20),matrix:c(R.slice(32,68)),previewTime:R.readUInt32BE(68),previewDuration:R.readUInt32BE(72),posterTime:R.readUInt32BE(76),selectionTime:R.readUInt32BE(80),selectionDuration:R.readUInt32BE(84),currentTime:R.readUInt32BE(88),nextTrackId:R.readUInt32BE(92)}},k.mvhd.encodingLength=function(R){return 96},k.tkhd={},k.tkhd.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(80),v(R.ctime||new Date,L,0),v(R.mtime||new Date,L,4),L.writeUInt32BE(R.trackId||0,8),w(L,12,16),L.writeUInt32BE(R.duration||0,16),w(L,20,28),L.writeUInt16BE(R.layer||0,28),L.writeUInt16BE(R.alternateGroup||0,30),L.writeUInt16BE(R.volume||0,32),i(R.matrix,L,36),L.writeUInt32BE(R.trackWidth||0,72),L.writeUInt32BE(R.trackHeight||0,76),k.tkhd.encode.bytes=80,L},k.tkhd.decode=function(R,L){return R=R.slice(L),{ctime:t(R,0),mtime:t(R,4),trackId:R.readUInt32BE(8),duration:R.readUInt32BE(16),layer:R.readUInt16BE(28),alternateGroup:R.readUInt16BE(30),volume:R.readUInt16BE(32),matrix:c(R.slice(36,72)),trackWidth:R.readUInt32BE(72),trackHeight:R.readUInt32BE(76)}},k.tkhd.encodingLength=function(R){return 80},k.mdhd={},k.mdhd.encode=function(R,L,q){return R.version===1?(L=L?L.slice(q):p.alloc(32),h(R.ctime||new Date,L,0),h(R.mtime||new Date,L,8),L.writeUInt32BE(R.timeScale||0,16),L.writeUIntBE(R.duration||0,20,6),L.writeUInt16BE(R.language||0,28),L.writeUInt16BE(R.quality||0,30),k.mdhd.encode.bytes=32,L):(L=L?L.slice(q):p.alloc(20),v(R.ctime||new Date,L,0),v(R.mtime||new Date,L,4),L.writeUInt32BE(R.timeScale||0,8),L.writeUInt32BE(R.duration||0,12),L.writeUInt16BE(R.language||0,16),L.writeUInt16BE(R.quality||0,18),k.mdhd.encode.bytes=20,L)},k.mdhd.decode=function(R,L,q){R=R.slice(L);var ee=q-L!=20;return ee?{ctime:s(R,0),mtime:s(R,8),timeScale:R.readUInt32BE(16),duration:R.readUIntBE(20,6),language:R.readUInt16BE(28),quality:R.readUInt16BE(30)}:{ctime:t(R,0),mtime:t(R,4),timeScale:R.readUInt32BE(8),duration:R.readUInt32BE(12),language:R.readUInt16BE(16),quality:R.readUInt16BE(18)}},k.mdhd.encodingLength=function(R){return R.version===1?32:20},k.vmhd={},k.vmhd.encode=function(R,L,q){L=L?L.slice(q):p.alloc(8),L.writeUInt16BE(R.graphicsMode||0,0);var ee=R.opcolor||[0,0,0];return L.writeUInt16BE(ee[0],2),L.writeUInt16BE(ee[1],4),L.writeUInt16BE(ee[2],6),k.vmhd.encode.bytes=8,L},k.vmhd.decode=function(R,L){return R=R.slice(L),{graphicsMode:R.readUInt16BE(0),opcolor:[R.readUInt16BE(2),R.readUInt16BE(4),R.readUInt16BE(6)]}},k.vmhd.encodingLength=function(R){return 8},k.smhd={},k.smhd.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(4),L.writeUInt16BE(R.balance||0,0),w(L,2,4),k.smhd.encode.bytes=4,L},k.smhd.decode=function(R,L){return R=R.slice(L),{balance:R.readUInt16BE(0)}},k.smhd.encodingLength=function(R){return 4},k.stsd={},k.stsd.encode=function(R,L,q){L=L?L.slice(q):p.alloc(k.stsd.encodingLength(R));var ee=R.entries||[];L.writeUInt32BE(ee.length,0);for(var ae=4,fe=0,Ee;fe<ee.length;fe++)Ee=ee[fe],f.encode(Ee,L,ae),ae+=f.encode.bytes;return k.stsd.encode.bytes=ae,L},k.stsd.decode=function(R,L,q){R=R.slice(L);for(var ee=R.readUInt32BE(0),ae=Array(ee),fe=4,Ee=0,se;Ee<ee;Ee++)se=f.decode(R,fe,q),ae[Ee]=se,fe+=se.length;return{entries:ae}},k.stsd.encodingLength=function(R){var L=4;if(!R.entries)return L;for(var q=0;q<R.entries.length;q++)L+=f.encodingLength(R.entries[q]);return L},k.avc1=k.VisualSampleEntry={},k.VisualSampleEntry.encode=function(R,L,q){L=L?L.slice(q):p.alloc(k.VisualSampleEntry.encodingLength(R)),w(L,0,6),L.writeUInt16BE(R.dataReferenceIndex||0,6),w(L,8,24),L.writeUInt16BE(R.width||0,24),L.writeUInt16BE(R.height||0,26),L.writeUInt32BE(R.hResolution||4718592,28),L.writeUInt32BE(R.vResolution||4718592,32),w(L,36,40),L.writeUInt16BE(R.frameCount||1,40);var ee=R.compressorName||"",ae=J(ee.length,31);L.writeUInt8(ae,42),L.write(ee,43,ae,"utf8"),L.writeUInt16BE(R.depth||24,74),L.writeInt16BE(-1,76);var fe=78,Ee=R.children||[];Ee.forEach(function(se){f.encode(se,L,fe),fe+=f.encode.bytes}),k.VisualSampleEntry.encode.bytes=fe},k.VisualSampleEntry.decode=function(R,L,q){R=R.slice(L);for(var ee=q-L,ae=J(R.readUInt8(42),31),fe={dataReferenceIndex:R.readUInt16BE(6),width:R.readUInt16BE(24),height:R.readUInt16BE(26),hResolution:R.readUInt32BE(28),vResolution:R.readUInt32BE(32),frameCount:R.readUInt16BE(40),compressorName:R.toString("utf8",43,43+ae),depth:R.readUInt16BE(74),children:[]},Ee=78;8<=ee-Ee;){var se=f.decode(R,Ee,ee);fe.children.push(se),fe[se.type]=se,Ee+=se.length}return fe},k.VisualSampleEntry.encodingLength=function(R){var L=78,q=R.children||[];return q.forEach(function(ee){L+=f.encodingLength(ee)}),L},k.avcC={},k.avcC.encode=function(R,L,q){L=L?L.slice(q):p.alloc(R.buffer.length),R.buffer.copy(L),k.avcC.encode.bytes=R.buffer.length},k.avcC.decode=function(R,L,q){return R=R.slice(L,q),{mimeCodec:R.toString("hex",1,4),buffer:p.from(R)}},k.avcC.encodingLength=function(R){return R.buffer.length},k.mp4a=k.AudioSampleEntry={},k.AudioSampleEntry.encode=function(R,L,q){L=L?L.slice(q):p.alloc(k.AudioSampleEntry.encodingLength(R)),w(L,0,6),L.writeUInt16BE(R.dataReferenceIndex||0,6),w(L,8,16),L.writeUInt16BE(R.channelCount||2,16),L.writeUInt16BE(R.sampleSize||16,18),w(L,20,24),L.writeUInt32BE(R.sampleRate||0,24);var ee=28,ae=R.children||[];ae.forEach(function(fe){f.encode(fe,L,ee),ee+=f.encode.bytes}),k.AudioSampleEntry.encode.bytes=ee},k.AudioSampleEntry.decode=function(R,L,q){R=R.slice(L,q);for(var ee=q-L,ae={dataReferenceIndex:R.readUInt16BE(6),channelCount:R.readUInt16BE(16),sampleSize:R.readUInt16BE(18),sampleRate:R.readUInt32BE(24),children:[]},fe=28;8<=ee-fe;){var Ee=f.decode(R,fe,ee);ae.children.push(Ee),ae[Ee.type]=Ee,fe+=Ee.length}return ae},k.AudioSampleEntry.encodingLength=function(R){var L=28,q=R.children||[];return q.forEach(function(ee){L+=f.encodingLength(ee)}),L},k.esds={},k.esds.encode=function(R,L,q){L=L?L.slice(q):p.alloc(R.buffer.length),R.buffer.copy(L,0),k.esds.encode.bytes=R.buffer.length},k.esds.decode=function(R,L,q){R=R.slice(L,q);var ee=b.Descriptor.decode(R,0,R.length),ae=ee.tagName==="ESDescriptor"?ee:{},fe=ae.DecoderConfigDescriptor||{},Ee=fe.oti||0,se=fe.DecoderSpecificInfo,B=se?(248&se.buffer.readUInt8(0))>>3:0,K=null;return Ee&&(K=Ee.toString(16),B&&(K+="."+B)),{mimeCodec:K,buffer:p.from(R.slice(0))}},k.esds.encodingLength=function(R){return R.buffer.length},k.stsz={},k.stsz.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.stsz.encodingLength(R)),L.writeUInt32BE(0,0),L.writeUInt32BE(ee.length,4);for(var ae=0;ae<ee.length;ae++)L.writeUInt32BE(ee[ae],4*ae+8);return k.stsz.encode.bytes=8+4*ee.length,L},k.stsz.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=R.readUInt32BE(4),ae=Array(ee),fe=0;fe<ee;fe++)ae[fe]=q===0?R.readUInt32BE(4*fe+8):q;return{entries:ae}},k.stsz.encodingLength=function(R){return 8+4*R.entries.length},k.stss=k.stco={},k.stco.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.stco.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0;ae<ee.length;ae++)L.writeUInt32BE(ee[ae],4*ae+4);return k.stco.encode.bytes=4+4*ee.length,L},k.stco.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=0;ae<q;ae++)ee[ae]=R.readUInt32BE(4*ae+4);return{entries:ee}},k.stco.encodingLength=function(R){return 4+4*R.entries.length},k.co64={},k.co64.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.co64.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0;ae<ee.length;ae++)C.encode(ee[ae],L,8*ae+4);return k.co64.encode.bytes=4+8*ee.length,L},k.co64.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=0;ae<q;ae++)ee[ae]=C.decode(R,8*ae+4);return{entries:ee}},k.co64.encodingLength=function(R){return 4+8*R.entries.length},k.stts={},k.stts.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.stts.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=8*ae+4,L.writeUInt32BE(ee[ae].count||0,fe),L.writeUInt32BE(ee[ae].duration||0,fe+4);return k.stts.encode.bytes=4+8*R.entries.length,L},k.stts.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=0,fe;ae<q;ae++)fe=8*ae+4,ee[ae]={count:R.readUInt32BE(fe),duration:R.readUInt32BE(fe+4)};return{entries:ee}},k.stts.encodingLength=function(R){return 4+8*R.entries.length},k.ctts={},k.ctts.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.ctts.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=8*ae+4,L.writeUInt32BE(ee[ae].count||0,fe),L.writeUInt32BE(ee[ae].compositionOffset||0,fe+4);return k.ctts.encode.bytes=4+8*ee.length,L},k.ctts.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=0,fe;ae<q;ae++)fe=8*ae+4,ee[ae]={count:R.readUInt32BE(fe),compositionOffset:R.readInt32BE(fe+4)};return{entries:ee}},k.ctts.encodingLength=function(R){return 4+8*R.entries.length},k.stsc={},k.stsc.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.stsc.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=12*ae+4,L.writeUInt32BE(ee[ae].firstChunk||0,fe),L.writeUInt32BE(ee[ae].samplesPerChunk||0,fe+4),L.writeUInt32BE(ee[ae].sampleDescriptionId||0,fe+8);return k.stsc.encode.bytes=4+12*ee.length,L},k.stsc.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=0,fe;ae<q;ae++)fe=12*ae+4,ee[ae]={firstChunk:R.readUInt32BE(fe),samplesPerChunk:R.readUInt32BE(fe+4),sampleDescriptionId:R.readUInt32BE(fe+8)};return{entries:ee}},k.stsc.encodingLength=function(R){return 4+12*R.entries.length},k.dref={},k.dref.encode=function(R,L,q){L=L?L.slice(q):p.alloc(k.dref.encodingLength(R));var ee=R.entries||[];L.writeUInt32BE(ee.length,0);for(var ae=4,fe=0;fe<ee.length;fe++){var Ee=ee[fe],se=(Ee.buf?Ee.buf.length:0)+4+4;L.writeUInt32BE(se,ae),ae+=4,L.write(Ee.type,ae,4,"ascii"),ae+=4,Ee.buf&&(Ee.buf.copy(L,ae),ae+=Ee.buf.length)}return k.dref.encode.bytes=ae,L},k.dref.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=4,fe=0;fe<q;fe++){var Ee=R.readUInt32BE(ae),se=R.toString("ascii",ae+4,ae+8),B=R.slice(ae+8,ae+Ee);ae+=Ee,ee[fe]={type:se,buf:B}}return{entries:ee}},k.dref.encodingLength=function(R){var L=4;if(!R.entries)return L;for(var q=0,ee;q<R.entries.length;q++)ee=R.entries[q].buf,L+=(ee?ee.length:0)+4+4;return L},k.elst={},k.elst.encode=function(R,L,q){var ee=R.entries||[];L=L?L.slice(q):p.alloc(k.elst.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=12*ae+4,L.writeUInt32BE(ee[ae].trackDuration||0,fe),L.writeUInt32BE(ee[ae].mediaTime||0,fe+4),e(ee[ae].mediaRate||0,L,fe+8);return k.elst.encode.bytes=4+12*ee.length,L},k.elst.decode=function(R,L){R=R.slice(L);for(var q=R.readUInt32BE(0),ee=Array(q),ae=0,fe;ae<q;ae++)fe=12*ae+4,ee[ae]={trackDuration:R.readUInt32BE(fe),mediaTime:R.readInt32BE(fe+4),mediaRate:n(R,fe+8)};return{entries:ee}},k.elst.encodingLength=function(R){return 4+12*R.entries.length},k.hdlr={},k.hdlr.encode=function(R,L,q){L=L?L.slice(q):p.alloc(k.hdlr.encodingLength(R));var ee=21+(R.name||"").length;return L.fill(0,0,ee),L.write(R.handlerType||"",4,4,"ascii"),u(R.name||"",L,20),k.hdlr.encode.bytes=ee,L},k.hdlr.decode=function(R,L,q){return R=R.slice(L),{handlerType:R.toString("ascii",4,8),name:l(R,20,q)}},k.hdlr.encodingLength=function(R){return 21+(R.name||"").length},k.mehd={},k.mehd.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(4),L.writeUInt32BE(R.fragmentDuration||0,0),k.mehd.encode.bytes=4,L},k.mehd.decode=function(R,L){return R=R.slice(L),{fragmentDuration:R.readUInt32BE(0)}},k.mehd.encodingLength=function(R){return 4},k.trex={},k.trex.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(20),L.writeUInt32BE(R.trackId||0,0),L.writeUInt32BE(R.defaultSampleDescriptionIndex||0,4),L.writeUInt32BE(R.defaultSampleDuration||0,8),L.writeUInt32BE(R.defaultSampleSize||0,12),L.writeUInt32BE(R.defaultSampleFlags||0,16),k.trex.encode.bytes=20,L},k.trex.decode=function(R,L){return R=R.slice(L),{trackId:R.readUInt32BE(0),defaultSampleDescriptionIndex:R.readUInt32BE(4),defaultSampleDuration:R.readUInt32BE(8),defaultSampleSize:R.readUInt32BE(12),defaultSampleFlags:R.readUInt32BE(16)}},k.trex.encodingLength=function(R){return 20},k.mfhd={},k.mfhd.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(4),L.writeUInt32BE(R.sequenceNumber||0,0),k.mfhd.encode.bytes=4,L},k.mfhd.decode=function(R,L){return{sequenceNumber:R.readUInt32BE(0)}},k.mfhd.encodingLength=function(R){return 4},k.tfhd={},k.tfhd.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(4),L.writeUInt32BE(R.trackId,0),k.tfhd.encode.bytes=4,L},k.tfhd.decode=function(R,L){},k.tfhd.encodingLength=function(R){return 4},k.tfdt={},k.tfdt.encode=function(R,L,q){return L=L?L.slice(q):p.alloc(4),L.writeUInt32BE(R.baseMediaDecodeTime||0,0),k.tfdt.encode.bytes=4,L},k.tfdt.decode=function(R,L){},k.tfdt.encodingLength=function(R){return 4},k.trun={},k.trun.encode=function(R,L,q){L=L?L.slice(q):p.alloc(8+16*R.entries.length),L.writeUInt32BE(R.entries.length,0),L.writeInt32BE(R.dataOffset,4);for(var ee=8,ae=0,fe;ae<R.entries.length;ae++)fe=R.entries[ae],L.writeUInt32BE(fe.sampleDuration,ee),ee+=4,L.writeUInt32BE(fe.sampleSize,ee),ee+=4,L.writeUInt32BE(fe.sampleFlags,ee),ee+=4,(R.version||0)===0?L.writeUInt32BE(fe.sampleCompositionTimeOffset,ee):L.writeInt32BE(fe.sampleCompositionTimeOffset,ee),ee+=4;k.trun.encode.bytes=ee},k.trun.decode=function(R,L){},k.trun.encodingLength=function(R){return 8+16*R.entries.length},k.mdat={},k.mdat.encode=function(R,L,q){R.buffer?(R.buffer.copy(L,q),k.mdat.encode.bytes=R.buffer.length):k.mdat.encode.bytes=k.mdat.encodingLength(R)},k.mdat.decode=function(R,L,q){return{buffer:p.from(R.slice(L,q))}},k.mdat.encodingLength=function(R){return R.buffer?R.buffer.length:R.contentLength}}).call(this)}).call(this,m("buffer").Buffer)},{"./descriptor":171,"./index":172,buffer:76,uint64be:272}],171:[function(m,U,k){(function(p){(function(){var w={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};k.Descriptor={},k.Descriptor.decode=function(v,h,e){var o=v.readUInt8(h),i=h+1,u=0,c;do c=v.readUInt8(i++),u=u<<7|127&c;while(128&c);var s=w[o],t;return t=k[s]?k[s].decode(v,i,e):{buffer:p.from(v.slice(i,i+u))},t.tag=o,t.tagName=s,t.length=i-h+u,t.contentsLen=u,t},k.DescriptorArray={},k.DescriptorArray.decode=function(v,h,e){for(var o=h,i={};o+2<=e;){var u=k.Descriptor.decode(v,o,e);o+=u.length;var c=w[u.tag]||"Descriptor"+u.tag;i[c]=u}return i},k.ESDescriptor={},k.ESDescriptor.decode=function(v,h,e){var o=v.readUInt8(h+2),i=h+3;if(128&o&&(i+=2),64&o){var u=v.readUInt8(i);i+=u+1}return 32&o&&(i+=2),k.DescriptorArray.decode(v,i,e)},k.DecoderConfigDescriptor={},k.DecoderConfigDescriptor.decode=function(v,h,e){var o=v.readUInt8(h),i=k.DescriptorArray.decode(v,h+13,e);return i.oti=o,i}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],172:[function(m,U,k){(function(p){(function(){var w=m("uint64be"),v=m("./boxes"),h=4294967295,e=k,o=k.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};e.encode=function(i,u,c){return e.encodingLength(i),c=c||0,u=u||p.alloc(i.length),e._encode(i,u,c)},e._encode=function(i,u,c){var s=i.type,t=i.length;t>h&&(t=1),u.writeUInt32BE(t,c),u.write(i.type,c+4,4,"ascii");var n=c+8;if(t===1&&(w.encode(i.length,u,n),n+=8),v.fullBoxes[s]&&(u.writeUInt32BE(i.flags||0,n),u.writeUInt8(i.version||0,n),n+=4),o[s]){var a=o[s];a.forEach(function(b){if(b.length===5){var C=i[b]||[];b=b.substr(0,4),C.forEach(function($){e._encode($,u,n),n+=e.encode.bytes})}else i[b]&&(e._encode(i[b],u,n),n+=e.encode.bytes)}),i.otherBoxes&&i.otherBoxes.forEach(function(b){e._encode(b,u,n),n+=e.encode.bytes})}else if(v[s]){var l=v[s].encode;l(i,u,n),n+=l.bytes}else if(i.buffer){var f=i.buffer;f.copy(u,n),n+=i.buffer.length}else throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");return e.encode.bytes=n-c,u},e.readHeaders=function(i,u,c){if(u=u||0,c=c||i.length,8>c-u)return 8;var s=i.readUInt32BE(u),t=i.toString("ascii",u+4,u+8),n=u+8;if(s===1){if(16>c-u)return 16;s=w.decode(i,n),n+=8}var a,l;return v.fullBoxes[t]&&(a=i.readUInt8(n),l=16777215&i.readUInt32BE(n),n+=4),{length:s,headersLen:n-u,contentLen:s-(n-u),type:t,version:a,flags:l}},e.decode=function(i,u,c){u=u||0,c=c||i.length;var s=e.readHeaders(i,u,c);if(!s||s.length>c-u)throw new Error("Data too short");return e.decodeWithoutHeaders(s,i,u+s.headersLen,u+s.length)},e.decodeWithoutHeaders=function(i,u,c,s){c=c||0,s=s||u.length;var t=i.type,n={};if(o[t]){n.otherBoxes=[];for(var a=o[t],l=c,f;8<=s-l;)if(f=e.decode(u,l,s),l+=f.length,0<=a.indexOf(f.type))n[f.type]=f;else if(0<=a.indexOf(f.type+"s")){var b=f.type+"s",C=n[b]=n[b]||[];C.push(f)}else n.otherBoxes.push(f)}else if(v[t]){var $=v[t].decode;n=$(u,c,s)}else n.buffer=p.from(u.slice(c,s));return n.length=i.length,n.contentLen=i.contentLen,n.type=i.type,n.version=i.version,n.flags=i.flags,n},e.encodingLength=function(i){var u=i.type,c=8;if(v.fullBoxes[u]&&(c+=4),o[u]){var s=o[u];s.forEach(function(t){if(t.length===5){var n=i[t]||[];t=t.substr(0,4),n.forEach(function(l){l.type=t,c+=e.encodingLength(l)})}else if(i[t]){var a=i[t];a.type=t,c+=e.encodingLength(a)}}),i.otherBoxes&&i.otherBoxes.forEach(function(t){c+=e.encodingLength(t)})}else if(v[u])c+=v[u].encodingLength(i);else if(i.buffer)c+=i.buffer.length;else throw new Error("Either `type` must be set to a known type (not'"+u+"') or `buffer` must be set");return c>h&&(c+=8),i.length=c,c}}).call(this)}).call(this,m("buffer").Buffer)},{"./boxes":170,buffer:76,uint64be:272}],173:[function(m,U,k){(function(p){(function(){var w=m("readable-stream"),v=m("next-event"),h=m("mp4-box-encoding"),e=p.alloc(0);class o extends w.Writable{constructor(c){super(c),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(c){this.destroyed||(this.destroyed=!0,c&&this.emit("error",c),this.emit("close"))}_write(c,s,t){if(!this.destroyed){for(var n=!this._str||!this._str._writableState.needDrain;c.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=c,void(this._writeCb=t);var a=c.length<this._missing?c.length:this._missing;if(this._buf?c.copy(this._buf,this._buf.length-this._missing):this._str&&(n=this._str.write(a===c.length?c:c.slice(0,a))),this._missing-=a,!this._missing){var l=this._buf,f=this._cb,b=this._str;this._buf=this._cb=this._str=this._ondrain=null,n=!0,this._ignoreEmpty=!1,b&&b.end(),f&&f(l)}c=a===c.length?e:c.slice(a)}return this._pending&&!this._missing?(this._writeBuffer=c,void(this._writeCb=t)):void(n?t():this._ondrain(t))}}_buffer(c,s){this._missing=c,this._buf=p.alloc(c),this._cb=s}_stream(c,s){return this._missing=c,this._str=new i(this),this._ondrain=v(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=s,this._str}_readBox(){let c=(s,t)=>{this._buffer(s,n=>{t=t?p.concat([t,n]):n;var a=h.readHeaders(t);typeof a=="number"?c(a-t.length,t):(this._pending++,this._headers=a,this.emit("box",a))})};c(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var c=this._headers;return this._headers=null,this._stream(c.contentLen,()=>{this._pending--,this._kick()})}decode(c){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var s=this._headers;this._headers=null,this._buffer(s.contentLen,t=>{var n=h.decodeWithoutHeaders(s,t);c(n),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var c=this._headers;this._headers=null,this._missing=c.contentLen,this._missing===0&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var c=this._writeCb,s=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(s,null,c)}}}class i extends w.PassThrough{constructor(c){super(),this._parent=c,this.destroyed=!1}destroy(c){this.destroyed||(this.destroyed=!0,this._parent.destroy(c),c&&this.emit("error",c),this.emit("close"))}}U.exports=o}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"mp4-box-encoding":172,"next-event":177,"readable-stream":228}],174:[function(m,U,k){(function(p){(function(){function w(){}var v=m("readable-stream"),h=m("mp4-box-encoding"),e=m("queue-microtask");class o extends v.Readable{constructor(c){super(c),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(c,s){this.mediaData(c,s)}mediaData(c,s){var t=new i(this);return this.box({type:"mdat",contentLength:c,encodeBufferLen:8,stream:t},s),t}box(c,s){if(s||(s=w),this.destroyed)return s(new Error("Encoder is destroyed"));var t;if(c.encodeBufferLen&&(t=p.alloc(c.encodeBufferLen)),c.stream)c.buffer=null,t=h.encode(c,t),this.push(t),this._stream=c.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",s),this._forward();else{t=h.encode(c,t);var n=this.push(t);if(n)return e(s);this._drain=s}}destroy(c){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var s=this._drain;this._drain=null,s(c)}c&&this.emit("error",c),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var c=this._stream.read();if(!c)return void(this._want=!!this._stream);if(!this.push(c))return}}_read(){if(!(this._reading||this.destroyed)){if(this._reading=!0,this._stream&&this._forward(),this._drain){var c=this._drain;this._drain=null,c()}this._reading=!1,this._finalized&&this.push(null)}}}class i extends v.PassThrough{constructor(c){super(),this._parent=c,this.destroyed=!1}destroy(c){this.destroyed||(this.destroyed=!0,this._parent.destroy(c),c&&this.emit("error",c),this.emit("close"))}}U.exports=o}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"mp4-box-encoding":172,"queue-microtask":206,"readable-stream":228}],175:[function(m,U,k){let p=m("./decode"),w=m("./encode");k.decode=v=>new p(v),k.encode=v=>new w(v)},{"./decode":173,"./encode":174}],176:[function(m,U,k){function p(t){if(t+="",!(100<t.length)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(n){var a=parseFloat(n[1]),l=(n[2]||"ms").toLowerCase();return l==="years"||l==="year"||l==="yrs"||l==="yr"||l==="y"?315576e5*a:l==="weeks"||l==="week"||l==="w"?6048e5*a:l==="days"||l==="day"||l==="d"?864e5*a:l==="hours"||l==="hour"||l==="hrs"||l==="hr"||l==="h"?36e5*a:l==="minutes"||l==="minute"||l==="mins"||l==="min"||l==="m"?6e4*a:l==="seconds"||l==="second"||l==="secs"||l==="sec"||l==="s"?1e3*a:l==="milliseconds"||l==="millisecond"||l==="msecs"||l==="msec"||l==="ms"?a:void 0}}}function w(t){var n=O(t);return 864e5<=n?D(t/864e5)+"d":36e5<=n?D(t/36e5)+"h":6e4<=n?D(t/6e4)+"m":1e3<=n?D(t/1e3)+"s":t+"ms"}function v(t){var n=O(t);return 864e5<=n?h(t,n,864e5,"day"):36e5<=n?h(t,n,36e5,"hour"):6e4<=n?h(t,n,6e4,"minute"):1e3<=n?h(t,n,1e3,"second"):t+" ms"}function h(t,n,a,l){var f=n>=1.5*a;return D(t/a)+" "+l+(f?"s":"")}var e=1e3,o=6e4,i=60*o,u=24*i,c=7*u,s=365.25*u;U.exports=function(t,n){n=n||{};var a=typeof t;if(a=="string"&&0<t.length)return p(t);if(a==="number"&&isFinite(t))return n.long?v(t):w(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],177:[function(m,U,k){function p(w,v){var h=null;return w.on(v,function(e){if(h){var o=h;h=null,o(e)}}),function(e){h=e}}U.exports=p},{}],178:[function(m,U,k){function p(h){var e=function(){return e.called?e.value:(e.called=!0,e.value=h.apply(this,arguments))};return e.called=!1,e}function w(h){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=h.apply(this,arguments)},o=h.name||"Function wrapped with `once`";return e.onceError=o+" shouldn't be called more than once",e.called=!1,e}var v=m("wrappy");U.exports=v(p),U.exports.strict=v(w),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})})},{wrappy:280}],179:[function(m,U,k){U.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],180:[function(m,U,k){"use strict";var p=m("asn1.js");k.certificate=m("./certificate");var w=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});k.RSAPrivateKey=w;var v=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});k.RSAPublicKey=v;var h=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e),this.key("subjectPublicKey").bitstr())});k.PublicKey=h;var e=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("subjectPrivateKey").octstr())});k.PrivateKey=o;var i=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});k.EncryptedPrivateKey=i;var u=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});k.DSAPrivateKey=u,k.DSAparam=p.define("DSAparam",function(){this.int()});var c=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(s),this.key("publicKey").optional().explicit(1).bitstr())});k.ECPrivateKey=c;var s=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});k.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":181,"asn1.js":8}],181:[function(m,U,k){"use strict";var p=m("asn1.js"),w=p.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),v=p.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),h=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),e=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())}),o=p.define("RelativeDistinguishedName",function(){this.setof(v)}),i=p.define("RDNSequence",function(){this.seqof(o)}),u=p.define("Name",function(){this.choice({rdnSequence:this.use(i)})}),c=p.define("Validity",function(){this.seq().obj(this.key("notBefore").use(w),this.key("notAfter").use(w))}),s=p.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),t=p.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(h),this.key("issuer").use(u),this.key("validity").use(c),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(s).optional())}),n=p.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(t),this.key("signatureAlgorithm").use(h),this.key("signatureValue").bitstr())});U.exports=n},{"asn1.js":8}],182:[function(m,U,k){var p=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,w=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,v=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,h=m("evp_bytestokey"),e=m("browserify-aes"),o=m("safe-buffer").Buffer;U.exports=function(i,u){var c=i.toString(),s=c.match(p),t;if(s){var a="aes"+s[1],l=o.from(s[2],"hex"),f=o.from(s[3].replace(/[\r\n]/g,""),"base64"),b=h(u,l.slice(0,8),parseInt(s[1],10)).key,C=[],$=e.createDecipheriv(a,b,l);C.push($.update(f)),C.push($.final()),t=o.concat(C)}else{var n=c.match(v);t=o.from(n[2].replace(/[\r\n]/g,""),"base64")}var W=c.match(w)[1];return{tag:W,data:t}}},{"browserify-aes":45,evp_bytestokey:124,"safe-buffer":235}],183:[function(m,U,k){function p(c){var s;typeof c!="object"||u.isBuffer(c)||(s=c.passphrase,c=c.key),typeof c=="string"&&(c=u.from(c));var t=e(c,s),n=t.tag,a=t.data,l,f;switch(n){case"CERTIFICATE":f=v.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=v.PublicKey.decode(a,"der")),l=f.algorithm.algorithm.join("."),l){case"1.2.840.113549.1.1.1":return v.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=v.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+l)}case"ENCRYPTED PRIVATE KEY":a=v.EncryptedPrivateKey.decode(a,"der"),a=w(a,s);case"PRIVATE KEY":switch(f=v.PrivateKey.decode(a,"der"),l=f.algorithm.algorithm.join("."),l){case"1.2.840.113549.1.1.1":return v.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:v.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=v.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+l)}case"RSA PUBLIC KEY":return v.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return v.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:v.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return a=v.ECPrivateKey.decode(a,"der"),{curve:a.parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+n)}}function w(c,s){var t=c.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(c.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=h[c.algorithm.decrypt.cipher.algo.join(".")],l=c.algorithm.decrypt.cipher.iv,f=c.subjectPrivateKey,b=parseInt(a.split("-")[1],10)/8,C=i.pbkdf2Sync(s,t,n,b,"sha1"),$=o.createDecipheriv(a,C,l),W=[];return W.push($.update(f)),W.push($.final()),u.concat(W)}var v=m("./asn1"),h=m("./aesid.json"),e=m("./fixProc"),o=m("browserify-aes"),i=m("pbkdf2"),u=m("safe-buffer").Buffer;U.exports=p,p.signature=v.signature},{"./aesid.json":179,"./asn1":180,"./fixProc":182,"browserify-aes":45,pbkdf2:186,"safe-buffer":235}],184:[function(m,U,k){(function(p){(function(){function w($){if(typeof $=="string"&&/^(stream-)?magnet:/.test($)){let W=l($);if(!W.infoHash)throw new Error("Invalid torrent identifier");return W}if(typeof $=="string"&&(/^[a-f0-9]{40}$/i.test($)||/^[a-z2-7]{32}$/i.test($)))return l(`magnet:?xt=urn:btih:${$}`);if(p.isBuffer($)&&$.length===20)return l(`magnet:?xt=urn:btih:${$.toString("hex")}`);if(p.isBuffer($))return h($);if($&&$.infoHash)return $.infoHash=$.infoHash.toLowerCase(),$.announce||($.announce=[]),typeof $.announce=="string"&&($.announce=[$.announce]),$.urlList||($.urlList=[]),$;throw new Error("Invalid torrent identifier")}function v($,W,R){function L(ee){try{q=w(ee)}catch(ae){return R(ae)}q&&q.infoHash?R(null,q):R(new Error("Invalid torrent identifier"))}if(typeof W=="function")return v($,{},W);if(typeof R!="function")throw new Error("second argument must be a Function");let q;try{q=w($)}catch{}q&&q.infoHash?C(()=>{R(null,q)}):o($)?t($,(ee,ae)=>ee?R(new Error(`Error converting Blob: ${ee.message}`)):void L(ae)):typeof a=="function"&&/^https?:/.test($)?(W=Object.assign({url:$,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},W),a.concat(W,(ee,ae,fe)=>ee?R(new Error(`Error downloading torrent: ${ee.message}`)):void L(fe))):typeof n.readFile=="function"&&typeof $=="string"?n.readFile($,(ee,ae)=>ee?R(new Error("Invalid torrent identifier")):void L(ae)):C(()=>{R(new Error("Invalid torrent identifier"))})}function h($){p.isBuffer($)&&($=s.decode($)),c($.info,"info"),c($.info["name.utf-8"]||$.info.name,"info.name"),c($.info["piece length"],"info['piece length']"),c($.info.pieces,"info.pieces"),$.info.files?$.info.files.forEach(q=>{c(typeof q.length=="number","info.files[0].length"),c(q["path.utf-8"]||q.path,"info.files[0].path")}):c(typeof $.info.length=="number","info.length");let W={info:$.info,infoBuffer:s.encode($.info),name:($.info["name.utf-8"]||$.info.name).toString(),announce:[]};W.infoHash=b.sync(W.infoBuffer),W.infoHashBuffer=p.from(W.infoHash,"hex"),$.info.private!==void 0&&(W.private=!!$.info.private),$["creation date"]&&(W.created=new Date(1e3*$["creation date"])),$["created by"]&&(W.createdBy=$["created by"].toString()),p.isBuffer($.comment)&&(W.comment=$.comment.toString()),Array.isArray($["announce-list"])&&0<$["announce-list"].length?$["announce-list"].forEach(q=>{q.forEach(ee=>{W.announce.push(ee.toString())})}):$.announce&&W.announce.push($.announce.toString()),p.isBuffer($["url-list"])&&($["url-list"]=0<$["url-list"].length?[$["url-list"]]:[]),W.urlList=($["url-list"]||[]).map(q=>q.toString()),W.announce=Array.from(new Set(W.announce)),W.urlList=Array.from(new Set(W.urlList));let R=$.info.files||[$.info];W.files=R.map((q,ee)=>{let ae=[].concat(W.name,q["path.utf-8"]||q.path||[]).map(fe=>fe.toString());return{path:f.join.apply(null,[f.sep].concat(ae)).slice(1),name:ae[ae.length-1],length:q.length,offset:R.slice(0,ee).reduce(i,0)}}),W.length=R.reduce(i,0);let L=W.files[W.files.length-1];return W.pieceLength=$.info["piece length"],W.lastPieceLength=(L.offset+L.length)%W.pieceLength||W.pieceLength,W.pieces=u($.info.pieces),W}function e($){let W={info:$.info};return W["announce-list"]=($.announce||[]).map(R=>(W.announce||(W.announce=R),R=p.from(R,"utf8"),[R])),W["url-list"]=$.urlList||[],$.private!==void 0&&(W.private=+$.private),$.created&&(W["creation date"]=0|$.created.getTime()/1e3),$.createdBy&&(W["created by"]=$.createdBy),$.comment&&(W.comment=$.comment),s.encode(W)}function o($){return typeof Blob!="undefined"&&$ instanceof Blob}function i($,W){return $+W.length}function u($){let W=[];for(let R=0;R<$.length;R+=20)W.push($.slice(R,R+20).toString("hex"));return W}function c($,W){if(!$)throw new Error(`Torrent is missing required field: ${W}`)}let s=m("bencode"),t=m("blob-to-buffer"),n=m("fs"),a=m("simple-get"),l=m("magnet-uri"),f=m("path"),b=m("simple-sha1"),C=m("queue-microtask");U.exports=w,U.exports.remote=v,U.exports.toMagnetURI=l.encode,U.exports.toTorrentFile=e,p.alloc(0)}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:76,fs:42,"magnet-uri":158,path:185,"queue-microtask":206,"simple-get":246,"simple-sha1":248}],185:[function(m,U,k){(function(p){(function(){"use strict";function w(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function v(o,i){for(var u="",c=0,s=-1,t=0,n=0,a;n<=o.length;++n){if(n<o.length)a=o.charCodeAt(n);else{if(a===47)break;a=47}if(a===47){if(!(s===n-1||t===1))if(s!==n-1&&t===2){if(2>u.length||c!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(2<u.length){var l=u.lastIndexOf("/");if(l!==u.length-1){l===-1?(u="",c=0):(u=u.slice(0,l),c=u.length-1-u.lastIndexOf("/")),s=n,t=0;continue}}else if(u.length===2||u.length===1){u="",c=0,s=n,t=0;continue}}i&&(0<u.length?u+="/..":u="..",c=2)}else 0<u.length?u+="/"+o.slice(s+1,n):u=o.slice(s+1,n),c=n-s-1;s=n,t=0}else a===46&&t!==-1?++t:t=-1}return u}function h(o,i){var u=i.dir||i.root,c=i.base||(i.name||"")+(i.ext||"");return u?u===i.root?u+c:u+o+c:c}var e={resolve:function(){for(var i="",u=!1,c=arguments.length-1,s;-1<=c&&!u;c--){var t;0<=c?t=arguments[c]:(s===void 0&&(s=p.cwd()),t=s),w(t),t.length!==0&&(i=t+"/"+i,u=t.charCodeAt(0)===47)}return i=v(i,!u),u?0<i.length?"/"+i:"/":0<i.length?i:"."},normalize:function(i){if(w(i),i.length===0)return".";var u=i.charCodeAt(0)===47,c=i.charCodeAt(i.length-1)===47;return i=v(i,!u),i.length!==0||u||(i="."),0<i.length&&c&&(i+="/"),u?"/"+i:i},isAbsolute:function(i){return w(i),0<i.length&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i=0,u,c;i<arguments.length;++i)c=arguments[i],w(c),0<c.length&&(u===void 0?u=c:u+="/"+c);return u===void 0?".":e.normalize(u)},relative:function(i,u){if(w(i),w(u),i===u||(i=e.resolve(i),u=e.resolve(u),i===u))return"";for(var c=1;c<i.length&&i.charCodeAt(c)===47;++c);for(var s=i.length,t=s-c,n=1;n<u.length&&u.charCodeAt(n)===47;++n);for(var a=u.length,l=a-n,f=t<l?t:l,b=-1,C=0;C<=f;++C){if(C===f){if(l>f){if(u.charCodeAt(n+C)===47)return u.slice(n+C+1);if(C===0)return u.slice(n+C)}else t>f&&(i.charCodeAt(c+C)===47?b=C:C===0&&(b=0));break}var $=i.charCodeAt(c+C),W=u.charCodeAt(n+C);if($!==W)break;$===47&&(b=C)}var R="";for(C=c+b+1;C<=s;++C)(C===s||i.charCodeAt(C)===47)&&(R+=R.length===0?"..":"/..");return 0<R.length?R+u.slice(n+b):(n+=b,u.charCodeAt(n)===47&&++n,u.slice(n))},_makeLong:function(i){return i},dirname:function(i){if(w(i),i.length===0)return".";for(var u=i.charCodeAt(0),c=u===47,s=-1,t=!0,n=i.length-1;1<=n;--n)if(u=i.charCodeAt(n),u!==47)t=!1;else if(!t){s=n;break}return s===-1?c?"/":".":c&&s===1?"//":i.slice(0,s)},basename:function(i,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');w(i);var c=0,s=-1,t=!0,n;if(u!==void 0&&0<u.length&&u.length<=i.length){if(u.length===i.length&&u===i)return"";var a=u.length-1,l=-1;for(n=i.length-1;0<=n;--n){var f=i.charCodeAt(n);if(f!==47)l===-1&&(t=!1,l=n+1),0<=a&&(f===u.charCodeAt(a)?--a==-1&&(s=n):(a=-1,s=l));else if(!t){c=n+1;break}}return c===s?s=l:s===-1&&(s=i.length),i.slice(c,s)}for(n=i.length-1;0<=n;--n)if(i.charCodeAt(n)!==47)s===-1&&(t=!1,s=n+1);else if(!t){c=n+1;break}return s===-1?"":i.slice(c,s)},extname:function(i){w(i);for(var u=-1,c=0,s=-1,t=!0,n=0,a=i.length-1,l;0<=a;--a){if(l=i.charCodeAt(a),l===47){if(!t){c=a+1;break}continue}s===-1&&(t=!1,s=a+1),l===46?u===-1?u=a:n!==1&&(n=1):u!==-1&&(n=-1)}return u===-1||s===-1||n===0||n===1&&u===s-1&&u===c+1?"":i.slice(u,s)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return h("/",i)},parse:function(i){w(i);var u={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return u;var c=i.charCodeAt(0),s=c===47,t;s?(u.root="/",t=1):t=0;for(var n=-1,a=0,l=-1,f=!0,b=i.length-1,C=0;b>=t;--b){if(c=i.charCodeAt(b),c===47){if(!f){a=b+1;break}continue}l===-1&&(f=!1,l=b+1),c===46?n===-1?n=b:C!==1&&(C=1):n!==-1&&(C=-1)}return n===-1||l===-1||C===0||C===1&&n===l-1&&n===a+1?l!==-1&&(a===0&&s?u.base=u.name=i.slice(1,l):u.base=u.name=i.slice(a,l)):(a===0&&s?(u.name=i.slice(1,n),u.base=i.slice(1,l)):(u.name=i.slice(a,n),u.base=i.slice(a,l)),u.ext=i.slice(n,l)),0<a?u.dir=i.slice(0,a-1):s&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};e.posix=e,U.exports=e}).call(this)}).call(this,m("_process"))},{_process:193}],186:[function(m,U,k){k.pbkdf2=m("./lib/async"),k.pbkdf2Sync=m("./lib/sync")},{"./lib/async":187,"./lib/sync":190}],187:[function(m,U,k){(function(p){(function(){function w(b){if(p.process&&!p.process.browser||!t||!t.importKey||!t.deriveBits)return Promise.resolve(!1);if(a[b]!==void 0)return a[b];l=l||o.alloc(8);var C=h(l,l,10,128,b).then(function(){return!0}).catch(function(){return!1});return a[b]=C,C}function v(){return f||(f=p.process&&p.process.nextTick?p.process.nextTick:p.queueMicrotask?p.queueMicrotask:p.setImmediate?p.setImmediate:p.setTimeout,f)}function h(b,C,$,W,R){return t.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return t.deriveBits({name:"PBKDF2",salt:C,iterations:$,hash:{name:R}},L,W<<3)}).then(function(L){return o.from(L)})}function e(b,C){b.then(function($){v()(function(){C(null,$)})},function($){v()(function(){C($)})})}var o=m("safe-buffer").Buffer,i=m("./precondition"),u=m("./default-encoding"),c=m("./sync"),s=m("./to-buffer"),t=p.crypto&&p.crypto.subtle,n={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},a=[],l,f;U.exports=function(b,C,$,W,R,L){typeof R=="function"&&(L=R,R=void 0),R=R||"sha1";var q=n[R.toLowerCase()];if(!q||typeof p.Promise!="function")return void v()(function(){var ee;try{ee=c(b,C,$,W,R)}catch(ae){return L(ae)}L(null,ee)});if(i($,W),b=s(b,u,"Password"),C=s(C,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");e(w(q).then(function(ee){return ee?h(b,C,$,W,q):c(b,C,$,W,R)}),L)}}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"./default-encoding":188,"./precondition":189,"./sync":190,"./to-buffer":191,"safe-buffer":235}],188:[function(m,U,k){(function(p,w){(function(){var v;if(w.process&&w.process.browser)v="utf-8";else if(w.process&&w.process.version){var h=parseInt(p.version.split(".")[0].slice(1),10);v=6<=h?"utf-8":"binary"}else v="utf-8";U.exports=v}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{_process:193}],189:[function(m,U,k){var p=A(2,30)-1;U.exports=function(w,v){if(typeof w!="number")throw new TypeError("Iterations not a number");if(0>w)throw new TypeError("Bad iterations");if(typeof v!="number")throw new TypeError("Key length not a number");if(0>v||1073741823<v||v!==v)throw new TypeError("Bad key length")}},{}],190:[function(m,U,k){function p(a,l,f){var b=w(a),C=a==="sha512"||a==="sha384"?128:64;l.length>C?l=b(l):l.length<C&&(l=i.concat([l,t],C));for(var $=i.allocUnsafe(C+n[a]),W=i.allocUnsafe(C+n[a]),R=0;R<C;R++)$[R]=54^l[R],W[R]=92^l[R];var L=i.allocUnsafe(C+f+4);$.copy(L,0,0,C),this.ipad1=L,this.ipad2=$,this.opad=W,this.alg=a,this.blocksize=C,this.hash=b,this.size=n[a]}function w(a){function l(b){return o(a).update(b).digest()}function f(b){return new e().update(b).digest()}return a==="rmd160"||a==="ripemd160"?f:a==="md5"?h:l}function v(a,l,f,b,C){u(f,b),a=s(a,c,"Password"),l=s(l,c,"Salt"),C=C||"sha1";var $=new p(C,a,l.length),W=i.allocUnsafe(b),R=i.allocUnsafe(l.length+4);l.copy(R,0,0,l.length);for(var L=0,q=n[C],ee=N(b/q),ae=1;ae<=ee;ae++){R.writeUInt32BE(ae,l.length);for(var fe=$.run(R,$.ipad1),Ee=fe,se=1;se<f;se++){Ee=$.run(Ee,$.ipad2);for(var B=0;B<q;B++)fe[B]^=Ee[B]}fe.copy(W,L),L+=q}return W}var h=m("create-hash/md5"),e=m("ripemd160"),o=m("sha.js"),i=m("safe-buffer").Buffer,u=m("./precondition"),c=m("./default-encoding"),s=m("./to-buffer"),t=i.alloc(128),n={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};p.prototype.run=function(a,l){a.copy(l,this.blocksize);var f=this.hash(l);return f.copy(this.opad,this.blocksize),this.hash(this.opad)},U.exports=v},{"./default-encoding":188,"./precondition":189,"./to-buffer":191,"create-hash/md5":86,ripemd160:231,"safe-buffer":235,"sha.js":238}],191:[function(m,U,k){var p=m("safe-buffer").Buffer;U.exports=function(w,v,h){if(p.isBuffer(w))return w;if(typeof w=="string")return p.from(w,v);if(ArrayBuffer.isView(w))return p.from(w.buffer);throw new TypeError(h+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":235}],192:[function(m,U,k){function p(w){return F(16384,0|1<<Math.log2(1024>w?1:w/1024)+.5)}U.exports=p},{}],193:[function(m,U,k){function p(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function v(b){if(s===setTimeout)return setTimeout(b,0);if((s===p||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}function h(b){if(t===clearTimeout)return clearTimeout(b);if((t===w||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(b);try{return t(b)}catch{try{return t.call(null,b)}catch{return t.call(this,b)}}}function e(){a&&f&&(a=!1,f.length?n=f.concat(n):l=-1,n.length&&o())}function o(){if(!a){var b=v(e);a=!0;for(var C=n.length;C;){for(f=n,n=[];++l<C;)f&&f[l].run();l=-1,C=n.length}f=null,a=!1,h(b)}}function i(b,C){this.fun=b,this.array=C}function u(){}var c=U.exports={},s,t;(function(){try{s=typeof setTimeout=="function"?setTimeout:p}catch{s=p}try{t=typeof clearTimeout=="function"?clearTimeout:w}catch{t=w}})();var n=[],a=!1,l=-1,f;c.nextTick=function(b){var C=Array(arguments.length-1);if(1<arguments.length)for(var $=1;$<arguments.length;$++)C[$-1]=arguments[$];n.push(new i(b,C)),n.length!==1||a||v(o)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.prependListener=u,c.prependOnceListener=u,c.listeners=function(b){return[]},c.binding=function(b){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(b){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],194:[function(m,U,k){k.publicEncrypt=m("./publicEncrypt"),k.privateDecrypt=m("./privateDecrypt"),k.privateEncrypt=function(w,v){return k.publicEncrypt(w,v,!0)},k.publicDecrypt=function(w,v){return k.privateDecrypt(w,v,!0)}},{"./privateDecrypt":197,"./publicEncrypt":198}],195:[function(m,U,k){function p(h){var e=v.allocUnsafe(4);return e.writeUInt32BE(h,0),e}var w=m("create-hash"),v=m("safe-buffer").Buffer;U.exports=function(h,e){for(var o=v.alloc(0),i=0,u;o.length<e;)u=p(i++),o=v.concat([o,w("sha1").update(h).update(u).digest()]);return o.slice(0,e)}},{"create-hash":85,"safe-buffer":235}],196:[function(m,U,k){arguments[4][22][0].apply(k,arguments)},{buffer:42,dup:22}],197:[function(m,U,k){function p(n,a){var l=n.modulus.byteLength(),f=c("sha1").update(t.alloc(0)).digest(),b=f.length;if(a[0]!==0)throw new Error("decryption error");var C=a.slice(1,b+1),$=a.slice(b+1),W=o(C,e($,b)),R=o($,e(W,l-b-1));if(v(f,R.slice(0,b)))throw new Error("decryption error");for(var L=b;R[L]===0;)L++;if(R[L++]!==1)throw new Error("decryption error");return R.slice(L)}function w(n,a,l){for(var f=a.slice(0,2),b=2,C=0;a[b++]!==0;)if(b>=a.length){C++;break}var $=a.slice(2,b-1);if((f.toString("hex")!=="0002"&&!l||f.toString("hex")!=="0001"&&l)&&C++,8>$.length&&C++,C)throw new Error("decryption error");return a.slice(b)}function v(n,a){n=t.from(n),a=t.from(a);var l=0,f=n.length;n.length!==a.length&&(l++,f=J(n.length,a.length));for(var b=-1;++b<f;)l+=n[b]^a[b];return l}var h=m("parse-asn1"),e=m("./mgf"),o=m("./xor"),i=m("bn.js"),u=m("browserify-rsa"),c=m("create-hash"),s=m("./withPublic"),t=m("safe-buffer").Buffer;U.exports=function(a,l,f){var b;b=a.padding?a.padding:f?1:4;var C=h(a),$=C.modulus.byteLength();if(l.length>$||0<=new i(l).cmp(C.modulus))throw new Error("decryption error");var W;W=f?s(new i(l),C):u(l,C);var R=t.alloc($-W.length);if(W=t.concat([R,W],$),b===4)return p(C,W);if(b===1)return w(C,W,f);if(b===3)return W;throw new Error("unknown padding")}},{"./mgf":195,"./withPublic":199,"./xor":200,"bn.js":196,"browserify-rsa":63,"create-hash":85,"parse-asn1":183,"safe-buffer":235}],198:[function(m,U,k){function p(a,l){var f=a.modulus.byteLength(),b=l.length,C=o("sha1").update(n.alloc(0)).digest(),$=C.length,W=2*$;if(b>f-W-2)throw new Error("message too long");var R=n.alloc(f-b-W-2),L=f-$-1,q=e($),ee=u(n.concat([C,R,n.alloc(1,1),l],L),i(q,L)),ae=u(q,i(ee,$));return new c(n.concat([n.alloc(1),ae,ee],f))}function w(a,l,f){var b=l.length,C=a.modulus.byteLength();if(b>C-11)throw new Error("message too long");var $;return $=f?n.alloc(C-b-3,255):v(C-b-3),new c(n.concat([n.from([0,f?1:2]),$,n.alloc(1),l],C))}function v(a){for(var l=n.allocUnsafe(a),f=0,b=e(2*a),C=0,$;f<a;)C===b.length&&(b=e(2*a),C=0),$=b[C++],$&&(l[f++]=$);return l}var h=m("parse-asn1"),e=m("randombytes"),o=m("create-hash"),i=m("./mgf"),u=m("./xor"),c=m("bn.js"),s=m("./withPublic"),t=m("browserify-rsa"),n=m("safe-buffer").Buffer;U.exports=function(l,f,b){var C;C=l.padding?l.padding:b?1:4;var $=h(l),W;if(C===4)W=p($,f);else if(C===1)W=w($,f,b);else{if(C!==3)throw new Error("unknown padding");if(W=new c(f),0<=W.cmp($.modulus))throw new Error("data too long for modulus")}return b?t(W,$):s(W,$)}},{"./mgf":195,"./withPublic":199,"./xor":200,"bn.js":196,"browserify-rsa":63,"create-hash":85,"parse-asn1":183,randombytes:209,"safe-buffer":235}],199:[function(m,U,k){function p(h,e){return v.from(h.toRed(w.mont(e.modulus)).redPow(new w(e.publicExponent)).fromRed().toArray())}var w=m("bn.js"),v=m("safe-buffer").Buffer;U.exports=p},{"bn.js":196,"safe-buffer":235}],200:[function(m,U,k){U.exports=function(w,v){for(var h=w.length,e=-1;++e<h;)w[e]^=v[e];return w}},{}],201:[function(m,U,k){(function(p){(function(){var w=m("once"),v=m("end-of-stream"),h=m("fs"),e=function(){},o=/^v?\.0/.test(p.version),i=function(l){return typeof l=="function"},u=function(l){return!!o&&!!h&&(l instanceof(h.ReadStream||e)||l instanceof(h.WriteStream||e))&&i(l.close)},c=function(l){return l.setHeader&&i(l.abort)},s=function(l,f,b,C){C=w(C);var $=!1;l.on("close",function(){$=!0}),v(l,{readable:f,writable:b},function(R){return R?C(R):($=!0,void C())});var W=!1;return function(R){if(!$)return W?void 0:(W=!0,u(l)?l.close(e):c(l)?l.abort():i(l.destroy)?l.destroy():void C(R||new Error("stream was destroyed")))}},t=function(l){l()},n=function(l,f){return l.pipe(f)},a=function(){var l=Array.prototype.slice.call(arguments),f=i(l[l.length-1]||e)&&l.pop()||e;if(Array.isArray(l[0])&&(l=l[0]),2>l.length)throw new Error("pump requires two streams per minimum");var b=l.map(function($,W){var R=W<l.length-1,L=0<W;return s($,R,L,function(q){C||(C=q),q&&b.forEach(t),R||(b.forEach(t),f(C))})}),C;return l.reduce(n)};U.exports=a}).call(this)}).call(this,m("_process"))},{_process:193,"end-of-stream":121,fs:42,once:178}],202:[function(m,U,k){(function(p){(function(){(function(w){function v(le){throw new RangeError(j[le])}function h(le,ge){for(var Re=le.length,Ae=[];Re--;)Ae[Re]=ge(le[Re]);return Ae}function e(le,ge){var Re=le.split("@"),Ae="";1<Re.length&&(Ae=Re[0]+"@",le=Re[1]),le=le.replace(K,".");var De=le.split("."),$e=h(De,ge).join(".");return Ae+$e}function o(le){for(var ge=[],Re=0,Ae=le.length,De,$e;Re<Ae;)De=le.charCodeAt(Re++),55296<=De&&56319>=De&&Re<Ae?($e=le.charCodeAt(Re++),(64512&$e)==56320?ge.push(((1023&De)<<10)+(1023&$e)+65536):(ge.push(De),Re--)):ge.push(De);return ge}function i(le){return h(le,function(ge){var Re="";return 65535<ge&&(ge-=65536,Re+=Z(55296|1023&ge>>>10),ge=56320|1023&ge),Re+=Z(ge),Re}).join("")}function u(le){return 10>le-48?le-22:26>le-65?le-65:26>le-97?le-97:36}function c(le,ge){return le+22+75*(26>le)-((ge!=0)<<5)}function s(le,ge,Re){var Ae=0;for(le=Re?z(le/700):le>>1,le+=z(le/ge);455<le;Ae+=36)le=z(le/35);return z(Ae+36*le/(le+38))}function t(le){var ge=[],Re=le.length,Ae=0,De=128,$e=72,Ye,rt,bt,ut,Me,Ge,Ze,ft,Mt,ue;for(rt=le.lastIndexOf("-"),0>rt&&(rt=0),bt=0;bt<rt;++bt)128<=le.charCodeAt(bt)&&v("not-basic"),ge.push(le.charCodeAt(bt));for(ut=0<rt?rt+1:0;ut<Re;){for(Me=Ae,Ge=1,Ze=36;ut>=Re&&v("invalid-input"),ft=u(le.charCodeAt(ut++)),(36<=ft||ft>z((2147483647-Ae)/Ge))&&v("overflow"),Ae+=ft*Ge,Mt=Ze<=$e?1:Ze>=$e+26?26:Ze-$e,!(ft<Mt);Ze+=36)ue=36-Mt,Ge>z(2147483647/ue)&&v("overflow"),Ge*=ue;Ye=ge.length+1,$e=s(Ae-Me,Ye,Me==0),z(Ae/Ye)>2147483647-De&&v("overflow"),De+=z(Ae/Ye),Ae%=Ye,ge.splice(Ae++,0,De)}return i(ge)}function n(le){var ge=[],Re,Ae,De,$e,Ye,rt,bt,ut,Me,Ge,Ze,ft,Mt,ue,G;for(le=o(le),ft=le.length,Re=128,Ae=0,Ye=72,rt=0;rt<ft;++rt)Ze=le[rt],128>Ze&&ge.push(Z(Ze));for(De=$e=ge.length,$e&&ge.push("-");De<ft;){for(bt=2147483647,rt=0;rt<ft;++rt)Ze=le[rt],Ze>=Re&&Ze<bt&&(bt=Ze);for(Mt=De+1,bt-Re>z((2147483647-Ae)/Mt)&&v("overflow"),Ae+=(bt-Re)*Mt,Re=bt,rt=0;rt<ft;++rt)if(Ze=le[rt],Ze<Re&&2147483647<++Ae&&v("overflow"),Ze==Re){for(ut=Ae,Me=36;Ge=Me<=Ye?1:Me>=Ye+26?26:Me-Ye,!(ut<Ge);Me+=36)G=ut-Ge,ue=36-Ge,ge.push(Z(c(Ge+G%ue,0))),ut=z(G/ue);ge.push(Z(c(ut,0))),Ye=s(Ae,Mt,De==$e),Ae=0,++De}++Ae,++Re}return ge.join("")}function a(le){return e(le,function(ge){return se.test(ge)?t(ge.slice(4).toLowerCase()):ge})}function l(le){return e(le,function(ge){return B.test(ge)?"xn--"+n(ge):ge})}var f=typeof k=="object"&&k&&!k.nodeType&&k,b=typeof U=="object"&&U&&!U.nodeType&&U,C=typeof p=="object"&&p;(C.global===C||C.window===C||C.self===C)&&(w=C);var $=2147483647,W=36,R=1,L=26,q=38,ee=700,ae=72,fe=128,Ee="-",se=/^xn--/,B=/[^\x20-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=35,z=I,Z=g,oe,Y;if(oe={version:"1.4.1",ucs2:{decode:o,encode:i},decode:t,encode:n,toASCII:l,toUnicode:a},typeof pe=="function"&&typeof pe.amd=="object"&&pe.amd)pe("punycode",function(){return oe});else if(!(f&&b))w.punycode=oe;else if(U.exports==f)b.exports=oe;else for(Y in oe)oe.hasOwnProperty(Y)&&(f[Y]=oe[Y])})(this)}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],203:[function(m,U,k){"use strict";function p(v,h){return Object.prototype.hasOwnProperty.call(v,h)}U.exports=function(v,h,e,o){h=h||"&",e=e||"=";var i={};if(typeof v!="string"||v.length===0)return i;var u=/\+/g;v=v.split(h);var c=1e3;o&&typeof o.maxKeys=="number"&&(c=o.maxKeys);var s=v.length;0<c&&s>c&&(s=c);for(var t=0;t<s;++t){var n=v[t].replace(u,"%20"),a=n.indexOf(e),l,f,b,C;0<=a?(l=n.substr(0,a),f=n.substr(a+1)):(l=n,f=""),b=decodeURIComponent(l),C=decodeURIComponent(f),p(i,b)?w(i[b])?i[b].push(C):i[b]=[i[b],C]:i[b]=C}return i};var w=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"}},{}],204:[function(m,U,k){"use strict";function p(e,o){if(e.map)return e.map(o);for(var i=[],u=0;u<e.length;u++)i.push(o(e[u],u));return i}var w=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};U.exports=function(e,o,i,u){return o=o||"&",i=i||"=",e===null&&(e=void 0),typeof e=="object"?p(h(e),function(c){var s=encodeURIComponent(w(c))+i;return v(e[c])?p(e[c],function(t){return s+encodeURIComponent(w(t))}).join(o):s+encodeURIComponent(w(e[c]))}).join(o):u?encodeURIComponent(w(u))+i+encodeURIComponent(w(e)):""};var v=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},h=Object.keys||function(e){var o=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&o.push(i);return o}},{}],205:[function(m,U,k){"use strict";k.decode=k.parse=m("./decode"),k.encode=k.stringify=m("./encode")},{"./decode":203,"./encode":204}],206:[function(m,U,k){(function(p){(function(){let w;U.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window=="undefined"?p:window):v=>(w||(w=Promise.resolve())).then(v).catch(h=>setTimeout(()=>{throw h},0))}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],207:[function(m,U,k){U.exports=typeof queueMicrotask=="function"?queueMicrotask:p=>Promise.resolve().then(p)},{}],208:[function(m,U,k){var p=function(w){var v=0;return function(){if(v===w.length)return null;var h=w.length-v,e=0|Math.random()*h,o=w[v+e],i=w[v];return w[v]=o,w[v+e]=i,v++,o}};U.exports=p},{}],209:[function(m,U,k){(function(p,w){(function(){"use strict";function v(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}function h(c,s){if(c>4294967295)throw new RangeError("requested too many random bytes");var t=i.allocUnsafe(c);if(0<c)if(65536<c)for(var n=0;n<c;n+=65536)u.getRandomValues(t.slice(n,n+65536));else u.getRandomValues(t);return typeof s=="function"?p.nextTick(function(){s(null,t)}):t}var e=65536,o=4294967295,i=m("safe-buffer").Buffer,u=w.crypto||w.msCrypto;U.exports=u&&u.getRandomValues?h:v}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{_process:193,"safe-buffer":235}],210:[function(m,U,k){(function(p,w){(function(){"use strict";function v(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}function h(f,b){if(typeof f!="number"||f!==f)throw new TypeError("offset must be a number");if(4294967295<f||0>f)throw new TypeError("offset must be a uint32");if(f>n||f>b)throw new RangeError("offset out of range")}function e(f,b,C){if(typeof f!="number"||f!==f)throw new TypeError("size must be a number");if(4294967295<f||0>f)throw new TypeError("size must be a uint32");if(f+b>C||f>n)throw new RangeError("buffer too small")}function o(f,b,C,$){if(!t.isBuffer(f)&&!(f instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")$=b,b=0,C=f.length;else if(typeof C=="function")$=C,C=f.length-b;else if(typeof $!="function")throw new TypeError('"cb" argument must be a function');return h(b,f.length),e(C,b,f.length),i(f,b,C,$)}function i(f,b,C,$){if(p.browser){var W=f.buffer,R=new Uint8Array(W,b,C);return a.getRandomValues(R),$?void p.nextTick(function(){$(null,f)}):f}if($)return void s(C,function(q,ee){return q?$(q):(ee.copy(f,b),void $(null,f))});var L=s(C);return L.copy(f,b),f}function u(f,b,C){if(typeof b=="undefined"&&(b=0),!t.isBuffer(f)&&!(f instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(b,f.length),C===void 0&&(C=f.length-b),e(C,b,f.length),i(f,b,C)}var c=m("safe-buffer"),s=m("randombytes"),t=c.Buffer,n=c.kMaxLength,a=w.crypto||w.msCrypto,l=A(2,32)-1;a&&a.getRandomValues||!p.browser?(k.randomFill=o,k.randomFillSync=u):(k.randomFill=v,k.randomFillSync=v)}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{_process:193,randombytes:209,"safe-buffer":235}],211:[function(m,U,k){"use strict";function p(i,u,c){if(typeof u!="string")throw new TypeError("argument str must be a string");var s=u.indexOf("=");if(s===-1)return-2;var t=u.slice(s+1).split(","),n=[];n.type=u.slice(0,s);for(var a=0;a<t.length;a++){var l=t[a].split("-"),f=parseInt(l[0],10),b=parseInt(l[1],10);isNaN(f)?(f=i-b,b=i-1):isNaN(b)&&(b=i-1),b>i-1&&(b=i-1),!(isNaN(f)||isNaN(b)||f>b||0>f)&&n.push({start:f,end:b})}return 1>n.length?-1:c&&c.combine?w(n):n}function w(i){for(var u=i.map(v).sort(o),c=0,s=1;s<u.length;s++){var t=u[s],n=u[c];t.start>n.end+1?u[++c]=t:t.end>n.end&&(n.end=t.end,n.index=J(n.index,t.index))}u.length=c+1;var a=u.sort(e).map(h);return a.type=i.type,a}function v(i,u){return{start:i.start,end:i.end,index:u}}function h(i){return{start:i.start,end:i.end}}function e(i,u){return i.index-u.index}function o(i,u){return i.start-u.start}U.exports=p},{}],212:[function(m,U,k){let{Writable:p,PassThrough:w}=m("readable-stream");class v extends p{constructor(e,o={}){super(o),this.destroyed=!1,this._queue=[],this._position=e||0,this._cb=null,this._buffer=null,this._out=null}_write(e,o,i){let u=!0;for(;;){if(this.destroyed)return;if(this._queue.length===0)return this._buffer=e,void(this._cb=i);this._buffer=null;var c=this._queue[0];let s=F(c.start-this._position,0),t=c.end-this._position;if(s>=e.length)return this._position+=e.length,i(null);let n;if(t>e.length){this._position+=e.length,n=s===0?e:e.slice(s),u=c.stream.write(n)&&u;break}this._position+=t,n=s===0&&t===e.length?e:e.slice(s,t),u=c.stream.write(n)&&u,c.last&&c.stream.end(),e=e.slice(t),this._queue.shift()}u?i(null):c.stream.once("drain",i.bind(null,null))}slice(e){if(this.destroyed)return null;Array.isArray(e)||(e=[e]);let o=new w;return e.forEach((i,u)=>{this._queue.push({start:i.start,end:i.end,stream:o,last:u===e.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),o}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e))}}U.exports=v},{"readable-stream":228}],213:[function(m,U,k){"use strict";function p(c){return parseInt(c,10)===c}function w(c){function s(){for(var a=Array(c),l=0;l<c;l++)a[l]=l;return a}function t(a){if(a===void 0){a=Array(c);for(var l=0;l<c;l++)a[l]=I(Math.random()*c)}else if(typeof a=="string")a=""+a,a=a.split("").map(function(R){return R.charCodeAt(0)%c});else if(Array.isArray(a)){if(!a.every(function(R){return typeof R=="number"&&R===(0|R)}))throw new TypeError("invalid seed key specified: not array of integers")}else throw new TypeError("invalid seed key specified");for(var f=a.length,b=s(),C=0,$=0;$<c;$++){C=(C+b[$]+a[$%f])%c;var W=b[$];b[$]=b[C],b[C]=W}return b}function n(a){this.s=t(a),this.i=0,this.j=0}return n.prototype.randomNative=function(){this.i=(this.i+1)%c,this.j=(this.j+this.s[this.i])%c;var a=this.s[this.i];this.s[this.i]=this.s[this.j],this.s[this.j]=a;var l=this.s[(this.s[this.i]+this.s[this.j])%c];return l},n.prototype.randomUInt32=function(){var a=this.randomByte(),l=this.randomByte(),f=this.randomByte(),b=this.randomByte();return 256*(256*(256*a+l)+f)+b},n.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},n.prototype.random=function(){var a,l;if(arguments.length===1)a=0,l=arguments[0];else if(arguments.length===2)a=arguments[0],l=arguments[1];else throw new TypeError("random takes one or two integer arguments");if(!p(a)||!p(l))throw new TypeError("random takes one or two integer arguments");return a+this.randomUInt32()%(l-a+1)},n.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},n.prototype.setState=function(a){var l=a.s,f=a.i,b=a.j;if(!(f===(0|f)&&0<=f&&f<c))throw new Error("state.i should be integer [0, "+(c-1)+"]");if(!(b===(0|b)&&0<=b&&b<c))throw new Error("state.j should be integer [0, "+(c-1)+"]");if(!Array.isArray(l)||l.length!==c)throw new Error("state should be array of length "+c);for(var C=0;C<c;C++)if(l.indexOf(C)===-1)throw new Error("state should be permutation of 0.."+(c-1)+": "+C+" is missing");this.i=f,this.j=b,this.s=l.slice()},n}function v(c){return 10>c?g(48+c):g(97+c-10)}function h(c){return parseInt(c,16)}var e=w(256);e.prototype.randomByte=e.prototype.randomNative;var o=w(16);o.prototype.randomByte=function(){var c=this.randomNative(),s=this.randomNative();return 16*c+s};var i=97,u=48;o.prototype.currentStateString=function(){var c=this.currentState(),s=v(c.i),t=v(c.j),n=s+t+c.s.map(v).join("");return n},o.prototype.setStateString=function(c){if(!c.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var s=h(c[0]),t=h(c[1]),n=c.split("").slice(2).map(h);this.setState({i:s,j:t,s:n})},e.RC4small=o,U.exports=e},{}],214:[function(m,U,k){"use strict";function p(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}function w(u,c,s){function t(a,l,f){return typeof c=="string"?c:c(a,l,f)}s||(s=Error);var n=(function(a){function l(f,b,C){return a.call(this,t(f,b,C))||this}return p(l,a),l})(s);n.prototype.name=s.name,n.prototype.code=u,i[u]=n}function v(u,c){if(Array.isArray(u)){var s=u.length;return u=u.map(function(t){return t+""}),2<s?"one of ".concat(c," ").concat(u.slice(0,s-1).join(", "),", or ")+u[s-1]:s===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}return"of ".concat(c," ").concat(u+"")}function h(u,c,s){return u.substr(!s||0>s?0:+s,c.length)===c}function e(u,c,s){return(s===void 0||s>u.length)&&(s=u.length),u.substring(s-c.length,s)===c}function o(u,c,s){return typeof s!="number"&&(s=0),!(s+c.length>u.length)&&u.indexOf(c,s)!==-1}var i={};w("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),w("ERR_INVALID_ARG_TYPE",function(u,c,s){var t;typeof c=="string"&&h(c,"not ")?(t="must not be",c=c.replace(/^not /,"")):t="must be";var n;if(e(u," argument"))n="The ".concat(u," ").concat(t," ").concat(v(c,"type"));else{var a=o(u,".")?"property":"argument";n='The "'.concat(u,'" ').concat(a," ").concat(t," ").concat(v(c,"type"))}return n+=". Received type ".concat(typeof s),n},TypeError),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),w("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),w("ERR_STREAM_PREMATURE_CLOSE","Premature close"),w("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),w("ERR_STREAM_WRITE_AFTER_END","write after end"),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.codes=i},{}],215:[function(m,U,k){(function(p){(function(){"use strict";function w(t){return this instanceof w?(o.call(this,t),i.call(this,t),this.allowHalfOpen=!0,void(t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v))))):new w(t)}function v(){this._writableState.ended||p.nextTick(h,this)}function h(t){t.end()}var e=Object.keys||function(t){var n=[];for(var a in t)n.push(a);return n};U.exports=w;var o=m("./_stream_readable"),i=m("./_stream_writable");m("inherits")(w,o);for(var u=e(i.prototype),c=0,s;c<u.length;c++)s=u[c],w.prototype[s]||(w.prototype[s]=i.prototype[s]);Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}})}).call(this)}).call(this,m("_process"))},{"./_stream_readable":217,"./_stream_writable":219,_process:193,inherits:147}],216:[function(m,U,k){"use strict";function p(v){return this instanceof p?void w.call(this,v):new p(v)}U.exports=p;var w=m("./_stream_transform");m("inherits")(p,w),p.prototype._transform=function(v,h,e){e(null,v)}},{"./_stream_transform":218,inherits:147}],217:[function(m,U,k){(function(p,w){(function(){"use strict";function v(ue){return z.from(ue)}function h(ue){return z.isBuffer(ue)||ue instanceof Z}function e(ue,G,te){return typeof ue.prependListener=="function"?ue.prependListener(G,te):void(ue._events&&ue._events[G]?Array.isArray(ue._events[G])?ue._events[G].unshift(te):ue._events[G]=[te,ue._events[G]]:ue.on(G,te))}function o(ue,G,te){B=B||m("./_stream_duplex"),ue=ue||{},typeof te!="boolean"&&(te=G instanceof B),this.objectMode=!!ue.objectMode,te&&(this.objectMode=this.objectMode||!!ue.readableObjectMode),this.highWaterMark=Ae(this,ue,"readableHighWaterMark",te),this.buffer=new le,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.destroyed=!1,this.defaultEncoding=ue.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ue.encoding&&(!ut&&(ut=m("string_decoder/").StringDecoder),this.decoder=new ut(ue.encoding),this.encoding=ue.encoding)}function i(ue){if(B=B||m("./_stream_duplex"),!(this instanceof i))return new i(ue);var G=this instanceof B;this._readableState=new o(ue,this,G),this.readable=!0,ue&&(typeof ue.read=="function"&&(this._read=ue.read),typeof ue.destroy=="function"&&(this._destroy=ue.destroy)),x.call(this)}function u(ue,G,te,de,_e){Y("readableAddChunk",G);var Pe=ue._readableState;if(G===null)Pe.reading=!1,a(ue,Pe);else{var je;if(_e||(je=s(Pe,G)),je)Ze(ue,je);else if(!(Pe.objectMode||G&&0<G.length))de||(Pe.reading=!1,b(ue,Pe));else if(typeof G=="string"||Pe.objectMode||Object.getPrototypeOf(G)===z.prototype||(G=v(G)),de)Pe.endEmitted?Ze(ue,new bt):c(ue,Pe,G,!0);else if(Pe.ended)Ze(ue,new Ye);else{if(Pe.destroyed)return!1;Pe.reading=!1,Pe.decoder&&!te?(G=Pe.decoder.write(G),Pe.objectMode||G.length!==0?c(ue,Pe,G,!1):b(ue,Pe)):c(ue,Pe,G,!1)}}return!Pe.ended&&(Pe.length<Pe.highWaterMark||Pe.length===0)}function c(ue,G,te,de){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,ue.emit("data",te)):(G.length+=G.objectMode?1:te.length,de?G.buffer.unshift(te):G.buffer.push(te),G.needReadable&&l(ue)),b(ue,G)}function s(ue,G){var te;return h(G)||typeof G=="string"||G===void 0||ue.objectMode||(te=new $e("chunk",["string","Buffer","Uint8Array"],G)),te}function t(ue){return 1073741824<=ue?ue=1073741824:(ue--,ue|=ue>>>1,ue|=ue>>>2,ue|=ue>>>4,ue|=ue>>>8,ue|=ue>>>16,ue++),ue}function n(ue,G){return 0>=ue||G.length===0&&G.ended?0:G.objectMode?1:ue===ue?(ue>G.highWaterMark&&(G.highWaterMark=t(ue)),ue<=G.length?ue:G.ended?G.length:(G.needReadable=!0,0)):G.flowing&&G.length?G.buffer.head.data.length:G.length}function a(ue,G){if(Y("onEofChunk"),!G.ended){if(G.decoder){var te=G.decoder.end();te&&te.length&&(G.buffer.push(te),G.length+=G.objectMode?1:te.length)}G.ended=!0,G.sync?l(ue):(G.needReadable=!1,!G.emittedReadable&&(G.emittedReadable=!0,f(ue)))}}function l(ue){var G=ue._readableState;Y("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(Y("emitReadable",G.flowing),G.emittedReadable=!0,p.nextTick(f,ue))}function f(ue){var G=ue._readableState;Y("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(ue.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,ee(ue)}function b(ue,G){G.readingMore||(G.readingMore=!0,p.nextTick(C,ue,G))}function C(ue,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var te=G.length;if(Y("maybeReadMore read 0"),ue.read(0),te===G.length)break}G.readingMore=!1}function $(ue){return function(){var te=ue._readableState;Y("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&j(ue,"data")&&(te.flowing=!0,ee(ue))}}function W(ue){var G=ue._readableState;G.readableListening=0<ue.listenerCount("readable"),G.resumeScheduled&&!G.paused?G.flowing=!0:0<ue.listenerCount("data")&&ue.resume()}function R(ue){Y("readable nexttick read 0"),ue.read(0)}function L(ue,G){G.resumeScheduled||(G.resumeScheduled=!0,p.nextTick(q,ue,G))}function q(ue,G){Y("resume",G.reading),G.reading||ue.read(0),G.resumeScheduled=!1,ue.emit("resume"),ee(ue),G.flowing&&!G.reading&&ue.read(0)}function ee(ue){var G=ue._readableState;for(Y("flow",G.flowing);G.flowing&&ue.read()!==null;);}function ae(ue,G){if(G.length===0)return null;var te;return G.objectMode?te=G.buffer.shift():!ue||ue>=G.length?(te=G.decoder?G.buffer.join(""):G.buffer.length===1?G.buffer.first():G.buffer.concat(G.length),G.buffer.clear()):te=G.buffer.consume(ue,G.decoder),te}function fe(ue){var G=ue._readableState;Y("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,p.nextTick(Ee,G,ue))}function Ee(ue,G){if(Y("endReadableNT",ue.endEmitted,ue.length),!ue.endEmitted&&ue.length===0&&(ue.endEmitted=!0,G.readable=!1,G.emit("end"),ue.autoDestroy)){var te=G._writableState;(!te||te.autoDestroy&&te.finished)&&G.destroy()}}function se(ue,G){for(var te=0,de=ue.length;te<de;te++)if(ue[te]===G)return te;return-1}U.exports=i;var B;i.ReadableState=o;var K=m("events").EventEmitter,j=function(G,te){return G.listeners(te).length},x=m("./internal/streams/stream"),z=m("buffer").Buffer,Z=w.Uint8Array||function(){},oe=m("util"),Y;Y=oe&&oe.debuglog?oe.debuglog("stream"):function(){};var le=m("./internal/streams/buffer_list"),ge=m("./internal/streams/destroy"),Re=m("./internal/streams/state"),Ae=Re.getHighWaterMark,De=m("../errors").codes,$e=De.ERR_INVALID_ARG_TYPE,Ye=De.ERR_STREAM_PUSH_AFTER_EOF,rt=De.ERR_METHOD_NOT_IMPLEMENTED,bt=De.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ut,Me,Ge;m("inherits")(i,x);var Ze=ge.errorOrDestroy,ft=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),i.prototype.destroy=ge.destroy,i.prototype._undestroy=ge.undestroy,i.prototype._destroy=function(ue,G){G(ue)},i.prototype.push=function(ue,G){var te=this._readableState,de;return te.objectMode?de=!0:typeof ue=="string"&&(G=G||te.defaultEncoding,G!==te.encoding&&(ue=z.from(ue,G),G=""),de=!0),u(this,ue,G,!1,de)},i.prototype.unshift=function(ue){return u(this,ue,null,!0,!1)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(ue){ut||(ut=m("string_decoder/").StringDecoder);var G=new ut(ue);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,de="";te!==null;)de+=G.write(te.data),te=te.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var Mt=1073741824;i.prototype.read=function(ue){Y("read",ue),ue=parseInt(ue,10);var G=this._readableState,te=ue;if(ue!==0&&(G.emittedReadable=!1),ue===0&&G.needReadable&&((G.highWaterMark===0?0<G.length:G.length>=G.highWaterMark)||G.ended))return Y("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?fe(this):l(this),null;if(ue=n(ue,G),ue===0&&G.ended)return G.length===0&&fe(this),null;var de=G.needReadable;Y("need readable",de),(G.length===0||G.length-ue<G.highWaterMark)&&(de=!0,Y("length less than watermark",de)),G.ended||G.reading?(de=!1,Y("reading or ended",de)):de&&(Y("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,!G.reading&&(ue=n(te,G)));var _e;return _e=0<ue?ae(ue,G):null,_e===null?(G.needReadable=G.length<=G.highWaterMark,ue=0):(G.length-=ue,G.awaitDrain=0),G.length===0&&(!G.ended&&(G.needReadable=!0),te!==ue&&G.ended&&fe(this)),_e!==null&&this.emit("data",_e),_e},i.prototype._read=function(ue){Ze(this,new rt("_read()"))},i.prototype.pipe=function(ue,G){function te(Wt,qt){Y("onunpipe"),Wt===et&&qt&&qt.hasUnpiped===!1&&(qt.hasUnpiped=!0,_e())}function de(){Y("onend"),ue.end()}function _e(){Y("cleanup"),ue.removeListener("close",Ue),ue.removeListener("finish",yt),ue.removeListener("drain",mr),ue.removeListener("error",je),ue.removeListener("unpipe",te),et.removeListener("end",de),et.removeListener("end",mt),et.removeListener("data",Pe),St=!0,Dt.awaitDrain&&(!ue._writableState||ue._writableState.needDrain)&&mr()}function Pe(Wt){Y("ondata");var qt=ue.write(Wt);Y("dest.write",qt),qt===!1&&((Dt.pipesCount===1&&Dt.pipes===ue||1<Dt.pipesCount&&se(Dt.pipes,ue)!==-1)&&!St&&(Y("false write response, pause",Dt.awaitDrain),Dt.awaitDrain++),et.pause())}function je(Wt){Y("onerror",Wt),mt(),ue.removeListener("error",je),j(ue,"error")===0&&Ze(ue,Wt)}function Ue(){ue.removeListener("finish",yt),mt()}function yt(){Y("onfinish"),ue.removeListener("close",Ue),mt()}function mt(){Y("unpipe"),et.unpipe(ue)}var et=this,Dt=this._readableState;switch(Dt.pipesCount){case 0:Dt.pipes=ue;break;case 1:Dt.pipes=[Dt.pipes,ue];break;default:Dt.pipes.push(ue)}Dt.pipesCount+=1,Y("pipe count=%d opts=%j",Dt.pipesCount,G);var wt=(!G||G.end!==!1)&&ue!==p.stdout&&ue!==p.stderr,Lt=wt?de:mt;Dt.endEmitted?p.nextTick(Lt):et.once("end",Lt),ue.on("unpipe",te);var mr=$(et);ue.on("drain",mr);var St=!1;return et.on("data",Pe),e(ue,"error",je),ue.once("close",Ue),ue.once("finish",yt),ue.emit("pipe",et),Dt.flowing||(Y("pipe resume"),et.resume()),ue},i.prototype.unpipe=function(ue){var G=this._readableState,te={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return ue&&ue!==G.pipes?this:(ue||(ue=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,ue&&ue.emit("unpipe",this,te),this);if(!ue){var de=G.pipes,_e=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var Pe=0;Pe<_e;Pe++)de[Pe].emit("unpipe",this,{hasUnpiped:!1});return this}var je=se(G.pipes,ue);return je===-1?this:(G.pipes.splice(je,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),ue.emit("unpipe",this,te),this)},i.prototype.on=function(ue,G){var te=x.prototype.on.call(this,ue,G),de=this._readableState;return ue==="data"?(de.readableListening=0<this.listenerCount("readable"),de.flowing!==!1&&this.resume()):ue=="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,Y("on readable",de.length,de.reading),de.length?l(this):!de.reading&&p.nextTick(R,this)),te},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(ue,G){var te=x.prototype.removeListener.call(this,ue,G);return ue==="readable"&&p.nextTick(W,this),te},i.prototype.removeAllListeners=function(ue){var G=x.prototype.removeAllListeners.apply(this,arguments);return(ue==="readable"||ue===void 0)&&p.nextTick(W,this),G},i.prototype.resume=function(){var ue=this._readableState;return ue.flowing||(Y("resume"),ue.flowing=!ue.readableListening,L(this,ue)),ue.paused=!1,this},i.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},i.prototype.wrap=function(ue){var G=this,te=this._readableState,de=!1;for(var _e in ue.on("end",function(){if(Y("wrapped end"),te.decoder&&!te.ended){var je=te.decoder.end();je&&je.length&&G.push(je)}G.push(null)}),ue.on("data",function(je){if(Y("wrapped data"),te.decoder&&(je=te.decoder.write(je)),!(te.objectMode&&je==null)&&(te.objectMode||je&&je.length)){var Ue=G.push(je);Ue||(de=!0,ue.pause())}}),ue)this[_e]===void 0&&typeof ue[_e]=="function"&&(this[_e]=(function(Ue){return function(){return ue[Ue].apply(ue,arguments)}})(_e));for(var Pe=0;Pe<ft.length;Pe++)ue.on(ft[Pe],this.emit.bind(this,ft[Pe]));return this._read=function(je){Y("wrapped _read",je),de&&(de=!1,ue.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return Me===void 0&&(Me=m("./internal/streams/async_iterator")),Me(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),i._fromList=ae,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(i.from=function(ue,G){return Ge===void 0&&(Ge=m("./internal/streams/from")),Ge(i,ue,G)})}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"../errors":214,"./_stream_duplex":215,"./internal/streams/async_iterator":220,"./internal/streams/buffer_list":221,"./internal/streams/destroy":222,"./internal/streams/from":224,"./internal/streams/state":226,"./internal/streams/stream":227,_process:193,buffer:76,events:123,inherits:147,"string_decoder/":265,util:42}],218:[function(m,U,k){"use strict";function p(t,n){var a=this._transformState;a.transforming=!1;var l=a.writecb;if(l===null)return this.emit("error",new i);a.writechunk=null,a.writecb=null,n!=null&&this.push(n),l(t);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function w(t){return this instanceof w?(s.call(this,t),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),void this.on("prefinish",v)):new w(t)}function v(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(n,a){h(t,n,a)})}function h(t,n,a){if(n)return t.emit("error",n);if(a!=null&&t.push(a),t._writableState.length)throw new c;if(t._transformState.transforming)throw new u;return t.push(null)}U.exports=w;var e=m("../errors").codes,o=e.ERR_METHOD_NOT_IMPLEMENTED,i=e.ERR_MULTIPLE_CALLBACK,u=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=e.ERR_TRANSFORM_WITH_LENGTH_0,s=m("./_stream_duplex");m("inherits")(w,s),w.prototype.push=function(t,n){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,n)},w.prototype._transform=function(t,n,a){a(new o("_transform()"))},w.prototype._write=function(t,n,a){var l=this._transformState;if(l.writecb=a,l.writechunk=t,l.writeencoding=n,!l.transforming){var f=this._readableState;(l.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},w.prototype._read=function(t){var n=this._transformState;n.writechunk===null||n.transforming?n.needTransform=!0:(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform))},w.prototype._destroy=function(t,n){s.prototype._destroy.call(this,t,function(a){n(a)})}},{"../errors":214,"./_stream_duplex":215,inherits:147}],219:[function(m,U,k){(function(p,w){(function(){"use strict";function v(Me,Ge,Ze){this.chunk=Me,this.encoding=Ge,this.callback=Ze,this.next=null}function h(Me){var Ge=this;this.next=null,this.entry=null,this.finish=function(){Ee(Ge,Me)}}function e(Me){return j.from(Me)}function o(Me){return j.isBuffer(Me)||Me instanceof x}function i(){}function u(Me,Ge,Ze){se=se||m("./_stream_duplex"),Me=Me||{},typeof Ze!="boolean"&&(Ze=Ge instanceof se),this.objectMode=!!Me.objectMode,Ze&&(this.objectMode=this.objectMode||!!Me.writableObjectMode),this.highWaterMark=oe(this,Me,"writableHighWaterMark",Ze),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ft=Me.decodeStrings===!1;this.decodeStrings=!ft,this.defaultEncoding=Me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Mt){C(Ge,Mt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Me.emitClose!==!1,this.autoDestroy=!!Me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function c(Me){se=se||m("./_stream_duplex");var Ge=this instanceof se;return Ge||ut.call(c,this)?(this._writableState=new u(Me,this,Ge),this.writable=!0,Me&&(typeof Me.write=="function"&&(this._write=Me.write),typeof Me.writev=="function"&&(this._writev=Me.writev),typeof Me.destroy=="function"&&(this._destroy=Me.destroy),typeof Me.final=="function"&&(this._final=Me.final)),void K.call(this)):new c(Me)}function s(Me,Ge){var Ze=new Ye;bt(Me,Ze),p.nextTick(Ge,Ze)}function t(Me,Ge,Ze,ft){var Mt;return Ze===null?Mt=new $e:typeof Ze!="string"&&!Ge.objectMode&&(Mt=new le("chunk",["string","Buffer"],Ze)),!Mt||(bt(Me,Mt),p.nextTick(ft,Mt),!1)}function n(Me,Ge,Ze){return Me.objectMode||Me.decodeStrings===!1||typeof Ge!="string"||(Ge=j.from(Ge,Ze)),Ge}function a(Me,Ge,Ze,ft,Mt,ue){if(!Ze){var G=n(Ge,ft,Mt);ft!==G&&(Ze=!0,Mt="buffer",ft=G)}var te=Ge.objectMode?1:ft.length;Ge.length+=te;var de=Ge.length<Ge.highWaterMark;if(de||(Ge.needDrain=!0),Ge.writing||Ge.corked){var _e=Ge.lastBufferedRequest;Ge.lastBufferedRequest={chunk:ft,encoding:Mt,isBuf:Ze,callback:ue,next:null},_e?_e.next=Ge.lastBufferedRequest:Ge.bufferedRequest=Ge.lastBufferedRequest,Ge.bufferedRequestCount+=1}else l(Me,Ge,!1,te,ft,Mt,ue);return de}function l(Me,Ge,Ze,ft,Mt,ue,G){Ge.writelen=ft,Ge.writecb=G,Ge.writing=!0,Ge.sync=!0,Ge.destroyed?Ge.onwrite(new De("write")):Ze?Me._writev(Mt,Ge.onwrite):Me._write(Mt,ue,Ge.onwrite),Ge.sync=!1}function f(Me,Ge,Ze,ft,Mt){--Ge.pendingcb,Ze?(p.nextTick(Mt,ft),p.nextTick(ae,Me,Ge),Me._writableState.errorEmitted=!0,bt(Me,ft)):(Mt(ft),Me._writableState.errorEmitted=!0,bt(Me,ft),ae(Me,Ge))}function b(Me){Me.writing=!1,Me.writecb=null,Me.length-=Me.writelen,Me.writelen=0}function C(Me,Ge){var Ze=Me._writableState,ft=Ze.sync,Mt=Ze.writecb;if(typeof Mt!="function")throw new Re;if(b(Ze),Ge)f(Me,Ze,ft,Ge,Mt);else{var ue=L(Ze)||Me.destroyed;ue||Ze.corked||Ze.bufferProcessing||!Ze.bufferedRequest||R(Me,Ze),ft?p.nextTick($,Me,Ze,ue,Mt):$(Me,Ze,ue,Mt)}}function $(Me,Ge,Ze,ft){Ze||W(Me,Ge),Ge.pendingcb--,ft(),ae(Me,Ge)}function W(Me,Ge){Ge.length===0&&Ge.needDrain&&(Ge.needDrain=!1,Me.emit("drain"))}function R(Me,Ge){Ge.bufferProcessing=!0;var Ze=Ge.bufferedRequest;if(Me._writev&&Ze&&Ze.next){var ft=Ge.bufferedRequestCount,Mt=Array(ft),ue=Ge.corkedRequestsFree;ue.entry=Ze;for(var G=0,te=!0;Ze;)Mt[G]=Ze,Ze.isBuf||(te=!1),Ze=Ze.next,G+=1;Mt.allBuffers=te,l(Me,Ge,!0,Ge.length,Mt,"",ue.finish),Ge.pendingcb++,Ge.lastBufferedRequest=null,ue.next?(Ge.corkedRequestsFree=ue.next,ue.next=null):Ge.corkedRequestsFree=new h(Ge),Ge.bufferedRequestCount=0}else{for(;Ze;){var de=Ze.chunk,_e=Ze.encoding,Pe=Ze.callback,je=Ge.objectMode?1:de.length;if(l(Me,Ge,!1,je,de,_e,Pe),Ze=Ze.next,Ge.bufferedRequestCount--,Ge.writing)break}Ze===null&&(Ge.lastBufferedRequest=null)}Ge.bufferedRequest=Ze,Ge.bufferProcessing=!1}function L(Me){return Me.ending&&Me.length===0&&Me.bufferedRequest===null&&!Me.finished&&!Me.writing}function q(Me,Ge){Me._final(function(Ze){Ge.pendingcb--,Ze&&bt(Me,Ze),Ge.prefinished=!0,Me.emit("prefinish"),ae(Me,Ge)})}function ee(Me,Ge){Ge.prefinished||Ge.finalCalled||(typeof Me._final!="function"||Ge.destroyed?(Ge.prefinished=!0,Me.emit("prefinish")):(Ge.pendingcb++,Ge.finalCalled=!0,p.nextTick(q,Me,Ge)))}function ae(Me,Ge){var Ze=L(Ge);if(Ze&&(ee(Me,Ge),Ge.pendingcb===0&&(Ge.finished=!0,Me.emit("finish"),Ge.autoDestroy))){var ft=Me._readableState;(!ft||ft.autoDestroy&&ft.endEmitted)&&Me.destroy()}return Ze}function fe(Me,Ge,Ze){Ge.ending=!0,ae(Me,Ge),Ze&&(Ge.finished?p.nextTick(Ze):Me.once("finish",Ze)),Ge.ended=!0,Me.writable=!1}function Ee(Me,Ge,Ze){var ft=Me.entry;for(Me.entry=null;ft;){var Mt=ft.callback;Ge.pendingcb--,Mt(Ze),ft=ft.next}Ge.corkedRequestsFree.next=Me}U.exports=c;var se;c.WritableState=u;var B={deprecate:m("util-deprecate")},K=m("./internal/streams/stream"),j=m("buffer").Buffer,x=w.Uint8Array||function(){},z=m("./internal/streams/destroy"),Z=m("./internal/streams/state"),oe=Z.getHighWaterMark,Y=m("../errors").codes,le=Y.ERR_INVALID_ARG_TYPE,ge=Y.ERR_METHOD_NOT_IMPLEMENTED,Re=Y.ERR_MULTIPLE_CALLBACK,Ae=Y.ERR_STREAM_CANNOT_PIPE,De=Y.ERR_STREAM_DESTROYED,$e=Y.ERR_STREAM_NULL_VALUES,Ye=Y.ERR_STREAM_WRITE_AFTER_END,rt=Y.ERR_UNKNOWN_ENCODING,bt=z.errorOrDestroy;m("inherits")(c,K),u.prototype.getBuffer=function(){for(var Ge=this.bufferedRequest,Ze=[];Ge;)Ze.push(Ge),Ge=Ge.next;return Ze},(function(){try{Object.defineProperty(u.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ut;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(Ge){return!!ut.call(this,Ge)||this===c&&Ge&&Ge._writableState instanceof u}})):ut=function(Ge){return Ge instanceof this},c.prototype.pipe=function(){bt(this,new Ae)},c.prototype.write=function(Me,Ge,Ze){var ft=this._writableState,Mt=!1,ue=!ft.objectMode&&o(Me);return ue&&!j.isBuffer(Me)&&(Me=e(Me)),typeof Ge=="function"&&(Ze=Ge,Ge=null),ue?Ge="buffer":!Ge&&(Ge=ft.defaultEncoding),typeof Ze!="function"&&(Ze=i),ft.ending?s(this,Ze):(ue||t(this,ft,Me,Ze))&&(ft.pendingcb++,Mt=a(this,ft,ue,Me,Ge,Ze)),Mt},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var Me=this._writableState;Me.corked&&(Me.corked--,!Me.writing&&!Me.corked&&!Me.bufferProcessing&&Me.bufferedRequest&&R(this,Me))},c.prototype.setDefaultEncoding=function(Ge){if(typeof Ge=="string"&&(Ge=Ge.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ge+"").toLowerCase())))throw new rt(Ge);return this._writableState.defaultEncoding=Ge,this},Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(Me,Ge,Ze){Ze(new ge("_write()"))},c.prototype._writev=null,c.prototype.end=function(Me,Ge,Ze){var ft=this._writableState;return typeof Me=="function"?(Ze=Me,Me=null,Ge=null):typeof Ge=="function"&&(Ze=Ge,Ge=null),Me!=null&&this.write(Me,Ge),ft.corked&&(ft.corked=1,this.uncork()),ft.ending||fe(this,ft,Ze),this},Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ge){this._writableState&&(this._writableState.destroyed=Ge)}}),c.prototype.destroy=z.destroy,c.prototype._undestroy=z.undestroy,c.prototype._destroy=function(Me,Ge){Ge(Me)}}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"../errors":214,"./_stream_duplex":215,"./internal/streams/destroy":222,"./internal/streams/state":226,"./internal/streams/stream":227,_process:193,buffer:76,inherits:147,"util-deprecate":277}],220:[function(m,U,k){(function(p){(function(){"use strict";function w(W,R,L){return R in W?Object.defineProperty(W,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):W[R]=L,W}function v(W,R){return{value:W,done:R}}function h(W){var R=W[u];if(R!==null){var L=W[l].read();L!==null&&(W[n]=null,W[u]=null,W[c]=null,R(v(L,!1)))}}function e(W){p.nextTick(h,W)}function o(W,R){return function(L,q){W.then(function(){return R[t]?void L(v(void 0,!0)):void R[a](L,q)},q)}}var i=m("./end-of-stream"),u=Symbol("lastResolve"),c=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),n=Symbol("lastPromise"),a=Symbol("handlePromise"),l=Symbol("stream"),f=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf(($={get stream(){return this[l]},next:function(){var R=this,L=this[s];if(L!==null)return Promise.reject(L);if(this[t])return Promise.resolve(v(void 0,!0));if(this[l].destroyed)return new Promise(function(fe,Ee){p.nextTick(function(){R[s]?Ee(R[s]):fe(v(void 0,!0))})});var q=this[n],ee;if(q)ee=new Promise(o(q,this));else{var ae=this[l].read();if(ae!==null)return Promise.resolve(v(ae,!1));ee=new Promise(this[a])}return this[n]=ee,ee}},w($,Symbol.asyncIterator,function(){return this}),w($,"return",function(){var R=this;return new Promise(function(L,q){R[l].destroy(null,function(ee){return ee?void q(ee):void L(v(void 0,!0))})})}),$),f),C=function(R){var L=Object.create(b,(q={},w(q,l,{value:R,writable:!0}),w(q,u,{value:null,writable:!0}),w(q,c,{value:null,writable:!0}),w(q,s,{value:null,writable:!0}),w(q,t,{value:R._readableState.endEmitted,writable:!0}),w(q,a,{value:function(ae,fe){var Ee=L[l].read();Ee?(L[n]=null,L[u]=null,L[c]=null,ae(v(Ee,!1))):(L[u]=ae,L[c]=fe)},writable:!0}),q)),q;return L[n]=null,i(R,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ae=L[c];return ae!==null&&(L[n]=null,L[u]=null,L[c]=null,ae(ee)),void(L[s]=ee)}var fe=L[u];fe!==null&&(L[n]=null,L[u]=null,L[c]=null,fe(v(void 0,!0))),L[t]=!0}),R.on("readable",e.bind(null,L)),L},$;U.exports=C}).call(this)}).call(this,m("_process"))},{"./end-of-stream":223,_process:193}],221:[function(m,U,k){"use strict";function p(a,l){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(a);l&&(b=b.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),f.push.apply(f,b)}return f}function w(a){for(var l=1,f;l<arguments.length;l++)f=arguments[l]==null?{}:arguments[l],l%2?p(Object(f),!0).forEach(function(b){v(a,b,f[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):p(Object(f)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(f,b))});return a}function v(a,l,f){return l in a?Object.defineProperty(a,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[l]=f,a}function h(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function e(a,l){for(var f=0,b;f<l.length;f++)b=l[f],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}function o(a,l,f){return l&&e(a.prototype,l),f&&e(a,f),a}function i(a,l,f){c.prototype.copy.call(a,l,f)}var u=m("buffer"),c=u.Buffer,s=m("util"),t=s.inspect,n=t&&t.custom||"inspect";U.exports=(function(){function a(){h(this,a),this.head=null,this.tail=null,this.length=0}return o(a,[{key:"push",value:function(f){var b={data:f,next:null};0<this.length?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(f){var b={data:f,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var b=this.head,C=""+b.data;b=b.next;)C+=f+b.data;return C}},{key:"concat",value:function(f){if(this.length===0)return c.alloc(0);for(var b=c.allocUnsafe(f>>>0),C=this.head,$=0;C;)i(C.data,b,$),$+=C.data.length,C=C.next;return b}},{key:"consume",value:function(f,b){var C;return f<this.head.data.length?(C=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?C=this.shift():C=b?this._getString(f):this._getBuffer(f),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var b=this.head,C=1,$=b.data;for(f-=$.length;b=b.next;){var W=b.data,R=f>W.length?W.length:f;if($+=R===W.length?W:W.slice(0,f),f-=R,f===0){R===W.length?(++C,this.head=b.next?b.next:this.tail=null):(this.head=b,b.data=W.slice(R));break}++C}return this.length-=C,$}},{key:"_getBuffer",value:function(f){var b=c.allocUnsafe(f),C=this.head,$=1;for(C.data.copy(b),f-=C.data.length;C=C.next;){var W=C.data,R=f>W.length?W.length:f;if(W.copy(b,b.length-f,0,R),f-=R,f===0){R===W.length?(++$,this.head=C.next?C.next:this.tail=null):(this.head=C,C.data=W.slice(R));break}++$}return this.length-=$,b}},{key:n,value:function(f,b){return t(this,w({},b,{depth:0,customInspect:!1}))}}]),a})()},{buffer:76,util:42}],222:[function(m,U,k){(function(p){(function(){"use strict";function w(u,c){var s=this,t=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return t||n?(c?c(u):u&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,p.nextTick(o,this,u)):p.nextTick(o,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(a){!c&&a?s._writableState?s._writableState.errorEmitted?p.nextTick(h,s):(s._writableState.errorEmitted=!0,p.nextTick(v,s,a)):p.nextTick(v,s,a):c?(p.nextTick(h,s),c(a)):p.nextTick(h,s)}),this)}function v(u,c){o(u,c),h(u)}function h(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(u,c){u.emit("error",c)}function i(u,c){var s=u._readableState,t=u._writableState;s&&s.autoDestroy||t&&t.autoDestroy?u.destroy(c):u.emit("error",c)}U.exports={destroy:w,undestroy:e,errorOrDestroy:i}}).call(this)}).call(this,m("_process"))},{_process:193}],223:[function(m,U,k){"use strict";function p(o){var i=!1;return function(){if(!i){i=!0;for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];o.apply(this,c)}}}function w(){}function v(o){return o.setHeader&&typeof o.abort=="function"}function h(o,i,u){if(typeof i=="function")return h(o,null,i);i||(i={}),u=p(u||w);var c=i.readable||i.readable!==!1&&o.readable,s=i.writable||i.writable!==!1&&o.writable,t=function(){o.writable||a()},n=o._writableState&&o._writableState.finished,a=function(){s=!1,n=!0,c||u.call(o)},l=o._readableState&&o._readableState.endEmitted,f=function(){c=!1,l=!0,s||u.call(o)},b=function(R){u.call(o,R)},C=function(){var R;return c&&!l?(o._readableState&&o._readableState.ended||(R=new e),u.call(o,R)):s&&!n?(o._writableState&&o._writableState.ended||(R=new e),u.call(o,R)):void 0},$=function(){o.req.on("finish",a)};return v(o)?(o.on("complete",a),o.on("abort",C),o.req?$():o.on("request",$)):s&&!o._writableState&&(o.on("end",t),o.on("close",t)),o.on("end",f),o.on("finish",a),i.error!==!1&&o.on("error",b),o.on("close",C),function(){o.removeListener("complete",a),o.removeListener("abort",C),o.removeListener("request",$),o.req&&o.req.removeListener("finish",a),o.removeListener("end",t),o.removeListener("close",t),o.removeListener("finish",a),o.removeListener("end",f),o.removeListener("error",b),o.removeListener("close",C)}}var e=m("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;U.exports=h},{"../../../errors":214}],224:[function(m,U,k){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],225:[function(m,U,k){"use strict";function p(a){var l=!1;return function(){l||(l=!0,a.apply(void 0,arguments))}}function w(a){if(a)throw a}function v(a){return a.setHeader&&typeof a.abort=="function"}function h(a,l,f,b){b=p(b);var C=!1;a.on("close",function(){C=!0}),n===void 0&&(n=m("./end-of-stream")),n(a,{readable:l,writable:f},function(W){return W?b(W):(C=!0,void b())});var $=!1;return function(W){if(!C)return $?void 0:($=!0,v(a)?a.abort():typeof a.destroy=="function"?a.destroy():void b(W||new t("pipe")))}}function e(a){a()}function o(a,l){return a.pipe(l)}function i(a){return a.length&&typeof a[a.length-1]=="function"?a.pop():w}function u(){for(var a=arguments.length,l=Array(a),f=0;f<a;f++)l[f]=arguments[f];var b=i(l);if(Array.isArray(l[0])&&(l=l[0]),2>l.length)throw new s("streams");var C=l.map(function(W,R){var L=R<l.length-1,q=0<R;return h(W,L,q,function(ee){$||($=ee),ee&&C.forEach(e),L||(C.forEach(e),b($))})}),$;return l.reduce(o)}var c=m("../../../errors").codes,s=c.ERR_MISSING_ARGS,t=c.ERR_STREAM_DESTROYED,n;U.exports=u},{"../../../errors":214,"./end-of-stream":223}],226:[function(m,U,k){"use strict";function p(h,e,o){return h.highWaterMark==null?e?h[o]:null:h.highWaterMark}function w(h,e,o,i){var u=p(e,i,o);if(u!=null){if(!(isFinite(u)&&I(u)===u)||0>u){var c=i?o:"highWaterMark";throw new v(c,u)}return I(u)}return h.objectMode?16:16384}var v=m("../../../errors").codes.ERR_INVALID_OPT_VALUE;U.exports={getHighWaterMark:w}},{"../../../errors":214}],227:[function(m,U,k){U.exports=m("events").EventEmitter},{events:123}],228:[function(m,U,k){k=U.exports=m("./lib/_stream_readable.js"),k.Stream=k,k.Readable=k,k.Writable=m("./lib/_stream_writable.js"),k.Duplex=m("./lib/_stream_duplex.js"),k.Transform=m("./lib/_stream_transform.js"),k.PassThrough=m("./lib/_stream_passthrough.js"),k.finished=m("./lib/internal/streams/end-of-stream.js"),k.pipeline=m("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":215,"./lib/_stream_passthrough.js":216,"./lib/_stream_readable.js":217,"./lib/_stream_transform.js":218,"./lib/_stream_writable.js":219,"./lib/internal/streams/end-of-stream.js":223,"./lib/internal/streams/pipeline.js":225}],229:[function(m,U,k){function p(fe,Ee,se,B){typeof se=="function"&&(B=se,se={}),se||(se={}),B||(B=()=>{}),e(fe),i(se),typeof Ee=="string"&&(Ee=document.querySelector(Ee)),v(fe,K=>{if(Ee.nodeName!==K.toUpperCase()){let j=n.extname(fe.name).toLowerCase();throw new Error(`Cannot render "${j}" inside a "${Ee.nodeName.toLowerCase()}" element, expected "${K}"`)}return(K==="video"||K==="audio")&&u(Ee,se),Ee},se,B)}function w(fe,Ee,se,B){function K(Z){return Z==="video"||Z==="audio"?j(Z):x(Z)}function j(Z){let oe=x(Z);return u(oe,se),Ee.appendChild(oe),oe}function x(Z){let oe=document.createElement(Z);return Ee.appendChild(oe),oe}function z(Z,oe){Z&&oe&&oe.remove(),B(Z,oe)}if(typeof se=="function"&&(B=se,se={}),se||(se={}),B||(B=()=>{}),e(fe),i(se),typeof Ee=="string"&&(Ee=document.querySelector(Ee)),Ee&&(Ee.nodeName==="VIDEO"||Ee.nodeName==="AUDIO"))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");v(fe,K,se,z)}function v(fe,Ee,se,B){function K(){function $e(){c(`Use \`videostream\` package for ${fe.name}`),Me(),De.addEventListener("error",bt),De.addEventListener("loadstart",z),De.addEventListener("loadedmetadata",Z),new l(fe,De)}function Ye(){c(`Use MediaSource API for ${fe.name}`),Me(),De.addEventListener("error",ut),De.addEventListener("loadstart",z),De.addEventListener("loadedmetadata",Z);let Ze=new t(De),ft=Ze.createWriteStream(o(fe.name));fe.createReadStream().pipe(ft),Ae&&(De.currentTime=Ae)}function rt(){c(`Use Blob URL for ${fe.name}`),Me(),De.addEventListener("error",ge),De.addEventListener("loadstart",z),De.addEventListener("loadedmetadata",Z),h(fe,(Ze,ft)=>Ze?ge(Ze):(De.src=ft,void(Ae&&(De.currentTime=Ae))))}function bt(Ze){c("videostream error: fallback to MediaSource API: %o",Ze.message||Ze),De.removeEventListener("error",bt),De.removeEventListener("loadedmetadata",Z),Ye()}function ut(Ze){c("MediaSource API error: fallback to Blob URL: %o",Ze.message||Ze),j()&&(De.removeEventListener("error",ut),De.removeEventListener("loadedmetadata",Z),rt())}function Me(){De||(De=Ee(Ge),De.addEventListener("progress",()=>{Ae=De.currentTime}))}let Ge=b.includes(Re)?"video":"audio";ae?f.includes(Re)?$e():Ye():rt()}function j(){return!(typeof fe.length=="number"&&fe.length>se.maxBlobLength)||(c("File length too large for Blob URL approach: %d (max: %d)",fe.length,se.maxBlobLength),ge(new Error(`File length too large for Blob URL approach: ${fe.length} (max: ${se.maxBlobLength})`)),!1)}function x($e){j()&&(De=Ee($e),h(fe,(Ye,rt)=>Ye?ge(Ye):(De.addEventListener("error",ge),De.addEventListener("loadstart",z),De.addEventListener("loadedmetadata",Z),void(De.src=rt))))}function z(){if(De.removeEventListener("loadstart",z),se.autoplay){let $e=De.play();typeof $e!="undefined"&&$e.catch(ge)}}function Z(){De.removeEventListener("loadedmetadata",Z),B(null,De)}function oe(){De=Ee("img"),h(fe,($e,Ye)=>$e?ge($e):(De.src=Ye,De.alt=fe.name,void B(null,De)))}function Y(){h(fe,($e,Ye)=>$e?ge($e):(Re===".pdf"?(De=Ee("object"),De.setAttribute("typemustmatch",!0),De.setAttribute("type","application/pdf"),De.setAttribute("data",Ye)):(De=Ee("iframe"),De.sandbox="allow-forms allow-scripts",De.src=Ye),void B(null,De)))}function le(){function $e(){s(Ye)?(c('File extension "%s" appears ascii, so will render.',Re),Y()):(c('File extension "%s" appears non-ascii, will not render.',Re),B(new Error(`Unsupported file type "${Re}": Cannot append to DOM`)))}c('Unknown file extension "%s" - will attempt to render into iframe',Re);let Ye="";fe.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",rt=>{Ye+=rt}).on("end",$e).on("error",B)}function ge($e){$e.message=`Error rendering file "${fe.name}": ${$e.message}`,c($e.message),B($e)}let Re=n.extname(fe.name).toLowerCase(),Ae=0,De;$.includes(Re)?K():W.includes(Re)?x("video"):R.includes(Re)?x("audio"):L.includes(Re)?oe():q.includes(Re)?Y():le()}function h(fe,Ee){let se=n.extname(fe.name).toLowerCase();a(fe.createReadStream(),k.mime[se]).then(B=>Ee(null,B),B=>Ee(B))}function e(fe){if(fe==null)throw new Error("file cannot be null or undefined");if(typeof fe.name!="string")throw new Error("missing or invalid file.name property");if(typeof fe.createReadStream!="function")throw new Error("missing or invalid file.createReadStream property")}function o(fe){let Ee=n.extname(fe).toLowerCase();return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[Ee]}function i(fe){fe.autoplay==null&&(fe.autoplay=!1),fe.muted==null&&(fe.muted=!1),fe.controls==null&&(fe.controls=!0),fe.maxBlobLength==null&&(fe.maxBlobLength=ee)}function u(fe,Ee){fe.autoplay=!!Ee.autoplay,fe.muted=!!Ee.muted,fe.controls=!!Ee.controls}k.render=p,k.append=w,k.mime=m("./lib/mime.json");let c=m("debug")("render-media"),s=m("is-ascii"),t=m("mediasource"),n=m("path"),a=m("stream-to-blob-url"),l=m("videostream"),f=[".m4a",".m4b",".m4p",".m4v",".mp4"],b=[".m4v",".mkv",".mp4",".webm"],C=[".m4a",".m4b",".m4p",".mp3"],$=[].concat(b,C),W=[".mov",".ogv"],R=[".aac",".oga",".ogg",".wav",".flac"],L=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],q=[".css",".html",".js",".md",".pdf",".srt",".txt"],ee=2e8,ae=typeof window!="undefined"&&window.MediaSource},{"./lib/mime.json":230,debug:91,"is-ascii":148,mediasource:160,path:185,"stream-to-blob-url":261,videostream:279}],230:[function(m,U,k){U.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],231:[function(m,U,k){"use strict";function p(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function w($,W){return $<<W|$>>>32-W}function v($,W,R,L,q,ee,ae,fe){return 0|w(0|$+(W^R^L)+ee+ae,fe)+q}function h($,W,R,L,q,ee,ae,fe){return 0|w(0|$+(W&R|~W&L)+ee+ae,fe)+q}function e($,W,R,L,q,ee,ae,fe){return 0|w(0|$+((W|~R)^L)+ee+ae,fe)+q}function o($,W,R,L,q,ee,ae,fe){return 0|w(0|$+(W&L|R&~L)+ee+ae,fe)+q}function i($,W,R,L,q,ee,ae,fe){return 0|w(0|$+(W^(R|~L))+ee+ae,fe)+q}var u=m("buffer").Buffer,c=m("inherits"),s=m("hash-base"),t=Array(16),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],b=[0,1518500249,1859775393,2400959708,2840853838],C=[1352829926,1548603684,1836072691,2053994217,0];c(p,s),p.prototype._update=function(){for(var $=t,W=0;16>W;++W)$[W]=this._block.readInt32LE(4*W);for(var R=0|this._a,L=0|this._b,q=0|this._c,ee=0|this._d,ae=0|this._e,fe=0|this._a,Ee=0|this._b,se=0|this._c,B=0|this._d,K=0|this._e,j=0;80>j;j+=1){var x,z;16>j?(x=v(R,L,q,ee,ae,$[n[j]],b[0],l[j]),z=i(fe,Ee,se,B,K,$[a[j]],C[0],f[j])):32>j?(x=h(R,L,q,ee,ae,$[n[j]],b[1],l[j]),z=o(fe,Ee,se,B,K,$[a[j]],C[1],f[j])):48>j?(x=e(R,L,q,ee,ae,$[n[j]],b[2],l[j]),z=e(fe,Ee,se,B,K,$[a[j]],C[2],f[j])):64>j?(x=o(R,L,q,ee,ae,$[n[j]],b[3],l[j]),z=h(fe,Ee,se,B,K,$[a[j]],C[3],f[j])):(x=i(R,L,q,ee,ae,$[n[j]],b[4],l[j]),z=v(fe,Ee,se,B,K,$[a[j]],C[4],f[j])),R=ae,ae=ee,ee=w(q,10),q=L,L=x,fe=K,K=B,B=w(se,10),se=Ee,Ee=z}var Z=0|this._b+q+B;this._b=0|this._c+ee+K,this._c=0|this._d+ae+fe,this._d=0|this._e+R+Ee,this._e=0|this._a+L+se,this._a=Z},p.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=u.alloc?u.alloc(20):new u(20);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$.writeInt32LE(this._e,16),$},U.exports=p},{buffer:76,"hash-base":130,inherits:147}],232:[function(m,U,k){function p(v,h,e){function o(f){function b(){e&&e(f,c),e=null}u?w(b):b()}function i(f,b,C){if(c[f]=C,b&&(a=!0),--t==0||b)o(b);else if(!a&&l<s){let $;n?($=n[l],l+=1,v[$](function(W,R){i($,W,R)})):($=l,l+=1,v[$](function(W,R){i($,W,R)}))}}if(typeof h!="number")throw new Error("second argument must be a Number");let u=!0,c,s,t,n,a,l;Array.isArray(v)?(c=[],t=s=v.length):(n=Object.keys(v),c={},t=s=n.length),l=h,t?n?n.some(function(f,b){return v[f](function(C,$){i(f,C,$)}),b===h-1}):v.some(function(f,b){return f(function(C,$){i(b,C,$)}),b===h-1}):o(null),u=!1}U.exports=p;let w=m("queue-microtask")},{"queue-microtask":206}],233:[function(m,U,k){function p(v,h){function e(t){function n(){h&&h(t,u),h=null}i?w(n):n()}function o(t,n,a){u[t]=a,(--c==0||n)&&e(n)}let i=!0,u,c,s;Array.isArray(v)?(u=[],c=v.length):(s=Object.keys(v),u={},c=s.length),c?s?s.forEach(function(t){v[t](function(n,a){o(t,n,a)})}):v.forEach(function(t,n){t(function(a,l){o(n,a,l)})}):e(null),i=!1}U.exports=p;let w=m("queue-microtask")},{"queue-microtask":206}],234:[function(m,U,k){(function(w,v){typeof k=="object"&&typeof U=="object"?U.exports=v():typeof pe=="function"&&pe.amd?pe([],v):typeof k=="object"?k.Rusha=v():w.Rusha=v()})(typeof self=="undefined"?this:self,function(){return(function(p){function w(h){if(v[h])return v[h].exports;var e=v[h]={i:h,l:!1,exports:{}};return p[h].call(e.exports,e,e.exports,w),e.l=!0,e.exports}var v={};return w.m=p,w.c=v,w.d=function(h,e,o){w.o(h,e)||Object.defineProperty(h,e,{configurable:!1,enumerable:!0,get:o})},w.n=function(h){var e=h&&h.__esModule?function(){return h.default}:function(){return h};return w.d(e,"a",e),e},w.o=function(h,e){return Object.prototype.hasOwnProperty.call(h,e)},w.p="",w(w.s=3)})([function(p,w,v){function h(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}var e=v(5),o=v(1),i=o.toHex,u=o.ceilHeapSize,c=v(6),s=function(f){for(f+=9;0<f%64;f+=1);return f},t=function(f,b){var C=new Uint8Array(f.buffer),$=b%4,W=b-$;switch($){case 0:C[W+3]=0;case 1:C[W+2]=0;case 2:C[W+1]=0;case 3:C[W+0]=0}for(var R=(b>>2)+1;R<f.length;R++)f[R]=0},n=function(f,b,C){f[b>>2]|=128<<24-(b%4<<3),f[(-16&(b>>2)+2)+14]=0|C/536870912,f[(-16&(b>>2)+2)+15]=C<<3},a=function(f,b){var C=new Int32Array(f,b+320,5),$=new Int32Array(5),W=new DataView($.buffer);return W.setInt32(0,C[0],!1),W.setInt32(4,C[1],!1),W.setInt32(8,C[2],!1),W.setInt32(12,C[3],!1),W.setInt32(16,C[4],!1),$},l=(function(){function f(b){if(h(this,f),b=b||65536,0<b%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=b,this._padMaxChunkLen=s(b),this._heap=new ArrayBuffer(u(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new e({Int32Array},{},this._heap)}return f.prototype._initState=function(C,$){this._offset=0;var W=new Int32Array(C,$+320,5);W[0]=1732584193,W[1]=-271733879,W[2]=-1732584194,W[3]=271733878,W[4]=-1009589776},f.prototype._padChunk=function(C,$){var W=s(C),R=new Int32Array(this._heap,0,W>>2);return t(R,C),n(R,C,$),W},f.prototype._write=function(C,$,W,R){c(C,this._h8,this._h32,$,W,R||0)},f.prototype._coreCall=function(C,$,W,R,L){var q=W;this._write(C,$,W),L&&(q=this._padChunk(W,R)),this._core.hash(q,this._padMaxChunkLen)},f.prototype.rawDigest=function(C){var $=C.byteLength||C.length||C.size||0;this._initState(this._heap,this._padMaxChunkLen);var W=0,R=this._maxChunkLen;for(W=0;$>W+R;W+=R)this._coreCall(C,W,R,$,!1);return this._coreCall(C,W,$-W,$,!0),a(this._heap,this._padMaxChunkLen)},f.prototype.digest=function(C){return i(this.rawDigest(C).buffer)},f.prototype.digestFromString=function(C){return this.digest(C)},f.prototype.digestFromBuffer=function(C){return this.digest(C)},f.prototype.digestFromArrayBuffer=function(C){return this.digest(C)},f.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},f.prototype.append=function(C){var $=0,W=C.byteLength||C.length||C.size||0,R=this._offset%this._maxChunkLen,L=void 0;for(this._offset+=W;$<W;)L=J(W-$,this._maxChunkLen-R),this._write(C,$,L,R),R+=L,$+=L,R===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),R=0);return this},f.prototype.getState=function(){var C=this._offset%this._maxChunkLen,$=void 0;if(C)$=this._heap.slice(0);else{var W=new Int32Array(this._heap,this._padMaxChunkLen+320,5);$=W.buffer.slice(W.byteOffset,W.byteOffset+W.byteLength)}return{offset:this._offset,heap:$}},f.prototype.setState=function(C){if(this._offset=C.offset,C.heap.byteLength===20){var $=new Int32Array(this._heap,this._padMaxChunkLen+320,5);$.set(new Int32Array(C.heap))}else this._h32.set(new Int32Array(C.heap));return this},f.prototype.rawEnd=function(){var C=this._offset,$=C%this._maxChunkLen,W=this._padChunk($,C);this._core.hash(W,this._padMaxChunkLen);var R=a(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),R},f.prototype.end=function(){return i(this.rawEnd().buffer)},f})();p.exports=l,p.exports._core=e},function(p,w){for(var v=Array(256),h=0;256>h;h++)v[h]=(16>h?"0":"")+h.toString(16);p.exports.toHex=function(e){for(var o=new Uint8Array(e),i=Array(e.byteLength),u=0;u<i.length;u++)i[u]=v[o[u]];return i.join("")},p.exports.ceilHeapSize=function(e){var o=0;if(65536>=e)return 65536;if(16777216>e)for(o=1;o<e;o<<=1);else for(o=16777216;o<e;o+=16777216);return o},p.exports.isDedicatedWorkerScope=function(e){var o="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,i="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,u="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return o&&!i&&!u}},function(p,w,v){p.exports=function(){var h=v(0),e=function(u,c,s){try{return s(null,u.digest(c))}catch(t){return s(t)}},o=function(u,c,s,t,n){var a=new self.FileReader;a.onloadend=function(){if(a.error)return n(a.error);var f=a.result;c+=a.result.byteLength;try{u.append(f)}catch(b){return void n(b)}c<t.size?o(u,c,s,t,n):n(null,u.end())},a.readAsArrayBuffer(t.slice(c,c+s))},i=!0;return self.onmessage=function(u){if(i){var c=u.data.data,s=u.data.file,t=u.data.id;if(typeof t!="undefined"&&(s||c)){var n=u.data.blockSize||4194304,a=new h(n);a.resetState();var l=function(f,b){f?self.postMessage({id:t,error:f.name}):self.postMessage({id:t,hash:b})};c&&e(a,c,l),s&&o(a,0,n,s,l)}}},function(){i=!1}}},function(p,w,v){var h=v(4),e=v(0),o=v(7),i=v(2),u=v(1),c=u.isDedicatedWorkerScope,s=typeof self!="undefined"&&c(self);e.disableWorkerBehaviour=s?i():function(){},e.createWorker=function(){var t=h(2),n=t.terminate;return t.terminate=function(){URL.revokeObjectURL(t.objectURL),n.call(t)},t},e.createHash=o,p.exports=e},function(p,w,v){function h(t){function n(f){if(a[f])return a[f].exports;var b=a[f]={i:f,l:!1,exports:{}};return t[f].call(b.exports,b,b.exports,n),b.l=!0,b.exports}var a={};n.m=t,n.c=a,n.i=function(f){return f},n.d=function(f,b,C){n.o(f,b)||Object.defineProperty(f,b,{configurable:!1,enumerable:!0,get:C})},n.r=function(f){Object.defineProperty(f,"__esModule",{value:!0})},n.n=function(f){var b=f&&f.__esModule?function(){return f.default}:function(){return f};return n.d(b,"a",b),b},n.o=function(f,b){return Object.prototype.hasOwnProperty.call(f,b)},n.p="/",n.oe=function(f){throw console.error(f),f};var l=n(n.s=ENTRY_MODULE);return l.default||l}function e(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,n,a){var l={};l[a]=[];var f=n.toString(),b=f.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!b)return l;for(var C=b[1],$=new RegExp("(\\\\n|\\W)"+e(C)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g"),W;W=$.exec(f);)W[3]!=="dll-reference"&&l[a].push(W[3]);for($=new RegExp("\\("+e(C)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");W=$.exec(f);)t[W[2]]||(l[a].push(W[1]),t[W[2]]=v(W[1]).m),l[W[2]]=l[W[2]]||[],l[W[2]].push(W[4]);return l}function i(t){var n=Object.keys(t);return n.reduce(function(a,l){return a||0<t[l].length},!1)}function u(t,n){for(var a={main:[n]},l={main:[]},f={main:{}};i(a);)for(var b=Object.keys(a),C=0;C<b.length;C++){var $=b[C],W=a[$],R=W.pop();if(f[$]=f[$]||{},!f[$][R]&&t[$][R]){f[$][R]=!0,l[$]=l[$]||[],l[$].push(R);for(var L=o(t,t[$][R],$),q=Object.keys(L),ee=0;ee<q.length;ee++)a[q[ee]]=a[q[ee]]||[],a[q[ee]]=a[q[ee]].concat(L[q[ee]])}}return l}var c="[\\.|\\-|\\+|\\w|/|@]+",s="\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";p.exports=function(t,n){n=n||{};var a={main:v.m},l=n.all?{main:Object.keys(a)}:u(a,t),f="";Object.keys(l).filter(function(R){return R!=="main"}).forEach(function(R){for(var L=0;l[R][L];)L++;l[R].push(L),a[R][L]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",f=f+"var "+R+" = ("+h.toString().replace("ENTRY_MODULE",JSON.stringify(L))+")({"+l[R].map(function(q){return""+JSON.stringify(q)+": "+a[R][q].toString()}).join(",")+`});
`}),f=f+"("+h.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+l.main.map(function(R){return""+JSON.stringify(R)+": "+a.main[R].toString()}).join(",")+"})(self);";var b=new window.Blob([f],{type:"text/javascript"});if(n.bare)return b;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,$=C.createObjectURL(b),W=new window.Worker($);return W.objectURL=$,W}},function(p,w){p.exports=function(h,e,o){function i(c,s){c|=0,s|=0;var t=0,n=0,a=0,l=0,f=0,b=0,C=0,$=0,W=0,R=0,L=0,q=0,ee=0,ae=0;for(a=0|u[s+320>>2],f=0|u[s+324>>2],C=0|u[s+328>>2],W=0|u[s+332>>2],L=0|u[s+336>>2],t=0;(0|t)<(0|c);t=0|t+64){for(l=a,b=f,$=C,R=W,q=L,n=0;64>(0|n);n=0|n+4)ae=0|u[t+n>>2],ee=0|(0|(a<<5|a>>>27)+(f&C|~f&W))+(0|(0|ae+L)+1518500249),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,u[c+n>>2]=ae;for(n=0|c+64;(0|n)<(0|c+80);n=0|n+4)ae=(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])<<1|(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f&C|~f&W))+(0|(0|ae+L)+1518500249),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,u[n>>2]=ae;for(n=0|c+80;(0|n)<(0|c+160);n=0|n+4)ae=(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])<<1|(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f^C^W))+(0|(0|ae+L)+1859775393),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,u[n>>2]=ae;for(n=0|c+160;(0|n)<(0|c+240);n=0|n+4)ae=(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])<<1|(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f&C|f&W|C&W))+(0|(0|ae+L)-1894007588),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,u[n>>2]=ae;for(n=0|c+240;(0|n)<(0|c+320);n=0|n+4)ae=(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])<<1|(u[n-12>>2]^u[n-32>>2]^u[n-56>>2]^u[n-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f^C^W))+(0|(0|ae+L)-899497514),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,u[n>>2]=ae;a=0|a+l,f=0|f+b,C=0|C+$,W=0|W+R,L=0|L+q}u[s+320>>2]=a,u[s+324>>2]=f,u[s+328>>2]=C,u[s+332>>2]=W,u[s+336>>2]=L}var u=new h.Int32Array(o);return{hash:i}}},function(p,w){var v=this,h=void 0;typeof self!="undefined"&&typeof self.FileReaderSync!="undefined"&&(h=new self.FileReaderSync);var e=function(u,c,s,t,n,a){var l=a%4,f=(n+l)%4,b=n-f,C;switch(l){case 0:c[a]=u.charCodeAt(t+3);case 1:c[0|a+1-(l<<1)]=u.charCodeAt(t+2);case 2:c[0|a+2-(l<<1)]=u.charCodeAt(t+1);case 3:c[0|a+3-(l<<1)]=u.charCodeAt(t)}if(!(n<f+(4-l))){for(C=4-l;C<b;C=0|C+4)s[a+C>>2]=u.charCodeAt(t+C)<<24|u.charCodeAt(t+C+1)<<16|u.charCodeAt(t+C+2)<<8|u.charCodeAt(t+C+3);switch(f){case 3:c[0|a+b+1]=u.charCodeAt(t+b+2);case 2:c[0|a+b+2]=u.charCodeAt(t+b+1);case 1:c[0|a+b+3]=u.charCodeAt(t+b)}}},o=function(u,c,s,t,n,a){var l=a%4,f=(n+l)%4,b=n-f,C;switch(l){case 0:c[a]=u[t+3];case 1:c[0|a+1-(l<<1)]=u[t+2];case 2:c[0|a+2-(l<<1)]=u[t+1];case 3:c[0|a+3-(l<<1)]=u[t]}if(!(n<f+(4-l))){for(C=4-l;C<b;C=0|C+4)s[0|a+C>>2]=u[t+C]<<24|u[t+C+1]<<16|u[t+C+2]<<8|u[t+C+3];switch(f){case 3:c[0|a+b+1]=u[t+b+2];case 2:c[0|a+b+2]=u[t+b+1];case 1:c[0|a+b+3]=u[t+b]}}},i=function(u,c,s,t,n,a){var l=void 0,f=a%4,b=(n+f)%4,C=n-b,$=new Uint8Array(h.readAsArrayBuffer(u.slice(t,t+n)));switch(f){case 0:c[a]=$[3];case 1:c[0|a+1-(f<<1)]=$[2];case 2:c[0|a+2-(f<<1)]=$[1];case 3:c[0|a+3-(f<<1)]=$[0]}if(!(n<b+(4-f))){for(l=4-f;l<C;l=0|l+4)s[0|a+l>>2]=$[l]<<24|$[l+1]<<16|$[l+2]<<8|$[l+3];switch(b){case 3:c[0|a+C+1]=$[C+2];case 2:c[0|a+C+2]=$[C+1];case 1:c[0|a+C+3]=$[C]}}};p.exports=function(u,c,s,t,n,a){if(typeof u=="string")return e(u,c,s,t,n,a);if(u instanceof Array||v&&v.Buffer&&v.Buffer.isBuffer(u))return o(u,c,s,t,n,a);if(u instanceof ArrayBuffer)return o(new Uint8Array(u),c,s,t,n,a);if(u.buffer instanceof ArrayBuffer)return o(new Uint8Array(u.buffer,u.byteOffset,u.byteLength),c,s,t,n,a);if(u instanceof Blob)return i(u,c,s,t,n,a);throw new Error("Unsupported data type.")}},function(p,w,v){function h(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}var e=(function(){function s(t,n){for(var a=0,l;a<n.length;a++)l=n[a],l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}return function(t,n,a){return n&&s(t.prototype,n),a&&s(t,a),t}})(),o=v(0),i=v(1),u=i.toHex,c=(function(){function s(){h(this,s),this._rusha=new o,this._rusha.resetState()}return s.prototype.update=function(n){return this._rusha.append(n),this},s.prototype.digest=function(n){var a=this._rusha.rawEnd().buffer;if(!n)return a;if(n==="hex")return u(a);throw new Error("unsupported digest encoding")},e(s,[{key:"state",get:function(){return this._rusha.getState()},set:function(t){this._rusha.setState(t)}}]),s})();p.exports=function(){return new c}}])})},{}],235:[function(m,U,k){function p(e,o){for(var i in e)o[i]=e[i]}function w(e,o,i){return h(e,o,i)}var v=m("buffer"),h=v.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?U.exports=v:(p(v,k),k.Buffer=w),w.prototype=Object.create(h.prototype),p(h,w),w.from=function(e,o,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return h(e,o,i)},w.alloc=function(e,o,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var u=h(e);return o===void 0?u.fill(0):typeof i=="string"?u.fill(o,i):u.fill(o),u},w.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return h(e)},w.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return v.SlowBuffer(e)}},{buffer:76}],236:[function(m,U,k){(function(p){(function(){"use strict";var w=m("buffer"),v=w.Buffer,h={},e;for(e in w)w.hasOwnProperty(e)&&e!=="SlowBuffer"&&e!=="Buffer"&&(h[e]=w[e]);var o=h.Buffer={};for(e in v)v.hasOwnProperty(e)&&e!=="allocUnsafe"&&e!=="allocUnsafeSlow"&&(o[e]=v[e]);if(h.Buffer.prototype=v.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(i,u,c){if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof i);if(i&&typeof i.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);return v(i,u,c)}),o.alloc||(o.alloc=function(i,u,c){if(typeof i!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof i);if(0>i||2147483648<=i)throw new RangeError('The value "'+i+'" is invalid for option "size"');var s=v(i);return u&&u.length!==0?typeof c=="string"?s.fill(u,c):s.fill(u):s.fill(0),s}),!h.kStringMaxLength)try{h.kStringMaxLength=p.binding("buffer").kStringMaxLength}catch{}h.constants||(h.constants={MAX_LENGTH:h.kMaxLength},h.kStringMaxLength&&(h.constants.MAX_STRING_LENGTH=h.kStringMaxLength)),U.exports=h}).call(this)}).call(this,m("_process"))},{_process:193,buffer:76}],237:[function(m,U,k){function p(v,h){this._block=w.alloc(v),this._finalSize=h,this._blockSize=v,this._len=0}var w=m("safe-buffer").Buffer;p.prototype.update=function(v,h){typeof v=="string"&&(h=h||"utf8",v=w.from(v,h));for(var e=this._block,o=this._blockSize,i=v.length,u=this._len,c=0;c<i;){for(var s=u%o,t=J(i-c,o-s),n=0;n<t;n++)e[s+n]=v[c+n];u+=t,c+=t,u%o==0&&this._update(e)}return this._len+=i,this},p.prototype.digest=function(v){var h=this._len%this._blockSize;this._block[h]=128,this._block.fill(0,h+1),h>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(4294967295>=e)this._block.writeUInt32BE(e,this._blockSize-4);else{var o=(4294967295&e)>>>0,i=(e-o)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var u=this._hash();return v?u.toString(v):u},p.prototype._update=function(){throw new Error("_update must be implemented by subclass")},U.exports=p},{"safe-buffer":235}],238:[function(m,U,p){var p=U.exports=function(v){v=v.toLowerCase();var h=p[v];if(!h)throw new Error(v+" is not supported (we accept pull requests)");return new h};p.sha=m("./sha"),p.sha1=m("./sha1"),p.sha224=m("./sha224"),p.sha256=m("./sha256"),p.sha384=m("./sha384"),p.sha512=m("./sha512")},{"./sha":239,"./sha1":240,"./sha224":241,"./sha256":242,"./sha384":243,"./sha512":244}],239:[function(m,U,k){function p(){this.init(),this._w=c,o.call(this,64,56)}function w(s){return s<<5|s>>>27}function v(s){return s<<30|s>>>2}function h(s,t,n,a){return s===0?t&n|~t&a:s===2?t&n|t&a|n&a:t^n^a}var e=m("inherits"),o=m("./hash"),i=m("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],c=Array(80);e(p,o),p.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},p.prototype._update=function(s){for(var t=this._w,n=0|this._a,a=0|this._b,l=0|this._c,f=0|this._d,b=0|this._e,C=0;16>C;++C)t[C]=s.readInt32BE(4*C);for(;80>C;++C)t[C]=t[C-3]^t[C-8]^t[C-14]^t[C-16];for(var $=0;80>$;++$){var W=~~($/20),R=0|w(n)+h(W,a,l,f)+b+t[$]+u[W];b=f,f=l,l=v(a),a=n,n=R}this._a=0|n+this._a,this._b=0|a+this._b,this._c=0|l+this._c,this._d=0|f+this._d,this._e=0|b+this._e},p.prototype._hash=function(){var s=i.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],240:[function(m,U,k){function p(){this.init(),this._w=s,i.call(this,64,56)}function w(t){return t<<1|t>>>31}function v(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function e(t,n,a,l){return t===0?n&a|~n&l:t===2?n&a|n&l|a&l:n^a^l}var o=m("inherits"),i=m("./hash"),u=m("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);o(p,i),p.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},p.prototype._update=function(t){for(var n=this._w,a=0|this._a,l=0|this._b,f=0|this._c,b=0|this._d,C=0|this._e,$=0;16>$;++$)n[$]=t.readInt32BE(4*$);for(;80>$;++$)n[$]=w(n[$-3]^n[$-8]^n[$-14]^n[$-16]);for(var W=0;80>W;++W){var R=~~(W/20),L=0|v(a)+e(R,l,f,b)+C+n[W]+c[R];C=b,b=f,f=h(l),l=a,a=L}this._a=0|a+this._a,this._b=0|l+this._b,this._c=0|f+this._c,this._d=0|b+this._d,this._e=0|C+this._e},p.prototype._hash=function(){var t=u.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],241:[function(m,U,k){function p(){this.init(),this._w=o,h.call(this,64,56)}var w=m("inherits"),v=m("./sha256"),h=m("./hash"),e=m("safe-buffer").Buffer,o=Array(64);w(p,v),p.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},p.prototype._hash=function(){var i=e.allocUnsafe(28);return i.writeInt32BE(this._a,0),i.writeInt32BE(this._b,4),i.writeInt32BE(this._c,8),i.writeInt32BE(this._d,12),i.writeInt32BE(this._e,16),i.writeInt32BE(this._f,20),i.writeInt32BE(this._g,24),i},U.exports=p},{"./hash":237,"./sha256":242,inherits:147,"safe-buffer":235}],242:[function(m,U,k){function p(){this.init(),this._w=n,c.call(this,64,56)}function w(a,l,f){return f^a&(l^f)}function v(a,l,f){return a&l|f&(a|l)}function h(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function e(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function o(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function i(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}var u=m("inherits"),c=m("./hash"),s=m("safe-buffer").Buffer,t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=Array(64);u(p,c),p.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},p.prototype._update=function(a){for(var l=this._w,f=0|this._a,b=0|this._b,C=0|this._c,$=0|this._d,W=0|this._e,R=0|this._f,L=0|this._g,q=0|this._h,ee=0;16>ee;++ee)l[ee]=a.readInt32BE(4*ee);for(;64>ee;++ee)l[ee]=0|i(l[ee-2])+l[ee-7]+o(l[ee-15])+l[ee-16];for(var ae=0;64>ae;++ae){var fe=0|q+e(W)+w(W,R,L)+t[ae]+l[ae],Ee=0|h(f)+v(f,b,C);q=L,L=R,R=W,W=0|$+fe,$=C,C=b,b=f,f=0|fe+Ee}this._a=0|f+this._a,this._b=0|b+this._b,this._c=0|C+this._c,this._d=0|$+this._d,this._e=0|W+this._e,this._f=0|R+this._f,this._g=0|L+this._g,this._h=0|q+this._h},p.prototype._hash=function(){var a=s.allocUnsafe(32);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a.writeInt32BE(this._h,28),a},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],243:[function(m,U,k){function p(){this.init(),this._w=o,h.call(this,128,112)}var w=m("inherits"),v=m("./sha512"),h=m("./hash"),e=m("safe-buffer").Buffer,o=Array(160);w(p,v),p.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},p.prototype._hash=function(){function i(c,s,t){u.writeInt32BE(c,t),u.writeInt32BE(s,t+4)}var u=e.allocUnsafe(48);return i(this._ah,this._al,0),i(this._bh,this._bl,8),i(this._ch,this._cl,16),i(this._dh,this._dl,24),i(this._eh,this._el,32),i(this._fh,this._fl,40),u},U.exports=p},{"./hash":237,"./sha512":244,inherits:147,"safe-buffer":235}],244:[function(m,U,k){function p(){this.init(),this._w=f,n.call(this,128,112)}function w(b,C,$){return $^b&(C^$)}function v(b,C,$){return b&C|$&(b|C)}function h(b,C){return(b>>>28|C<<4)^(C>>>2|b<<30)^(C>>>7|b<<25)}function e(b,C){return(b>>>14|C<<18)^(b>>>18|C<<14)^(C>>>9|b<<23)}function o(b,C){return(b>>>1|C<<31)^(b>>>8|C<<24)^b>>>7}function i(b,C){return(b>>>1|C<<31)^(b>>>8|C<<24)^(b>>>7|C<<25)}function u(b,C){return(b>>>19|C<<13)^(C>>>29|b<<3)^b>>>6}function c(b,C){return(b>>>19|C<<13)^(C>>>29|b<<3)^(b>>>6|C<<26)}function s(b,C){return b>>>0<C>>>0?1:0}var t=m("inherits"),n=m("./hash"),a=m("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f=Array(160);t(p,n),p.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},p.prototype._update=function(b){for(var C=this._w,$=0|this._ah,W=0|this._bh,R=0|this._ch,L=0|this._dh,q=0|this._eh,ee=0|this._fh,ae=0|this._gh,fe=0|this._hh,Ee=0|this._al,se=0|this._bl,B=0|this._cl,K=0|this._dl,j=0|this._el,x=0|this._fl,z=0|this._gl,Z=0|this._hl,oe=0;32>oe;oe+=2)C[oe]=b.readInt32BE(4*oe),C[oe+1]=b.readInt32BE(4*oe+4);for(;160>oe;oe+=2){var Y=C[oe-30],le=C[oe-30+1],ge=o(Y,le),Re=i(le,Y);Y=C[oe-4],le=C[oe-4+1];var Ae=u(Y,le),De=c(le,Y),$e=C[oe-14],Ye=C[oe-14+1],rt=C[oe-32],bt=C[oe-32+1],ut=0|Re+Ye,Me=0|ge+$e+s(ut,Re);ut=0|ut+De,Me=0|Me+Ae+s(ut,De),ut=0|ut+bt,Me=0|Me+rt+s(ut,bt),C[oe]=Me,C[oe+1]=ut}for(var Ge=0;160>Ge;Ge+=2){Me=C[Ge],ut=C[Ge+1];var Ze=v($,W,R),ft=v(Ee,se,B),Mt=h($,Ee),ue=h(Ee,$),G=e(q,j),te=e(j,q),de=l[Ge],_e=l[Ge+1],Pe=w(q,ee,ae),je=w(j,x,z),Ue=0|Z+te,yt=0|fe+G+s(Ue,Z);Ue=0|Ue+je,yt=0|yt+Pe+s(Ue,je),Ue=0|Ue+_e,yt=0|yt+de+s(Ue,_e),Ue=0|Ue+ut,yt=0|yt+Me+s(Ue,ut);var mt=0|ue+ft,et=0|Mt+Ze+s(mt,ue);fe=ae,Z=z,ae=ee,z=x,ee=q,x=j,j=0|K+Ue,q=0|L+yt+s(j,K),L=R,K=B,R=W,B=se,W=$,se=Ee,Ee=0|Ue+mt,$=0|yt+et+s(Ee,Ue)}this._al=0|this._al+Ee,this._bl=0|this._bl+se,this._cl=0|this._cl+B,this._dl=0|this._dl+K,this._el=0|this._el+j,this._fl=0|this._fl+x,this._gl=0|this._gl+z,this._hl=0|this._hl+Z,this._ah=0|this._ah+$+s(this._al,Ee),this._bh=0|this._bh+W+s(this._bl,se),this._ch=0|this._ch+R+s(this._cl,B),this._dh=0|this._dh+L+s(this._dl,K),this._eh=0|this._eh+q+s(this._el,j),this._fh=0|this._fh+ee+s(this._fl,x),this._gh=0|this._gh+ae+s(this._gl,z),this._hh=0|this._hh+fe+s(this._hl,Z)},p.prototype._hash=function(){function b($,W,R){C.writeInt32BE($,R),C.writeInt32BE(W,R+4)}var C=a.allocUnsafe(64);return b(this._ah,this._al,0),b(this._bh,this._bl,8),b(this._ch,this._cl,16),b(this._dh,this._dl,24),b(this._eh,this._el,32),b(this._fh,this._fl,40),b(this._gh,this._gl,48),b(this._hh,this._hl,56),C},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],245:[function(m,U,k){(function(p){(function(){U.exports=function(w,v){var h=[];w.on("data",function(e){h.push(e)}),w.once("end",function(){v&&v(null,p.concat(h)),v=null}),w.once("error",function(e){v&&v(e),v=null})}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],246:[function(m,U,k){(function(p){(function(){function w(t,n){if(t=Object.assign({maxRedirects:10},typeof t=="string"?{url:t}:t),n=i(n),t.url){let{hostname:$,port:W,protocol:R,auth:L,path:q}=c.parse(t.url);delete t.url,$||W||R||L?Object.assign(t,{hostname:$,port:W,protocol:R,auth:L,path:q}):t.path=q}let a={"accept-encoding":"gzip, deflate"};t.headers&&Object.keys(t.headers).forEach($=>a[$.toLowerCase()]=t.headers[$]),t.headers=a;let l;t.body?l=t.json&&!s(t.body)?JSON.stringify(t.body):t.body:t.form&&(l=typeof t.form=="string"?t.form:u.stringify(t.form),t.headers["content-type"]="application/x-www-form-urlencoded"),l&&(!t.method&&(t.method="POST"),!s(l)&&(t.headers["content-length"]=p.byteLength(l)),t.json&&!t.form&&(t.headers["content-type"]="application/json")),delete t.body,delete t.form,t.json&&(t.headers.accept="application/json"),t.method&&(t.method=t.method.toUpperCase());let f=t.hostname,b=t.protocol==="https:"?o:e,C=b.request(t,$=>{if(t.followRedirects!==!1&&300<=$.statusCode&&400>$.statusCode&&$.headers.location){t.url=$.headers.location,delete t.headers.host,$.resume();let R=c.parse(t.url).hostname;return R!==null&&R!==f&&(delete t.headers.cookie,delete t.headers.authorization),t.method==="POST"&&[301,302].includes($.statusCode)&&(t.method="GET",delete t.headers["content-length"],delete t.headers["content-type"]),t.maxRedirects--==0?n(new Error("too many redirects")):w(t,n)}let W=typeof h=="function"&&t.method!=="HEAD";n(null,W?h($):$)});return C.on("timeout",()=>{C.abort(),n(new Error("Request timed out"))}),C.on("error",n),s(l)?l.on("error",n).pipe(C):C.end(l),C}U.exports=w;let v=m("simple-concat"),h=m("decompress-response"),e=m("http"),o=m("https"),i=m("once"),u=m("querystring"),c=m("url"),s=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";w.concat=(t,n)=>w(t,(a,l)=>a?n(a):void v(l,(f,b)=>{if(f)return n(f);if(t.json)try{b=JSON.parse(b.toString())}catch(C){return n(C,l,b)}n(null,l,b)})),["get","post","put","patch","head","delete"].forEach(t=>{w[t]=(n,a)=>(typeof n=="string"&&(n={url:n}),w(Object.assign({method:t.toUpperCase()},n),a))})}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"decompress-response":42,http:257,https:144,once:178,querystring:205,"simple-concat":245,url:274}],247:[function(m,U,k){function p(l){return l.replace(/a=ice-options:trickle\s\n/g,"")}function w(l){console.warn(l)}let v=m("debug")("simple-peer"),h=m("get-browser-rtc"),e=m("randombytes"),o=m("readable-stream"),i=m("queue-microtask"),u=m("err-code"),{Buffer:c}=m("buffer"),s=65536,t=5e3,n=5e3;class a extends o.Duplex{constructor(f){if(f=Object.assign({allowHalfOpen:!1},f),super(f),this._id=e(4).toString("hex").slice(0,7),this._debug("new peer %o",f),this.channelName=f.initiator?f.channelName||e(20).toString("hex"):null,this.initiator=f.initiator||!1,this.channelConfig=f.channelConfig||a.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},a.config,f.config),this.offerOptions=f.offerOptions||{},this.answerOptions=f.answerOptions||{},this.sdpTransform=f.sdpTransform||(b=>b),this.streams=f.streams||(f.stream?[f.stream]:[]),this.trickle=f.trickle===void 0||f.trickle,this.allowHalfTrickle=f.allowHalfTrickle!==void 0&&f.allowHalfTrickle,this.iceCompleteTimeout=f.iceCompleteTimeout||t,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=f.wrtc&&typeof f.wrtc=="object"?f.wrtc:h(),!this._wrtc)throw u(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(b){return void this.destroy(u(b,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=b=>{this._onIceCandidate(b)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(b=>{this.destroy(u(b,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=b=>{this._setupData(b)},this.streams&&this.streams.forEach(b=>{this.addStream(b)}),this._pc.ontrack=b=>{this._onTrack(b)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(f){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof f=="string")try{f=JSON.parse(f)}catch{f={}}this._debug("signal()"),f.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),f.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(f.transceiverRequest.kind,f.transceiverRequest.init)),f.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(f.candidate):this._pendingCandidates.push(f.candidate)),f.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(f)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(b=>{this._addIceCandidate(b)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(b=>{this.destroy(u(b,"ERR_SET_REMOTE_DESCRIPTION"))}),f.sdp||f.candidate||f.renegotiate||f.transceiverRequest||this.destroy(u(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(f){let b=new this._wrtc.RTCIceCandidate(f);this._pc.addIceCandidate(b).catch(C=>{!b.address||b.address.endsWith(".local")?w("Ignoring unsupported ICE candidate."):this.destroy(u(C,"ERR_ADD_ICE_CANDIDATE"))})}send(f){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(f)}}addTransceiver(f,b){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(f,b),this._needsNegotiation()}catch(C){this.destroy(u(C,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:f,init:b}})}}addStream(f){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),f.getTracks().forEach(b=>{this.addTrack(b,f)})}}addTrack(f,b){if(this.destroying)return;if(this.destroyed)throw u(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let C=this._senderMap.get(f)||new Map,$=C.get(b);if(!$)$=this._pc.addTrack(f,b),C.set(b,$),this._senderMap.set(f,C),this._needsNegotiation();else throw $.removed?u(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):u(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(f,b,C){if(this.destroying)return;if(this.destroyed)throw u(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let $=this._senderMap.get(f),W=$?$.get(C):null;if(!W)throw u(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");b&&this._senderMap.set(b,$),W.replaceTrack==null?this.destroy(u(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):W.replaceTrack(b)}removeTrack(f,b){if(this.destroying)return;if(this.destroyed)throw u(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let C=this._senderMap.get(f),$=C?C.get(b):null;if(!$)throw u(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{$.removed=!0,this._pc.removeTrack($)}catch(W){W.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push($):this.destroy(u(W,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(f){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),f.getTracks().forEach(b=>{this.removeTrack(b,f)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(f){this._destroy(f,()=>{})}_destroy(f,b){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",f&&(f.message||f)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",f&&(f.message||f)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,f&&this.emit("error",f),this.emit("close"),b()}))}_setupData(f){if(!f.channel)return this.destroy(u(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=f.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=s),this.channelName=this._channel.label,this._channel.onmessage=C=>{this._onChannelMessage(C)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=C=>{let $=C.error instanceof Error?C.error:new Error(`Datachannel error: ${C.message} ${C.filename}:${C.lineno}:${C.colno}`);this.destroy(u($,"ERR_DATA_CHANNEL"))};let b=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(b&&this._onChannelClose(),b=!0):b=!1},n)}_read(){}_write(f,b,C){if(this.destroyed)return C(u(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(f)}catch($){return this.destroy(u($,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>s?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=C):C(null)}else this._debug("write before connect"),this._chunk=f,this._cb=C}_onFinish(){if(!this.destroyed){let f=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?f():this.once("connect",f)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(f=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(f.sdp=p(f.sdp)),f.sdp=this.sdpTransform(f.sdp);let b=()=>{if(!this.destroyed){let W=this._pc.localDescription||f;this._debug("signal"),this.emit("signal",{type:W.type,sdp:W.sdp})}},C=()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))},$=W=>{this.destroy(u(W,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(f).then(C).catch($)}).catch(f=>{this.destroy(u(f,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(f=>{f.mid||!f.sender.track||f.requested||(f.requested=!0,this.addTransceiver(f.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(f=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(f.sdp=p(f.sdp)),f.sdp=this.sdpTransform(f.sdp);let b=()=>{if(!this.destroyed){let W=this._pc.localDescription||f;this._debug("signal"),this.emit("signal",{type:W.type,sdp:W.sdp}),this.initiator||this._requestMissingTransceivers()}},C=()=>{this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))},$=W=>{this.destroy(u(W,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(f).then(C).catch($)}).catch(f=>{this.destroy(u(f,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(u(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let f=this._pc.iceConnectionState,b=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",f,b),this.emit("iceStateChange",f,b),(f==="connected"||f==="completed")&&(this._pcReady=!0,this._maybeReady()),f==="failed"&&this.destroy(u(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),f==="closed"&&this.destroy(u(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(f){let b=C=>(Object.prototype.toString.call(C.values)==="[object Array]"&&C.values.forEach($=>{Object.assign(C,$)}),C);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(C=>{let $=[];C.forEach(W=>{$.push(b(W))}),f(null,$)},C=>f(C)):0<this._pc.getStats.length?this._pc.getStats(C=>{if(this.destroyed)return;let $=[];C.result().forEach(W=>{let R={};W.names().forEach(L=>{R[L]=W.stat(L)}),R.id=W.id,R.type=W.type,R.timestamp=W.timestamp,$.push(b(R))}),f(null,$)},C=>f(C)):f(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let f=()=>{this.destroyed||this.getStats((b,C)=>{if(this.destroyed)return;b&&(C=[]);let $={},W={},R={},L=!1;C.forEach(ee=>{(ee.type==="remotecandidate"||ee.type==="remote-candidate")&&($[ee.id]=ee),(ee.type==="localcandidate"||ee.type==="local-candidate")&&(W[ee.id]=ee),(ee.type==="candidatepair"||ee.type==="candidate-pair")&&(R[ee.id]=ee)});let q=ee=>{L=!0;let ae=W[ee.localCandidateId];ae&&(ae.ip||ae.address)?(this.localAddress=ae.ip||ae.address,this.localPort=+ae.port):ae&&ae.ipAddress?(this.localAddress=ae.ipAddress,this.localPort=+ae.portNumber):typeof ee.googLocalAddress=="string"&&(ae=ee.googLocalAddress.split(":"),this.localAddress=ae[0],this.localPort=+ae[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let fe=$[ee.remoteCandidateId];fe&&(fe.ip||fe.address)?(this.remoteAddress=fe.ip||fe.address,this.remotePort=+fe.port):fe&&fe.ipAddress?(this.remoteAddress=fe.ipAddress,this.remotePort=+fe.portNumber):typeof ee.googRemoteAddress=="string"&&(fe=ee.googRemoteAddress.split(":"),this.remoteAddress=fe[0],this.remotePort=+fe[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(C.forEach(ee=>{ee.type==="transport"&&ee.selectedCandidatePairId&&q(R[ee.selectedCandidatePairId]),(ee.type==="googCandidatePair"&&ee.googActiveConnection==="true"||(ee.type==="candidatepair"||ee.type==="candidate-pair")&&ee.selected)&&q(ee)}),!L&&(!Object.keys(R).length||Object.keys(W).length))return void setTimeout(f,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(ae){return this.destroy(u(ae,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let ee=this._cb;this._cb=null,ee(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};f()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>s)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(f=>{this._pc.removeTrack(f),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(f){this.destroyed||(f.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:f.candidate.candidate,sdpMLineIndex:f.candidate.sdpMLineIndex,sdpMid:f.candidate.sdpMid}}):!f.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),f.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(f){if(this.destroyed)return;let b=f.data;b instanceof ArrayBuffer&&(b=c.from(b)),this.push(b)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let f=this._cb;this._cb=null,f(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(f){this.destroyed||f.streams.forEach(b=>{this._debug("on track"),this.emit("track",f.track,b),this._remoteTracks.push({track:f.track,stream:b}),this._remoteStreams.some(C=>C.id===b.id)||(this._remoteStreams.push(b),i(()=>{this._debug("on stream"),this.emit("stream",b)}))})}_debug(){let f=[].slice.call(arguments);f[0]="["+this._id+"] "+f[0],v.apply(null,f)}}a.WEBRTC_SUPPORT=!!h(),a.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},a.channelConfig={},U.exports=a},{buffer:76,debug:91,"err-code":122,"get-browser-rtc":129,"queue-microtask":206,randombytes:209,"readable-stream":228}],248:[function(m,U,k){function p(t){return i.digest(t)}function w(t,n){return s?(typeof t=="string"&&(t=v(t)),void s.digest({name:"sha-1"},t).then(function(l){n(h(new Uint8Array(l)))},function(){n(p(t))})):void(typeof window=="undefined"?queueMicrotask(()=>n(p(t))):o(t,function(l,f){return l?void n(p(t)):void n(f)}))}function v(t){let n=t.length,a=new Uint8Array(n);for(let l=0;l<n;l++)a[l]=t.charCodeAt(l);return a}function h(t){let n=t.length,a=[];for(let l=0;l<n;l++){let f=t[l];a.push((f>>>4).toString(16)),a.push((15&f).toString(16))}return a.join("")}let e=m("rusha"),o=m("./rusha-worker-sha1"),i=new e,u=typeof window=="undefined"?self:window,c=u.crypto||u.msCrypto||{},s=c.subtle||c.webkitSubtle;try{s.digest({name:"sha-1"},new Uint8Array).catch(function(){s=!1})}catch{s=!1}U.exports=w,U.exports.sync=p},{"./rusha-worker-sha1":249,rusha:234}],249:[function(m,U,k){function p(){h=v.createWorker(),e=1,o={},h.onmessage=function(u){let c=u.data.id,s=o[c];delete o[c],u.data.error==null?s(null,u.data.hash):s(new Error("Rusha worker error: "+u.data.error))}}function w(i,u){h||p(),o[e]=u,h.postMessage({id:e,data:i}),e+=1}let v=m("rusha"),h,e,o;U.exports=w},{rusha:234}],250:[function(m,U,k){(function(p){(function(){let w=m("debug")("simple-websocket"),v=m("randombytes"),h=m("readable-stream"),e=m("queue-microtask"),o=m("ws"),i=typeof o=="function"?o:WebSocket,u=65536;class c extends h.Duplex{constructor(t={}){if(typeof t=="string"&&(t={url:t}),t=Object.assign({allowHalfOpen:!1},t),super(t),t.url==null&&t.socket==null)throw new Error("Missing required `url` or `socket` option");if(t.url!=null&&t.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=v(4).toString("hex").slice(0,7),this._debug("new websocket: %o",t),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,t.socket)this.url=t.socket.url,this._ws=t.socket,this.connected=t.socket.readyState===i.OPEN;else{this.url=t.url;try{this._ws=typeof o=="function"?new i(t.url,null,{...t,encoding:void 0}):new i(t.url)}catch(n){return void e(()=>this.destroy(n))}}this._ws.binaryType="arraybuffer",t.socket&&this.connected?e(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=n=>this._handleMessage(n),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=n=>this._handleError(n),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(t){this._ws.send(t)}destroy(t){this._destroy(t,()=>{})}_destroy(t,n){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){let a=this._ws,l=()=>{a.onclose=null};if(a.readyState===i.CLOSED)l();else try{a.onclose=l,a.close()}catch{l()}a.onopen=null,a.onmessage=null,a.onerror=()=>{}}this._ws=null,t&&this.emit("error",t),this.emit("close"),n()}}_read(){}_write(t,n,a){if(this.destroyed)return a(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(t)}catch(l){return this.destroy(l)}typeof o!="function"&&this._ws.bufferedAmount>u?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=a):a(null)}else this._debug("write before connect"),this._chunk=t,this._cb=a}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(n){return this.destroy(n)}this._chunk=null,this._debug('sent chunk from "write before connect"');let t=this._cb;this._cb=null,t(null)}typeof o!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(t){if(this.destroyed)return;let n=t.data;n instanceof ArrayBuffer&&(n=p.from(n)),this.push(n)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(t){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){let t=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?t():this.once("connect",t)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>u)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);let t=this._cb;this._cb=null,t(null)}}_debug(){let t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],w.apply(null,t)}}c.WEBSOCKET_SUPPORT=!!i,U.exports=c}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,debug:91,"queue-microtask":206,randombytes:209,"readable-stream":228,ws:42}],251:[function(m,U,k){let p=m("./lib/throttle"),w=m("./lib/throttle-group");U.exports={Throttle:p,ThrottleGroup:w}},{"./lib/throttle":253,"./lib/throttle-group":252}],252:[function(m,U,k){var p=Number.isInteger;let{TokenBucket:w}=m("limiter"),v=m("./throttle");class h{constructor(o={}){if(typeof o!="object")throw new Error("Options must be an object");this.throttles=[],this.setEnabled(o.enabled),this.setRate(o.rate,o.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(o=!0){if(typeof o!="boolean")throw new Error("Enabled must be a boolean");this._enabled=o;for(let i of this.throttles)i.setEnabled(o)}setRate(o,i=null){if(!p(o)||0>o)throw new Error("Rate must be an integer bigger than zero");if(o=parseInt(o),i&&(typeof i!="number"||0>=i))throw new Error("Chunksize must be bigger than zero");if(i=i||F(parseInt(o/10),1),i=parseInt(i),0<o&&i>o)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new w(o,o,"second",null)),this.bucket.bucketSize=o,this.bucket.tokensPerInterval=o,this.chunksize=i}setChunksize(o){if(!p(o)||0>=o)throw new Error("Chunk size must be an integer bigger than zero");let i=this.getRate();if(o=parseInt(o),0<i&&o>i)throw new Error("Chunk size must be smaller than rate");this.chunksize=o}throttle(o={}){if(typeof o!="object")throw new Error("Options must be an object");return new v({...o,group:this})}destroy(){for(let o of this.throttles)o.destroy();this.throttles=[]}_addThrottle(o){if(!(o instanceof v))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(o)}_removeThrottle(o){let i=this.throttles.indexOf(o);-1<i&&this.throttles.splice(i,1)}}U.exports=h},{"./throttle":253,limiter:152}],253:[function(m,U,k){let{EventEmitter:p}=m("events"),{Transform:w}=m("streamx"),{wait:v}=m("./utils");class h extends w{constructor(i={}){if(super(),typeof i!="object")throw new Error("Options must be an object");let u=Object.assign({},i);if(u.group&&!(u.group instanceof e))throw new Error("Group must be an instanece of ThrottleGroup");u.group||(u.group=new e(u)),this._setEnabled(u.enabled||u.group.enabled),this._group=u.group,this._emitter=new p,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(i=!0){if(typeof i!="boolean")throw new Error("Enabled must be a boolean");this._enabled=i}setEnabled(i){this._setEnabled(i),this._enabled?this._emitter.emit("enabled"):this._emitter.emit("disabled")}_transform(i,u){this._processChunk(i,u)}async _waitForTokens(i){return new Promise((u,c)=>{function s(a){if(n._emitter.removeListener("disabled",s),n._emitter.removeListener("destroyed",s),!t)return t=!0,a?c(a):void u()}let t=!1,n=this;this._emitter.once("disabled",s),this._emitter.once("destroyed",s),this._group.bucket.removeTokens(i,s)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(i,u){if(!this._areBothEnabled())return u(null,i);let c=0,s=this._group.getChunksize(),t=i.slice(c,c+s);for(;0<t.length;){if(this._areBothEnabled())try{for(;this._group.getRate()===0&&!this._destroyed&&this._areBothEnabled();)if(await v(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(t.length)&&(await this._waitForTokens(t.length),this._destroyed))return}catch(n){return u(n)}this.push(t),c+=s,s=this._areBothEnabled()?this._group.getChunksize():i.length-c,t=i.slice(c,c+s)}return u()}destroy(...i){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...i)}}U.exports=h;let e=m("./throttle-group")},{"./throttle-group":252,"./utils":254,events:123,streamx:264}],254:[function(m,U,k){function p(w){return new Promise(v=>setTimeout(v,w))}U.exports={wait:p}},{}],255:[function(m,U,k){var p=1,w=65535,v=4,h=function(){p=p+1&w},e;U.exports=function(o){e||(e=setInterval(h,0|1e3/v),e.unref&&e.unref());var i=v*(o||5),u=[0],c=1,s=p-1&w;return function(t){var n=p-s&w;for(n>i&&(n=i),s=p;n--;)c===i&&(c=0),u[c]=u[c===0?i-1:c-1],c++;t&&(u[c-1]+=t);var a=u[c-1],l=u.length<i?0:u[c===i?0:c];return u.length<v?a:(a-l)*v/u.length}}},{}],256:[function(m,U,k){function p(){w.call(this)}U.exports=p;var w=m("events").EventEmitter,v=m("inherits");v(p,w),p.Readable=m("readable-stream/lib/_stream_readable.js"),p.Writable=m("readable-stream/lib/_stream_writable.js"),p.Duplex=m("readable-stream/lib/_stream_duplex.js"),p.Transform=m("readable-stream/lib/_stream_transform.js"),p.PassThrough=m("readable-stream/lib/_stream_passthrough.js"),p.finished=m("readable-stream/lib/internal/streams/end-of-stream.js"),p.pipeline=m("readable-stream/lib/internal/streams/pipeline.js"),p.Stream=p,p.prototype.pipe=function(h,e){function o(l){h.writable&&h.write(l)===!1&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}function u(){a||(a=!0,h.end())}function c(){a||(a=!0,typeof h.destroy=="function"&&h.destroy())}function s(l){if(t(),w.listenerCount(this,"error")===0)throw l}function t(){n.removeListener("data",o),h.removeListener("drain",i),n.removeListener("end",u),n.removeListener("close",c),n.removeListener("error",s),h.removeListener("error",s),n.removeListener("end",t),n.removeListener("close",t),h.removeListener("close",t)}var n=this;n.on("data",o),h.on("drain",i),h._isStdio||e&&e.end===!1||(n.on("end",u),n.on("close",c));var a=!1;return n.on("error",s),h.on("error",s),n.on("end",t),n.on("close",t),h.on("close",t),h.emit("pipe",n),h}},{events:123,inherits:147,"readable-stream/lib/_stream_duplex.js":215,"readable-stream/lib/_stream_passthrough.js":216,"readable-stream/lib/_stream_readable.js":217,"readable-stream/lib/_stream_transform.js":218,"readable-stream/lib/_stream_writable.js":219,"readable-stream/lib/internal/streams/end-of-stream.js":223,"readable-stream/lib/internal/streams/pipeline.js":225}],257:[function(m,U,k){(function(p){(function(){var w=m("./lib/request"),v=m("./lib/response"),h=m("xtend"),e=m("builtin-status-codes"),o=m("url"),i=k;i.request=function(u,c){u=typeof u=="string"?o.parse(u):h(u);var s=p.location.protocol.search(/^https?:$/)===-1?"http:":"",t=u.protocol||s,n=u.hostname||u.host,a=u.port,l=u.path||"/";n&&n.indexOf(":")!==-1&&(n="["+n+"]"),u.url=(n?t+"//"+n:"")+(a?":"+a:"")+l,u.method=(u.method||"GET").toUpperCase(),u.headers=u.headers||{};var f=new w(u);return c&&f.on("response",c),f},i.get=function(c,s){var t=i.request(c,s);return t.end(),t},i.ClientRequest=w,i.IncomingMessage=v.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=e,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"./lib/request":259,"./lib/response":260,"builtin-status-codes":77,url:274,xtend:281}],258:[function(m,U,k){(function(p){(function(){function w(){if(e!==void 0)return e;if(p.XMLHttpRequest){e=new p.XMLHttpRequest;try{e.open("GET",p.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function v(o){var i=w();if(!i)return!1;try{return i.responseType=o,i.responseType===o}catch{}return!1}function h(o){return typeof o=="function"}k.fetch=h(p.fetch)&&h(p.ReadableStream),k.writableStream=h(p.WritableStream),k.abortController=h(p.AbortController);var e;k.arraybuffer=k.fetch||v("arraybuffer"),k.msstream=!k.fetch&&v("ms-stream"),k.mozchunkedarraybuffer=!k.fetch&&v("moz-chunked-arraybuffer"),k.overrideMimeType=k.fetch||!!w()&&h(w().overrideMimeType),e=null}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],259:[function(m,U,k){(function(p,w,v){(function(){function h(l,f){return o.fetch&&f?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&l?"arraybuffer":"text"}function e(l){try{var f=l.status;return f!==null&&f!==0}catch{return!1}}var o=m("./capability"),i=m("inherits"),u=m("./response"),c=m("readable-stream"),s=u.IncomingMessage,t=u.readyStates,n=U.exports=function(l){var f=this;c.Writable.call(f),f._opts=l,f._body=[],f._headers={},l.auth&&f.setHeader("Authorization","Basic "+v.from(l.auth).toString("base64")),Object.keys(l.headers).forEach(function($){f.setHeader($,l.headers[$])});var b=!0,C;if(l.mode==="disable-fetch"||"requestTimeout"in l&&!o.abortController)b=!1,C=!0;else if(l.mode==="prefer-streaming")C=!1;else if(l.mode==="allow-wrong-content-type")C=!o.overrideMimeType;else if(!l.mode||l.mode==="default"||l.mode==="prefer-fast")C=!0;else throw new Error("Invalid value for opts.mode");f._mode=h(C,b),f._fetchTimer=null,f._socketTimeout=null,f._socketTimer=null,f.on("finish",function(){f._onFinish()})};i(n,c.Writable),n.prototype.setHeader=function(l,f){var b=this,C=l.toLowerCase();a.indexOf(C)!==-1||(b._headers[C]={name:l,value:f})},n.prototype.getHeader=function(l){var f=this._headers[l.toLowerCase()];return f?f.value:null},n.prototype.removeHeader=function(l){var f=this;delete f._headers[l.toLowerCase()]},n.prototype._onFinish=function(){var l=this;if(!l._destroyed){var f=l._opts;"timeout"in f&&f.timeout!==0&&l.setTimeout(f.timeout);var b=l._headers,C=null;f.method!=="GET"&&f.method!=="HEAD"&&(C=new Blob(l._body,{type:(b["content-type"]||{}).value||""}));var $=[];if(Object.keys(b).forEach(function(q){var ee=b[q].name,ae=b[q].value;Array.isArray(ae)?ae.forEach(function(fe){$.push([ee,fe])}):$.push([ee,ae])}),l._mode==="fetch"){var W=null;if(o.abortController){var R=new AbortController;W=R.signal,l._fetchAbortController=R,"requestTimeout"in f&&f.requestTimeout!==0&&(l._fetchTimer=w.setTimeout(function(){l.emit("requestTimeout"),l._fetchAbortController&&l._fetchAbortController.abort()},f.requestTimeout))}w.fetch(l._opts.url,{method:l._opts.method,headers:$,body:C||void 0,mode:"cors",credentials:f.withCredentials?"include":"same-origin",signal:W}).then(function(q){l._fetchResponse=q,l._resetTimers(!1),l._connect()},function(q){l._resetTimers(!0),l._destroyed||l.emit("error",q)})}else{var L=l._xhr=new w.XMLHttpRequest;try{L.open(l._opts.method,l._opts.url,!0)}catch(q){return void p.nextTick(function(){l.emit("error",q)})}"responseType"in L&&(L.responseType=l._mode),"withCredentials"in L&&(L.withCredentials=!!f.withCredentials),l._mode==="text"&&"overrideMimeType"in L&&L.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in f&&(L.timeout=f.requestTimeout,L.ontimeout=function(){l.emit("requestTimeout")}),$.forEach(function(q){L.setRequestHeader(q[0],q[1])}),l._response=null,L.onreadystatechange=function(){switch(L.readyState){case t.LOADING:case t.DONE:l._onXHRProgress()}},l._mode==="moz-chunked-arraybuffer"&&(L.onprogress=function(){l._onXHRProgress()}),L.onerror=function(){l._destroyed||(l._resetTimers(!0),l.emit("error",new Error("XHR error")))};try{L.send(C)}catch(q){return void p.nextTick(function(){l.emit("error",q)})}}}},n.prototype._onXHRProgress=function(){var l=this;l._resetTimers(!1),!e(l._xhr)||l._destroyed||(!l._response&&l._connect(),l._response._onXHRProgress(l._resetTimers.bind(l)))},n.prototype._connect=function(){var l=this;l._destroyed||(l._response=new s(l._xhr,l._fetchResponse,l._mode,l._resetTimers.bind(l)),l._response.on("error",function(f){l.emit("error",f)}),l.emit("response",l._response))},n.prototype._write=function(l,f,b){var C=this;C._body.push(l),b()},n.prototype._resetTimers=function(l){var f=this;w.clearTimeout(f._socketTimer),f._socketTimer=null,l?(w.clearTimeout(f._fetchTimer),f._fetchTimer=null):f._socketTimeout&&(f._socketTimer=w.setTimeout(function(){f.emit("timeout")},f._socketTimeout))},n.prototype.abort=n.prototype.destroy=function(l){var f=this;f._destroyed=!0,f._resetTimers(!0),f._response&&(f._response._destroyed=!0),f._xhr?f._xhr.abort():f._fetchAbortController&&f._fetchAbortController.abort(),l&&f.emit("error",l)},n.prototype.end=function(l,f,b){var C=this;typeof l=="function"&&(b=l,l=void 0),c.Writable.prototype.end.call(C,l,f,b)},n.prototype.setTimeout=function(l,f){var b=this;f&&b.once("timeout",f),b._socketTimeout=l,b._resetTimers(!1)},n.prototype.flushHeaders=function(){},n.prototype.setNoDelay=function(){},n.prototype.setSocketKeepAlive=function(){};var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global,m("buffer").Buffer)},{"./capability":258,"./response":260,_process:193,buffer:76,inherits:147,"readable-stream":228}],260:[function(m,U,k){(function(p,w,v){(function(){var h=m("./capability"),e=m("inherits"),o=m("readable-stream"),i=k.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=k.IncomingMessage=function(c,s,t,n){var a=this;if(o.Readable.call(a),a._mode=t,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){p.nextTick(function(){a.emit("close")})}),t==="fetch"){let R=function(){f.read().then(function(L){if(!a._destroyed)return n(L.done),L.done?void a.push(null):(a.push(v.from(L.value)),void R())}).catch(function(L){n(!0),a._destroyed||a.emit("error",L)})};var W=R;if(a._fetchResponse=s,a.url=s.url,a.statusCode=s.status,a.statusMessage=s.statusText,s.headers.forEach(function(L,q){a.headers[q.toLowerCase()]=L,a.rawHeaders.push(q,L)}),h.writableStream){var l=new WritableStream({write:function(L){return n(!1),new Promise(function(q,ee){a._destroyed?ee():a.push(v.from(L))?q():a._resumeFetch=q})},close:function(){n(!0),a._destroyed||a.push(null)},abort:function(L){n(!0),a._destroyed||a.emit("error",L)}});try{return void s.body.pipeTo(l).catch(function(L){n(!0),a._destroyed||a.emit("error",L)})}catch{}}var f=s.body.getReader();R()}else{a._xhr=c,a._pos=0,a.url=c.responseURL,a.statusCode=c.status,a.statusMessage=c.statusText;var b=c.getAllResponseHeaders().split(/\r?\n/);if(b.forEach(function(R){var L=R.match(/^([^:]+):\s*(.*)/);if(L){var q=L[1].toLowerCase();q==="set-cookie"?(a.headers[q]===void 0&&(a.headers[q]=[]),a.headers[q].push(L[2])):a.headers[q]===void 0?a.headers[q]=L[2]:a.headers[q]+=", "+L[2],a.rawHeaders.push(L[1],L[2])}}),a._charset="x-user-defined",!h.overrideMimeType){var C=a.rawHeaders["mime-type"];if(C){var $=C.match(/;\s*charset=([^;])(;|$)/);$&&(a._charset=$[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};e(u,o.Readable),u.prototype._read=function(){var c=this,s=c._resumeFetch;s&&(c._resumeFetch=null,s())},u.prototype._onXHRProgress=function(c){var s=this,t=s._xhr,n=null;switch(s._mode){case"text":if(n=t.responseText,n.length>s._pos){var a=n.substr(s._pos);if(s._charset==="x-user-defined"){for(var l=v.alloc(a.length),f=0;f<a.length;f++)l[f]=255&a.charCodeAt(f);s.push(l)}else s.push(a,s._charset);s._pos=n.length}break;case"arraybuffer":if(t.readyState!==i.DONE||!t.response)break;n=t.response,s.push(v.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==i.LOADING||!n)break;s.push(v.from(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==i.LOADING)break;var b=new w.MSStreamReader;b.onprogress=function(){b.result.byteLength>s._pos&&(s.push(v.from(new Uint8Array(b.result.slice(s._pos)))),s._pos=b.result.byteLength)},b.onload=function(){c(!0),s.push(null)},b.readAsArrayBuffer(n)}s._xhr.readyState===i.DONE&&s._mode!=="ms-stream"&&(c(!0),s.push(null))}}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global,m("buffer").Buffer)},{"./capability":258,_process:193,buffer:76,inherits:147,"readable-stream":228}],261:[function(m,U,k){async function p(v,h){let e=await w(v,h);return URL.createObjectURL(e)}U.exports=p;let w=m("stream-to-blob")},{"stream-to-blob":262}],262:[function(m,U,k){function p(w,v){if(v!=null&&typeof v!="string")throw new Error("Invalid mimetype, expected string.");return new Promise((h,e)=>{let o=[];w.on("data",i=>o.push(i)).once("end",()=>{let i=v==null?new Blob(o):new Blob(o,{type:v});h(i)}).once("error",e)})}U.exports=p},{}],263:[function(m,U,k){(function(p){(function(){var w=m("once");U.exports=function(h,e,o){o=w(o);var i=p.alloc(e),u=0;h.on("data",function(c){c.copy(i,u),u+=c.length}).on("end",function(){o(null,i)}).on("error",o)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,once:178}],264:[function(m,U,k){function p(){this.stream._duplexState|=Re,(this.stream._duplexState&Ge)==0?this.updateNextTick():this.drain()}function w(Ut){let Te=this.stream;Ut&&Te.destroy(Ut),(Te._duplexState&an)==0&&(Te._duplexState|=St,Te.emit("finish")),(Te._duplexState&or)===dr&&(Te._duplexState|=K),Te._duplexState&=sr,this.update()}function v(Ut){let Te=this.stream;Ut||this.error===q||(Ut=this.error),Ut&&Te.emit("error",Ut),Te._duplexState|=j,Te.emit("close");let It=Te._readableState,ur=Te._writableState;It!==null&&It.pipeline!==null&&It.pipeline.done(Te,Ut),ur!==null&&ur.pipeline!==null&&ur.pipeline.done(Te,Ut)}function h(Ut){let Te=this.stream;Ut&&Te.destroy(Ut),Te._duplexState&=sr,(Te._duplexState&ye)===mr&&(Te._duplexState&=Jr,(Te._duplexState&Wt)===Wt&&Te.emit("drain")),(Te._duplexState&wt)==0&&this.update()}function e(Ut){Ut&&this.stream.destroy(Ut),this.stream._duplexState&=ue,(this.stream._duplexState&Y)==0&&this.update()}function o(){this.stream._duplexState&=mt,this.update()}function i(){this.stream._duplexState&=tr,this.update()}function u(Ut){let Te=this.stream;Ut&&Te.destroy(Ut),(Te._duplexState&K)==0&&((Te._duplexState&Ht)==0&&(Te._duplexState|=oe),(Te._duplexState&hr)==0&&(Te._duplexState|=Dt),Te.emit("open")),Te._duplexState&=ir,Te._writableState!==null&&Te._writableState.update(),Te._readableState!==null&&Te._readableState.update()}function c(Ut,Te){Te!=null&&this.push(Te),this._writableState.afterWrite(Ut)}function s(Ut,Te){let It=this._transformState.afterFinal;return Ut?It(Ut):(Te!=null&&this.push(Te),this.push(null),void It(null))}function t(...Ut){return new Promise((Te,It)=>n(...Ut,ur=>ur?It(ur):void Te()))}function n(Ut,...Te){function It(Er,xn,Jn,_i){function _o(){return xn&&Er._readableState&&!Er._readableState.ended||Jn&&Er._writableState&&!Er._writableState.ended?_i(ee):void 0}Er.on("error",_i),Er.on("close",_o)}function ur(Er){if(Er&&!un){un=Er;for(let xn of vr)xn.destroy(Er)}}let vr=Array.isArray(Ut)?[...Ut,...Te]:[Ut,...Te],$r=vr.length&&typeof vr[vr.length-1]=="function"?vr.pop():null;if(2>vr.length)throw new Error("Pipeline requires at least 2 streams");let Ir=vr[0],rn=null,un=null;for(let Er=1;Er<vr.length;Er++)rn=vr[Er],l(Ir)?Ir.pipe(rn,ur):(It(Ir,!0,1<Er,ur),Ir.pipe(rn)),Ir=rn;if($r){let Er=!1;rn.on("finish",()=>{Er=!0}),rn.on("error",xn=>{un=un||xn}),rn.on("close",()=>$r(un||(Er?null:ee)))}return rn}function a(Ut){return!!Ut._readableState||!!Ut._writableState}function l(Ut){return typeof Ut._duplexState=="number"&&a(Ut)}function f(Ut){return Ut._readableState&&Ut._readableState.error||Ut._writableState&&Ut._writableState.error}function b(Ut){return l(Ut)&&Ut.readable}function C(Ut){return typeof Ut=="object"&&Ut!==null&&typeof Ut.byteLength=="number"}function $(Ut){return C(Ut)?Ut.byteLength:1024}function W(){}function R(){this.destroy(new Error("Stream aborted."))}let{EventEmitter:L}=m("events"),q=new Error("Stream was destroyed"),ee=new Error("Premature close"),ae=m("queue-tick"),fe=m("fast-fifo"),Ee=67108863,se=1,B=2,K=4,j=8,x=Ee^se,z=Ee^B,Z=16,oe=32,Y=64,le=128,ge=256,Re=512,Ae=1024,De=2048,$e=4096,Ye=8192,rt=16384,bt=32784,ut=65536,Me=ge|Re,Ge=Z|Y,Ze=Z|Y|ut,ft=oe|Z,Mt=$e|le,ue=Ee^Z,G=Ee^oe,te=Ee^(oe|ut),de=Ee^Y,_e=Ee^ut,Pe=Ee^ge,je=Ee^(le|Ye),Ue=Ee^Ae,yt=Ee^Me,mt=Ee^bt,et=131072,Dt=262144,wt=524288,Lt=1048576,mr=2097152,St=4194304,Wt=8388608,qt=16908288,Kt=33554432,sr=Ee^et,_n=Ee^wt,Jt=Ee^Dt,nr=Ee^Kt,Jr=Ee^mr,Yt=Ee^Lt,tr=Ee^qt,Vr=Z|et,ir=Ee^Vr,dr=rt|St,an=K|j|B,Xt=an|se,or=an|dr,In=Jt&G,er=qt|bt,lr=er&ir,Sn=Xt|lr,Ht=Xt|Ae|rt,fr=Xt|rt|le,sn=Xt|Ae|le,Vt=Xt|$e|le|Ye,rr=Xt|Z|Ae|rt|ut,Cn=an|Ae|rt,hr=Xt|Kt|St,pr=Lt|mr,Ke=Lt|et,ye=Lt|mr|Xt|et,He=Xt|et|Lt,qe=Dt|et,Se=et|wt,Je=Xt|Kt|Ke|St,ln=mr|an|Kt|St,mn=Symbol.asyncIterator||Symbol("asyncIterator");class Pn{constructor(Te,{highWaterMark:It=16384,map:ur=null,mapWritable:vr,byteLength:$r,byteLengthWritable:Ir}={}){this.stream=Te,this.queue=new fe,this.highWaterMark=It,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Ir||$r||$,this.map=vr||ur,this.afterWrite=h.bind(this),this.afterUpdateNextTick=i.bind(this)}get ended(){return(this.stream._duplexState&St)!=0}push(Te){return this.map!==null&&(Te=this.map(Te)),this.buffered+=this.byteLength(Te),this.queue.push(Te),this.buffered<this.highWaterMark?(this.stream._duplexState|=Lt,!0):(this.stream._duplexState|=pr,!1)}shift(){let Te=this.queue.shift(),It=this.stream;return this.buffered-=this.byteLength(Te),this.buffered===0&&(It._duplexState&=Yt),Te}end(Te){typeof Te=="function"?this.stream.once("finish",Te):Te!=null&&this.push(Te),this.stream._duplexState=(this.stream._duplexState|Kt)&Jt}autoBatch(Te,It){let ur=[],vr=this.stream;for(ur.push(Te);(vr._duplexState&He)===Ke;)ur.push(vr._writableState.shift());return(vr._duplexState&Xt)==0?void vr._writev(ur,It):It(null)}update(){let Te=this.stream;for(;(Te._duplexState&He)===Lt;){let It=this.shift();Te._duplexState|=Se,Te._write(It,this.afterWrite),Te._duplexState&=_n}(Te._duplexState&qe)==0&&this.updateNonPrimary()}updateNonPrimary(){let Te=this.stream;return(Te._duplexState&Je)===Kt?(Te._duplexState=(Te._duplexState|et)&nr,void Te._final(w.bind(this))):(Te._duplexState&an)===K?void((Te._duplexState&er)==0&&(Te._duplexState|=Vr,Te._destroy(v.bind(this)))):void((Te._duplexState&Sn)===se&&(Te._duplexState=(Te._duplexState|Vr)&x,Te._open(u.bind(this))))}updateNextTick(){(this.stream._duplexState&qt)!=0||(this.stream._duplexState|=qt,ae(this.afterUpdateNextTick))}}class $n{constructor(Te,{highWaterMark:It=16384,map:ur=null,mapReadable:vr,byteLength:$r,byteLengthReadable:Ir}={}){this.stream=Te,this.queue=new fe,this.highWaterMark=It,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Ir||$r||$,this.map=vr||ur,this.pipeTo=null,this.afterRead=e.bind(this),this.afterUpdateNextTick=o.bind(this)}get ended(){return(this.stream._duplexState&rt)!=0}pipe(Te,It){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof It!="function"&&(It=null),this.stream._duplexState|=Re,this.pipeTo=Te,this.pipeline=new vn(this.stream,Te,It),It&&this.stream.on("error",W),l(Te))Te._writableState.pipeline=this.pipeline,It&&Te.on("error",W),Te.on("finish",this.pipeline.finished.bind(this.pipeline));else{let ur=this.pipeline.done.bind(this.pipeline,Te),vr=this.pipeline.done.bind(this.pipeline,Te,null);Te.on("error",ur),Te.on("close",vr),Te.on("finish",this.pipeline.finished.bind(this.pipeline))}Te.on("drain",p.bind(this)),this.stream.emit("piping",Te),Te.emit("pipe",this.stream)}push(Te){let It=this.stream;return Te===null?(this.highWaterMark=0,It._duplexState=(It._duplexState|Ae)&te,!1):(this.map!==null&&(Te=this.map(Te)),this.buffered+=this.byteLength(Te),this.queue.push(Te),It._duplexState=(It._duplexState|le)&_e,this.buffered<this.highWaterMark)}shift(){let Te=this.queue.shift();return this.buffered-=this.byteLength(Te),this.buffered===0&&(this.stream._duplexState&=je),Te}unshift(Te){let It,ur=[];for(;(It=this.queue.shift())!==void 0;)ur.push(It);this.push(Te);for(let vr=0;vr<ur.length;vr++)this.queue.push(ur[vr])}read(){let Te=this.stream;if((Te._duplexState&fr)===le){let It=this.shift();return this.pipeTo!==null&&this.pipeTo.write(It)===!1&&(Te._duplexState&=yt),(Te._duplexState&De)!=0&&Te.emit("data",It),It}return null}drain(){for(let Te=this.stream;(Te._duplexState&fr)===le&&(Te._duplexState&Me)!=0;){let It=this.shift();this.pipeTo!==null&&this.pipeTo.write(It)===!1&&(Te._duplexState&=yt),(Te._duplexState&De)!=0&&Te.emit("data",It)}}update(){let Te=this.stream;for(this.drain();this.buffered<this.highWaterMark&&(Te._duplexState&rr)==0;)Te._duplexState|=Ze,Te._read(this.afterRead),Te._duplexState&=de,(Te._duplexState&Z)==0&&this.drain();(Te._duplexState&Vt)===Mt&&(Te._duplexState|=Ye,Te.emit("readable")),(Te._duplexState&ft)==0&&this.updateNonPrimary()}updateNonPrimary(){let Te=this.stream;return(Te._duplexState&sn)===Ae&&(Te._duplexState=(Te._duplexState|rt)&Ue,Te.emit("end"),(Te._duplexState&or)===dr&&(Te._duplexState|=K),this.pipeTo!==null&&this.pipeTo.end()),(Te._duplexState&an)===K?void((Te._duplexState&er)==0&&(Te._duplexState|=Vr,Te._destroy(v.bind(this)))):void((Te._duplexState&Sn)===se&&(Te._duplexState=(Te._duplexState|Vr)&x,Te._open(u.bind(this))))}updateNextTick(){(this.stream._duplexState&bt)!=0||(this.stream._duplexState|=bt,ae(this.afterUpdateNextTick))}}class Fn{constructor(Te){this.data=null,this.afterTransform=c.bind(Te),this.afterFinal=null}}class vn{constructor(Te,It,ur){this.from=Te,this.to=It,this.afterPipe=ur,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(Te,It){return It&&(this.error=It),Te===this.to&&(this.to=null,this.from!==null)?void((this.from._duplexState&rt)!=0&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):Te===this.from&&(this.from=null,this.to!==null)?void((Te._duplexState&rt)==0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(this.afterPipe!==null&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class bn extends L{constructor(Te){super(),this._duplexState=0,this._readableState=null,this._writableState=null,Te&&(Te.open&&(this._open=Te.open),Te.destroy&&(this._destroy=Te.destroy),Te.predestroy&&(this._predestroy=Te.predestroy),Te.signal&&Te.signal.addEventListener("abort",R.bind(this)))}_open(Te){Te(null)}_destroy(Te){Te(null)}_predestroy(){}get readable(){return this._readableState!==null||void 0}get writable(){return this._writableState!==null||void 0}get destroyed(){return(this._duplexState&j)!=0}get destroying(){return(this._duplexState&an)!=0}destroy(Te){(this._duplexState&an)==0&&(!Te&&(Te=q),this._duplexState=(this._duplexState|K)&In,this._readableState!==null&&(this._readableState.error=Te),this._writableState!==null&&(this._writableState.error=Te),this._duplexState|=B,this._predestroy(),this._duplexState&=z,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(Te,It){return this._readableState!==null&&(Te==="data"&&(this._duplexState|=De|ge,this._readableState.updateNextTick()),Te==="readable"&&(this._duplexState|=$e,this._readableState.updateNextTick())),this._writableState!==null&&Te==="drain"&&(this._duplexState|=Wt,this._writableState.updateNextTick()),super.on(Te,It)}}class Xr extends bn{constructor(Te){super(Te),this._duplexState|=se|St,this._readableState=new $n(this,Te),Te&&(Te.read&&(this._read=Te.read),Te.eagerOpen&&this.resume().pause())}_read(Te){Te(null)}pipe(Te,It){return this._readableState.pipe(Te,It),this._readableState.updateNextTick(),Te}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(Te){return this._readableState.updateNextTick(),this._readableState.push(Te)}unshift(Te){return this._readableState.updateNextTick(),this._readableState.unshift(Te)}resume(){return this._duplexState|=ge,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Pe,this}static _fromAsyncIterator(Te,It){function ur(Ir){Ir.done?$r.push(null):$r.push(Ir.value)}let vr,$r=new Xr({...It,read(Ir){Te.next().then(ur).then(Ir.bind(null,null)).catch(Ir)},predestroy(){vr=Te.return()},destroy(Ir){return vr?void vr.then(Ir.bind(null,null)).catch(Ir):Ir(null)}});return $r}static from(Te,It){if(b(Te))return Te;if(Te[mn])return this._fromAsyncIterator(Te[mn](),It);Array.isArray(Te)||(Te=Te===void 0?[]:[Te]);let ur=0;return new Xr({...It,read(vr){this.push(ur===Te.length?null:Te[ur++]),vr(null)}})}static isBackpressured(Te){return(Te._duplexState&Cn)!=0||Te._readableState.buffered>=Te._readableState.highWaterMark}static isPaused(Te){return(Te._duplexState&ge)==0}[mn](){function Te(){rn!==null&&ur($r.read())}function It(){rn!==null&&ur(null)}function ur(Er){un===null||(Ir?un(Ir):Er===null&&($r._duplexState&rt)==0?un(q):rn({value:Er,done:Er==null}),un=rn=null)}function vr(Er){return $r.destroy(Er),new Promise((xn,Jn)=>$r._duplexState&j?xn({value:void 0,done:!0}):void $r.once("close",function(){Er?Jn(Er):xn({value:void 0,done:!0})}))}let $r=this,Ir=null,rn=null,un=null;return this.on("error",Er=>{Ir=Er}),this.on("readable",Te),this.on("close",It),{[mn](){return this},next(){return new Promise(function(Er,xn){rn=Er,un=xn;let Jn=$r.read();Jn===null?($r._duplexState&j)!=0&&ur(null):ur(Jn)})},return(){return vr(null)},throw(Er){return vr(Er)}}}}class yn extends bn{constructor(Te){super(Te),this._duplexState|=se|rt,this._writableState=new Pn(this,Te),Te&&(Te.writev&&(this._writev=Te.writev),Te.write&&(this._write=Te.write),Te.final&&(this._final=Te.final))}_writev(Te,It){It(null)}_write(Te,It){this._writableState.autoBatch(Te,It)}_final(Te){Te(null)}static isBackpressured(Te){return(Te._duplexState&ln)!=0}write(Te){return this._writableState.updateNextTick(),this._writableState.push(Te)}end(Te){return this._writableState.updateNextTick(),this._writableState.end(Te),this}}class dn extends Xr{constructor(Te){super(Te),this._duplexState=se,this._writableState=new Pn(this,Te),Te&&(Te.writev&&(this._writev=Te.writev),Te.write&&(this._write=Te.write),Te.final&&(this._final=Te.final))}_writev(Te,It){It(null)}_write(Te,It){this._writableState.autoBatch(Te,It)}_final(Te){Te(null)}write(Te){return this._writableState.updateNextTick(),this._writableState.push(Te)}end(Te){return this._writableState.updateNextTick(),this._writableState.end(Te),this}}class fn extends dn{constructor(Te){super(Te),this._transformState=new Fn(this),Te&&(Te.transform&&(this._transform=Te.transform),Te.flush&&(this._flush=Te.flush))}_write(Te,It){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=Te:this._transform(Te,this._transformState.afterTransform)}_read(Te){if(this._transformState.data!==null){let It=this._transformState.data;this._transformState.data=null,Te(null),this._transform(It,this._transformState.afterTransform)}else Te(null)}_transform(Te,It){It(null,Te)}_flush(Te){Te(null)}_final(Te){this._transformState.afterFinal=Te,this._flush(s.bind(this))}}class Zr extends fn{}U.exports={pipeline:n,pipelinePromise:t,isStream:a,isStreamx:l,getStreamError:f,Stream:bn,Writable:yn,Readable:Xr,Duplex:dn,Transform:fn,PassThrough:Zr}},{events:123,"fast-fifo":127,"queue-tick":207}],265:[function(m,U,k){arguments[4][71][0].apply(k,arguments)},{dup:71,"safe-buffer":235}],266:[function(m,U,k){var p=m("./thirty-two");k.encode=p.encode,k.decode=p.decode},{"./thirty-two":267}],267:[function(m,U,k){(function(p){(function(){"use strict";function w(e){var o=I(e.length/5);return e.length%5==0?o:o+1}var v="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",h=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];k.encode=function(e){p.isBuffer(e)||(e=new p(e));for(var o=0,i=0,u=0,c=0,s=new p(8*w(e));o<e.length;){var t=e[o];3<u?(c=t&255>>u,u=(u+5)%8,c=c<<u|(o+1<e.length?e[o+1]:0)>>8-u,o++):(c=31&t>>8-(u+5),u=(u+5)%8,u===0&&o++),s[i]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(c),i++}for(o=i;o<s.length;o++)s[o]=61;return s},k.decode=function(e){var o=0,i=0,u=0,c;p.isBuffer(e)||(e=new p(e));for(var s=new p(N(5*e.length/8)),t=0;t<e.length&&e[t]!==61;t++){var n=e[t]-48;if(n<h.length)i=h[n],3>=o?(o=(o+5)%8,o===0?(c|=i,s[u]=c,u++,c=0):c|=255&i<<8-o):(o=(o+5)%8,c|=255&i>>>o,s[u]=c,u++,c=255&i<<8-o);else throw new Error("Invalid input - it is not base32 encoded string")}return s.slice(0,u)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],268:[function(m,U,k){function p(e){return 65535&(+Date.now()-e)/h}let w=65535,v=10,h=1e3/v;U.exports=function(e){let o=+Date.now(),i=v*(e||5),u=[0],c=1,s=p(o)-1&w;return function(t){let n=p(o),a=n-s&w;for(a>i&&(a=i),s=n;a--;)c===i&&(c=0),u[c]=u[c==0?i-1:c-1],c++;t&&(u[c-1]+=t);let l=u[c-1],f=u.length<i?0:u[c===i?0:c];return u.length<v?l:(l-f)*v/u.length}}},{}],269:[function(m,U,k){var p=m("buffer").Buffer;U.exports=function(w){if(w instanceof Uint8Array){if(w.byteOffset===0&&w.byteLength===w.buffer.byteLength)return w.buffer;if(typeof w.buffer.slice=="function")return w.buffer.slice(w.byteOffset,w.byteOffset+w.byteLength)}if(p.isBuffer(w)){for(var v=new Uint8Array(w.length),h=w.length,e=0;e<h;e++)v[e]=w[e];return v.buffer}throw new Error("Argument must be a Buffer")}},{buffer:76}],270:[function(m,U,k){(function(p){(function(){let w=m("debug")("torrent-discovery"),v=m("bittorrent-dht/client"),h=m("events").EventEmitter,e=m("run-parallel"),o=m("bittorrent-tracker/client"),i=m("bittorrent-lsd");class u extends h{constructor(s){if(super(),!s.peerId)throw new Error("Option `peerId` is required");if(!s.infoHash)throw new Error("Option `infoHash` is required");if(!p.browser&&!s.port)throw new Error("Option `port` is required");this.peerId=typeof s.peerId=="string"?s.peerId:s.peerId.toString("hex"),this.infoHash=typeof s.infoHash=="string"?s.infoHash.toLowerCase():s.infoHash.toString("hex"),this._port=s.port,this._userAgent=s.userAgent,this.destroyed=!1,this._announce=s.announce||[],this._intervalMs=s.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=n=>{this.emit("warning",n)},this._onError=n=>{this.emit("error",n)},this._onDHTPeer=(n,a)=>{a.toString("hex")!==this.infoHash||this.emit("peer",`${n.host}:${n.port}`,"dht")},this._onTrackerPeer=n=>{this.emit("peer",n,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(n,a)=>{this.emit("peer",n,"lsd")};let t=(n,a)=>{let l=new v(a);return l.on("warning",this._onWarning),l.on("error",this._onError),l.listen(n),this._internalDHT=!0,l};s.tracker===!1?this.tracker=null:s.tracker&&typeof s.tracker=="object"?(this._trackerOpts=Object.assign({},s.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=s.dht===!1||typeof v!="function"?null:s.dht&&typeof s.dht.addNode=="function"?s.dht:s.dht&&typeof s.dht=="object"?t(s.dhtPort,s.dht):t(s.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=s.lsd===!1||typeof i!="function"?null:this._createLSD()}updatePort(s){s===this._port||(this._port=s,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(s){this.tracker&&this.tracker.complete(s)}destroy(s){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);let t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(n=>{this.tracker.destroy(n)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(n=>{this.dht.destroy(n)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),t.push(n=>{this.lsd.destroy(n)})),e(t,s),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){let s=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new o(s);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(w("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,s=>{this._dhtAnnouncing=!1,w("dht announce complete"),s&&this.emit("warning",s),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+I(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){let s=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),t=new i(s);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onLSDPeer),t.start(),t}}U.exports=u}).call(this)}).call(this,m("_process"))},{_process:193,"bittorrent-dht/client":42,"bittorrent-lsd":42,"bittorrent-tracker/client":33,debug:91,events:123,"run-parallel":233}],271:[function(m,U,k){(function(p){(function(){class v{constructor(e){this.length=e,this.missing=e,this.sources=null,this._chunks=N(e/16384),this._remainder=e%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(e){return e===this._chunks-1?this._remainder:16384}chunkLengthRemaining(e){return this.length-e*16384}chunkOffset(e){return e*16384}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let e=this._reservations;for(;this._cancellations.length;)e=J(e,this._cancellations.pop());return this._reservations=this._chunks,e}return-1}cancel(e){this.init()&&this._cancellations.push(e)}cancelRemaining(e){this.init()&&(this._reservations=e)}get(e){return this.init()?this._buffer[e]:null}set(e,o,i){if(!this.init())return!1;let u=o.length,c=N(u/16384);for(let s=0;s<c;s++)if(!this._buffer[e+s]){let t=s*16384,n=o.slice(t,t+16384);this._buffered++,this._buffer[e+s]=n,this.missing-=n.length,this.sources.includes(i)||this.sources.push(i)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;let e=p.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,e}init(){return!this._flushed&&(!!this._buffer||(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],!0))}}Object.defineProperty(v,"BLOCK_LENGTH",{value:16384}),U.exports=v}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],272:[function(m,U,k){var p=m("buffer-alloc"),w=A(2,32);k.encodingLength=function(){return 8},k.encode=function(v,h,e){h||(h=p(8)),e||(e=0);var o=I(v/w),i=v-o*w;return h.writeUInt32BE(o,e),h.writeUInt32BE(i,e+4),h},k.decode=function(v,h){h||(h=0);var e=v.readUInt32BE(h),o=v.readUInt32BE(h+4);return e*w+o},k.encode.bytes=8,k.decode.bytes=8},{"buffer-alloc":73}],273:[function(m,U,k){function p(w,v){if(!(v>=w.length||0>v)){var h=w.pop();if(v<w.length){var e=w[v];return w[v]=h,e}return h}}U.exports=p},{}],274:[function(m,U,k){"use strict";function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function w(ee,ae,fe){if(ee&&i.isObject(ee)&&ee instanceof p)return ee;var Ee=new p;return Ee.parse(ee,ae,fe),Ee}function v(ee){return i.isString(ee)&&(ee=w(ee)),ee instanceof p?ee.format():p.prototype.format.call(ee)}function h(ee,ae){return w(ee,!1,!0).resolve(ae)}function e(ee,ae){return ee?w(ee,!1,!0).resolveObject(ae):ae}var o=m("punycode"),i=m("./util");k.parse=w,k.resolve=h,k.resolveObject=e,k.format=v,k.Url=p;var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["<",">",'"',"`"," ","\r",`
`,"	"],n=["{","}","|","\\","^","`"].concat(t),a=["'"].concat(n),l=["%","/","?",";","#"].concat(a),f=["/","?","#"],b=255,C=/^[+a-z0-9A-Z_-]{0,63}$/,$=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,W={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},q=m("querystring");p.prototype.parse=function(ee,ae,fe){if(!i.isString(ee))throw new TypeError("Parameter 'url' must be a string, not "+typeof ee);var Ee=ee.indexOf("?"),se=Ee!==-1&&Ee<ee.indexOf("#")?"?":"#",B=ee.split(se),K=/\\/g;B[0]=B[0].replace(K,"/"),ee=B.join(se);var j=ee;if(j=j.trim(),!fe&&ee.split("#").length===1){var x=s.exec(j);if(x)return this.path=j,this.href=j,this.pathname=x[1],x[2]?(this.search=x[2],this.query=ae?q.parse(this.search.substr(1)):this.search.substr(1)):ae&&(this.search="",this.query={}),this}var z=u.exec(j);if(z){z=z[0];var Z=z.toLowerCase();this.protocol=Z,j=j.substr(z.length)}if(fe||z||j.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=j.substr(0,2)==="//";oe&&!(z&&R[z])&&(j=j.substr(2),this.slashes=!0)}if(!R[z]&&(oe||z&&!L[z])){for(var Y=-1,le=0,ge;le<f.length;le++)ge=j.indexOf(f[le]),ge!==-1&&(Y===-1||ge<Y)&&(Y=ge);var Re,Ae;Ae=Y===-1?j.lastIndexOf("@"):j.lastIndexOf("@",Y),Ae!==-1&&(Re=j.slice(0,Ae),j=j.slice(Ae+1),this.auth=decodeURIComponent(Re)),Y=-1;for(var le=0,ge;le<l.length;le++)ge=j.indexOf(l[le]),ge!==-1&&(Y===-1||ge<Y)&&(Y=ge);Y===-1&&(Y=j.length),this.host=j.slice(0,Y),j=j.slice(Y),this.parseHost(),this.hostname=this.hostname||"";var De=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!De){for(var $e=this.hostname.split(/\./),le=0,Ye=$e.length,rt;le<Ye;le++)if(rt=$e[le],rt&&!rt.match(C)){for(var bt="",ut=0,Me=rt.length;ut<Me;ut++)bt+=127<rt.charCodeAt(ut)?"x":rt[ut];if(!bt.match(C)){var Ge=$e.slice(0,le),Ze=$e.slice(le+1),ft=rt.match($);ft&&(Ge.push(ft[1]),Ze.unshift(ft[2])),Ze.length&&(j="/"+Ze.join(".")+j),this.hostname=Ge.join(".");break}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),De||(this.hostname=o.toASCII(this.hostname));var Mt=this.port?":"+this.port:"",ue=this.hostname||"";this.host=ue+Mt,this.href+=this.host,De&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),j[0]!=="/"&&(j="/"+j))}if(!W[Z]){for(var le=0,Ye=a.length,G;le<Ye;le++)if(G=a[le],j.indexOf(G)!==-1){var te=encodeURIComponent(G);te===G&&(te=escape(G)),j=j.split(G).join(te)}}var de=j.indexOf("#");de!==-1&&(this.hash=j.substr(de),j=j.slice(0,de));var _e=j.indexOf("?");if(_e===-1?ae&&(this.search="",this.query={}):(this.search=j.substr(_e),this.query=j.substr(_e+1),ae&&(this.query=q.parse(this.query)),j=j.slice(0,_e)),j&&(this.pathname=j),L[Z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Mt=this.pathname||"",Pe=this.search||"";this.path=Mt+Pe}return this.href=this.format(),this},p.prototype.format=function(){var ee=this.auth||"";ee&&(ee=encodeURIComponent(ee),ee=ee.replace(/%3A/i,":"),ee+="@");var ae=this.protocol||"",fe=this.pathname||"",Ee=this.hash||"",se=!1,B="";this.host?se=ee+this.host:this.hostname&&(se=ee+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(se+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(B=q.stringify(this.query));var K=this.search||B&&"?"+B||"";return ae&&ae.substr(-1)!==":"&&(ae+=":"),this.slashes||(!ae||L[ae])&&se!==!1?(se="//"+(se||""),fe&&fe.charAt(0)!=="/"&&(fe="/"+fe)):!se&&(se=""),Ee&&Ee.charAt(0)!=="#"&&(Ee="#"+Ee),K&&K.charAt(0)!=="?"&&(K="?"+K),fe=fe.replace(/[?#]/g,function(j){return encodeURIComponent(j)}),K=K.replace("#","%23"),ae+se+fe+K+Ee},p.prototype.resolve=function(ee){return this.resolveObject(w(ee,!1,!0)).format()},p.prototype.resolveObject=function(ee){if(i.isString(ee)){var ae=new p;ae.parse(ee,!1,!0),ee=ae}for(var fe=new p,Ee=Object.keys(this),se=0,B;se<Ee.length;se++)B=Ee[se],fe[B]=this[B];if(fe.hash=ee.hash,ee.href==="")return fe.href=fe.format(),fe;if(ee.slashes&&!ee.protocol){for(var K=Object.keys(ee),j=0,x;j<K.length;j++)x=K[j],x!=="protocol"&&(fe[x]=ee[x]);return L[fe.protocol]&&fe.hostname&&!fe.pathname&&(fe.path=fe.pathname="/"),fe.href=fe.format(),fe}if(ee.protocol&&ee.protocol!==fe.protocol){if(!L[ee.protocol]){for(var z=Object.keys(ee),Z=0,oe;Z<z.length;Z++)oe=z[Z],fe[oe]=ee[oe];return fe.href=fe.format(),fe}if(fe.protocol=ee.protocol,!ee.host&&!R[ee.protocol]){for(var Ye=(ee.pathname||"").split("/");Ye.length&&!(ee.host=Ye.shift()););ee.host||(ee.host=""),ee.hostname||(ee.hostname=""),Ye[0]!==""&&Ye.unshift(""),2>Ye.length&&Ye.unshift(""),fe.pathname=Ye.join("/")}else fe.pathname=ee.pathname;if(fe.search=ee.search,fe.query=ee.query,fe.host=ee.host||"",fe.auth=ee.auth,fe.hostname=ee.hostname||ee.host,fe.port=ee.port,fe.pathname||fe.search){var Y=fe.pathname||"",le=fe.search||"";fe.path=Y+le}return fe.slashes=fe.slashes||ee.slashes,fe.href=fe.format(),fe}var ge=fe.pathname&&fe.pathname.charAt(0)==="/",Re=ee.host||ee.pathname&&ee.pathname.charAt(0)==="/",Ae=Re||ge||fe.host&&ee.pathname,De=Ae,$e=fe.pathname&&fe.pathname.split("/")||[],Ye=ee.pathname&&ee.pathname.split("/")||[],rt=fe.protocol&&!L[fe.protocol];if(rt&&(fe.hostname="",fe.port=null,fe.host&&($e[0]===""?$e[0]=fe.host:$e.unshift(fe.host)),fe.host="",ee.protocol&&(ee.hostname=null,ee.port=null,ee.host&&(Ye[0]===""?Ye[0]=ee.host:Ye.unshift(ee.host)),ee.host=null),Ae=Ae&&(Ye[0]===""||$e[0]==="")),Re)fe.host=ee.host||ee.host===""?ee.host:fe.host,fe.hostname=ee.hostname||ee.hostname===""?ee.hostname:fe.hostname,fe.search=ee.search,fe.query=ee.query,$e=Ye;else if(Ye.length)$e||($e=[]),$e.pop(),$e=$e.concat(Ye),fe.search=ee.search,fe.query=ee.query;else if(!i.isNullOrUndefined(ee.search)){if(rt){fe.hostname=fe.host=$e.shift();var bt=!!(fe.host&&0<fe.host.indexOf("@"))&&fe.host.split("@");bt&&(fe.auth=bt.shift(),fe.host=fe.hostname=bt.shift())}return fe.search=ee.search,fe.query=ee.query,i.isNull(fe.pathname)&&i.isNull(fe.search)||(fe.path=(fe.pathname?fe.pathname:"")+(fe.search?fe.search:"")),fe.href=fe.format(),fe}if(!$e.length)return fe.pathname=null,fe.path=fe.search?"/"+fe.search:null,fe.href=fe.format(),fe;for(var ut=$e.slice(-1)[0],Me=(fe.host||ee.host||1<$e.length)&&(ut==="."||ut==="..")||ut==="",Ge=0,Ze=$e.length;0<=Ze;Ze--)ut=$e[Ze],ut==="."?$e.splice(Ze,1):ut===".."?($e.splice(Ze,1),Ge++):Ge&&($e.splice(Ze,1),Ge--);if(!Ae&&!De)for(;Ge--;Ge)$e.unshift("..");Ae&&$e[0]!==""&&(!$e[0]||$e[0].charAt(0)!=="/")&&$e.unshift(""),Me&&$e.join("/").substr(-1)!=="/"&&$e.push("");var ft=$e[0]===""||$e[0]&&$e[0].charAt(0)==="/";if(rt){fe.hostname=fe.host=ft?"":$e.length?$e.shift():"";var bt=!!(fe.host&&0<fe.host.indexOf("@"))&&fe.host.split("@");bt&&(fe.auth=bt.shift(),fe.host=fe.hostname=bt.shift())}return Ae=Ae||fe.host&&$e.length,Ae&&!ft&&$e.unshift(""),$e.length?fe.pathname=$e.join("/"):(fe.pathname=null,fe.path=null),i.isNull(fe.pathname)&&i.isNull(fe.search)||(fe.path=(fe.pathname?fe.pathname:"")+(fe.search?fe.search:"")),fe.auth=ee.auth||fe.auth,fe.slashes=fe.slashes||ee.slashes,fe.href=fe.format(),fe},p.prototype.parseHost=function(){var ee=this.host,ae=c.exec(ee);ae&&(ae=ae[0],ae!==":"&&(this.port=ae.substr(1)),ee=ee.substr(0,ee.length-ae.length)),ee&&(this.hostname=ee)}},{"./util":275,punycode:202,querystring:205}],275:[function(m,U,k){"use strict";U.exports={isString:function(p){return typeof p=="string"},isObject:function(p){return typeof p=="object"&&p!==null},isNull:function(p){return p===null},isNullOrUndefined:function(p){return p==null}}},{}],276:[function(m,U,k){(function(p){(function(){let{EventEmitter:w}=m("events"),v=m("bencode"),h=m("bitfield").default,e=m("debug")("ut_metadata"),o=m("simple-sha1"),i=1e7,u=1e3,c=16384;U.exports=s=>{class t extends w{constructor(a){super(),this._wire=a,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new h(0,{grow:u}),p.isBuffer(s)&&this.setMetadata(s)}onHandshake(a,l,f){this._infoHash=a}onExtendedHandshake(a){return a.m&&a.m.ut_metadata?a.metadata_size?typeof a.metadata_size!="number"||i<a.metadata_size||0>=a.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=a.metadata_size,this._numPieces=N(this._metadataSize/c),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(a){let l,f;try{let b=a.toString(),C=b.indexOf("ee")+2;l=v.decode(b.substring(0,C)),f=a.slice(C)}catch{return}switch(l.msg_type){case 0:this._onRequest(l.piece);break;case 1:this._onData(l.piece,f,l.total_size);break;case 2:this._onReject(l.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(a){if(this._metadataComplete)return!0;e("set metadata");try{let l=v.decode(a).info;l&&(a=v.encode(l))}catch{}return!(this._infoHash&&this._infoHash!==o.sync(a))&&(this.cancel(),this.metadata=a,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",v.encode({info:v.decode(this.metadata)})),!0)}_send(a,l){let f=v.encode(a);p.isBuffer(l)&&(f=p.concat([f,l])),this._wire.extended("ut_metadata",f)}_request(a){this._send({msg_type:0,piece:a})}_data(a,l,f){let b={msg_type:1,piece:a};typeof f=="number"&&(b.total_size=f),this._send(b,l)}_reject(a){this._send({msg_type:2,piece:a})}_onRequest(a){if(!this._metadataComplete)return void this._reject(a);let l=a*c,f=l+c;f>this._metadataSize&&(f=this._metadataSize);let b=this.metadata.slice(l,f);this._data(a,b,this._metadataSize)}_onData(a,l,f){l.length>c||!this._fetching||(l.copy(this.metadata,a*c),this._bitfield.set(a),this._checkDone())}_onReject(a){0<this._remainingRejects&&this._fetching?(this._request(a),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=p.alloc(this._metadataSize);for(let a=0;a<this._numPieces;a++)this._request(a)}}_checkDone(){let a=!0;for(let l=0;l<this._numPieces;l++)if(!this._bitfield.get(l)){a=!1;break}a&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new h(0,{grow:u}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return t.prototype.name="ut_metadata",t}}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,bitfield:31,buffer:76,debug:91,events:123,"simple-sha1":248}],277:[function(m,U,k){(function(p){(function(){function w(h,e){function o(){if(!i){if(v("throwDeprecation"))throw new Error(e);v("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return h.apply(this,arguments)}if(v("noDeprecation"))return h;var i=!1;return o}function v(h){try{if(!p.localStorage)return!1}catch{return!1}var e=p.localStorage[h];return e!=null&&(e+"").toLowerCase()==="true"}U.exports=w}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],278:[function(m,U,k){(function(p){(function(){function w(){return{version:0,flags:0,entries:[]}}let v=m("binary-search"),h=m("events"),e=m("mp4-stream"),o=m("mp4-box-encoding"),i=m("range-slice-stream"),u=4096;class c extends h{constructor(a){super(),this._tracks=[],this._file=a,this._decoder=null,this._findMoov(0)}_findMoov(a){this._decoder&&this._decoder.destroy();let l=0;this._decoder=e.decode();let f=this._file.createReadStream({start:a});f.pipe(this._decoder);let b=C=>{C.type==="moov"?(this._decoder.removeListener("box",b),this._decoder.decode($=>{f.destroy();try{this._processMoov($)}catch(W){W.message=`Cannot parse mp4 file: ${W.message}`,this.emit("error",W)}})):C.length<u?(l+=C.length,this._decoder.ignore()):(this._decoder.removeListener("box",b),l+=C.length,f.destroy(),this._decoder.destroy(),this._findMoov(a+l))};this._decoder.on("box",b)}_processMoov(a){let l=a.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let $=0;$<l.length;$++){let W=l[$],R=W.mdia.minf.stbl,L=R.stsd.entries[0],q=W.mdia.hdlr.handlerType,ee,ae;if(q==="vide"&&L.type==="avc1"){if(this._hasVideo)continue;this._hasVideo=!0,ee="avc1",L.avcC&&(ee+=`.${L.avcC.mimeCodec}`),ae=`video/mp4; codecs="${ee}"`}else if(q==="soun"&&L.type==="mp4a"){if(this._hasAudio)continue;this._hasAudio=!0,ee="mp4a",L.esds&&L.esds.mimeCodec&&(ee+=`.${L.esds.mimeCodec}`),ae=`audio/mp4; codecs="${ee}"`}else continue;let fe=[],Ee=0,se=0,B=0,K=0,j=0,x=0,z=new s(R.stts.entries),Z=null;R.ctts&&(Z=new s(R.ctts.entries));for(let le=0;;){var f=R.stsc.entries[j];let ge=R.stsz.entries[Ee],Re=z.value.duration,Ae=Z?Z.value.compositionOffset:0,De=!0;R.stss&&(De=R.stss.entries[le]===Ee+1);let $e=R.stco||R.co64;if(fe.push({size:ge,duration:Re,dts:x,presentationOffset:Ae,sync:De,offset:K+$e.entries[B]}),Ee++,Ee>=R.stsz.entries.length)break;if(se++,K+=ge,se>=f.samplesPerChunk){se=0,K=0,B++;let Ye=R.stsc.entries[j+1];Ye&&B+1>=Ye.firstChunk&&j++}x+=Re,z.inc(),Z&&Z.inc(),De&&le++}W.mdia.mdhd.duration=0,W.tkhd.duration=0;let oe=f.sampleDescriptionId,Y={type:"moov",mvhd:a.mvhd,traks:[{tkhd:W.tkhd,mdia:{mdhd:W.mdia.mdhd,hdlr:W.mdia.hdlr,elng:W.mdia.elng,minf:{vmhd:W.mdia.minf.vmhd,smhd:W.mdia.minf.smhd,dinf:W.mdia.minf.dinf,stbl:{stsd:R.stsd,stts:w(),ctts:w(),stsc:w(),stsz:w(),stco:w(),stss:w()}}}}],mvex:{mehd:{fragmentDuration:a.mvhd.duration},trexs:[{trackId:W.tkhd.trackId,defaultSampleDescriptionIndex:oe,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}};this._tracks.push({fragmentSequence:1,trackId:W.tkhd.trackId,timeScale:W.mdia.mdhd.timeScale,samples:fe,currSample:null,currTime:null,moov:Y,mime:ae})}if(this._tracks.length===0)return void this.emit("error",new Error("no playable tracks"));a.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};let b=o.encode(this._ftyp),C=this._tracks.map($=>{let W=o.encode($.moov);return{mime:$.mime,init:p.concat([b,W])}});this.emit("ready",C)}seek(a){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let l=-1;if(this._tracks.map((f,b)=>{f.outStream&&f.outStream.destroy(),f.inStream&&(f.inStream.destroy(),f.inStream=null);let C=f.outStream=e.encode(),$=this._generateFragment(b,a);if(!$)return C.finalize();(l===-1||$.ranges[0].start<l)&&(l=$.ranges[0].start);let W=R=>{C.destroyed||C.box(R.moof,L=>{if(L)return this.emit("error",L);C.destroyed||f.inStream.slice(R.ranges).pipe(C.mediaData(R.length,ee=>{if(ee)return this.emit("error",ee);if(!C.destroyed){let ae=this._generateFragment(b);return ae?void W(ae):C.finalize()}}))})};W($)}),0<=l){let f=this._fileStream=this._file.createReadStream({start:l});this._tracks.forEach(b=>{b.inStream=new i(l,{highWaterMark:1e7}),f.pipe(b.inStream)})}return this._tracks.map(f=>f.outStream)}_findSampleBefore(a,l){let f=this._tracks[a],b=I(f.timeScale*l),C=v(f.samples,b,($,W)=>$.dts+$.presentationOffset-W);for(C===-1?C=0:0>C&&(C=-C-2);!f.samples[C].sync;)C--;return C}_generateFragment(a,l){let f=this._tracks[a],b;if(b=l===void 0?f.currSample:this._findSampleBefore(a,l),b>=f.samples.length)return null;let C=f.samples[b].dts,$=0,W=[];for(var R=b;R<f.samples.length;R++){let L=f.samples[R];if(L.sync&&L.dts-C>=f.timeScale*t)break;$+=L.size;let q=W.length-1;0>q||W[q].end!==L.offset?W.push({start:L.offset,end:L.offset+L.size}):W[q].end+=L.size}return f.currSample=R,{moof:this._generateMoof(a,b,R),ranges:W,length:$}}_generateMoof(a,l,f){let b=this._tracks[a],C=[],$=0;for(let R=l;R<f;R++){let L=b.samples[R];0>L.presentationOffset&&($=1),C.push({sampleDuration:L.duration,sampleSize:L.size,sampleFlags:L.sync?33554432:16842752,sampleCompositionTimeOffset:L.presentationOffset})}let W={type:"moof",mfhd:{sequenceNumber:b.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:b.trackId},tfdt:{baseMediaDecodeTime:b.samples[l].dts},trun:{flags:3841,dataOffset:8,entries:C,version:$}}]};return W.trafs[0].trun.dataOffset+=o.encodingLength(W),W}}class s{constructor(a,l){this._entries=a,this._countName=l||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}let t=1;U.exports=c}).call(this)}).call(this,m("buffer").Buffer)},{"binary-search":30,buffer:76,events:123,"mp4-box-encoding":172,"mp4-stream":175,"range-slice-stream":212}],279:[function(m,U,k){function p(e,o,i={}){return this instanceof p?(this.detailedError=null,this._elem=o,this._elemWrapper=new w(o),this._waitingFired=!1,this._trackMeta=null,this._file=e,this._tracks=null,this._elem.preload!=="none"&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},o.autoplay&&(o.preload="auto"),o.addEventListener("waiting",this._onWaiting),void o.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new p(e,o,i))}let w=m("mediasource"),v=m("pump"),h=m("./mp4-remuxer");p.prototype={_createMuxer(){this._muxer=new h(this._file),this._muxer.on("ready",e=>{this._tracks=e.map(o=>{let i=this._elemWrapper.createWriteStream(o.mime);i.on("error",c=>{this._elemWrapper.error(c)});let u={muxed:null,mediaSource:i,initFlushed:!1,onInitFlushed:null};return i.write(o.init,c=>{u.initFlushed=!0,u.onInitFlushed&&u.onInitFlushed(c)}),u}),(this._waitingFired||this._elem.preload==="auto")&&this._pump()}),this._muxer.on("error",e=>{this._elemWrapper.error(e)})},_pump(){let e=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((o,i)=>{let u=()=>{o.muxed&&(o.muxed.destroy(),o.mediaSource=this._elemWrapper.createWriteStream(o.mediaSource),o.mediaSource.on("error",c=>{this._elemWrapper.error(c)})),o.muxed=e[i],v(o.muxed,o.mediaSource)};o.initFlushed?u():o.onInitFlushed=c=>c?void this._elemWrapper.error(c):void u()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(e=>{e.muxed&&e.muxed.destroy()}),this._elem.src="")}},U.exports=p},{"./mp4-remuxer":278,mediasource:160,pump:201}],280:[function(m,U,k){function p(w,v){function h(){for(var e=Array(arguments.length),o=0;o<e.length;o++)e[o]=arguments[o];var i=w.apply(this,e),u=e[e.length-1];return typeof i=="function"&&i!==u&&Object.keys(u).forEach(function(c){i[c]=u[c]}),i}if(w&&v)return p(w)(v);if(typeof w!="function")throw new TypeError("need wrapper function");return Object.keys(w).forEach(function(e){h[e]=w[e]}),h}U.exports=p},{}],281:[function(m,U,k){function p(){for(var v={},h=0,e;h<arguments.length;h++)for(var o in e=arguments[h],e)w.call(e,o)&&(v[o]=e[o]);return v}U.exports=p;var w=Object.prototype.hasOwnProperty},{}],282:[function(m,U,k){U.exports={version:"1.9.7"}},{}],283:[function(m,U,k){(function(p){(function(){function w(Ee){return typeof Ee=="object"&&Ee!=null&&typeof Ee.pipe=="function"}function v(Ee){return typeof FileList!="undefined"&&Ee instanceof FileList}let h=m("events"),e=m("path"),o=m("simple-concat"),i=m("create-torrent"),u=m("debug"),c=m("bittorrent-dht/client"),s=m("load-ip-set"),t=m("run-parallel"),n=m("parse-torrent"),a=m("simple-peer"),l=m("queue-microtask"),f=m("randombytes"),b=m("simple-sha1"),C=m("throughput"),{ThrottleGroup:$}=m("speed-limiter"),W=m("./lib/conn-pool.js"),R=m("./lib/torrent.js"),{version:L}=m("./package.json"),q=u("webtorrent"),ee=L.replace(/\d*./g,Ee=>`0${Ee%100}`.slice(-2)).slice(0,4),ae=`-WW${ee}-`;class fe extends h{constructor(se={}){super(),this.peerId=typeof se.peerId=="string"?se.peerId:p.isBuffer(se.peerId)?se.peerId.toString("hex"):p.from(ae+f(9).toString("base64")).toString("hex"),this.peerIdBuffer=p.from(this.peerId,"hex"),this.nodeId=typeof se.nodeId=="string"?se.nodeId:p.isBuffer(se.nodeId)?se.nodeId.toString("hex"):f(20).toString("hex"),this.nodeIdBuffer=p.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=se.torrentPort||0,this.dhtPort=se.dhtPort||0,this.tracker=se.tracker===void 0?{}:se.tracker,this.lsd=se.lsd!==!1,this.torrents=[],this.maxConns=+se.maxConns||55,this.utp=fe.UTP_SUPPORT&&se.utp!==!1,this._downloadLimit=F(typeof se.downloadLimit=="number"?se.downloadLimit:-1,-1),this._uploadLimit=F(typeof se.uploadLimit=="number"?se.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,se.secure===!0&&m("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new $({rate:F(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new $({rate:F(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&(typeof this.tracker!="object"&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),typeof W=="function"?this._connPool=new W(this):l(()=>{this._onListening()}),this._downloadSpeed=C(),this._uploadSpeed=C(),se.dht!==!1&&typeof c=="function"?(this.dht=new c(Object.assign({},{nodeId:this.nodeId},se.dht)),this.dht.once("error",K=>{this._destroy(K)}),this.dht.once("listening",()=>{let K=this.dht.address();K&&(this.dhtPort=K.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=se.webSeeds!==!1;let B=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};typeof s=="function"&&se.blocklist!=null?s(se.blocklist,{headers:{"user-agent":`WebTorrent/${L} (https://webtorrent.io)`}},(K,j)=>K?console.error(`Failed to load blocklist: ${K.message}`):(this.blocked=j,void B())):l(B)}loadWorker(se,B=()=>{}){if(!(se instanceof ServiceWorker))throw new Error("Invalid worker registration");if(se.state!=="activated")throw new Error("Worker isn't activated");let K=2e4;this.serviceWorker=se,navigator.serviceWorker.addEventListener("message",j=>{let{data:x}=j;if(!x.type||!x.type==="webtorrent"||!x.url)return null;let[z,...Z]=x.url.slice(x.url.indexOf(x.scope+"webtorrent/")+11+x.scope.length).split("/");if(Z=decodeURI(Z.join("/")),!z||!Z)return null;let[oe]=j.ports,Y=this.get(z)&&this.get(z).files.find($e=>$e.path===Z);if(!Y)return null;let[le,ge,Re]=Y._serve(x),Ae=ge&&ge[Symbol.asyncIterator](),De=()=>{oe.onmessage=null,ge&&ge.destroy(),Re&&Re.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};oe.onmessage=async $e=>{if($e.data){let Ye;try{Ye=(await Ae.next()).value}catch{}oe.postMessage(Ye),Ye||De(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),K))}else De()},this.workerPortCount++,oe.postMessage(le)}),fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/cancel/`).then(j=>{j.body.cancel()}),B(null,this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){let se=this.torrents.filter(j=>j.progress!==1),B=se.reduce((j,x)=>j+x.downloaded,0),K=se.reduce((j,x)=>j+(x.length||0),0)||1;return B/K}get ratio(){let se=this.torrents.reduce((K,j)=>K+j.uploaded,0),B=this.torrents.reduce((K,j)=>K+j.received,0)||1;return se/B}get(se){if(se instanceof R){if(this.torrents.includes(se))return se}else{let B;try{B=n(se)}catch{}if(!B)return null;if(!B.infoHash)throw new Error("Invalid torrent identifier");for(let K of this.torrents)if(K.infoHash===B.infoHash)return K}return null}add(se,B={},K=()=>{}){function j(){Z.removeListener("_infoHash",x),Z.removeListener("ready",z),Z.removeListener("close",j)}if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,K]=[{},B]);let x=()=>{if(!this.destroyed){for(let oe of this.torrents)if(oe.infoHash===Z.infoHash&&oe!==Z)return Z._destroy(new Error(`Cannot add duplicate torrent ${Z.infoHash}`)),void K(oe)}},z=()=>{this.destroyed||(K(Z),this.emit("torrent",Z))};this._debug("add"),B=B?Object.assign({},B):{};let Z=new R(se,this,B);return this.torrents.push(Z),Z.once("_infoHash",x),Z.once("ready",z),Z.once("close",j),Z}seed(se,B,K){if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,K]=[{},B]),this._debug("seed"),B=B?Object.assign({},B):{},B.skipVerify=!0;let j=typeof se=="string";j&&(B.path=e.dirname(se)),B.createdBy||(B.createdBy=`WebTorrent/${ee}`);let x=Y=>{let le=[ge=>j||B.preloadedStore?ge():void Y.load(oe,ge)];this.dht&&le.push(ge=>{Y.once("dhtAnnounce",ge)}),t(le,ge=>this.destroyed?void 0:ge?Y._destroy(ge):void z(Y))},z=Y=>{this._debug("on seed"),typeof K=="function"&&K(Y),Y.emit("seed"),this.emit("seed",Y)},Z=this.add(null,B,x),oe;return v(se)?se=Array.from(se):!Array.isArray(se)&&(se=[se]),t(se.map(Y=>le=>{!B.preloadedStore&&w(Y)?o(Y,(ge,Re)=>ge?le(ge):(Re.name=Y.name,void le(null,Re))):le(null,Y)}),(Y,le)=>this.destroyed?void 0:Y?Z._destroy(Y):void i.parseInput(le,B,(ge,Re)=>this.destroyed?void 0:ge?Z._destroy(ge):(oe=Re.map(Ae=>Ae.getStream),void i(le,B,(Ae,De)=>{if(!this.destroyed){if(Ae)return Z._destroy(Ae);let $e=this.get(De);$e?(console.warn("A torrent with the same id is already being seeded"),Z._destroy(),typeof K=="function"&&K($e)):Z._onTorrentId(De)}})))),Z}remove(se,B,K){if(typeof B=="function")return this.remove(se,null,B);if(this._debug("remove"),!this.get(se))throw new Error(`No torrent with id ${se}`);this._remove(se,B,K)}_remove(se,B,K){if(typeof B=="function")return this._remove(se,null,B);let j=this.get(se);j&&(this.torrents.splice(this.torrents.indexOf(j),1),j.destroy(B,K),this.dht&&this.dht._tables.remove(j.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(se){return se=+se,!(isNaN(se)||!isFinite(se)||-1>se)&&(this._downloadLimit=se,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(se){return se=+se,!(isNaN(se)||!isFinite(se)||-1>se)&&(this._uploadLimit=se,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(se){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,se)}_destroy(se,B){this._debug("client destroy"),this.destroyed=!0;let K=this.torrents.map(j=>x=>{j.destroy(x)});this._connPool&&K.push(j=>{this._connPool.destroy(j)}),this.dht&&K.push(j=>{this.dht.destroy(j)}),t(K,B),se&&this.emit("error",se),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){let se=this._connPool.tcpServer.address();se&&(this.torrentPort=se.port)}this.emit("listening")}_debug(){let se=[].slice.call(arguments);se[0]=`[${this._debugId}] ${se[0]}`,q(...se)}_getByHash(se){for(let B of this.torrents)if(B.infoHashHash||(B.infoHashHash=b.sync(p.from("72657132"+B.infoHash,"hex"))),se===B.infoHashHash)return B;return null}}fe.WEBRTC_SUPPORT=a.WEBRTC_SUPPORT,fe.UTP_SUPPORT=W.UTP_SUPPORT,fe.VERSION=L,U.exports=fe}).call(this)}).call(this,m("buffer").Buffer)},{"./lib/conn-pool.js":42,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":282,"bittorrent-dht/client":42,buffer:76,"create-torrent":89,debug:91,events:123,"load-ip-set":42,"parse-torrent":184,path:185,"queue-microtask":206,randombytes:209,"run-parallel":233,"simple-concat":245,"simple-peer":247,"simple-sha1":248,"speed-limiter":251,throughput:268}]},{},[283])(283)})});var tc=ta(Wu(),1),Vd=ta(qu(),1),Wd=ta(Xu(),1);(function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])})();(function(){"use strict";var we=angular.module("ui.grid.autoResize",["ui.grid"]);we.directive("uiGridAutoResize",["gridUtil",function(Q){return{require:"uiGrid",scope:!1,link:function(A,O,I,D){var T;function _(){return{width:Q.elementWidth(O),height:Q.elementHeight(O)}}function E(d,M,g,F){O[0].offsetParent!==null&&(D.grid.gridWidth=g,D.grid.gridHeight=F,D.grid.queueGridRefresh().then(function(){D.grid.api.core.raise.gridDimensionChanged(M,d,F,g)}))}T=Q.debounce(E,400),A.$watchCollection(_,function(d,M){angular.equals(d,M)||T(M.width,M.height,d.width,d.height)})}}}])})();(function(){"use strict";var we=angular.module("ui.grid.cellNav",["ui.grid"]);we.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),we.factory("uiGridCellNavFactory",["uiGridCellNavConstants","GridRowColumn",function(Q,A){var O=function(D,T,_,E){this.rows=D.visibleRowCache,this.columns=T.visibleColumnCache,this.leftColumns=_?_.visibleColumnCache:[],this.rightColumns=E?E.visibleColumnCache:[],this.bodyContainer=D};return O.prototype.getFocusableCols=function(){var I=this.leftColumns.concat(this.columns,this.rightColumns);return I.filter(function(D){return D.colDef.allowCellFocus})},O.prototype.getFocusableRows=function(){return this.rows.filter(function(I){return I.allowCellFocus!==!1})},O.prototype.getNextRowCol=function(I,D,T){switch(I){case Q.direction.LEFT:return this.getRowColLeft(D,T);case Q.direction.RIGHT:return this.getRowColRight(D,T);case Q.direction.UP:return this.getRowColUp(D,T);case Q.direction.DOWN:return this.getRowColDown(D,T);case Q.direction.PG_UP:return this.getRowColPageUp(D,T);case Q.direction.PG_DOWN:return this.getRowColPageDown(D,T)}},O.prototype.initializeSelection=function(){var I=this.getFocusableCols(),D=this.getFocusableRows();return I.length===0||D.length===0?null:new A(D[0],I[0])},O.prototype.getRowColLeft=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),E=T.indexOf(D),d=_.indexOf(I);E===-1&&(E=1);var M=E===0?T.length-1:E-1;return M>=E?d===0?new A(I,T[M]):new A(_[d-1],T[M]):new A(I,T[M])},O.prototype.getRowColRight=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),E=T.indexOf(D),d=_.indexOf(I);E===-1&&(E=0);var M=E===T.length-1?0:E+1;return M<=E?d===_.length-1?new A(I,T[M]):new A(_[d+1],T[M]):new A(I,T[M])},O.prototype.getRowColDown=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),E=T.indexOf(D),d=_.indexOf(I);return E===-1&&(E=0),d===_.length-1?new A(I,T[E]):new A(_[d+1],T[E])},O.prototype.getRowColPageDown=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),E=T.indexOf(D),d=_.indexOf(I);E===-1&&(E=0);var M=this.bodyContainer.minRowsToRender();return d>=_.length-M?new A(_[_.length-1],T[E]):new A(_[d+M],T[E])},O.prototype.getRowColUp=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),E=T.indexOf(D),d=_.indexOf(I);return E===-1&&(E=0),d===0?new A(I,T[E]):new A(_[d-1],T[E])},O.prototype.getRowColPageUp=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),E=T.indexOf(D),d=_.indexOf(I);E===-1&&(E=0);var M=this.bodyContainer.minRowsToRender();return d-M<0?new A(_[0],T[E]):new A(_[d-M],T[E])},O}]),we.service("uiGridCellNavService",["uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory",function(Q,A,O,I){var D={initializeGrid:function(T){T.registerColumnBuilder(D.cellNavColumnBuilder),T.cellNav={},T.cellNav.lastRowCol=null,T.cellNav.focusedCells=[],D.defaultGridOptions(T.options);var _={events:{cellNav:{navigate:function(E,d){},viewPortKeyDown:function(E,d){},viewPortKeyPress:function(E,d){}}},methods:{cellNav:{scrollToFocus:function(E,d){return D.scrollToFocus(T,E,d)},getFocusedCell:function(){return T.cellNav.lastRowCol},getCurrentSelection:function(){return T.cellNav.focusedCells},rowColSelectIndex:function(E){for(var d=-1,M=0;M<T.cellNav.focusedCells.length;M++)if(T.cellNav.focusedCells[M].col.uid===E.col.uid&&T.cellNav.focusedCells[M].row.uid===E.row.uid){d=M;break}return d}}}};T.api.registerEventsFromObject(_.events),T.api.registerMethodsFromObject(_.methods)},defaultGridOptions:function(T){T.modifierKeysToMultiSelectCells=T.modifierKeysToMultiSelectCells===!0,T.keyDownOverrides=T.keyDownOverrides||[]},decorateRenderContainers:function(T){var _=T.hasRightContainer()?T.renderContainers.right:null,E=T.hasLeftContainer()?T.renderContainers.left:null;E!==null&&(T.renderContainers.left.cellNav=new I(T.renderContainers.body,E,_,T.renderContainers.body)),_!==null&&(T.renderContainers.right.cellNav=new I(T.renderContainers.body,_,T.renderContainers.body,E)),T.renderContainers.body.cellNav=new I(T.renderContainers.body,T.renderContainers.body,E,_)},getDirection:function(T){return T.keyCode===Q.keymap.LEFT||T.keyCode===Q.keymap.TAB&&T.shiftKey?A.direction.LEFT:T.keyCode===Q.keymap.RIGHT||T.keyCode===Q.keymap.TAB?A.direction.RIGHT:T.keyCode===Q.keymap.UP||T.keyCode===Q.keymap.ENTER&&T.shiftKey?A.direction.UP:T.keyCode===Q.keymap.PG_UP?A.direction.PG_UP:T.keyCode===Q.keymap.DOWN||T.keyCode===Q.keymap.ENTER&&!(T.ctrlKey||T.altKey)?A.direction.DOWN:T.keyCode===Q.keymap.PG_DOWN?A.direction.PG_DOWN:null},cellNavColumnBuilder:function(T,_,E){var d=[];return T.allowCellFocus=T.allowCellFocus===void 0?!0:T.allowCellFocus,O.all(d)},scrollToFocus:function(T,_,E){var d=null,M=null;return typeof _!="undefined"&&_!==null&&(d=T.getRow(_)),typeof E!="undefined"&&E!==null&&(M=T.getColumn(E.name?E.name:E.field)),T.api.core.scrollToIfNecessary(d,M).then(function(){var g={row:d,col:M};d!==null&&M!==null&&T.cellNav.broadcastCellNav(g,null,null)})},getLeftWidth:function(T,_){var E=0;if(!_)return E;var d=T.renderContainers.body.visibleColumnCache.indexOf(_);T.renderContainers.body.visibleColumnCache.forEach(function(g,F){F<d&&(E+=g.drawnWidth)});var M=d===0?0:(d+1)/T.renderContainers.body.visibleColumnCache.length;return E+=_.drawnWidth*M,E}};return D}]),we.directive("uiGridCellnav",["uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$compile","i18nService",function(Q,A,O,I,D,T){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(_,E,d,M){var g=_,F=M.grid;Q.initializeGrid(F),M.cellNav={},M.cellNav.makeRowCol=function(N){return N instanceof I||(N=new I(N.row,N.col)),N},M.cellNav.getActiveCell=function(){var N=E[0].getElementsByClassName("ui-grid-cell-focus");if(N.length>0)return N[0]},M.cellNav.broadcastCellNav=F.cellNav.broadcastCellNav=function(N,J,pe){J=!(J===void 0||!J),N=M.cellNav.makeRowCol(N),M.cellNav.broadcastFocus(N,J,pe),g.$broadcast(A.CELL_NAV_EVENT,N,J,pe)},M.cellNav.clearFocus=F.cellNav.clearFocus=function(){F.cellNav.focusedCells=[],g.$broadcast(A.CELL_NAV_EVENT)},M.cellNav.broadcastFocus=function(N,J,pe){J=!(J===void 0||!J),N=M.cellNav.makeRowCol(N);var m=N.row,U=N.col,k=M.grid.api.cellNav.rowColSelectIndex(N);if(F.cellNav.lastRowCol===null||k===-1||F.cellNav.lastRowCol.col===U&&F.cellNav.lastRowCol.row===m){var p=new I(m,U);(F.cellNav.lastRowCol===null||F.cellNav.lastRowCol.row!==p.row||F.cellNav.lastRowCol.col!==p.col||F.options.enableCellEditOnFocus)&&(F.api.cellNav.raise.navigate(p,F.cellNav.lastRowCol,pe),F.cellNav.lastRowCol=p),M.grid.options.modifierKeysToMultiSelectCells&&J?F.cellNav.focusedCells.push(N):F.cellNav.focusedCells=[N]}else F.options.modifierKeysToMultiSelectCells&&J&&k>=0&&F.cellNav.focusedCells.splice(k,1)},M.cellNav.handleKeyDown=function(N){var J=Q.getDirection(N);if(J===null)return null;var pe="body";N.uiGridTargetRenderContainerId&&(pe=N.uiGridTargetRenderContainerId);var m=M.grid.api.cellNav.getFocusedCell();if(m){var U=M.grid.renderContainers[pe].cellNav.getNextRowCol(J,m.row,m.col),k=M.grid.renderContainers[pe].cellNav.getFocusableCols(),p=M.grid.api.cellNav.rowColSelectIndex(U);return J===A.direction.LEFT&&U.col===k[k.length-1]&&U.row===m.row&&N.keyCode===O.keymap.TAB&&N.shiftKey||J===A.direction.RIGHT&&U.col===k[0]&&U.row===m.row&&N.keyCode===O.keymap.TAB&&!N.shiftKey?(F.cellNav.focusedCells.splice(p,1),M.cellNav.clearFocus(),!0):(F.scrollToIfNecessary(U.row,U.col).then(function(){M.cellNav.broadcastCellNav(U,null,N)}),N.stopPropagation(),N.preventDefault(),!1)}}},post:function(_,E,d,M){var g=M.grid,F=!0;try{angular.module("ngAria")}catch{F=!1}function N(){var J='<div id="'+g.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',pe=D(J)(_);E.prepend(pe),_.$on(A.CELL_NAV_EVENT,function(m,U,k,p){if(p&&p.type==="focus")return;function w(c){c!==pe.text().trim()&&(pe[0].style.clip="rect(0px,0px,0px,0px)",pe[0].innerHTML="",pe[0].style.visibility="hidden",pe[0].style.visibility="visible",c!==""&&(pe[0].style.clip="auto",pe[0].appendChild(document.createTextNode(c+" ")),pe[0].style.visibility="hidden",pe[0].style.visibility="visible"))}function v(c){return", "+T.getSafeText("headerCell.aria.column")+" "+c.displayName}function h(c){var s="";return c.col.field==="selectionRowHeaderCol"&&(s=(c.row.isSelected?T.getSafeText("search.aria.selected"):T.getSafeText("search.aria.notSelected"))+", "),s+g.getCellDisplayValue(c.row,c.col)}for(var e=[],o=g.api.cellNav.getCurrentSelection(),i=0;i<o.length;i++){var u=h(o[i])+v(o[i].col);e.push(u)}w(e.toString())})}F&&N()}}}}}]),we.directive("uiGridRenderContainer",["$timeout","gridUtil","uiGridCellNavService","$compile","uiGridCellNavConstants",function(Q,A,O,I,D){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(T,_,E,d){var M=d[0],g=d[1],F=d[2];if(M.grid.api.cellNav){var N=g.containerId,J=M.grid;if(O.decorateRenderContainers(J),N==="body"){M.grid.options.modifierKeysToMultiSelectCells?_.attr("aria-multiselectable",!0):_.attr("aria-multiselectable",!1);var pe=I('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+J.id+"-aria-speakable "+J.id+'-grid-container" aria-owns="'+J.id+'-grid-container"></div>')(T);_.append(pe),pe.on("focus",function(U){U.uiGridTargetRenderContainerId=N;var k=M.grid.api.cellNav.getFocusedCell();k===null&&(k=M.grid.renderContainers[N].cellNav.getNextRowCol(D.direction.DOWN,null,null),k.row&&k.col&&M.cellNav.broadcastCellNav(k))}),F.setAriaActivedescendant=function(U){_.attr("aria-activedescendant",U)},F.removeAriaActivedescendant=function(U){_.attr("aria-activedescendant")===U&&_.attr("aria-activedescendant","")},M.focus=function(){A.focus.byElement(pe[0])};var m=null;pe.on("keydown",function(U){U.uiGridTargetRenderContainerId=N;var k=M.grid.api.cellNav.getFocusedCell(),p=M.grid.options.keyDownOverrides.some(function(v){return Object.keys(v).every(function(h){return v[h]===U[h]})}),w=p?null:M.cellNav.handleKeyDown(U);w===null&&(M.grid.api.cellNav.raise.viewPortKeyDown(U,k,M.cellNav.handleKeyDown),m=k)}),pe.on("keypress",function(U){m&&(Q(function(){M.grid.api.cellNav.raise.viewPortKeyPress(U,m)},4),m=null)}),T.$on("$destroy",function(){pe.off()})}}}}}}}]),we.directive("uiGridViewport",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(Q,A,O,I){},post:function(Q,A,O,I){var D=I[0],T=I[1];if(D.grid.api.cellNav){var _=T.containerId;if(_==="body"){var E=D.grid;E.api.core.on.scrollBegin(Q,function(){var d=D.grid.api.cellNav.getFocusedCell();d!==null&&T.colContainer.containsColumn(d.col)&&D.cellNav.clearFocus()}),E.api.core.on.scrollEnd(Q,function(d){var M=D.grid.api.cellNav.getFocusedCell();M!==null&&T.colContainer.containsColumn(M.col)&&D.cellNav.broadcastCellNav(M)}),E.api.cellNav.on.navigate(Q,function(){D.focus()})}}}}}}}),we.directive("uiGridCell",["uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(Q,A,O){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(I,D,T,_){var E=_[0],d=_[1];if(!E.grid.api.cellNav||!I.col.colDef.allowCellFocus)return;var M=E.grid;I.focused=!1,D.attr("tabindex",-1),D.find("div").on("click",function(m){E.cellNav.broadcastCellNav(new O(I.row,I.col),m.ctrlKey||m.metaKey,m),m.stopPropagation(),I.$apply()}),D.on("mousedown",g),E.grid.api.edit&&(E.grid.api.edit.on.beginCellEdit(I,function(){D.off("mousedown",g)}),E.grid.api.edit.on.afterCellEdit(I,function(){D.on("mousedown",g)}),E.grid.api.edit.on.cancelCellEdit(I,function(){D.on("mousedown",g)})),N();function g(m){m.preventDefault()}D.on("focus",function(m){E.cellNav.broadcastCellNav(new O(I.row,I.col),!1,m),m.stopPropagation(),I.$apply()}),I.$on(Q.CELL_NAV_EVENT,N);var F=E.grid.registerDataChangeCallback(function(m){pe(),I.$applyAsync(N)},[A.dataChange.ROW]);function N(){var m=M.cellNav.focusedCells.some(function(U,k){return U.row===I.row&&U.col===I.col});m?J():pe()}function J(){if(!I.focused){var m=D.find("div");m.addClass("ui-grid-cell-focus"),D.attr("aria-selected",!0),d.setAriaActivedescendant(D.attr("id")),I.focused=!0}}function pe(){if(I.focused){var m=D.find("div");m.removeClass("ui-grid-cell-focus"),D.attr("aria-selected",!1),d.removeAriaActivedescendant(D.attr("id")),I.focused=!1}}I.$on("$destroy",function(){F(),D.find("div").off(),D.off()})}}}])})();(function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["\xA4","\u060B","Ar","\u0243","\u0E3F","B/.","Br","Bs.","Bs.F.","GH\u20B5","\xA2","c","Ch.","\u20A1","C$","D","\u0434\u0435\u043D","\u062F\u062C",".\u062F.\u0628","\u062F.\u0639","JD","\u062F.\u0643","\u0644.\u062F","\u0434\u0438\u043D","\u062F.\u062A","\u062F.\u0645.","\u062F.\u0625","Db","$","\u20AB","Esc","\u20AC","\u0192","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","\u20B2","h","\u20B4","\u20AD","K\u010D","kr","kn","MK","ZK","Kz","K","L","Le","\u043B\u0432","E","lp","M","KM","MT","\u20A5","Nfk","\u20A6","Nu.","UM","T$","MOP$","\u20B1","Pt.","\xA3","\u062C.\u0645.","LL","LS","P","Q","q","R","R$","\u0631.\u0639.","\u0631.\u0642","\u0631.\u0633","\u17DB","RM","p","Rf.","\u20B9","\u20A8","SRe","Rp","\u20AA","Ksh","Sh.So.","USh","S/","SDR","\u0441\u043E\u043C","\u09F3	","WS$","\u20AE","VT","\u20A9","\xA5","z\u0142"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1,WHEN_NEEDED:2}})})();angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(we,Q,A,O){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(I,D,T,_){function E(){var g=I.col.compiledElementFn;g(I,function(F,N){D.append(F)})}if(_&&I.col.compiledElementFn)E();else if(_&&!I.col.compiledElementFn)I.col.getCompiledElementFn().then(function(g){g(I,function(F,N){D.append(F)})}).catch(angular.noop);else{var d=I.col.cellTemplate.replace(O.MODEL_COL_FIELD,"row.entity."+A.preEval(I.col.field)).replace(O.COL_FIELD,"grid.getCellValue(row, col)"),M=we(d)(I);D.append(M)}},post:function(I,D){var T=I.col.getColClass(!1),_;D.addClass(T);function E(N){var J=D;_&&(J.removeClass(_),_=null),angular.isFunction(I.col.cellClass)?_=I.col.cellClass(I.grid,I.row,I.col,I.rowRenderIndex,I.colRenderIndex):_=I.col.cellClass,J.addClass(_)}I.col.cellClass&&E();var d=I.grid.registerDataChangeCallback(E,[O.dataChange.COLUMN,O.dataChange.EDIT]);function M(N,J){if(N!==J){(_||I.col.cellClass)&&E();var pe=I.col.getColClass(!1);pe!==T&&(D.removeClass(T),D.addClass(pe),T=pe)}}var g=I.$watch("row",M);function F(){d(),g()}I.$on("$destroy",F),D.on("$destroy",F)}}}}}]);(function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(we,Q,A){var O={initialize:function(I,D){I.grid=D.grid,D.columnMenuScope=I,I.menuShown=!1},setColMenuItemWatch:function(I){var D=I.$watch("col.menuItems",function(T){typeof T!="undefined"&&T&&angular.isArray(T)?(T.forEach(function(_){(typeof _.context=="undefined"||!_.context)&&(_.context={}),_.context.col=I.col}),I.menuItems=I.defaultMenuItems.concat(T)):I.menuItems=I.defaultMenuItems});I.$on("$destroy",D)},getGridOption:function(I,D){return typeof I.grid!="undefined"&&I.grid&&I.grid.options&&I.grid.options[D]},sortable:function(I){return!!(this.getGridOption(I,"enableSorting")&&typeof I.col!="undefined"&&I.col&&I.col.enableSorting)},isActiveSort:function(I,D){return typeof I.col!="undefined"&&typeof I.col.sort!="undefined"&&typeof I.col.sort.direction!="undefined"&&I.col.sort.direction===D},suppressRemoveSort:function(I){return!!(I.col&&I.col.suppressRemoveSort)},hideable:function(I){return!!(this.getGridOption(I,"enableHiding")&&typeof I.col!="undefined"&&I.col&&(I.col.colDef&&I.col.colDef.enableHiding!==!1||!I.col.colDef)||!this.getGridOption(I,"enableHiding")&&I.col&&I.col.colDef&&I.col.colDef.enableHiding)},getDefaultMenuItems:function(I){return[{title:function(){return we.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(D){D.stopPropagation(),I.sortColumn(D,Q.ASC)},shown:function(){return O.sortable(I)},active:function(){return O.isActiveSort(I,Q.ASC)}},{title:function(){return we.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(D){D.stopPropagation(),I.sortColumn(D,Q.DESC)},shown:function(){return O.sortable(I)},active:function(){return O.isActiveSort(I,Q.DESC)}},{title:function(){return we.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(D){D.stopPropagation(),I.unsortColumn()},shown:function(){return O.sortable(I)&&typeof I.col!="undefined"&&typeof I.col.sort!="undefined"&&typeof I.col.sort.direction!="undefined"&&I.col.sort.direction!==null&&!O.suppressRemoveSort(I)}},{title:function(){return we.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return O.hideable(I)},action:function(D){D.stopPropagation(),I.hideColumn()}}]},getColumnElementPosition:function(I,D,T){var _={};return _.left=T[0].offsetLeft,_.top=T[0].offsetTop,_.parentLeft=T[0].offsetParent.offsetLeft,_.offset=0,D.grid.options.offsetLeft&&(_.offset=D.grid.options.offsetLeft),_.height=A.elementHeight(T,!0),_.width=A.elementWidth(T,!0),_},repositionMenu:function(I,D,T,_,E){var d=_[0].querySelectorAll(".ui-grid-menu"),M=A.closestElm(E,".ui-grid-render-container"),g=M.getBoundingClientRect().left-I.grid.element[0].getBoundingClientRect().left,F=M.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,N=A.elementWidth(d,!0),J=D.lastMenuPaddingRight?D.lastMenuPaddingRight:I.lastMenuPaddingRight?I.lastMenuPaddingRight:10;if(d.length!==0){var pe=d[0].querySelectorAll(".ui-grid-menu-mid");pe.length!==0&&(J=parseInt(A.getStyles(angular.element(d)[0]).paddingRight,10),I.lastMenuPaddingRight=J,D.lastMenuPaddingRight=J)}var m=T.left+g-F+T.parentLeft+T.width+J;m<T.offset+N&&(m=Math.max(T.left-F+T.parentLeft-J+N,T.offset+N)),_.css("left",m+"px"),_.css("top",T.top+T.height+"px")}};return O}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(we,Q,A,O,I){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(D,T,_,E){O.initialize(D,E),D.defaultMenuItems=O.getDefaultMenuItems(D),D.menuItems=D.defaultMenuItems,O.setColMenuItemWatch(D);function d(F){D.col&&(D.col.menuShown=F)}D.showMenu=function(F,N,J){d(!1),D.col=F,d(!0);var pe=O.getColumnElementPosition(D,F,N);D.menuShown?(D.colElement=N,D.colElementPosition=pe,D.hideThenShow=!0,D.$broadcast("hide-menu",{originalEvent:J})):(D.menuShown=!0,D.colElement=N,D.colElementPosition=pe,D.$broadcast("show-menu",{originalEvent:J}))},D.hideMenu=function(F){D.menuShown=!1,d(!1),F||D.$broadcast("hide-menu")},D.$on("menu-hidden",function(){var F=angular.element(T[0].querySelector(".ui-grid-menu-items"))[0];T[0].removeAttribute("style"),D.hideThenShow?(delete D.hideThenShow,D.$broadcast("show-menu"),D.menuShown=!0):(D.hideMenu(!0),D.col&&D.col.visible&&Q.focus.bySelector(I,".ui-grid-header-cell."+D.col.getColClass()+" .ui-grid-column-menu-button",D.col.grid,!1).catch(angular.noop)),F&&(F.onkeydown=null,angular.forEach(F.children,function(J){J.onkeydown=null}))}),D.$on("menu-shown",function(){we(function(){O.repositionMenu(D,D.col,D.colElementPosition,T,D.colElement);var F=D.menuItems.some(function(N){return N.shown()});F&&Q.focus.bySelector(I,".ui-grid-menu-items .ui-grid-menu-item:not(.ng-hide)",!0).catch(angular.noop),delete D.colElementPosition,delete D.columnElement,M()})}),D.sortColumn=function(F,N){F.stopPropagation(),D.grid.sortColumn(D.col,N,!0).then(function(){D.grid.refresh(),D.hideMenu()}).catch(angular.noop)},D.unsortColumn=function(){D.col.unsort(),D.grid.refresh(),D.hideMenu()};function M(){var F=angular.element(T[0].querySelector(".ui-grid-menu-items"))[0],N,J=[];F&&(F.onkeydown=function(U){U.keyCode===A.keymap.ESC&&(U.preventDefault(),D.hideMenu())},N=F.querySelectorAll(".ui-grid-menu-item:not(.ng-hide)"),angular.forEach(N,function(U){U.offsetParent!==null&&this.push(U)},J),J.length&&(J.length===1?J[0].onkeydown=function(U){pe(U,!0)}:(J[0].onkeydown=function(U){pe(U,!1,U.shiftKey,J.length-1)},J[J.length-1].onkeydown=function(U){pe(U,!1,!U.shiftKey,0)})));function pe(m,U,k,p){m.keyCode===A.keymap.TAB&&(U?m.preventDefault():k&&(m.preventDefault(),J[p].focus()))}}var g=function(){we(function(){var F=function(){return Q.focus.byId("grid-menu",D.grid)},N;D.grid.columns.some(function(m,U){if(angular.equals(m,D.col))return N=U,!0});var J;if(D.grid.columns.some(function(m,U){if(m.visible)if(U<N)J=m;else{if(U>N&&!J)return J=m,!0;if(U>N&&J)return!0}else return!1}),J){var pe=J.getColClass();Q.focus.bySelector(I,".ui-grid-header-cell."+pe+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(m){if(m!=="canceled")return F()}).catch(angular.noop)}else F()})};D.hideColumn=function(){D.col.colDef.visible=!1,D.col.visible=!1,D.grid.queueGridRefresh(),D.hideMenu(),D.grid.api.core.notifyDataChange(A.dataChange.COLUMN),D.grid.api.core.raise.columnVisibilityChanged(D.col),g()}},controller:["$scope",function(D){var T=this;D.$watch("menuItems",function(_){T.menuItems=_})}]}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(we,Q,A,O){return{compile:function(){return{pre:function(I,D){I.col.updateFilters=function(T){if(D.children().remove(),T){var _=I.col.filterHeaderTemplate;_===void 0&&I.col.providedFilterHeaderTemplate!==""?I.col.filterHeaderTemplatePromise&&I.col.filterHeaderTemplatePromise.then(function(){_=I.col.filterHeaderTemplate,D.append(we(_)(I))}):D.append(we(_)(I))}},I.$on("$destroy",function(){delete I.col.filterable,delete I.col.updateFilters})},post:function(I,D){I.aria=A.getSafeText("headerCell.aria"),I.removeFilter=function(T,_){T.term=null,O.focus.bySelector(D,".ui-grid-filter-input-"+_)}}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(we,Q,A,O){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(D,T){var _=D.col.footerCellTemplate;_===void 0&&D.col.providedFooterCellTemplate!==""?D.col.footerCellTemplatePromise&&D.col.footerCellTemplatePromise.then(function(){_=D.col.footerCellTemplate,T.append(O(_)(D))}):T.append(O(_)(D))},post:function(D,T,_,E){D.grid=E.grid;var d=D.col.getColClass(!1);T.addClass(d);var M,g=function(){var N=T;M&&(N.removeClass(M),M=null),angular.isFunction(D.col.footerCellClass)?M=D.col.footerCellClass(D.grid,D.row,D.col,D.rowRenderIndex,D.colRenderIndex):M=D.col.footerCellClass,N.addClass(M)};D.col.footerCellClass&&g(),D.col.updateAggregationValue();var F=D.grid.registerDataChangeCallback(g,[A.dataChange.COLUMN]);D.grid.api.core.on.rowsRendered(D,D.col.updateAggregationValue),D.grid.api.core.on.rowsRendered(D,g),D.$on("$destroy",F)}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(we,Q,A,O,I){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(D,T){return{pre:function(_,E,d,M){var g=M[0],F=M[1];_.grid=g.grid,_.colContainer=F.colContainer,F.footer=E;var N=_.grid.options.footerTemplate;O.getTemplate(N).then(function(J){var pe=angular.element(J),m=Q(pe)(_);if(E.append(m),F){var U=E[0].getElementsByClassName("ui-grid-footer-viewport")[0];U&&(F.footerViewport=U)}}).catch(angular.noop)},post:function(_,E,d,M){var g=M[0],F=M[1],N=g.grid;O.disableAnimations(E),F.footer=E;var J=E[0].getElementsByClassName("ui-grid-footer-viewport")[0];J&&(F.footerViewport=J)}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil",function(we,Q,A,O){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(I,D,T,_){I.grid=_.grid;var E=I.grid.options.gridFooterTemplate;O.getTemplate(E).then(function(d){var M=angular.element(d),g=Q(M)(I);D.append(g)}).catch(angular.noop)}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService","$rootScope",function(we,Q,A,O,I,D,T,_,E){var d=500,M=500;return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(g,F){var N=g.col.headerCellTemplate;N===void 0&&g.col.providedHeaderCellTemplate!==""?g.col.headerCellTemplatePromise&&g.col.headerCellTemplatePromise.then(function(){N=g.col.headerCellTemplate,F.append(we(N)(g))}):F.append(we(N)(g))},post:function(g,F,N,J){var pe=J[0],m=J[1];g.i18n={headerCell:_.getSafeText("headerCell"),sort:_.getSafeText("sort")},g.isSortPriorityVisible=function(){return g.col&&g.col.sort&&angular.isNumber(g.col.sort.priority)&&g.grid.columns.some(function(i,u){return angular.isNumber(i.sort.priority)&&i!==g.col})},g.getSortDirectionAriaLabel=function(){var i=g.col,u=i.sort&&i.sort.direction===D.ASC?g.i18n.sort.ascending:i.sort&&i.sort.direction===D.DESC?g.i18n.sort.descending:g.i18n.sort.none;return g.isSortPriorityVisible()&&(u=u+". "+g.i18n.headerCell.priority+" "+(i.sort.priority+1)),u},g.grid=pe.grid,g.renderContainer=pe.grid.renderContainers[m.containerId];var U=g.col.getColClass(!1);F.addClass(U),g.menuShown=!1,g.col.menuShown=!1,g.asc=D.ASC,g.desc=D.DESC;var k=angular.element(F[0].querySelectorAll(".ui-grid-cell-contents")),p,w,v=[];g.downFn=function(i){i.stopPropagation(),typeof i.originalEvent!="undefined"&&i.originalEvent!==void 0&&(i=i.originalEvent),!(i.button&&i.button!==0)&&(w=i.pageX,g.mousedownStartTime=new Date().getTime(),g.mousedownTimeout=Q(function(){},d),g.mousedownTimeout.then(function(){g.colMenu&&pe.columnMenuScope.showMenu(g.col,F,i)}).catch(angular.noop),pe.fireEvent(D.events.COLUMN_HEADER_CLICK,{event:i,columnName:g.col.colDef.name}),g.offAllEvents(),i.type==="touchstart"?(O.on("touchend",g.upFn),O.on("touchmove",g.moveFn)):i.type==="mousedown"&&(O.on("mouseup",g.upFn),O.on("mousemove",g.moveFn)))},g.upFn=function(i){i.stopPropagation(),Q.cancel(g.mousedownTimeout),g.offAllEvents(),g.onDownEvents(i.type);var u=new Date().getTime(),c=u-g.mousedownStartTime;c>d||g.sortable&&g.handleClick(i)},g.handleKeyDown=function(i){(i.keyCode===32||i.keyCode===13)&&(i.preventDefault(),g.handleClick(i))},g.moveFn=function(i){var u=i.pageX-w;u!==0&&(Q.cancel(g.mousedownTimeout),g.offAllEvents(),g.onDownEvents(i.type))},g.clickFn=function(i){i.stopPropagation(),k.off("click",g.clickFn)},g.offAllEvents=function(){k.off("touchstart",g.downFn),k.off("mousedown",g.downFn),O.off("touchend",g.upFn),O.off("mouseup",g.upFn),O.off("touchmove",g.moveFn),O.off("mousemove",g.moveFn),k.off("click",g.clickFn)},g.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":k.on("click",g.clickFn),k.on("touchstart",g.downFn),Q(function(){k.on("mousedown",g.downFn)},M);break;case"mousemove":case"mouseup":k.on("click",g.clickFn),k.on("mousedown",g.downFn),Q(function(){k.on("touchstart",g.downFn)},M);break;default:k.on("click",g.clickFn),k.on("touchstart",g.downFn),k.on("mousedown",g.downFn)}};var h=function(i){i&&(typeof g.col.updateFilters!="undefined"&&g.col.updateFilters(g.col.filterable),g.col.filterable?(g.col.filters.forEach(function(u,c){v.push(g.$watch("col.filters["+c+"].term",function(s,t){s!==t&&(pe.grid.api.core.raise.filterChanged(g.col),pe.grid.api.core.notifyDataChange(D.dataChange.COLUMN),pe.grid.queueGridRefresh())}))}),g.$on("$destroy",function(){v.forEach(function(u){u()})})):v.forEach(function(u){u()}))},e=function(){var i=F;p&&(i.removeClass(p),p=null),angular.isFunction(g.col.headerCellClass)?p=g.col.headerCellClass(g.grid,g.row,g.col,g.rowRenderIndex,g.colRenderIndex):p=g.col.headerCellClass,i.addClass(p),g.$applyAsync(function(){var c=g.grid.renderContainers.right&&g.grid.renderContainers.right.visibleColumnCache.length?g.grid.renderContainers.right:g.grid.renderContainers.body;g.isLastCol=pe.grid.options&&pe.grid.options.enableGridMenu&&g.col===c.visibleColumnCache[c.visibleColumnCache.length-1]}),g.sortable=!!g.col.enableSorting;var u=g.col.filterable;g.col.filterable=!!(pe.grid.options.enableFiltering&&g.col.enableFiltering),h(u!==g.col.filterable),g.colMenu=g.col.grid.options&&g.col.grid.options.enableColumnMenus!==!1&&g.col.colDef&&g.col.colDef.enableColumnMenu!==!1,g.offAllEvents(),(g.sortable||g.colMenu)&&(g.onDownEvents(),g.$on("$destroy",function(){g.offAllEvents()}))};e(),g.col.filterContainer==="columnMenu"&&g.col.filterable&&E.$on("menu-shown",function(){g.$applyAsync(function(){h(g.col.filterable)})});var o=g.grid.registerDataChangeCallback(e,[D.dataChange.COLUMN]);g.$on("$destroy",o),g.handleClick=function(i){pe.grid.sortColumn(g.col,i.shiftKey).then(function(){pe.columnMenuScope&&pe.columnMenuScope.hideMenu(),pe.grid.refresh()}).catch(angular.noop)},g.headerCellArrowKeyDown=function(i){(i.keyCode===D.keymap.SPACE||i.keyCode===D.keymap.ENTER)&&(i.preventDefault(),g.toggleMenu(i))},g.toggleMenu=function(i){i.stopPropagation(),pe.columnMenuScope.menuShown&&pe.columnMenuScope.col===g.col?pe.columnMenuScope.hideMenu():pe.columnMenuScope.showMenu(g.col,F)}}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(we,Q,A,O,I,D){var T="ui-grid/ui-grid-header",_="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(E,d,M,g){var F=g[0],N=g[1];E.grid=F.grid,E.colContainer=N.colContainer,pe();var J;E.grid.options.showHeader?J=E.grid.options.headerTemplate?E.grid.options.headerTemplate:T:J=_,O.getTemplate(J).then(function(U){var k=angular.element(U),p=Q(k)(E);if(d.replaceWith(p),d=p,pe(),N){var w=d[0].getElementsByClassName("ui-grid-header-viewport")[0];w&&(N.headerViewport=w,angular.element(w).on("scroll",m),E.$on("$destroy",function(){angular.element(w).off("scroll",m)}))}E.grid.queueRefresh()}).catch(angular.noop);function pe(){N.header=N.colContainer.header=d;var U=d[0].getElementsByClassName("ui-grid-header-canvas");U.length>0?N.headerCanvas=N.colContainer.headerCanvas=U[0]:N.headerCanvas=null}function m(){if(!F.grid.isScrollingHorizontally){var U=O.normalizeScrollLeft(N.headerViewport,F.grid),k=N.colContainer.scrollHorizontal(U),p=new D(F.grid,null,N.colContainer,D.Sources.ViewPortScroll);p.newScrollLeft=U,k>-1&&(p.x={percentage:k}),F.grid.scrollContainers(null,p)}}},post:function(E,d,M,g){var F=g[0],N=g[1],J=F.grid;O.disableAnimations(d);function pe(){var U=N.colContainer.visibleColumnCache,k="",p=0;return U.forEach(function(w){k=k+w.getColClassDefinition(),p+=w.drawnWidth}),N.colContainer.canvasWidth=p,k}N.header=d;var m=d[0].getElementsByClassName("ui-grid-header-viewport")[0];m&&(N.headerViewport=m),F&&F.grid.registerStyleComputation({priority:15,func:pe})}}}}}])})();(function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(we,Q,A){var O={initialize:function(I,D){D.gridMenuScope=I,I.grid=D,I.registeredMenuItems=[],I.$on("$destroy",function(){I.grid&&I.grid.gridMenuScope&&(I.grid.gridMenuScope=null),I.grid&&(I.grid=null),I.registeredMenuItems&&(I.registeredMenuItems=null)}),I.registeredMenuItems=[],D.api.registerMethod("core","addToGridMenu",O.addToGridMenu),D.api.registerMethod("core","removeFromGridMenu",O.removeFromGridMenu)},addToGridMenu:function(I,D){angular.isArray(D)?I.gridMenuScope?(I.gridMenuScope.registeredMenuItems=I.gridMenuScope.registeredMenuItems?I.gridMenuScope.registeredMenuItems:[],I.gridMenuScope.registeredMenuItems=I.gridMenuScope.registeredMenuItems.concat(D)):we.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):we.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(I,D){var T=-1;I&&I.gridMenuScope&&I.gridMenuScope.registeredMenuItems.forEach(function(_,E){_.id===D&&(T>-1?we.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):T=E)}),T>-1&&I.gridMenuScope.registeredMenuItems.splice(T,1)},getMenuItems:function(I){var D=[];I.grid.options.gridMenuCustomItems&&(angular.isArray(I.grid.options.gridMenuCustomItems)?D=D.concat(I.grid.options.gridMenuCustomItems):we.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var T=[{title:Q.getSafeText("gridMenu.clearAllFilters"),action:function(_){I.grid.clearAllFilters()},shown:function(){return I.grid.options.enableFiltering},order:100}];return D=D.concat(T),D=D.concat(I.registeredMenuItems),I.grid.options.gridMenuShowHideColumns!==!1&&(D=D.concat(O.showHideColumns(I))),D.sort(function(_,E){return _.order-E.order}),D},showHideColumns:function(I){var D=[];if(!I.grid.options.columnDefs||I.grid.options.columnDefs.length===0||I.grid.columns.length===0)return D;function T(E){return E.visible===!0||E.visible===void 0}function _(E){return T(E)?"ui-grid-icon-ok":"ui-grid-icon-cancel"}return I.grid.options.gridMenuTitleFilter=I.grid.options.gridMenuTitleFilter?I.grid.options.gridMenuTitleFilter:function(E){return E},I.grid.options.columnDefs.forEach(function(E,d){if(I.grid.options.enableHiding!==!1&&E.enableHiding!==!1||E.enableHiding){var M={icon:_(E),action:function(g){g.stopPropagation(),O.toggleColumnVisibility(this.context.gridCol),g.target&&g.target.firstChild&&(angular.element(g.target)[0].nodeName==="I"?g.target.className=_(this.context.gridCol.colDef):g.target.firstChild.className=_(this.context.gridCol.colDef))},shown:function(){return this.context.gridCol.colDef.enableHiding!==!1},context:{gridCol:I.grid.getColumn(E.name||E.field)},leaveOpen:!0,order:301+d};O.setMenuItemTitle(M,E,I.grid),D.push(M)}}),D.length&&D.unshift({title:Q.getSafeText("gridMenu.columns"),order:300,templateUrl:"ui-grid/ui-grid-menu-header-item"}),D},setMenuItemTitle:function(I,D,T){var _=T.options.gridMenuTitleFilter(D.displayName||we.readableColumnName(D.name)||D.field);typeof _=="string"?I.title=_:_.then?(I.title="",_.then(function(E){I.title=E},function(E){I.title=E}).catch(angular.noop)):(we.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),I.title="badconfig")},toggleColumnVisibility:function(I){I.colDef.visible=!(I.colDef.visible===!0||I.colDef.visible===void 0),I.grid.refresh(),I.grid.api.core.notifyDataChange(A.dataChange.COLUMN),I.grid.api.core.raise.columnVisibilityChanged(I)}};return O}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(we,Q,A,O){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(I,D,T,_){var E=_[0];I.i18n={aria:O.getSafeText("gridMenu.aria")},A.initialize(I,E.grid),I.shown=!1,I.toggleOnKeydown=function(d){(d.keyCode===Q.keymap.ENTER||d.keyCode===Q.keymap.SPACE||d.keyCode===Q.keymap.ESC&&I.shown)&&I.toggleMenu()},I.toggleMenu=function(){I.shown?(I.$broadcast("hide-menu"),I.shown=!1):(I.menuItems=A.getMenuItems(I),I.$broadcast("show-menu"),I.shown=!0)},I.$on("menu-hidden",function(){I.shown=!1,we.focus.bySelector(D,".ui-grid-icon-container")})}}}])})();(function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(we,Q,A,O,I,D,T){return{priority:0,scope:{menuItems:"=",autoHide:"=?",col:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(_,E,d,M){if(_.dynamicStyles="",M&&M.grid&&M.grid.options&&M.grid.options.gridMenuTemplate){var g=M.grid.options.gridMenuTemplate;I.getTemplate(g).then(function(J){var pe=angular.element(J),m=we(pe)(_);E.replaceWith(m)}).catch(angular.noop)}var F=function(J){var pe=J-M.grid.headerHeight-20;_.dynamicStyles=[".grid"+M.grid.id+" .ui-grid-menu-mid {","max-height: "+pe+"px;","}"].join(" ")};M&&(F(M.grid.gridHeight),M.grid.api.core.on.gridDimensionChanged(_,function(J,pe,m,U){F(m)})),_.i18n={close:T.getSafeText("columnMenu.close")},_.showMenu=function(J,pe){_.shown?_.shownMid||(_.shownMid=!0,_.$emit("menu-shown")):(_.shown=!0,Q(function(){_.shownMid=!0,_.$emit("menu-shown")}));var m="click";pe&&pe.originalEvent&&pe.originalEvent.type&&pe.originalEvent.type==="touchstart"&&(m=pe.originalEvent.type),angular.element(document).off("click touchstart",N),Q(function(){angular.element(document).on(m,N)})},_.hideMenu=function(J){_.shown&&(_.shownMid=!1,Q(function(){_.shownMid||(_.shown=!1,_.$emit("menu-hidden"))},40)),angular.element(document).off("click touchstart",N)},_.$on("hide-menu",function(J,pe){_.hideMenu(J,pe)}),_.$on("show-menu",function(J,pe){_.showMenu(J,pe)});var N=function(J){if(_.shown){var pe=M&&M.grid&&M.grid.options?M.grid.options.disableGridMenuHideOnScroll:null;if(J.type!=="scroll"||!pe){if(_.col&&_.col.filterContainer==="columnMenu"){var m=document.querySelector(".ui-grid-column-menu").querySelector("[ui-grid-filter]");if(m&&m.contains(J.target))return!1}_.$apply(function(){_.hideMenu()})}}};_.checkKeyDown=function(J){var pe=function(p){p.focus(),J.preventDefault()};if(J.keyCode===D.keymap.ESC)_.hideMenu();else if(J.keyCode===D.keymap.TAB){var m,U,k=E[0].querySelectorAll("button:not(.ng-hide)");k.length>0&&(m=k[0],U=k[k.length-1],J.target.parentElement.id===U.parentElement.id&&!J.shiftKey?pe(m):J.target.parentElement.id===m.parentElement.id&&J.shiftKey&&pe(U))}},(typeof _.autoHide=="undefined"||_.autoHide===void 0)&&(_.autoHide=!0),_.autoHide&&angular.element(A).on("resize",N),_.$on("$destroy",function(){angular.element(A).off("resize",N),angular.element(document).off("click touchstart",N)}),M&&_.$on("$destroy",M.grid.api.core.on.scrollBegin(_,N)),_.$on("$destroy",_.$on(D.events.ITEM_DRAGGING,N))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(we,Q,A){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(O,I){O.templateUrl&&we.getTemplate(O.templateUrl).then(function(D){var T=angular.element(D),_=Q(T)(O);I.replaceWith(_)}).catch(angular.noop)},post:function(O,I,D,T){var _=T[0];(typeof O.shown=="undefined"||O.shown===null)&&(O.shown=function(){return!0}),O.itemShown=function(){var E={};return O.context&&(E.context=O.context),typeof _!="undefined"&&_&&(E.grid=_.grid),O.shown.call(E)},O.itemAction=function(E,d){if(E.stopPropagation(),typeof O.action=="function"){var M={};if(O.context&&(M.context=O.context),typeof _!="undefined"&&_&&(M.grid=_.grid),O.action.call(M,E,d),!O.leaveOpen)O.$emit("hide-menu");else{var g=E.target.parentElement;angular.element(E.target)[0].nodeName==="I"&&(g=g.parentElement),we.focus.bySelector(g,"button[type=button]",!0)}}},O.label=function(){var E=O.name;return typeof O.name=="function"&&(E=O.name.call()),E},O.i18n=A.get()}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(Q){var A="uiGridOneBind",O=(Q.aria?A+"Aria":A)+(Q.directiveName?Q.directiveName:Q.tag);we.directive(O,["gridUtil",function(I){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(D,T,_,E){var d=function(g){var F;if(D.grid)F=D.grid;else if(D.col&&D.col.grid)F=D.col.grid;else if(!E.some(function(J){if(J&&J.grid)return F=J.grid,!0}))throw I.logError("["+O+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+g),new Error("No valid grid could be found");if(F){var N=new RegExp(F.id.toString());N.test(g)||(g=F.id.toString()+"-"+g)}return g},M=D.$watch(_[O],function(g){if(g){if(Q.appendGridId){var F=null;angular.forEach(g.split(" "),function(pe){F=(F?F+" ":"")+d(pe)}),g=F}switch(Q.method){case"attr":Q.aria?T[Q.method]("aria-"+Q.tag.toLowerCase(),g):T[Q.method](Q.tag.toLowerCase(),g);break;case"addClass":if(angular.isObject(g)&&!angular.isArray(g)){var N=[],J=!1;if(angular.forEach(g,function(pe,m){pe!==null&&typeof pe!="undefined"&&(J=!0,pe&&N.push(m))}),!J)return;g=N}if(g)T.addClass(angular.isArray(g)?g.join(" "):g);else return;break;default:T[Q.method](g);break}M()}},!0)}}}])})})();(function(){"use strict";var we=angular.module("ui.grid");we.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(Q,A,O,I,D){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(_,E,d,M){var g,F,N=M[0],J=M[1],pe=_.grid=N.grid;if(!_.rowContainerName)throw new Error("No row render container name specified");if(!_.colContainerName)throw new Error("No column render container name specified");if(!pe.renderContainers[_.rowContainerName])throw new Error('Row render container "'+_.rowContainerName+'" is not registered.');if(!pe.renderContainers[_.colContainerName])throw new Error('Column render container "'+_.colContainerName+'" is not registered.');g=_.rowContainer=pe.renderContainers[_.rowContainerName],F=_.colContainer=pe.renderContainers[_.colContainerName],J.containerId=_.containerId,J.rowContainer=g,J.colContainer=F},post:function(_,E,d,M){var g=M[0],F=M[1],N=g.grid,J=F.rowContainer,pe=F.colContainer,m=null,U=null,k=N.renderContainers[_.containerId];E.addClass("ui-grid-render-container-"+_.containerId),I.on.mousewheel(E,function(w){var v=new D(N,J,pe,D.Sources.RenderContainerMouseWheel);if(w.deltaY!==0){var h=w.deltaY*-1*w.deltaFactor;m=F.viewport[0].scrollTop,v.verticalScrollLength=J.getVerticalScrollLength();var e=(m+h)/v.verticalScrollLength;e>=1&&m<v.verticalScrollLength&&(F.viewport[0].scrollTop=v.verticalScrollLength),e<0?e=0:e>1&&(e=1),v.y={percentage:e,pixels:h}}if(w.deltaX!==0){var o=w.deltaX*w.deltaFactor;U=I.normalizeScrollLeft(F.viewport,N),v.horizontalScrollLength=pe.getCanvasWidth()-pe.getViewportWidth();var i=(U+o)/v.horizontalScrollLength;i<0?i=0:i>1&&(i=1),v.x={percentage:i,pixels:o}}w.deltaY!==0&&(v.atTop(m)||v.atBottom(m))||w.deltaX!==0&&(v.atLeft(U)||v.atRight(U))||(w.preventDefault(),w.stopPropagation(),v.fireThrottledScrollingEvent("",v))}),E.bind("$destroy",function(){E.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(w){E.unbind(w)})});function p(){var w="",v=pe.canvasWidth,h=pe.getViewportWidth(),e=J.getCanvasHeight(),o=J.getViewportHeight();pe.needsHScrollbarPlaceholder()&&(o-=N.scrollbarHeight);var i,u;if(i=u=pe.getHeaderViewportWidth(),w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-canvas { width: "+v+"px; height: "+e+"px; }",w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-header-canvas { width: "+(v+N.scrollbarWidth)+"px; }",k.explicitHeaderCanvasHeight){var c=document.querySelector(".grid"+g.grid.id+" .ui-grid-render-container-body .ui-grid-header-canvas");c&&(k.explicitHeaderCanvasHeight=c.offsetHeight),w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-header-canvas { height: "+k.explicitHeaderCanvasHeight+"px; }"}else w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-header-canvas { height: inherit; }";return w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-viewport { width: "+h+"px; height: "+o+"px; }",w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-header-viewport { width: "+i+"px; }",w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-footer-canvas { width: "+(v+N.scrollbarWidth)+"px; }",w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-footer-viewport { width: "+u+"px; }",w}g.grid.registerStyleComputation({priority:6,func:p})}}}}}]),we.controller("uiGridRenderContainer",["$scope","gridUtil",function(Q,A){}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridRow",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(we,Q,A,O){var I=O[0],D=O[1];we.grid=I.grid,we.colContainer=D.colContainer;var T,_;function E(){we.row.getRowTemplateFn.then(function(d){var M=we.$new();d(M,function(g,F){T&&(T.remove(),_.$destroy()),Q.empty().append(g),T=g,_=M})}).catch(angular.noop)}E(),we.$watch("row.getRowTemplateFn",function(d,M){d!==M&&E()})},post:function(we,Q){we.row.element=Q}}}}})})();(function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(we,Q){return{link:function(A,O){var I=Q(O.text(),!0);I&&A.$watch(I,function(D){for(var T=0;T<O.length;T++)O[T].textContent=D})}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent",function(we,Q){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(A,O,I,D){var T=D[0],_=D[1];A.containerCtrl=_;var E=_.rowContainer,d=_.colContainer,M=T.grid;A.grid=T.grid,A.rowContainer=_.rowContainer,A.colContainer=_.colContainer,_.viewport=O,M&&M.options&&M.options.customScroller?M.options.customScroller(O,F):O.on("scroll",F);var g=!1;function F(){var U=O[0].scrollTop,k=we.normalizeScrollLeft(O,M),p=E.scrollVertical(U),w=d.scrollHorizontal(k),v=new Q(M,E,d,Q.Sources.ViewPortScroll);v.newScrollLeft=k,v.newScrollTop=U,w>-1&&(v.x={percentage:w}),p>-1&&(v.y={percentage:p}),M.scrollContainers(A.$parent.containerId,v)}A.$parent.bindScrollVertical&&M.addVerticalScrollSync(A.$parent.containerId,N),A.$parent.bindScrollHorizontal&&(M.addHorizontalScrollSync(A.$parent.containerId,J),M.addHorizontalScrollSync(A.$parent.containerId+"header",pe),M.addHorizontalScrollSync(A.$parent.containerId+"footer",m));function N(U){_.prevScrollArgs=U,O[0].scrollTop=U.getNewScrollTop(E,_.viewport)}function J(U){_.prevScrollArgs=U;var k=U.getNewScrollLeft(d,_.viewport);O[0].scrollLeft=we.denormalizeScrollLeft(_.viewport,k,M)}function pe(U){var k=U.getNewScrollLeft(d,_.viewport);_.headerViewport&&(_.headerViewport.scrollLeft=we.denormalizeScrollLeft(_.viewport,k,M))}function m(U){var k=U.getNewScrollLeft(d,_.viewport);_.footerViewport&&(_.footerViewport.scrollLeft=we.denormalizeScrollLeft(_.viewport,k,M))}A.$on("$destroy",function(){O.off()})},controller:["$scope",function(A){this.rowStyle=function(){var O=A.rowContainer,I=A.colContainer,D={};if(O.currentTopRow!==0){var T="translateY("+O.currentTopRow*O.grid.options.rowHeight+"px)";D.transform=T,D["-webkit-transform"]=T,D["-ms-transform"]=T}return I.currentFirstColumn!==0&&(I.grid.isRTL()?D["margin-right"]=I.columnOffset+"px":D["margin-left"]=I.columnOffset+"px"),D}}]}}])})();(function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(Q,A,O){Q.$watch(O.uiGridVisible,function(I){A[I?"removeClass":"addClass"]("ui-grid-invisible")})}})})();(function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(Q,A,O,I,D,T,_,E,d){var M=this,g=[];M.grid=_.createGrid(Q.uiGrid),M.grid.appScope=M.grid.appScope||Q.$parent,A.addClass("grid"+M.grid.id),M.grid.rtl=I.getStyles(A[0]).direction==="rtl",Q.grid=M.grid,O.uiGridColumns&&g.push(O.$observe("uiGridColumns",function(U){M.grid.options.columnDefs=angular.isString(U)?angular.fromJson(U):U,M.grid.buildColumns().then(function(){M.grid.preCompileCellTemplates(),M.grid.refreshCanvas(!0)}).catch(angular.noop)}));function F(U){return U?U.length:0}M.grid.options.fastWatch?(M.uiGrid=Q.uiGrid,angular.isString(Q.uiGrid.data)?(g.push(Q.$parent.$watch(Q.uiGrid.data,pe)),g.push(Q.$parent.$watch(function(){if(M.grid.appScope[Q.uiGrid.data])return M.grid.appScope[Q.uiGrid.data].length},pe))):(g.push(Q.$parent.$watch(function(){return Q.uiGrid.data},pe)),g.push(Q.$parent.$watch(function(){return F(Q.uiGrid.data)},function(){pe(Q.uiGrid.data)}))),g.push(Q.$parent.$watch(function(){return Q.uiGrid.columnDefs},N)),g.push(Q.$parent.$watch(function(){return F(Q.uiGrid.columnDefs)},function(){N(Q.uiGrid.columnDefs)}))):(angular.isString(Q.uiGrid.data)?g.push(Q.$parent.$watchCollection(Q.uiGrid.data,pe)):g.push(Q.$parent.$watchCollection(function(){return Q.uiGrid.data},pe)),g.push(Q.$parent.$watchCollection(function(){return Q.uiGrid.columnDefs},N)));function N(U,k){U&&U!==k&&(M.grid.options.columnDefs=Q.uiGrid.columnDefs,M.grid.callDataChangeCallbacks(T.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}var J;function pe(U){var k=[];if(M.grid.options.fastWatch&&(angular.isString(Q.uiGrid.data)?U=M.grid.appScope.$eval(Q.uiGrid.data):U=Q.uiGrid.data),J=U,U){var p=M.grid.columns.length>(M.grid.rowHeaderColumns?M.grid.rowHeaderColumns.length:0);!p&&!O.uiGridColumns&&M.grid.options.columnDefs.length===0&&U.length>0&&M.grid.buildColumnDefsFromData(U),!p&&(M.grid.options.columnDefs.length>0||U.length>0)&&k.push(M.grid.buildColumns().then(function(){M.grid.preCompileCellTemplates()}).catch(angular.noop)),D.all(k).then(function(){M.grid.modifyRows(J).then(function(){M.grid.redrawInPlace(!0),Q.$evalAsync(function(){M.grid.refreshCanvas(!0),M.grid.callDataChangeCallbacks(T.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}var m=Q.$watch(function(){return M.grid.styleComputations},function(){M.grid.refreshCanvas(!0)});Q.$on("$destroy",function(){g.forEach(function(U){U()}),m()}),M.fireEvent=function(U,k){k=k||{},angular.isUndefined(k.grid)&&(k.grid=M.grid),Q.$broadcast(U,k)},M.innerCompile=function(k){d(k)(Q)}}]),angular.module("ui.grid").directive("uiGrid",we),we.$inject=["$window","gridUtil","uiGridConstants"];function we(Q,A,O){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(I,D,T,_){var E=_.grid;_.scrollbars=[],E.element=D;var d=100,M=20,g=0;N(),J(),E.renderingComplete(),F();function F(){D[0].offsetWidth<=0&&g<M?(setTimeout(F,d),g++):I.$applyAsync(J)}function N(){var U,k;angular.element(Q).on("resize",m),D.on("$destroy",function(){angular.element(Q).off("resize",m),U(),k()}),U=I.$watch(function(){return E.hasLeftContainer()},function(p,w){p!==w&&E.refreshCanvas(!0)}),k=I.$watch(function(){return E.hasRightContainer()},function(p,w){p!==w&&E.refreshCanvas(!0)})}function J(){E.gridWidth=I.gridWidth=A.elementWidth(D),E.canvasWidth=_.grid.gridWidth,E.gridHeight=I.gridHeight=A.elementHeight(D),E.gridHeight-E.scrollbarHeight<=E.options.rowHeight&&E.options.enableMinHeightCheck&&pe(),E.refreshCanvas(!0)}function pe(){var U=E.options.minRowsToShow*E.options.rowHeight,k=E.options.showHeader?E.options.headerRowHeight:0,p=E.calcFooterHeight(),w=0;E.options.enableHorizontalScrollbar===O.scrollbars.ALWAYS&&(w=A.getScrollbarWidth());var v=0;if(angular.forEach(E.options.columnDefs,function(i){i.hasOwnProperty("filter")?v<1&&(v=1):i.hasOwnProperty("filters")&&v<i.filters.length&&(v=i.filters.length)}),E.options.enableFiltering&&!v){var h=E.options.columnDefs.length&&E.options.columnDefs.every(function(i){return i.enableFiltering===!1});h||(v=1)}var e=v*k,o=k+U+p+w+e;D.css("height",o+"px"),E.gridHeight=I.gridHeight=A.elementHeight(D)}function m(){A.isVisible(D)&&(E.gridWidth=I.gridWidth=A.elementWidth(D),E.gridHeight=I.gridHeight=A.elementHeight(D),E.refreshCanvas(!0))}}}}}}})();(function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(we){return{restrict:"EA",replace:!0,template:`<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="'body'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>`,scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(A,O,I,D){var T=D.grid,_=0;O.addClass("ui-grid-pinned-container-"+A.side),(A.side==="left"||A.side==="right")&&(T.renderContainers[A.side].getViewportWidth=E);function E(){var g=this,F=0;g.visibleColumnCache.forEach(function(J){F+=J.drawnWidth});var N=g.getViewportAdjustment();return F=F+N.width,F}function d(){if(A.side==="left"||A.side==="right"){for(var g=T.renderContainers[A.side].visibleColumnCache,F=0,N=0;N<g.length;N++){var J=g[N];F+=J.drawnWidth||J.width||0}return F}}function M(){var g="";return(A.side==="left"||A.side==="right")&&(_=d(),O.attr("style",null),g+=".grid"+T.id+" .ui-grid-pinned-container-"+A.side+", .grid"+T.id+" .ui-grid-pinned-container-"+A.side+" .ui-grid-render-container-"+A.side+" .ui-grid-viewport { width: "+_+"px; } "),g}T.renderContainers.body.registerViewportAdjuster(function(g){return _=d(),g.width-=_,g.side=A.side,g}),T.registerStyleComputation({priority:15,func:M})}}}}}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu",column:"Column"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},selection:{aria:{row:"Row"},selectAll:"Select All",displayName:"Row Selection Checkbox"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),Q}])}])})();(function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(we,Q,A,O,I,D,T,_,E,d,M,g,F,N){var J=function(e){var o=this;if(e!==void 0&&typeof e.id!="undefined"&&e.id){if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.')}else throw new Error("No ID provided. An ID must be given when creating a grid.");o.id=e.id,delete e.id,o.options=D.initialize(e),o.appScope=o.options.appScopeProvider,o.headerHeight=o.options.headerRowHeight,o.footerHeight=o.calcFooterHeight(),o.columnFooterHeight=o.calcColumnFooterHeight(),o.rtl=!1,o.gridHeight=0,o.gridWidth=0,o.columnBuilders=[],o.rowBuilders=[],o.rowsProcessors=[],o.columnsProcessors=[],o.styleComputations=[],o.viewportAdjusters=[],o.rowHeaderColumns=[],o.dataChangeCallbacks={},o.verticalScrollSyncCallBackFns={},o.horizontalScrollSyncCallBackFns={},o.renderContainers={},o.renderContainers.body=new g("body",o),o.cellValueGetterCache={},o.getRowTemplateFn=null,o.rows=[],o.columns=[],o.isScrollingVertically=!1,o.isScrollingHorizontally=!1,o.scrollDirection=I.scrollDirection.NONE,o.disableScrolling=!1;function i(a){o.isScrollingVertically=!1,o.api.core.raise.scrollEnd(a),o.scrollDirection=I.scrollDirection.NONE}var u=O.debounce(i,o.options.scrollDebounce),c=O.debounce(i,0);function s(a){o.isScrollingHorizontally=!1,o.api.core.raise.scrollEnd(a),o.scrollDirection=I.scrollDirection.NONE}var t=O.debounce(s,o.options.scrollDebounce),n=O.debounce(s,0);o.flagScrollingVertically=function(a){!o.isScrollingVertically&&!o.isScrollingHorizontally&&o.api.core.raise.scrollBegin(a),o.isScrollingVertically=!0,o.options.scrollDebounce===0||!a.withDelay?c(a):u(a)},o.flagScrollingHorizontally=function(a){!o.isScrollingVertically&&!o.isScrollingHorizontally&&o.api.core.raise.scrollBegin(a),o.isScrollingHorizontally=!0,o.options.scrollDebounce===0||!a.withDelay?n(a):t(a)},o.scrollbarHeight=0,o.scrollbarWidth=0,o.options.enableHorizontalScrollbar!==I.scrollbars.NEVER&&(o.scrollbarHeight=O.getScrollbarWidth()),o.options.enableVerticalScrollbar!==I.scrollbars.NEVER&&(o.scrollbarWidth=O.getScrollbarWidth()),o.api=new E(o),o.api.registerMethod("core","refresh",this.refresh),o.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),o.api.registerMethod("core","refreshRows",this.refreshRows),o.api.registerMethod("core","queueRefresh",this.queueRefresh),o.api.registerMethod("core","handleWindowResize",this.handleWindowResize),o.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),o.api.registerMethod("core","scrollToIfNecessary",function(a,l){return o.scrollToIfNecessary(a,l)}),o.api.registerMethod("core","scrollTo",function(a,l){return o.scrollTo(a,l)}),o.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),o.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),o.api.registerMethod("core","sortHandleNulls",d.handleNulls),o.api.registerEvent("core","sortChanged"),o.api.registerEvent("core","columnVisibilityChanged"),o.api.registerMethod("core","notifyDataChange",this.notifyDataChange),o.api.registerMethod("core","clearAllFilters",this.clearAllFilters),o.registerDataChangeCallback(o.columnRefreshCallback,[I.dataChange.COLUMN]),o.registerDataChangeCallback(o.processRowsCallback,[I.dataChange.EDIT]),o.registerDataChangeCallback(o.updateFooterHeightCallback,[I.dataChange.OPTIONS]),o.registerStyleComputation({priority:10,func:o.getFooterStyles})};J.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var h=0;return this.options.showGridFooter&&(h+=this.options.gridFooterHeight),h+=this.calcColumnFooterHeight(),h},J.prototype.calcColumnFooterHeight=function(){var h=0;return this.options.showColumnFooter&&(h+=this.options.columnFooterHeight),h},J.prototype.getFooterStyles=function(){var h=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return h+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }",h},J.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},J.prototype.isRTL=function(){return this.rtl},J.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},J.prototype.buildColumnDefsFromData=function(h){this.options.columnDefs=O.getColumnsFromData(h,this.options.excludeProperties)},J.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},J.prototype.registerDataChangeCallback=function(e,o,i){var u=this,c=O.nextUid();return o||(o=[I.dataChange.ALL]),Array.isArray(o)||O.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+o),this.dataChangeCallbacks[c]={callback:e,types:o,_this:i},function(){delete u.dataChangeCallbacks[c]}},J.prototype.callDataChangeCallbacks=function(e,o){angular.forEach(this.dataChangeCallbacks,function(i,u){(i.types.indexOf(I.dataChange.ALL)!==-1||i.types.indexOf(e)!==-1||e===I.dataChange.ALL)&&(i._this?i.callback.apply(i._this,this,o):i.callback(this,o))},this)},J.prototype.notifyDataChange=function(e){var o=I.dataChange;e===o.ALL||e===o.COLUMN||e===o.EDIT||e===o.ROW||e===o.OPTIONS?this.callDataChangeCallbacks(e):O.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},J.prototype.columnRefreshCallback=function(e,o){e.buildColumns(o),e.queueGridRefresh()},J.prototype.processRowsCallback=function(e){e.queueGridRefresh()},J.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},J.prototype.getColumn=function(e){return pe(this.columns,function(o){return o.colDef.name===e})},J.prototype.getColDef=function(e){return pe(this.options.columnDefs,function(o){return o.name===e})},J.prototype.assignTypes=function(){var h=this;h.options.columnDefs.forEach(function(e,o){if(!e.type){var i=new T(e,o,h),u=h.rows.length>0?h.rows[0]:null;u?e.type=O.guessType(h.getCellValue(u,i)):e.type="string"}})},J.prototype.isRowHeaderColumn=function(e){return this.rowHeaderColumns.indexOf(e)!==-1},J.prototype.addRowHeaderColumn=function(e,o,i){var u=this;o===void 0&&(o=0);var c=new T(e,O.nextUid(),u);c.isRowHeader=!0,u.isRTL()?(u.createRightContainer(),c.renderContainer="right"):(u.createLeftContainer(),c.renderContainer="left"),u.columnBuilders[0](e,c,u.options).then(function(){c.enableFiltering=!1,c.enableSorting=!1,c.enableHiding=!1,c.headerPriority=o,u.rowHeaderColumns.push(c),u.rowHeaderColumns=u.rowHeaderColumns.sort(function(s,t){return s.headerPriority-t.headerPriority}),i||u.buildColumns().then(function(){u.preCompileCellTemplates(),u.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},J.prototype.getOnlyDataColumns=function(){var e=this,o=[];return e.columns.forEach(function(i){e.rowHeaderColumns.indexOf(i)===-1&&o.push(i)}),o},J.prototype.buildColumns=function(e){var o={orderByColumnDefs:!1};angular.extend(o,e);var i=this,u=[],c=i.rowHeaderColumns.length,s;for(s=0;s<i.columns.length;s++)i.getColDef(i.columns[s].name)||(i.columns.splice(s,1),s--);for(var t=i.rowHeaderColumns.length-1;t>=0;t--)i.columns.unshift(i.rowHeaderColumns[t]);if(i.options.columnDefs.forEach(function(l,f){i.preprocessColDef(l);var b=i.getColumn(l.name);b?b.updateColumnDef(l,!1):(b=new T(l,O.nextUid(),i),i.columns.splice(f+c,0,b)),i.columnBuilders.forEach(function(C){u.push(C.call(i,l,b,i.options))})}),o.orderByColumnDefs){var n=i.columns.slice(0),a=Math.min(i.options.columnDefs.length,i.columns.length);for(s=0;s<a;s++)i.columns[s+c].name!==i.options.columnDefs[s].name?n[s+c]=i.getColumn(i.options.columnDefs[s].name):n[s+c]=i.columns[s+c];i.columns.length=0,Array.prototype.splice.apply(i.columns,[0,0].concat(n))}return we.all(u).then(function(){i.rows.length>0&&i.assignTypes(),o.preCompileCellTemplates&&i.preCompileCellTemplates()}).catch(angular.noop)},J.prototype.preCompileCellTemplate=function(h){var e=this,o=h.cellTemplate.replace(I.MODEL_COL_FIELD,e.getQualifiedColField(h));o=o.replace(I.COL_FIELD,"grid.getCellValue(row, col)"),h.compiledElementFn=Q(o),h.compiledElementFnDefer&&h.compiledElementFnDefer.resolve(h.compiledElementFn)},J.prototype.preCompileCellTemplates=function(){var h=this;h.columns.forEach(function(e){e.cellTemplate?h.preCompileCellTemplate(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){h.preCompileCellTemplate(e)}).catch(angular.noop)})},J.prototype.getQualifiedColField=function(h){var e="row.entity";return h.field===I.ENTITY_BINDING?e:O.preEval(e+"."+h.field)},J.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new g("left",this,{disableColumnOffset:!0}))},J.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new g("right",this,{disableColumnOffset:!0}))},J.prototype.hasLeftContainer=function(){return this.renderContainers.left!==void 0},J.prototype.hasRightContainer=function(){return this.renderContainers.right!==void 0},J.prototype.preprocessColDef=function(e){var o=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(e.name===void 0&&e.field!==void 0){for(var i=e.field,u=2;o.getColumn(i);)i=e.field+u.toString(),u++;e.name=i}},J.prototype.newInN=function(e,o,i,u){for(var c=this,s=[],t=0;t<o.length;t++){for(var n=u?o[t][u]:o[t],a=!1,l=0;l<e.length;l++){var f=i?e[l][i]:e[l];if(c.options.rowEquality(n,f)){a=!0;break}}a||s.push(n)}return s};var pe=function(h,e){if(h&&h.length){if(angular.isFunction(h.find))return h.find(e)||null;var o=null;return h.every(function(i){return e(i)?(o=i,!1):!0}),o}return null};J.prototype.getRow=function(e,o){var i=this;return o=o==null?this.rows:o,pe(o,function(u){return i.options.rowEquality(u.entity,e)})},J.prototype.getRowsByKey=function(e,o,i,u){if(o==null)return null;u=u==null?this.rows:u;var c=e?function(s){return s.entity!=null&&s.entity.hasOwnProperty(o)&&s.entity[o]===i}:function(s){return s.hasOwnProperty(o)&&s[o]===i};return u.filter(c)},J.prototype.findRowByKey=function(e,o,i,u){var c=null;if(o!=null){u=u==null?this.rows:u;var s=e?function(t){return t.entity!=null&&t.entity.hasOwnProperty(o)&&t.entity[o]===i?(c=t,!1):!0}:function(t){return t.hasOwnProperty(o)&&t[o]===i?(c=t,!1):!0};u.every(s)}return c},J.prototype.modifyRows=function(e){var o=this,i=o.rows.slice(0),u=o.rowHashMap||o.createRowHashMap(),c=!0;o.rowHashMap=o.createRowHashMap(),o.rows.length=0,e.forEach(function(n,a){var l,f;o.options.enableRowHashing?f=u.get(n):f=o.getRow(n,i),f&&(l=f,l.entity=n,l.index!==a&&(l.index=a)),l||(l=o.processRowBuilders(new _(n,a,o))),o.rows.push(l),o.rowHashMap.put(n,l),l.isSelected||(c=!1)}),o.selection&&o.rows.length&&(o.selection.selectAll=c),o.assignTypes();var s=we.when(o.processRowsProcessors(o.rows)).then(function(n){return o.setVisibleRows(n)}).catch(angular.noop),t=we.when(o.processColumnsProcessors(o.columns)).then(function(n){return o.setVisibleColumns(n)}).catch(angular.noop);return we.all([s,t])},J.prototype.addRows=function(e){for(var o=this,i=o.rows.length,u=0;u<e.length;u++){var c=o.processRowBuilders(new _(e[u],u+i,o));if(o.options.enableRowHashing){var s=o.rowHashMap.get(c.entity);s&&(s.row=c)}o.rows.push(c)}},J.prototype.processRowBuilders=function(e){var o=this;return o.rowBuilders.forEach(function(i){i.call(o,e,o.options)}),e},J.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},J.prototype.registerRowsProcessor=function(e,o){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:o}),this.rowsProcessors.sort(function(u,c){return u.priority-c.priority})},J.prototype.removeRowsProcessor=function(e){var o=-1;this.rowsProcessors.forEach(function(i,u){i.processor===e&&(o=u)}),o!==-1&&this.rowsProcessors.splice(o,1)},J.prototype.processRowsProcessors=function(e){var o=this,i=e.slice(0);if(o.rowsProcessors.length===0)return we.when(i);var u=0,c=we.defer();function s(t,n){var a=o.rowsProcessors[t].processor;return we.when(a.call(o,n,o.columns)).then(function(f){if(!f)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(f))throw"Processor at index "+t+" did not return an array";if(t++,t<=o.rowsProcessors.length-1)return s(t,f);c.resolve(f)}).catch(function(l){throw l})}return s(0,i),c.promise},J.prototype.setVisibleRows=function(e){var o=this;for(var i in o.renderContainers){var u=o.renderContainers[i];u.canvasHeightShouldUpdate=!0,typeof u.visibleRowCache=="undefined"?u.visibleRowCache=[]:u.visibleRowCache.length=0}for(var c=0;c<e.length;c++){var s=e[c],t=typeof s.renderContainer!="undefined"&&s.renderContainer?s.renderContainer:"body";s.visible&&o.renderContainers[t].visibleRowCache.push(s)}o.api.core.raise.rowsVisibleChanged(this.api),o.api.core.raise.rowsRendered(this.api)},J.prototype.registerColumnsProcessor=function(e,o){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:o}),this.columnsProcessors.sort(function(u,c){return u.priority-c.priority})},J.prototype.removeColumnsProcessor=function(e){var o=this.columnsProcessors.indexOf(e);typeof o!="undefined"&&o!==void 0&&this.columnsProcessors.splice(o,1)},J.prototype.processColumnsProcessors=function(e){var o=this,i=e.slice(0);if(o.columnsProcessors.length===0)return we.when(i);var u=we.defer();function c(s,t){var n=o.columnsProcessors[s].processor;return we.when(n.call(o,t,o.rows)).then(function(l){if(!l)throw"Processor at index "+s+" did not return a set of renderable rows";if(!angular.isArray(l))throw"Processor at index "+s+" did not return an array";if(s++,s<=o.columnsProcessors.length-1)return c(s,i);u.resolve(i)}).catch(angular.noop)}return c(0,i),u.promise},J.prototype.setVisibleColumns=function(e){var o=this;for(var i in o.renderContainers){var u=o.renderContainers[i];u.visibleColumnCache.length=0}for(var c=0;c<e.length;c++){var s=e[c];s.visible&&(typeof s.renderContainer!="undefined"&&s.renderContainer?o.renderContainers[s.renderContainer].visibleColumnCache.push(s):o.renderContainers.body.visibleColumnCache.push(s))}},J.prototype.handleWindowResize=function(e){var o=this;return o.gridWidth=O.elementWidth(o.element),o.gridHeight=O.elementHeight(o.element),o.queueRefresh()},J.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&F.cancel(e.refreshCanceller),e.refreshCanceller=F(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},J.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&F.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=F(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},J.prototype.updateCanvasHeight=function(){var e=this;for(var o in e.renderContainers)if(e.renderContainers.hasOwnProperty(o)){var i=e.renderContainers[o];i.canvasHeightShouldUpdate=!0}},J.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(o,i){return o.priority===null?1:i.priority===null?-1:o.priority===null&&i.priority===null?0:o.priority-i.priority}).forEach(function(o){var i=o.func.call(e);angular.isString(i)&&(e.customStyles+=`
`+i)})},J.prototype.minColumnsToRender=function(){var e=this,o=this.getViewportWidth(),i=0,u=0;return e.columns.forEach(function(c,s){if(u<o)u+=c.drawnWidth,i++;else{for(var t=0,n=s;n>=s-i;n--)t+=e.columns[n].drawnWidth;t<o&&i++}}),i},J.prototype.getBodyHeight=function(){return this.getViewportHeight()},J.prototype.getViewportHeight=function(){var e=this,o=this.gridHeight-this.headerHeight-this.footerHeight,i=e.getViewportAdjustment();return o=o+i.height,o>0?o:0},J.prototype.getViewportWidth=function(){var e=this,o=this.gridWidth,i=e.getViewportAdjustment();return o=o+i.width,o},J.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},J.prototype.addVerticalScrollSync=function(h,e){this.verticalScrollSyncCallBackFns[h]=e},J.prototype.addHorizontalScrollSync=function(h,e){this.horizontalScrollSyncCallBackFns[h]=e},J.prototype.scrollContainers=function(h,e){if(e.y){var o=["body","left","right"];this.flagScrollingVertically(e),h==="body"?o=["left","right"]:h==="left"?o=["body","right"]:h==="right"&&(o=["body","left"]);for(var i=0;i<o.length;i++){var u=o[i];this.verticalScrollSyncCallBackFns[u]&&this.verticalScrollSyncCallBackFns[u](e)}}if(e.x){var c=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(e),h==="body"&&(c=["bodyheader","bodyfooter"]);for(var s=0;s<c.length;s++){var t=c[s];this.horizontalScrollSyncCallBackFns[t]&&this.horizontalScrollSyncCallBackFns[t](e)}}},J.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},J.prototype.removeViewportAdjuster=function(e){var o=this.viewportAdjusters.indexOf(e);typeof o!="undefined"&&o!==void 0&&this.viewportAdjusters.splice(o,1)},J.prototype.getViewportAdjustment=function(){var e=this,o={height:0,width:0};return e.viewportAdjusters.forEach(function(i){o=i.call(this,o)}),o},J.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},J.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},J.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},J.prototype.searchRows=function(e){return M.search(this,e,this.columns)},J.prototype.sortByColumn=function(e){return d.sort(this,e,this.columns)},J.prototype.getCellValue=function(e,o){return typeof e.entity["$$"+o.uid]!="undefined"?e.entity["$$"+o.uid].rendered:this.options.flatEntityAccess&&typeof o.field!="undefined"?e.entity[o.field]:(o.cellValueGetterCache||(o.cellValueGetterCache=A(e.getEntityQualifiedColField(o))),o.cellValueGetterCache(e))},J.prototype.getCellDisplayValue=function(e,o){if(!o.cellDisplayGetterCache){var i=o.cellFilter?" | "+o.cellFilter:"";if(typeof e.entity["$$"+o.uid]!="undefined")o.cellDisplayGetterCache=A(e.entity["$$"+o.uid].rendered+i);else if(this.options.flatEntityAccess&&typeof o.field!="undefined"){var u=o.field.replace(/(')|(\\)/g,"\\$&");o.cellDisplayGetterCache=A("entity['"+u+"']"+i)}else o.cellDisplayGetterCache=A(e.getEntityQualifiedColField(o)+i)}var c=angular.extend({},e,{col:o});return o.cellDisplayGetterCache(c)},J.prototype.getNextColumnSortPriority=function(){var e=this,o=0;return e.columns.forEach(function(i){i.sort&&i.sort.priority!==void 0&&i.sort.priority>=o&&(o=i.sort.priority+1)}),o},J.prototype.resetColumnSorting=function(e){var o=this;o.columns.forEach(function(i){i!==e&&!i.suppressRemoveSort&&(i.sort={})})},J.prototype.getColumnSorting=function(){var e=this,o=[],i;return i=e.columns.slice(0),i.sort(d.prioritySort).forEach(function(u){u.sort&&typeof u.sort.direction!="undefined"&&u.sort.direction&&(u.sort.direction===I.ASC||u.sort.direction===I.DESC)&&o.push(u)}),o},J.prototype.sortColumn=function(e,o,i){var u=this,c=null;if(typeof e=="undefined"||!e)throw new Error("No column parameter provided");if(typeof o=="boolean"?i=o:c=o,!i||u.options&&u.options.suppressMultiSort?(u.resetColumnSorting(e),e.sort.priority=void 0,e.sort.priority=u.getNextColumnSortPriority()):e.sort.priority===void 0&&(e.sort.priority=u.getNextColumnSortPriority()),c)e.sort.direction=c;else{var s=e.sortDirectionCycle.indexOf(e.sort&&e.sort.direction?e.sort.direction:null);s=(s+1)%e.sortDirectionCycle.length,e.colDef&&e.suppressRemoveSort&&!e.sortDirectionCycle[s]&&(s=(s+1)%e.sortDirectionCycle.length),e.sortDirectionCycle[s]?e.sort.direction=e.sortDirectionCycle[s]:m(e,u)}return u.api.core.raise.sortChanged(u,u.getColumnSorting()),we.when(e)};var m=function(e,o){o.columns.forEach(function(i){i.sort&&i.sort.priority!==void 0&&i.sort.priority>e.sort.priority&&(i.sort.priority-=1)}),e.sort={}};J.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},J.prototype.createRowHashMap=function(){var e=this,o=new v;return o.grid=e,o},J.prototype.refresh=function(e){var o=this,i=o.processRowsProcessors(o.rows).then(function(c){o.setVisibleRows(c)}).catch(angular.noop),u=o.processColumnsProcessors(o.columns).then(function(c){o.setVisibleColumns(c)}).catch(angular.noop);return we.all([i,u]).then(function(){o.refreshCanvas(!0),o.redrawInPlace(e)}).catch(angular.noop)},J.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(o){e.setVisibleRows(o),e.redrawInPlace(),e.refreshCanvas(!0)}).catch(angular.noop)},J.prototype.refreshCanvas=function(h){var e=this,o=we.defer(),i=[];for(var u in e.renderContainers)if(e.renderContainers.hasOwnProperty(u)){var c=e.renderContainers[u];if(c.canvasWidth===null||isNaN(c.canvasWidth))continue;(c.header||c.headerCanvas)&&(c.explicitHeaderHeight=c.explicitHeaderHeight||null,c.explicitHeaderCanvasHeight=c.explicitHeaderCanvasHeight||null,i.push(c))}return h&&e.buildStyles(),i.length>0?F(function(){var s=!1,t=0,n=0,a,l,f=function(L,q){return L!==q&&(s=!0),q};for(a=0;a<i.length;a++)if(l=i[a],!(l.canvasWidth===null||isNaN(l.canvasWidth))){if(l.header){var b=l.headerHeight=f(l.headerHeight,O.outerElementHeight(l.header)),C=O.getBorderSize(l.header,"top"),$=O.getBorderSize(l.header,"bottom"),W=parseInt(b-C-$,10);W=W<0?0:W,l.innerHeaderHeight=W,!l.explicitHeaderHeight&&W>t&&(t=W)}if(l.headerCanvas){var R=l.headerCanvasHeight=f(l.headerCanvasHeight,parseInt(O.outerElementHeight(l.headerCanvas),10));!l.explicitHeaderCanvasHeight&&R>n&&(n=R)}}for(a=0;a<i.length;a++)l=i[a],t>0&&typeof l.headerHeight!="undefined"&&l.headerHeight!==null&&(l.explicitHeaderHeight||l.headerHeight<t)&&(l.explicitHeaderHeight=f(l.explicitHeaderHeight,t)),n>0&&typeof l.headerCanvasHeight!="undefined"&&l.headerCanvasHeight!==null&&(l.explicitHeaderCanvasHeight||l.headerCanvasHeight<n)&&(l.explicitHeaderCanvasHeight=f(l.explicitHeaderCanvasHeight,n));h&&s&&e.buildStyles(),o.resolve()}):F(function(){o.resolve()}),o.promise};function U(h,e){return h||e>0?e:null}J.prototype.redrawInPlace=function(e){var o=this;for(var i in o.renderContainers){var u=o.renderContainers[i],c=U(e,u.prevScrollTop),s=U(e,u.prevScrollLeft),t=e||c>0?null:u.prevScrolltopPercentage;u.adjustRows(c,t),u.adjustColumns(s)}},J.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},J.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0};function k(h,e){var o=h/e;return o<=1?o:1}function p(h,e,o){var i=k(h,e);if(i!==o)return{percentage:k(h,e)}}function w(h,e,o){var i=h/e;if(i=i>1?1:i,i!==o)return{percentage:i}}J.prototype.scrollToIfNecessary=function(h,e){var o=this,i=new N(o,"uiGrid.scrollToIfNecessary"),u=o.renderContainers.body.visibleRowCache,c=o.renderContainers.body.visibleColumnCache,s=o.renderContainers.body.prevScrollTop;s=s<0?0:s;var t=o.renderContainers.body.prevScrollLeft,n=o.renderContainers.body.prevScrollTop+o.gridHeight-o.renderContainers.body.headerHeight-o.footerHeight-o.scrollbarHeight,a=o.renderContainers.body.prevScrollLeft+Math.ceil(o.renderContainers.body.getViewportWidth());if(h!==null){var l=u.indexOf(h),f=o.renderContainers.body.getCanvasHeight()-o.renderContainers.body.getViewportHeight(),b=l*o.options.rowHeight;b=b<0?0:b;var C;b<Math.floor(s)?(C=o.renderContainers.body.prevScrollTop-(s-b),e&&e.colDef&&e.colDef.enableCellEditOnFocus&&(C=C-o.footerHeight-o.scrollbarHeight),i.y=p(C,f,o.renderContainers.body.prevScrolltopPercentage)):b+o.options.rowHeight>Math.ceil(n)&&(C=b+o.options.rowHeight-n+o.renderContainers.body.prevScrollTop,i.y=p(C,f,o.renderContainers.body.prevScrolltopPercentage))}if(e!==null){for(var $=c.indexOf(e),W=o.renderContainers.body.getCanvasWidth()-o.renderContainers.body.getViewportWidth(),R=0,L=0;L<$;L++){var q=c[L];R+=q.drawnWidth}R=R<0?0:R;var ee=R+e.drawnWidth;ee=ee<0?0:ee;var ae;R<t?(ae=o.renderContainers.body.prevScrollLeft-(t-R),i.x=w(ae,W,o.renderContainers.body.prevScrollleftPercentage)):ee>a&&(ae=ee-a+o.renderContainers.body.prevScrollLeft,i.x=w(ae,W,o.renderContainers.body.prevScrollleftPercentage))}var fe=we.defer();if(i.y||i.x){i.withDelay=!1,o.scrollContainers("",i);var Ee=o.api.core.on.scrollEnd(null,function(){fe.resolve(i),Ee()})}else fe.resolve();return fe.promise},J.prototype.scrollTo=function(h,e){var o=null,i=null;return h!==null&&typeof h!="undefined"&&(o=this.getRow(h)),e!==null&&typeof e!="undefined"&&(i=this.getColumn(e.name?e.name:e.field)),this.scrollToIfNecessary(o,i)},J.prototype.clearAllFilters=function(e,o,i){if(e===void 0&&(e=!0),o===void 0&&(o=!1),i===void 0&&(i=!1),this.columns.forEach(function(u){u.filters.forEach(function(c){c.term=void 0,o&&(c.condition=void 0),i&&(c.flags=void 0)})}),e)return this.refreshRows()};function v(){}return v.prototype={put:function(h,e){this[this.grid.options.rowIdentity(h)]=e},get:function(h){return this[this.grid.options.rowIdentity(h)]},remove:function(h){var e=this[h=this.grid.options.rowIdentity(h)];return delete this[h],e}},J}])})();(function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow",function(we,Q,A,O,I){var D=function(E){this.grid=E,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",I.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",I.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};D.prototype.suppressEvents=function(_,E){var d=this,M=angular.isArray(_)?_:[_],g=d.listeners.filter(function(F){return M.some(function(N){return F.handler===N})});g.forEach(function(F){F.dereg()}),E(),g.forEach(function(F){F.dereg=T(F.eventId,F.handler,d.grid,F._this)})},D.prototype.registerEvent=function(_,E){var d=this;d[_]||(d[_]={});var M=d[_];M.on||(M.on={},M.raise={});var g=d.grid.id+_+E;M.raise[E]=function(){Q.$emit.apply(Q,[g].concat(Array.prototype.slice.call(arguments)))},M.on[E]=function(F,N,J){if(F!==null&&typeof F.$on=="undefined"){A.logError("asked to listen on "+_+".on."+E+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");return}var pe=T(g,N,d.grid,J),m={handler:N,dereg:pe,eventId:g,scope:F,_this:J};d.listeners.push(m);var U=function(){m.dereg();var k=d.listeners.indexOf(m);d.listeners.splice(k,1)};return F&&F.$on("$destroy",function(){U()}),U}};function T(_,E,d,M){return Q.$on(_,function(g){var F=Array.prototype.slice.call(arguments);F.splice(0,1),E.apply(M||d.api,F)})}return D.prototype.registerEventsFromObject=function(_){var E=this,d=[];angular.forEach(_,function(M,g){var F={name:g,events:[]};angular.forEach(M,function(N,J){F.events.push(J)}),d.push(F)}),d.forEach(function(M){M.events.forEach(function(g){E.registerEvent(M.name,g)})})},D.prototype.registerMethod=function(_,E,d,M){this[_]||(this[_]={});var g=this[_];g[E]=A.createBoundedWrapper(M||this.grid,d)},D.prototype.registerMethodsFromObject=function(_,E){var d=this,M=[];angular.forEach(_,function(g,F){var N={name:F,methods:[]};angular.forEach(g,function(J,pe){N.methods.push({name:pe,fn:J})}),M.push(N)}),M.forEach(function(g){g.methods.forEach(function(F){d.registerMethod(g.name,F.name,F.fn,E)})})},D}])})();(function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(we,Q,A){function O(D,T,_){var E=this;E.grid=_,E.uid=T,E.updateColumnDef(D,!0),E.aggregationValue=void 0,E.updateAggregationValue=function(){if(!E.aggregationType){E.aggregationValue=void 0;return}var d=0,M=E.grid.getVisibleRows(),g=function(){var F=[];return M.forEach(function(N){var J=E.grid.getCellValue(N,E),pe=Number(J);isNaN(pe)||F.push(pe)}),F};angular.isFunction(E.aggregationType)?E.aggregationValue=E.aggregationType(M,E):E.aggregationType===Q.aggregationTypes.count?E.aggregationValue=E.grid.getVisibleRowCount():E.aggregationType===Q.aggregationTypes.sum?(g().forEach(function(F){d+=F}),E.aggregationValue=d):E.aggregationType===Q.aggregationTypes.avg?(g().forEach(function(F){d+=F}),d=d/g().length,E.aggregationValue=d):E.aggregationType===Q.aggregationTypes.min?E.aggregationValue=Math.min.apply(null,g()):E.aggregationType===Q.aggregationTypes.max?E.aggregationValue=Math.max.apply(null,g()):E.aggregationValue="\xA0"},this.getAggregationValue=function(){return E.aggregationValue}}O.prototype.hideColumn=function(){this.colDef.visible=!1},O.prototype.setPropertyOrDefault=function(D,T,_){var E=this;typeof D[T]!="undefined"&&D[T]?E[T]=D[T]:typeof E[T]!="undefined"?E[T]=E[T]:E[T]=_||{}};function I(D){return D.displayName===void 0?we.readableColumnName(D.name):D.displayName}return O.prototype.updateColumnDef=function(D,T){var _=this;if(_.colDef=D,D.name===void 0)throw new Error("colDef.name is required for column at index "+_.grid.options.columnDefs.indexOf(D));if(_.displayName=I(D),!angular.isNumber(_.width)||!_.hasCustomWidth||D.allowCustomWidthOverride){var E=D.width,d="Cannot parse column width '"+E+"' for column named '"+D.name+"'";if(_.hasCustomWidth=!1,!angular.isString(E)&&!angular.isNumber(E))_.width="*";else if(angular.isString(E))if(we.endsWith(E,"%")){var M=E.replace(/%/g,""),g=parseInt(M,10);if(isNaN(g))throw new Error(d);_.width=E}else if(E.match(/^(\d+)$/))_.width=parseInt(E.match(/^(\d+)$/)[1],10);else if(E.match(/^\*+$/))_.width=E;else throw new Error(d);else _.width=E}function F(J){return angular.isString(J)||angular.isNumber(J)}["minWidth","maxWidth"].forEach(function(J){var pe=D[J],m="Cannot parse column "+J+" '"+pe+"' for column named '"+D.name+"'";if(J==="minWidth"&&!F(pe)&&angular.isDefined(_.grid.options.minimumColumnSize)&&(pe=_.grid.options.minimumColumnSize),!F(pe))_[J]=J==="minWidth"?30:9e3;else if(angular.isString(pe))if(pe.match(/^(\d+)$/))_[J]=parseInt(pe.match(/^(\d+)$/)[1],10);else throw new Error(m);else _[J]=pe}),_.field=D.field===void 0?D.name:D.field,typeof _.field!="string"&&we.logError("Field is not a string, this is likely to break the code, Field is: "+_.field),_.name=D.name,_.displayName=I(D),_.aggregationType=angular.isDefined(D.aggregationType)?D.aggregationType:null,_.footerCellTemplate=angular.isDefined(D.footerCellTemplate)?D.footerCellTemplate:null,typeof D.cellTooltip=="undefined"||D.cellTooltip===!1?_.cellTooltip=!1:D.cellTooltip===!0?_.cellTooltip=function(J,pe){return _.grid.getCellValue(J,pe)}:typeof D.cellTooltip=="function"?_.cellTooltip=D.cellTooltip:_.cellTooltip=function(J,pe){return pe.colDef.cellTooltip},typeof D.headerTooltip=="undefined"||D.headerTooltip===!1?_.headerTooltip=!1:D.headerTooltip===!0?_.headerTooltip=function(J){return J.displayName}:typeof D.headerTooltip=="function"?_.headerTooltip=D.headerTooltip:_.headerTooltip=function(J){return J.colDef.headerTooltip},_.footerCellClass=D.footerCellClass,_.cellClass=D.cellClass,_.headerCellClass=D.headerCellClass,_.cellFilter=D.cellFilter?D.cellFilter:"",_.sortCellFiltered=!!D.sortCellFiltered,_.filterCellFiltered=!!D.filterCellFiltered,_.headerCellFilter=D.headerCellFilter?D.headerCellFilter:"",_.footerCellFilter=D.footerCellFilter?D.footerCellFilter:"",_.visible=we.isNullOrUndefined(D.visible)||D.visible,_.headerClass=D.headerClass,_.enableSorting=typeof D.enableSorting!="undefined"?D.enableSorting:_.grid.options.enableSorting,_.sortingAlgorithm=D.sortingAlgorithm,_.sortDirectionCycle=typeof D.sortDirectionCycle!="undefined"?D.sortDirectionCycle:[null,Q.ASC,Q.DESC],typeof _.suppressRemoveSort=="undefined"&&(_.suppressRemoveSort=typeof D.suppressRemoveSort!="undefined"?D.suppressRemoveSort:!1),_.enableFiltering=typeof D.enableFiltering!="undefined"?D.enableFiltering:!0,_.filterContainer=typeof D.filterContainer!="undefined"?D.filterContainer:_.grid.options.filterContainer,_.setPropertyOrDefault(D,"menuItems",[]),T&&_.setPropertyOrDefault(D,"sort"),_.setPropertyOrDefault(D,"defaultSort");var N=[];D.filter?N.push(D.filter):D.filters?N=D.filters:N.push({}),T?(_.setPropertyOrDefault(D,"filter"),_.setPropertyOrDefault(D,"extraStyle"),_.setPropertyOrDefault(D,"filters",N)):_.filters.length===N.length&&_.filters.forEach(function(J,pe){typeof N[pe].placeholder!="undefined"&&(J.placeholder=N[pe].placeholder),typeof N[pe].ariaLabel!="undefined"&&(J.ariaLabel=N[pe].ariaLabel),typeof N[pe].flags!="undefined"&&(J.flags=N[pe].flags),typeof N[pe].type!="undefined"&&(J.type=N[pe].type),typeof N[pe].selectOptions!="undefined"&&(J.selectOptions=N[pe].selectOptions)})},O.prototype.unsort=function(){var D=this.sort.priority;this.grid.columns.forEach(function(T){T.sort&&T.sort.priority!==void 0&&T.sort.priority>D&&(T.sort.priority-=1)}),this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},O.prototype.getColClass=function(D){var T=Q.COL_CLASS_PREFIX+this.uid;return D?"."+T:T},O.prototype.isPinnedLeft=function(){return this.renderContainer==="left"},O.prototype.isPinnedRight=function(){return this.renderContainer==="right"},O.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},O.prototype.getRenderContainer=function(){var T=this,_=T.renderContainer;return(_===null||_===""||_===void 0)&&(_="body"),T.grid.renderContainers[_]},O.prototype.showColumn=function(){this.colDef.visible=!0},O.prototype.getAggregationText=function(){var D=this;if(D.colDef.aggregationHideLabel)return"";if(D.colDef.aggregationLabel)return D.colDef.aggregationLabel;switch(D.colDef.aggregationType){case Q.aggregationTypes.count:return A.getSafeText("aggregation.count");case Q.aggregationTypes.sum:return A.getSafeText("aggregation.sum");case Q.aggregationTypes.avg:return A.getSafeText("aggregation.avg");case Q.aggregationTypes.min:return A.getSafeText("aggregation.min");case Q.aggregationTypes.max:return A.getSafeText("aggregation.max");default:return""}},O.prototype.getCellTemplate=function(){var D=this;return D.cellTemplatePromise},O.prototype.getCompiledElementFn=function(){var D=this;return D.compiledElementFnDefer.promise},O}])})();(function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(we,Q){return{initialize:function(A){return A.onRegisterApi=A.onRegisterApi||angular.noop(),A.data=A.data||[],A.columnDefs=A.columnDefs||[],A.excludeProperties=A.excludeProperties||["$$hashKey"],A.enableRowHashing=A.enableRowHashing!==!1,A.rowIdentity=A.rowIdentity||function(I){return we.hashKey(I)},A.getRowIdentity=A.getRowIdentity||function(I){return I.$$hashKey},A.flatEntityAccess=A.flatEntityAccess===!0,A.showHeader=typeof A.showHeader!="undefined"?A.showHeader:!0,A.showHeader?A.headerRowHeight=typeof A.headerRowHeight!="undefined"?A.headerRowHeight:30:A.headerRowHeight=0,typeof A.rowHeight=="string"?A.rowHeight=parseInt(A.rowHeight)||30:A.rowHeight=A.rowHeight||30,A.minRowsToShow=typeof A.minRowsToShow!="undefined"?A.minRowsToShow:10,A.showGridFooter=A.showGridFooter===!0,A.showColumnFooter=A.showColumnFooter===!0,A.columnFooterHeight=typeof A.columnFooterHeight!="undefined"?A.columnFooterHeight:30,A.gridFooterHeight=typeof A.gridFooterHeight!="undefined"?A.gridFooterHeight:30,A.columnWidth=typeof A.columnWidth!="undefined"?A.columnWidth:50,A.maxVisibleColumnCount=typeof A.maxVisibleColumnCount!="undefined"?A.maxVisibleColumnCount:200,A.virtualizationThreshold=typeof A.virtualizationThreshold!="undefined"?A.virtualizationThreshold:20,A.columnVirtualizationThreshold=typeof A.columnVirtualizationThreshold!="undefined"?A.columnVirtualizationThreshold:10,A.excessRows=typeof A.excessRows!="undefined"?A.excessRows:4,A.scrollThreshold=typeof A.scrollThreshold!="undefined"?A.scrollThreshold:4,A.excessColumns=typeof A.excessColumns!="undefined"?A.excessColumns:4,A.aggregationCalcThrottle=typeof A.aggregationCalcThrottle!="undefined"?A.aggregationCalcThrottle:500,A.wheelScrollThrottle=typeof A.wheelScrollThrottle!="undefined"?A.wheelScrollThrottle:70,A.scrollDebounce=typeof A.scrollDebounce!="undefined"?A.scrollDebounce:300,A.enableHiding=A.enableHiding!==!1,A.enableSorting=A.enableSorting!==!1,A.suppressMultiSort=A.suppressMultiSort===!0,A.enableFiltering=A.enableFiltering===!0,A.filterContainer=typeof A.filterContainer!="undefined"?A.filterContainer:"headerCell",A.enableColumnMenus=A.enableColumnMenus!==!1,A.enableVerticalScrollbar=typeof A.enableVerticalScrollbar!="undefined"?A.enableVerticalScrollbar:Q.scrollbars.ALWAYS,A.enableHorizontalScrollbar=typeof A.enableHorizontalScrollbar!="undefined"?A.enableHorizontalScrollbar:Q.scrollbars.ALWAYS,A.enableMinHeightCheck=A.enableMinHeightCheck!==!1,A.minimumColumnSize=typeof A.minimumColumnSize!="undefined"?A.minimumColumnSize:30,A.rowEquality=A.rowEquality||function(O,I){return O===I},A.headerTemplate=A.headerTemplate||null,A.footerTemplate=A.footerTemplate||"ui-grid/ui-grid-footer",A.gridFooterTemplate=A.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",A.rowTemplate=A.rowTemplate||"ui-grid/ui-grid-row",A.gridMenuTemplate=A.gridMenuTemplate||"ui-grid/uiGridMenu",A.disableGridMenuHideOnScroll=A.disableGridMenuHideOnScroll||!1,A.menuButtonTemplate=A.menuButtonTemplate||"ui-grid/ui-grid-menu-button",A.menuItemTemplate=A.menuItemTemplate||"ui-grid/uiGridMenuItem",A.appScopeProvider=A.appScopeProvider||null,A}}}])})();(function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(we,Q){function A(O,I,D){var T=this;T.name=O,T.grid=I,T.visibleRowCache=[],T.visibleColumnCache=[],T.renderedRows=[],T.renderedColumns=[],T.prevScrollTop=0,T.prevScrolltopPercentage=0,T.prevRowScrollIndex=0,T.prevScrollLeft=0,T.prevScrollleftPercentage=0,T.prevColumnScrollIndex=0,T.columnStyles="",T.viewportAdjusters=[],T.hasHScrollbar=!1,T.hasVScrollbar=!1,T.canvasHeightShouldUpdate=!0,T.$$canvasHeight=0,D&&angular.isObject(D)&&angular.extend(T,D),I.registerStyleComputation({priority:5,func:function(){return T.updateColumnWidths(),T.columnStyles}})}return A.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},A.prototype.containsColumn=function(O){return this.visibleColumnCache.indexOf(O)!==-1},A.prototype.minRowsToRender=function(){for(var I=this,D=0,T=0,_=I.getViewportHeight(),E=I.visibleRowCache.length-1;T<_&&E>=0;E--)T+=I.visibleRowCache[E].height,D++;return D},A.prototype.minColumnsToRender=function(){for(var I=this,D=this.getViewportWidth(),T=0,_=0,E=0;E<I.visibleColumnCache.length;E++){var d=I.visibleColumnCache[E];if(_<D)_+=d.drawnWidth?d.drawnWidth:0,T++;else{for(var M=0,g=E;g>=E-T;g--)M+=I.visibleColumnCache[g].drawnWidth?I.visibleColumnCache[g].drawnWidth:0;M<D&&T++}}return T},A.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},A.prototype.registerViewportAdjuster=function(I){this.viewportAdjusters.push(I)},A.prototype.removeViewportAdjuster=function(I){var D=this.viewportAdjusters.indexOf(I);D>-1&&this.viewportAdjusters.splice(D,1)},A.prototype.getViewportAdjustment=function(){var I=this,D={height:0,width:0};return I.viewportAdjusters.forEach(function(T){D=T.call(this,D)}),D},A.prototype.getMargin=function(I){var D=this,T=0;return D.viewportAdjusters.forEach(function(_){var E=_.call(this,{height:0,width:0});E.side&&E.side===I&&(T+=E.width*-1)}),T},A.prototype.getViewportHeight=function(){var I=this,D=I.headerHeight?I.headerHeight:I.grid.headerHeight,T=I.grid.gridHeight-D-I.grid.footerHeight,_=I.getViewportAdjustment();return T=T+_.height,T>0?T:0},A.prototype.getViewportWidth=function(){var I=this,D=I.grid.gridWidth,T=I.getViewportAdjustment();return D=D+T.width,D},A.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},A.prototype.getCanvasHeight=function(){var I=this;if(!I.canvasHeightShouldUpdate)return I.$$canvasHeight;var D=I.$$canvasHeight;return I.$$canvasHeight=0,I.visibleRowCache.forEach(function(T){I.$$canvasHeight+=T.height}),I.canvasHeightShouldUpdate=!1,I.grid.api.core.raise.canvasHeightChanged(D,I.$$canvasHeight),I.$$canvasHeight},A.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},A.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},A.prototype.getCanvasWidth=function(){var I=this;return I.canvasWidth},A.prototype.setRenderedRows=function(I){this.renderedRows.length=I.length;for(var D=0;D<I.length;D++)this.renderedRows[D]=I[D]},A.prototype.setRenderedColumns=function(I){this.renderedColumns.length=I.length;for(var D=0;D<I.length;D++)this.renderedColumns[D]=I[D];this.updateColumnOffset()},A.prototype.updateColumnOffset=function(){for(var I=0,D=0;D<this.currentFirstColumn;D++)I+=this.visibleColumnCache[D].drawnWidth;this.columnOffset=I},A.prototype.scrollVertical=function(O){var I=-1;if(O!==this.prevScrollTop){var D=O-this.prevScrollTop;D>0&&(this.grid.scrollDirection=Q.scrollDirection.DOWN),D<0&&(this.grid.scrollDirection=Q.scrollDirection.UP);var T=this.getVerticalScrollLength();return I=O/T,I>1&&(I=1),I<0&&(I=0),this.adjustScrollVertical(O,I),I}},A.prototype.scrollHorizontal=function(O){var I=-1;if(O!==this.prevScrollLeft){var D=O-this.prevScrollLeft;D>0&&(this.grid.scrollDirection=Q.scrollDirection.RIGHT),D<0&&(this.grid.scrollDirection=Q.scrollDirection.LEFT);var T=this.getHorizontalScrollLength();return T!==0?I=O/T:I=0,this.adjustScrollHorizontal(O,I),I}},A.prototype.adjustScrollVertical=function(I,D,T){this.prevScrollTop===I&&!T||((typeof I=="undefined"||I===void 0||I===null)&&(I=(this.getCanvasHeight()-this.getViewportHeight())*D),this.adjustRows(I,D,!1),this.prevScrollTop=I,this.prevScrolltopPercentage=D,this.grid.queueRefresh())},A.prototype.adjustScrollHorizontal=function(I,D,T){this.prevScrollLeft===I&&!T||((typeof I=="undefined"||I===void 0||I===null)&&(I=(this.getCanvasWidth()-this.getViewportWidth())*D),this.adjustColumns(I),this.prevScrollLeft=I,this.prevScrollleftPercentage=D,this.grid.queueRefresh())},A.prototype.adjustRows=function(I,D,T){var _=this,E=_.minRowsToRender(),d=_.visibleRowCache,M=d.length-E;(typeof D=="undefined"||D===null)&&I&&(D=I/_.getVerticalScrollLength());var g=Math.ceil(Math.min(M,M*D));g>M&&(g=M);var F=[];if(d.length>_.grid.options.virtualizationThreshold){if(!(typeof I=="undefined"||I===null)&&(!_.grid.suppressParentScrollDown&&_.prevScrollTop<I&&g<_.prevRowScrollIndex+_.grid.options.scrollThreshold&&g<M||!_.grid.suppressParentScrollUp&&_.prevScrollTop>I&&g>_.prevRowScrollIndex-_.grid.options.scrollThreshold&&g<M))return;var N=Math.max(0,g-_.grid.options.excessRows),J=Math.min(d.length,g+E+_.grid.options.excessRows);F=[N,J]}else{var pe=_.visibleRowCache.length;F=[0,Math.max(pe,E+_.grid.options.excessRows)]}_.updateViewableRowRange(F),_.prevRowScrollIndex=g},A.prototype.adjustColumns=function(I){var D=this,T=D.minColumnsToRender(),_=D.visibleColumnCache,E=_.length-T,d=Math.min(E,D.getLeftIndex(I)),M=[];if(_.length>D.grid.options.columnVirtualizationThreshold&&D.getCanvasWidth()>D.getViewportWidth()){var g=Math.max(0,d-D.grid.options.excessColumns),F=Math.min(_.length,d+T+D.grid.options.excessColumns);M=[g,F]}else{var N=D.visibleColumnCache.length;M=[0,Math.max(N,T+D.grid.options.excessColumns)]}D.updateViewableColumnRange(M),D.prevColumnScrollIndex=d},A.prototype.getLeftIndex=function(I){var D=0,T=0;for(T;T<this.visibleColumnCache.length&&!(this.visibleColumnCache[T]&&this.visibleColumnCache[T].visible&&(D+=this.visibleColumnCache[T].drawnWidth,D>=I));T++);return T},A.prototype.updateViewableRowRange=function(I){var D=this.visibleRowCache.slice(I[0],I[1]);this.currentTopRow=I[0],this.setRenderedRows(D)},A.prototype.updateViewableColumnRange=function(I){var D=this.visibleColumnCache.slice(I[0],I[1]);this.currentFirstColumn=I[0],this.setRenderedColumns(D)},A.prototype.headerCellWrapperStyle=function(){var O=this;if(O.currentFirstColumn!==0){var I=O.columnOffset;return O.grid.isRTL()?{"margin-right":I+"px"}:{"margin-left":I+"px"}}return null},A.prototype.updateColumnWidths=function(){var O=this,I=[],D=0,T=0,_="",E=!1,d=[],M=[],g=0,F=O.grid.getViewportWidth()-O.grid.scrollbarWidth,N=[];angular.forEach(O.grid.renderContainers,function(e){N=N.concat(e.visibleColumnCache)}),N.forEach(function(e){var o=0;if(e.visible)if(!E&&e.colDef.pinnedRight&&(E=!0),E&&(F+=O.grid.scrollbarWidth),angular.isNumber(e.width))e.colDef.allowFloatWidth?o=parseFloat(e.width):o=parseInt(e.width,10),T=T+o,e.drawnWidth=o,d.push(e);else if(we.endsWith(e.width,"%")){var i=parseInt(e.width.replace(/%/g,""),10);e.colDef.allowFloatWidth?o=parseFloat(i/100*F):o=parseInt(i/100*F,10),o>e.maxWidth&&(o=e.maxWidth),o<e.minWidth&&(o=e.minWidth),T=T+o,e.drawnWidth=o,g=g+i,M.push(e)}else angular.isString(e.width)&&e.width.indexOf("*")!==-1&&(D=D+e.width.length,I.push(e))});var J=F-T;if(I.length>0){var pe=J/D;I.forEach(function(e){var o=parseInt(e.width.length*pe,10);e.colDef.allowFloatWidth&&(o=parseFloat(e.width.length*pe)),o>e.maxWidth&&(o=e.maxWidth),o<e.minWidth&&(o=e.minWidth),T=T+o,e.drawnWidth=o})}var m;if(I.length>0?m=I:M.length>0&&d.length===0&&g===100&&(m=M),!angular.isUndefined(m)){for(var U=function(e){e.drawnWidth<e.maxWidth&&k>0&&(e.drawnWidth++,T++,k--,p=!0)},k=F-T,p=!0;k>0&&p;)p=!1,m.forEach(U);var w=function(e){e.drawnWidth>e.minWidth&&v>0&&(e.drawnWidth--,T--,v--,p=!0)},v=T-F;for(p=!0;v>0&&p;)p=!1,m.forEach(w)}var h=0;O.visibleColumnCache.forEach(function(e){e.visible&&(h=h+e.drawnWidth)}),N.forEach(function(e){_=_+e.getColClassDefinition()}),O.canvasWidth=h,this.columnStyles=_},A.prototype.needsHScrollbarPlaceholder=function(){var O=this,I;return O.name==="left"||O.name==="right"&&!this.hasHScrollbar&&!this.grid.disableScrolling?O.grid.options.enableHorizontalScrollbar===Q.scrollbars.ALWAYS?!0:(I=this.grid.element[0].querySelector(".ui-grid-render-container-body .ui-grid-viewport"),I.scrollWidth>I.offsetWidth):!1},A.prototype.getViewportStyle=function(){var O=this,I={},D={};return D[Q.scrollbars.ALWAYS]="scroll",D[Q.scrollbars.WHEN_NEEDED]="auto",O.hasHScrollbar=!1,O.hasVScrollbar=!1,O.grid.disableScrolling?(I["overflow-x"]="hidden",I["overflow-y"]="hidden",I):(O.name==="body"?(O.hasHScrollbar=O.grid.options.enableHorizontalScrollbar!==Q.scrollbars.NEVER,O.grid.isRTL()?O.grid.hasLeftContainerColumns()||(O.hasVScrollbar=O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER):O.grid.hasRightContainerColumns()||(O.hasVScrollbar=O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER)):O.name==="left"?O.hasVScrollbar=O.grid.isRTL()?O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER:!1:O.hasVScrollbar=O.grid.isRTL()?!1:O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER,I["overflow-x"]=O.hasHScrollbar?D[O.grid.options.enableHorizontalScrollbar]:"hidden",I["overflow-y"]=O.hasVScrollbar?D[O.grid.options.enableVerticalScrollbar]:"hidden",I)},A}])})();(function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(we,Q){function A(O,I,D){this.grid=D,this.entity=O,this.index=I,this.uid=we.nextUid(),this.visible=!0,this.isSelected=!1,this.$$height=D.options.rowHeight}return Object.defineProperty(A.prototype,"height",{get:function(){return this.$$height},set:function(O){O!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=O)}}),A.prototype.getQualifiedColField=function(O){return"row."+this.getEntityQualifiedColField(O)},A.prototype.getEntityQualifiedColField=function(O){var I="entity";return O.field===Q.ENTITY_BINDING?I:we.preEval(I+"."+O.field)},A.prototype.setRowInvisible=function(O){O&&O.setThisRowInvisible&&O.setThisRowInvisible("user")},A.prototype.clearRowInvisible=function(O){O&&O.clearThisRowInvisible&&O.clearThisRowInvisible("user")},A.prototype.setThisRowInvisible=function(O,I){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[O]=!0,this.evaluateRowVisibility(I)},A.prototype.clearThisRowInvisible=function(O,I){typeof this.invisibleReason!="undefined"&&delete this.invisibleReason[O],this.evaluateRowVisibility(I)},A.prototype.evaluateRowVisibility=function(O){var I=!0;typeof this.invisibleReason!="undefined"&&angular.forEach(this.invisibleReason,function(D,T){D&&(I=!1)}),(typeof this.visible=="undefined"||this.visible!==I)&&(this.visible=I,O||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},A}])})();(function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(Q,A){var O=function I(D,T){if(!(this instanceof I))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=D,this.col=T};return O.prototype.getIntersectionValueRaw=function(){var I=Q(this.row.getEntityQualifiedColField(this.col)),D=this.row;return I(D)},O}])})();(function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(we){function Q(A,O,I,D){var T=this;if(!A)throw new Error("grid argument is required");T.grid=A,T.source=D,T.withDelay=!0,T.sourceRowContainer=O,T.sourceColContainer=I,T.newScrollLeft=null,T.newScrollTop=null,T.x=null,T.y=null,T.verticalScrollLength=-9999999,T.horizontalScrollLength=-999999,T.type="scroll",T.fireThrottledScrollingEvent=we.throttle(function(_){T.grid.scrollContainers(_,T)},T.grid.options.wheelScrollThrottle,{trailing:!0})}return Q.prototype.getNewScrollLeft=function(A,O){var I=this;if(!I.newScrollLeft){var D=A.getCanvasWidth()-A.getViewportWidth(),T=we.normalizeScrollLeft(O,I.grid),_;if(typeof I.x.percentage!="undefined"&&I.x.percentage!==void 0)_=I.x.percentage;else if(typeof I.x.pixels!="undefined"&&I.x.pixels!==void 0)_=I.x.percentage=(T+I.x.pixels)/D;else throw new Error("No percentage or pixel value provided for scroll event X axis");return Math.max(0,_*D)}return I.newScrollLeft},Q.prototype.getNewScrollTop=function(A,O){var I=this;if(!I.newScrollTop){var D=A.getVerticalScrollLength(),T=O[0].scrollTop,_;if(typeof I.y.percentage!="undefined"&&I.y.percentage!==void 0)_=I.y.percentage;else if(typeof I.y.pixels!="undefined"&&I.y.pixels!==void 0)_=I.y.percentage=(T+I.y.pixels)/D;else throw new Error("No percentage or pixel value provided for scroll event Y axis");return Math.max(0,_*D)}return I.newScrollTop},Q.prototype.atTop=function(A){return this.y&&(this.y.percentage===0||this.verticalScrollLength<0)&&A===0},Q.prototype.atBottom=function(A){return this.y&&(this.y.percentage===1||this.verticalScrollLength===0)&&A>0},Q.prototype.atLeft=function(A){return this.x&&(this.x.percentage===0||this.horizontalScrollLength<0)&&A===0},Q.prototype.atRight=function(A){return this.x&&(this.x.percentage===1||this.horizontalScrollLength===0)&&A>0},Q.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},Q}])})();(function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(we,Q,A,O,I,D,T,_){var E={createGrid:function(d){d=typeof d!="undefined"?d:{},d.id=we.newId();var M=new D(d);if(M.options.rowTemplate){var g=Q.defer();M.getRowTemplateFn=g.promise,we.getTemplate(M.options.rowTemplate).then(function(F){var N=A(F);g.resolve(N)},function(){throw new Error("Couldn't fetch/use row template '"+M.options.rowTemplate+"'")}).catch(angular.noop)}return M.registerColumnBuilder(E.defaultColumnBuilder),M.registerRowBuilder(E.rowTemplateAssigner),M.registerRowsProcessor(function(N){return N.forEach(function(J){J.evaluateRowVisibility(!0)}),N},50),M.registerColumnsProcessor(function(N){return N.forEach(function(J){J.visible=angular.isDefined(J.colDef.visible)?J.colDef.visible:!0}),N},50),M.registerRowsProcessor(M.searchRows,100),M.options.externalSort&&angular.isFunction(M.options.externalSort)?M.registerRowsProcessor(M.options.externalSort,200):M.registerRowsProcessor(M.sortByColumn,200),M},defaultColumnBuilder:function(d,M,g){var F=[],N=function(J,pe,m,U,k){d[J]?M[pe]=d[J]:M[pe]=m;var p=we.getTemplate(M[pe]).then(function(w){angular.isFunction(w)&&(w=w());var v=k==="cellTooltip"?"col.cellTooltip(row,col)":"col.headerTooltip(col)";return k&&M[k]===!1?w=w.replace(I.TOOLTIP,""):k&&M[k]&&(w=w.replace(I.TOOLTIP,'title="{{'+v+' CUSTOM_FILTERS }}"')),U&&(w=w.replace(I.CUSTOM_FILTERS,function(){return M[U]?"|"+M[U]:""})),we.postProcessTemplate(w).then(function(h){M[J]=h})},function(){throw new Error("Couldn't fetch/use colDef."+J+" '"+d[J]+"'")}).catch(angular.noop);return F.push(p),p};return M.cellTemplatePromise=N("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),M.headerCellTemplatePromise=N("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),M.footerCellTemplatePromise=N("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),M.filterHeaderTemplatePromise=N("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),M.compiledElementFnDefer=Q.defer(),Q.all(F)},rowTemplateAssigner:function(M){var g=this;if(!M.rowTemplate)M.rowTemplate=g.options.rowTemplate,M.getRowTemplateFn=g.getRowTemplateFn;else{var F=Q.defer();M.getRowTemplateFn=F.promise,we.getTemplate(M.rowTemplate).then(function(N){var J=A(N);F.resolve(J)},function(){throw new Error("Couldn't fetch/use row template '"+M.rowTemplate+"'")})}return M.getRowTemplateFn}};return E}])})();(function(){var we=angular.module("ui.grid");function Q(A){return A.replace(/[|\\{}()[\]^$+?*.]/g,"\\$&").replace(/-/g,"\\x2d")}we.service("rowSearcher",["gridUtil","uiGridConstants",function(A,O){var I=O.filter.CONTAINS,D={};return D.getTerm=function(_){if(typeof _.term=="undefined")return _.term;var E=_.term;return typeof E=="string"&&(E=E.trim()),E},D.stripTerm=function(_){var E=D.getTerm(_);return typeof E=="string"?Q(E.replace(/(^\*|\*$)/g,"")):E},D.guessCondition=function(_){if(typeof _.term=="undefined"||!_.term)return I;var E=D.getTerm(_);if(/\*/.test(E)){var d=!_.flags||!_.flags.caseSensitive?"i":"";E=Q(E);var M=E.replace(/\\\*/g,".*?");return new RegExp("^"+M+"$",d)}else return I},D.setupFilters=function(_){for(var E=[],d=0;d<_.length;d++){var M=_[d];if(M.noTerm||!A.isNullOrUndefined(M.term)){var g={},F="";switch((!M.flags||!M.flags.caseSensitive)&&(F+="i"),A.isNullOrUndefined(M.term)||(M.rawTerm?g.term=M.term:g.term=D.stripTerm(M)),g.noTerm=M.noTerm,g.condition=M.condition||D.guessCondition(M),g.flags=angular.extend({caseSensitive:!1,date:!1},M.flags),g.condition){case O.filter.STARTS_WITH:g.startswithRE=new RegExp("^"+g.term,F);break;case O.filter.ENDS_WITH:g.endswithRE=new RegExp(g.term+"$",F);break;case O.filter.EXACT:g.exactRE=new RegExp("^"+g.term+"$",F);break;case O.filter.CONTAINS:g.containsRE=new RegExp(g.term,F);break}E.push(g)}}return E},D.runColumnFilter=function(_,E,d,M){var g=typeof M.condition,F=M.term,N=d.filterCellFiltered?_.getCellDisplayValue(E,d):_.getCellValue(E,d);if(N==null&&(N=""),M.condition instanceof RegExp)return M.condition.test(N);if(g==="function")return M.condition(F,N,E,d);if(M.startswithRE)return M.startswithRE.test(N);if(M.endswithRE)return M.endswithRE.test(N);if(M.containsRE)return M.containsRE.test(N);if(M.exactRE)return M.exactRE.test(N);if(M.condition===O.filter.NOT_EQUAL)return!new RegExp("^"+F+"$").test(N);if(typeof N=="number"&&typeof F=="string"){var J=parseFloat(F.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(J)||(F=J)}switch(M.flags.date===!0&&(N=new Date(N),F=new Date(F.replace(/\\/g,""))),M.condition){case O.filter.GREATER_THAN:return N>F;case O.filter.GREATER_THAN_OR_EQUAL:return N>=F;case O.filter.LESS_THAN:return N<F;case O.filter.LESS_THAN_OR_EQUAL:return N<=F}return!0},D.searchColumn=function(_,E,d,M){if(_.options.useExternalFiltering)return!0;for(var g=0;g<M.length;g++){var F=M[g];if((!A.isNullOrUndefined(F.term)&&F.term!==""||F.noTerm)&&!D.runColumnFilter(_,E,d,F))return!1}return!0},D.search=function(_,E,d){if(E){if(!_.options.enableFiltering)return E;for(var M=[],g=function(U){var k=!1;return U.forEach(function(p){(!A.isNullOrUndefined(p.term)&&p.term!==""||p.noTerm)&&(k=!0)}),k},F=0;F<d.length;F++){var N=d[F];typeof N.filters!="undefined"&&g(N.filters)&&M.push({col:N,filters:D.setupFilters(N.filters)})}if(M.length>0){for(var J=function(U,k,p,w){k.visible&&!D.searchColumn(U,k,p,w)&&(k.visible=!1)},pe=function(U,k){for(var p=0;p<E.length;p++)J(U,E[p],k.col,k.filters)},m=0;m<M.length;m++)pe(_,M[m]);_.api.core.raise.rowsVisibleChanged&&_.api.core.raise.rowsVisibleChanged()}return E}},D}])})();(function(){var we=angular.module("ui.grid");we.service("rowSorter",["uiGridConstants",function(Q){var A={colSortFnCache:{}};A.guessSortFn=function(T){switch(T){case"number":return A.sortNumber;case"numberStr":return A.sortNumberStr;case"boolean":return A.sortBool;case"string":return A.sortAlpha;case"date":return A.sortDate;case"object":return A.basicSort;default:throw new Error("No sorting function found for type: "+T)}},A.handleNulls=function(T,_){return T==null||_==null?T==null&&_==null?0:T==null?1:-1:null},A.basicSort=function(T,_){var E=A.handleNulls(T,_);return E!==null?E:T===_?0:T<_?-1:1},A.sortNumber=function(T,_){var E=A.handleNulls(T,_);return E!==null?E:T-_};function O(D){return/^\s*-?Infinity\s*$/.test(D)?parseFloat(D):parseFloat(D.replace(/[^0-9.eE-]/g,""))}A.sortNumberStr=function(T,_){var E=A.handleNulls(T,_);if(E!==null)return E;var d=O(T),M=O(_),g=isNaN(d),F=isNaN(M);return g||F?g&&F?0:g?1:-1:d-M},A.sortAlpha=function(T,_){var E=A.handleNulls(T,_);if(E!==null)return E;var d=T.toString().toLowerCase(),M=_.toString().toLowerCase();return d===M?0:d.localeCompare(M)},A.sortDate=function(T,_){var E=A.handleNulls(T,_);if(E!==null)return E;var d=T instanceof Date?T.getTime():new Date(T).getTime(),M=_ instanceof Date?_.getTime():new Date(_).getTime();return d===M?0:d<M?-1:1},A.sortBool=function(T,_){var E=A.handleNulls(T,_);return E!==null?E:T&&_||!T&&!_?0:T?1:-1},A.getSortFn=function(T){if(A.colSortFnCache[T.colDef.name])return A.colSortFnCache[T.colDef.name];if(T.sortingAlgorithm!=null)return A.colSortFnCache[T.colDef.name]=T.sortingAlgorithm,T.sortingAlgorithm;if(T.sortCellFiltered&&T.cellFilter)return A.colSortFnCache[T.colDef.name]=A.sortAlpha,A.sortAlpha;var _=A.guessSortFn(T.colDef.type);return _?(A.colSortFnCache[T.colDef.name]=_,_):A.sortAlpha},A.prioritySort=function(D,T){return D.sort&&D.sort.priority!==void 0&&T.sort&&T.sort.priority!==void 0?D.sort.priority<T.sort.priority?-1:D.sort.priority===T.sort.priority?0:1:D.sort&&D.sort.priority!==void 0?-1:T.sort&&T.sort.priority!==void 0?1:0},A.sort=function(T,_,E){if(_){if(T.options.useExternalSorting)return _;var d=[],M=[];if(E.forEach(function(pe){pe.sort&&!pe.sort.ignoreSort&&pe.sort.direction&&(pe.sort.direction===Q.ASC||pe.sort.direction===Q.DESC)?d.push({col:pe,sort:pe.sort}):pe.defaultSort&&pe.defaultSort.direction&&(pe.defaultSort.direction===Q.ASC||pe.defaultSort.direction===Q.DESC)&&M.push({col:pe,sort:pe.defaultSort})}),d=d.sort(A.prioritySort),M=M.sort(A.prioritySort),d=d.concat(M),d.length===0)return _;var g,F;_.forEach(function(pe,m){pe.entity.$$uiGridIndex=m});var N=function(pe,m){for(var U=0,k=0,p;U===0&&k<d.length;){g=d[k].col,F=d[k].sort.direction,p=A.getSortFn(g);var w=I(T,pe,m,g);U=p(w[0],w[1],pe,m,F,g),k++}return U===0?pe.entity.$$uiGridIndex-m.entity.$$uiGridIndex:F===Q.ASC?U:0-U},J=_.sort(N);return _.forEach(function(pe,m){delete pe.entity.$$uiGridIndex}),J}};function I(D,T,_,E){var d,M;return E.sortCellFiltered?(d=D.getCellDisplayValue(T,E),M=D.getCellDisplayValue(_,E)):(d=D.getCellValue(T,E),M=D.getCellValue(_,E)),[d,M]}return A}])})();(function(){var we=angular.module("ui.grid"),Q;typeof Function.prototype.bind!="function"&&(Q=function(){var g=Array.prototype.slice;return function(F){var N=this,J=g.call(arguments,1);return J.length?function(){return arguments.length?N.apply(F,J.concat(g.call(arguments))):N.apply(F,J)}:function(){return arguments.length?N.apply(F,arguments):N.call(F)}}});function A(g){var F=g;return typeof F.length!="undefined"&&F.length&&(F=g[0]),F.ownerDocument.defaultView.getComputedStyle(F,null)}var O=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),I=/^(block|none|table(?!-c[ea]).+)/,D={position:"absolute",visibility:"hidden",display:"block"};function T(g,F,N,J,pe){for(var m=N===(J?"border":"content")?4:F==="width"?1:0,U=0,k=["Top","Right","Bottom","Left"];m<4;m+=2){var p=k[m];if(N==="margin"){var w=parseFloat(pe[N+p]);isNaN(w)||(U+=w)}if(J){if(N==="content"){var v=parseFloat(pe["padding"+p]);isNaN(v)||(U-=v)}if(N!=="margin"){var h=parseFloat(pe["border"+p+"Width"]);isNaN(h)||(U-=h)}}else{var e=parseFloat(pe["padding"+p]);if(isNaN(e)||(U+=e),N!=="padding"){var o=parseFloat(pe["border"+p+"Width"]);isNaN(o)||(U+=o)}}}return U}function _(g,F,N){var J=!0,pe,m=A(g),U=m.boxSizing==="border-box";if(pe<=0||pe==null){if(pe=m[F],(pe<0||pe==null)&&(pe=g.style[F]),O.test(pe))return pe;J=U&&!0,pe=parseFloat(pe)||0}var k=pe+T(g,F,N||(U?"border":"content"),J,m);return k}function E(g){g=angular.element(g)[0];var F=g.parentElement;return F||(F=document.getElementsByTagName("body")[0]),parseInt(A(F).fontSize)||parseInt(A(g).fontSize)||16}var d=["0","0","0","0"],M="uiGrid-";we.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(g,F,N,J,pe,m,U,k,p,w,v){var h={augmentWidthOrHeight:T,getStyles:A,createBoundedWrapper:function(t,n){return function(){return n.apply(t,arguments)}},readableColumnName:function(t){return typeof t=="undefined"||t===void 0||t===null?t:(typeof t!="string"&&(t=String(t)),t.replace(/_+/g," ").replace(/^[A-Z]+$/,function(n){return n.toLowerCase()}).replace(/([\w\u00C0-\u017F]+)/g,function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(t,n){var a=[];if(!t||typeof t[0]=="undefined"||t[0]===void 0)return[];angular.isUndefined(n)&&(n=[]);var l=t[0];return angular.forEach(l,function(f,b){n.indexOf(b)===-1&&a.push({name:b})}),a},newId:(function(){var t=new Date().getTime();return function(){return t+=1}})(),getTemplate:function(t){if(pe.get(t))return h.postProcessTemplate(pe.get(t));if(angular.isFunction(t.then))return t.then(h.postProcessTemplate).catch(angular.noop);try{if(angular.element(t).length>0)return p.when(t).then(h.postProcessTemplate).catch(angular.noop)}catch{}return J({method:"GET",url:t}).then(function(n){var a=n.data.trim();return pe.put(t,a),a},function(n){throw new Error("Could not get template "+t+": "+n)}).then(h.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(t){var n=w.startSymbol(),a=w.endSymbol();return(n!=="{{"||a!=="}}")&&(t=t.replace(/\{\{/g,n),t=t.replace(/\}\}/g,a)),p.when(t)},guessType:function(t){var n=typeof t;switch(n){case"number":case"boolean":case"string":return n;default:return angular.isDate(t)?"date":"object"}},elementWidth:function(t){},elementHeight:function(t){},isVisible:function(t){return!!(t[0].offsetWidth||t[0].offsetHeight||t[0].getClientRects().length)},getScrollbarWidth:function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var n=t.offsetWidth;t.style.overflow="scroll",t.style.position="absolute";var a=document.createElement("div");a.style.width="100%",t.appendChild(a);var l=a.offsetWidth;return t.parentNode.removeChild(t),n-l},swap:function(t,n,a,l){var f,b,C={};for(b in n)C[b]=t.style[b],t.style[b]=n[b];f=a.apply(t,l||[]);for(b in n)t.style[b]=C[b];return f},fakeElement:function(t,n,a,l){var f,b,C=angular.element(t).clone()[0];for(b in n)C.style[b]=n[b];return angular.element(document.body).append(C),f=a.call(C,C),angular.element(C).remove(),f},normalizeWheelEvent:function(t){var n,a,l=t||window.event,f=[].slice.call(arguments,1),b=0,C=0,$=0,W=0,R=0,L;return l.originalEvent&&(l=l.originalEvent),l.wheelDelta&&(b=l.wheelDelta),l.detail&&(b=l.detail*-1),$=b,l.axis!==void 0&&l.axis===l.HORIZONTAL_AXIS&&($=0,C=b*-1),l.deltaY&&($=l.deltaY*-1,b=$),l.deltaX&&(C=l.deltaX,b=C*-1),l.wheelDeltaY!==void 0&&($=l.wheelDeltaY),l.wheelDeltaX!==void 0&&(C=l.wheelDeltaX),W=Math.abs(b),(!n||W<n)&&(n=W),R=Math.max(Math.abs($),Math.abs(C)),(!a||R<a)&&(a=R),L=b>0?"floor":"ceil",b=Math[L](b/n),C=Math[L](C/a),$=Math[L]($/a),{delta:b,deltaX:C,deltaY:$}},isTouchEnabled:function(){var t;return("ontouchstart"in F||F.DocumentTouch&&N instanceof DocumentTouch)&&(t=!0),t},isNullOrUndefined:function(t){return t==null},endsWith:function(t,n){return!t||!n||typeof t!="string"?!1:t.indexOf(n,t.length-n.length)!==-1},arrayContainsObjectWithProperty:function(t,n,a){var l=!1;return angular.forEach(t,function(f){f[n]===a&&(l=!0)}),l},numericAndNullSort:function(t,n){return t===null?1:n===null?-1:t===null&&n===null?0:t-n},disableAnimations:function(t){var n;try{n=k.get("$animate"),angular.version.major>1||angular.version.major===1&&angular.version.minor>=4?n.enabled(t,!1):n.enabled(!1,t)}catch{}},enableAnimations:function(t){var n;try{return n=k.get("$animate"),angular.version.major>1||angular.version.major===1&&angular.version.minor>=4?n.enabled(t,!0):n.enabled(!0,t),n}catch{}},nextUid:function(){for(var n=d.length,a;n;){if(n--,a=d[n].charCodeAt(0),a===57)return d[n]="A",M+d.join("");if(a===90)d[n]="0";else return d[n]=String.fromCharCode(a+1),M+d.join("")}return d.unshift("0"),M+d.join("")},hashKey:function(n){var a=typeof n,l;return a==="object"&&n!==null?typeof(l=n.$$hashKey)=="function"?l=n.$$hashKey():typeof n.$$hashKey!="undefined"&&n.$$hashKey?l=n.$$hashKey:l===void 0&&(l=n.$$hashKey=h.nextUid()):l=n,a+": "+l},resetUids:function(){d=["0","0","0"]},logError:function(t){v.LOG_ERROR_MESSAGES&&g.error(t)},logWarn:function(t){v.LOG_WARN_MESSAGES&&g.warn(t)},logDebug:function(){v.LOG_DEBUG_MESSAGES&&g.debug.apply(g,arguments)}};h.focus={queue:[],byId:function(t,n){this._purgeQueue();var a=m(function(){var l=(n&&n.id?n.id+"-":"")+t,f=F.document.getElementById(l);f?f.focus():h.logWarn("[focus.byId] Element id "+l+" was not found.")},0,!1);return this.queue.push(a),a},byElement:function(t){if(!angular.isElement(t))return h.logWarn("Trying to focus on an element that isn't an element."),p.reject("not-element");t=angular.element(t),this._purgeQueue();var n=m(function(){t&&t[0].focus()},0,!1);return this.queue.push(n),n},bySelector:function(t,n,a){var l=this;if(!angular.isElement(t))throw new Error("The parent element is not an element.");t=angular.element(t);var f=function(){var C=t[0].querySelector(n);return l.byElement(C)};if(this._purgeQueue(),a){var b=m(f,0,!1);return this.queue.push(b),b}else return f()},_purgeQueue:function(){this.queue.forEach(function(t){m.cancel(t)}),this.queue=[]}},["width","height"].forEach(function(t){var n=t.charAt(0).toUpperCase()+t.substr(1);h["element"+n]=function(a,l){var f=a;if(f&&typeof f.length!="undefined"&&f.length&&(f=a[0]),f&&f!==null){var b=A(f);return f.offsetWidth===0&&I.test(b.display)?h.swap(f,D,function(){return _(f,t,l)}):_(f,t,l)}else return null},h["outerElement"+n]=function(a,l){return a?h["element"+n].call(this,a,l?"margin":"border"):null}}),h.closestElm=function(n,a){typeof n.length!="undefined"&&n.length&&(n=n[0]);var l;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(b){return typeof document.body[b]=="function"?(l=b,!0):!1});for(var f;n!==null;){if(f=n.parentElement,f!==null&&f[l](a))return f;n=f}return null},h.type=function(t){var n=Function.prototype.toString.call(t.constructor);return n.match(/function (.*?)\(/)[1]},h.getBorderSize=function(n,a){typeof n.length!="undefined"&&n.length&&(n=n[0]);var l=A(n);a?a="border"+a.charAt(0).toUpperCase()+a.slice(1):a="border",a+="Width";var f=parseInt(l[a],10);return isNaN(f)?0:f},h.detectBrowser=function(){var n=F.navigator.userAgent,a={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var l in a)if(a[l].test(n))return l;return"unknown"},h.rtlScrollType=function t(){if(t.type)return t.type;var n=angular.element('<div dir="rtl" style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden"><div style="width: 2px"><span style="display: inline-block; width: 1px"></span><span style="display: inline-block; width: 1px"></span></div></div>')[0],a="reverse";return document.body.appendChild(n),n.scrollLeft>0?a="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(n.children[0].children[1].scrollIntoView(),n.scrollLeft<0&&(a="negative")):(n.scrollLeft=1,n.scrollLeft===0&&(a="negative")),angular.element(n).remove(),t.type=a,a},h.normalizeScrollLeft=function(n,a){typeof n.length!="undefined"&&n.length&&(n=n[0]);var l=n.scrollLeft;if(a.isRTL())switch(h.rtlScrollType()){case"default":return n.scrollWidth-l-n.clientWidth;case"negative":return Math.abs(l);case"reverse":return l}return l},h.denormalizeScrollLeft=function(n,a,l){if(typeof n.length!="undefined"&&n.length&&(n=n[0]),l.isRTL())switch(h.rtlScrollType()){case"default":var f=n.scrollWidth-n.clientWidth;return f-a;case"negative":return a*-1;case"reverse":return a}return a},h.preEval=function(t){var n=v.BRACKET_REGEXP.exec(t);if(n)return(n[1]?h.preEval(n[1]):n[1])+n[2]+(n[3]?h.preEval(n[3]):n[3]);t=t.replace(v.APOS_REGEXP,"\\'");var a=t.split(v.DOT_REGEXP),l=[a.shift()];return angular.forEach(a,function(f){l.push(f.replace(v.FUNC_REGEXP,"']$1"))}),l.join("['")},h.debounce=function(t,n,a){var l,f,b,C;function $(){b=this,f=arguments;var W=function(){l=null,a||(C=t.apply(b,f))},R=a&&!l;return l&&m.cancel(l),l=m(W,n,!1),R&&(C=t.apply(b,f)),C}return $.cancel=function(){m.cancel(l),l=null},$},h.throttle=function(t,n,a){a=a||{};var l=0,f=null,b,C;function $(W){l=+new Date,t.apply(b,C),U(function(){f=null},0,1,!1)}return function(){if(b=this,C=arguments,f===null){var W=+new Date-l;W>n?$():a.trailing&&(f=U($,n-W,1,!1))}}},h.on={},h.off={},h._events={},h.addOff=function(t){h.off[t]=function(n,a){var l=h._events[t].indexOf(a);l>0&&h._events[t].removeAt(l)}};var e="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o,i;h.on.mousewheel=function(t,n){if(!(!t||!n)){var a=angular.element(t);a.data("mousewheel-line-height",E(a)),a.data("mousewheel-page-height",h.elementHeight(a)),a.data("mousewheel-callbacks")||a.data("mousewheel-callbacks",{});var l=a.data("mousewheel-callbacks");l[n]=(Function.prototype.bind||Q).call(u,a[0],n);for(var f=e.length;f;)a.on(e[--f],l[n]);a.on("$destroy",function(){for(var C=e.length;C;)a.off(e[--C],l[n])})}},h.off.mousewheel=function(t,n){var a=angular.element(t),l=a.data("mousewheel-callbacks"),f=l[n];if(f)for(var b=e.length;b;)a.off(e[--b],f);delete l[n],Object.keys(l).length===0&&(a.removeData("mousewheel-line-height"),a.removeData("mousewheel-page-height"),a.removeData("mousewheel-callbacks"))};function u(t,n){var a=angular.element(this),l=0,f=0,b=0,C=0,$=0,W=0;if(n.originalEvent&&(n=n.originalEvent),"detail"in n&&(b=n.detail*-1),"wheelDelta"in n&&(b=n.wheelDelta),"wheelDeltaY"in n&&(b=n.wheelDeltaY),"wheelDeltaX"in n&&(f=n.wheelDeltaX*-1),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(f=b*-1,b=0),l=b===0?f:b,"deltaY"in n&&(b=n.deltaY*-1,l=b),"deltaX"in n&&(f=n.deltaX,b===0&&(l=f*-1)),!(b===0&&f===0)){if(n.deltaMode===1){var R=a.data("mousewheel-line-height");l*=R,b*=R,f*=R}else if(n.deltaMode===2){var L=a.data("mousewheel-page-height");l*=L,b*=L,f*=L}C=Math.max(Math.abs(b),Math.abs(f)),(!i||C<i)&&(i=C,s(n,C)&&(i/=40)),l=Math[l>=1?"floor":"ceil"](l/i),f=Math[f>=1?"floor":"ceil"](f/i),b=Math[b>=1?"floor":"ceil"](b/i);var q={originalEvent:n,deltaX:f,deltaY:b,deltaFactor:i,preventDefault:function(){n.preventDefault()},stopPropagation:function(){n.stopPropagation()}};o&&clearTimeout(o),o=setTimeout(c,200),t.call(a[0],q)}}function c(){i=null}function s(t,n){return t.type==="mousewheel"&&n%120===0}return h}]),we.filter("px",function(){return function(g){return g.match(/^[\d\.]+$/)?g+"px":g}})})();(function(){var we=["uiT","uiTranslate"],Q=["t","uiTranslate"],A=angular.module("ui.grid.i18n");A.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),A.service("i18nService",["$log","$parse","i18nConstants","$rootScope",function(T,_,E,d){var M={_langs:{},current:null,fallback:E.DEFAULT_LANG,get:function(N){var J=this,pe=J.getFallbackLang();return N!==J.fallback?angular.extend({},J._langs[pe],J._langs[N.toLowerCase()]):J._langs[N.toLowerCase()]},add:function(N,J){var pe=N.toLowerCase();this._langs[pe]||(this._langs[pe]={}),angular.merge(this._langs[pe],J)},getAllLangs:function(){var N=[];if(!this._langs)return N;for(var J in this._langs)N.push(J);return N},setCurrent:function(N){this.current=N.toLowerCase()},setFallback:function(N){this.fallback=N.toLowerCase()},getCurrentLang:function(){return this.current},getFallbackLang:function(){return this.fallback.toLowerCase()}};function g(N){return T.warn(E.MISSING+N),""}var F={add:function(N,J){typeof N=="object"?angular.forEach(N,function(pe){pe&&M.add(pe,J)}):M.add(N,J)},getAllLangs:function(){return M.getAllLangs()},get:function(N){var J=N||F.getCurrentLang();return M.get(J)},getSafeText:function(N,J){var pe=J||F.getCurrentLang(),m=M.get(pe),U=_(N);return m&&U(m)||g(N)},setCurrentLang:function(N){N&&(M.setCurrent(N),d.$broadcast(E.UPDATE_EVENT))},setFallbackLang:function(N){N&&M.setFallback(N)},getCurrentLang:function(){var N=M.getCurrentLang();return N||(N=E.DEFAULT_LANG,M.setCurrent(N)),N},getFallbackLang:function(){return M.getFallbackLang()}};return F}]);function O(T,_){return{compile:function(){return{pre:function(E,d,M){var g=_.LOCALE_DIRECTIVE_ALIAS,F=E.$eval(M[g]);F?E.$watch(M[g],function(){T.setCurrentLang(F)}):M.$$observers&&M.$observe(g,function(){T.setCurrentLang(M[g]||_.DEFAULT_LANG)})}}}}}A.directive("uiI18n",["i18nService","i18nConstants",O]);function I(T,_){return{restrict:"EA",compile:function(){return{pre:function(E,d,M){var g,F,N,J=we[0],pe=we[1],m=M[J]||M[pe]||d.html();function U(k){var p=T.getSafeText(k);d.html(p)}M.$$observers&&(N=M[J]?J:pe,F=M.$observe(N,function(k){k&&U(k)})),g=E.$on(_.UPDATE_EVENT,function(){F?F(M[J]||M[pe]):U(m)}),E.$on("$destroy",g),U(m)}}}}}angular.forEach(we,function(T){A.directive(T,["i18nService","i18nConstants",I])});function D(T){return function(_,E){return T.getSafeText(_,E)}}angular.forEach(Q,function(T){A.filter(T,["i18nService",D])})})();(function(){"use strict";var we=angular.module("ui.grid.edit",["ui.grid"]);we.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),we.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(Q,A,O){var I={initializeGrid:function(D){I.defaultGridOptions(D.options),D.registerColumnBuilder(I.editColumnBuilder),D.edit={};var T={events:{edit:{afterCellEdit:function(_,E,d,M){},beginCellEdit:function(_,E,d){},cancelCellEdit:function(_,E){}}},methods:{edit:{}}};D.api.registerEventsFromObject(T.events)},defaultGridOptions:function(D){D.cellEditableCondition=D.cellEditableCondition===void 0?!0:D.cellEditableCondition,D.enableCellEditOnFocus=D.enableCellEditOnFocus===void 0?!1:D.enableCellEditOnFocus},editColumnBuilder:function(D,T,_){var E=[];return D.enableCellEdit=D.enableCellEdit===void 0?_.enableCellEdit===void 0?D.type!=="object":_.enableCellEdit:D.enableCellEdit,D.cellEditableCondition=D.cellEditableCondition===void 0?_.cellEditableCondition:D.cellEditableCondition,D.enableCellEdit&&(D.editableCellTemplate=D.editableCellTemplate||_.editableCellTemplate||"ui-grid/cellEditor",E.push(O.getTemplate(D.editableCellTemplate).then(function(d){T.editableCellTemplate=d},function(d){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+D.editableCellTemplate+"'")}))),D.enableCellEditOnFocus=D.enableCellEditOnFocus===void 0?_.enableCellEditOnFocus:D.enableCellEditOnFocus,Q.all(E)},isStartEditKey:function(D){return!(D.metaKey||D.keyCode===A.keymap.ESC||D.keyCode===A.keymap.SHIFT||D.keyCode===A.keymap.CTRL||D.keyCode===A.keymap.ALT||D.keyCode===A.keymap.WIN||D.keyCode===A.keymap.CAPSLOCK||D.keyCode===A.keymap.LEFT||D.keyCode===A.keymap.TAB&&D.shiftKey||D.keyCode===A.keymap.RIGHT||D.keyCode===A.keymap.TAB||D.keyCode===A.keymap.UP||D.keyCode===A.keymap.ENTER&&D.shiftKey||D.keyCode===A.keymap.DOWN||D.keyCode===A.keymap.ENTER)}};return I}]),we.directive("uiGridEdit",["gridUtil","uiGridEditService",function(Q,A){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){A.initializeGrid(T.grid)},post:function(O,I,D,T){}}}}}]),we.directive("uiGridViewport",["uiGridEditConstants",function(Q){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(A,O,I,D){var T=D[0];if(!(!T.grid.api.edit||!T.grid.api.cellNav)){var _=D[1].containerId;_==="body"&&(A.$on(Q.events.CANCEL_CELL_EDIT,function(){T.focus()}),A.$on(Q.events.END_CELL_EDIT,function(){T.focus()}))}}}}}}]),we.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(Q,A,O,I,D,T,_,E,d,M){var g=500;if(A.has("uiGridCellNavService"))var F=A.get("uiGridCellNavService");return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(N,J,pe,m){var U,k,p,w,v=!1,h;if(!N.col.colDef.enableCellEdit)return;var e=function(){},o=function(){},i=function(){N.col.colDef.enableCellEdit&&N.row.enableCellEdit!==!1?N.beginEditEventsWired||c():N.beginEditEventsWired&&n()};i();var u=N.$watch("row",function(R,L){R!==L&&i()});N.$on("$destroy",function(){u(),J.off()});function c(){J.on("dblclick",f),J.on("touchstart",s),m&&m.grid.api.cellNav&&(o=m.grid.api.cellNav.on.viewPortKeyDown(N,function(R,L){L!==null&&L.row===N.row&&L.col===N.col&&!N.col.colDef.enableCellEditOnFocus&&a(R)}),e=m.grid.api.cellNav.on.navigate(N,function(R,L,q){N.col.colDef.enableCellEditOnFocus&&R.row===N.row&&R.col===N.col&&(q===null||q&&(q.type==="click"||q.type==="keydown"))&&O(function(){f(q)})})),N.beginEditEventsWired=!0}function s(R){typeof R.originalEvent!="undefined"&&R.originalEvent!==void 0&&(R=R.originalEvent),J.on("touchend",t),w=O(function(){},g),w.then(function(){setTimeout(f,0),J.off("touchend",t)}).catch(angular.noop)}function t(){O.cancel(w),J.off("touchend",t)}function n(){J.off("dblclick",f),J.off("keydown",a),J.off("touchstart",s),e(),o(),N.beginEditEventsWired=!1}function a(R){E.isStartEditKey(R)&&f(R)}function l(R,L,q){return!L.isSaving&&(angular.isFunction(R.colDef.cellEditableCondition)?R.colDef.cellEditableCondition(N,q):R.colDef.cellEditableCondition)}function f(R){N.grid.api.core.scrollToIfNecessary(N.row,N.col).then(function(){b(R)})}function b(R){if(!v&&l(N.col,N.row,R)){var L=N.row.getQualifiedColField(N.col);N.col.colDef.editModelField&&(L=T.preEval("row.entity."+N.col.colDef.editModelField)),p=_(L),k=p(N),U=N.col.editableCellTemplate,U=U.replace(I.MODEL_COL_FIELD,L),U=U.replace(I.COL_FIELD,"grid.getCellValue(row, col)");var q=N.col.colDef.editDropdownFilter?"|"+N.col.colDef.editDropdownFilter:"";U=U.replace(I.CUSTOM_FILTERS,q);var ee="text";switch(N.col.colDef.type){case"boolean":ee="checkbox";break;case"number":ee="number";break;case"date":ee="date";break}U=U.replace("INPUT_TYPE",ee);var ae=N.col.colDef.editDropdownOptionsFunction;if(ae)M.when(ae(N.row.entity,N.col.colDef)).then(function(j){N.editDropdownOptionsArray=j});else{var fe=N.col.colDef.editDropdownRowEntityOptionsArrayPath;fe?N.editDropdownOptionsArray=W(N.row.entity,fe):N.editDropdownOptionsArray=N.col.colDef.editDropdownOptionsArray}N.editDropdownIdLabel=N.col.colDef.editDropdownIdLabel?N.col.colDef.editDropdownIdLabel:"id",N.editDropdownValueLabel=N.col.colDef.editDropdownValueLabel?N.col.colDef.editDropdownValueLabel:"value";var Ee=function(){v=!0,n();var j=angular.element(U);J.append(j),h=N.$new(),Q(j)(h);var x=angular.element(J.children()[0]);x.addClass("ui-grid-cell-contents-hidden")};d.$$phase?Ee():N.$apply(Ee);var se=N.col.grid.api.core.on.scrollBegin(N,function(){N.grid.disableScrolling||(C(),N.grid.api.edit.raise.afterCellEdit(N.row.entity,N.col.colDef,p(N),k),se(),B(),K())}),B=N.$on(D.events.END_CELL_EDIT,function(){C(),N.grid.api.edit.raise.afterCellEdit(N.row.entity,N.col.colDef,p(N),k),B(),se(),K()}),K=N.$on(D.events.CANCEL_CELL_EDIT,function(){$(),K(),se(),B()});N.$broadcast(D.events.BEGIN_CELL_EDIT,R),O(function(){N.grid.api.edit.raise.beginCellEdit(N.row.entity,N.col.colDef,R)})}}function C(){if(N.grid.disableScrolling=!1,!!v){m&&m.grid.api.cellNav&&m.focus();var R=angular.element(J.children()[0]);h.$destroy();for(var L=J.children(),q=1;q<L.length;q++)angular.element(L[q]).remove();R.removeClass("ui-grid-cell-contents-hidden"),v=!1,c(),N.grid.api.core.notifyDataChange(I.dataChange.EDIT)}}function $(){N.grid.disableScrolling=!1,v&&(p.assign(N,k),N.$apply(),N.grid.api.edit.raise.cancelCellEdit(N.row.entity,N.col.colDef),C())}function W(R,L){L=L.replace(/\[(\w+)\]/g,".$1"),L=L.replace(/^\./,"");for(var q=L.split(".");q.length;){var ee=q.shift();if(ee in R)R=R[ee];else return}return R}}}}]),we.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(Q,A,O,I,D){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(T,_,E){},post:function(T,_,E,d){var M,g,F;d[0]&&(M=d[0]),d[1]&&(g=d[1]),d[2]&&(F=d[2]),T.$on(O.events.BEGIN_CELL_EDIT,function(){if(I(function(){if(_[0].focus(),_[0].select&&(T.col.colDef.enableCellEditOnFocus||!(M&&M.grid.api.cellNav)))_[0].select();else try{_[0].setSelectionRange(_[0].value.length,_[0].value.length)}catch{}}),M&&M.grid.api.cellNav)var N=M.grid.api.cellNav.on.viewPortKeyPress(T,function(J,pe){if(D.isStartEditKey(J)){var m=typeof J.which=="number"?J.which:J.keyCode;m>0&&(F.$setViewValue(String.fromCharCode(m),J),F.$render())}N()});_.on("mousedown",function(J){_[0].type==="checkbox"&&(_.off("blur",T.stopEdit),I(function(){_[0].focus(),_.on("blur",T.stopEdit)}))}),_[0]&&_[0].focus(),_.on("blur",T.stopEdit)}),T.deepEdit=!1,T.stopEdit=function(N){T.inputForm&&!T.inputForm.$valid?(N.stopPropagation(),T.$emit(O.events.CANCEL_CELL_EDIT)):T.$emit(O.events.END_CELL_EDIT),T.deepEdit=!1},_.on("click",function(N){_[0].type!=="checkbox"&&(T.deepEdit=!0,T.$applyAsync(function(){T.grid.disableScrolling=!0}))}),_.on("keydown",function(N){switch(N.keyCode){case A.keymap.ESC:N.stopPropagation(),T.$emit(O.events.CANCEL_CELL_EDIT);break}if(T.deepEdit&&(N.keyCode===A.keymap.LEFT||N.keyCode===A.keymap.RIGHT||N.keyCode===A.keymap.UP||N.keyCode===A.keymap.DOWN))N.stopPropagation();else if(M&&M.grid.api.cellNav)N.uiGridTargetRenderContainerId=g.containerId,M.cellNav.handleKeyDown(N)!==null&&T.stopEdit(N);else switch(N.keyCode){case A.keymap.ENTER:case A.keymap.TAB:N.stopPropagation(),N.preventDefault(),T.stopEdit(N);break}return!0}),T.$on("$destroy",function(){_.off()})}}}}}]),we.directive("uiGridEditor",["$filter",function(Q){function A(O){if(typeof O=="undefined"||O==="")return null;var I=O.split("-");if(I.length!==3)return null;var D=parseInt(I[0],10),T=parseInt(I[1],10),_=parseInt(I[2],10);return T<1||D<1||_<1?null:new Date(D,T-1,_)}return{priority:-100,require:"?ngModel",link:function(O,I,D,T){angular.version.minor===2&&D.type&&D.type==="date"&&T&&(T.$formatters.push(function(_){return T.$setValidity(null,!_||!isNaN(_.getTime())),Q("date")(_,"yyyy-MM-dd")}),T.$parsers.push(function(_){if(_&&_.length>0){var E=A(_);return T.$setValidity(null,E&&!isNaN(E.getTime())),E}else return T.$setValidity(null,!0),null}))}}}]),we.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(Q,A,O){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(I,D,T){},post:function(I,D,T,_){var E=_[0],d=_[1];I.$on(A.events.BEGIN_CELL_EDIT,function(){O(function(){D[0].focus()}),D[0].style.width=D[0].parentElement.offsetWidth-1+"px",D.on("blur",function(M){I.stopEdit(M)})}),I.stopEdit=function(M){I.$emit(A.events.END_CELL_EDIT)},D.on("keydown",function(M){switch(M.keyCode){case Q.keymap.ESC:M.stopPropagation(),I.$emit(A.events.CANCEL_CELL_EDIT);break}if(E&&E.grid.api.cellNav)M.uiGridTargetRenderContainerId=d.containerId,E.cellNav.handleKeyDown(M)!==null&&I.stopEdit(M);else switch(M.keyCode){case Q.keymap.ENTER:case Q.keymap.TAB:M.stopPropagation(),M.preventDefault(),I.stopEdit(M);break}return!0}),I.$on("$destroy",function(){D.off()})}}}}}]),we.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants",function(Q,A,O){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(I,D,T){},post:function(I,D){function T(_){var E=_.srcElement||_.target;E&&E.files&&E.files.length>0?(typeof I.col.colDef.editFileChooserCallback=="function"?I.col.colDef.editFileChooserCallback(I.row,I.col,E.files):Q.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),E.form.reset(),I.$emit(O.events.END_CELL_EDIT)):I.$emit(O.events.CANCEL_CELL_EDIT),D[0].removeEventListener("change",T,!1)}D[0].addEventListener("change",T,!1),I.$on(O.events.BEGIN_CELL_EDIT,function(){D[0].focus(),D[0].select(),D.on("blur",function(){I.$emit(O.events.END_CELL_EDIT),D.off()})})}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);we.service("uiGridBaseLayerService",["gridUtil","$compile",function(Q,A){return{initializeGrid:function(O,I){O.baseLayer={emptyRows:[]},O.options.enableEmptyGridBaseLayer!==!1&&(O.options.enableEmptyGridBaseLayer=!I)},setNumberOfEmptyRows:function(O,I){var D=I.options.rowHeight,T=Math.ceil(O/D);if(T>0){I.baseLayer.emptyRows=[];for(var _=0;_<T;_++)I.baseLayer.emptyRows.push({})}}}}]),we.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(Q,A,O){return{require:"^uiGrid",scope:!1,compile:function(){return{pre:function(I,D,T,_){var E=O(T.uiGridEmptyBaseLayer)(I)===!1;A.initializeGrid(_.grid,E)},post:function(I,D,T,_){if(!_.grid.options.enableEmptyGridBaseLayer)return;var E=_.grid.renderContainers.body,d=E.getViewportHeight();function M(){var F=E.getViewportHeight();return F!==d?(d=F,!0):!1}function g(F){return".grid"+_.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+F+"px; }"}_.grid.registerStyleComputation({func:function(){return M()&&A.setNumberOfEmptyRows(d,_.grid),g(d)}})}}}}}]),we.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(Q,A,O){return{priority:-200,scope:!1,compile:function(I){var D=O.get("ui-grid/emptyBaseLayerContainer");return I.prepend(D),{pre:function(T,_,E,d){},post:function(T,_,E,d){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.expandable",["ui.grid"]);we.service("uiGridExpandableService",["gridUtil",function(Q){var A={initializeGrid:function(O){O.expandable={},O.expandable.expandedAll=!1,O.options.enableOnDblClickExpand=O.options.enableOnDblClickExpand!==!1,O.options.enableExpandable=O.options.enableExpandable!==!1,O.options.showExpandAllButton=O.options.showExpandAllButton!==!1,O.options.expandableRowHeight=O.options.expandableRowHeight||150,O.options.expandableRowHeaderWidth=O.options.expandableRowHeaderWidth||40,O.options.enableExpandable&&!O.options.expandableRowTemplate&&(Q.logError("You have not set the expandableRowTemplate, disabling expandable module"),O.options.enableExpandable=!1);var I={events:{expandable:{rowExpandedBeforeStateChanged:function(D,T,_){},rowExpandedStateChanged:function(D,T,_){},rowExpandedRendered:function(D,T,_){}}},methods:{expandable:{toggleRowExpansion:function(D,T){var _=O.getRow(D);_!==null&&A.toggleRowExpansion(O,_,T)},expandAllRows:function(){A.expandAllRows(O)},collapseAllRows:function(){A.collapseAllRows(O)},toggleAllRows:function(){A.toggleAllRows(O)},expandRow:function(D){var T=O.getRow(D);T!==null&&!T.isExpanded&&A.toggleRowExpansion(O,T)},collapseRow:function(D){var T=O.getRow(D);T!==null&&T.isExpanded&&A.toggleRowExpansion(O,T)},getExpandedRows:function(){return A.getExpandedRows(O).map(function(D){return D.entity})}}}};O.api.registerEventsFromObject(I.events),O.api.registerMethodsFromObject(I.methods)},toggleRowExpansion:function(O,I,D){O.api.expandable.raise.rowExpandedBeforeStateChanged(I),I.isExpanded=!I.isExpanded,angular.isUndefined(I.expandedRowHeight)&&(I.expandedRowHeight=O.options.expandableRowHeight),I.isExpanded?(I.height=I.grid.options.rowHeight+I.expandedRowHeight,O.expandable.expandedAll=A.getExpandedRows(O).length===O.rows.length):(I.height=I.grid.options.rowHeight,O.expandable.expandedAll=!1),O.api.expandable.raise.rowExpandedStateChanged(I,D);function T(){I.expandedRendered?O.api.expandable.raise.rowExpandedRendered(I,D):window.setTimeout(T,100)}T()},expandAllRows:function(O){O.renderContainers.body.visibleRowCache.forEach(function(I){!I.isExpanded&&!(I.entity.subGridOptions&&I.entity.subGridOptions.disableRowExpandable)&&A.toggleRowExpansion(O,I)}),O.expandable.expandedAll=!0,O.queueGridRefresh()},collapseAllRows:function(O){O.renderContainers.body.visibleRowCache.forEach(function(I){I.isExpanded&&A.toggleRowExpansion(O,I)}),O.expandable.expandedAll=!1,O.queueGridRefresh()},toggleAllRows:function(O){O.expandable.expandedAll?A.collapseAllRows(O):A.expandAllRows(O)},getExpandedRows:function(O){return O.rows.filter(function(I){return I.isExpanded})}};return A}]),we.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(Q,A){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){if(Q.initializeGrid(T.grid),!!T.grid.options.enableExpandable&&T.grid.options.enableExpandableRowHeader!==!1){var _={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:T.grid.options.expandableRowHeaderWidth||30};_.cellTemplate=A.get("ui-grid/expandableRowHeader"),_.headerCellTemplate=A.get("ui-grid/expandableTopRowHeader"),T.grid.addRowHeaderColumn(_,-90)}},post:function(O,I,D,T){}}}}}]),we.directive("uiGrid",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(Q,A,O,I){I.grid.api.core.on.renderingComplete(Q,function(){Q.row&&Q.row.grid&&Q.row.grid.options&&Q.row.grid.options.enableExpandable&&(I.grid.parentRow=Q.row)})},post:function(Q,A,O,I){}}}}}),we.directive("uiGridExpandableRow",["uiGridExpandableService","$compile","uiGridConstants","gridUtil",function(Q,A,O,I){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(D,T){I.getTemplate(D.grid.options.expandableRowTemplate).then(function(_){if(D.grid.options.expandableRowScope){var E=D.grid.options.expandableRowScope;for(var d in E)E.hasOwnProperty(d)&&(D[d]=E[d])}var M=angular.element(_);M=A(M)(D),T.append(M),D.row.element=T,D.row.expandedRendered=!0})},post:function(D,T){D.row.element=T,D.$on("$destroy",function(){D.row.expandedRendered=!1})}}}}}]),we.directive("uiGridRow",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(Q,A){Q.grid.options.enableExpandable&&(Q.expandableRow={},Q.expandableRow.shouldRenderExpand=function(){return Q.colContainer.name==="body"&&Q.grid.options.enableExpandable!==!1&&Q.row.isExpanded&&(!Q.grid.isScrollingVertically||Q.row.expandedRendered)},Q.expandableRow.shouldRenderFiller=function(){return Q.row.isExpanded&&(Q.colContainer.name!=="body"||Q.grid.isScrollingVertically&&!Q.row.expandedRendered)},Q.grid.options.enableOnDblClickExpand&&A.on("dblclick",function(O){Q.grid.api.expandable.toggleRowExpansion(Q.row.entity,O)}))},post:function(Q,A,O,I){}}}}}),we.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(Q,A,O){return{priority:-200,scope:!1,compile:function(I){var D=angular.element(I.children().children()[0]),T=O.get("ui-grid/expandableScrollFiller"),_=O.get("ui-grid/expandableRow");return D.append(_),D.append(T),{pre:function(E,d,M,g){},post:function(E,d,M,g){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.exporter",["ui.grid"]);we.constant("uiGridExporterConstants",{featureName:"exporter",rowHeaderColName:"treeBaseRowHeaderCol",selectionRowHeaderColName:"selectionRowHeaderCol",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),we.service("uiGridExporterService",["$filter","$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(Q,A,O,I,D,T,_){var E={delay:100,type:null,initializeGrid:function(g){g.exporter={},this.defaultGridOptions(g.options);var F={events:{exporter:{}},methods:{exporter:{csvExport:function(N,J){E.csvExport(g,N,J)},pdfExport:function(N,J){E.pdfExport(g,N,J)},excelExport:function(N,J){E.excelExport(g,N,J)}}}};g.api.registerEventsFromObject(F.events),g.api.registerMethodsFromObject(F.methods),g.api.core.addToGridMenu?E.addToMenu(g):T(function(){g.api.core.addToGridMenu&&E.addToMenu(g)},this.delay,1)},defaultGridOptions:function(g){g.exporterSuppressMenu=g.exporterSuppressMenu===!0,g.exporterMenuLabel=g.exporterMenuLabel?g.exporterMenuLabel:"Export",g.exporterSuppressColumns=g.exporterSuppressColumns?g.exporterSuppressColumns:[],g.exporterCsvColumnSeparator=g.exporterCsvColumnSeparator?g.exporterCsvColumnSeparator:",",g.exporterCsvFilename=g.exporterCsvFilename?g.exporterCsvFilename:"download.csv",g.exporterPdfFilename=g.exporterPdfFilename?g.exporterPdfFilename:"download.pdf",g.exporterExcelFilename=g.exporterExcelFilename?g.exporterExcelFilename:"download.xlsx",g.exporterExcelSheetName=g.exporterExcelSheetName?g.exporterExcelSheetName:"Sheet1",g.exporterOlderExcelCompatibility=g.exporterOlderExcelCompatibility===!0,g.exporterIsExcelCompatible=g.exporterIsExcelCompatible===!0,g.exporterMenuItemOrder=g.exporterMenuItemOrder?g.exporterMenuItemOrder:200,g.exporterPdfDefaultStyle=g.exporterPdfDefaultStyle?g.exporterPdfDefaultStyle:{fontSize:11},g.exporterPdfTableStyle=g.exporterPdfTableStyle?g.exporterPdfTableStyle:{margin:[0,5,0,15]},g.exporterPdfTableHeaderStyle=g.exporterPdfTableHeaderStyle?g.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},g.exporterPdfHeader=g.exporterPdfHeader?g.exporterPdfHeader:null,g.exporterPdfFooter=g.exporterPdfFooter?g.exporterPdfFooter:null,g.exporterPdfOrientation=g.exporterPdfOrientation?g.exporterPdfOrientation:"landscape",g.exporterPdfPageSize=g.exporterPdfPageSize?g.exporterPdfPageSize:"A4",g.exporterPdfMaxGridWidth=g.exporterPdfMaxGridWidth?g.exporterPdfMaxGridWidth:720,g.exporterMenuAllData=g.exporterMenuAllData!==void 0?g.exporterMenuAllData:!0,g.exporterMenuVisibleData=g.exporterMenuVisibleData!==void 0?g.exporterMenuVisibleData:!0,g.exporterMenuSelectedData=g.exporterMenuSelectedData!==void 0?g.exporterMenuSelectedData:!0,g.exporterMenuCsv=g.exporterMenuCsv!==void 0?g.exporterMenuCsv:!0,g.exporterMenuPdf=g.exporterMenuPdf!==void 0?g.exporterMenuPdf:!0,g.exporterMenuExcel=g.exporterMenuExcel!==void 0?g.exporterMenuExcel:!0,g.exporterPdfCustomFormatter=g.exporterPdfCustomFormatter&&typeof g.exporterPdfCustomFormatter=="function"?g.exporterPdfCustomFormatter:function(F){return F},g.exporterHeaderFilterUseName=g.exporterHeaderFilterUseName===!0,g.exporterFieldCallback=g.exporterFieldCallback?g.exporterFieldCallback:M,g.exporterFieldFormatCallback=g.exporterFieldFormatCallback?g.exporterFieldFormatCallback:function(F,N,J,pe){return null},g.exporterExcelCustomFormatters=g.exporterExcelCustomFormatters?g.exporterExcelCustomFormatters:function(F,N,J){return J},g.exporterExcelHeader=g.exporterExcelHeader?g.exporterExcelHeader:function(F,N,J,pe){return null},g.exporterColumnScaleFactor=g.exporterColumnScaleFactor?g.exporterColumnScaleFactor:3.5,g.exporterFieldApplyFilters=g.exporterFieldApplyFilters===!0,g.exporterAllDataFn=g.exporterAllDataFn?g.exporterAllDataFn:null,g.exporterAllDataFn===null&&g.exporterAllDataPromise&&(g.exporterAllDataFn=g.exporterAllDataPromise)},addToMenu:function(g){g.api.core.addToGridMenu(g,[{title:_.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){g.api.exporter.csvExport(O.ALL,O.ALL)},shown:function(){return g.options.exporterMenuCsv&&g.options.exporterMenuAllData},order:g.options.exporterMenuItemOrder},{title:_.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){g.api.exporter.csvExport(O.VISIBLE,O.VISIBLE)},shown:function(){return g.options.exporterMenuCsv&&g.options.exporterMenuVisibleData},order:g.options.exporterMenuItemOrder+1},{title:_.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){g.api.exporter.csvExport(O.SELECTED,O.VISIBLE)},shown:function(){return g.options.exporterMenuCsv&&g.options.exporterMenuSelectedData&&g.api.selection&&g.api.selection.getSelectedRows().length>0},order:g.options.exporterMenuItemOrder+2},{title:_.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){g.api.exporter.pdfExport(O.ALL,O.ALL)},shown:function(){return g.options.exporterMenuPdf&&g.options.exporterMenuAllData},order:g.options.exporterMenuItemOrder+3},{title:_.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){g.api.exporter.pdfExport(O.VISIBLE,O.VISIBLE)},shown:function(){return g.options.exporterMenuPdf&&g.options.exporterMenuVisibleData},order:g.options.exporterMenuItemOrder+4},{title:_.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){g.api.exporter.pdfExport(O.SELECTED,O.VISIBLE)},shown:function(){return g.options.exporterMenuPdf&&g.options.exporterMenuSelectedData&&g.api.selection&&g.api.selection.getSelectedRows().length>0},order:g.options.exporterMenuItemOrder+5},{title:_.getSafeText("gridMenu.exporterAllAsExcel"),action:function(){g.api.exporter.excelExport(O.ALL,O.ALL)},shown:function(){return g.options.exporterMenuExcel&&g.options.exporterMenuAllData},order:g.options.exporterMenuItemOrder+6},{title:_.getSafeText("gridMenu.exporterVisibleAsExcel"),action:function(){g.api.exporter.excelExport(O.VISIBLE,O.VISIBLE)},shown:function(){return g.options.exporterMenuExcel&&g.options.exporterMenuVisibleData},order:g.options.exporterMenuItemOrder+7},{title:_.getSafeText("gridMenu.exporterSelectedAsExcel"),action:function(){g.api.exporter.excelExport(O.SELECTED,O.VISIBLE)},shown:function(){return g.options.exporterMenuExcel&&g.options.exporterMenuSelectedData&&g.api.selection&&g.api.selection.getSelectedRows().length>0},order:g.options.exporterMenuItemOrder+8}])},csvExport:function(g,F,N){var J=this;J.type="csv",this.loadAllDataIfNeeded(g,F,N).then(function(){var pe=g.options.showHeader?J.getColumnHeaders(g,N):[],m=J.getData(g,F,N),U=J.formatAsCsv(pe,m,g.options.exporterCsvColumnSeparator),k=angular.isFunction(g.options.exporterCsvFilename)?g.options.exporterCsvFilename(g,F,N):g.options.exporterCsvFilename;J.downloadFile(k,U,g.options.exporterCsvColumnSeparator,g.options.exporterOlderExcelCompatibility,g.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(g,F,N){if(F===O.ALL&&g.rows.length!==g.options.totalItems&&g.options.exporterAllDataFn)return g.options.exporterAllDataFn().then(function(pe){g.modifyRows(pe)});var J=A.defer();return J.resolve(),J.promise},getColumnHeaders:function(g,F){var N=[],J;if(F===O.ALL)J=g.columns;else{var pe=g.renderContainers.left?g.renderContainers.left.visibleColumnCache.filter(function(k){return k.visible}):[],m=g.renderContainers.body?g.renderContainers.body.visibleColumnCache.filter(function(k){return k.visible}):[],U=g.renderContainers.right?g.renderContainers.right.visibleColumnCache.filter(function(k){return k.visible}):[];J=pe.concat(m,U)}return J.forEach(function(k){if(k.colDef.exporterSuppressExport!==!0&&k.field!=="$$hashKey"&&g.options.exporterSuppressColumns.indexOf(k.name)===-1){var p={name:k.field,displayName:d(g,k),width:k.drawnWidth?k.drawnWidth:k.width,align:k.colDef.align?k.colDef.align:k.colDef.type==="number"?"right":"left"};N.push(p)}}),N},getRowsFromNode:function(g){var F=[],N=g?Object.keys(g):["children"];if((N.length>1||N[0]!="children")&&F.push(g),g&&g.children&&g.children.length>0)for(var J=0;J<g.children.length;J++)F=F.concat(this.getRowsFromNode(g.children[J]));return F},getDataSorted:function(g){if(!g.treeBase||g.treeBase.numberLevels===0)return g.rows;for(var F=[],N=0;N<g.treeBase.tree.length;N++)for(var J=this.getRowsFromNode(g.treeBase.tree[N]),pe=0;pe<J.length;pe++)F.push(J[pe].row);return F},getData:function(g,F,N,J){var pe=[],m,U;switch(F){case O.ALL:m=this.getDataSorted(g,F,N,J);break;case O.VISIBLE:m=g.getVisibleRows();break;case O.SELECTED:g.api.selection?m=g.api.selection.getSelectedGridRows():I.logError("selection feature must be enabled to allow selected rows to be exported");break}if(N===O.ALL)U=g.columns;else{var k=g.renderContainers.left?g.renderContainers.left.visibleColumnCache.filter(function(v){return v.visible}):[],p=g.renderContainers.body?g.renderContainers.body.visibleColumnCache.filter(function(v){return v.visible}):[],w=g.renderContainers.right?g.renderContainers.right.visibleColumnCache.filter(function(v){return v.visible}):[];U=k.concat(p,w)}return m.forEach(function(v){if(v.exporterEnableExporting!==!1){var h=[];U.forEach(function(e){if((e.visible||N===O.ALL)&&e.colDef.exporterSuppressExport!==!0&&e.field!=="$$hashKey"&&g.options.exporterSuppressColumns.indexOf(e.name)===-1){var o=J?g.getCellDisplayValue(v,e):g.getCellValue(v,e),i={value:g.options.exporterFieldCallback(g,v,e,o,E.type)},u=g.options.exporterFieldFormatCallback(g,v,e,o,E.type);u&&Object.assign(i,u),e.colDef.exporterPdfAlign&&(i.alignment=e.colDef.exporterPdfAlign),h.push(i)}}),pe.push(h)}}),pe},formatAsCsv:function(g,F,N){var J=this,pe=g.map(function(U){return{value:U.displayName}}),m=pe.length>0?J.formatRowAsCsv(this,N)(pe)+`
`:"";return m+=F.map(this.formatRowAsCsv(this,N)).join(`
`),m},formatRowAsCsv:function(g,F){return function(N){return N.map(g.formatFieldAsCsv).join(F)}},formatFieldAsCsv:function(g){return g.value==null?"":typeof g.value=="number"?g.value:typeof g.value=="boolean"?g.value?"TRUE":"FALSE":typeof g.value=="string"?'"'+g.value.replace(/"/g,'""')+'"':typeof g.value=="object"&&!(g.value instanceof Date)?'"'+JSON.stringify(g.value).replace(/"/g,'""')+'"':JSON.stringify(g.value)},isIE:function(){var g=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),F=!1;return g!==-1&&(F=!0),F},downloadFile:function(g,F,N,J,pe){var m=document,U=m.createElement("a"),k="application/octet-stream;charset=utf-8",p,w=this.isIE();if(pe&&(F="sep="+N+`\r
`+F),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([J?"\uFEFF":"",F],{type:k}),g);if(w){var v=m.createElement("iframe");return document.body.appendChild(v),v.contentWindow.document.open("text/html","replace"),v.contentWindow.document.write(F),v.contentWindow.document.close(),v.contentWindow.focus(),v.contentWindow.document.execCommand("SaveAs",!0,g),document.body.removeChild(v),!0}if("download"in U){var h=new Blob([J?"\uFEFF":"",F],{type:k});p=URL.createObjectURL(h),U.setAttribute("download",g)}else p="data: "+k+","+encodeURIComponent(F),U.setAttribute("target","_blank");U.href=p,U.setAttribute("style","display:none;"),m.body.appendChild(U),setTimeout(function(){if(U.click)U.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),U.dispatchEvent(e)}m.body.removeChild(U)},this.delay)},pdfExport:function(g,F,N){var J=this;J.type="pdf",this.loadAllDataIfNeeded(g,F,N).then(function(){var pe=J.getColumnHeaders(g,N),m=J.getData(g,F,N),U=J.prepareAsPdf(g,pe,m);if(J.isIE()||navigator.appVersion.indexOf("Edge")!==-1){var k=angular.isFunction(g.options.exporterPdfFilename)?g.options.exporterPdfFilename(g,F,N):g.options.exporterPdfFilename;J.downloadPDF(k,U)}else pdfMake.createPdf(U).open()})},downloadPDF:function(g,F){var N=document,J=N.createElement("a"),pe;pe=this.isIE();var m=pdfMake.createPdf(F),U;m.getBuffer(function(k){if(U=new Blob([k]),navigator.msSaveBlob)return navigator.msSaveBlob(U,g);if(pe){var p=N.createElement("iframe");return document.body.appendChild(p),p.contentWindow.document.open("text/html","replace"),p.contentWindow.document.write(U),p.contentWindow.document.close(),p.contentWindow.focus(),p.contentWindow.document.execCommand("SaveAs",!0,g),document.body.removeChild(p),!0}})},prepareAsPdf:function(g,F,N){var J=this.calculatePdfHeaderWidths(g,F),pe=F.map(function(p){return{text:p.displayName,style:"tableHeader"}}),m=N.map(this.formatRowAsPdf(this)),U=[pe].concat(m),k={pageOrientation:g.options.exporterPdfOrientation,pageSize:g.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:J,body:U}}],styles:{tableStyle:g.options.exporterPdfTableStyle,tableHeader:g.options.exporterPdfTableHeaderStyle},defaultStyle:g.options.exporterPdfDefaultStyle};return g.options.exporterPdfLayout&&(k.layout=g.options.exporterPdfLayout),g.options.exporterPdfHeader&&(k.header=g.options.exporterPdfHeader),g.options.exporterPdfFooter&&(k.footer=g.options.exporterPdfFooter),g.options.exporterPdfCustomFormatter&&(k=g.options.exporterPdfCustomFormatter(k)),k},calculatePdfHeaderWidths:function(g,F){var N=0;F.forEach(function(m){typeof m.width=="number"&&(N+=m.width)});var J=0;F.forEach(function(m){if(m.width==="*"&&(J+=100),typeof m.width=="string"&&m.width.match(/(\d)*%/)){var U=parseInt(m.width.match(/(\d)*%/)[0]);m.width=N*U/100,J+=m.width}});var pe=N+J;return F.map(function(m){return m.width==="*"?m.width:m.width*g.options.exporterPdfMaxGridWidth/pe})},formatRowAsPdf:function(g){return function(F){return F.map(g.formatFieldAsPdfString)}},formatFieldAsPdfString:function(g){var F;return g.value==null?F="":typeof g.value=="number"?F=g.value.toString():typeof g.value=="boolean"?F=g.value?"TRUE":"FALSE":typeof g.value=="string"?F=g.value.replace(/"/g,'""'):g.value instanceof Date?F=JSON.stringify(g.value).replace(/^"/,"").replace(/"$/,""):typeof g.value=="object"?F=g.value:F=JSON.stringify(g.value).replace(/^"/,"").replace(/"$/,""),g.alignment&&typeof g.alignment=="string"&&(F={text:F,alignment:g.alignment}),F},formatAsExcel:function(g,F,N,J,pe){for(var m=g.map(function(o){return{value:o.displayName}}),U=[],k=[],p=0;p<m.length;p++){var w="header";switch(g[p].align){case"center":w="headerCenter";break;case"right":w="headerRight";break}var v=pe.styles&&pe.styles[w]?{style:pe.styles[w].id}:null;k.push({value:m[p].value,metadata:v})}U.push(k);for(var h=F.map(this.formatRowAsExcel(this,N,J)),e=0;e<h.length;e++)U.push(h[e]);return U},formatRowAsExcel:function(g,F,N){return function(J){for(var pe=[],m=0;m<J.length;m++){var U=g.formatFieldAsExcel(J[m],F,N);pe.push({value:U,metadata:J[m].metadata})}return pe}},formatFieldAsExcel:function(g,F,N,J){return g.value==null?"":typeof g.value=="number"||typeof g.value=="string"?g.value:typeof g.value=="boolean"?g.value?"TRUE":"FALSE":JSON.stringify(g.value)},prepareAsExcel:function(g,F,N){var J={styles:{}};if(g.options.exporterExcelCustomFormatters&&(J=g.options.exporterExcelCustomFormatters(g,F,J)),g.options.exporterExcelHeader)if(angular.isFunction(g.options.exporterExcelHeader))g.options.exporterExcelHeader(g,F,N,J);else{var pe=g.options.exporterExcelHeader.text,m=g.options.exporterExcelHeader.style;N.data.push([{value:pe,metadata:{style:J.styles[m].id}}])}return J},excelExport:function(g,F,N){var J=this;J.type="excel",this.loadAllDataIfNeeded(g,F,N).then(function(){var pe=g.options.showHeader?J.getColumnHeaders(g,N):[],m="Sheet1";g.options.exporterExcelSheetName&&(m=angular.isFunction(g.options.exporterExcelSheetName)?g.options.exporterExcelSheetName(g,F,N):g.options.exporterExcelSheetName);var U=new ExcelBuilder.Worksheet({name:m}),k=new ExcelBuilder.Workbook;k.addWorksheet(U);for(var p=J.prepareAsExcel(g,k,U),w=[],v=g.treeBase?g.treeBase.numberLevels:g.enableRowSelection?1:0,h=v;h<g.columns.length;h++)g.columns[h].field!==O.rowHeaderColName&&g.columns[h].field!==O.selectionRowHeaderColName&&w.push({width:g.columns[h].drawnWidth/g.options.exporterColumnScaleFactor});U.setColumns(w);var e=J.getData(g,F,N,g.options.exporterFieldApplyFilters),o=J.formatAsExcel(pe,e,k,U,p);U.setData(U.data.concat(o)),ExcelBuilder.Builder.createFile(k,{type:"blob"}).then(function(i){var u=angular.isFunction(g.options.exporterExcelFilename)?g.options.exporterExcelFilename(g,F,N):g.options.exporterExcelFilename;J.downloadFile(u,i,g.options.exporterCsvColumnSeparator,g.options.exporterOlderExcelCompatibility)})})}};function d(g,F){return g.options.exporterHeaderFilter?g.options.exporterHeaderFilterUseName?g.options.exporterHeaderFilter(F.name):g.options.exporterHeaderFilter(F.displayName):F.headerCellFilter?Q(F.headerCellFilter)(F.displayName):F.displayName}function M(g,F,N,J){if(N.cellFilter){var pe,m,U,k;return pe=N.cellFilter.match(/(?:[^:"]+|"[^"]*")+/g),m=pe[0]?pe[0].replace(/[\'\"\s]/g,""):null,U=pe[1]?pe[1].replace(/[\'\"]/g,"").trim():null,k=pe[2]?pe[2].replace(/[\'\"\s]/g,""):null,Q(m)(J,U,k)}else return J}return E}]),we.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(Q,A,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(D,T,_,E){A.initializeGrid(E.grid),E.grid.exporter.$scope=D}}}])})();(function(){"use strict";var we=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);we.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),we.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(Q,A,O,I,D,T,_,E,d){var M={initializeGrid:function(g,F){d.initializeGrid(g,F),g.grouping={},g.grouping.groupHeaderCache={},M.defaultGridOptions(g.options),g.registerRowsProcessor(M.groupRows,400),g.registerColumnBuilder(M.groupingColumnBuilder),g.registerColumnsProcessor(M.groupingColumnProcessor,400);var N={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(J){var pe=M.getGrouping(g);return pe.grouping.forEach(function(m){m.colName=m.col.name,delete m.col}),pe.aggregations.forEach(function(m){m.colName=m.col.name,delete m.col}),pe.aggregations=pe.aggregations.filter(function(m){return!m.aggregation.source||m.aggregation.source!=="grouping"}),J&&(pe.rowExpandedStates=M.getRowExpandedStates(g.grouping.groupingHeaderCache)),pe},setGrouping:function(J){M.setGrouping(g,J)},groupColumn:function(J){var pe=g.getColumn(J);M.groupColumn(g,pe)},ungroupColumn:function(J){var pe=g.getColumn(J);M.ungroupColumn(g,pe)},clearGrouping:function(){M.clearGrouping(g)},aggregateColumn:function(J,pe,m){var U=g.getColumn(J);M.aggregateColumn(g,U,pe,m)}}}};g.api.registerEventsFromObject(N.events),g.api.registerMethodsFromObject(N.methods),g.api.core.on.sortChanged(F,M.tidyPriorities)},defaultGridOptions:function(g){g.enableGrouping=g.enableGrouping!==!1,g.groupingShowCounts=g.groupingShowCounts!==!1,g.groupingNullLabel=typeof g.groupingNullLabel=="undefined"?"Null":g.groupingNullLabel,g.enableGroupHeaderSelection=g.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(g,F,N){if(g.enableGrouping!==!1){typeof F.grouping=="undefined"&&typeof g.grouping!="undefined"?(F.grouping=angular.copy(g.grouping),typeof F.grouping.groupPriority!="undefined"&&F.grouping.groupPriority>-1&&(F.treeAggregationFn=d.nativeAggregations()[A.aggregation.COUNT].aggregationFn,F.treeAggregationFinalizerFn=M.groupedFinalizerFn)):typeof F.grouping=="undefined"&&(F.grouping={}),typeof F.grouping!="undefined"&&typeof F.grouping.groupPriority!="undefined"&&F.grouping.groupPriority>=0&&(F.suppressRemoveSort=!0);var J={name:"ui.grid.grouping.group",title:_.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return typeof this.context.col.grouping=="undefined"||typeof this.context.col.grouping.groupPriority=="undefined"||this.context.col.grouping.groupPriority<0},action:function(){M.groupColumn(this.context.col.grid,this.context.col)}},pe={name:"ui.grid.grouping.ungroup",title:_.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return typeof this.context.col.grouping!="undefined"&&typeof this.context.col.grouping.groupPriority!="undefined"&&this.context.col.grouping.groupPriority>=0},action:function(){M.ungroupColumn(this.context.col.grid,this.context.col)}},m={name:"ui.grid.grouping.aggregateRemove",title:_.get().grouping.aggregate_remove,shown:function(){return typeof this.context.col.treeAggregationFn!="undefined"},action:function(){M.aggregateColumn(this.context.col.grid,this.context.col,null)}},U=function(k,p){p=p||_.get().grouping["aggregate_"+k]||k;var w={name:"ui.grid.grouping.aggregate"+k,title:p,shown:function(){return typeof this.context.col.treeAggregation=="undefined"||typeof this.context.col.treeAggregation.type=="undefined"||this.context.col.treeAggregation.type!==k},action:function(){M.aggregateColumn(this.context.col.grid,this.context.col,k)}};O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.aggregate"+k)||F.menuItems.push(w)};F.colDef.groupingShowGroupingMenu!==!1&&(O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.group")||F.menuItems.push(J),O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.ungroup")||F.menuItems.push(pe)),F.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(d.nativeAggregations(),function(k,p){U(p)}),angular.forEach(N.treeCustomAggregations,function(k,p){U(p,k.menuTitle)}),O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.aggregateRemove")||F.menuItems.push(m))}},groupingColumnProcessor:function(g,F){return g=M.moveGroupColumns(this,g,F),g},groupedFinalizerFn:function(g){var F=this;typeof g.groupVal!="undefined"?(g.rendered=g.groupVal,F.grid.options.groupingShowCounts&&F.colDef.type!=="date"&&F.colDef.type!=="object"&&(g.rendered+=" ("+g.value+")")):g.rendered=null},moveGroupColumns:function(g,F){return g.options.moveGroupColumns===!1||(F.forEach(function(N,J){N.groupingPosition=J}),F.sort(function(N,J){var pe,m;return N.isRowHeader?pe=N.headerPriority:typeof N.grouping=="undefined"||typeof N.grouping.groupPriority=="undefined"||N.grouping.groupPriority<0?pe=null:pe=N.grouping.groupPriority,J.isRowHeader?m=J.headerPriority:typeof J.grouping=="undefined"||typeof J.grouping.groupPriority=="undefined"||J.grouping.groupPriority<0?m=null:m=J.grouping.groupPriority,pe!==null&&m===null?-1:m!==null&&pe===null?1:pe!==null&&m!==null?pe-m:N.groupingPosition-J.groupingPosition}),F.forEach(function(N){delete N.groupingPosition})),F},groupColumn:function(g,F){typeof F.grouping=="undefined"&&(F.grouping={});var N=M.getGrouping(g);F.grouping.groupPriority=N.grouping.length,F.previousSort=angular.copy(F.sort),F.sort?(typeof F.sort.direction=="undefined"||F.sort.direction===null)&&(F.sort.direction=E.ASC):F.sort={direction:E.ASC},F.treeAggregation={type:A.aggregation.COUNT,source:"grouping"},F.colDef&&angular.isFunction(F.colDef.customTreeAggregationFn)?F.treeAggregationFn=F.colDef.customTreeAggregationFn:F.treeAggregationFn=d.nativeAggregations()[A.aggregation.COUNT].aggregationFn,F.treeAggregationFinalizerFn=M.groupedFinalizerFn,g.api.grouping.raise.groupingChanged(F),g.api.core.raise.sortChanged(g,g.getColumnSorting()),g.queueGridRefresh()},ungroupColumn:function(g,F){typeof F.grouping!="undefined"&&(delete F.grouping.groupPriority,delete F.treeAggregation,delete F.customTreeAggregationFinalizer,F.previousSort&&(F.sort=F.previousSort,delete F.previousSort),M.tidyPriorities(g),g.api.grouping.raise.groupingChanged(F),g.api.core.raise.sortChanged(g,g.getColumnSorting()),g.queueGridRefresh())},aggregateColumn:function(g,F,N,J){typeof F.grouping!="undefined"&&typeof F.grouping.groupPriority!="undefined"&&F.grouping.groupPriority>=0&&M.ungroupColumn(g,F);var pe={};typeof g.options.treeCustomAggregations[N]!="undefined"?pe=g.options.treeCustomAggregations[N]:typeof d.nativeAggregations()[N]!="undefined"&&(pe=d.nativeAggregations()[N]),F.treeAggregation={type:N,label:typeof J=="string"?J:_.get().aggregation[pe.label]||pe.label},F.treeAggregationFn=pe.aggregationFn,F.treeAggregationFinalizerFn=pe.finalizerFn,g.api.grouping.raise.aggregationChanged(F),g.queueGridRefresh()},setGrouping:function(g,F){typeof F!="undefined"&&(M.clearGrouping(g),F.grouping&&F.grouping.length&&F.grouping.length>0&&F.grouping.forEach(function(N){var J=g.getColumn(N.colName);J&&M.groupColumn(g,J)}),F.aggregations&&F.aggregations.length&&F.aggregations.forEach(function(N){var J=g.getColumn(N.colName);J&&M.aggregateColumn(g,J,N.aggregation.type)}),F.rowExpandedStates&&M.applyRowExpandedStates(g.grouping.groupingHeaderCache,F.rowExpandedStates))},clearGrouping:function(g){var F=M.getGrouping(g);F.grouping.length>0&&F.grouping.forEach(function(N){N.col||(N.col=g.getColumn(N.colName)),M.ungroupColumn(g,N.col)}),F.aggregations.length>0&&F.aggregations.forEach(function(N){N.col||(N.col=g.getColumn(N.colName)),M.aggregateColumn(g,N.col,null)})},tidyPriorities:function(g){(typeof g=="undefined"||typeof g.grid!="undefined")&&typeof this.grid!="undefined"&&(g=this.grid);var F=[],N=[];g.columns.forEach(function(pe,m){typeof pe.grouping!="undefined"&&typeof pe.grouping.groupPriority!="undefined"&&pe.grouping.groupPriority>=0?F.push(pe):typeof pe.sort!="undefined"&&typeof pe.sort.priority!="undefined"&&pe.sort.priority>=0&&N.push(pe)}),F.sort(function(pe,m){return pe.grouping.groupPriority-m.grouping.groupPriority}),F.forEach(function(pe,m){pe.grouping.groupPriority=m,pe.suppressRemoveSort=!0,typeof pe.sort=="undefined"&&(pe.sort={}),pe.sort.priority=m});var J=F.length;N.sort(function(pe,m){return pe.sort.priority-m.sort.priority}),N.forEach(function(pe){pe.sort.priority=J,pe.suppressRemoveSort=pe.colDef.suppressRemoveSort,J++})},groupRows:function(g){if(g.length===0)return g;var F=this;F.grouping.oldGroupingHeaderCache=F.grouping.groupingHeaderCache||{},F.grouping.groupingHeaderCache={};for(var N=M.initialiseProcessingState(F),J=function(U,k){var p=F.getCellValue(m,U.col);(!U.initialised||I.getSortFn(U.col)(p,U.currentValue)!==0)&&(M.insertGroupHeader(F,g,pe,N,k),pe++)},pe=0;pe<g.length;pe++){var m=g[pe];m.visible&&N.forEach(J)}return delete F.grouping.oldGroupingHeaderCache,g},initialiseProcessingState:function(g){var F=[],N=M.getGrouping(g);return N.grouping.forEach(function(J,pe){F.push({fieldName:J.field,col:J.col,initialised:!1,currentValue:null,currentRow:null})}),F},getGrouping:function(g){var F=[],N=[];return g.columns.forEach(function(J){J.grouping&&typeof J.grouping.groupPriority!="undefined"&&J.grouping.groupPriority>=0&&F.push({field:J.field,col:J,groupPriority:J.grouping.groupPriority,grouping:J.grouping}),J.treeAggregation&&J.treeAggregation.type&&N.push({field:J.field,col:J,aggregation:J.treeAggregation})}),F.sort(function(J,pe){return J.groupPriority-pe.groupPriority}),F.forEach(function(J,pe){J.grouping.groupPriority=pe,J.groupPriority=pe,delete J.grouping}),{grouping:F,aggregations:N}},insertGroupHeader:function(g,F,N,J,pe){var m=J[pe].col,U=g.getCellValue(F[N],m),k=U;(typeof U=="undefined"||U===null)&&(k=g.options.groupingNullLabel);function p(e){return angular.isObject(e)?JSON.stringify(e):e}for(var w=g.grouping.oldGroupingHeaderCache,v=0;v<pe;v++)w&&w[p(J[v].currentValue)]&&(w=w[p(J[v].currentValue)].children);var h;for(w&&w[p(U)]?(h=w[p(U)].row,h.entity={}):(h=new D({},null,g),T.rowTemplateAssigner.call(g,h)),h.entity["$$"+J[pe].col.uid]={groupVal:k},h.treeLevel=pe,h.groupHeader=!0,h.internalRow=!0,h.enableCellEdit=!1,h.enableSelection=g.options.enableGroupHeaderSelection,J[pe].initialised=!0,J[pe].currentValue=U,J[pe].currentRow=h,M.finaliseProcessingState(J,pe+1),F.splice(N,0,h),w=g.grouping.groupingHeaderCache,v=0;v<pe;v++)w=w[p(J[v].currentValue)].children;w[p(U)]={row:h,children:{}}},finaliseProcessingState:function(g,F){for(var N=F;N<g.length;N++)g[N].initialised=!1,g[N].currentRow=null,g[N].currentValue=null},getRowExpandedStates:function(g){if(typeof g=="undefined")return{};var F={};return angular.forEach(g,function(N,J){F[J]={state:N.row.treeNode.state},N.children?F[J].children=M.getRowExpandedStates(N.children):F[J].children={}}),F},applyRowExpandedStates:function(g,F){typeof F!="undefined"&&angular.forEach(F,function(N,J){g[J]&&(g[J].row.treeNode.state=N.state,N.children&&g[J].children&&M.applyRowExpandedStates(g[J].children,N.children))})}};return M}]),we.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService",function(Q,A){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){T.grid.options.enableGrouping!==!1&&A.initializeGrid(T.grid,O)},post:function(O,I,D,T){}}}}}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ar",{headerCell:{aria:{defaultFilterLabel:"\u0627\u0644\u062A\u0635\u0641\u064A\u0647 \u0628\u0627\u0644\u0639\u0645\u0648\u062F",removeFilter:"\u0645\u062D\u0648 \u0627\u0644\u062A\u0635\u0641\u064A\u0647",columnMenuButtonLabel:"\u0642\u0627\u0621\u0645\u0647 \u0627\u0644\u0627\u0639\u0645\u062F\u0647"},priority:"\u0623\u0648\u0644\u0648\u064A\u0647 : ",filterLabel:"\u062A\u0635\u0641\u064A\u0647 \u0628\u0627\u0644\u0627\u0639\u0645\u062F\u0647 :"},aggregate:{label:"\u0627\u0644\u0639\u0646\u0627\u0635\u0631"},groupPanel:{description:"\u0627\u0633\u062D\u0628 \u0631\u0623\u0633 \u0627\u0644\u0639\u0645\u0648\u062F \u0647\u0646\u0627 \u0648\u0623\u0633\u0642\u0637\u0647 \u0644\u0625\u0646\u0634\u0627\u0621 \u0645\u062C\u0645\u0648\u0639\u0647"},search:{placeholder:"\u0628\u062D\u062B  ...",showingItems:"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0638\u0627\u0647\u0631\u0647 :",selectedItems:"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0647 :",totalItems:"\u0639\u062F\u062F \u0627\u0644\u0639\u0646\u0627\u0635\u0631 :",size:"\u062D\u062C\u0645 \u0627\u0644\u0635\u0641\u062D\u0647 :",first:"\u0627\u0648\u0644 \u0635\u0641\u062D\u0647",next:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u062A\u0627\u0644\u064A\u0647",previous:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0635\u0627\u0628\u0642\u0647",last:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0627\u062E\u064A\u0631\u0647"},menu:{text:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0639\u0645\u0648\u062F :"},sort:{ascending:"\u062A\u0631\u062A\u064A\u0628 \u062A\u0635\u0627\u0639\u062F\u0649",descending:"\u062A\u0631\u062A\u064A\u0628 \u062A\u0646\u0627\u0632\u0644\u0649",none:"\u0639\u062F\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",remove:"\u062D\u0630\u0641 \u0627\u0644\u062A\u0631\u062A\u064A\u0628"},column:{hide:"\u0625\u062E\u0641\u0627\u0621 \u0639\u0645\u0648\u062F"},aggregation:{count:"\u0639\u062F\u062F \u0627\u0644\u0635\u0641\u0648\u0641: ",sum:"\u062C\u0645\u0639: ",avg:"\u0627\u0644\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u062D\u0633\u0627\u0628\u0649: ",min:"\u0627\u0644\u0627\u062F\u0646\u0649: ",max:"\u0627\u0644\u0627\u0642\u0635\u0649: "},pinning:{pinLeft:"\u062A\u062B\u0628\u064A\u062A \u0644\u0644\u064A\u0633\u0627\u0631",pinRight:"\u062A\u062B\u0628\u064A\u062A \u0644\u0644\u064A\u0645\u064A\u0646",unpin:"\u0641\u0643 \u0627\u0644\u062A\u062B\u0628\u064A\u062A"},columnMenu:{close:"\u063A\u0644\u0642"},gridMenu:{aria:{buttonLabel:"\u0642\u0627\u0626\u0645\u0647 \u0627\u0644\u062C\u062F\u0648\u0644"},columns:"\u0627\u0644\u0627\u0639\u0645\u062F\u0647:",importerTitle:"\u0625\u062F\u062E\u0627\u0644 \u0645\u0644\u0641",exporterAllAsCsv:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0643(csv)",exporterVisibleAsCsv:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0627\u0636\u062D\u0647 \u0643 (csv)",exporterSelectedAsCsv:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0647 \u0643 (csv)",exporterAllAsPdf:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0643(pdf)",exporterVisibleAsPdf:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0627\u0636\u062D\u0647 \u0643 (pdf)",exporterSelectedAsPdf:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0647 \u0643 (pdf)",clearAllFilters:"\u0645\u062D\u0648 \u0643\u0644 \u0627\u0644\u062A\u0631\u0634\u064A\u062D"},importer:{noHeaders:"\u0627\u0633\u0645\u0627\u0621 \u0647\u0624\u0644\u0627\u0621 \u0627\u0644\u0627\u0639\u0645\u062F\u0647 \u063A\u064A\u0631 \u0648\u0627\u0636\u062D\u0647\u060C \u0647\u0644 \u064A\u0648\u062C\u062F \u0631\u0623\u0633 \u0644\u0644\u0645\u0644\u0641\u061F",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"\u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0642\u0627\u062F\u0631 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0645\u0627\u0645 \u060C \u0647\u0644 \u0627\u0644 (CSV) \u0635\u062D\u064A\u062D\u061F",invalidJson:"\u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0642\u0627\u062F\u0631 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0645\u0627\u0645 \u060C \u0647\u0644 \u0627\u0644 (JSON) \u0635\u062D\u064A\u062D\u061F",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0627\u0648\u0644\u0649",pageBack:"\u0627\u0644\u0635\u0641\u0647 \u0627\u0644\u0633\u0627\u0628\u0642\u0647",pageSelected:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0645\u062D\u062F\u062F\u0647",pageForward:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u062A\u0627\u0644\u064A\u0647",pageToLast:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0627\u062E\u064A\u0631\u0647"},sizes:"\u0639\u062F\u062F \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0641\u0649 \u0627\u0644\u0635\u0641\u062D\u0647",totalItems:"\u0639\u0646\u0627\u0635\u0631",through:"\u0625\u0644\u0649",of:"\u0645\u0646"},grouping:{group:"\u062C\u0645\u0639",ungroup:"\u0641\u0643 \u0627\u0644\u062C\u0645\u0639",aggregate_count:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u0639\u062F\u062F",aggregate_sum:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u062D\u0627\u0635\u0644",aggregate_max:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u0627\u0642\u0635\u0649",aggregate_min:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u0627\u0642\u0644",aggregate_avg:"\u062C\u0645\u0644\u0647 :\u0627\u0644\u0645\u062A\u0648\u0633\u0637 ",aggregate_remove:"\u062C\u0645\u0644\u0647 : \u062D\u0630\u0641"},validate:{error:"\u062E\u0637\u0623 :",minLength:"\u0627\u0644\u0642\u064A\u0645\u0647 \u0644\u0627\u0628\u062F \u0627\u0646 \u0644\u0627 \u062A\u0642\u0644 \u0639\u0646 THRESHOLD \u062D\u0631\u0641.",maxLength:"\u0627\u0644\u0642\u064A\u0645\u0647 \u0644\u0627\u0628\u062F \u0627\u0646 \u0644\u0627 \u062A\u0632\u064A\u062F \u0639\u0646 THRESHOLD \u062D\u0631\u0641.",required:"\u0645\u0637\u0644\u0648\u0628 \u0642\u064A\u0645\u0647"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("bg",{headerCell:{aria:{defaultFilterLabel:"\u0424\u0438\u043B\u0442\u0442\u044A\u0440 \u0437\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430",removeFilter:"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0444\u0438\u043B\u0442\u044A\u0440",columnMenuButtonLabel:"\u041C\u0435\u043D\u044E \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430"},priority:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:",filterLabel:"\u0424\u0438\u043B\u0442\u044A\u0440 \u0437\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430: "},aggregate:{label:"\u043E\u0431\u0435\u043A\u0442\u0438"},search:{placeholder:"\u0422\u044A\u0440\u0441\u0435\u043D\u0435...",showingItems:"\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u0438 \u043E\u0431\u0435\u043A\u0442\u0438:",selectedItems:"\u0438\u0437\u0431\u0440\u0430\u043D\u0438 \u043E\u0431\u0435\u043A\u0442\u0438:",totalItems:"\u041E\u0431\u0449\u043E:",size:"\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430\u0442\u0430:",first:"\u041F\u044A\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",next:"\u0421\u043B\u0435\u0434\u0432\u0430\u0449\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",previous:"\u041F\u0440\u0435\u0434\u0438\u0448\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",last:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},menu:{text:"\u0418\u0437\u0431\u0435\u0440\u0438 \u043A\u043E\u043B\u043E\u043D\u0438:"},sort:{ascending:"\u0421\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043F\u043E \u0432\u044A\u0437\u0445\u043E\u0434\u044F\u0449 \u0440\u0435\u0434",descending:"\u0421\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043F\u043E \u043D\u0438\u0437\u0445\u043E\u0434\u044F\u0449 \u0440\u0435\u0434",none:"\u0411\u0435\u0437 \u0441\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435",remove:"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0441\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435\u0442\u043E"},column:{hide:"\u0421\u043A\u0440\u0438\u0439 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430"},aggregation:{count:"\u041E\u0431\u0449\u043E \u0440\u0435\u0434\u043E\u0432\u0435: ",sum:"\u043E\u0431\u0449\u043E: ",avg:"\u0441\u0440\u0435\u0434\u043D\u043E: ",min:"\u043D\u0430\u0439-\u043C\u0430\u043B\u043A\u043E: ",max:"\u043D\u0430\u0439-\u043C\u043D\u043E\u0433\u043E: "},pinning:{pinLeft:"\u041F\u0440\u0438\u043A\u0440\u0435\u043F\u0438 \u0432\u043B\u044F\u0432\u043E",pinRight:"\u041F\u0440\u0438\u043A\u0440\u0435\u043F\u0438 \u0432\u0434\u044F\u0441\u043D\u043E",unpin:"\u041F\u0440\u0435\u043C\u0430\u0445\u0432\u0430\u043D\u0435"},columnMenu:{close:"\u0417\u0430\u0442\u0432\u043E\u0440\u0438"},gridMenu:{aria:{buttonLabel:"\u041C\u0435\u043D\u044E \u043D\u0430 \u0442\u0430\u0431\u043B\u0438\u0446\u0430\u0442\u0430"},columns:"\u041A\u043E\u043B\u043E\u043D\u0438:",importerTitle:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0444\u0430\u0439\u043B",exporterAllAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0434\u0430\u043D\u043D\u0438\u0442\u0435 \u043A\u0430\u0442\u043E csv",exporterVisibleAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0432\u0438\u0434\u0438\u043C\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E csv",exporterSelectedAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E csv",exporterAllAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0434\u0430\u043D\u043D\u0438\u0442\u0435 \u043A\u0430\u0442\u043E pdf",exporterVisibleAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0432\u0438\u0434\u0438\u043C\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E pdf",exporterSelectedAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E pdf",clearAllFilters:"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0432\u0441\u0438\u0447\u043A\u0438 \u0444\u0438\u043B\u0442\u0440\u0438"},importer:{noHeaders:"\u0418\u043C\u0435\u043D\u0430\u0442\u0430 \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0438\u0442\u0435 \u043D\u0435 \u0443\u0441\u043F\u044F\u0445\u0430 \u0434\u0430 \u0431\u044A\u0434\u0430\u0442 \u0438\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438, \u0444\u0430\u0439\u043B\u044A\u0442 \u0438\u043C\u0430 \u043B\u0438 \u0445\u0435\u0434\u044A\u0440?",noObjects:"\u041E\u0431\u0435\u043A\u0442\u0438\u0442\u0435 \u043D\u0435 \u0443\u0441\u043F\u044F\u0445\u0430 \u0434\u0430 \u0431\u044A\u0434\u0430\u0442 \u0438\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438, \u0444\u0430\u0439\u043B\u044A\u0442 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043B\u0438 \u0434\u0430\u043D\u043D\u0438, \u0440\u0430\u0437\u043B\u0438\u0447\u043D\u0438 \u043E\u0442 \u0445\u0435\u0434\u044A\u0440?",invalidCsv:"\u0424\u0430\u0439\u043B\u044A\u0442 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0435\u0431, \u0443\u0432\u0435\u0440\u0435\u0442\u0435 \u0441\u0435, \u0447\u0435 \u0435 \u0432\u0430\u043B\u0438\u0434\u0435\u043D CSV \u0444\u0430\u0439\u043B",invalidJson:"\u0424\u0430\u0439\u043B\u044A\u0442 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0435\u0431, \u0443\u0432\u0435\u0440\u0435\u0442\u0435 \u0441\u0435, \u0447\u0435 \u0435 \u0432\u0430\u043B\u0438\u0434\u0435\u043D JSON \u0444\u0430\u0439\u043B",jsonNotArray:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0438\u044F\u0442 JSON \u0444\u0430\u0439\u043B \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043C\u0430\u0441\u0438\u0432, \u043F\u0440\u0435\u043A\u0440\u0430\u0442\u044F\u0432\u0430\u043D\u0435."},pagination:{aria:{pageToFirst:"\u041A\u044A\u043C \u043F\u044A\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageBack:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0430\u0437\u0430\u0434",pageSelected:"\u0418\u0437\u0431\u0440\u0430\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageForward:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0430\u043F\u0440\u0435\u0434",pageToLast:"\u041A\u044A\u043C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},sizes:"\u043E\u0431\u0435\u043A\u0442\u0430 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",totalItems:"\u043E\u0431\u0435\u043A\u0442\u0430",through:"\u0434\u043E",of:"\u043E\u0442"},grouping:{group:"\u0413\u0440\u0443\u043F\u0438\u0440\u0430\u043D\u0435",ungroup:"\u041F\u0440\u0435\u043C\u0430\u0445\u0432\u0430\u043D\u0435 \u043D\u0430 \u0433\u0440\u0443\u043F\u0438\u0440\u0430\u043D\u0435\u0442\u043E",aggregate_count:"\u0421\u0431\u043E\u0440: \u0411\u0440\u043E\u0439",aggregate_sum:"\u0421\u0431\u043E\u0440: \u0421\u0443\u043C\u0430",aggregate_max:"\u0421\u0431\u043E\u0440: \u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C",aggregate_min:"\u0421\u0431\u043E\u0440: \u041C\u0438\u043D\u0438\u043C\u0443\u043C",aggregate_avg:"\u0421\u0431\u043E\u0440: \u0421\u0440\u0435\u0434\u043D\u043E",aggregate_remove:"\u0421\u0431\u043E\u0440: \u041F\u0440\u0435\u043C\u0430\u0445\u0432\u0430\u043D\u0435"},validate:{error:"\u0413\u0440\u0435\u0448\u043A\u0430:",minLength:"\u0421\u0442\u043E\u0439\u043D\u043E\u0441\u0442\u0442\u0430 \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043F\u043E\u043D\u0435 THRESHOLD \u0441\u0438\u043C\u0432\u043E\u043B\u0430.",maxLength:"\u0421\u0442\u043E\u0439\u043D\u043E\u0441\u0442\u0442\u0430 \u043D\u0435 \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043F\u043E\u0432\u0435\u0447\u0435 \u043E\u0442 THRESHOLD \u0441\u0438\u043C\u0432\u043E\u043B\u0430.",required:"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u0430 \u0435 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){var A={aggregate:{label:"polo\u017Eky"},groupPanel:{description:"P\u0159esu\u0148te z\xE1hlav\xED zde pro vytvo\u0159en\xED skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji polo\u017Eky:",selectedItems:"Vybran\xE9 polo\u017Eky:",totalItems:"Celkem polo\u017Eek:",size:"Velikost strany:",first:"Prvn\xED strana",next:"Dal\u0161\xED strana",previous:"P\u0159edchoz\xED strana",last:"Posledn\xED strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Se\u0159adit od A-Z",descending:"Se\u0159adit od Z-A",remove:"Odebrat se\u0159azen\xED"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem \u0159\xE1dk\u016F: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat v\u0161echna data do csv",exporterVisibleAsCsv:"Exportovat viditeln\xE1 data do csv",exporterSelectedAsCsv:"Exportovat vybran\xE1 data do csv",exporterAllAsPdf:"Exportovat v\u0161echna data do pdf",exporterVisibleAsPdf:"Exportovat viditeln\xE1 data do pdf",exporterSelectedAsPdf:"Exportovat vybran\xE1 data do pdf",exporterAllAsExcel:"Exportovat v\u0161echna data do excel",exporterVisibleAsExcel:"Exportovat viditeln\xE1 data do excel",exporterSelectedAsExcel:"Exportovat vybran\xE1 data do excel",clearAllFilters:"Odstranit v\u0161echny filtry"},importer:{noHeaders:"N\xE1zvy sloupc\u016F se nepoda\u0159ilo z\xEDskat, obsahuje soubor z\xE1hlav\xED?",noObjects:"Data se nepoda\u0159ilo zpracovat, obsahuje soubor \u0159\xE1dky mimo z\xE1hlav\xED?",invalidCsv:"Soubor nelze zpracovat, jedn\xE1 se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus\xED obsahovat json. Ukon\u010Duji.."},pagination:{sizes:"polo\u017Eek na str\xE1nku",totalItems:"polo\u017Eek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen\xED",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return Q.add("cs",A),Q.add("cz",A),Q.add("cs-cz",A),Q.add("cs-CZ",A),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grup\xE9r r\xE6kker udfra en kolonne ved at tr\xE6kke dens overskift hertil."},search:{placeholder:"S\xF8g...",showingItems:"Viste r\xE6kker:",selectedItems:"Valgte r\xE6kker:",totalItems:"R\xE6kker totalt:",size:"Side st\xF8rrelse:",first:"F\xF8rste side",next:"N\xE6ste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"V\xE6lg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal r\xE6kker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fastg\xF8r til venstre",pinRight:"Fastg\xF8r til h\xF8jre",unpin:"Frig\xF8r"},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter markerede data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"G\xE5 til f\xF8rste",pageBack:"G\xE5 tilbage",pageSelected:"Valgte side",pageForward:"G\xE5 frem",pageToLast:"G\xE5 til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter f\xFCr Spalte",removeFilter:"Filter l\xF6schen",columnMenuButtonLabel:"Spaltenmen\xFC",column:"Spalte"},priority:"Priorit\xE4t:",filterLabel:"Filter f\xFCr Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spalten\xFCberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Eintr\xE4ge:",selectedItems:"Ausgew\xE4hlte Eintr\xE4ge:",totalItems:"Eintr\xE4ge gesamt:",size:"Eintr\xE4ge pro Seite:",first:"Erste Seite",next:"N\xE4chste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},selection:{aria:{row:"Zeile"},selectAll:"Alle ausw\xE4hlen",displayName:"Zeilenauswahlkasten"},menu:{text:"Spalten ausw\xE4hlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zur\xFCcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"L\xF6sen"},columnMenu:{close:"Schlie\xDFen"},gridMenu:{aria:{buttonLabel:"Tabellenmen\xFC"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"Sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"Markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"Sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"Markierte Daten als PDF exportieren",exporterAllAsExcel:"Alle Daten als Excel exportieren",exporterVisibleAsExcel:"Sichtbare Daten als Excel exportieren",exporterSelectedAsExcel:"Markierte Daten als Excel exportieren",clearAllFilters:"Alle Filter zur\xFCcksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei au\xDFer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine g\xFCltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enth\xE4lt sie g\xFCltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu\xDF ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zur\xFCck",pageSelected:"Ausgew\xE4hlte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Eintr\xE4ge pro Seite",totalItems:"Eintr\xE4gen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"},validate:{error:"Fehler:",minLength:"Der Wert sollte mindestens THRESHOLD Zeichen lang sein.",maxLength:"Der Wert sollte maximal THRESHOLD Zeichen lang sein.",required:"Ein Wert wird ben\xF6tigt."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("es-ct",{headerCell:{aria:{defaultFilterLabel:"Filtre per columna",removeFilter:"Elimina el filtre",columnMenuButtonLabel:"Men\xFA de Columna",column:"Columna"},priority:"Priority:",filterLabel:"Filtre per columna: "},aggregate:{label:"items"},groupPanel:{description:"Arrossegueu una cap\xE7alera de columna aqu\xED i deixeu-lo anar per agrupar per aquesta columna."},search:{aria:{selected:"Fila seleccionada",notSelected:"Fila no seleccionada"},placeholder:"Cerca...",showingItems:"\xCDtems Mostrats:",selectedItems:"\xCDtems Seleccionats:",totalItems:"\xCDtems Totals:",size:"Mida de la p\xE0gina:",first:"Primera P\xE0gina",next:"Propera P\xE0gina",previous:"P\xE0gina Anterior",last:"\xDAltima P\xE0gina"},selection:{aria:{row:"Fila"},selectAll:"Seleccionar Todo",displayName:"Seleccionar Fila"},menu:{text:"Triar Columnes:"},sort:{ascending:"Ordena Ascendent",descending:"Ordena Descendent",none:"Sense Ordre",remove:"Eliminar Ordre"},column:{hide:"Amaga la Columna"},aggregation:{count:"Files Totals: ",sum:"total: ",avg:"mitj\xE0: ",min:"m\xEDn: ",max:"m\xE0x: "},pinning:{pinLeft:"Fixar a l'Esquerra",pinRight:"Fixar a la Dreta",unpin:"Treure Fixaci\xF3"},columnMenu:{close:"Tanca"},gridMenu:{aria:{buttonLabel:"Men\xFA de Quadr\xEDcula"},columns:"Columnes:",importerTitle:"Importa el fitxer",exporterAllAsCsv:"Exporta tot com CSV",exporterVisibleAsCsv:"Exporta les dades visibles com a CSV",exporterSelectedAsCsv:"Exporta les dades seleccionades com a CSV",exporterAllAsPdf:"Exporta tot com PDF",exporterVisibleAsPdf:"Exporta les dades visibles com a PDF",exporterSelectedAsPdf:"Exporta les dades seleccionades com a PDF",exporterAllAsExcel:"Exporta tot com Excel",exporterVisibleAsExcel:"Exporta les dades visibles com Excel",exporterSelectedAsExcel:"Exporta les dades seleccionades com Excel",clearAllFilters:"Netejar tots els filtres"},importer:{noHeaders:"No va ser possible derivar els noms de les columnes, t\xE9 encap\xE7alats l'arxiu?",noObjects:"No va ser possible obtenir registres, cont\xE9 dades l'arxiu, a part de les cap\xE7aleres?",invalidCsv:"No va ser possible processar l'arxiu, \xBF\xE9s un CSV v\xE0lid?",invalidJson:"No va ser possible processar l'arxiu, \xBF\xE9s un JSON v\xE0lid?",jsonNotArray:"El fitxer json importat ha de contenir una matriu, avortant."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"\xEDtems per p\xE0gina",totalItems:"\xEDtems",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Compte",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: M\xE1x",aggregate_min:"Agr: M\xEDn",aggregate_avg:"Agr: Mitj\xE0",aggregate_remove:"Agr: Treure"},validate:{error:"Error:",minLength:"El valor ha de tenir almenys car\xE0cters THRESHOLD.",maxLength:"El valor ha de tenir com a m\xE0xim car\xE0cters THRESHOLD.",required:"Un valor \xE9s necessari."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("es",{aggregate:{label:"Art\xEDculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu\xED y su\xE9ltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Art\xEDculos Mostrados:",selectedItems:"Art\xEDculos Seleccionados:",totalItems:"Art\xEDculos Totales:",size:"Tama\xF1o de P\xE1gina:",first:"Primera P\xE1gina",next:"P\xE1gina Siguiente",previous:"P\xE1gina Anterior",last:"\xDAltima P\xE1gina"},selection:{aria:{row:"Fila"},selectAll:"Seleccionar Todo",displayName:"Seleccionar Fila"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijaci\xF3n"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selecci\xF3n como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selecci\xF3n como pdf",exporterAllAsExcel:"Exportar todo como excel",exporterVisibleAsExcel:"Exportar vista como excel",exporterSelectedAsExcel:"Exportar selecci\xF3n como excel",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, \xBFtiene encabezados el archivo?",noObjects:"No fue posible obtener registros, \xBFcontiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, \xBFes un CSV v\xE1lido?",invalidJson:"No fue posible procesar el archivo, \xBFes un Json v\xE1lido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{aria:{pageToFirst:"P\xE1gina para primero",pageBack:"P\xE1gina atr\xE1s",pageSelected:"P\xE1gina seleccionada",pageForward:"Avance de p\xE1gina",pageToLast:"P\xE1gina para durar"},through:"mediante",sizes:"registros por p\xE1gina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: M\xE1x",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("fa",{aggregate:{label:"\u0642\u0644\u0645"},groupPanel:{description:"\u0639\u0646\u0648\u0627\u0646 \u06CC\u06A9 \u0633\u062A\u0648\u0646 \u0631\u0627 \u0628\u06AF\u06CC\u0631 \u0648 \u0628\u0647 \u06AF\u0631\u0648\u0647\u06CC \u0627\u0632 \u0622\u0646 \u0633\u062A\u0648\u0646 \u0631\u0647\u0627 \u06A9\u0646."},search:{placeholder:"\u062C\u0633\u062A\u062C\u0648...",showingItems:"\u0646\u0645\u0627\u06CC\u0634 \u0627\u0642\u0644\u0627\u0645:",selectedItems:"\u0642\u0644\u0645\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647:",totalItems:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0642\u0644\u0627\u0645:",size:"\u0627\u0646\u062F\u0627\u0632\u0647\u200C\u06CC \u0635\u0641\u062D\u0647:",first:"\u0627\u0648\u0644\u06CC\u0646 \u0635\u0641\u062D\u0647",next:"\u0635\u0641\u062D\u0647\u200C\u06CC\u200C\u0628\u0639\u062F\u06CC",previous:"\u0635\u0641\u062D\u0647\u200C\u06CC\u200C \u0642\u0628\u0644\u06CC",last:"\u0622\u062E\u0631\u06CC\u0646 \u0635\u0641\u062D\u0647"},menu:{text:"\u0633\u062A\u0648\u0646\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628\u06CC:"},sort:{ascending:"\u062A\u0631\u062A\u06CC\u0628 \u0635\u0639\u0648\u062F\u06CC",descending:"\u062A\u0631\u062A\u06CC\u0628 \u0646\u0632\u0648\u0644\u06CC",remove:"\u062D\u0630\u0641 \u0645\u0631\u062A\u0628 \u06A9\u0631\u062F\u0646"},column:{hide:"\u067E\u0646\u0647\u0627\u0646\u200C\u06A9\u0631\u062F\u0646 \u0633\u062A\u0648\u0646"},aggregation:{count:"\u062A\u0639\u062F\u0627\u062F: ",sum:"\u0645\u062C\u0645\u0648\u0639: ",avg:"\u0645\u06CC\u0627\u0646\u06AF\u06CC\u0646: ",min:"\u06A9\u0645\u062A\u0631\u06CC\u0646: ",max:"\u0628\u06CC\u0634\u062A\u0631\u06CC\u0646: "},pinning:{pinLeft:"\u067E\u06CC\u0646 \u06A9\u0631\u062F\u0646 \u0633\u0645\u062A \u0686\u067E",pinRight:"\u067E\u06CC\u0646 \u06A9\u0631\u062F\u0646 \u0633\u0645\u062A \u0631\u0627\u0633\u062A",unpin:"\u062D\u0630\u0641 \u067E\u06CC\u0646"},gridMenu:{columns:"\u0633\u062A\u0648\u0646\u200C\u0647\u0627:",importerTitle:"\u0648\u0627\u0631\u062F \u06A9\u0631\u062F\u0646 \u0641\u0627\u06CC\u0644",exporterAllAsCsv:"\u062E\u0631\u0648\u062C\u06CC \u062A\u0645\u0627\u0645 \u062F\u0627\u062F\u0647\u200C\u0647\u0627 \u062F\u0631 \u0641\u0627\u06CC\u0644 csv",exporterVisibleAsCsv:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 csv",exporterSelectedAsCsv:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 csv",exporterAllAsPdf:"\u062E\u0631\u0648\u062C\u06CC \u062A\u0645\u0627\u0645 \u062F\u0627\u062F\u0647\u200C\u0647\u0627 \u062F\u0631 \u0641\u0627\u06CC\u0644 pdf",exporterVisibleAsPdf:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 pdf",exporterSelectedAsPdf:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 pdf",clearAllFilters:"\u067E\u0627\u06A9 \u06A9\u0631\u062F\u0646 \u062A\u0645\u0627\u0645 \u0641\u06CC\u0644\u062A\u0631"},importer:{noHeaders:"\u0646\u0627\u0645 \u0633\u062A\u0648\u0646 \u0642\u0627\u0628\u0644 \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0646\u06CC\u0633\u062A. \u0622\u06CC\u0627 \u0641\u0627\u06CC\u0644 \u0639\u0646\u0648\u0627\u0646 \u062F\u0627\u0631\u062F\u061F",noObjects:"\u0627\u0634\u06CC\u0627 \u0642\u0627\u0628\u0644 \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0646\u06CC\u0633\u062A\u0646\u062F. \u0622\u06CC\u0627 \u0628\u0647 \u062C\u0632 \u0639\u0646\u0648\u0627\u0646\u200C\u0647\u0627 \u062F\u0631 \u0641\u0627\u06CC\u0644 \u062F\u0627\u062F\u0647 \u0648\u062C\u0648\u062F \u062F\u0627\u0631\u062F\u061F",invalidCsv:"\u0641\u0627\u06CC\u0644 \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u0632\u0634 \u0646\u06CC\u0633\u062A. \u0622\u06CC\u0627 \u0641\u0631\u0645\u062A  csv  \u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A\u061F",invalidJson:"\u0641\u0627\u06CC\u0644 \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u0632\u0634 \u0646\u06CC\u0633\u062A. \u0622\u06CC\u0627 \u0641\u0631\u0645\u062A json   \u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A\u061F",jsonNotArray:"\u0641\u0627\u06CC\u0644 json \u0648\u0627\u0631\u062F \u0634\u062F\u0647 \u0628\u0627\u06CC\u062F \u062D\u0627\u0648\u06CC \u0622\u0631\u0627\u06CC\u0647 \u0628\u0627\u0634\u062F. \u0639\u0645\u0644\u06CC\u0627\u062A \u0633\u0627\u0642\u0637 \u0634\u062F."},pagination:{sizes:"\u0627\u0642\u0644\u0627\u0645 \u062F\u0631 \u0647\u0631 \u0635\u0641\u062D\u0647",totalItems:"\u0627\u0642\u0644\u0627\u0645",of:"\u0627\u0632"},grouping:{group:"\u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",ungroup:"\u062D\u0630\u0641 \u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",aggregate_count:"Agg: \u062A\u0639\u062F\u0627\u062F",aggregate_sum:"Agg: \u062C\u0645\u0639",aggregate_max:"Agg: \u0628\u06CC\u0634\u06CC\u0646\u0647",aggregate_min:"Agg: \u06A9\u0645\u06CC\u0646\u0647",aggregate_avg:"Agg: \u0645\u06CC\u0627\u0646\u06AF\u06CC\u0646",aggregate_remove:"Agg: \u062D\u0630\u0641"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko t\xE4h\xE4n ryhmitt\xE4\xE4ksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"N\xE4ytet\xE4\xE4n rivej\xE4:",selectedItems:"Valitut rivit:",totalItems:"Rivej\xE4 yht.:",size:"N\xE4yt\xE4:",first:"Ensimm\xE4inen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"J\xE4rjest\xE4 nouseva",descending:"J\xE4rjest\xE4 laskeva",remove:"Poista j\xE4rjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej\xE4 yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie n\xE4kyv\xE4 tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie n\xE4kyv\xE4 tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",exporterAllAsExcel:"Vie tiedot excel-muodossa",exporterVisibleAsExcel:"Vie n\xE4kyv\xE4 tieto excel-muodossa",exporterSelectedAsExcel:"Vie valittu tieto excel-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimi\xE4 ei voitu p\xE4\xE4tell\xE4, onko tiedostossa otsikkorivi\xE4?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu k\xE4sitell\xE4, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu k\xE4sitell\xE4, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sis\xE4lt\xE4nyt taulukkoa, lopetetaan."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorit\xE9:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"\xE9l\xE9ments"},groupPanel:{description:"Faites glisser une en-t\xEAte de colonne ici pour cr\xE9er un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des \xE9l\xE9ments :",selectedItems:"\xC9l\xE9ments s\xE9lectionn\xE9s :",totalItems:"Nombre total d'\xE9l\xE9ments:",size:"Taille de page:",first:"Premi\xE8re page",next:"Page Suivante",previous:"Page pr\xE9c\xE9dente",last:"Derni\xE8re page"},selection:{aria:{row:"Ligne"},selectAll:"Tout S\xE9lectionner",displayName:"S\xE9lectionnez la ligne"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre d\xE9croissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"\xC9pingler \xE0 gauche",pinRight:"\xC9pingler \xE0 droite",unpin:"D\xE9tacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donn\xE9es en CSV",exporterVisibleAsCsv:"Exporter les donn\xE9es visibles en CSV",exporterSelectedAsCsv:"Exporter les donn\xE9es s\xE9lectionn\xE9es en CSV",exporterAllAsPdf:"Exporter toutes les donn\xE9es en PDF",exporterVisibleAsPdf:"Exporter les donn\xE9es visibles en PDF",exporterSelectedAsPdf:"Exporter les donn\xE9es s\xE9lectionn\xE9es en PDF",exporterAllAsExcel:"Exporter toutes les donn\xE9es en Excel",exporterVisibleAsExcel:"Exporter les donn\xE9es visibles en Excel",exporterSelectedAsExcel:"Exporter les donn\xE9es s\xE9lectionn\xE9es en Excel",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de d\xE9terminer le nom des colonnes, le fichier poss\xE8de-t-il une en-t\xEAte ?",noObjects:"Aucun objet trouv\xE9, le fichier poss\xE8de-t-il des donn\xE9es autres que l'en-t\xEAte ?",invalidCsv:"Le fichier n'a pas pu \xEAtre trait\xE9, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu \xEAtre trait\xE9, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import\xE9 doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller \xE0 la premi\xE8re page",pageBack:"Page pr\xE9c\xE9dente",pageSelected:"Page s\xE9lectionn\xE9e",pageForward:"Page suivante",pageToLast:"Aller \xE0 la derni\xE8re page"},sizes:"\xE9l\xE9ments par page",totalItems:"\xE9l\xE9ments",through:"\xE0",of:"sur"},grouping:{group:"Grouper",ungroup:"D\xE9grouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit \xEAtre sup\xE9rieure ou \xE9gale \xE0 THRESHOLD caract\xE8res.",maxLength:"La valeur doit \xEAtre inf\xE9rieure ou \xE9gale \xE0 THRESHOLD caract\xE8res.",required:"Une valeur est n\xE9c\xE9ssaire."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("he",{aggregate:{label:"items"},groupPanel:{description:"\u05D2\u05E8\u05D5\u05E8 \u05E2\u05DE\u05D5\u05D3\u05D4 \u05DC\u05DB\u05D0\u05DF \u05D5\u05E9\u05D7\u05E8\u05E8 \u05D1\u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05E5 \u05E2\u05DE\u05D5\u05D3\u05D4 \u05D6\u05D5."},search:{placeholder:"\u05D7\u05E4\u05E9...",showingItems:"\u05DE\u05E6\u05D9\u05D2:",selectedItems:'\u05E1\u05D4"\u05DB \u05E0\u05D1\u05D7\u05E8\u05D5:',totalItems:'\u05E1\u05D4"\u05DB \u05E8\u05E9\u05D5\u05DE\u05D5\u05EA:',size:"\u05EA\u05D5\u05E6\u05D0\u05D5\u05EA \u05D1\u05D3\u05E3:",first:"\u05D3\u05E3 \u05E8\u05D0\u05E9\u05D5\u05DF",next:"\u05D3\u05E3 \u05D4\u05D1\u05D0",previous:"\u05D3\u05E3 \u05E7\u05D5\u05D3\u05DD",last:"\u05D3\u05E3 \u05D0\u05D7\u05E8\u05D5\u05DF"},menu:{text:"\u05D1\u05D7\u05E8 \u05E2\u05DE\u05D5\u05D3\u05D5\u05EA:"},sort:{ascending:"\u05E1\u05D3\u05E8 \u05E2\u05D5\u05DC\u05D4",descending:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05E8\u05D3",remove:"\u05D1\u05D8\u05DC"},column:{hide:"\u05D8\u05D5\u05E8 \u05D4\u05E1\u05EA\u05E8"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("hy",{aggregate:{label:"\u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580"},groupPanel:{description:"\u0538\u057D\u057F \u057D\u0575\u0561\u0576 \u056D\u0574\u0562\u0561\u057E\u0578\u0580\u0565\u056C\u0578\u0582 \u0570\u0561\u0574\u0561\u0580 \u0584\u0561\u0577\u0565\u0584 \u0587 \u0563\u0581\u0565\u0584 \u057E\u0565\u0580\u0576\u0561\u0563\u056B\u0580\u0576 \u0561\u0575\u057D\u057F\u0565\u0572\u0589"},search:{placeholder:"\u0553\u0576\u057F\u0580\u0578\u0582\u0574...",showingItems:"\u0551\u0578\u0582\u0581\u0561\u0564\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u055D",selectedItems:"\u0538\u0576\u057F\u0580\u057E\u0561\u056E:",totalItems:"\u0538\u0576\u0564\u0561\u0574\u0565\u0576\u0568\u055D",size:"\u054F\u0578\u0572\u0565\u0580\u056B \u0584\u0561\u0576\u0561\u056F\u0568 \u0567\u057B\u0578\u0582\u0574\u055D",first:"\u0531\u057C\u0561\u057B\u056B\u0576 \u0567\u057B",next:"\u0540\u0561\u057B\u0578\u0580\u0564 \u0567\u057B",previous:"\u0546\u0561\u056D\u0578\u0580\u0564 \u0567\u057B",last:"\u054E\u0565\u0580\u057B\u056B\u0576 \u0567\u057B"},menu:{text:"\u0538\u0576\u057F\u0580\u0565\u056C \u057D\u0575\u0578\u0582\u0576\u0565\u0580\u0568:"},sort:{ascending:"\u0531\u0573\u0574\u0561\u0576 \u056F\u0561\u0580\u0563\u0578\u057E",descending:"\u0546\u057E\u0561\u0566\u0574\u0561\u0576 \u056F\u0561\u0580\u0563\u0578\u057E",remove:"\u0540\u0561\u0576\u0565\u056C "},column:{hide:"\u0539\u0561\u0584\u0581\u0576\u0565\u056C \u057D\u0575\u0578\u0582\u0576\u0568"},aggregation:{count:"\u0568\u0576\u0564\u0561\u0574\u0565\u0576\u0568 \u057F\u0578\u0572\u055D ",sum:"\u0568\u0576\u0564\u0561\u0574\u0565\u0576\u0568\u055D ",avg:"\u0574\u056B\u057B\u056B\u0576\u055D ",min:"\u0574\u056B\u0576\u055D ",max:"\u0574\u0561\u0584\u057D\u055D "},pinning:{pinLeft:"\u053F\u057A\u0581\u0576\u0565\u056C \u0571\u0561\u056D \u056F\u0578\u0572\u0574\u0578\u0582\u0574",pinRight:"\u053F\u057A\u0581\u0576\u0565\u056C \u0561\u057B \u056F\u0578\u0572\u0574\u0578\u0582\u0574",unpin:"\u0531\u0580\u0571\u0561\u056F\u0565\u056C"},gridMenu:{columns:"\u054D\u0575\u0578\u0582\u0576\u0565\u0580:",importerTitle:"\u0546\u0565\u0580\u0574\u0578\u0582\u056E\u0565\u056C \u0586\u0561\u0575\u056C",exporterAllAsCsv:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0561\u0574\u0562\u0578\u0572\u057B\u0568 CSV",exporterVisibleAsCsv:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0565\u0580\u0587\u0561\u0581\u0578\u0572 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 CSV",exporterSelectedAsCsv:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0568\u0576\u057F\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 CSV",exporterAllAsPdf:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C PDF",exporterVisibleAsPdf:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0565\u0580\u0587\u0561\u0581\u0578\u0572 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 PDF",exporterSelectedAsPdf:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0568\u0576\u057F\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 PDF",exporterAllAsExcel:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C excel",exporterVisibleAsExcel:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0565\u0580\u0587\u0561\u0581\u0578\u0572 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 excel",exporterSelectedAsExcel:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0568\u0576\u057F\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 excel",clearAllFilters:"\u0544\u0561\u0584\u0580\u0565\u056C \u0562\u0578\u056C\u0578\u0580 \u0586\u056B\u056C\u057F\u0580\u0565\u0580\u0568"},importer:{noHeaders:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u0578\u0580\u0578\u0577\u0565\u056C \u057D\u0575\u0561\u0576 \u057E\u0565\u0580\u0576\u0561\u0563\u0580\u0565\u0580\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0586\u0561\u0575\u056C\u0568 \u0578\u0582\u0576\u056B \u057E\u0565\u0580\u0576\u0561\u0563\u0580\u0565\u0580\u0589",noObjects:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u056F\u0561\u0580\u0564\u0561\u056C \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0586\u0561\u0575\u056C\u0578\u0582\u0574 \u056F\u0561\u0576 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0589",invalidCsv:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u0574\u0577\u0561\u056F\u0565\u056C \u0586\u0561\u0575\u056C\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0561\u0575\u0576 \u057E\u0561\u057E\u0565\u0580 CSV \u0567\u0589",invalidJson:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u0574\u0577\u0561\u056F\u0565\u056C \u0586\u0561\u0575\u056C\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0561\u0575\u0576 \u057E\u0561\u057E\u0565\u0580 Json \u0567\u0589",jsonNotArray:"\u0546\u0565\u0580\u0574\u0578\u0582\u056E\u057E\u0561\u056E json \u0586\u0561\u0575\u056C\u0568 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B \u0566\u0561\u0576\u0563\u057E\u0561\u056E, \u056F\u0561\u057D\u0565\u0581\u057E\u0578\u0582\u0574 \u0567\u0589"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("is",{headerCell:{aria:{defaultFilterLabel:"S\xEDa fyrir d\xE1lk",removeFilter:"Fjarl\xE6gja s\xEDu",columnMenuButtonLabel:"D\xE1lkavalmynd"},priority:"Forgangsr\xF6\xF0un:",filterLabel:"S\xEDa fyrir d\xE1lka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Drag\xF0u d\xE1lkhaus hinga\xF0 til a\xF0 flokka saman eftir \xFEeim d\xE1lki."},search:{placeholder:"Leita...",showingItems:"S\xFDni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"St\xE6r\xF0 s\xED\xF0u:",first:"Fyrsta s\xED\xF0a",next:"N\xE6sta s\xED\xF0a",previous:"Fyrri s\xED\xF0a",last:"S\xED\xF0asta s\xED\xF0a"},menu:{text:"Veldu d\xE1lka:"},sort:{ascending:"Ra\xF0a h\xE6kkandi",descending:"Ra\xF0a l\xE6kkandi",none:"Engin r\xF6\xF0un",remove:"Fjarl\xE6gja r\xF6\xF0un"},column:{hide:"Fela d\xE1lk"},aggregation:{count:"fj\xF6ldi ra\xF0a: ",sum:"summa: ",avg:"me\xF0altal: ",min:"l\xE1gmark: ",max:"h\xE1mark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til h\xE6gri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"T\xF6flu valmynd"},columns:"D\xE1lkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja \xFAt g\xF6gn sem csv",exporterVisibleAsCsv:"Flytja \xFAt s\xFDnileg g\xF6gn sem csv",exporterSelectedAsCsv:"Flytja \xFAt valin g\xF6gn sem csv",exporterAllAsPdf:"Flytja \xFAt \xF6ll g\xF6gn sem pdf",exporterVisibleAsPdf:"Flytja \xFAt s\xFDnileg g\xF6gn sem pdf",exporterSelectedAsPdf:"Flytja \xFAt valin g\xF6gn sem pdf",clearAllFilters:"Hreinsa allar s\xEDur"},importer:{noHeaders:"Ekki h\xE6gt a\xF0 vinna d\xE1lkan\xF6fn \xFAr skjalinu, er skjali\xF0 \xF6rugglega me\xF0 haus?",noObjects:"Ekki h\xE6gt a\xF0 vinna hluti \xFAr skjalinu, voru \xF6rugglega g\xF6gn \xED skjalinu \xF6nnur en hausinn?",invalidCsv:"T\xF3kst ekki a\xF0 vinna skjal, er \xFEa\xF0 \xF6rggulega gilt CSV?",invalidJson:"T\xF3kst ekki a\xF0 vinna skjal, er \xFEa\xF0 \xF6rugglega gilt Json?",jsonNotArray:"Innflutt json skjal ver\xF0ur a\xF0 innihalda fylki, h\xE6tti vi\xF0."},pagination:{aria:{pageToFirst:"Fletta a\xF0 fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin s\xED\xF0a",pageForward:"Fletta \xE1fram",pageToLast:"Fletta a\xF0 s\xED\xF0ustu"},sizes:"hlutir \xE1 s\xED\xF0u",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurli\xF0a",aggregate_count:"Fj\xF6ldi: ",aggregate_sum:"Summa: ",aggregate_max:"H\xE1mark: ",aggregate_min:"L\xE1gmark: ",aggregate_avg:"Me\xF0altal: ",aggregate_remove:"Fjarl\xE6gja: "},validate:{error:"Villa:",minLength:"Gildi \xE6tti a\xF0 vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi \xE6tti a\xF0 vera \xED mesta lagi THRESHOLD stafa langt.",required:"\xDEarf a\xF0 hafa gildi."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},selection:{aria:{row:"Riga"},selectAll:"Seleccionar Todo",displayName:"Seleziona Riga"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",exporterAllAsExcel:"Esporta tutti i dati in excel",exporterVisibleAsExcel:"Esporta i dati visibili in excel",exporterSelectedAsExcel:"Esporta i dati selezionati in excel",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ja",{headerCell:{aria:{defaultFilterLabel:"\u5217\u306E\u30D5\u30A3\u30EB\u30BF\u30FC",removeFilter:"\u30D5\u30A3\u30EB\u30BF\u30FC\u306E\u89E3\u9664",columnMenuButtonLabel:"\u5217\u306E\u30E1\u30CB\u30E5\u30FC"},priority:"\u512A\u5148\u5EA6:",filterLabel:"\u5217\u30D5\u30A3\u30EB\u30BF\u30FC: "},aggregate:{label:"\u9805\u76EE"},groupPanel:{description:"\u3053\u3053\u306B\u5217\u30D8\u30C3\u30C0\u3092\u30C9\u30E9\u30C3\u30B0\u30A2\u30F3\u30C9\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u3001\u305D\u306E\u5217\u3067\u30B0\u30EB\u30FC\u30D7\u5316\u3057\u307E\u3059\u3002"},search:{placeholder:"\u691C\u7D22...",showingItems:"\u8868\u793A\u4E2D\u306E\u9805\u76EE:",selectedItems:"\u9078\u629E\u3057\u305F\u9805\u76EE:",totalItems:"\u9805\u76EE\u306E\u7DCF\u6570:",size:"\u30DA\u30FC\u30B8\u30B5\u30A4\u30BA:",first:"\u6700\u521D\u306E\u30DA\u30FC\u30B8",next:"\u6B21\u306E\u30DA\u30FC\u30B8",previous:"\u524D\u306E\u30DA\u30FC\u30B8",last:"\u524D\u306E\u30DA\u30FC\u30B8"},menu:{text:"\u5217\u306E\u9078\u629E:"},sort:{ascending:"\u6607\u9806\u306B\u4E26\u3079\u66FF\u3048",descending:"\u964D\u9806\u306B\u4E26\u3079\u66FF\u3048",none:"\u4E26\u3079\u66FF\u3048\u7121\u3057",remove:"\u4E26\u3079\u66FF\u3048\u306E\u89E3\u9664"},column:{hide:"\u5217\u306E\u975E\u8868\u793A"},aggregation:{count:"\u884C\u6570: ",sum:"\u5408\u8A08: ",avg:"\u5E73\u5747: ",min:"\u6700\u5C0F: ",max:"\u6700\u5927: "},pinning:{pinLeft:"\u5DE6\u306B\u56FA\u5B9A",pinRight:"\u53F3\u306B\u56FA\u5B9A",unpin:"\u56FA\u5B9A\u89E3\u9664"},columnMenu:{close:"\u9589\u3058\u308B"},gridMenu:{aria:{buttonLabel:"\u30B0\u30EA\u30C3\u30C9\u30E1\u30CB\u30E5\u30FC"},columns:"\u5217\u306E\u8868\u793A/\u975E\u8868\u793A:",importerTitle:"\u30D5\u30A1\u30A4\u30EB\u306E\u30A4\u30F3\u30DD\u30FC\u30C8",exporterAllAsCsv:"\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092CSV\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterVisibleAsCsv:"\u8868\u793A\u4E2D\u306E\u30C7\u30FC\u30BF\u3092CSV\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterSelectedAsCsv:"\u9078\u629E\u3057\u305F\u30C7\u30FC\u30BF\u3092CSV\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterAllAsPdf:"\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092PDF\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterVisibleAsPdf:"\u8868\u793A\u4E2D\u306E\u30C7\u30FC\u30BF\u3092PDF\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterSelectedAsPdf:"\u9078\u629E\u3057\u305F\u30C7\u30FC\u30BF\u3092PDF\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",clearAllFilters:"\u3059\u3079\u3066\u306E\u30D5\u30A3\u30EB\u30BF\u3092\u30AF\u30EA\u30A2"},importer:{noHeaders:"\u5217\u540D\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u306B\u30D8\u30C3\u30C0\u304C\u542B\u307E\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",noObjects:"\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u306B\u30D8\u30C3\u30C0\u4EE5\u5916\u306E\u30C7\u30FC\u30BF\u304C\u542B\u307E\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",invalidCsv:"\u30D5\u30A1\u30A4\u30EB\u3092\u51E6\u7406\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u304C\u6709\u52B9\u306ACSV\u5F62\u5F0F\u3067\u3042\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",invalidJson:"\u30D5\u30A1\u30A4\u30EB\u3092\u51E6\u7406\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u304C\u6709\u52B9\u306AJSON\u5F62\u5F0F\u3067\u3042\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",jsonNotArray:"\u30A4\u30F3\u30DD\u30FC\u30C8\u3057\u305FJSON\u30D5\u30A1\u30A4\u30EB\u306B\u306F\u914D\u5217\u304C\u542B\u307E\u308C\u3066\u3044\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002\u51E6\u7406\u3092\u4E2D\u6B62\u3057\u307E\u3059\u3002"},pagination:{aria:{pageToFirst:"\u6700\u521D\u306E\u30DA\u30FC\u30B8",pageBack:"\u524D\u306E\u30DA\u30FC\u30B8",pageSelected:"\u73FE\u5728\u306E\u30DA\u30FC\u30B8",pageForward:"\u6B21\u306E\u30DA\u30FC\u30B8",pageToLast:"\u6700\u5F8C\u306E\u30DA\u30FC\u30B8"},sizes:"\u4EF6/\u30DA\u30FC\u30B8",totalItems:"\u4EF6",through:"\u304B\u3089",of:"\u4EF6/\u5168"},grouping:{group:"\u30B0\u30EB\u30FC\u30D7\u5316",ungroup:"\u30B0\u30EB\u30FC\u30D7\u5316\u306E\u89E3\u9664",aggregate_count:"\u96C6\u8A08\u8868\u793A: \u884C\u6570",aggregate_sum:"\u96C6\u8A08\u8868\u793A: \u5408\u8A08",aggregate_max:"\u96C6\u8A08\u8868\u793A: \u6700\u5927",aggregate_min:"\u96C6\u8A08\u8868\u793A: \u6700\u5C0F",aggregate_avg:"\u96C6\u8A08\u8868\u793A: \u5E73\u5747",aggregate_remove:"\u96C6\u8A08\u8868\u793A: \u89E3\u9664"},validate:{error:"Error:",minLength:"THRESHOLD \u6587\u5B57\u4EE5\u4E0A\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",maxLength:"THRESHOLD \u6587\u5B57\u4EE5\u4E0B\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",required:"\u5024\u304C\u5FC5\u8981\u3067\u3059\u3002"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ko",{aggregate:{label:"\uC544\uC774\uD15C"},groupPanel:{description:"\uCEEC\uB7FC\uC73C\uB85C \uADF8\uB8F9\uD551\uD558\uAE30 \uC704\uD574\uC11C\uB294 \uCEEC\uB7FC \uD5E4\uB354\uB97C \uB04C\uC5B4 \uB5A8\uC5B4\uB728\uB824 \uC8FC\uC138\uC694."},search:{placeholder:"\uAC80\uC0C9...",showingItems:"\uD56D\uBAA9 \uBCF4\uC5EC\uC8FC\uAE30:",selectedItems:"\uC120\uD0DD \uD56D\uBAA9:",totalItems:"\uC804\uCCB4 \uD56D\uBAA9:",size:"\uD398\uC774\uC9C0 \uD06C\uAE30:",first:"\uCCAB\uBC88\uC9F8 \uD398\uC774\uC9C0",next:"\uB2E4\uC74C \uD398\uC774\uC9C0",previous:"\uC774\uC804 \uD398\uC774\uC9C0",last:"\uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0"},menu:{text:"\uCEEC\uB7FC\uC744 \uC120\uD0DD\uD558\uC138\uC694:"},sort:{ascending:"\uC624\uB984\uCC28\uC21C \uC815\uB82C",descending:"\uB0B4\uB9BC\uCC28\uC21C \uC815\uB82C",remove:"\uC18C\uD305 \uC81C\uAC70"},column:{hide:"\uCEEC\uB7FC \uC81C\uAC70"},aggregation:{count:"\uC804\uCCB4 \uAC2F\uC218: ",sum:"\uC804\uCCB4: ",avg:"\uD3C9\uADE0: ",min:"\uCD5C\uC18C: ",max:"\uCD5C\uB300: "},pinning:{pinLeft:"\uC67C\uCABD \uD540",pinRight:"\uC624\uB978\uCABD \uD540",unpin:"\uD540 \uC81C\uAC70"},gridMenu:{columns:"\uCEEC\uB7FC:",importerTitle:"\uD30C\uC77C \uAC00\uC838\uC624\uAE30",exporterAllAsCsv:"csv\uB85C \uBAA8\uB4E0 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterVisibleAsCsv:"csv\uB85C \uBCF4\uC774\uB294 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterSelectedAsCsv:"csv\uB85C \uC120\uD0DD\uB41C \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterAllAsPdf:"pdf\uB85C \uBAA8\uB4E0 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterVisibleAsPdf:"pdf\uB85C \uBCF4\uC774\uB294 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterSelectedAsPdf:"pdf\uB85C \uC120\uD0DD \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",clearAllFilters:"\uBAA8\uB4E0 \uD544\uD130\uB97C \uCCAD\uC18C"},importer:{noHeaders:"\uCEEC\uB7FC\uBA85\uC774 \uC9C0\uC815\uB418\uC5B4 \uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uD30C\uC77C\uC5D0 \uD5E4\uB354\uAC00 \uBA85\uC2DC\uB418\uC5B4 \uC788\uB294\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",noObjects:"\uB370\uC774\uD130\uAC00 \uC9C0\uC815\uB418\uC5B4 \uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uB370\uC774\uD130\uAC00 \uD30C\uC77C\uC5D0 \uC788\uB294\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",invalidCsv:"\uD30C\uC77C\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC62C\uBC14\uB978 csv\uC778\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",invalidJson:"\uD30C\uC77C\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC62C\uBC14\uB978 json\uC778\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",jsonNotArray:"json \uD30C\uC77C\uC740 \uBC30\uC5F4\uC744 \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4."},pagination:{sizes:"\uD398\uC774\uC9C0\uB2F9 \uD56D\uBAA9",totalItems:"\uC804\uCCB4 \uD56D\uBAA9"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",exporterAllAsExcel:"Exporteer alle data als excel",exporterVisibleAsExcel:"Exporteer zichtbare data als excel",exporterSelectedAsExcel:"Exporteer alle data als excel",clearAllFilters:"Alle filters wissen"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for \xE5 gruppere etter den kolonnen."},search:{placeholder:"S\xF8k...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidest\xF8rrelse:",first:"F\xF8rste side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til h\xF8yre",unpin:"L\xF8sne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter utvalgte data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil m\xE5 inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"G\xE5 til f\xF8rste side",pageBack:"G\xE5 til forrige side",pageSelected:"Valgte side",pageForward:"G\xE5 til neste side",pageToLast:"G\xE5 til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usu\u0144 filtr",columnMenuButtonLabel:"Opcje kolumny",column:"Kolumna"},priority:"Priorytet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeci\u0105gnij nag\u0142\xF3wek kolumny tutaj, aby pogrupowa\u0107 wed\u0142ug niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Nast\u0119pna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosn\u0105co",descending:"Sortuj malej\u0105co",none:"Brak sortowania",remove:"Wy\u0142\u0105cz sortowanie"},column:{hide:"Ukryj kolumn\u0119"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"\u015Arednia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",exporterAllAsExcel:"Eksportuj wszystkie dane do excel",exporterVisibleAsExcel:"Eksportuj widoczne dane do excel",exporterSelectedAsExcel:"Eksportuj zaznaczone dane do excel",clearAllFilters:"Wyczy\u015B\u0107 filtry"},importer:{noHeaders:"Nie uda\u0142o si\u0119 wczyta\u0107 nazw kolumn. Czy plik posiada nag\u0142\xF3wek?",noObjects:"Nie udalo si\u0119 wczyta\u0107 pozycji. Czy plik zawiera dane?",invalidCsv:"Nie uda\u0142o si\u0119 przetworzy\u0107 pliku. Czy to prawid\u0142owy plik CSV?",invalidJson:"Nie uda\u0142o si\u0119 przetworzy\u0107 pliku. Czy to prawid\u0142owy plik JSON?",jsonNotArray:"Importowany plik JSON musi zawiera\u0107 tablic\u0119. Importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Nast\u0119pna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stron\u0119",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: \u015Arednia",aggregate_remove:"Zbiorczo: Usu\u0144"},validate:{error:"B\u0142\u0105d:",minLength:"Warto\u015B\u0107 powinna sk\u0142ada\u0107 si\u0119 z co najmniej THRESHOLD znak\xF3w.",maxLength:"Warto\u015B\u0107 powinna sk\u0142ada\u0107 si\u0119 z przynajmniej THRESHOLD znak\xF3w.",required:"Warto\u015B\u0107 jest wymagana."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna",column:"Coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{aria:{selected:"Linha selecionada",notSelected:"Linha n\xE3o est\xE1 selecionada"},placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da P\xE1gina:",first:"Primeira P\xE1gina",next:"Pr\xF3xima P\xE1gina",previous:"P\xE1gina Anterior",last:"\xDAltima P\xE1gina"},selection:{aria:{row:"Linha"},selectAll:"Selecionar Tudo",displayName:"Caixa de Sele\xE7\xE3o da Linha"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordena\xE7\xE3o"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados vis\xEDveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados vis\xEDveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",exporterAllAsExcel:"Exportar todos os dados como excel",exporterVisibleAsExcel:"Exportar dados vis\xEDveis como excel",exporterSelectedAsExcel:"Exportar dados selecionados como excel",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas n\xE3o puderam ser derivados. O arquivo tem um cabe\xE7alho?",noObjects:"Objetos n\xE3o puderam ser derivados. Havia dados no arquivo, al\xE9m dos cabe\xE7alhos?",invalidCsv:"Arquivo n\xE3o pode ser processado. \xC9 um CSV v\xE1lido?",invalidJson:"Arquivo n\xE3o pode ser processado. \xC9 um Json v\xE1lido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira p\xE1gina",pageBack:"P\xE1gina anterior",pageSelected:"P\xE1gina Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por p\xE1gina",totalItems:"itens",through:"atrav\xE9s dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"},validate:{error:"Erro:",minLength:"O valor deve ter, no minimo, THRESHOLD caracteres.",maxLength:"O valor deve ter, no m\xE1ximo, THRESHOLD caracteres.",required:"Um valor \xE9 necess\xE1rio."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna",column:"Coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{aria:{selected:"Linha selecionada",notSelected:"Linha n\xE3o est\xE1 selecionada"},placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da P\xE1gina:",first:"Primeira P\xE1gina",next:"Pr\xF3xima P\xE1gina",previous:"P\xE1gina Anterior",last:"\xDAltima P\xE1gina"},selection:{aria:{row:"Linha"},selectAll:"Selecionar Tudo",displayName:"Caixa de Sele\xE7\xE3o da Linha"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordena\xE7\xE3o"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados vis\xEDveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados vis\xEDveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",exporterAllAsExcel:"Exportar todos os dados como excel",exporterVisibleAsExcel:"Exportar dados vis\xEDveis como excel",exporterSelectedAsExcel:"Exportar dados selecionados como excel",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas n\xE3o puderam ser derivados. O ficheiro tem um cabe\xE7alho?",noObjects:"Objetos n\xE3o puderam ser derivados. Havia dados no ficheiro, al\xE9m dos cabe\xE7alhos?",invalidCsv:"Ficheiro n\xE3o pode ser processado. \xC9 um CSV v\xE1lido?",invalidJson:"Ficheiro n\xE3o pode ser processado. \xC9 um Json v\xE1lido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira p\xE1gina",pageBack:"P\xE1gina anterior",pageSelected:"P\xE1gina Selecionada",pageForward:"Pr\xF3xima",pageToLast:"Anterior"},sizes:"itens por p\xE1gina",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"},validate:{error:"Erro:",minLength:"O valor deve ter, no minimo, THRESHOLD caracteres.",maxLength:"O valor deve ter, no m\xE1ximo, THRESHOLD caracteres.",required:"Um valor \xE9 necess\xE1rio."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("rs-lat",{headerCell:{aria:{defaultFilterLabel:"Filter za kolonu",removeFilter:"Ukloni Filter",columnMenuButtonLabel:"Meni Kolone",column:"Kolona"},priority:"Prioritet:",filterLabel:"Filter za kolonu: "},aggregate:{label:"stavke"},groupPanel:{description:"Ovde prevuci zaglavlje kolone i spusti do grupe pored te kolone."},search:{aria:{selected:"Red odabran",notSelected:"Red nije odabran"},placeholder:"Pretraga...",showingItems:"Prikazane Stavke:",selectedItems:"Odabrane Stavke:",totalItems:"Ukupno Stavki:",size:"Veli\u010Dina Stranice:",first:"Prva Stranica",next:"Slede\u0107a Stranica",previous:"Prethodna Stranica",last:"Poslednja Stranica"},menu:{text:"Odaberite kolonu:"},sort:{ascending:"Sortiraj po rastu\u0107em redosledu",descending:"Sortiraj po opadaju\u0107em redosledu",none:"Bez Sortiranja",remove:"Ukloni Sortiranje"},column:{hide:"Sakrij Kolonu"},aggregation:{count:"ukupno redova: ",sum:"ukupno: ",avg:"prosecno: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Zaka\u010Di Levo",pinRight:"Zaka\u010Di Desno",unpin:"Otka\u010Di"},columnMenu:{close:"Zatvori"},gridMenu:{aria:{buttonLabel:"Re\u0161etkasti Meni"},columns:"Kolone:",importerTitle:"Importuj fajl",exporterAllAsCsv:"Eksportuj sve podatke kao csv",exporterVisibleAsCsv:"Eksportuj vidljive podatke kao csv",exporterSelectedAsCsv:"Eksportuj obele\u017Eene podatke kao csv",exporterAllAsPdf:"Eksportuj sve podatke kao pdf",exporterVisibleAsPdf:"Eksportuj vidljive podake kao pdf",exporterSelectedAsPdf:"Eksportuj odabrane podatke kao pdf",exporterAllAsExcel:"Eksportuj sve podatke kao excel",exporterVisibleAsExcel:"Eksportuj vidljive podatke kao excel",exporterSelectedAsExcel:"Eksportuj odabrane podatke kao excel",clearAllFilters:"Obri\u0161i sve filtere"},importer:{noHeaders:"Kolone se nisu mogle podeliti, da li fajl poseduje heder?",noObjects:"Objecti nisu mogli biti podeljeni, da li je bilo i drugih podataka sem hedera?",invalidCsv:"Fajl nije bilo mogu\u0107e procesirati, da li je ispravni CSV?",invalidJson:"Fajl nije bilo mogu\u0107e procesirati, da li je ispravni JSON",jsonNotArray:"Importovani json fajl mora da sadr\u017Ei niz, prekidam operaciju."},pagination:{aria:{pageToFirst:"Prva stranica",pageBack:"Stranica pre",pageSelected:"Odabrana stranica",pageForward:"Slede\u0107a stranica",pageToLast:"Poslednja stranica"},sizes:"stavki po stranici",totalItems:"stavke",through:"kroz",of:"od"},grouping:{group:"Grupi\u0161i",ungroup:"Odrupi\u0161i",aggregate_count:"Agg: Broj",aggregate_sum:"Agg: Suma",aggregate_max:"Agg: Maksimum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Prose\u010Dna",aggregate_remove:"Agg: Ukloni"},validate:{error:"Gre\u0161ka:",minLength:"Vrednost bi trebala da bude duga bar THRESHOLD karaktera.",maxLength:"Vrednost bi trebalo da bude najvi\u0161e duga THRESHOLD karaktera.",required:"Portreba je vrednost."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ru",{headerCell:{aria:{defaultFilterLabel:"\u0424\u0438\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u043B\u0431\u0446\u0430",removeFilter:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440",columnMenuButtonLabel:"\u041C\u0435\u043D\u044E \u0441\u0442\u043E\u043B\u0431\u0446\u0430"},priority:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:",filterLabel:"\u0424\u0438\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u043B\u0431\u0446\u0430: "},aggregate:{label:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"},groupPanel:{description:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u043A\u0438 \u043F\u043E \u0441\u0442\u043E\u043B\u0431\u0446\u0443 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u0435\u0433\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435."},search:{placeholder:"\u041F\u043E\u0438\u0441\u043A...",showingItems:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B:",selectedItems:"\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B:",totalItems:"\u0412\u0441\u0435\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432:",size:"\u0420\u0430\u0437\u043C\u0435\u0440 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B:",first:"\u041F\u0435\u0440\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",next:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",previous:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",last:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},menu:{text:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0446\u044B:"},sort:{ascending:"\u041F\u043E \u0432\u043E\u0437\u0440\u0430\u0441\u0442\u0430\u043D\u0438\u044E",descending:"\u041F\u043E \u0443\u0431\u044B\u0432\u0430\u043D\u0438\u044E",none:"\u0411\u0435\u0437 \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0438",remove:"\u0423\u0431\u0440\u0430\u0442\u044C \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0443"},column:{hide:"\u0421\u043F\u0440\u044F\u0442\u0430\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0435\u0446"},aggregation:{count:"\u0432\u0441\u0435\u0433\u043E \u0441\u0442\u0440\u043E\u043A: ",sum:"\u0438\u0442\u043E\u0433\u043E: ",avg:"\u0441\u0440\u0435\u0434\u043D\u0435\u0435: ",min:"\u043C\u0438\u043D: ",max:"\u043C\u0430\u043A\u0441: "},pinning:{pinLeft:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043B\u0435\u0432\u0430",pinRight:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u0430",unpin:"\u041E\u0442\u043A\u0440\u0435\u043F\u0438\u0442\u044C"},columnMenu:{close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"},gridMenu:{aria:{buttonLabel:"\u041C\u0435\u043D\u044E"},columns:"\u0421\u0442\u043E\u043B\u0431\u0446\u044B:",importerTitle:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u0430\u0439\u043B",exporterAllAsCsv:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0451 \u0432 CSV",exporterVisibleAsCsv:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 CSV",exporterSelectedAsCsv:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 CSV",exporterAllAsPdf:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0451 \u0432 PDF",exporterVisibleAsPdf:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 PDF",exporterSelectedAsPdf:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 PDF",exporterAllAsExcel:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0451 \u0432 Excel",exporterVisibleAsExcel:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 Excel",exporterSelectedAsExcel:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 Excel",clearAllFilters:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0432\u0441\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B"},importer:{noHeaders:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F \u0441\u0442\u043E\u043B\u0431\u0446\u043E\u0432, \u0435\u0441\u0442\u044C \u043B\u0438 \u0432 \u0444\u0430\u0439\u043B\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A?",noObjects:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435, \u0435\u0441\u0442\u044C \u043B\u0438 \u0432 \u0444\u0430\u0439\u043B\u0435 \u0441\u0442\u0440\u043E\u043A\u0438 \u043A\u0440\u043E\u043C\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430?",invalidCsv:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0444\u0430\u0439\u043B, \u044D\u0442\u043E \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 CSV-\u0444\u0430\u0439\u043B?",invalidJson:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0444\u0430\u0439\u043B, \u044D\u0442\u043E \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 JSON?",jsonNotArray:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0443\u0435\u043C\u044B\u0439 JSON-\u0444\u0430\u0439\u043B \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0430\u0441\u0441\u0438\u0432, \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430."},pagination:{aria:{pageToFirst:"\u041F\u0435\u0440\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageBack:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageSelected:"\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageForward:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageToLast:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},sizes:"\u0441\u0442\u0440\u043E\u043A \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",totalItems:"\u0441\u0442\u0440\u043E\u043A",through:"\u043F\u043E",of:"\u0438\u0437"},grouping:{group:"\u0413\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",ungroup:"\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",aggregate_count:"\u0413\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C: \u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E",aggregate_sum:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u0421\u0443\u043C\u043C\u0430",aggregate_max:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C",aggregate_min:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u041C\u0438\u043D\u0438\u043C\u0443\u043C",aggregate_avg:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u0421\u0440\u0435\u0434\u043D\u0435\u0435",aggregate_remove:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u041F\u0443\u0441\u0442\u043E"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("sk",{headerCell:{aria:{defaultFilterLabel:"Filter pre st\u013Apec",removeFilter:"Odstr\xE1ni\u0165 filter",columnMenuButtonLabel:"Menu pre st\u013Apec",column:"St\u013Apec"},priority:"Priorita:",filterLabel:"Filter pre st\u013Apec: "},aggregate:{label:"polo\u017Eky"},groupPanel:{description:"Pretiahni sem n\xE1zov st\u013Apca pre zoskupenie pod\u013Ea toho st\u013Apca."},search:{aria:{selected:"Ozna\u010Den\xFD riadok",notSelected:"Neozna\u010Den\xFD riadok"},placeholder:"H\u013Eadaj...",showingItems:"Zobrazujem polo\u017Eky:",selectedItems:"Vybrat\xE9 polo\u017Eky:",totalItems:"Po\u010Det polo\u017Eiek:",size:"Po\u010Det:",first:"Prv\xE1 strana",next:"\u010Eal\u0161ia strana",previous:"Predch\xE1dzaj\xFAca strana",last:"Posledn\xE1 strana"},menu:{text:"Vyberte st\u013Apce:"},sort:{ascending:"Zotriedi\u0165 vzostupne",descending:"Zotriedi\u0165 zostupne",none:"Nezotriedi\u0165",remove:"Vymaza\u0165 triedenie"},column:{hide:"Skry\u0165 st\u013Apec"},aggregation:{count:"po\u010Det riadkov: ",sum:"spolu: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pripn\xFA\u0165 v\u013Eavo",pinRight:"Pripn\xFA\u0165 vpravo",unpin:"Odopn\xFA\u0165"},columnMenu:{close:"Zavrie\u0165"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"St\u013Apce:",importerTitle:"Importova\u0165 s\xFAbor",exporterAllAsCsv:"Exportova\u0165 v\u0161etky \xFAdaje ako CSV",exporterVisibleAsCsv:"Exportov\u0165 vidite\u013En\xE9 \xFAdaje ako CSV",exporterSelectedAsCsv:"Exportova\u0165 ozna\u010Den\xE9 \xFAdaje ako CSV",exporterAllAsPdf:"Exportova\u0165 v\u0161etky \xFAdaje ako pdf",exporterVisibleAsPdf:"Exportova\u0165 vidite\u013En\xE9 \xFAdaje ako pdf",exporterSelectedAsPdf:"Exportova\u0165 ozna\u010Den\xE9 \xFAdaje ako pdf",exporterAllAsExcel:"Exportova\u0165 v\u0161etky \xFAdaje ako excel",exporterVisibleAsExcel:"Exportova\u0165 vidite\u013En\xE9 \xFAdaje ako excel",exporterSelectedAsExcel:"Exportova\u0165 ozna\u010Den\xE9 \xFAdaje ako excel",clearAllFilters:"Zru\u0161i\u0165 v\u0161etky filtre"},importer:{noHeaders:"N\xE1zvy st\u013Apcov sa nedali odvodi\u0165, m\xE1 s\xFAbor hlavi\u010Dku?",noObjects:"Objekty nebolo mo\u017En\xE9 odvodi\u0165, existovali in\xE9 \xFAdaje v s\xFAbore ako hlavi\u010Dky?",invalidCsv:"S\xFAbor sa nepodarilo spracova\u0165, je to platn\xFD s\xFAbor CSV?",invalidJson:"S\xFAbor nebolo mo\u017En\xE9 spracova\u0165, je to platn\xFD s\xFAbor typu Json?",jsonNotArray:"Importovan\xFD s\xFAbor json mus\xED obsahova\u0165 pole, ukon\u010Dujem."},pagination:{aria:{pageToFirst:"Strana na za\u010Diatok",pageBack:"Strana dozadu",pageSelected:"Ozna\u010Den\xE1 strana",pageForward:"Strana dopredu",pageToLast:"Strana na koniec"},sizes:"polo\u017Eky na stranu",totalItems:"polo\u017Eky spolu",through:"do konca",of:"z"},grouping:{group:"Zoskupi\u0165",ungroup:"Zru\u0161i\u0165 zoskupenie",aggregate_count:"Agg: Po\u010Det",aggregate_sum:"Agg: Suma",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Zru\u0161i\u0165"},validate:{error:"Chyba:",minLength:"Hodnota by mala ma\u0165 aspo\u0148 THRESHOLD znakov dlh\xE1.",maxLength:"Hodnota by mala by\u0165 maxim\xE1lne THRESHOLD znakov dlh\xE1.",required:"Vy\u017Eaduje sa hodnota."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("sv",{headerCell:{aria:{defaultFilterLabel:"Kolumnfilter",removeFilter:"Ta bort filter",columnMenuButtonLabel:"Kolumnmeny",column:"Kolumn"},priority:"Prioritet:",filterLabel:"Filter f\xF6r kolumn: "},aggregate:{label:"Poster"},groupPanel:{description:"Dra en kolumnrubrik hit och sl\xE4pp den f\xF6r att gruppera efter den kolumnen."},search:{aria:{selected:"Rad \xE4r vald",notSelected:"Rad \xE4r inte vald"},placeholder:"S\xF6k...",showingItems:"Visar:",selectedItems:"Valda:",totalItems:"Antal:",size:"Sidstorlek:",first:"F\xF6rsta sidan",next:"N\xE4sta sida",previous:"F\xF6reg\xE5ende sida",last:"Sista sidan"},menu:{text:"V\xE4lj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",none:"Ingen sortering",remove:"Inaktivera sortering"},column:{hide:"G\xF6m kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"F\xE4st v\xE4nster",pinRight:"F\xE4st h\xF6ger",unpin:"L\xF6sg\xF6r"},columnMenu:{close:"St\xE4ng"},gridMenu:{aria:{buttonLabel:"Meny"},columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",exporterAllAsExcel:"Exportera all data till Excel",exporterVisibleAsExcel:"Exportera synlig data till Excel",exporterSelectedAsExcel:"Exportera markerad data till Excel",clearAllFilters:"Nollst\xE4ll alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte h\xE4rledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte h\xE4rledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, \xE4r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, \xE4r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil m\xE5ste inneh\xE5lla ett f\xE4lt. Import avbruten."},pagination:{aria:{pageToFirst:"G\xE5 till f\xF6rsta sidan",pageBack:"G\xE5 en sida bak\xE5t",pageSelected:"Vald sida",pageForward:"G\xE5 en sida fram\xE5t",pageToLast:"G\xE5 till sista sidan"},sizes:"Poster per sida",totalItems:"Poster",through:"genom",of:"av"},grouping:{group:"Gruppera",ungroup:"Dela upp",aggregate_count:"Agg: Antal",aggregate_sum:"Agg: Summa",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Genomsnitt",aggregate_remove:"Agg: Ta bort"},validate:{error:"Error:",minLength:"V\xE4rdet borde vara minst THRESHOLD tecken l\xE5ngt.",maxLength:"V\xE4rdet borde vara max THRESHOLD tecken l\xE5ngt.",required:"Ett v\xE4rde kr\xE4vs."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ta",{aggregate:{label:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD"},groupPanel:{description:"\u0B92\u0BB0\u0BC1 \u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BC8 \u0B95\u0BC1\u0BB4\u0BC1\u0BB5\u0BBE\u0B95 \u0B85\u0BAE\u0BC8\u0B95\u0BCD\u0B95 \u0B85\u0BAA\u0BCD\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BBF\u0BA9\u0BCD \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC8 \u0B87\u0B99\u0BCD\u0B95\u0BC7  \u0B87\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1 \u0BB5\u0BB0\u0BB5\u0BC1\u0BAE\u0BCD "},search:{placeholder:"\u0BA4\u0BC7\u0B9F\u0BB2\u0BCD ...",showingItems:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BC8 \u0B95\u0BBE\u0BA3\u0BCD\u0BAA\u0BBF\u0BA4\u0BCD\u0BA4\u0BB2\u0BCD:",selectedItems:"\u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F  \u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD:",totalItems:"\u0BAE\u0BCA\u0BA4\u0BCD\u0BA4 \u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD:",size:"\u0BAA\u0B95\u0BCD\u0B95 \u0B85\u0BB3\u0BB5\u0BC1: ",first:"\u0BAE\u0BC1\u0BA4\u0BB2\u0BCD \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD",next:"\u0B85\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD",previous:"\u0BAE\u0BC1\u0BA8\u0BCD\u0BA4\u0BC8\u0BAF \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD ",last:"\u0B87\u0BB1\u0BC1\u0BA4\u0BBF \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD"},menu:{text:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0B95\u0BB3\u0BC8 \u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1:"},sort:{ascending:"\u0BAE\u0BC7\u0BB2\u0BBF\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4\u0BC1 \u0B95\u0BC0\u0BB4\u0BBE\u0B95",descending:"\u0B95\u0BC0\u0BB4\u0BBF\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4\u0BC1 \u0BAE\u0BC7\u0BB2\u0BBE\u0B95",remove:"\u0BB5\u0BB0\u0BBF\u0B9A\u0BC8\u0BAF\u0BC8 \u0BA8\u0BC0\u0B95\u0BCD\u0B95\u0BC1"},column:{hide:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BC8 \u0BAE\u0BB1\u0BC8\u0BA4\u0BCD\u0BA4\u0BC1 \u0BB5\u0BC8 "},aggregation:{count:"\u0BAE\u0BCA\u0BA4\u0BCD\u0BA4 \u0BB5\u0BB0\u0BBF\u0B95\u0BB3\u0BCD:",sum:"\u0BAE\u0BCA\u0BA4\u0BCD\u0BA4\u0BAE\u0BCD: ",avg:"\u0B9A\u0BB0\u0BBE\u0B9A\u0BB0\u0BBF: ",min:"\u0B95\u0BC1\u0BB1\u0BC8\u0BA8\u0BCD\u0BA4\u0BAA\u0B9F\u0BCD\u0B9A: ",max:"\u0B85\u0BA4\u0BBF\u0B95\u0BAA\u0B9F\u0BCD\u0B9A: "},pinning:{pinLeft:"\u0B87\u0B9F\u0BA4\u0BC1\u0BAA\u0BC1\u0BB1\u0BAE\u0BBE\u0B95 \u0BA4\u0BC8\u0B95\u0BCD\u0B95 ",pinRight:"\u0BB5\u0BB2\u0BA4\u0BC1\u0BAA\u0BC1\u0BB1\u0BAE\u0BBE\u0B95 \u0BA4\u0BC8\u0B95\u0BCD\u0B95",unpin:"\u0BAA\u0BBF\u0BB0\u0BBF"},gridMenu:{columns:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0B95\u0BB3\u0BCD:",importerTitle:"\u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BC1 : \u0BAA\u0B9F\u0BBF\u0BA4\u0BCD\u0BA4\u0BB2\u0BCD",exporterAllAsCsv:"\u0B8E\u0BB2\u0BCD\u0BB2\u0BBE \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8\u0BAF\u0BC1\u0BAE\u0BCD \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: csv",exporterVisibleAsCsv:"\u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95\u0BC1\u0BAE\u0BCD \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: csv",exporterSelectedAsCsv:"\u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: csv",exporterAllAsPdf:"\u0B8E\u0BB2\u0BCD\u0BB2\u0BBE \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8\u0BAF\u0BC1\u0BAE\u0BCD \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: pdf",exporterVisibleAsPdf:"\u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95\u0BC1\u0BAE\u0BCD \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: pdf",exporterSelectedAsPdf:"\u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BBF\u0BA9\u0BCD \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BC8 \u0BAA\u0BC6\u0BB1 \u0B87\u0BAF\u0BB2\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBF\u0BB1\u0BCD\u0B95\u0BC1 \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC1 \u0B89\u0BB3\u0BCD\u0BB3\u0BA4\u0BBE?",noObjects:"\u0B87\u0BB2\u0B95\u0BCD\u0B95\u0BC1\u0B95\u0BB3\u0BC8 \u0B89\u0BB0\u0BC1\u0BB5\u0BBE\u0B95\u0BCD\u0B95 \u0BAE\u0BC1\u0B9F\u0BBF\u0BAF\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBF\u0BB2\u0BCD \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BC8 \u0BA4\u0BB5\u0BBF\u0BB0 \u0BA4\u0BB0\u0BB5\u0BC1 \u0B8F\u0BA4\u0BC7\u0BA9\u0BC1\u0BAE\u0BCD \u0B89\u0BB3\u0BCD\u0BB3\u0BA4\u0BBE? ",invalidCsv:"\u0B9A\u0BB0\u0BBF\u0BB5\u0BB0 \u0BA8\u0B9F\u0BC8\u0BAE\u0BC1\u0BB1\u0BC8 \u0BAA\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0B87\u0BAF\u0BB2\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BC1 \u0B9A\u0BB0\u0BBF\u0BA4\u0BBE\u0BA9\u0BBE? - csv",invalidJson:"\u0B9A\u0BB0\u0BBF\u0BB5\u0BB0 \u0BA8\u0B9F\u0BC8\u0BAE\u0BC1\u0BB1\u0BC8 \u0BAA\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0B87\u0BAF\u0BB2\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BC1 \u0B9A\u0BB0\u0BBF\u0BA4\u0BBE\u0BA9\u0BBE? - json",jsonNotArray:"\u0BAA\u0B9F\u0BBF\u0BA4\u0BCD\u0BA4 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBF\u0BB2\u0BCD \u0BB5\u0BB0\u0BBF\u0B9A\u0BC8\u0B95\u0BB3\u0BCD \u0B89\u0BB3\u0BCD\u0BB3\u0BA4\u0BC1, \u0BA8\u0B9F\u0BC8\u0BAE\u0BC1\u0BB1\u0BC8 \u0BB0\u0BA4\u0BCD\u0BA4\u0BC1 \u0B9A\u0BC6\u0BAF\u0BCD : json"},pagination:{sizes:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD / \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD",totalItems:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD "},grouping:{group:"\u0B95\u0BC1\u0BB4\u0BC1",ungroup:"\u0BAA\u0BBF\u0BB0\u0BBF",aggregate_count:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B8E\u0BA3\u0BCD\u0BA3\u0BC1",aggregate_sum:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B95\u0BC2\u0B9F\u0BCD\u0B9F\u0BB2\u0BCD",aggregate_max:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B85\u0BA4\u0BBF\u0B95\u0BAA\u0B9F\u0BCD\u0B9A\u0BAE\u0BCD",aggregate_min:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B95\u0BC1\u0BB1\u0BC8\u0BA8\u0BCD\u0BA4\u0BAA\u0B9F\u0BCD\u0B9A\u0BAE\u0BCD",aggregate_avg:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B9A\u0BB0\u0BBE\u0B9A\u0BB0\u0BBF",aggregate_remove:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0BA8\u0BC0\u0B95\u0BCD\u0B95\u0BC1"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("tr",{headerCell:{aria:{defaultFilterLabel:"S\xFCtun i\xE7in filtre",removeFilter:"Filtreyi Kald\u0131r",columnMenuButtonLabel:"S\xFCtun Men\xFCs\xFC"},priority:"\xD6ncelik:",filterLabel:"S\xFCtun i\xE7in filtre: "},aggregate:{label:"kay\u0131tlar"},groupPanel:{description:"S\xFCtuna g\xF6re gruplamak i\xE7in s\xFCtun ba\u015Fl\u0131\u011F\u0131n\u0131 buraya s\xFCr\xFCkleyin ve b\u0131rak\u0131n."},search:{placeholder:"Arama...",showingItems:"G\xF6sterilen Kay\u0131t:",selectedItems:"Se\xE7ili Kay\u0131t:",totalItems:"Toplam Kay\u0131t:",size:"Sayfa Boyutu:",first:"\u0130lk Sayfa",next:"Sonraki Sayfa",previous:"\xD6nceki Sayfa",last:"Son Sayfa"},menu:{text:"S\xFCtunlar\u0131 Se\xE7:"},sort:{ascending:"Artan S\u0131rada S\u0131rala",descending:"Azalan S\u0131rada S\u0131rala",none:"S\u0131ralama Yapma",remove:"S\u0131ralamay\u0131 Kald\u0131r"},column:{hide:"S\xFCtunu Gizle"},aggregation:{count:"toplam sat\u0131r: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sa\u011Fa Sabitle",unpin:"Sabitlemeyi Kald\u0131r"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Men\xFC"},columns:"S\xFCtunlar:",importerTitle:"Dosya i\xE7eri aktar",exporterAllAsCsv:"B\xFCt\xFCn veriyi CSV olarak d\u0131\u015Far\u0131 aktar",exporterVisibleAsCsv:"G\xF6r\xFCnen veriyi CSV olarak d\u0131\u015Far\u0131 aktar",exporterSelectedAsCsv:"Se\xE7ili veriyi CSV olarak d\u0131\u015Far\u0131 aktar",exporterAllAsPdf:"B\xFCt\xFCn veriyi PDF olarak d\u0131\u015Far\u0131 aktar",exporterVisibleAsPdf:"G\xF6r\xFCnen veriyi PDF olarak d\u0131\u015Far\u0131 aktar",exporterSelectedAsPdf:"Se\xE7ili veriyi PDF olarak d\u0131\u015Far\u0131 aktar",clearAllFilters:"B\xFCt\xFCn filtreleri kald\u0131r"},importer:{noHeaders:"S\xFCtun isimleri \xFCretilemiyor, dosyan\u0131n bir ba\u015Fl\u0131\u011F\u0131 var m\u0131?",noObjects:"Nesneler \xFCretilemiyor, dosyada ba\u015Fl\u0131ktan ba\u015Fka bir veri var m\u0131?",invalidCsv:"Dosya i\u015Flenemedi, ge\xE7erli bir CSV dosyas\u0131 m\u0131?",invalidJson:"Dosya i\u015Flenemedi, ge\xE7erli bir Json dosyas\u0131 m\u0131?",jsonNotArray:"Al\u0131nan Json dosyas\u0131nda bir dizi bulunmal\u0131d\u0131r, i\u015Flem iptal ediliyor."},pagination:{aria:{pageToFirst:"\u0130lk sayfaya",pageBack:"Geri git",pageSelected:"Se\xE7ili sayfa",pageForward:"\u0130leri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne say\u0131s\u0131",totalItems:"kay\u0131tlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Say\u0131",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ua",{headerCell:{aria:{defaultFilterLabel:"\u0424\u0456\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0430",removeFilter:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440",columnMenuButtonLabel:"\u041C\u0435\u043D\u044E \u0441\u0442\u0432\u043F\u0447\u0438\u043A\u0430"},priority:"\u041F\u0440\u0456\u043E\u0440\u0438\u0442\u0435\u0442:",filterLabel:"\u0424\u0456\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0430: "},aggregate:{label:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"},groupPanel:{description:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0443\u0432\u0430\u043D\u043D\u044F \u0437\u0430 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u043E\u043C \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0441\u044E\u0434\u0438 \u0439\u043E\u0433\u043E \u043D\u0430\u0437\u0432\u0443."},search:{placeholder:"\u041F\u043E\u0448\u0443\u043A...",showingItems:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438:",selectedItems:"\u041E\u0431\u0440\u0430\u043D\u0456 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438:",totalItems:"\u0423\u0441\u044C\u043E\u0433\u043E \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432:",size:"\u0420\u043E\u0437\u043C\u0456\u0440 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438:",first:"\u041F\u0435\u0440\u0448\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",next:"\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",previous:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",last:"\u041E\u0441\u0442\u0430\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430"},menu:{text:"\u041E\u0431\u0440\u0430\u0442\u0438 \u0441\u0442\u0432\u043F\u0447\u0438\u043A\u0438:"},sort:{ascending:"\u0417\u0430 \u0437\u0440\u043E\u0441\u0442\u0430\u043D\u043D\u044F\u043C",descending:"\u0417\u0430 \u0441\u043F\u0430\u0434\u0430\u043D\u043D\u044F\u043C",none:"\u0411\u0435\u0437 \u0441\u043E\u0440\u0442\u0443\u0432\u0430\u043D\u043D\u044F",remove:"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438 \u0441\u043E\u0440\u0442\u0443\u0432\u0430\u043D\u043D\u044F"},column:{hide:"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A"},aggregation:{count:"\u0443\u0441\u044C\u043E\u0433\u043E \u0440\u044F\u0434\u043A\u0456\u0432: ",sum:"\u0456\u0442\u043E\u0433\u043E: ",avg:"\u0441\u0435\u0440\u0435\u0434\u043D\u0454: ",min:"\u043C\u0456\u043D: ",max:"\u043C\u0430\u043A\u0441: "},pinning:{pinLeft:"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438 \u043B\u0456\u0432\u043E\u0440\u0443\u0447",pinRight:"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438 \u043F\u0440\u0430\u0432\u043E\u0440\u0443\u0447",unpin:"\u0412\u0456\u0434\u043A\u0440\u0456\u043F\u0438\u0442\u0438"},columnMenu:{close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"},gridMenu:{aria:{buttonLabel:"\u041C\u0435\u043D\u044E"},columns:"\u0421\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0438:",importerTitle:"\u0406\u043C\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0444\u0430\u0439\u043B",exporterAllAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0435 \u0432 CSV",exporterVisibleAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0434\u0438\u043C\u0456 \u0434\u0430\u043D\u0456 \u0432 CSV",exporterSelectedAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0456 \u0434\u0430\u043D\u0456 \u0432 CSV",exporterAllAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0435 \u0432 PDF",exporterVisibleAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0434\u0438\u043C\u0456 \u0434\u0430\u043D\u0456 \u0432 PDF",exporterSelectedAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0456 \u0434\u0430\u043D\u0456 \u0432 PDF",clearAllFilters:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0432\u0441\u0456 \u0444\u0456\u043B\u044C\u0442\u0440\u0438"},importer:{noHeaders:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u043D\u0430\u0437\u0432\u0438 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0456\u0432, \u0447\u0438 \u0454 \u0432 \u0444\u0430\u0439\u043B\u0456 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A?",noObjects:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u0434\u0430\u043D\u0456, \u0447\u0438 \u0454 \u0432 \u0444\u0430\u0439\u043B\u0456 \u0440\u044F\u0434\u043A\u0438 \u043E\u043A\u0440\u0456\u043C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430?",invalidCsv:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0431\u0440\u043E\u0431\u0438\u0442\u0438 \u0444\u0430\u0439\u043B, \u0447\u0438 \u0446\u0435 \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 CSV-\u0444\u0430\u0439\u043B?",invalidJson:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0431\u0440\u043E\u0431\u0438\u0442\u0438 \u0444\u0430\u0439\u043B, \u0447\u0438 \u0446\u0435 \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 JSON?",jsonNotArray:"JSON-\u0444\u0430\u0439\u043B \u0449\u043E \u0456\u043C\u043F\u043E\u0440\u0442\u0443\u0454\u0442\u044C\u0441\u044F \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043C\u0430\u0441\u0438\u0432, \u043E\u043F\u0435\u0440\u0430\u0446\u0456\u044E \u0441\u043A\u0430\u0441\u043E\u0432\u0430\u043D\u043E."},pagination:{aria:{pageToFirst:"\u041F\u0435\u0440\u0448\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageBack:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageSelected:"\u041E\u0431\u0440\u0430\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageForward:"\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageToLast:"\u041E\u0441\u0442\u0430\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430"},sizes:"\u0440\u044F\u0434\u043A\u0456\u0432 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",totalItems:"\u0440\u044F\u0434\u043A\u0456\u0432",through:"\u043F\u043E",of:"\u0437"},grouping:{group:"\u0413\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",ungroup:"\u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",aggregate_count:"\u0413\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438: \u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C",aggregate_sum:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u0421\u0443\u043C\u0430",aggregate_max:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C",aggregate_min:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u041C\u0456\u043D\u0456\u043C\u0443\u043C",aggregate_avg:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u0421\u0435\u0440\u0434\u043D\u0454",aggregate_remove:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u041F\u0443\u0441\u0442\u043E"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"\u5217\u8FC7\u6EE4\u5668",removeFilter:"\u79FB\u9664\u8FC7\u6EE4\u5668",columnMenuButtonLabel:"\u5217\u83DC\u5355"},priority:"\u4F18\u5148\u7EA7:",filterLabel:"\u5217\u8FC7\u6EE4\u5668: "},aggregate:{label:"\u884C"},groupPanel:{description:"\u62D6\u66F3\u8868\u5934\u5230\u6B64\u5904\u8FDB\u884C\u5206\u7EC4"},search:{placeholder:"\u67E5\u627E",showingItems:"\u5DF2\u663E\u793A\u884C\u6570\uFF1A",selectedItems:"\u5DF2\u9009\u62E9\u884C\u6570\uFF1A",totalItems:"\u603B\u884C\u6570\uFF1A",size:"\u6BCF\u9875\u663E\u793A\u884C\u6570\uFF1A",first:"\u9996\u9875",next:"\u4E0B\u4E00\u9875",previous:"\u4E0A\u4E00\u9875",last:"\u672B\u9875"},menu:{text:"\u9009\u62E9\u5217\uFF1A"},sort:{ascending:"\u5347\u5E8F",descending:"\u964D\u5E8F",none:"\u65E0\u5E8F",remove:"\u53D6\u6D88\u6392\u5E8F"},column:{hide:"\u9690\u85CF\u5217"},aggregation:{count:"\u8BA1\u6570\uFF1A",sum:"\u6C42\u548C\uFF1A",avg:"\u5747\u503C\uFF1A",min:"\u6700\u5C0F\u503C\uFF1A",max:"\u6700\u5927\u503C\uFF1A"},pinning:{pinLeft:"\u5DE6\u4FA7\u56FA\u5B9A",pinRight:"\u53F3\u4FA7\u56FA\u5B9A",unpin:"\u53D6\u6D88\u56FA\u5B9A"},columnMenu:{close:"\u5173\u95ED"},gridMenu:{aria:{buttonLabel:"\u8868\u683C\u83DC\u5355"},columns:"\u5217\uFF1A",importerTitle:"\u5BFC\u5165\u6587\u4EF6",exporterAllAsCsv:"\u5BFC\u51FA\u5168\u90E8\u6570\u636E\u5230CSV",exporterVisibleAsCsv:"\u5BFC\u51FA\u53EF\u89C1\u6570\u636E\u5230CSV",exporterSelectedAsCsv:"\u5BFC\u51FA\u5DF2\u9009\u6570\u636E\u5230CSV",exporterAllAsPdf:"\u5BFC\u51FA\u5168\u90E8\u6570\u636E\u5230PDF",exporterVisibleAsPdf:"\u5BFC\u51FA\u53EF\u89C1\u6570\u636E\u5230PDF",exporterSelectedAsPdf:"\u5BFC\u51FA\u5DF2\u9009\u6570\u636E\u5230PDF",clearAllFilters:"\u6E05\u9664\u6240\u6709\u8FC7\u6EE4\u5668"},importer:{noHeaders:"\u65E0\u6CD5\u83B7\u53D6\u5217\u540D\uFF0C\u786E\u5B9A\u6587\u4EF6\u5305\u542B\u8868\u5934\uFF1F",noObjects:"\u65E0\u6CD5\u83B7\u53D6\u6570\u636E\uFF0C\u786E\u5B9A\u6587\u4EF6\u5305\u542B\u6570\u636E\uFF1F",invalidCsv:"\u65E0\u6CD5\u5904\u7406\u6587\u4EF6\uFF0C\u786E\u5B9A\u662F\u5408\u6CD5\u7684CSV\u6587\u4EF6\uFF1F",invalidJson:"\u65E0\u6CD5\u5904\u7406\u6587\u4EF6\uFF0C\u786E\u5B9A\u662F\u5408\u6CD5\u7684JSON\u6587\u4EF6\uFF1F",jsonNotArray:"\u5BFC\u5165\u7684\u6587\u4EF6\u4E0D\u662FJSON\u6570\u7EC4\uFF01"},pagination:{aria:{pageToFirst:"\u7B2C\u4E00\u9875",pageBack:"\u4E0A\u4E00\u9875",pageSelected:"\u5F53\u524D\u9875",pageForward:"\u4E0B\u4E00\u9875",pageToLast:"\u6700\u540E\u4E00\u9875"},sizes:"\u884C\u6BCF\u9875",totalItems:"\u884C",through:"\u81F3",of:"\u5171"},grouping:{group:"\u5206\u7EC4",ungroup:"\u53D6\u6D88\u5206\u7EC4",aggregate_count:"\u5408\u8BA1: \u8BA1\u6570",aggregate_sum:"\u5408\u8BA1: \u6C42\u548C",aggregate_max:"\u5408\u8BA1: \u6700\u5927",aggregate_min:"\u5408\u8BA1: \u6700\u5C0F",aggregate_avg:"\u5408\u8BA1: \u5E73\u5747",aggregate_remove:"\u5408\u8BA1: \u79FB\u9664"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("zh-tw",{aggregate:{label:"\u884C"},groupPanel:{description:"\u62D6\u66F3\u8868\u982D\u5230\u6B64\u8655\u9032\u884C\u5206\u7D44"},search:{placeholder:"\u67E5\u627E",showingItems:"\u5DF2\u986F\u793A\u884C\u6578\uFF1A",selectedItems:"\u5DF2\u9078\u64C7\u884C\u6578\uFF1A",totalItems:"\u7E3D\u884C\u6578\uFF1A",size:"\u6BCF\u9801\u986F\u793A\u884C\u6578\uFF1A",first:"\u9996\u9801",next:"\u4E0B\u58F9\u9801",previous:"\u4E0A\u58F9\u9801",last:"\u672B\u9801"},menu:{text:"\u9078\u64C7\u5217\uFF1A"},sort:{ascending:"\u5347\u5E8F",descending:"\u964D\u5E8F",remove:"\u53D6\u6D88\u6392\u5E8F"},column:{hide:"\u96B1\u85CF\u5217"},aggregation:{count:"\u8A08\u6578\uFF1A",sum:"\u6C42\u548C\uFF1A",avg:"\u5747\u503C\uFF1A",min:"\u6700\u5C0F\u503C\uFF1A",max:"\u6700\u5927\u503C\uFF1A"},pinning:{pinLeft:"\u5DE6\u5074\u56FA\u5B9A",pinRight:"\u53F3\u5074\u56FA\u5B9A",unpin:"\u53D6\u6D88\u56FA\u5B9A"},gridMenu:{columns:"\u5217\uFF1A",importerTitle:"\u5C0E\u5165\u6587\u4EF6",exporterAllAsCsv:"\u5C0E\u51FA\u5168\u90E8\u6578\u64DA\u5230CSV",exporterVisibleAsCsv:"\u5C0E\u51FA\u53EF\u898B\u6578\u64DA\u5230CSV",exporterSelectedAsCsv:"\u5C0E\u51FA\u5DF2\u9078\u6578\u64DA\u5230CSV",exporterAllAsPdf:"\u5C0E\u51FA\u5168\u90E8\u6578\u64DA\u5230PDF",exporterVisibleAsPdf:"\u5C0E\u51FA\u53EF\u898B\u6578\u64DA\u5230PDF",exporterSelectedAsPdf:"\u5C0E\u51FA\u5DF2\u9078\u6578\u64DA\u5230PDF",clearAllFilters:"\u6E05\u9664\u6240\u6709\u8FC7\u6EE4\u5668"},importer:{noHeaders:"\u7121\u6CD5\u7372\u53D6\u5217\u540D\uFF0C\u78BA\u5B9A\u6587\u4EF6\u5305\u542B\u8868\u982D\uFF1F",noObjects:"\u7121\u6CD5\u7372\u53D6\u6578\u64DA\uFF0C\u78BA\u5B9A\u6587\u4EF6\u5305\u542B\u6578\u64DA\uFF1F",invalidCsv:"\u7121\u6CD5\u8655\u7406\u6587\u4EF6\uFF0C\u78BA\u5B9A\u662F\u5408\u6CD5\u7684CSV\u6587\u4EF6\uFF1F",invalidJson:"\u7121\u6CD5\u8655\u7406\u6587\u4EF6\uFF0C\u78BA\u5B9A\u662F\u5408\u6CD5\u7684JSON\u6587\u4EF6\uFF1F",jsonNotArray:"\u5C0E\u5165\u7684\u6587\u4EF6\u4E0D\u662FJSON\u6578\u7D44\uFF01"},pagination:{sizes:"\u884C\u6BCF\u9801",totalItems:"\u884C"}}),Q}])}])})();(function(){"use strict";var we=angular.module("ui.grid.importer",["ui.grid"]);we.constant("uiGridImporterConstants",{featureName:"importer"}),we.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(Q,A,O,I,D,T,_,E){var d={initializeGrid:function(M,g){g.importer={$scope:M},this.defaultGridOptions(g.options);var F={events:{importer:{}},methods:{importer:{importFile:function(N){d.importThisFile(g,N)}}}};g.api.registerEventsFromObject(F.events),g.api.registerMethodsFromObject(F.methods),g.options.enableImporter&&g.options.importerShowMenu&&(g.api.core.addToGridMenu?d.addToMenu(g):T(function(){g.api.core.addToGridMenu&&d.addToMenu(g)},100,1))},defaultGridOptions:function(M){M.enableImporter||M.enableImporter===void 0?E.hasOwnProperty("File")&&E.hasOwnProperty("FileReader")&&E.hasOwnProperty("FileList")&&E.hasOwnProperty("Blob")?M.enableImporter=!0:(I.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),M.enableImporter=!1):M.enableImporter=!1,M.importerProcessHeaders=M.importerProcessHeaders||d.processHeaders,M.importerHeaderFilter=M.importerHeaderFilter||function(g){return g},(!M.importerErrorCallback||typeof M.importerErrorCallback!="function")&&delete M.importerErrorCallback,M.enableImporter===!0&&!M.importerDataAddCallback&&(I.logError("You have not set an importerDataAddCallback, importer is disabled"),M.enableImporter=!1),M.importerShowMenu=M.importerShowMenu!==!1,M.importerObjectCallback=M.importerObjectCallback||function(g,F){return F}},addToMenu:function(M){M.api.core.addToGridMenu(M,[{title:_.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(M)},order:151}])},importThisFile:function(M,g){if(!g){I.logError("No file object provided to importThisFile, should be impossible, aborting");return}var F=new FileReader;switch(g.type){case"application/json":F.onload=d.importJsonClosure(M);break;default:F.onload=d.importCsvClosure(M);break}F.readAsText(g)},importJsonClosure:function(M){return function(g){var F=[],N,J=d.parseJson(M,g);J!==null&&(J.forEach(function(pe){N=d.newObject(M),angular.extend(N,pe),N=M.options.importerObjectCallback(M,N),F.push(N)}),d.addObjects(M,F))}},parseJson:function(M,g){var F;try{F=JSON.parse(g.target.result)}catch{d.alertError(M,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",g.target.result);return}return Array.isArray(F)?F:(d.alertError(M,"importer.jsonNotarray","Import failed, file is not an array, file was: ",g.target.result),[])},importCsvClosure:function(M){return function(g){var F=d.parseCsv(g);if(!F||F.length<1){d.alertError(M,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",g.target.result);return}var N=d.createCsvObjects(M,F);if(!N||N.length===0){d.alertError(M,"importer.noObjects","Objects were not able to be derived, content was: ",g.target.result);return}d.addObjects(M,N)}},parseCsv:function(M){var g=M.target.result;return CSV.parse(g)},createCsvObjects:function(M,g){var F=M.options.importerProcessHeaders(M,g.shift());if(!F||F.length===0)return d.alertError(M,"importer.noHeaders","Column names could not be derived, content was: ",g),[];var N=[],J;return g.forEach(function(pe){J=d.newObject(M),pe!==null&&pe.forEach(function(m,U){F[U]!==null&&(J[F[U]]=m)}),J=M.options.importerObjectCallback(M,J),N.push(J)}),N},processHeaders:function(M,g){var F=[];if(!M.options.columnDefs||M.options.columnDefs.length===0)return g.forEach(function(J){F.push(J.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),F;var N=d.flattenColumnDefs(M,M.options.columnDefs);return g.forEach(function(J){N[J]?F.push(N[J]):N[J.toLowerCase()]?F.push(N[J.toLowerCase()]):F.push(null)}),F},flattenColumnDefs:function(M,g){var F={};return g.forEach(function(N){N.name&&(F[N.name]=N.field||N.name,F[N.name.toLowerCase()]=N.field||N.name),N.field&&(F[N.field]=N.field||N.name,F[N.field.toLowerCase()]=N.field||N.name),N.displayName&&(F[N.displayName]=N.field||N.name,F[N.displayName.toLowerCase()]=N.field||N.name),N.displayName&&M.options.importerHeaderFilter&&(F[M.options.importerHeaderFilter(N.displayName)]=N.field||N.name,F[M.options.importerHeaderFilter(N.displayName).toLowerCase()]=N.field||N.name)}),F},addObjects:function(M,g){if(M.api.rowEdit){var F=M.registerDataChangeCallback(function(){M.api.rowEdit.setRowsDirty(g),F()},[A.dataChange.ROW]);M.importer.$scope.$on("$destroy",F)}M.importer.$scope.$apply(M.options.importerDataAddCallback(M,g))},newObject:function(M){return typeof M.options!="undefined"&&typeof M.options.importerNewObject!="undefined"?new M.options.importerNewObject:{}},alertError:function(M,g,F,N){M.options.importerErrorCallback?M.options.importerErrorCallback(M,g,F,N):(E.alert(_.getSafeText(g)),I.logError(F+N))}};return d}]),we.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(Q,A,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(D,T,_,E){A.initializeGrid(D,E.grid)}}}]),we.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(Q,A,O,I){return{replace:!0,priority:0,require:"?^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(D,T,_,E){var d;function M(F){var N=F.srcElement||F.target;if(N&&N.files&&N.files.length===1){var J=N.files[0];typeof E!="undefined"&&E?(d=E.grid,A.importThisFile(d,J),N.form.reset()):O.logError("Could not import file because UI Grid was not found.")}}var g=T[0].querySelectorAll(".ui-grid-importer-file-chooser");g.length!==1?O.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):g[0].addEventListener("change",M,!1)}}}])})();(function(){"use strict";var we=angular.module("ui.grid.infiniteScroll",["ui.grid"]);we.service("uiGridInfiniteScrollService",["gridUtil","$compile","$rootScope","uiGridConstants","ScrollEvent","$q",function(Q,A,O,I,D,T){var _={initializeGrid:function(E,d){if(_.defaultGridOptions(E.options),!!E.options.enableInfiniteScroll){E.infiniteScroll={dataLoading:!1},_.setScrollDirections(E,E.options.infiniteScrollUp,E.options.infiniteScrollDown),E.api.core.on.scrollEnd(d,_.handleScroll);var M={events:{infiniteScroll:{needLoadMoreData:function(g,F){},needLoadMoreDataTop:function(g,F){}}},methods:{infiniteScroll:{dataLoaded:function(g,F){return _.setScrollDirections(E,g,F),_.adjustScroll(E).then(function(){E.infiniteScroll.dataLoading=!1})},resetScroll:function(g,F){_.setScrollDirections(E,g,F),_.adjustInfiniteScrollPosition(E,0)},saveScrollPercentage:function(){E.infiniteScroll.prevScrollTop=E.renderContainers.body.prevScrollTop,E.infiniteScroll.previousVisibleRows=E.getVisibleRowCount()},dataRemovedTop:function(g,F){_.dataRemovedTop(E,g,F)},dataRemovedBottom:function(g,F){_.dataRemovedBottom(E,g,F)},setScrollDirections:function(g,F){_.setScrollDirections(E,g,F)}}}};E.api.registerEventsFromObject(M.events),E.api.registerMethodsFromObject(M.methods)}},defaultGridOptions:function(E){E.enableInfiniteScroll=E.enableInfiniteScroll!==!1,E.infiniteScrollRowsFromEnd=E.infiniteScrollRowsFromEnd||20,E.infiniteScrollUp=E.infiniteScrollUp===!0,E.infiniteScrollDown=E.infiniteScrollDown!==!1},setScrollDirections:function(E,d,M){E.infiniteScroll.scrollUp=d===!0,E.suppressParentScrollUp=d===!0,E.infiniteScroll.scrollDown=M!==!1,E.suppressParentScrollDown=M!==!1},handleScroll:function(E){if(!(E.grid.infiniteScroll&&E.grid.infiniteScroll.dataLoading||E.source==="ui.grid.adjustInfiniteScrollPosition")&&E.y)if(E.y.percentage===0)E.grid.scrollDirection=I.scrollDirection.UP,_.loadData(E.grid);else if(E.y.percentage===1)E.grid.scrollDirection=I.scrollDirection.DOWN,_.loadData(E.grid);else{var d,M=E.grid.options.infiniteScrollRowsFromEnd/E.grid.renderContainers.body.visibleRowCache.length;E.grid.scrollDirection===I.scrollDirection.UP?(d=E.y.percentage,d<=M&&_.loadData(E.grid)):E.grid.scrollDirection===I.scrollDirection.DOWN&&(d=1-E.y.percentage,d<=M&&_.loadData(E.grid))}},loadData:function(E){if(E.infiniteScroll.previousVisibleRows=E.renderContainers.body.visibleRowCache.length,E.infiniteScroll.direction=E.scrollDirection,delete E.infiniteScroll.prevScrollTop,E.scrollDirection===I.scrollDirection.UP&&E.infiniteScroll.scrollUp)E.infiniteScroll.dataLoading=!0,E.api.infiniteScroll.raise.needLoadMoreDataTop();else if(E.scrollDirection===I.scrollDirection.DOWN&&E.infiniteScroll.scrollDown){if(E.cellNav&&E.cellNav.lastRowCol&&E.cellNav.lastRowCol.row.index===E.infiniteScroll.previousVisibleRows-1)return;E.infiniteScroll.dataLoading=!0,E.api.infiniteScroll.raise.needLoadMoreData()}},adjustScroll:function(E){var d=T.defer();return O.$applyAsync(function(){var M,g,F,N,J;M=E.getViewportHeight()+E.headerHeight-E.renderContainers.body.headerHeight-E.scrollbarHeight,g=E.options.rowHeight,E.infiniteScroll.direction===void 0&&_.adjustInfiniteScrollPosition(E,0),F=E.getVisibleRowCount();var pe=g*F;E.infiniteScroll.scrollDown&&M>pe&&E.api.infiniteScroll.raise.needLoadMoreData(),E.infiniteScroll.direction===I.scrollDirection.UP&&(N=E.infiniteScroll.prevScrollTop||0,J=N+(F-E.infiniteScroll.previousVisibleRows)*g,_.adjustInfiniteScrollPosition(E,J),O.$applyAsync(function(){d.resolve()})),E.infiniteScroll.direction===I.scrollDirection.DOWN&&(J=E.infiniteScroll.prevScrollTop||E.infiniteScroll.previousVisibleRows*g-M,_.adjustInfiniteScrollPosition(E,J),O.$applyAsync(function(){d.resolve()}))},0),d.promise},adjustInfiniteScrollPosition:function(E,d){var M=new D(E,null,null,"ui.grid.adjustInfiniteScrollPosition"),g=E.getVisibleRowCount(),F=E.getViewportHeight()+E.headerHeight-E.renderContainers.body.headerHeight-E.scrollbarHeight,N=E.options.rowHeight,J=g*N-F;d===0&&E.infiniteScroll.scrollUp?M.y={pixels:1}:M.y={percentage:d/J},E.scrollContainers("",M)},dataRemovedTop:function(E,d,M){var g,F,N,J;_.setScrollDirections(E,d,M),g=E.renderContainers.body.visibleRowCache.length,F=E.infiniteScroll.prevScrollTop,J=E.options.rowHeight,N=F-(E.infiniteScroll.previousVisibleRows-g)*J,_.adjustInfiniteScrollPosition(E,N)},dataRemovedBottom:function(E,d,M){var g;_.setScrollDirections(E,d,M),g=E.infiniteScroll.prevScrollTop,_.adjustInfiniteScrollPosition(E,g)}};return _}]),we.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(Q){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(A,O,I,D){Q.initializeGrid(D.grid,A)},post:function(A,O,I){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.moveColumns",["ui.grid"]);we.service("uiGridMoveColumnService",["$q","$rootScope","$log","ScrollEvent","uiGridConstants","gridUtil",function(Q,A,O,I,D,T){var _={initializeGrid:function(E){var d=this;this.registerPublicApi(E),this.defaultGridOptions(E.options),E.moveColumns={orderCache:[]},E.registerColumnBuilder(d.movableColumnBuilder),E.registerDataChangeCallback(d.verifyColumnOrder,[D.dataChange.COLUMN])},registerPublicApi:function(E){var d=this,M={events:{colMovable:{columnPositionChanged:function(g,F,N){}}},methods:{colMovable:{moveColumn:function(g,F){var N=E.columns;if(!angular.isNumber(g)||!angular.isNumber(F)){T.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");return}for(var J=0,pe=0;pe<N.length;pe++)(angular.isDefined(N[pe].colDef.visible)&&N[pe].colDef.visible===!1||N[pe].isRowHeader===!0)&&J++;if(g>=N.length-J||F>=N.length-J){T.logError("MoveColumn: Invalid values for originalPosition, finalPosition");return}var m=function(U){for(var k=U,p=0;p<=k;p++)angular.isDefined(N[p])&&(angular.isDefined(N[p].colDef.visible)&&N[p].colDef.visible===!1||N[p].isRowHeader===!0)&&k++;return k};d.redrawColumnAtPosition(E,m(g),m(F))}}}};E.api.registerEventsFromObject(M.events),E.api.registerMethodsFromObject(M.methods)},defaultGridOptions:function(E){E.enableColumnMoving=E.enableColumnMoving!==!1},movableColumnBuilder:function(E,d,M){var g=[];return E.enableColumnMoving=E.enableColumnMoving===void 0?M.enableColumnMoving:E.enableColumnMoving,Q.all(g)},updateColumnCache:function(E){E.moveColumns.orderCache=E.getOnlyDataColumns()},verifyColumnOrder:function(E){var d=E.rowHeaderColumns.length,M;angular.forEach(E.moveColumns.orderCache,function(g,F){if(M=E.columns.indexOf(g),M!==-1&&M-d!==F){var N=E.columns.splice(M,1)[0];E.columns.splice(F+d,0,N)}})},redrawColumnAtPosition:function(E,d,M){var g=E.columns;if(d!==M){var F=d<M?d+1:d-1,N=Math.min(F,M);for(N;N<=Math.max(F,M)&&!g[N].visible;N++);if(!(N>Math.max(F,M))){var J=g[d];if(J.colDef.enableColumnMoving){if(d>M)for(var pe=d;pe>M;pe--)g[pe]=g[pe-1];else if(M>d)for(var m=d;m<M;m++)g[m]=g[m+1];g[M]=J,_.updateColumnCache(E),E.queueGridRefresh(),A.$applyAsync(function(){E.api.core.notifyDataChange(D.dataChange.COLUMN),E.api.colMovable.raise.columnPositionChanged(J.colDef,d,M)})}}}}};return _}]),we.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(Q){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(A,O,I,D){Q.initializeGrid(D.grid)},post:function(A,O,I,D){}}}}}]),we.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(Q,A,O,I,D,T,_){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(E,d,M,g){if(E.col.colDef.enableColumnMoving){var F=angular.element(d[0].querySelectorAll(".ui-grid-cell-contents")),N,J,pe,m,U=!1,k,p,w=!1,v=function(s){N=E.grid.element[0].getBoundingClientRect().left,E.grid.hasLeftContainer()&&(N+=E.grid.renderContainers.left.header[0].getBoundingClientRect().width),J=s.pageX||(s.originalEvent?s.originalEvent.pageX:0),pe=0,m=N+E.grid.getViewportWidth(),s.type==="mousedown"?(I.on("mousemove",h),I.on("mouseup",e)):s.type==="touchstart"&&(I.on("touchmove",h),I.on("touchend",e))},h=function(s){var t=s.pageX||(s.originalEvent?s.originalEvent.pageX:0),n=t-J;n!==0&&(document.onselectstart=function(){return!1},w=!0,U?U&&(c(n),J=t):u())},e=function(s){if(document.onselectstart=null,k&&(k.remove(),U=!1),i(),o(),!!w){for(var t=E.grid.columns,n=0,a=0;a<t.length&&t[a].colDef.name!==E.col.colDef.name;a++)n++;var l;if(pe<0){var f=0,b;if(E.grid.isRTL()){for(b=n+1;b<t.length;b++)if((angular.isUndefined(t[b].colDef.visible)||t[b].colDef.visible===!0)&&(f+=t[b].drawnWidth||t[b].width||t[b].colDef.width,f>Math.abs(pe))){O.redrawColumnAtPosition(E.grid,n,b-1);break}}else for(b=n-1;b>=0;b--)if((angular.isUndefined(t[b].colDef.visible)||t[b].colDef.visible===!0)&&(f+=t[b].drawnWidth||t[b].width||t[b].colDef.width,f>Math.abs(pe))){O.redrawColumnAtPosition(E.grid,n,b+1);break}f<Math.abs(pe)&&(l=0,E.grid.isRTL()&&(l=t.length-1),O.redrawColumnAtPosition(E.grid,n,l))}else if(pe>0){var C=0,$;if(E.grid.isRTL()){for($=n-1;$>0;$--)if((angular.isUndefined(t[$].colDef.visible)||t[$].colDef.visible===!0)&&(C+=t[$].drawnWidth||t[$].width||t[$].colDef.width,C>pe)){O.redrawColumnAtPosition(E.grid,n,$);break}}else for($=n+1;$<t.length;$++)if((angular.isUndefined(t[$].colDef.visible)||t[$].colDef.visible===!0)&&(C+=t[$].drawnWidth||t[$].width||t[$].colDef.width,C>pe)){O.redrawColumnAtPosition(E.grid,n,$-1);break}C<pe&&(l=t.length-1,E.grid.isRTL()&&(l=0),O.redrawColumnAtPosition(E.grid,n,l))}}},o=function(){F.on("touchstart",v),F.on("mousedown",v)},i=function(){F.off("touchstart",v),F.off("mousedown",v),I.off("mousemove",h),I.off("touchmove",h),I.off("mouseup",e),I.off("touchend",e)};o();var u=function(){U=!0,k=d.clone(),d.parent().append(k),k.addClass("movingColumn");var s={};s.left=d[0].offsetLeft+"px";var t=E.grid.element[0].getBoundingClientRect().right,n=d[0].getBoundingClientRect().right;n>t&&(p=E.col.drawnWidth+(t-n),s.width=p+"px"),k.css(s)},c=function(s){for(var t=E.grid.columns,n=0,a=0;a<t.length;a++)(angular.isUndefined(t[a].colDef.visible)||t[a].colDef.visible===!0)&&(n+=t[a].drawnWidth||t[a].width||t[a].colDef.width);var l=k[0].getBoundingClientRect().left-1,f=k[0].getBoundingClientRect().right,b;if(b=l-N+s,b=b<m?b:m,(l>=N||s>0)&&(f<=m||s<0))k.css({visibility:"visible",left:k[0].offsetLeft+(b<m?s:m-l)+"px"});else if(n>Math.ceil(g.grid.gridWidth)){s*=8;var C=new _(E.col.grid,null,null,"uiGridHeaderCell.moveElement");C.x={pixels:s},C.grid.scrollContainers("",C)}for(var $=0,W=0;W<t.length;W++)if(angular.isUndefined(t[W].colDef.visible)||t[W].colDef.visible===!0)if(t[W].colDef.name!==E.col.colDef.name)$+=t[W].drawnWidth||t[W].width||t[W].colDef.width;else break;E.newScrollLeft===void 0?pe+=s:pe=E.newScrollLeft+b-$,p<E.col.drawnWidth&&(p+=Math.abs(s),k.css({width:p+"px"}))};E.$on("$destroy",i)}}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.pagination",["ng","ui.grid"]);we.service("uiGridPaginationService",["gridUtil",function(Q){var A={initializeGrid:function(O){A.defaultGridOptions(O.options);var I={events:{pagination:{paginationChanged:function(T,_){}}},methods:{pagination:{getPage:function(){return O.options.enablePagination?O.options.paginationCurrentPage:null},getFirstRowIndex:function(){return O.options.useCustomPagination?O.options.paginationPageSizes.reduce(function(T,_,E){return E<O.options.paginationCurrentPage-1?T+_:T},0):(O.options.paginationCurrentPage-1)*O.options.paginationPageSize},getLastRowIndex:function(){return O.options.useCustomPagination?I.methods.pagination.getFirstRowIndex()+O.options.paginationPageSizes[O.options.paginationCurrentPage-1]-1:Math.min(O.options.paginationCurrentPage*O.options.paginationPageSize,O.options.totalItems)-1},getTotalPages:function(){return O.options.enablePagination?O.options.useCustomPagination?O.options.paginationPageSizes.length:O.options.totalItems===0?1:Math.ceil(O.options.totalItems/O.options.paginationPageSize):null},nextPage:function(){O.options.enablePagination&&(O.options.totalItems>0?O.options.paginationCurrentPage=Math.min(O.options.paginationCurrentPage+1,I.methods.pagination.getTotalPages()):O.options.paginationCurrentPage++)},previousPage:function(){O.options.enablePagination&&(O.options.paginationCurrentPage=Math.max(O.options.paginationCurrentPage-1,1))},seek:function(T){if(O.options.enablePagination){if(!angular.isNumber(T)||T<1)throw"Invalid page number: "+T;O.options.paginationCurrentPage=Math.min(T,I.methods.pagination.getTotalPages())}}}}};O.api.registerEventsFromObject(I.events),O.api.registerMethodsFromObject(I.methods);var D=function(T){if(O.options.useExternalPagination||!O.options.enablePagination)return T;var _=parseInt(O.options.paginationPageSize,10),E=parseInt(O.options.paginationCurrentPage,10),d=T.filter(function(F){return F.visible});O.options.totalItems=d.length;var M=I.methods.pagination.getFirstRowIndex(),g=I.methods.pagination.getLastRowIndex();return M>d.length&&(E=O.options.paginationCurrentPage=1,M=(E-1)*_),d.slice(M,g+1)};O.registerRowsProcessor(D,900)},defaultGridOptions:function(O){O.enablePagination=O.enablePagination!==!1,O.enablePaginationControls=O.enablePaginationControls!==!1,O.useExternalPagination=O.useExternalPagination===!0,O.useCustomPagination=O.useCustomPagination===!0,Q.isNullOrUndefined(O.totalItems)&&(O.totalItems=0),Q.isNullOrUndefined(O.paginationPageSizes)&&(O.paginationPageSizes=[250,500,1e3]),Q.isNullOrUndefined(O.paginationPageSize)&&(O.paginationPageSizes.length>0?O.paginationPageSize=O.paginationPageSizes[0]:O.paginationPageSize=0),Q.isNullOrUndefined(O.paginationCurrentPage)&&(O.paginationCurrentPage=1),Q.isNullOrUndefined(O.paginationTemplate)&&(O.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(O,I,D){O.api.pagination.raise.paginationChanged(I,D),O.options.useExternalPagination||O.queueGridRefresh()}};return A}]),we.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(Q,A){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(O,I,D,T){A.initializeGrid(T.grid),Q.getTemplate(T.grid.options.paginationTemplate).then(function(_){var E=angular.element(_);I.append(E),T.innerCompile(E)})}}}}]),we.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService","i18nConstants",function(Q,A,O,I,D){return{priority:-200,scope:!0,require:"^uiGrid",link:function(T,_,E,d){var M=".ui-grid-pager-control-input";T.aria=I.getSafeText("pagination.aria");var g=function(){T.paginationApi=d.grid.api.pagination,T.sizesLabel=I.getSafeText("pagination.sizes"),T.totalItemsLabel=I.getSafeText("pagination.totalItems"),T.paginationOf=I.getSafeText("pagination.of"),T.paginationThrough=I.getSafeText("pagination.through")};g(),T.$on(D.UPDATE_EVENT,g);var F=d.grid.options;d.grid.renderContainers.body.registerViewportAdjuster(function(m){return F.enablePaginationControls&&(m.height=m.height-O.elementHeight(_,"padding")),m});var N=d.grid.registerDataChangeCallback(function(m){m.options.useExternalPagination||(m.options.totalItems=m.rows.length)},[A.dataChange.ROW]);T.$on("$destroy",N);var J=T.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(m,U){if(!(m===U||U===void 0)){if(!angular.isNumber(F.paginationCurrentPage)||F.paginationCurrentPage<1){F.paginationCurrentPage=1;return}if(F.totalItems>0&&F.paginationCurrentPage>T.paginationApi.getTotalPages()){F.paginationCurrentPage=T.paginationApi.getTotalPages();return}Q.onPaginationChanged(T.grid,F.paginationCurrentPage,F.paginationPageSize)}});T.$on("$destroy",function(){J()}),T.cantPageForward=function(){return T.paginationApi.getTotalPages()?T.cantPageToLast():F.data.length<1},T.cantPageToLast=function(){var m=T.paginationApi.getTotalPages();return!m||F.paginationCurrentPage>=m},T.cantPageBackward=function(){return F.paginationCurrentPage<=1};var pe=function(m){m&&O.focus.bySelector(_,M)};T.pageFirstPageClick=function(){T.paginationApi.seek(1),pe(T.cantPageBackward())},T.pagePreviousPageClick=function(){T.paginationApi.previousPage(),pe(T.cantPageBackward())},T.pageNextPageClick=function(){T.paginationApi.nextPage(),pe(T.cantPageForward())},T.pageLastPageClick=function(){T.paginationApi.seek(T.paginationApi.getTotalPages()),pe(T.cantPageToLast())}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.pinning",["ui.grid"]);we.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),we.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(Q,A,O,I){var D={initializeGrid:function(T){D.defaultGridOptions(T.options),T.registerColumnBuilder(D.pinningColumnBuilder);var _={events:{pinning:{columnPinned:function(E,d){}}},methods:{pinning:{pinColumn:function(E,d){D.pinColumn(T,E,d)}}}};T.api.registerEventsFromObject(_.events),T.api.registerMethodsFromObject(_.methods)},defaultGridOptions:function(T){T.enablePinning=T.enablePinning!==!1,T.hidePinLeft=T.enablePinning&&T.hidePinLeft,T.hidePinRight=T.enablePinning&&T.hidePinRight},pinningColumnBuilder:function(T,_,E){if(T.enablePinning=T.enablePinning===void 0?E.enablePinning:T.enablePinning,T.hidePinLeft=T.hidePinLeft===void 0?E.hidePinLeft:T.hidePinLeft,T.hidePinRight=T.hidePinRight===void 0?E.hidePinRight:T.hidePinRight,T.pinnedLeft?(_.renderContainer="left",_.grid.createLeftContainer()):T.pinnedRight&&(_.renderContainer="right",_.grid.createRightContainer()),!!T.enablePinning){var d={name:"ui.grid.pinning.pinLeft",title:O.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return typeof this.context.col.renderContainer=="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="left"},action:function(){D.pinColumn(this.context.col.grid,this.context.col,I.container.LEFT)}},M={name:"ui.grid.pinning.pinRight",title:O.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return typeof this.context.col.renderContainer=="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="right"},action:function(){D.pinColumn(this.context.col.grid,this.context.col,I.container.RIGHT)}},g={name:"ui.grid.pinning.unpin",title:O.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return typeof this.context.col.renderContainer!="undefined"&&this.context.col.renderContainer!==null&&this.context.col.renderContainer!=="body"},action:function(){D.pinColumn(this.context.col.grid,this.context.col,I.container.NONE)}};!T.hidePinLeft&&!Q.arrayContainsObjectWithProperty(_.menuItems,"name","ui.grid.pinning.pinLeft")&&_.menuItems.push(d),!T.hidePinRight&&!Q.arrayContainsObjectWithProperty(_.menuItems,"name","ui.grid.pinning.pinRight")&&_.menuItems.push(M),Q.arrayContainsObjectWithProperty(_.menuItems,"name","ui.grid.pinning.unpin")||_.menuItems.push(g)}},pinColumn:function(T,_,E){E===I.container.NONE?(_.renderContainer=null,_.colDef.pinnedLeft=_.colDef.pinnedRight=!1):(_.renderContainer=E,E===I.container.LEFT?T.createLeftContainer():E===I.container.RIGHT&&T.createRightContainer()),T.refresh().then(function(){T.api.pinning.raise.columnPinned(_.colDef,E)})}};return D}]),we.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(Q,A){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){A.initializeGrid(T.grid)},post:function(O,I,D,T){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.resizeColumns",["ui.grid"]);we.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(Q,A,O){return{defaultGridOptions:function(I){I.enableColumnResizing=I.enableColumnResizing!==!1,I.enableColumnResize===!1&&(I.enableColumnResizing=!1)},colResizerColumnBuilder:function(I,D,T){var _=[];return I.enableColumnResizing=I.enableColumnResizing===void 0?T.enableColumnResizing:I.enableColumnResizing,I.enableColumnResize===!1&&(I.enableColumnResizing=!1),A.all(_)},registerPublicApi:function(I){var D={events:{colResizable:{columnSizeChanged:function(T,_){}}}};I.api.registerEventsFromObject(D.events)},fireColumnSizeChanged:function(I,D,T){O.$applyAsync(function(){I.api.colResizable?I.api.colResizable.raise.columnSizeChanged(D,T):Q.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(I,D,T){var _=I.getRenderContainer();if(D==="left"){var E=_.visibleColumnCache.indexOf(I);return E===0?_.visibleColumnCache[0]:_.visibleColumnCache[E-1*T]}else return I}}}]),we.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(Q,A){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){A.defaultGridOptions(T.grid.options),T.grid.registerColumnBuilder(A.colResizerColumnBuilder),A.registerPublicApi(T.grid)},post:function(O,I,D,T){}}}}}]),we.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(Q,A,O,I,D,T){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(_,E,d,M){var g=M.grid;if(g.options.enableColumnResizing){var F=A.get("ui-grid/columnResizer"),N=1;g.isRTL()&&(_.position="left",N=-1);var J=function(){for(var U=E[0].getElementsByClassName("ui-grid-column-resizer"),k=0;k<U.length;k++)angular.element(U[k]).remove();var p=D.findTargetCol(_.col,"left",N),w=_.col.getRenderContainer();if(p&&w.visibleColumnCache.indexOf(_.col)!==0&&p.colDef.enableColumnResizing!==!1){var v=angular.element(F).clone();v.attr("position","left"),E.prepend(v),O(v)(_)}if(_.col.colDef.enableColumnResizing!==!1){var h=angular.element(F).clone();h.attr("position","right"),E.append(h),O(h)(_)}};J();var pe=function(){_.$applyAsync(J)},m=g.registerDataChangeCallback(pe,[T.dataChange.COLUMN]);_.$on("$destroy",m)}}}}}}]),we.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(Q,A,O,I){var D=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(T,_,E,d){var M=0,g=0,F=0,N=1;d.grid.isRTL()&&(T.position="left",N=-1),T.position==="left"?_.addClass("left"):T.position==="right"&&_.addClass("right");function J(h){d.grid.refreshCanvas(!0).then(function(){d.grid.queueGridRefresh()})}function pe(h,e){var o=e;return h.minWidth&&o<h.minWidth?o=h.minWidth:h.maxWidth&&o>h.maxWidth&&(o=h.maxWidth),o}function m(h,e){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),g=(h.targetTouches?h.targetTouches[0]:h).clientX-F,g<0?g=0:g>d.grid.gridWidth&&(g=d.grid.gridWidth);var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var i=g-M,u=parseInt(o.drawnWidth+i*N,10);g=g+(pe(o,u)-u)*N,D.css({left:g+"px"}),d.fireEvent(O.events.ITEM_DRAGGING)}}function U(h){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),d.grid.element.removeClass("column-resizing"),D.remove(),g=(h.changedTouches?h.changedTouches[0]:h).clientX-F;var e=g-M;if(e===0){w(),p();return}var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=parseInt(o.drawnWidth+e*N,10);o.width=pe(o,i),o.hasCustomWidth=!0,J(e),I.fireColumnSizeChanged(d.grid,o.colDef,e),w(),p()}}var k=function(h,e){h.originalEvent&&(h=h.originalEvent),h.stopPropagation(),F=d.grid.element[0].getBoundingClientRect().left,M=(h.targetTouches?h.targetTouches[0]:h).clientX-F,d.grid.element.append(D),D.css({left:M}),h.type==="touchstart"?(Q.on("touchend",U),Q.on("touchmove",m),_.off("mousedown",k)):(Q.on("mouseup",U),Q.on("mousemove",m),_.off("touchstart",k))},p=function(){_.on("mousedown",k),_.on("touchstart",k)},w=function(){Q.off("mouseup",U),Q.off("touchend",U),Q.off("mousemove",m),Q.off("touchmove",m),_.off("mousedown",k),_.off("touchstart",k)};p();var v=function(h,e){h.stopPropagation();var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=0,u=A.closestElm(_,".ui-grid-render-container"),c=u.querySelectorAll("."+O.COL_CLASS_PREFIX+o.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(c,function(n){var a;angular.element(n).parent().hasClass("ui-grid-header-cell")&&(a=angular.element(n).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),A.fakeElement(n,{},function(l){var f=angular.element(l);f.attr("style","float: left");var b=A.elementWidth(f)+2;if(a){var C=A.elementWidth(a);b=b+C}b>i&&(i=b)})});var s=pe(o,i),t=s-o.drawnWidth;o.width=s,o.hasCustomWidth=!0,J(t),I.fireColumnSizeChanged(d.grid,o.colDef,t)}};_.on("dblclick",v),_.on("$destroy",function(){_.off("dblclick",v),w()})}}}])})();(function(){"use strict";var we=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);we.constant("uiGridRowEditConstants",{}),we.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(Q,A,O,I,D){var T={initializeGrid:function(_,E){E.rowEdit={};var d={events:{rowEdit:{saveRow:function(M){}}},methods:{rowEdit:{setSavePromise:function(M,g){T.setSavePromise(E,M,g)},getDirtyRows:function(){return E.rowEdit.dirtyRows?E.rowEdit.dirtyRows:[]},getErrorRows:function(){return E.rowEdit.errorRows?E.rowEdit.errorRows:[]},flushDirtyRows:function(){return T.flushDirtyRows(E)},setRowsDirty:function(M){T.setRowsDirty(E,M)},setRowsClean:function(M){T.setRowsClean(E,M)}}}};E.api.registerEventsFromObject(d.events),E.api.registerMethodsFromObject(d.methods),E.api.core.on.renderingComplete(_,function(M){E.api.edit.on.afterCellEdit(_,T.endEditCell),E.api.edit.on.beginCellEdit(_,T.beginEditCell),E.api.edit.on.cancelCellEdit(_,T.cancelEditCell),E.api.cellNav&&E.api.cellNav.on.navigate(_,T.navigate)})},defaultGridOptions:function(_){},saveRow:function(_,E){var d=this;return function(){if(E.isSaving=!0,E.rowEditSavePromise)return E.rowEditSavePromise;var M=_.api.rowEdit.raise.saveRow(E.entity);return E.rowEditSavePromise?E.rowEditSavePromise.then(d.processSuccessPromise(_,E),d.processErrorPromise(_,E)):D.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),M}},setSavePromise:function(_,E,d){var M=_.getRow(E);M.rowEditSavePromise=d},processSuccessPromise:function(_,E){var d=this;return function(){delete E.isSaving,delete E.isDirty,delete E.isError,delete E.rowEditSaveTimer,delete E.rowEditSavePromise,d.removeRow(_.rowEdit.errorRows,E),d.removeRow(_.rowEdit.dirtyRows,E)}},processErrorPromise:function(_,E){return function(){delete E.isSaving,delete E.rowEditSaveTimer,delete E.rowEditSavePromise,E.isError=!0,_.rowEdit.errorRows||(_.rowEdit.errorRows=[]),T.isRowPresent(_.rowEdit.errorRows,E)||_.rowEdit.errorRows.push(E)}},removeRow:function(_,E){typeof _=="undefined"||_===null||_.forEach(function(d,M){d.uid===E.uid&&_.splice(M,1)})},isRowPresent:function(_,E){var d=!1;return _.forEach(function(M,g){M.uid===E.uid&&(d=!0)}),d},flushDirtyRows:function(_){var E=[];return _.api.rowEdit.getDirtyRows().forEach(function(d){T.cancelTimer(_,d),T.saveRow(_,d)(),E.push(d.rowEditSavePromise)}),A.all(E)},endEditCell:function(_,E,d,M){var g=this.grid,F=g.getRow(_);if(!F){D.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");return}(d!==M||F.isDirty)&&(g.rowEdit.dirtyRows||(g.rowEdit.dirtyRows=[]),F.isDirty||(F.isDirty=!0,g.rowEdit.dirtyRows.push(F)),delete F.isError,T.considerSetTimer(g,F))},beginEditCell:function(_,E){var d=this.grid,M=d.getRow(_);if(!M){D.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");return}T.cancelTimer(d,M)},cancelEditCell:function(_,E){var d=this.grid,M=d.getRow(_);if(!M){D.logError("Unable to find rowEntity in grid data, timer cannot be set");return}T.considerSetTimer(d,M)},navigate:function(_,E){var d=this.grid;_.row.rowEditSaveTimer&&T.cancelTimer(d,_.row),E&&E.row&&E.row!==_.row&&T.considerSetTimer(d,E.row)},considerSetTimer:function(_,E){if(T.cancelTimer(_,E),E.isDirty&&!E.isSaving&&_.options.rowEditWaitInterval!==-1){var d=_.options.rowEditWaitInterval?_.options.rowEditWaitInterval:2e3;E.rowEditSaveTimer=Q(T.saveRow(_,E),d,1)}},cancelTimer:function(_,E){E.rowEditSaveTimer&&!E.isSaving&&(Q.cancel(E.rowEditSaveTimer),delete E.rowEditSaveTimer)},setRowsDirty:function(_,E){var d;E.forEach(function(M,g){d=_.getRow(M),d?(_.rowEdit.dirtyRows||(_.rowEdit.dirtyRows=[]),d.isDirty||(d.isDirty=!0,_.rowEdit.dirtyRows.push(d)),delete d.isError,T.considerSetTimer(_,d)):D.logError("requested row not found in rowEdit.setRowsDirty, row was: "+M)})},setRowsClean:function(_,E){var d;E.forEach(function(M,g){d=_.getRow(M),d?(delete d.isDirty,T.removeRow(_.rowEdit.dirtyRows,d),T.cancelTimer(_,d),delete d.isError,T.removeRow(_.rowEdit.errorRows,d)):D.logError("requested row not found in rowEdit.setRowsClean, row was: "+M)})}};return T}]),we.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(Q,A,O){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(I,D,T,_){A.initializeGrid(I,_.grid)},post:function(I,D,T,_){}}}}}]),we.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(Q,A,O,I){return{priority:-200,scope:!1,compile:function(D,T){var _=angular.element(D.children().children()[0]),E=_.attr("ng-class"),d="";return E?d=E.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":d="{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",_.attr("ng-class",d),{pre:function(M,g,F,N){},post:function(M,g,F,N){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);we.constant("uiGridSaveStateConstants",{featureName:"saveState"}),we.service("uiGridSaveStateService",function(){var Q={initializeGrid:function(A){A.saveState={},this.defaultGridOptions(A.options);var O={events:{saveState:{}},methods:{saveState:{save:function(){return Q.save(A)},restore:function(I,D){return Q.restore(A,I,D)}}}};A.api.registerEventsFromObject(O.events),A.api.registerMethodsFromObject(O.methods)},defaultGridOptions:function(A){A.saveWidths=A.saveWidths!==!1,A.saveOrder=A.saveOrder!==!1,A.saveScroll=A.saveScroll===!0,A.saveFocus=A.saveScroll!==!0&&A.saveFocus!==!1,A.saveVisible=A.saveVisible!==!1,A.saveSort=A.saveSort!==!1,A.saveFilter=A.saveFilter!==!1,A.saveSelection=A.saveSelection!==!1,A.saveGrouping=A.saveGrouping!==!1,A.saveGroupingExpandedStates=A.saveGroupingExpandedStates===!0,A.savePinning=A.savePinning!==!1,A.saveTreeView=A.saveTreeView!==!1},save:function(A){var O={};return O.columns=Q.saveColumns(A),O.scrollFocus=Q.saveScrollFocus(A),O.selection=Q.saveSelection(A),O.grouping=Q.saveGrouping(A),O.treeView=Q.saveTreeView(A),O.pagination=Q.savePagination(A),O},restore:function(A,O,I){return I.columns&&Q.restoreColumns(A,I.columns),I.scrollFocus&&Q.restoreScrollFocus(A,O,I.scrollFocus),I.selection&&Q.restoreSelection(A,I.selection),I.grouping&&Q.restoreGrouping(A,I.grouping),I.treeView&&Q.restoreTreeView(A,I.treeView),I.pagination&&Q.restorePagination(A,I.pagination),A.refresh()},saveColumns:function(A){var O=[];return A.getOnlyDataColumns().forEach(function(I){var D={};D.name=I.name,A.options.saveVisible&&(D.visible=I.visible),A.options.saveWidths&&(D.width=I.width),A.options.saveSort&&(D.sort=angular.copy(I.sort)),A.options.saveFilter&&(D.filters=[],I.filters.forEach(function(T){var _={};angular.forEach(T,function(E,d){d!=="condition"&&d!=="$$hashKey"&&d!=="placeholder"&&(_[d]=E)}),D.filters.push(_)})),A.api.pinning&&A.options.savePinning&&(D.pinned=I.renderContainer?I.renderContainer:""),O.push(D)}),O},saveScrollFocus:function(A){if(!A.api.cellNav)return{};var O={};if(A.options.saveFocus){O.focus=!0;var I=A.api.cellNav.getFocusedCell();I!==null&&(I.col!==null&&(O.colName=I.col.colDef.name),I.row!==null&&(O.rowVal=Q.getRowVal(A,I.row)))}return(A.options.saveScroll||A.options.saveFocus&&!O.colName&&!O.rowVal)&&(O.focus=!1,A.renderContainers.body.prevRowScrollIndex&&(O.rowVal=Q.getRowVal(A,A.renderContainers.body.visibleRowCache[A.renderContainers.body.prevRowScrollIndex])),A.renderContainers.body.prevColScrollIndex&&(O.colName=A.renderContainers.body.visibleColumnCache[A.renderContainers.body.prevColScrollIndex].name)),O},saveSelection:function(A){return!A.api.selection||!A.options.saveSelection?[]:A.api.selection.getSelectedGridRows().map(function(O){return Q.getRowVal(A,O)})},saveGrouping:function(A){return!A.api.grouping||!A.options.saveGrouping?{}:A.api.grouping.getGrouping(A.options.saveGroupingExpandedStates)},savePagination:function(A){return!A.api.pagination||!A.options.paginationPageSize?{}:{paginationCurrentPage:A.options.paginationCurrentPage,paginationPageSize:A.options.paginationPageSize}},saveTreeView:function(A){return!A.api.treeView||!A.options.saveTreeView?{}:A.api.treeView.getTreeView()},getRowVal:function(A,O){if(!O)return null;var I={};return A.options.saveRowIdentity?(I.identity=!0,I.row=A.options.saveRowIdentity(O.entity)):(I.identity=!1,I.row=A.renderContainers.body.visibleRowCache.indexOf(O)),I},restoreColumns:function(A,O){var I=!1;O.forEach(function(D,T){var _=A.getColumn(D.name);if(_&&!A.isRowHeaderColumn(_)){A.options.saveVisible&&(_.visible!==D.visible||_.colDef.visible!==D.visible)&&(_.visible=D.visible,_.colDef.visible=D.visible,A.api.core.raise.columnVisibilityChanged(_)),A.options.saveWidths&&_.width!==D.width&&(_.width=D.width,_.hasCustomWidth=!0),A.options.saveSort&&!angular.equals(_.sort,D.sort)&&!(_.sort===void 0&&angular.isEmpty(D.sort))&&(_.sort=angular.copy(D.sort),I=!0),A.options.saveFilter&&!angular.equals(_.filters,D.filters)&&(D.filters.forEach(function(M,g){angular.extend(_.filters[g],M),(typeof M.term=="undefined"||M.term===null)&&delete _.filters[g].term}),A.api.core.raise.filterChanged(_)),A.api.pinning&&A.options.savePinning&&_.renderContainer!==D.pinned&&A.api.pinning.pinColumn(_,D.pinned);var E=A.getOnlyDataColumns().indexOf(_);if(E!==-1&&A.options.saveOrder&&E!==T){var d=A.columns.splice(E+A.rowHeaderColumns.length,1)[0];A.columns.splice(T+A.rowHeaderColumns.length,0,d)}}}),I&&A.api.core.raise.sortChanged(A,A.getColumnSorting())},restoreScrollFocus:function(A,O,I){if(A.api.cellNav){var D,T;if(I.colName){var _=A.options.columnDefs.filter(function(d){return d.name===I.colName});_.length>0&&(D=_[0])}I.rowVal&&I.rowVal.row&&(I.rowVal.identity?T=Q.findRowByIdentity(A,I.rowVal):T=A.renderContainers.body.visibleRowCache[I.rowVal.row]);var E=T&&T.entity?T.entity:null;(D||E)&&(I.focus?A.api.cellNav.scrollToFocus(E,D):A.scrollTo(E,D))}},restoreSelection:function(A,O){A.api.selection&&(A.api.selection.clearSelectedRows(),O.forEach(function(I){if(I.identity){var D=Q.findRowByIdentity(A,I);D&&A.api.selection.selectRow(D.entity)}else A.api.selection.selectRowByVisibleIndex(I.row)}))},restoreGrouping:function(A,O){!A.api.grouping||typeof O=="undefined"||O===null||angular.equals(O,{})||A.api.grouping.setGrouping(O)},restoreTreeView:function(A,O){!A.api.treeView||typeof O=="undefined"||O===null||angular.equals(O,{})||A.api.treeView.setTreeView(O)},restorePagination:function(A,O){!A.api.pagination||!A.options.paginationPageSize||(A.options.paginationCurrentPage=O.paginationCurrentPage,A.options.paginationPageSize=O.paginationPageSize)},findRowByIdentity:function(A,O){if(!A.options.saveRowIdentity)return null;var I=A.rows.filter(function(D){return A.options.saveRowIdentity(D.entity)===O.row});return I.length>0?I[0]:null}};return Q}),we.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(Q,A,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(D,T,_,E){A.initializeGrid(E.grid)}}}])})();(function(){"use strict";var we=angular.module("ui.grid.selection",["ui.grid"]);we.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(Q){Q.decorator("GridRow",["$delegate",function(A){return A.prototype.setSelected=function(O){O!==this.isSelected&&(this.isSelected=O,this.grid.selection.selectedCount+=O?1:-1)},A.prototype.setFocused=function(O){O!==this.isFocused&&(this.grid.selection.focusedRow&&(this.grid.selection.focusedRow.isFocused=!1),this.grid.selection.focusedRow=O?this:null,this.isFocused=O)},A}])}]),we.service("uiGridSelectionService",function(){var Q={initializeGrid:function(A){A.selection={lastSelectedRow:null,focusedRow:null,selectAll:!1},A.selection.selectedCount=0,Q.defaultGridOptions(A.options);var O={events:{selection:{rowFocusChanged:function(I,D,T){},rowSelectionChanged:function(I,D,T){},rowSelectionChangedBatch:function(I,D,T){}}},methods:{selection:{toggleRowSelection:function(I,D){var T=A.getRow(I);T!=null&&T!==null&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!0)},selectRow:function(I,D){var T=A.getRow(I);T!=null&&T!==null&&!T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!0)},selectRowByVisibleIndex:function(I,D){var T=A.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&!T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!1)},selectRowByKey:function(I,D,T,_,E){var d=A.findRowByKey(I,D,T,E);d!=null&&d!==null&&typeof d!="undefined"&&!d.isSelected&&Q.toggleRowSelection(A,d,_,A.options.multiSelect,A.options.noUnselect,!1)},unSelectRow:function(I,D){var T=A.getRow(I);T!=null&&T!==null&&T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!0)},unSelectRowByVisibleIndex:function(I,D){var T=A.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!1)},unSelectRowByKey:function(I,D,T,_,E){var d=A.findRowByKey(I,D,T,E);d!=null&&d!==null&&typeof d!="undefined"&&d.isSelected&&Q.toggleRowSelection(A,d,_,A.options.multiSelect,A.options.noUnselect,!1)},selectAllRows:function(I){if(A.options.multiSelect!==!1){var D=[];A.rows.forEach(function(T){!T.isSelected&&T.enableSelection!==!1&&A.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(A,T,D,I))}),A.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(A,D,I)}},selectAllVisibleRows:function(I){if(A.options.multiSelect!==!1){var D=[];A.rows.forEach(function(T){T.visible?!T.isSelected&&T.enableSelection!==!1&&A.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(A,T,D,I)):T.isSelected&&(T.setSelected(!1),Q.decideRaiseSelectionEvent(A,T,D,I))}),A.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(A,D,I)}},clearSelectedRows:function(I){Q.clearSelectedRows(A,I)},getSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getSelectedRows(A))},getUnSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getUnSelectedRows(A))},getSelectedGridRows:function(){return Q.getSelectedRows(A)},getUnSelectedGridRows:function(){return Q.getUnSelectedRows(A)},getSelectedCount:function(){return A.selection.selectedCount},setMultiSelect:function(I){A.options.multiSelect=I},setModifierKeysToMultiSelect:function(I){A.options.modifierKeysToMultiSelect=I},getSelectAllState:function(){return A.selection.selectAll}}}};A.api.registerEventsFromObject(O.events),A.api.registerMethodsFromObject(O.methods)},defaultGridOptions:function(A){A.enableRowSelection=A.enableRowSelection!==!1,A.multiSelect=A.multiSelect!==!1,A.noUnselect=A.noUnselect===!0,A.modifierKeysToMultiSelect=A.modifierKeysToMultiSelect===!0,A.enableRowHeaderSelection=A.enableRowHeaderSelection!==!1,typeof A.enableFullRowSelection=="undefined"&&(A.enableFullRowSelection=!A.enableRowHeaderSelection),A.enableFocusRowOnRowHeaderClick=A.enableFocusRowOnRowHeaderClick!==!1||!A.enableRowHeaderSelection,A.enableSelectRowOnFocus=A.enableSelectRowOnFocus!==!1,A.enableSelectAll=A.enableSelectAll!==!1,A.enableSelectionBatchEvent=A.enableSelectionBatchEvent!==!1,A.selectionRowHeaderWidth=angular.isDefined(A.selectionRowHeaderWidth)?A.selectionRowHeaderWidth:30,A.enableFooterTotalSelected=A.enableFooterTotalSelected!==!1,A.isRowSelectable=angular.isDefined(A.isRowSelectable)?A.isRowSelectable:angular.noop},toggleRowSelection:function(A,O,I,D,T,_){if(O.enableSelection!==!1){_===void 0&&(_=!0);var E=O.isSelected;D||(E?Q.getSelectedRows(A).length>1&&(E=!1,Q.clearSelectedRows(A,I)):Q.clearSelectedRows(A,I)),!(E&&T)&&(_||O.visible)&&(O.setSelected(!E),O.isSelected===!0&&(A.selection.lastSelectedRow=O),A.selection.selectAll=A.rows.length===Q.getSelectedRows(A).length,A.api.selection.raise.rowSelectionChanged(O,I))}},shiftSelect:function(A,O,I,D){if(D){var T=Q.getSelectedRows(A),_=T.length>0?A.renderContainers.body.visibleRowCache.indexOf(A.selection.lastSelectedRow):0,E=A.renderContainers.body.visibleRowCache.indexOf(O);if(_>E){var d=_;_=E,E=d}for(var M=[],g=_;g<=E;g++){var F=A.renderContainers.body.visibleRowCache[g];F&&!F.isSelected&&F.enableSelection!==!1&&(F.setSelected(!0),A.selection.lastSelectedRow=F,Q.decideRaiseSelectionEvent(A,F,M,I))}Q.decideRaiseSelectionBatchEvent(A,M,I)}},getSelectedRows:function(A){return A.rows.filter(function(O){return O.isSelected})},getUnSelectedRows:function(A){return A.rows.filter(function(O){return!O.isSelected})},mapAndFilterRowsByEntity:function(A){return typeof A.reduce=="function"?A.reduce(function(O,I){return(I.entity.hasOwnProperty("$$hashKey")||!angular.isObject(I.entity))&&O.push(I.entity),O},[]):A.filter(function(O){return O.entity.hasOwnProperty("$$hashKey")||!angular.isObject(O.entity)}).map(function(O){return O.entity})},clearSelectedRows:function(A,O){var I=[];Q.getSelectedRows(A).forEach(function(D){D.isSelected&&D.enableSelection!==!1&&(D.setSelected(!1),Q.decideRaiseSelectionEvent(A,D,I,O))}),A.selection.selectAll=!1,A.selection.selectedCount=0,Q.decideRaiseSelectionBatchEvent(A,I,O)},decideRaiseSelectionEvent:function(A,O,I,D){A.options.enableSelectionBatchEvent?I.push(O):A.api.selection.raise.rowSelectionChanged(O,D)},decideRaiseSelectionBatchEvent:function(A,O,I){O.length>0&&A.api.selection.raise.rowSelectionChangedBatch(O,I)}};return Q}),we.directive("uiGridSelection",["i18nService","uiGridSelectionConstants","uiGridSelectionService","uiGridConstants",function(Q,A,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(D,T,_,E){if(O.initializeGrid(E.grid),E.grid.options.enableRowHeaderSelection){var d={name:A.selectionRowHeaderColName,displayName:Q.getSafeText("selection.displayName"),width:E.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};E.grid.addRowHeaderColumn(d,0)}var M=!1,g=function(J){return J.forEach(function(pe){pe.enableSelection=E.grid.options.isRowSelectable(pe)}),J},F=function(){E.grid.options.isRowSelectable!==angular.noop&&M!==!0&&(E.grid.registerRowsProcessor(g,500),M=!0)};F();var N=E.grid.registerDataChangeCallback(F,[I.dataChange.OPTIONS]);D.$on("$destroy",N)},post:function(D,T,_,E){}}}}}]),we.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(Q,A,O){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(I,D,T,_){var E=_.grid;I.selectButtonClick=M,I.selectButtonKeyDown=d,O.detectBrowser()==="ie"&&D.on("mousedown",g);function d(F,N){(N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),M(F,N))}function M(F,N){if(N.stopPropagation(),N.shiftKey)A.shiftSelect(E,F,N,E.options.multiSelect);else if(N.ctrlKey||N.metaKey)A.toggleRowSelection(E,F,N,E.options.multiSelect,E.options.noUnselect,!1);else if(F.groupHeader){A.toggleRowSelection(E,F,N,E.options.multiSelect,E.options.noUnselect,!1);for(var J=0;J<F.treeNode.children.length;J++)A.toggleRowSelection(E,F.treeNode.children[J].row,N,E.options.multiSelect,E.options.noUnselect,!1)}else A.toggleRowSelection(E,F,N,E.options.multiSelect&&!E.options.modifierKeysToMultiSelect,E.options.noUnselect,!1);E.options.enableFocusRowOnRowHeaderClick&&F.setFocused(!F.isFocused)&&E.api.selection.raise.rowFocusChanged(F,N)}function g(F){(F.ctrlKey||F.shiftKey)&&(F.target.onselectstart=function(){return!1},window.setTimeout(function(){F.target.onselectstart=null},0))}I.$on("$destroy",function(){D.off()})}}}]),we.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(Q,A){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(O){var I=O.col.grid;O.headerButtonKeyDown=function(D){(D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),O.headerButtonClick(D))},O.headerButtonClick=function(D){I.selection.selectAll?(A.clearSelectedRows(I,D),I.options.noUnselect&&I.api.selection.selectRowByVisibleIndex(0,D),I.selection.selectAll=!1):I.options.multiSelect&&(I.api.selection.selectAllVisibleRows(D),I.selection.selectAll=!0)}}}}]),we.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(Q){var A=angular.element(Q[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),O="'ui-grid-row-selected': row.isSelected, 'ui-grid-row-focused': row.isFocused}",I=A.attr("ng-class");return I?O=I.slice(0,-1)+","+O:O="{"+O,A.attr("ng-class",O),{pre:function(D,T,_,E){},post:function(D,T,_,E){}}}}}),we.directive("uiGridCell",["uiGridConstants","uiGridSelectionService",function(Q,A){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(O,I,D,T){var _=0,E={},d=300,M=100;T.grid.api.cellNav&&T.grid.api.cellNav.on.viewPortKeyDown(O,function(U,k){k===null||k.row!==O.row||k.col!==O.col||U.keyCode===Q.keymap.SPACE&&O.col.colDef.name==="selectionRowHeaderCol"&&(U.preventDefault(),A.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.$apply())});var g=function(U){U.target.className==="ui-grid-icon-minus-squared"||U.target.className==="ui-grid-icon-plus-squared"||(I.off("touchend",N),U.shiftKey?A.shiftSelect(O.grid,O.row,U,O.grid.options.multiSelect):U.ctrlKey||U.metaKey?A.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect,O.grid.options.noUnselect,!1):O.grid.options.enableSelectRowOnFocus&&A.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.row.setFocused(!O.row.isFocused),O.grid.api.selection.raise.rowFocusChanged(O.row,U),O.$apply(),window.setTimeout(function(){I.on("touchend",N)},d))},F=function(U){_=new Date().getTime(),E=U.changedTouches[0],I.off("click",g)},N=function(U){var k=new Date().getTime(),p=U.changedTouches[0],w=k-_,v=Math.abs(E.clientX-p.clientX),h=Math.abs(E.clientY-p.clientY);v<M&&h<M&&w<d&&g(U),window.setTimeout(function(){I.on("click",g)},d)};function J(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&O.col.colDef.name!=="selectionRowHeaderCol"&&(I.addClass("ui-grid-disable-selection"),I.on("touchstart",F),I.on("touchend",N),I.on("click",g),O.registered=!0)}function pe(){O.registered&&(I.removeClass("ui-grid-disable-selection"),I.off("touchstart",F),I.off("touchend",N),I.off("click",g),O.registered=!1)}J();var m=O.grid.registerDataChangeCallback(function(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&!O.registered?J():(!O.grid.options.enableRowSelection||!O.grid.options.enableFullRowSelection)&&O.registered&&pe()},[Q.dataChange.OPTIONS]);I.on("$destroy",m)}}}]),we.directive("uiGridGridFooter",["$compile","gridUtil",function(Q,A){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(O,I,D,T){T.grid.options.showGridFooter&&A.getTemplate("ui-grid/gridFooterSelectedItems").then(function(_){var E=angular.element(_),d=Q(E)(O);angular.element(I[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(d)})},post:function(O,I,D,T){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.treeBase",["ui.grid"]);we.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),we.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(Q,A,O,I,D,T,_,E){var d={initializeGrid:function(M){M.treeBase={},M.treeBase.numberLevels=0,M.treeBase.expandAll=!1,M.treeBase.tree=[],d.defaultGridOptions(M.options),M.registerRowsProcessor(d.treeRows,410),M.registerColumnBuilder(d.treeBaseColumnBuilder),d.createRowHeader(M);var g={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){d.expandAllRows(M)},collapseAllRows:function(){d.collapseAllRows(M)},toggleRowTreeState:function(F){d.toggleRowTreeState(M,F)},expandRow:function(F,N){d.expandRow(M,F,N)},expandRowChildren:function(F){d.expandRowChildren(M,F)},collapseRow:function(F){d.collapseRow(M,F)},collapseRowChildren:function(F){d.collapseRowChildren(M,F)},getTreeExpandedState:function(){return{expandedState:d.getTreeState(M)}},setTreeState:function(F){d.setTreeState(M,F)},getRowChildren:function(F){return F.treeNode.children.map(function(N){return N.row})}}}};M.api.registerEventsFromObject(g.events),M.api.registerMethodsFromObject(g.methods)},defaultGridOptions:function(M){M.treeRowHeaderBaseWidth=M.treeRowHeaderBaseWidth||30,M.treeIndent=M.treeIndent!=null?M.treeIndent:10,M.showTreeRowHeader=M.showTreeRowHeader!==!1,M.showTreeExpandNoChildren=M.showTreeExpandNoChildren!==!1,M.treeRowHeaderAlwaysVisible=M.treeRowHeaderAlwaysVisible!==!1,M.treeCustomAggregations=M.treeCustomAggregations||{},M.enableExpandAll=M.enableExpandAll!==!1},treeBaseColumnBuilder:function(M,g,F){typeof M.customTreeAggregationFn!="undefined"&&(g.treeAggregationFn=M.customTreeAggregationFn),typeof M.treeAggregationType!="undefined"&&(g.treeAggregation={type:M.treeAggregationType},typeof F.treeCustomAggregations[M.treeAggregationType]!="undefined"?(g.treeAggregationFn=F.treeCustomAggregations[M.treeAggregationType].aggregationFn,g.treeAggregationFinalizerFn=F.treeCustomAggregations[M.treeAggregationType].finalizerFn,g.treeAggregation.label=F.treeCustomAggregations[M.treeAggregationType].label):typeof d.nativeAggregations()[M.treeAggregationType]!="undefined"&&(g.treeAggregationFn=d.nativeAggregations()[M.treeAggregationType].aggregationFn,g.treeAggregation.label=d.nativeAggregations()[M.treeAggregationType].label)),typeof M.treeAggregationLabel!="undefined"&&(typeof g.treeAggregation=="undefined"&&(g.treeAggregation={}),g.treeAggregation.label=M.treeAggregationLabel),g.treeAggregationUpdateEntity=M.treeAggregationUpdateEntity!==!1,typeof g.customTreeAggregationFinalizerFn=="undefined"&&(g.customTreeAggregationFinalizerFn=M.customTreeAggregationFinalizerFn)},createRowHeader:function(M){var g={name:A.rowHeaderColName,displayName:"",width:M.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};g.visible=M.options.treeRowHeaderAlwaysVisible,M.addRowHeaderColumn(g,-100)},expandAllRows:function(M){M.treeBase.tree.forEach(function(g){d.setAllNodes(M,g,A.EXPANDED)}),M.treeBase.expandAll=!0,M.queueGridRefresh()},collapseAllRows:function(M){M.treeBase.tree.forEach(function(g){d.setAllNodes(M,g,A.COLLAPSED)}),M.treeBase.expandAll=!1,M.queueGridRefresh()},setAllNodes:function(M,g,F){typeof g.state!="undefined"&&g.state!==F&&(g.state=F,F===A.EXPANDED?M.api.treeBase.raise.rowExpanded(g.row):M.api.treeBase.raise.rowCollapsed(g.row)),g.children&&g.children.forEach(function(N){d.setAllNodes(M,N,F)})},toggleRowTreeState:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||(g.treeNode.state===A.EXPANDED?d.collapseRow(M,g):d.expandRow(M,g,!1),M.queueGridRefresh())},expandRow:function(M,g,F){if(F){for(var N=[];g&&typeof g.treeLevel!="undefined"&&g.treeLevel!==null&&g.treeLevel>=0&&g.treeNode.state!==A.EXPANDED;)N.push(g),g=g.treeNode.parentRow;if(N.length>0){for(g=N.pop();g;)g.treeNode.state=A.EXPANDED,M.api.treeBase.raise.rowExpanded(g),g=N.pop();M.treeBase.expandAll=d.allExpanded(M.treeBase.tree),M.queueGridRefresh()}}else{if(typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0)return;g.treeNode.state!==A.EXPANDED&&(g.treeNode.state=A.EXPANDED,M.api.treeBase.raise.rowExpanded(g),M.treeBase.expandAll=d.allExpanded(M.treeBase.tree),M.queueGridRefresh())}},expandRowChildren:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||(d.setAllNodes(M,g.treeNode,A.EXPANDED),M.treeBase.expandAll=d.allExpanded(M.treeBase.tree),M.queueGridRefresh())},collapseRow:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||g.treeNode.state!==A.COLLAPSED&&(g.treeNode.state=A.COLLAPSED,M.treeBase.expandAll=!1,M.api.treeBase.raise.rowCollapsed(g),M.queueGridRefresh())},collapseRowChildren:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||(d.setAllNodes(M,g.treeNode,A.COLLAPSED),M.treeBase.expandAll=!1,M.queueGridRefresh())},allExpanded:function(M){var g=!0;return M.forEach(function(F){d.allExpandedInternal(F)||(g=!1)}),g},allExpandedInternal:function(M){if(M.children&&M.children.length>0){if(M.state===A.COLLAPSED)return!1;var g=!0;return M.children.forEach(function(F){d.allExpandedInternal(F)||(g=!1)}),g}else return!0},treeRows:function(M){var g=this;return M.length===0?(d.updateRowHeaderWidth(g),M):(g.treeBase.tree=d.createTree(g,M),d.updateRowHeaderWidth(g),d.sortTree(g),d.fixFilter(g),d.renderTree(g.treeBase.tree))},updateRowHeaderWidth:function(M){var g=M.getColumn(A.rowHeaderColName),F=M.options.treeRowHeaderBaseWidth+M.options.treeIndent*Math.max(M.treeBase.numberLevels-1,0);g&&F!==g.width&&(g.width=F,M.queueRefresh());var N=!0;M.options.showTreeRowHeader===!1&&(N=!1),M.options.treeRowHeaderAlwaysVisible===!1&&M.treeBase.numberLevels<=0&&(N=!1),g&&g.visible!==N&&(g.visible=N,g.colDef.visible=N,M.queueGridRefresh())},renderTree:function(M){var g=[];return M.forEach(function(F){F.row.visible&&g.push(F.row),F.state===A.EXPANDED&&F.children&&F.children.length>0&&(g=g.concat(d.renderTree(F.children)))}),g},createTree:function(M,g){var F=-1,N={},J=[],pe;M.treeBase.tree=[],M.treeBase.numberLevels=0;var m=d.getAggregations(M);function U(p){if(!p.internalRow&&p.treeLevel!==p.entity.$$treeLevel&&(p.treeLevel=p.entity.$$treeLevel),p.treeLevel<=F){for(;p.treeLevel<=F;){var w=J.pop();d.finaliseAggregations(w),F--}J.length>0?pe=d.setCurrentState(J):pe=A.EXPANDED}typeof p.treeLevel!="undefined"&&p.treeLevel!==null&&p.treeLevel>=0&&N.hasOwnProperty(p.uid)&&J.push(N[p.uid]),(typeof p.treeLevel=="undefined"||p.treeLevel===null||p.treeLevel<0)&&p.visible&&d.aggregate(M,p,J),N.hasOwnProperty(p.uid)||d.addOrUseNode(M,p,J,m),typeof p.treeLevel!="undefined"&&p.treeLevel!==null&&p.treeLevel>=0&&(N.hasOwnProperty(p.uid)||(N[p.uid]=p,J.push(p)),F++,pe=d.setCurrentState(J)),M.treeBase.numberLevels<p.treeLevel+1&&(M.treeBase.numberLevels=p.treeLevel+1)}for(g.forEach(U);J.length>0;){var k=J.pop();d.finaliseAggregations(k)}return M.treeBase.tree},addOrUseNode:function(M,g,F,N){var J=[];N.forEach(function(m){J.push(d.buildAggregationObject(m.col))});var pe={state:A.COLLAPSED,row:g,parentRow:null,aggregations:J,children:[]};g.treeNode&&(pe.state=g.treeNode.state),F.length>0&&(pe.parentRow=F[F.length-1]),g.treeNode=pe,F.length===0?M.treeBase.tree.push(pe):F[F.length-1].treeNode.children.push(pe)},setCurrentState:function(M){var g=A.EXPANDED;return M.forEach(function(F){F.treeNode.state===A.COLLAPSED&&(g=A.COLLAPSED)}),g},sortTree:function(M){M.columns.forEach(function(g){g.sort&&g.sort.ignoreSort&&delete g.sort.ignoreSort}),M.treeBase.tree=d.sortInternal(M,M.treeBase.tree)},sortInternal:function(M,g){var F=g.map(function(J){return J.row});F=E.sort(M,F,M.columns);var N=F.map(function(J){return J.treeNode});return N.forEach(function(J){J.state===A.EXPANDED&&J.children&&J.children.length>0&&(J.children=d.sortInternal(M,J.children))}),N},fixFilter:function(M){var g;M.treeBase.tree.forEach(function(F){F.children&&F.children.length>0&&(g=F.row.visible,d.fixFilterInternal(F.children,g))})},fixFilterInternal:function(M,g){return M.forEach(function(F){F.row.visible&&!g&&(d.setParentsVisible(F),g=!0),F.children&&F.children.length>0&&d.fixFilterInternal(F.children,g&&F.row.visible)&&(g=!0)}),g},setParentsVisible:function(M){for(;M.parentRow;)M.parentRow.visible=!0,M=M.parentRow.treeNode},buildAggregationObject:function(M){var g={col:M};return M.treeAggregation&&M.treeAggregation.type&&(g.type=M.treeAggregation.type),M.treeAggregation&&M.treeAggregation.label&&(g.label=M.treeAggregation.label),g},getAggregations:function(M){var g=[];return M.columns.forEach(function(F){typeof F.treeAggregationFn!="undefined"&&(g.push(d.buildAggregationObject(F)),M.options.showColumnFooter&&typeof F.colDef.aggregationType=="undefined"&&F.treeAggregation&&(F.treeFooterAggregation=d.buildAggregationObject(F),F.aggregationType=d.treeFooterAggregationType))}),g},aggregate:function(M,g,F){F.length===0&&g.treeNode&&g.treeNode.aggregations&&g.treeNode.aggregations.forEach(function(N){if(typeof N.col.treeFooterAggregation!="undefined"){var J=M.getCellValue(g,N.col),pe=Number(J);N.col.treeAggregationFn?N.col.treeAggregationFn(N.col.treeFooterAggregation,J,pe,g):N.col.treeFooterAggregation.value=void 0}}),F.forEach(function(N,J){N.treeNode.aggregations&&N.treeNode.aggregations.forEach(function(pe){var m=M.getCellValue(g,pe.col),U=Number(m);pe.col.treeAggregationFn(pe,m,U,g),J===0&&typeof pe.col.treeFooterAggregation!="undefined"&&(pe.col.treeAggregationFn?pe.col.treeAggregationFn(pe.col.treeFooterAggregation,m,U,g):pe.col.treeFooterAggregation.value=void 0)})})},nativeAggregations:function(){return{count:{label:T.get().aggregation.count,menuTitle:T.get().grouping.aggregate_count,aggregationFn:function(M,g,F){typeof M.value=="undefined"?M.value=1:M.value++}},sum:{label:T.get().aggregation.sum,menuTitle:T.get().grouping.aggregate_sum,aggregationFn:function(M,g,F){isNaN(F)||(typeof M.value=="undefined"?M.value=F:M.value+=F)}},min:{label:T.get().aggregation.min,menuTitle:T.get().grouping.aggregate_min,aggregationFn:function(M,g,F){(typeof M.value=="undefined"||typeof g!="undefined"&&g!==null&&(g<M.value||M.value===null))&&(M.value=g)}},max:{label:T.get().aggregation.max,menuTitle:T.get().grouping.aggregate_max,aggregationFn:function(M,g,F){(typeof M.value=="undefined"||typeof g!="undefined"&&g!==null&&(g>M.value||M.value===null))&&(M.value=g)}},avg:{label:T.get().aggregation.avg,menuTitle:T.get().grouping.aggregate_avg,aggregationFn:function(M,g,F){typeof M.count=="undefined"?M.count=1:M.count++,!isNaN(F)&&(typeof M.value=="undefined"||typeof M.sum=="undefined"?(M.value=F,M.sum=F):(M.sum+=F,M.value=M.sum/M.count))}}}},finaliseAggregation:function(M,g){g.col.treeAggregationUpdateEntity&&typeof M!="undefined"&&typeof M.entity["$$"+g.col.uid]!="undefined"&&angular.extend(g,M.entity["$$"+g.col.uid]),typeof g.col.treeAggregationFinalizerFn=="function"&&g.col.treeAggregationFinalizerFn(g),typeof g.col.customTreeAggregationFinalizerFn=="function"&&g.col.customTreeAggregationFinalizerFn(g),typeof g.rendered=="undefined"&&(g.rendered=g.label?g.label+g.value:g.value)},finaliseAggregations:function(M){M==null||typeof M.treeNode.aggregations=="undefined"||M.treeNode.aggregations.forEach(function(g){if(d.finaliseAggregation(M,g),g.col.treeAggregationUpdateEntity){var F={};angular.forEach(g,function(N,J){g.hasOwnProperty(J)&&J!=="col"&&(F[J]=N)}),M.entity["$$"+g.col.uid]=F}})},treeFooterAggregationType:function(M,g){return d.finaliseAggregation(void 0,g.treeFooterAggregation),typeof g.treeFooterAggregation.value=="undefined"||g.treeFooterAggregation.rendered===null?"":g.treeFooterAggregation.rendered}};return d}]),we.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(Q,A){return{replace:!0,restrict:"E",template:Q.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(O,I,D,T){var _=T.grid;O.treeButtonClass=function(E){if(_.options.showTreeExpandNoChildren&&E.treeLevel>-1||E.treeNode.children&&E.treeNode.children.length>0){if(E.treeNode.state==="expanded")return"ui-grid-icon-minus-squared";if(E.treeNode.state==="collapsed")return"ui-grid-icon-plus-squared"}},O.treeButtonClick=function(E,d){d.stopPropagation(),A.toggleRowTreeState(_,E,d)},O.treeButtonKeyDown=function(E,d){(d.keyCode===32||d.keyCode===13)&&O.treeButtonClick(E,d)}}}}]),we.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(Q,A){return{replace:!0,restrict:"E",template:Q.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(O){var I=O.col.grid;O.headerButtonClass=function(){if(I.treeBase.numberLevels>0&&I.treeBase.expandAll)return"ui-grid-icon-minus-squared";if(I.treeBase.numberLevels>0&&!I.treeBase.expandAll)return"ui-grid-icon-plus-squared"},O.headerButtonClick=function(D,T){I.treeBase.expandAll?A.collapseAllRows(I,T):A.expandAllRows(I,T)},O.headerButtonKeyDown=function(D){(D.keyCode===32||D.keyCode===13)&&O.headerButtonClick(I,D)}}}}]),we.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(Q){var A=angular.element(Q.children().children()[0]),O=A.attr("ng-class"),I="";return O?I=O.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":I="{'ui-grid-tree-header-row': row.treeLevel > -1}",A.attr("ng-class",I),{pre:function(D,T,_,E){},post:function(D,T,_,E){}}}}})})();(function(){"use strict";var we=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);we.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),we.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(Q,A,O,I,D,T,_,E,d){var M={initializeGrid:function(g,F){I.initializeGrid(g,F),g.treeView={},g.registerRowsProcessor(M.adjustSorting,60);var N={events:{treeView:{}},methods:{treeView:{}}};g.api.registerEventsFromObject(N.events),g.api.registerMethodsFromObject(N.methods)},defaultGridOptions:function(g){g.enableTreeView=g.enableTreeView!==!1},adjustSorting:function(g){var F=this;return F.columns.forEach(function(N){N.sort&&(N.sort.ignoreSort=!0)}),g}};return M}]),we.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(Q,A,O){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(I,D,T,_){_.grid.options.enableTreeView!==!1&&A.initializeGrid(_.grid,I)},post:function(I,D,T,_){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.validate",["ui.grid"]);we.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(Q,A,O,I,D){var T={validatorFactories:{},setExternalFactoryFunction:function(_){T.externalFactoryFunction=_},clearExternalFactory:function(){delete T.externalFactoryFunction},getValidatorFromExternalFactory:function(_,E){return T.externalFactoryFunction(_,E).validatorFactory(E)},getMessageFromExternalFactory:function(_,E){return T.externalFactoryFunction(_,E).messageFunction(E)},setValidator:function(_,E,d){T.validatorFactories[_]={validatorFactory:E,messageFunction:d}},getValidator:function(_,E){if(T.externalFactoryFunction){var d=T.getValidatorFromExternalFactory(_,E);if(d)return d}if(!T.validatorFactories[_])throw"Invalid validator name: "+_;return T.validatorFactories[_].validatorFactory(E)},getMessage:function(_,E){if(T.externalFactoryFunction){var d=T.getMessageFromExternalFactory(_,E);if(d)return d}return T.validatorFactories[_].messageFunction(E)},isInvalid:function(_,E){return _["$$invalid"+E.name]},setInvalid:function(_,E){_["$$invalid"+E.name]=!0},setValid:function(_,E){delete _["$$invalid"+E.name]},setError:function(_,E,d){_["$$errors"+E.name]||(_["$$errors"+E.name]={}),_["$$errors"+E.name][d]=!0},clearError:function(_,E,d){_["$$errors"+E.name]&&d in _["$$errors"+E.name]&&delete _["$$errors"+E.name][d]},getErrorMessages:function(_,E){var d=[];return!_["$$errors"+E.name]||Object.keys(_["$$errors"+E.name]).length===0||Object.keys(_["$$errors"+E.name]).sort().forEach(function(M){d.push(T.getMessage(M,E.validators[M]))}),d},getFormattedErrors:function(_,E){var d="",M=T.getErrorMessages(_,E);if(M.length)return M.forEach(function(g){d+=g+"<br/>"}),Q.trustAsHtml("<p><b>"+I.getSafeText("validate.error")+"</b></p>"+d)},getTitleFormattedErrors:function(_,E){var d=`
`,M="",g=T.getErrorMessages(_,E);if(g.length)return g.forEach(function(F){M+=F+d}),Q.trustAsHtml(I.getSafeText("validate.error")+d+M)},runValidators:function(_,E,d,M,g){if(d!==M){if(typeof E.name=="undefined"||!E.name)throw new Error("colDef.name is required to perform validation");T.setValid(_,E);var F=function(U,k,p){return function(w){w||(T.setInvalid(U,k),T.setError(U,k,p),g&&g.api.validate.raise.validationFailed(U,k,d,M))}},N=[];for(var J in E.validators){T.clearError(_,E,J);var pe=T.getValidator(J,E.validators[J]),m=A.when(pe(M,d,_,E)).then(F(_,E,J));N.push(m)}return A.all(N)}},createDefaultValidators:function(){T.setValidator("minLength",function(_){return function(E,d){return d==null||d===""?!0:d.length>=_}},function(_){return I.getSafeText("validate.minLength").replace("THRESHOLD",_)}),T.setValidator("maxLength",function(_){return function(E,d){return d==null||d===""?!0:d.length<=_}},function(_){return I.getSafeText("validate.maxLength").replace("THRESHOLD",_)}),T.setValidator("required",function(_){return function(E,d){return _?!(d==null||d===""):!0}},function(){return I.getSafeText("validate.required")})},initializeGrid:function(_,E){E.validate={isInvalid:T.isInvalid,getErrorMessages:T.getErrorMessages,getFormattedErrors:T.getFormattedErrors,getTitleFormattedErrors:T.getTitleFormattedErrors,runValidators:T.runValidators};var d={events:{validate:{validationFailed:function(M,g,F,N){}}},methods:{validate:{isInvalid:function(M,g){return E.validate.isInvalid(M,g)},getErrorMessages:function(M,g){return E.validate.getErrorMessages(M,g)},getFormattedErrors:function(M,g){return E.validate.getFormattedErrors(M,g)},getTitleFormattedErrors:function(M,g){return E.validate.getTitleFormattedErrors(M,g)}}}};E.api.registerEventsFromObject(d.events),E.api.registerMethodsFromObject(d.methods),E.edit&&E.api.edit.on.afterCellEdit(_,function(M,g,F,N){E.validate.runValidators(M,g,F,N,E)}),T.createDefaultValidators()}};return T}]),we.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(Q,A){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){A.initializeGrid(O,T.grid)},post:function(O,I,D,T){}}}}}])})();angular.module("ui.grid").run(["$templateCache",function(we){"use strict";we.put("ui-grid/ui-grid-filter",`<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{'ui-grid-filter-cancel-button-hidden' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== 'select'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || ''}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === ''" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== ''"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === 'select'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || ''}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === ''" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>`),we.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),we.put("ui-grid/ui-grid-grid-footer",`<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{'search.totalItems' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>`),we.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div role="columnheader" class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),we.put("ui-grid/ui-grid-menu-button",`<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="'grid-menu'" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel" tabindex="0" class="ui-grid-icon-container" ng-click="toggleMenu()" ng-keydown="toggleOnKeydown($event)" aria-expanded="{{shown}}" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>`),we.put("ui-grid/ui-grid-menu-header-item",'<li role="menuitem"><div class="ui-grid-menu-item" role="heading" aria-level="2" ng-show="itemShown()"><i aria-hidden="true">&nbsp; </i><span ng-bind="label()"></span></div></li>'),we.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),we.put("ui-grid/ui-grid-row",`<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" ui-grid-one-bind-id-grid="rowRenderIndex + '-' + col.uid + '-cell'" class="ui-grid-cell" ng-class="{ 'ui-grid-row-header-cell': col.isRowHeader }" role="{{col.isRowHeader ? 'rowheader' : 'gridcell'}}" ui-grid-cell></div>`),we.put("ui-grid/ui-grid",`<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {
      /* Styles for the grid */
    }

    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {
      height: {{ grid.options.rowHeight }}px;
    }

    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {
      border-bottom-width: {{ (((grid.getVisibleRowCount() * grid.options.rowHeight) < grid.getViewportHeight()) && '1') || '0' }}px;
    }

    {{ grid.verticalScrollbarStyles }}
    {{ grid.horizontalScrollbarStyles }}

    /*
    .ui-grid[dir=rtl] .ui-grid-viewport {
      padding-left: {{ grid.verticalScrollbarWidth }}px;
    }
    */

    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper" role="grid"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="'left'"></div><div ui-grid-render-container container-id="'body'" col-container-name="'body'" row-container-name="'body'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="'right'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>`),we.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),we.put("ui-grid/uiGridColumnMenu",`<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems" col="col"><!-- <div class="ui-grid-column-menu">
    <div class="inner" ng-show="menuShown">
      <ul>
        <div ng-show="grid.options.enableSorting">
          <li ng-click="sortColumn($event, asc)" ng-class="{ 'selected' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>
          <li ng-click="sortColumn($event, desc)" ng-class="{ 'selected' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>
          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>
        </div>
      </ul>
    </div>
  </div> --></div></div>`),we.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),we.put("ui-grid/uiGridHeaderCell",`<div role="columnheader" ng-class="{ 'sortable': sortable, 'ui-grid-header-cell-last-col': isLastCol }" ui-grid-one-bind-aria-labelledby-grid="col.uid + '-header-text ' + col.uid + '-sortdir-text'" aria-sort="{{col.sort.direction == asc ? 'ascending' : ( col.sort.direction == desc ? 'descending' : (!col.sort.direction ? 'none' : 'other'))}}"><div role="button" tabindex="0" ng-keydown="handleKeyDown($event)" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + '-header-text'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + '-sortdir-text'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ 'ui-grid-icon-up-dir': col.sort.direction == asc, 'ui-grid-icon-down-dir': col.sort.direction == desc, 'ui-grid-icon-blank': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + ' ' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + '-menu-button'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-keydown="headerCellArrowKeyDown($event)" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-expanded="{{col.menuShown}}" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter ng-hide="col.filterContainer === 'columnMenu'"></div></div>`),we.put("ui-grid/uiGridMenu",`<div class="ui-grid-menu" ng-keydown="checkKeyDown($event)" ng-show="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner" ng-if="shown"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="'menuitem-'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li><li ng-if="col.filterable && col.filterContainer === 'columnMenu'"><div ui-grid-filter></div></li></ul></div></div></div>`),we.put("ui-grid/uiGridMenuItem",`<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ 'ui-grid-menu-item-active': active(), 'ui-grid-sr-only': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp; </i>{{ label() }}</button>`),we.put("ui-grid/uiGridRenderContainer",`<div role="presentation" ui-grid-one-bind-id-grid="containerId + '-grid-container'" class="ui-grid-render-container" ng-style="{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if="colContainer.needsHScrollbarPlaceholder()" class="ui-grid-scrollbar-placeholder" ng-style="{height: colContainer.grid.scrollbarHeight + 'px'}"></div><ui-grid-footer ng-if="grid.options.showColumnFooter"></ui-grid-footer></div>`),we.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),we.put("ui-grid/cellEditor",`<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="'colt' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>`),we.put("ui-grid/dropdownEditor",`<div><form name="inputForm"><select ng-class="'colt' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>`),we.put("ui-grid/fileChooserEditor",`<div><form name="inputForm"><input ng-class="'colt' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>`),we.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),we.put("ui-grid/expandableRow",`<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + 'px', height: row.expandedRowHeight + 'px'}"></div>`),we.put("ui-grid/expandableRowHeader",`<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i class="clickable" ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ 'ui-grid-icon-plus-squared' : !row.isExpanded, 'ui-grid-icon-minus-squared' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity, $event)" aria-expanded="{{!!row.isExpanded}}"></i></div></div>`),we.put("ui-grid/expandableScrollFiller",`<div ng-if="expandableRow.shouldRenderFiller()" ng-class="{scrollFiller: true, scrollFillerClass:(colContainer.name === 'body')}" ng-style="{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }">&nbsp;</div>`),we.put("ui-grid/expandableTopRowHeader",`<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><span class="ui-grid-cell-empty" ng-if="!grid.options.showExpandAllButton"></span> <button type="button" class="ui-grid-icon-button clickable" ng-if="grid.options.showExpandAllButton" ng-class="{ 'ui-grid-icon-plus-squared' : !grid.expandable.expandedAll, 'ui-grid-icon-minus-squared' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()" aria-expanded="{{grid.expandable.expandedAll}}"></button></div></div>`),we.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),we.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),we.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),we.put("ui-grid/pagination",`<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? 'last-triangle' : 'first-triangle'"><div ng-class="grid.isRTL() ? 'last-bar-rtl' : 'first-bar'"></div></div></button> <button type="button" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? 'last-triangle prev-triangle' : 'first-triangle prev-triangle'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" step="1" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/ </abbr>{{ paginationApi.getTotalPages() }} </span><button type="button" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? 'first-triangle next-triangle' : 'last-triangle next-triangle'"></div></button> <button type="button" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? 'first-triangle' : 'last-triangle'"><div ng-class="grid.isRTL() ? 'first-bar-rtl' : 'last-bar'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="'items-per-page-label'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select> <span ui-grid-one-bind-id-grid="'items-per-page-label'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">- </abbr>{{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>`),we.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),we.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),we.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),we.put("ui-grid/selectionRowHeader",'<div class="ui-grid-cell-contents ui-grid-disable-selection clickable"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div>'),we.put("ui-grid/selectionRowHeaderButtons",`<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok clickable" ng-class="{'ui-grid-row-selected': row.isSelected}" tabindex="0" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" ng-attr-aria-label="{{('selection.aria.row' | t) + ' ' + (row.index + 1) + ', ' + col.displayName}}" aria-checked="{{row.isSelected}}" role="checkbox" ng-model="row.isSelected">&nbsp;</div>`),we.put("ui-grid/selectionSelectAllButtons",`<div role="checkbox" tabindex="0" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ui-grid-one-bind-aria-label="'selection.selectAll' | t" aria-checked="{{grid.selection.selectAll}}" ng-class="{'ui-grid-all-selected': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>`),we.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" tabindex="0" ng-class="headerButtonClass()" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>'),we.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),we.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),we.put("ui-grid/treeBaseRowHeaderButtons",`<div class="ui-grid-tree-base-row-header-buttons" ng-class="{'ui-grid-tree-base-header': row.treeLevel > -1 }" tabindex="0" ng-keydown="treeButtonKeyDown(row, $event)" ng-click="treeButtonClick(row, $event)"><i ng-class="treeButtonClass(row)" ng-style="{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}"></i> &nbsp;</div>`),we.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),we.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]);(function(){"use strict";var we=angular.module("ui.grid.resizeColumns",["ui.grid"]);we.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(Q,A,O){return{defaultGridOptions:function(I){I.enableColumnResizing=I.enableColumnResizing!==!1,I.enableColumnResize===!1&&(I.enableColumnResizing=!1)},colResizerColumnBuilder:function(I,D,T){var _=[];return I.enableColumnResizing=I.enableColumnResizing===void 0?T.enableColumnResizing:I.enableColumnResizing,I.enableColumnResize===!1&&(I.enableColumnResizing=!1),A.all(_)},registerPublicApi:function(I){var D={events:{colResizable:{columnSizeChanged:function(T,_){}}}};I.api.registerEventsFromObject(D.events)},fireColumnSizeChanged:function(I,D,T){O.$applyAsync(function(){I.api.colResizable?I.api.colResizable.raise.columnSizeChanged(D,T):Q.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(I,D,T){var _=I.getRenderContainer();if(D==="left"){var E=_.visibleColumnCache.indexOf(I);return E===0?_.visibleColumnCache[0]:_.visibleColumnCache[E-1*T]}else return I}}}]),we.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(Q,A){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){A.defaultGridOptions(T.grid.options),T.grid.registerColumnBuilder(A.colResizerColumnBuilder),A.registerPublicApi(T.grid)},post:function(O,I,D,T){}}}}}]),we.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(Q,A,O,I,D,T){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(_,E,d,M){var g=M.grid;if(g.options.enableColumnResizing){var F=A.get("ui-grid/columnResizer"),N=1;g.isRTL()&&(_.position="left",N=-1);var J=function(){for(var U=E[0].getElementsByClassName("ui-grid-column-resizer"),k=0;k<U.length;k++)angular.element(U[k]).remove();var p=D.findTargetCol(_.col,"left",N),w=_.col.getRenderContainer();if(p&&w.visibleColumnCache.indexOf(_.col)!==0&&p.colDef.enableColumnResizing!==!1){var v=angular.element(F).clone();v.attr("position","left"),E.prepend(v),O(v)(_)}if(_.col.colDef.enableColumnResizing!==!1){var h=angular.element(F).clone();h.attr("position","right"),E.append(h),O(h)(_)}};J();var pe=function(){_.$applyAsync(J)},m=g.registerDataChangeCallback(pe,[T.dataChange.COLUMN]);_.$on("$destroy",m)}}}}}}]),we.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(Q,A,O,I){var D=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(T,_,E,d){var M=0,g=0,F=0,N=1;d.grid.isRTL()&&(T.position="left",N=-1),T.position==="left"?_.addClass("left"):T.position==="right"&&_.addClass("right");function J(h){d.grid.refreshCanvas(!0).then(function(){d.grid.queueGridRefresh()})}function pe(h,e){var o=e;return h.minWidth&&o<h.minWidth?o=h.minWidth:h.maxWidth&&o>h.maxWidth&&(o=h.maxWidth),o}function m(h,e){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),g=(h.targetTouches?h.targetTouches[0]:h).clientX-F,g<0?g=0:g>d.grid.gridWidth&&(g=d.grid.gridWidth);var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var i=g-M,u=parseInt(o.drawnWidth+i*N,10);g=g+(pe(o,u)-u)*N,D.css({left:g+"px"}),d.fireEvent(O.events.ITEM_DRAGGING)}}function U(h){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),d.grid.element.removeClass("column-resizing"),D.remove(),g=(h.changedTouches?h.changedTouches[0]:h).clientX-F;var e=g-M;if(e===0){w(),p();return}var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=parseInt(o.drawnWidth+e*N,10);o.width=pe(o,i),o.hasCustomWidth=!0,J(e),I.fireColumnSizeChanged(d.grid,o.colDef,e),w(),p()}}var k=function(h,e){h.originalEvent&&(h=h.originalEvent),h.stopPropagation(),F=d.grid.element[0].getBoundingClientRect().left,M=(h.targetTouches?h.targetTouches[0]:h).clientX-F,d.grid.element.append(D),D.css({left:M}),h.type==="touchstart"?(Q.on("touchend",U),Q.on("touchmove",m),_.off("mousedown",k)):(Q.on("mouseup",U),Q.on("mousemove",m),_.off("touchstart",k))},p=function(){_.on("mousedown",k),_.on("touchstart",k)},w=function(){Q.off("mouseup",U),Q.off("touchend",U),Q.off("mousemove",m),Q.off("touchmove",m),_.off("mousedown",k),_.off("touchstart",k)};p();var v=function(h,e){h.stopPropagation();var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=0,u=A.closestElm(_,".ui-grid-render-container"),c=u.querySelectorAll("."+O.COL_CLASS_PREFIX+o.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(c,function(n){var a;angular.element(n).parent().hasClass("ui-grid-header-cell")&&(a=angular.element(n).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),A.fakeElement(n,{},function(l){var f=angular.element(l);f.attr("style","float: left");var b=A.elementWidth(f)+2;if(a){var C=A.elementWidth(a);b=b+C}b>i&&(i=b)})});var s=pe(o,i),t=s-o.drawnWidth;o.width=s,o.hasCustomWidth=!0,J(t),I.fireColumnSizeChanged(d.grid,o.colDef,t)}};_.on("dblclick",v),_.on("$destroy",function(){_.off("dblclick",v),w()})}}}])})();angular.module("ui.grid.resizeColumns").run(["$templateCache",function(we){"use strict";we.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>')}]);(function(){"use strict";var we=angular.module("ui.grid.selection",["ui.grid"]);we.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(Q){Q.decorator("GridRow",["$delegate",function(A){return A.prototype.setSelected=function(O){O!==this.isSelected&&(this.isSelected=O,this.grid.selection.selectedCount+=O?1:-1)},A.prototype.setFocused=function(O){O!==this.isFocused&&(this.grid.selection.focusedRow&&(this.grid.selection.focusedRow.isFocused=!1),this.grid.selection.focusedRow=O?this:null,this.isFocused=O)},A}])}]),we.service("uiGridSelectionService",function(){var Q={initializeGrid:function(A){A.selection={lastSelectedRow:null,focusedRow:null,selectAll:!1},A.selection.selectedCount=0,Q.defaultGridOptions(A.options);var O={events:{selection:{rowFocusChanged:function(I,D,T){},rowSelectionChanged:function(I,D,T){},rowSelectionChangedBatch:function(I,D,T){}}},methods:{selection:{toggleRowSelection:function(I,D){var T=A.getRow(I);T!=null&&T!==null&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!0)},selectRow:function(I,D){var T=A.getRow(I);T!=null&&T!==null&&!T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!0)},selectRowByVisibleIndex:function(I,D){var T=A.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&!T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!1)},selectRowByKey:function(I,D,T,_,E){var d=A.findRowByKey(I,D,T,E);d!=null&&d!==null&&typeof d!="undefined"&&!d.isSelected&&Q.toggleRowSelection(A,d,_,A.options.multiSelect,A.options.noUnselect,!1)},unSelectRow:function(I,D){var T=A.getRow(I);T!=null&&T!==null&&T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!0)},unSelectRowByVisibleIndex:function(I,D){var T=A.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&T.isSelected&&Q.toggleRowSelection(A,T,D,A.options.multiSelect,A.options.noUnselect,!1)},unSelectRowByKey:function(I,D,T,_,E){var d=A.findRowByKey(I,D,T,E);d!=null&&d!==null&&typeof d!="undefined"&&d.isSelected&&Q.toggleRowSelection(A,d,_,A.options.multiSelect,A.options.noUnselect,!1)},selectAllRows:function(I){if(A.options.multiSelect!==!1){var D=[];A.rows.forEach(function(T){!T.isSelected&&T.enableSelection!==!1&&A.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(A,T,D,I))}),A.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(A,D,I)}},selectAllVisibleRows:function(I){if(A.options.multiSelect!==!1){var D=[];A.rows.forEach(function(T){T.visible?!T.isSelected&&T.enableSelection!==!1&&A.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(A,T,D,I)):T.isSelected&&(T.setSelected(!1),Q.decideRaiseSelectionEvent(A,T,D,I))}),A.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(A,D,I)}},clearSelectedRows:function(I){Q.clearSelectedRows(A,I)},getSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getSelectedRows(A))},getUnSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getUnSelectedRows(A))},getSelectedGridRows:function(){return Q.getSelectedRows(A)},getUnSelectedGridRows:function(){return Q.getUnSelectedRows(A)},getSelectedCount:function(){return A.selection.selectedCount},setMultiSelect:function(I){A.options.multiSelect=I},setModifierKeysToMultiSelect:function(I){A.options.modifierKeysToMultiSelect=I},getSelectAllState:function(){return A.selection.selectAll}}}};A.api.registerEventsFromObject(O.events),A.api.registerMethodsFromObject(O.methods)},defaultGridOptions:function(A){A.enableRowSelection=A.enableRowSelection!==!1,A.multiSelect=A.multiSelect!==!1,A.noUnselect=A.noUnselect===!0,A.modifierKeysToMultiSelect=A.modifierKeysToMultiSelect===!0,A.enableRowHeaderSelection=A.enableRowHeaderSelection!==!1,typeof A.enableFullRowSelection=="undefined"&&(A.enableFullRowSelection=!A.enableRowHeaderSelection),A.enableFocusRowOnRowHeaderClick=A.enableFocusRowOnRowHeaderClick!==!1||!A.enableRowHeaderSelection,A.enableSelectRowOnFocus=A.enableSelectRowOnFocus!==!1,A.enableSelectAll=A.enableSelectAll!==!1,A.enableSelectionBatchEvent=A.enableSelectionBatchEvent!==!1,A.selectionRowHeaderWidth=angular.isDefined(A.selectionRowHeaderWidth)?A.selectionRowHeaderWidth:30,A.enableFooterTotalSelected=A.enableFooterTotalSelected!==!1,A.isRowSelectable=angular.isDefined(A.isRowSelectable)?A.isRowSelectable:angular.noop},toggleRowSelection:function(A,O,I,D,T,_){if(O.enableSelection!==!1){_===void 0&&(_=!0);var E=O.isSelected;D||(E?Q.getSelectedRows(A).length>1&&(E=!1,Q.clearSelectedRows(A,I)):Q.clearSelectedRows(A,I)),!(E&&T)&&(_||O.visible)&&(O.setSelected(!E),O.isSelected===!0&&(A.selection.lastSelectedRow=O),A.selection.selectAll=A.rows.length===Q.getSelectedRows(A).length,A.api.selection.raise.rowSelectionChanged(O,I))}},shiftSelect:function(A,O,I,D){if(D){var T=Q.getSelectedRows(A),_=T.length>0?A.renderContainers.body.visibleRowCache.indexOf(A.selection.lastSelectedRow):0,E=A.renderContainers.body.visibleRowCache.indexOf(O);if(_>E){var d=_;_=E,E=d}for(var M=[],g=_;g<=E;g++){var F=A.renderContainers.body.visibleRowCache[g];F&&!F.isSelected&&F.enableSelection!==!1&&(F.setSelected(!0),A.selection.lastSelectedRow=F,Q.decideRaiseSelectionEvent(A,F,M,I))}Q.decideRaiseSelectionBatchEvent(A,M,I)}},getSelectedRows:function(A){return A.rows.filter(function(O){return O.isSelected})},getUnSelectedRows:function(A){return A.rows.filter(function(O){return!O.isSelected})},mapAndFilterRowsByEntity:function(A){return typeof A.reduce=="function"?A.reduce(function(O,I){return(I.entity.hasOwnProperty("$$hashKey")||!angular.isObject(I.entity))&&O.push(I.entity),O},[]):A.filter(function(O){return O.entity.hasOwnProperty("$$hashKey")||!angular.isObject(O.entity)}).map(function(O){return O.entity})},clearSelectedRows:function(A,O){var I=[];Q.getSelectedRows(A).forEach(function(D){D.isSelected&&D.enableSelection!==!1&&(D.setSelected(!1),Q.decideRaiseSelectionEvent(A,D,I,O))}),A.selection.selectAll=!1,A.selection.selectedCount=0,Q.decideRaiseSelectionBatchEvent(A,I,O)},decideRaiseSelectionEvent:function(A,O,I,D){A.options.enableSelectionBatchEvent?I.push(O):A.api.selection.raise.rowSelectionChanged(O,D)},decideRaiseSelectionBatchEvent:function(A,O,I){O.length>0&&A.api.selection.raise.rowSelectionChangedBatch(O,I)}};return Q}),we.directive("uiGridSelection",["i18nService","uiGridSelectionConstants","uiGridSelectionService","uiGridConstants",function(Q,A,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(D,T,_,E){if(O.initializeGrid(E.grid),E.grid.options.enableRowHeaderSelection){var d={name:A.selectionRowHeaderColName,displayName:Q.getSafeText("selection.displayName"),width:E.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};E.grid.addRowHeaderColumn(d,0)}var M=!1,g=function(J){return J.forEach(function(pe){pe.enableSelection=E.grid.options.isRowSelectable(pe)}),J},F=function(){E.grid.options.isRowSelectable!==angular.noop&&M!==!0&&(E.grid.registerRowsProcessor(g,500),M=!0)};F();var N=E.grid.registerDataChangeCallback(F,[I.dataChange.OPTIONS]);D.$on("$destroy",N)},post:function(D,T,_,E){}}}}}]),we.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(Q,A,O){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(I,D,T,_){var E=_.grid;I.selectButtonClick=M,I.selectButtonKeyDown=d,O.detectBrowser()==="ie"&&D.on("mousedown",g);function d(F,N){(N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),M(F,N))}function M(F,N){if(N.stopPropagation(),N.shiftKey)A.shiftSelect(E,F,N,E.options.multiSelect);else if(N.ctrlKey||N.metaKey)A.toggleRowSelection(E,F,N,E.options.multiSelect,E.options.noUnselect,!1);else if(F.groupHeader){A.toggleRowSelection(E,F,N,E.options.multiSelect,E.options.noUnselect,!1);for(var J=0;J<F.treeNode.children.length;J++)A.toggleRowSelection(E,F.treeNode.children[J].row,N,E.options.multiSelect,E.options.noUnselect,!1)}else A.toggleRowSelection(E,F,N,E.options.multiSelect&&!E.options.modifierKeysToMultiSelect,E.options.noUnselect,!1);E.options.enableFocusRowOnRowHeaderClick&&F.setFocused(!F.isFocused)&&E.api.selection.raise.rowFocusChanged(F,N)}function g(F){(F.ctrlKey||F.shiftKey)&&(F.target.onselectstart=function(){return!1},window.setTimeout(function(){F.target.onselectstart=null},0))}I.$on("$destroy",function(){D.off()})}}}]),we.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(Q,A){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(O){var I=O.col.grid;O.headerButtonKeyDown=function(D){(D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),O.headerButtonClick(D))},O.headerButtonClick=function(D){I.selection.selectAll?(A.clearSelectedRows(I,D),I.options.noUnselect&&I.api.selection.selectRowByVisibleIndex(0,D),I.selection.selectAll=!1):I.options.multiSelect&&(I.api.selection.selectAllVisibleRows(D),I.selection.selectAll=!0)}}}}]),we.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(Q){var A=angular.element(Q[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),O="'ui-grid-row-selected': row.isSelected, 'ui-grid-row-focused': row.isFocused}",I=A.attr("ng-class");return I?O=I.slice(0,-1)+","+O:O="{"+O,A.attr("ng-class",O),{pre:function(D,T,_,E){},post:function(D,T,_,E){}}}}}),we.directive("uiGridCell",["uiGridConstants","uiGridSelectionService",function(Q,A){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(O,I,D,T){var _=0,E={},d=300,M=100;T.grid.api.cellNav&&T.grid.api.cellNav.on.viewPortKeyDown(O,function(U,k){k===null||k.row!==O.row||k.col!==O.col||U.keyCode===Q.keymap.SPACE&&O.col.colDef.name==="selectionRowHeaderCol"&&(U.preventDefault(),A.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.$apply())});var g=function(U){U.target.className==="ui-grid-icon-minus-squared"||U.target.className==="ui-grid-icon-plus-squared"||(I.off("touchend",N),U.shiftKey?A.shiftSelect(O.grid,O.row,U,O.grid.options.multiSelect):U.ctrlKey||U.metaKey?A.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect,O.grid.options.noUnselect,!1):O.grid.options.enableSelectRowOnFocus&&A.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.row.setFocused(!O.row.isFocused),O.grid.api.selection.raise.rowFocusChanged(O.row,U),O.$apply(),window.setTimeout(function(){I.on("touchend",N)},d))},F=function(U){_=new Date().getTime(),E=U.changedTouches[0],I.off("click",g)},N=function(U){var k=new Date().getTime(),p=U.changedTouches[0],w=k-_,v=Math.abs(E.clientX-p.clientX),h=Math.abs(E.clientY-p.clientY);v<M&&h<M&&w<d&&g(U),window.setTimeout(function(){I.on("click",g)},d)};function J(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&O.col.colDef.name!=="selectionRowHeaderCol"&&(I.addClass("ui-grid-disable-selection"),I.on("touchstart",F),I.on("touchend",N),I.on("click",g),O.registered=!0)}function pe(){O.registered&&(I.removeClass("ui-grid-disable-selection"),I.off("touchstart",F),I.off("touchend",N),I.off("click",g),O.registered=!1)}J();var m=O.grid.registerDataChangeCallback(function(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&!O.registered?J():(!O.grid.options.enableRowSelection||!O.grid.options.enableFullRowSelection)&&O.registered&&pe()},[Q.dataChange.OPTIONS]);I.on("$destroy",m)}}}]),we.directive("uiGridGridFooter",["$compile","gridUtil",function(Q,A){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(O,I,D,T){T.grid.options.showGridFooter&&A.getTemplate("ui-grid/gridFooterSelectedItems").then(function(_){var E=angular.element(_),d=Q(E)(O);angular.element(I[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(d)})},post:function(O,I,D,T){}}}}}])})();angular.module("ui.grid.selection").run(["$templateCache",function(we){"use strict";we.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),we.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),we.put("ui-grid/selectionRowHeader",'<div class="ui-grid-cell-contents ui-grid-disable-selection clickable"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div>'),we.put("ui-grid/selectionRowHeaderButtons",`<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok clickable" ng-class="{'ui-grid-row-selected': row.isSelected}" tabindex="0" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" ng-attr-aria-label="{{('selection.aria.row' | t) + ' ' + (row.index + 1) + ', ' + col.displayName}}" aria-checked="{{row.isSelected}}" role="checkbox" ng-model="row.isSelected">&nbsp;</div>`),we.put("ui-grid/selectionSelectAllButtons",`<div role="checkbox" tabindex="0" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ui-grid-one-bind-aria-label="'selection.selectAll' | t" aria-checked="{{grid.selection.selectAll}}" ng-class="{'ui-grid-all-selected': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>`)}]);window.XMLHttpRequest&&!(window.FileAPI&&FileAPI.shouldLoad)&&(window.XMLHttpRequest.prototype.setRequestHeader=(function(we){return function(Q,A){if(Q==="__setXHR_"){var O=A(this);O instanceof Function&&O(this)}else we.apply(this,arguments)}})(window.XMLHttpRequest.prototype.setRequestHeader));var wn=angular.module("ngFileUpload",[]);wn.version="12.2.13";wn.service("UploadBase",["$http","$q","$timeout",function(we,Q,A){var O=this;O.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var I=this.isResumeSupported();function D(_){_.method=_.method||"POST",_.headers=_.headers||{};var E=_._deferred=_._deferred||Q.defer(),d=E.promise;function M(N){E.notify&&E.notify(N),d.progressFunc&&A(function(){d.progressFunc(N)})}function g(N){return _._start!=null&&I?{loaded:N.loaded+_._start,total:_._file&&_._file.size||N.total,type:N.type,config:_,lengthComputable:!0,target:N.target}:N}_.disableProgress||(_.headers.__setXHR_=function(){return function(N){!N||!N.upload||!N.upload.addEventListener||(_.__XHR=N,_.xhrFn&&_.xhrFn(N),N.upload.addEventListener("progress",function(J){J.config=_,M(g(J))},!1),N.upload.addEventListener("load",function(J){J.lengthComputable&&(J.config=_,M(g(J)))},!1))}});function F(){we(_).then(function(N){if(I&&_._chunkSize&&!_._finished&&_._file){var J=_._file&&_._file.size||0;M({loaded:Math.min(_._end,J),total:J,config:_,type:"progress"}),O.upload(_,!0)}else _._finished&&delete _._finished,E.resolve(N)},function(N){E.reject(N)},function(N){E.notify(N)})}return I?_._chunkSize&&_._end&&!_._finished?(_._start=_._end,_._end+=_._chunkSize,F()):_.resumeSizeUrl?we.get(_.resumeSizeUrl).then(function(N){_.resumeSizeResponseReader?_._start=_.resumeSizeResponseReader(N.data):_._start=parseInt((N.data.size==null?N.data:N.data.size).toString()),_._chunkSize&&(_._end=_._start+_._chunkSize),F()},function(N){throw N}):_.resumeSize?_.resumeSize().then(function(N){_._start=N,_._chunkSize&&(_._end=_._start+_._chunkSize),F()},function(N){throw N}):(_._chunkSize&&(_._start=0,_._end=_._start+_._chunkSize),F()):F(),d.success=function(N){return d.then(function(J){N(J.data,J.status,J.headers,_)}),d},d.error=function(N){return d.then(null,function(J){N(J.data,J.status,J.headers,_)}),d},d.progress=function(N){return d.progressFunc=N,d.then(null,null,function(J){N(J)}),d},d.abort=d.pause=function(){return _.__XHR&&A(function(){_.__XHR.abort()}),d},d.xhr=function(N){return _.xhrFn=(function(J){return function(){J&&J.apply(d,arguments),N.apply(d,arguments)}})(_.xhrFn),d},O.promisesCount++,d.finally&&d.finally instanceof Function&&d.finally(function(){O.promisesCount--}),d}this.isUploadInProgress=function(){return O.promisesCount>0},this.rename=function(_,E){return _.ngfName=E,_},this.jsonBlob=function(_){_!=null&&!angular.isString(_)&&(_=JSON.stringify(_));var E=new window.Blob([_],{type:"application/json"});return E._ngfBlob=!0,E},this.json=function(_){return angular.toJson(_)};function T(_){var E={};for(var d in _)_.hasOwnProperty(d)&&(E[d]=_[d]);return E}this.isFile=function(_){return _!=null&&(_ instanceof window.Blob||_.flashId&&_.name&&_.size)},this.upload=function(_,E){function d(F,N){if(F._ngfBlob)return F;if(_._file=_._file||F,_._start!=null&&I){_._end&&_._end>=F.size&&(_._finished=!0,_._end=F.size);var J=F.slice(_._start,_._end||F.size);return J.name=F.name,J.ngfName=F.ngfName,_._chunkSize&&(N.append("_chunkSize",_._chunkSize),N.append("_currentChunkSize",_._end-_._start),N.append("_chunkNumber",Math.floor(_._start/_._chunkSize)),N.append("_totalSize",_._file.size)),J}return F}function M(F,N,J){if(N!==void 0)if(angular.isDate(N)&&(N=N.toISOString()),angular.isString(N))F.append(J,N);else if(O.isFile(N)){var pe=d(N,F),m=J.split(",");m[1]&&(pe.ngfName=m[1].replace(/^\s+|\s+$/g,""),J=m[0]),_._fileKey=_._fileKey||J,F.append(J,pe,pe.ngfName||pe.name)}else if(angular.isObject(N)){if(N.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+J;N.$$ngfCircularDetection=!0;try{for(var U in N)if(N.hasOwnProperty(U)&&U!=="$$ngfCircularDetection"){var k=_.objectKey==null?"[i]":_.objectKey;N.length&&parseInt(U)>-1&&(k=_.arrayKey==null?k:_.arrayKey),M(F,N[U],J+k.replace(/[ik]/g,U))}}finally{delete N.$$ngfCircularDetection}}else F.append(J,N)}function g(){_._chunkSize=O.translateScalars(_.resumeChunkSize),_._chunkSize=_._chunkSize?parseInt(_._chunkSize.toString()):null,_.headers=_.headers||{},_.headers["Content-Type"]=void 0,_.transformRequest=_.transformRequest?angular.isArray(_.transformRequest)?_.transformRequest:[_.transformRequest]:[],_.transformRequest.push(function(F){var N=new window.FormData,J;F=F||_.fields||{},_.file&&(F.file=_.file);for(J in F)if(F.hasOwnProperty(J)){var pe=F[J];_.formDataAppender?_.formDataAppender(N,J,pe):M(N,pe,J)}return N})}return E||(_=T(_)),_._isDigested||(_._isDigested=!0,g()),D(_)},this.http=function(_){return _=T(_),_.transformRequest=_.transformRequest||function(E){return window.ArrayBuffer&&E instanceof window.ArrayBuffer||E instanceof window.Blob?E:we.defaults.transformRequest[0].apply(this,arguments)},_._chunkSize=O.translateScalars(_.resumeChunkSize),_._chunkSize=_._chunkSize?parseInt(_._chunkSize.toString()):null,D(_)},this.translateScalars=function(_){if(angular.isString(_)){if(_.search(/kb/i)===_.length-2)return parseFloat(_.substring(0,_.length-2)*1024);if(_.search(/mb/i)===_.length-2)return parseFloat(_.substring(0,_.length-2)*1048576);if(_.search(/gb/i)===_.length-2)return parseFloat(_.substring(0,_.length-2)*1073741824);if(_.search(/b/i)===_.length-1)return parseFloat(_.substring(0,_.length-1));if(_.search(/s/i)===_.length-1)return parseFloat(_.substring(0,_.length-1));if(_.search(/m/i)===_.length-1)return parseFloat(_.substring(0,_.length-1)*60);if(_.search(/h/i)===_.length-1)return parseFloat(_.substring(0,_.length-1)*3600)}return _},this.urlToBlob=function(_){var E=Q.defer();return we({url:_,method:"get",responseType:"arraybuffer"}).then(function(d){var M=new Uint8Array(d.data),g=d.headers("content-type")||"image/WebP",F=new window.Blob([M],{type:g}),N=_.match(/.*\/(.+?)(\?.*)?$/);N.length>1&&(F.name=N[1]),E.resolve(F)},function(d){E.reject(d)}),E.promise},this.setDefaults=function(_){this.defaults=_||{}},this.defaults={},this.version=wn.version}]);wn.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(we,Q,A,O,I){var D=I;D.getAttrWithDefaults=function(d,M){if(d[M]!=null)return d[M];var g=D.defaults[M];return g==null||angular.isString(g)?g:JSON.stringify(g)},D.attrGetter=function(d,M,g,F){var N=this.getAttrWithDefaults(M,d);if(g)try{return F?we(N)(g,F):we(N)(g)}catch(J){if(d.search(/min|max|pattern/i))return N;throw J}else return N},D.shouldUpdateOn=function(d,M,g){var F=D.attrGetter("ngfModelOptions",M,g);return F&&F.updateOn?F.updateOn.split(" ").indexOf(d)>-1:!0},D.emptyPromise=function(){var d=O.defer(),M=arguments;return Q(function(){d.resolve.apply(d,M)}),d.promise},D.rejectPromise=function(){var d=O.defer(),M=arguments;return Q(function(){d.reject.apply(d,M)}),d.promise},D.happyPromise=function(d,M){var g=O.defer();return d.then(function(F){g.resolve(F)},function(F){Q(function(){throw F}),g.resolve(M)}),g.promise};function T(d,M,g){var F=[D.emptyPromise()];return angular.forEach(d,function(N,J){N.type.indexOf("image/jpeg")===0&&D.attrGetter("ngfFixOrientation",M,g,{$file:N})&&F.push(D.happyPromise(D.applyExifRotation(N),N).then(function(pe){d.splice(J,1,pe)}))}),O.all(F)}function _(d,M,g,F){var N=D.attrGetter("ngfResize",M,g);if(!N||!D.isResizeSupported()||!d.length)return D.emptyPromise();if(N instanceof Function){var J=O.defer();return N(d).then(function(pe){E(pe,d,M,g,F).then(function(m){J.resolve(m)},function(m){J.reject(m)})},function(pe){J.reject(pe)})}else return E(N,d,M,g,F)}function E(d,M,g,F,N){var J=[D.emptyPromise()];function pe(U,k){if(U.type.indexOf("image")===0){if(d.pattern&&!D.validatePattern(U,d.pattern))return;d.resizeIf=function(w,v){return D.attrGetter("ngfResizeIf",g,F,{$width:w,$height:v,$file:U})};var p=D.resize(U,d);J.push(p),p.then(function(w){M.splice(k,1,w)},function(w){U.$error="resize",(U.$errorMessages=U.$errorMessages||{}).resize=!0,U.$errorParam=(w?(w.message?w.message:w)+": ":"")+(U&&U.name),N.$ngfValidations.push({name:"resize",valid:!1}),D.applyModelValidation(N,M)})}}for(var m=0;m<M.length;m++)pe(M[m],m);return O.all(J)}return D.updateModel=function(d,M,g,F,N,J,pe){function m(n,a,l,f,b){M.$$ngfPrevValidFiles=n,M.$$ngfPrevInvalidFiles=a;var C=n&&n.length?n[0]:null,$=a&&a.length?a[0]:null;d&&(D.applyModelValidation(d,n),d.$setViewValue(b?C:n)),F&&we(F)(g,{$files:n,$file:C,$newFiles:l,$duplicateFiles:f,$invalidFiles:a,$invalidFile:$,$event:J});var W=D.attrGetter("ngfModelInvalid",M);W&&Q(function(){we(W).assign(g,b?$:a)}),Q(function(){})}var U,k=[],p,w,v=[],h=[];function e(){function n(f,b){return f.name===b.name&&(f.$ngfOrigSize||f.size)===(b.$ngfOrigSize||b.size)&&f.type===b.type}function a(f){var b;for(b=0;b<p.length;b++)if(n(f,p[b]))return!0;for(b=0;b<w.length;b++)if(n(f,w[b]))return!0;return!1}if(N){U=[],k=[];for(var l=0;l<N.length;l++)a(N[l])?k.push(N[l]):U.push(N[l])}}function o(n){return angular.isArray(n)?n:[n]}function i(){function n(){Q(function(){m(u?p.concat(h):h,u?w.concat(v):v,N,k,c)},t&&t.debounce?t.debounce.change||t.debounce:0)}var a=s?U:h;_(a,M,g,d).then(function(){s?D.validate(U,u?p.length:0,d,M,g).then(function(l){h=l.validsFiles,v=l.invalidsFiles,n()}):n()},function(){for(var l=0;l<a.length;l++){var f=a[l];if(f.$error==="resize"){var b=h.indexOf(f);b>-1&&(h.splice(b,1),v.push(f)),n()}}})}p=M.$$ngfPrevValidFiles||[],w=M.$$ngfPrevInvalidFiles||[],d&&d.$modelValue&&(p=o(d.$modelValue));var u=D.attrGetter("ngfKeep",M,g);U=(N||[]).slice(0),(u==="distinct"||D.attrGetter("ngfKeepDistinct",M,g)===!0)&&e(M,g);var c=!u&&!D.attrGetter("ngfMultiple",M,g)&&!D.attrGetter("multiple",M);if(!(u&&!U.length)){D.attrGetter("ngfBeforeModelChange",M,g,{$files:N,$file:N&&N.length?N[0]:null,$newFiles:U,$duplicateFiles:k,$event:J});var s=D.attrGetter("ngfValidateAfterResize",M,g),t=D.attrGetter("ngfModelOptions",M,g);D.validate(U,u?p.length:0,d,M,g).then(function(n){pe?m(U,[],N,k,c):((!t||!t.allowInvalid)&&!s?(h=n.validFiles,v=n.invalidFiles):h=U,D.attrGetter("ngfFixOrientation",M,g)&&D.isExifSupported()?T(h,M,g).then(function(){i()}):i())})}},D}]);wn.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(we,Q,A,O){var I=[];function D(_){var E=_.match(/Android[^\d]*(\d+)\.(\d+)/);if(E&&E.length>2){var d=O.defaults.androidFixMinorVersion||4;return parseInt(E[1])<4||parseInt(E[1])===d&&parseInt(E[2])<d}return _.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(_)}function T(_,E,d,M,g,F,N,J){var pe=function(t,n){return J.attrGetter(t,d,n)};function m(){return E[0].tagName.toLowerCase()==="input"&&d.type&&d.type.toLowerCase()==="file"}function U(){return pe("ngfChange")||pe("ngfSelect")}function k(t){if(J.shouldUpdateOn("change",d,_)){var n=t.__files_||t.target&&t.target.files,a=[];if(!n)return;for(var l=0;l<n.length;l++)a.push(n[l]);J.updateModel(M,d,_,U(),a.length?a:null,t)}}J.registerModelChangeValidator(M,d,_);var p=[];pe("ngfMultiple")&&p.push(_.$watch(pe("ngfMultiple"),function(){u.attr("multiple",pe("ngfMultiple",_))})),pe("ngfCapture")&&p.push(_.$watch(pe("ngfCapture"),function(){u.attr("capture",pe("ngfCapture",_))})),pe("ngfAccept")&&p.push(_.$watch(pe("ngfAccept"),function(){u.attr("accept",pe("ngfAccept",_))})),p.push(d.$observe("accept",function(){u.attr("accept",pe("accept"))}));function w(t,n){function a(b){t.attr("id","ngf-"+b),n.attr("id","ngf-label-"+b)}for(var l=0;l<E[0].attributes.length;l++){var f=E[0].attributes[l];f.name!=="type"&&f.name!=="class"&&f.name!=="style"&&(f.name==="id"?(a(f.value),p.push(d.$observe("id",a))):t.attr(f.name,!f.value&&(f.name==="required"||f.name==="multiple")?f.name:f.value))}}function v(){if(m())return E;var t=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),w(t,n),I.push({el:E,ref:n}),document.body.appendChild(n.append(t)[0]),t}function h(t){if(E.attr("disabled"))return!1;if(!pe("ngfSelectDisabled",_)){var n=i(t);if(n!=null)return n;c(t);try{!m()&&!document.body.contains(u[0])&&(I.push({el:E,ref:u.parent()}),document.body.appendChild(u.parent()[0]),u.bind("change",k))}catch{}return D(navigator.userAgent)?setTimeout(function(){u[0].click()},0):u[0].click(),!1}}var e=0,o=0;function i(t){var n=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(n){if(t.type==="touchstart")return o=n[0].clientX,e=n[0].clientY,!0;if(t.type==="touchend"){var a=n[0].clientX,l=n[0].clientY;if(Math.abs(a-o)>20||Math.abs(l-e)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}var u=E;function c(t){J.shouldUpdateOn("click",d,_)&&u.val()&&(u.val(null),J.updateModel(M,d,_,U(),null,t,!0))}m()||(u=v()),u.bind("change",k),m()?E.bind("click",c):E.bind("click touchstart touchend",h);function s(t){if(u&&!u.attr("__ngf_ie10_Fix_")){if(!u[0].parentNode){u=null;return}t.preventDefault(),t.stopPropagation(),u.unbind("click");var n=u.clone();return u.replaceWith(n),u=n,u.attr("__ngf_ie10_Fix_","true"),u.bind("change",k),u.bind("click",s),u[0].click(),!1}else u.removeAttr("__ngf_ie10_Fix_")}navigator.appVersion.indexOf("MSIE 10")!==-1&&u.bind("click",s),M&&M.$formatters.push(function(t){return(t==null||t.length===0)&&u.val()&&u.val(null),t}),_.$on("$destroy",function(){m()||u.parent().remove(),angular.forEach(p,function(t){t()})}),F(function(){for(var t=0;t<I.length;t++){var n=I[t];document.body.contains(n.el[0])||(I.splice(t,1),n.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(E,u,k)}return{restrict:"AEC",require:"?ngModel",link:function(_,E,d,M){T(_,E,d,M,we,Q,A,O)}}}]);(function(){wn.service("UploadDataUrl",["UploadBase","$timeout","$q",function(A,O,I){var D=A;return D.base64DataUrl=function(T){if(angular.isArray(T)){var _=I.defer(),E=0;return angular.forEach(T,function(d){D.dataUrl(d,!0).finally(function(){if(E++,E===T.length){var M=[];angular.forEach(T,function(g){M.push(g.$ngfDataUrl)}),_.resolve(M,T)}})}),_.promise}else return D.dataUrl(T,!0)},D.dataUrl=function(T,_){if(!T)return D.emptyPromise(T,T);if(_&&T.$ngfDataUrl!=null||!_&&T.$ngfBlobUrl!=null)return D.emptyPromise(_?T.$ngfDataUrl:T.$ngfBlobUrl,T);var E=_?T.$$ngfDataUrlPromise:T.$$ngfBlobUrlPromise;if(E)return E;var d=I.defer();return O(function(){if(window.FileReader&&T&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||T.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||T.size<4e6)){var M=window.URL||window.webkitURL;if(M&&M.createObjectURL&&!_){var g;try{g=M.createObjectURL(T)}catch{O(function(){T.$ngfBlobUrl="",d.reject()});return}O(function(){if(T.$ngfBlobUrl=g,g){d.resolve(g,T),D.blobUrls=D.blobUrls||[],D.blobUrlsTotalSize=D.blobUrlsTotalSize||0,D.blobUrls.push({url:g,size:T.size}),D.blobUrlsTotalSize+=T.size||0;for(var N=D.defaults.blobUrlsMaxMemory||268435456,J=D.defaults.blobUrlsMaxQueueSize||200;(D.blobUrlsTotalSize>N||D.blobUrls.length>J)&&D.blobUrls.length>1;){var pe=D.blobUrls.splice(0,1)[0];M.revokeObjectURL(pe.url),D.blobUrlsTotalSize-=pe.size}}})}else{var F=new FileReader;F.onload=function(N){O(function(){T.$ngfDataUrl=N.target.result,d.resolve(N.target.result,T),O(function(){delete T.$ngfDataUrl},1e3)})},F.onerror=function(){O(function(){T.$ngfDataUrl="",d.reject()})},F.readAsDataURL(T)}}else O(function(){T[_?"$ngfDataUrl":"$ngfBlobUrl"]="",d.reject()})}),_?E=T.$$ngfDataUrlPromise=d.promise:E=T.$$ngfBlobUrlPromise=d.promise,E.finally(function(){delete T[_?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),E},D}]);function we(A){return A.tagName.toLowerCase()==="img"?"image":A.tagName.toLowerCase()==="audio"?"audio":A.tagName.toLowerCase()==="video"?"video":/./}function Q(A,O,I,D,T,_,E,d){function M(g){var F=A.attrGetter("ngfNoObjectUrl",T,I);A.dataUrl(g,F).finally(function(){O(function(){var N=(F?g.$ngfDataUrl:g.$ngfBlobUrl)||g.$ngfDataUrl;d?D.css("background-image","url('"+(N||"")+"')"):D.attr("src",N),N?D.removeClass("ng-hide"):D.addClass("ng-hide")})})}O(function(){var g=I.$watch(T[_],function(F){var N=E;if(_==="ngfThumbnail"&&(N||(N={width:D[0].naturalWidth||D[0].clientWidth,height:D[0].naturalHeight||D[0].clientHeight}),N.width===0&&window.getComputedStyle)){var J=getComputedStyle(D[0]);J.width&&J.width.indexOf("px")>-1&&J.height&&J.height.indexOf("px")>-1&&(N={width:parseInt(J.width.slice(0,-2)),height:parseInt(J.height.slice(0,-2))})}if(angular.isString(F))return D.removeClass("ng-hide"),d?D.css("background-image","url('"+F+"')"):D.attr("src",F);F&&F.type&&F.type.search(we(D[0]))===0&&(!d||F.type.indexOf("image")===0)?N&&A.isResizeSupported()?(N.resizeIf=function(pe,m){return A.attrGetter("ngfResizeIf",T,I,{$width:pe,$height:m,$file:F})},A.resize(F,N).then(function(pe){M(pe)},function(pe){throw pe})):M(F):D.addClass("ng-hide")});I.$on("$destroy",function(){g()})})}wn.directive("ngfSrc",["Upload","$timeout",function(A,O){return{restrict:"AE",link:function(I,D,T){Q(A,O,I,D,T,"ngfSrc",A.attrGetter("ngfResize",T,I),!1)}}}]),wn.directive("ngfBackground",["Upload","$timeout",function(A,O){return{restrict:"AE",link:function(I,D,T){Q(A,O,I,D,T,"ngfBackground",A.attrGetter("ngfResize",T,I),!0)}}}]),wn.directive("ngfThumbnail",["Upload","$timeout",function(A,O){return{restrict:"AE",link:function(I,D,T){var _=A.attrGetter("ngfSize",T,I);Q(A,O,I,D,T,"ngfThumbnail",_,A.attrGetter("ngfAsBackground",T,I))}}}]),wn.config(["$compileProvider",function(A){A.imgSrcSanitizationWhitelist&&A.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),A.aHrefSanitizationWhitelist&&A.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),wn.filter("ngfDataUrl",["UploadDataUrl","$sce",function(A,O){return function(I,D,T){if(angular.isString(I))return O.trustAsResourceUrl(I);var _=I&&((D?I.$ngfDataUrl:I.$ngfBlobUrl)||I.$ngfDataUrl);return I&&!_?(!I.$ngfDataUrlFilterInProgress&&angular.isObject(I)&&(I.$ngfDataUrlFilterInProgress=!0,A.dataUrl(I,D)),""):(I&&delete I.$ngfDataUrlFilterInProgress,(I&&_?T?O.trustAsResourceUrl(_):_:I)||"")}}])})();wn.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(we,Q,A){var O=we;function I(T){var _="",E=[];if(T.length>2&&T[0]==="/"&&T[T.length-1]==="/")_=T.substring(1,T.length-1);else{var d=T.split(",");if(d.length>1)for(var M=0;M<d.length;M++){var g=I(d[M]);g.regexp?(_+="("+g.regexp+")",M<d.length-1&&(_+="|")):E=E.concat(g.excludes)}else T.indexOf("!")===0?E.push("^((?!"+I(T.substring(1)).regexp+").)*$"):(T.indexOf(".")===0&&(T="*"+T),_="^"+T.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",_=_.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:_,excludes:E}}O.validatePattern=function(T,_){if(!_)return!0;var E=I(_),d=!0;if(E.regexp&&E.regexp.length){var M=new RegExp(E.regexp,"i");d=T.type!=null&&M.test(T.type)||T.name!=null&&M.test(T.name)}for(var g=E.excludes.length;g--;){var F=new RegExp(E.excludes[g],"i");d=d&&(T.type==null||F.test(T.type))&&(T.name==null||F.test(T.name))}return d},O.ratioToFloat=function(T){var _=T.toString(),E=_.search(/[x:]/i);return E>-1?_=parseFloat(_.substring(0,E))/parseFloat(_.substring(E+1)):_=parseFloat(_),_},O.registerModelChangeValidator=function(T,_,E){T&&T.$formatters.push(function(d){if(T.$dirty){var M=d;d&&!angular.isArray(d)&&(M=[d]),O.validate(M,0,T,_,E).then(function(){O.applyModelValidation(T,M)})}return d})};function D(T,_){_!=null&&!T.$dirty&&(T.$setDirty?T.$setDirty():T.$dirty=!0)}return O.applyModelValidation=function(T,_){D(T,_),angular.forEach(T.$ngfValidations,function(E){T.$setValidity(E.name,E.valid)})},O.getValidationAttr=function(T,_,E,d,M){var g="ngf"+E[0].toUpperCase()+E.substr(1),F=O.attrGetter(g,T,_,{$file:M});if(F==null&&(F=O.attrGetter("ngfValidate",T,_,{$file:M}),F)){var N=(d||E).split(".");F=F[N[0]],N.length>1&&(F=F&&F[N[1]])}return F},O.validate=function(T,_,E,d,M){E=E||{},E.$ngfValidations=E.$ngfValidations||[],angular.forEach(E.$ngfValidations,function(w){w.valid=!0});var g=function(w,v){return O.attrGetter(w,d,M,v)},F=(O.attrGetter("ngfIgnoreInvalid",d,M)||"").split(" "),N=O.attrGetter("ngfRunAllValidations",d,M);if(T==null||T.length===0)return O.emptyPromise({validFiles:T,invalidFiles:[]});T=T.length===void 0?[T]:T.slice(0);var J=[];function pe(w,v,h){if(T){for(var e=T.length,o=null;e--;){var i=T[e];if(i){var u=O.getValidationAttr(d,M,w,v,i);u!=null&&(h(i,u,e)||(F.indexOf(w)===-1?(i.$error=w,(i.$errorMessages=i.$errorMessages||{})[w]=!0,i.$errorParam=u,J.indexOf(i)===-1&&J.push(i),N||T.splice(e,1),o=!1):T.splice(e,1)))}}o!==null&&E.$ngfValidations.push({name:w,valid:o})}}pe("pattern",null,O.validatePattern),pe("minSize","size.min",function(w,v){return w.size+.1>=O.translateScalars(v)}),pe("maxSize","size.max",function(w,v){return w.size-.1<=O.translateScalars(v)});var m=0;if(pe("maxTotalSize",null,function(w,v){return m+=w.size,m>O.translateScalars(v)?(T.splice(0,T.length),!1):!0}),pe("validateFn",null,function(w,v){return v===!0||v===null||v===""}),!T.length)return O.emptyPromise({validFiles:[],invalidFiles:J});function U(w,v,h,e,o){function i(s,t,n){function a(l){if(l())if(F.indexOf(w)===-1){if(t.$error=w,(t.$errorMessages=t.$errorMessages||{})[w]=!0,t.$errorParam=n,J.indexOf(t)===-1&&J.push(t),!N){var f=T.indexOf(t);f>-1&&T.splice(f,1)}s.resolve(!1)}else{var b=T.indexOf(t);b>-1&&T.splice(b,1),s.resolve(!0)}else s.resolve(!0)}n!=null?e(t,n).then(function(l){a(function(){return!o(l,n)})},function(){a(function(){return g("ngfValidateForce",{$file:t})})}):s.resolve(!0)}var u=[O.emptyPromise(!0)];T&&(T=T.length===void 0?[T]:T,angular.forEach(T,function(s){var t=Q.defer();if(u.push(t.promise),h&&(s.type==null||s.type.search(h)!==0)){t.resolve(!0);return}w==="dimensions"&&O.attrGetter("ngfDimensions",d)!=null?O.imageDimensions(s).then(function(n){i(t,s,g("ngfDimensions",{$file:s,$width:n.width,$height:n.height}))},function(){t.resolve(!1)}):w==="duration"&&O.attrGetter("ngfDuration",d)!=null?O.mediaDuration(s).then(function(n){i(t,s,g("ngfDuration",{$file:s,$duration:n}))},function(){t.resolve(!1)}):i(t,s,O.getValidationAttr(d,M,w,v,s))}));var c=Q.defer();return Q.all(u).then(function(s){for(var t=!0,n=0;n<s.length;n++)if(!s[n]){t=!1;break}E.$ngfValidations.push({name:w,valid:t}),c.resolve(t)}),c.promise}var k=Q.defer(),p=[];return p.push(U("maxHeight","height.max",/image/,this.imageDimensions,function(w,v){return w.height<=v})),p.push(U("minHeight","height.min",/image/,this.imageDimensions,function(w,v){return w.height>=v})),p.push(U("maxWidth","width.max",/image/,this.imageDimensions,function(w,v){return w.width<=v})),p.push(U("minWidth","width.min",/image/,this.imageDimensions,function(w,v){return w.width>=v})),p.push(U("dimensions",null,/image/,function(w,v){return O.emptyPromise(v)},function(w){return w})),p.push(U("ratio",null,/image/,this.imageDimensions,function(w,v){for(var h=v.toString().split(","),e=!1,o=0;o<h.length;o++)Math.abs(w.width/w.height-O.ratioToFloat(h[o]))<.01&&(e=!0);return e})),p.push(U("maxRatio","ratio.max",/image/,this.imageDimensions,function(w,v){return w.width/w.height-O.ratioToFloat(v)<1e-4})),p.push(U("minRatio","ratio.min",/image/,this.imageDimensions,function(w,v){return w.width/w.height-O.ratioToFloat(v)>-1e-4})),p.push(U("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(w,v){return w<=O.translateScalars(v)})),p.push(U("minDuration","duration.min",/audio|video/,this.mediaDuration,function(w,v){return w>=O.translateScalars(v)})),p.push(U("duration",null,/audio|video/,function(w,v){return O.emptyPromise(v)},function(w){return w})),p.push(U("validateAsyncFn",null,null,function(w,v){return v},function(w){return w===!0||w===null||w===""})),Q.all(p).then(function(){if(N)for(var w=0;w<T.length;w++){var v=T[w];v.$error&&T.splice(w--,1)}N=!1,pe("maxFiles",null,function(h,e,o){return _+o<e}),k.resolve({validFiles:T,invalidFiles:J})}),k.promise},O.imageDimensions=function(T){if(T.$ngfWidth&&T.$ngfHeight){var _=Q.defer();return A(function(){_.resolve({width:T.$ngfWidth,height:T.$ngfHeight})}),_.promise}if(T.$ngfDimensionPromise)return T.$ngfDimensionPromise;var E=Q.defer();return A(function(){if(T.type.indexOf("image")!==0){E.reject("not image");return}O.dataUrl(T).then(function(d){var M=angular.element("<img>").attr("src",d).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");function g(){var pe=M[0].naturalWidth||M[0].clientWidth,m=M[0].naturalHeight||M[0].clientHeight;M.remove(),T.$ngfWidth=pe,T.$ngfHeight=m,E.resolve({width:pe,height:m})}function F(){M.remove(),E.reject("load error")}M.on("load",g),M.on("error",F);var N=0;function J(){A(function(){M[0].parentNode&&(M[0].clientWidth?g():N++>10?F():J())},1e3)}J(),angular.element(document.getElementsByTagName("body")[0]).append(M)},function(){E.reject("load error")})}),T.$ngfDimensionPromise=E.promise,T.$ngfDimensionPromise.finally(function(){delete T.$ngfDimensionPromise}),T.$ngfDimensionPromise},O.mediaDuration=function(T){if(T.$ngfDuration){var _=Q.defer();return A(function(){_.resolve(T.$ngfDuration)}),_.promise}if(T.$ngfDurationPromise)return T.$ngfDurationPromise;var E=Q.defer();return A(function(){if(T.type.indexOf("audio")!==0&&T.type.indexOf("video")!==0){E.reject("not media");return}O.dataUrl(T).then(function(d){var M=angular.element(T.type.indexOf("audio")===0?"<audio>":"<video>").attr("src",d).css("visibility","none").css("position","fixed");function g(){var pe=M[0].duration;T.$ngfDuration=pe,M.remove(),E.resolve(pe)}function F(){M.remove(),E.reject("load error")}M.on("loadedmetadata",g),M.on("error",F);var N=0;function J(){A(function(){M[0].parentNode&&(M[0].duration?g():N>10?F():J())},1e3)}J(),angular.element(document.body).append(M)},function(){E.reject("load error")})}),T.$ngfDurationPromise=E.promise,T.$ngfDurationPromise.finally(function(){delete T.$ngfDurationPromise}),T.$ngfDurationPromise},O}]);wn.service("UploadResize",["UploadValidate","$q",function(we,Q){var A=we,O=function(D,T,_,E,d){var M=d?Math.max(_/D,E/T):Math.min(_/D,E/T);return{width:D*M,height:T*M,marginX:D*M-_,marginY:T*M-E}},I=function(D,T,_,E,d,M,g,F){var N=Q.defer(),J=document.createElement("canvas"),pe=document.createElement("img");return pe.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(pe),pe.onload=function(){var m=pe.width,U=pe.height;if(pe.parentNode.removeChild(pe),F!=null&&F(m,U)===!1){N.reject("resizeIf");return}try{if(M){var k=A.ratioToFloat(M),p=m/U;p<k?(T=m,_=T/k):(_=U,T=_*k)}T||(T=m),_||(_=U);var w=O(m,U,T,_,g);J.width=Math.min(w.width,T),J.height=Math.min(w.height,_);var v=J.getContext("2d");v.drawImage(pe,Math.min(0,-w.marginX/2),Math.min(0,-w.marginY/2),w.width,w.height),N.resolve(J.toDataURL(d||"image/WebP",E||.934))}catch(h){N.reject(h)}},pe.onerror=function(){pe.parentNode.removeChild(pe),N.reject()},pe.src=D,N.promise};return A.dataUrltoBlob=function(D,T,_){for(var E=D.split(","),d=E[0].match(/:(.*?);/)[1],M=atob(E[1]),g=M.length,F=new Uint8Array(g);g--;)F[g]=M.charCodeAt(g);var N=new window.Blob([F],{type:d});return N.name=T,N.$ngfOrigSize=_,N},A.isResizeSupported=function(){var D=document.createElement("canvas");return window.atob&&D.getContext&&D.getContext("2d")&&window.Blob},A.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(D){this.$ngfName=D},configurable:!0}),A.resize=function(D,T){if(D.type.indexOf("image")!==0)return A.emptyPromise(D);var _=Q.defer();return A.dataUrl(D,!0).then(function(E){I(E,T.width,T.height,T.quality,T.type||D.type,T.ratio,T.centerCrop,T.resizeIf).then(function(d){if(D.type==="image/jpeg"&&T.restoreExif!==!1)try{d=A.restoreExif(E,d)}catch(g){setTimeout(function(){throw g},1)}try{var M=A.dataUrltoBlob(d,D.name,D.size);_.resolve(M)}catch(g){_.reject(g)}},function(d){d==="resizeIf"&&_.resolve(D),_.reject(d)})},function(E){_.reject(E)}),_.promise},A}]);(function(){wn.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(A,O,I,D,T,_){return{restrict:"AEC",require:"?ngModel",link:function(E,d,M,g){we(E,d,M,g,A,O,I,D,T,_)}}}]),wn.directive("ngfNoFileDrop",function(){return function(A,O){Q()&&O.css("display","none")}}),wn.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(A,O,I){return function(D,T,_){if(Q()){var E=A(I.attrGetter("ngfDropAvailable",_));O(function(){E(D),E.assign&&E.assign(D,!0)})}}}]);function we(A,O,I,D,T,_,E,d,M,g){var F=Q(),N=function(o,i,u){return d.attrGetter(o,I,i,u)};if(N("dropAvailable")&&_(function(){A[N("dropAvailable")]?A[N("dropAvailable")].value=F:A[N("dropAvailable")]=F}),!F){N("ngfHideOnDropNotAvailable",A)===!0&&O.css("display","none");return}function J(){return O.attr("disabled")||N("ngfDropDisabled",A)}N("ngfSelect")==null&&d.registerModelChangeValidator(D,I,A);var pe=null,m=T(N("ngfStopPropagation")),U=1,k;O[0].addEventListener("dragover",function(o){if(!(J()||!d.shouldUpdateOn("drop",I,A))){if(o.preventDefault(),m(A)&&o.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=o.dataTransfer.effectAllowed;o.dataTransfer.dropEffect=i==="move"||i==="linkMove"?"move":"copy"}_.cancel(pe),k||(k="C",h(A,I,o,function(u){k=u,O.addClass(k),N("ngfDrag",A,{$isDragging:!0,$class:k,$event:o})}))}},!1),O[0].addEventListener("dragenter",function(o){J()||!d.shouldUpdateOn("drop",I,A)||(o.preventDefault(),m(A)&&o.stopPropagation())},!1),O[0].addEventListener("dragleave",function(o){J()||!d.shouldUpdateOn("drop",I,A)||(o.preventDefault(),m(A)&&o.stopPropagation(),pe=_(function(){k&&O.removeClass(k),k=null,N("ngfDrag",A,{$isDragging:!1,$event:o})},U||100))},!1),O[0].addEventListener("drop",function(o){J()||!d.shouldUpdateOn("drop",I,A)||(o.preventDefault(),m(A)&&o.stopPropagation(),k&&O.removeClass(k),k=null,p(o.dataTransfer,o,"dropUrl"))},!1),O[0].addEventListener("paste",function(o){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&N("ngfEnableFirefoxPaste",A)&&o.preventDefault(),!(J()||!d.shouldUpdateOn("paste",I,A))&&p(o.clipboardData||o.originalEvent.clipboardData,o,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&N("ngfEnableFirefoxPaste",A)&&(O.attr("contenteditable",!0),O.on("keypress",function(o){!o.metaKey&&!o.ctrlKey&&o.preventDefault()}));function p(o,i,u){if(o){var c;try{c=o&&o.getData&&o.getData("text/html")}catch{}e(o.items,o.files,N("ngfAllowDir",A)!==!1,N("multiple")||N("ngfMultiple",A)).then(function(s){s.length?w(s,i):v(u,c).then(function(t){w(t,i)})})}}function w(o,i){d.updateModel(D,I,A,N("ngfChange")||N("ngfDrop"),o,i)}function v(o,i){if(!d.shouldUpdateOn(o,I,A)||typeof i!="string")return d.rejectPromise([]);var u=[];i.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(n,a,l){u.push(l)});var c=[],s=[];if(u.length){angular.forEach(u,function(n){c.push(d.urlToBlob(n).then(function(a){s.push(a)}))});var t=g.defer();return g.all(c).then(function(){t.resolve(s)},function(n){t.reject(n)}),t.promise}return d.emptyPromise()}function h(o,i,u,c){var s=N("ngfDragOverClass",o,{$event:u}),t="dragover";if(angular.isString(s))t=s;else if(s&&(s.delay&&(U=s.delay),s.accept||s.reject)){var n=u.dataTransfer.items;if(n==null||!n.length)t=s.accept;else for(var a=s.pattern||N("ngfPattern",o,{$event:u}),l=n.length;l--;)if(d.validatePattern(n[l],a))t=s.accept;else{t=s.reject;break}}c(t)}function e(o,i,u,c){var s=d.getValidationAttr(I,A,"maxFiles");s==null&&(s=Number.MAX_VALUE);var t=d.getValidationAttr(I,A,"maxTotalSize");t==null&&(t=Number.MAX_VALUE);var n=N("ngfIncludeDir",A),a=[],l=0;function f(ee,ae){var fe=g.defer();if(ee!=null)if(ee.isDirectory){var Ee=[d.emptyPromise()];if(n){var se={type:"directory"};se.name=se.path=(ae||"")+ee.name,a.push(se)}var B=ee.createReader(),K=[],j=function(){B.readEntries(function(x){try{x.length?(K=K.concat(Array.prototype.slice.call(x||[],0)),j()):(angular.forEach(K.slice(0),function(z){a.length<=s&&l<=t&&Ee.push(f(z,(ae||"")+ee.name+"/"))}),g.all(Ee).then(function(){fe.resolve()},function(z){fe.reject(z)}))}catch(z){fe.reject(z)}},function(x){fe.reject(x)})};j()}else ee.file(function(x){try{x.path=(ae||"")+x.name,n&&(x=d.rename(x,x.path)),a.push(x),l+=x.size,fe.resolve()}catch(z){fe.reject(z)}},function(x){fe.reject(x)});return fe.promise}var b=[d.emptyPromise()];if(o&&o.length>0&&E.location.protocol!=="file:")for(var C=0;C<o.length;C++){if(o[C].webkitGetAsEntry&&o[C].webkitGetAsEntry()&&o[C].webkitGetAsEntry().isDirectory){var $=o[C].webkitGetAsEntry();if($.isDirectory&&!u)continue;$!=null&&b.push(f($))}else{var W=o[C].getAsFile();W!=null&&(a.push(W),l+=W.size)}if(a.length>s||l>t||!c&&a.length>0)break}else if(i!=null)for(var R=0;R<i.length;R++){var L=i.item(R);if((L.type||L.size>0)&&(a.push(L),l+=L.size),a.length>s||l>t||!c&&a.length>0)break}var q=g.defer();return g.all(b).then(function(){if(!c&&!n&&a.length){for(var ee=0;a[ee]&&a[ee].type==="directory";)ee++;q.resolve([a[ee]])}else q.resolve(a)},function(ee){q.reject(ee)}),q.promise}}function Q(){var A=document.createElement("div");return"draggable"in A&&"ondrop"in A&&!/Edge\/12./i.test(navigator.userAgent)}})();wn.service("UploadExif",["UploadResize","$q",function(we,Q){var A=we;A.isExifSupported=function(){return window.FileReader&&new FileReader().readAsArrayBuffer&&A.isResizeSupported()};function O(D,T,_,E){switch(T){case 2:return D.transform(-1,0,0,1,_,0);case 3:return D.transform(-1,0,0,-1,_,E);case 4:return D.transform(1,0,0,-1,0,E);case 5:return D.transform(0,1,1,0,0,0);case 6:return D.transform(0,1,-1,0,E,0);case 7:return D.transform(0,-1,-1,0,E,_);case 8:return D.transform(0,-1,1,0,0,_)}}A.readOrientation=function(D){var T=Q.defer(),_=new FileReader,E=D.slice?D.slice(0,64*1024):D;return _.readAsArrayBuffer(E),_.onerror=function(d){return T.reject(d)},_.onload=function(d){var M={orientation:1},g=new DataView(this.result);if(g.getUint16(0,!1)!==65496)return T.resolve(M);for(var F=g.byteLength,N=2;N<F;){var J=g.getUint16(N,!1);if(N+=2,J===65505){if(g.getUint32(N+=2,!1)!==1165519206)return T.resolve(M);var pe=g.getUint16(N+=6,!1)===18761;N+=g.getUint32(N+4,pe);var m=g.getUint16(N,pe);N+=2;for(var U=0;U<m;U++)if(g.getUint16(N+U*12,pe)===274){var k=g.getUint16(N+U*12+8,pe);return k>=2&&k<=8&&(g.setUint16(N+U*12+8,1,pe),M.fixedArrayBuffer=d.target.result),M.orientation=k,T.resolve(M)}}else{if((J&65280)!==65280)break;N+=g.getUint16(N,!1)}}return T.resolve(M)},T.promise};function I(D){for(var T="",_=new Uint8Array(D),E=_.byteLength,d=0;d<E;d++)T+=String.fromCharCode(_[d]);return window.btoa(T)}return A.applyExifRotation=function(D){if(D.type.indexOf("image/jpeg")!==0)return A.emptyPromise(D);var T=Q.defer();return A.readOrientation(D).then(function(_){if(_.orientation<2||_.orientation>8)return T.resolve(D);A.dataUrl(D,!0).then(function(E){var d=document.createElement("canvas"),M=document.createElement("img");M.onload=function(){try{d.width=_.orientation>4?M.height:M.width,d.height=_.orientation>4?M.width:M.height;var g=d.getContext("2d");O(g,_.orientation,M.width,M.height),g.drawImage(M,0,0);var F=d.toDataURL(D.type||"image/WebP",.934);F=A.restoreExif(I(_.fixedArrayBuffer),F);var N=A.dataUrltoBlob(F,D.name);T.resolve(N)}catch(J){return T.reject(J)}},M.onerror=function(){T.reject()},M.src=E},function(E){T.reject(E)})},function(_){T.reject(_)}),T.promise},A.restoreExif=function(D,T){var _={};return _.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_.encode64=function(E){var d="",M,g,F="",N,J,pe,m="",U=0;do M=E[U++],g=E[U++],F=E[U++],N=M>>2,J=(M&3)<<4|g>>4,pe=(g&15)<<2|F>>6,m=F&63,isNaN(g)?pe=m=64:isNaN(F)&&(m=64),d=d+this.KEY_STR.charAt(N)+this.KEY_STR.charAt(J)+this.KEY_STR.charAt(pe)+this.KEY_STR.charAt(m),M=g=F="",N=J=pe=m="";while(U<E.length);return d},_.restore=function(E,d){E.match("data:image/jpeg;base64,")&&(E=E.replace("data:image/jpeg;base64,",""));var M=this.decode64(E),g=this.slice2Segments(M),F=this.exifManipulation(d,g);return"data:image/jpeg;base64,"+this.encode64(F)},_.exifManipulation=function(E,d){var M=this.getExifArray(d),g=this.insertExif(E,M);return new Uint8Array(g)},_.getExifArray=function(E){for(var d,M=0;M<E.length;M++)if(d=E[M],d[0]===255&d[1]===225)return d;return[]},_.insertExif=function(E,d){var M=E.replace("data:image/jpeg;base64,",""),g=this.decode64(M),F=g.indexOf(255,3),N=g.slice(0,F),J=g.slice(F),pe=N;return pe=pe.concat(d),pe=pe.concat(J),pe},_.slice2Segments=function(E){for(var d=0,M=[];!(E[d]===255&E[d+1]===218);){if(E[d]===255&E[d+1]===216)d+=2;else{var g=E[d+2]*256+E[d+3],F=d+g+2,N=E.slice(d,F);M.push(N),d=F}if(d>E.length)break}return M},_.decode64=function(E){var d,M,g="",F,N,J,pe="",m=0,U=[],k=/[^A-Za-z0-9\+\/\=]/g;k.exec(E)&&console.log(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, `+", "/`,and "="
`+"Expect errors in decoding."),E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");do F=this.KEY_STR.indexOf(E.charAt(m++)),N=this.KEY_STR.indexOf(E.charAt(m++)),J=this.KEY_STR.indexOf(E.charAt(m++)),pe=this.KEY_STR.indexOf(E.charAt(m++)),d=F<<2|N>>4,M=(N&15)<<4|J>>2,g=(J&3)<<6|pe,U.push(d),J!==64&&U.push(M),pe!==64&&U.push(g),d=M=g="",F=N=J=pe="";while(m<E.length);return U},_.restore(D,T)},A}]);(function(){"use strict";var we=angular.module("ngNotify",[]),Q=!1;try{angular.module("ngSanitize")&&(angular.module("ngNotify").requires.push("ngSanitize"),Q=!0)}catch{}var A='<div class="ngn" ng-class="ngNotify.notifyClass" ng-style="ngNotify.notifyStyle"><span ng-show="ngNotify.notifyButton" class="ngn-dismiss" ng-click="dismiss()">&times;</span><span ng-if="ngNotify.notifyHtml" ng-bind-html="ngNotify.notifyMessage"></span><span ng-if="!ngNotify.notifyHtml" ng-bind="ngNotify.notifyMessage"></span></div>';we.run(["$templateCache",function(O){O.put("templates/ng-notify/ng-notify.html",A)}]),we.provider("ngNotify",function(){this.$get=["$document","$compile","$log","$rootScope","$timeout","$interval","$templateCache",function(O,I,D,T,_,E,d){var M,g,F="",N=" ",J=3e3,pe="ngn-sticky",m=1,U=-1,k=200,p=500,w=25,v=0,h=1,e={theme:"pure",position:"bottom",duration:J,type:"info",sticky:!1,button:!0,html:!1},o={notifyClass:"",notifyMessage:"",notifyStyle:{display:"none",opacity:v}},i={pure:F,prime:"ngn-prime",pastel:"ngn-pastel",pitchy:"ngn-pitchy"},u={info:"ngn-info",error:"ngn-error",success:"ngn-success",warn:"ngn-warn",grimace:"ngn-grimace"},c={bottom:"ngn-bottom",top:"ngn-top"},s=T.$new(),t=I(d.get("templates/ng-notify/ng-notify.html"))(s);s.ngNotify=angular.extend({},o),_(function(){O.find("body").append(t)});var n=function(ae){var fe=ae.type||e.type;return(u[fe]||u.info)+N},a=function(ae){var fe=ae.theme||e.theme;return(i[fe]||i.pure)+N},l=function(ae){var fe=ae.position||e.position;return(c[fe]||c.bottom)+N},f=function(ae){var fe=ae.duration||e.duration;return angular.isNumber(fe)?fe:J},b=function(ae){var fe=ae.sticky!==void 0?ae.sticky:e.sticky;return!!fe},C=function(ae,fe){var Ee=ae.button!==void 0?ae.button:e.button;return Ee&&fe},$=function(ae){if((ae.html||e.html)&&!Q)return D.debug(`ngNotify warning: 
gSanitize couldn't be located.  In order to use the 'html' option, be sure the ngSanitize source is included in your project.`),!1;var fe=ae.html!==void 0?ae.html:e.html;return!!fe},W=function(ae,fe){var Ee=n(ae)+a(ae)+l(ae);return Ee+=fe?pe:F},R=function(){s.ngNotify=angular.extend({},o)},L=function(ae,fe,Ee,se){var B=w/Ee;s.ngNotify.notifyStyle={display:"block",opacity:fe};var K=function(){fe+=ae*B,s.ngNotify.notifyStyle.opacity=fe,(v>=fe||fe>=h)&&(E.cancel(g),g=!1,se())};g||(g=E(K,w))},q=function(ae,fe){L(U,h,ae,fe)},ee=function(ae,fe){L(m,v,ae,fe)};return s.dismiss=function(){q(p,function(){R()})},{config:function(ae){ae=ae||{},angular.extend(e,ae)},set:function(ae,fe){if(ae){E.cancel(g),g=!1,_.cancel(M);var Ee={};typeof fe=="object"?Ee=fe:Ee.type=fe;var se=b(Ee),B=f(Ee);angular.extend(s.ngNotify,{notifyHtml:$(Ee),notifyClass:W(Ee,se),notifyButton:C(Ee,se),notifyMessage:ae}),ee(k,function(){se||(M=_(function(){s.dismiss()},B))})}},dismiss:function(){s.dismiss()},addTheme:function(ae,fe){ae&&fe&&(i[ae]=fe)},addType:function(ae,fe){ae&&fe&&(u[ae]=fe)}}}]})})();var rc=ta(Zu(),1),ra=ta(ec(),1),su=typeof window!="undefined"?window:globalThis,_d=ra.default&&ra.default.default?ra.default.default:ra.default;su.angular=tc.default;su.moment=rc.default;su.WebTorrent=_d;})();
/*! Bundled license information:

angular/angular.js:
angular-route/angular-route.js:
angular-sanitize/angular-sanitize.js:
  (**
   * @license AngularJS v1.8.3
   * (c) 2010-2020 Google LLC. http://angularjs.org
   * License: MIT
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

webtorrent/webtorrent.min.js:
  (*! bittorrent-protocol. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! blob-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
  * The buffer module from node.js, for the browser.
  *
  * @author   Feross Aboukhadijeh <https://feross.org>
  * @license  MIT
  *)
  (*! cache-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! create-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! immediate-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
  * Determine if an object is a Buffer
  *
  * @author   Feross Aboukhadijeh <https://feross.org>
  * @license  MIT
  *)
  (*! lt_donthave. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! parse-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! https://mths.be/punycode v1.4.1 by @mathias *)
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
  * range-parser
  * Copyright(c) 2012-2014 TJ Holowaychuk
  * Copyright(c) 2015-2016 Douglas Christopher Wilson
  * MIT Licensed
  *)
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! stream-to-blob. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! stream-with-known-length-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! torrent-discovery. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! torrent-piece. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! ut_metadata. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)
  (*! webtorrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> *)

angular-ui-grid/ui-grid.js:
angular-ui-grid/ui-grid.resize-columns.js:
angular-ui-grid/ui-grid.selection.js:
  (*!
   * ui-grid - v4.12.7 - 2024-04-12
  * http://ui-grid.info/
   * Copyright (c) 2024 ; License: MIT 
   *)
*/
