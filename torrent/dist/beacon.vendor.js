(()=>{var gd=Object.create;var jc=Object.defineProperty;var md=Object.getOwnPropertyDescriptor;var vd=Object.getOwnPropertyNames;var bd=Object.getPrototypeOf,yd=Object.prototype.hasOwnProperty;var Bi=(we=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(we,{get:(Q,k)=>(typeof require!="undefined"?require:Q)[k]}):we)(function(we){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+we+'" is not supported')});var wi=(we,Q)=>()=>(Q||we((Q={exports:{}}).exports,Q),Q.exports);var wd=(we,Q,k,O)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let I of vd(Q))!yd.call(we,I)&&I!==k&&jc(we,I,{get:()=>Q[I],enumerable:!(O=md(Q,I))||O.enumerable});return we};var ta=(we,Q,k)=>(k=we!=null?gd(bd(we)):{},wd(Q||!we||!we.__esModule?jc(k,"default",{value:we,enumerable:!0}):k,we));var zc=wi(()=>{(function(we){"use strict";var Q={objectMaxDepth:5,urlErrorParamsEnabled:!0};function k(n){if(Y(n))L(n.objectMaxDepth)&&(Q.objectMaxDepth=O(n.objectMaxDepth)?n.objectMaxDepth:NaN),L(n.urlErrorParamsEnabled)&&le(n.urlErrorParamsEnabled)&&(Q.urlErrorParamsEnabled=n.urlErrorParamsEnabled);else return Q}function O(n){return fe(n)&&n>0}function I(n,y){y=y||Error;var P="https://errors.angularjs.org/1.8.3/",H=P.replace(".","\\.")+"[\\s\\S]*",X=new RegExp(H,"g");return function(){var ue=arguments[0],ie=arguments[1],re="["+(n?n+":":"")+ue+"] ",ne=de(arguments,2).map(function(Ee){return Ye(Ee,Q.objectMaxDepth)}),me,be;if(re+=ie.replace(/\{\d+\}/g,function(Ee){var Ae=+Ee.slice(1,-1);return Ae<ne.length?ne[Ae].replace(X,""):Ee}),re+=`
`+P+(n?n+"/":"")+ue,Q.urlErrorParamsEnabled)for(be=0,me="?";be<ne.length;be++,me="&")re+=me+"p"+be+"="+encodeURIComponent(ne[be]);return new y(re)}}var D=/^\/(.+)\/([a-z]*)$/,T="validity",_=Object.prototype.hasOwnProperty,x=function(n){return ae(n)?n.toLowerCase():n},d=function(n){return ae(n)?n.toUpperCase():n},M,g,F,N=[].slice,J=[].splice,pe=[].push,m=Object.prototype.toString,U=Object.getPrototypeOf,A=I("ng"),p=we.angular||(we.angular={}),w,v=0;M=we.document.documentMode;function h(n){if(n==null||E(n))return!1;if(se(n)||ae(n)||g&&n instanceof g)return!0;var y="length"in Object(n)&&n.length;return fe(y)&&(y>=0&&y-1 in n||typeof n.item=="function")}function e(n,y,P){var H,X;if(n)if(K(n))for(H in n)H!=="prototype"&&H!=="length"&&H!=="name"&&n.hasOwnProperty(H)&&y.call(P,n[H],H,n);else if(se(n)||h(n)){var ue=typeof n!="object";for(H=0,X=n.length;H<X;H++)(ue||H in n)&&y.call(P,n[H],H,n)}else if(n.forEach&&n.forEach!==e)n.forEach(y,P,n);else if(ee(n))for(H in n)y.call(P,n[H],H,n);else if(typeof n.hasOwnProperty=="function")for(H in n)n.hasOwnProperty(H)&&y.call(P,n[H],H,n);else for(H in n)_.call(n,H)&&y.call(P,n[H],H,n);return n}function o(n,y,P){for(var H=Object.keys(n).sort(),X=0;X<H.length;X++)y.call(P,n[H[X]],H[X]);return H}function i(n){return function(y,P){n(P,y)}}function c(){return++v}function u(n,y){y?n.$$hashKey=y:delete n.$$hashKey}function s(n,y,P){for(var H=n.$$hashKey,X=0,ue=y.length;X<ue;++X){var ie=y[X];if(!(!Y(ie)&&!K(ie)))for(var re=Object.keys(ie),ne=0,me=re.length;ne<me;ne++){var be=re[ne],Ee=ie[be];P&&Y(Ee)?xe(Ee)?n[be]=new Date(Ee.valueOf()):z(Ee)?n[be]=new RegExp(Ee):Ee.nodeName?n[be]=Ee.cloneNode(!0):nt(Ee)?n[be]=Ee.clone():be!=="__proto__"&&(Y(n[be])||(n[be]=se(Ee)?[]:{}),s(n[be],[Ee],!0)):n[be]=Ee}}return u(n,H),n}function t(n){return s(n,N.call(arguments,1),!1)}function r(n){return s(n,N.call(arguments,1),!0)}function a(n){return parseInt(n,10)}var l=Number.isNaN||function(y){return y!==y};function f(n,y){return t(Object.create(n),y)}function b(){}b.$inject=[];function C(n){return n}C.$inject=[];function $(n){return function(){return n}}function W(n){return K(n.toString)&&n.toString!==m}function R(n){return typeof n=="undefined"}function L(n){return typeof n!="undefined"}function Y(n){return n!==null&&typeof n=="object"}function ee(n){return n!==null&&typeof n=="object"&&!U(n)}function ae(n){return typeof n=="string"}function fe(n){return typeof n=="number"}function xe(n){return m.call(n)==="[object Date]"}function se(n){return Array.isArray(n)||n instanceof Array}function B(n){var y=m.call(n);switch(y){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return n instanceof Error}}function K(n){return typeof n=="function"}function z(n){return m.call(n)==="[object RegExp]"}function E(n){return n&&n.window===n}function j(n){return n&&n.$evalAsync&&n.$watch}function Z(n){return m.call(n)==="[object File]"}function oe(n){return m.call(n)==="[object FormData]"}function q(n){return m.call(n)==="[object Blob]"}function le(n){return typeof n=="boolean"}function ge(n){return n&&K(n.then)}var Re=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function ke(n){return n&&fe(n.length)&&Re.test(m.call(n))}function De(n){return m.call(n)==="[object ArrayBuffer]"}var $e=function(n){return ae(n)?n.trim():n},qe=function(n){return n.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function nt(n){return!!(n&&(n.nodeName||n.prop&&n.attr&&n.find))}function bt(n){var y={},P=n.split(","),H;for(H=0;H<P.length;H++)y[P[H]]=!0;return y}function ct(n){return x(n.nodeName||n[0]&&n[0].nodeName)}function Me(n,y){return Array.prototype.indexOf.call(n,y)!==-1}function Ge(n,y){var P=n.indexOf(y);return P>=0&&n.splice(P,1),P}function Ze(n,y,P){var H=[],X=[];if(P=O(P)?P:NaN,y){if(ke(y)||De(y))throw A("cpta","Can't copy! TypedArray destination cannot be mutated.");if(n===y)throw A("cpi","Can't copy! Source and destination are identical.");return se(y)?y.length=0:e(y,function(ne,me){me!=="$$hashKey"&&delete y[me]}),H.push(n),X.push(y),ue(n,y,P)}return ie(n,P);function ue(ne,me,be){if(be--,be<0)return"...";var Ee=me.$$hashKey,Ae;if(se(ne))for(var Fe=0,Oe=ne.length;Fe<Oe;Fe++)me.push(ie(ne[Fe],be));else if(ee(ne))for(Ae in ne)me[Ae]=ie(ne[Ae],be);else if(ne&&typeof ne.hasOwnProperty=="function")for(Ae in ne)ne.hasOwnProperty(Ae)&&(me[Ae]=ie(ne[Ae],be));else for(Ae in ne)_.call(ne,Ae)&&(me[Ae]=ie(ne[Ae],be));return u(me,Ee),me}function ie(ne,me){if(!Y(ne))return ne;var be=H.indexOf(ne);if(be!==-1)return X[be];if(E(ne)||j(ne))throw A("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var Ee=!1,Ae=re(ne);return Ae===void 0&&(Ae=se(ne)?[]:Object.create(U(ne)),Ee=!0),H.push(ne),X.push(Ae),Ee?ue(ne,Ae,me):Ae}function re(ne){switch(m.call(ne)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new ne.constructor(ie(ne.buffer),ne.byteOffset,ne.length);case"[object ArrayBuffer]":if(!ne.slice){var me=new ArrayBuffer(ne.byteLength);return new Uint8Array(me).set(new Uint8Array(ne)),me}return ne.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new ne.constructor(ne.valueOf());case"[object RegExp]":var be=new RegExp(ne.source,ne.toString().match(/[^/]*$/)[0]);return be.lastIndex=ne.lastIndex,be;case"[object Blob]":return new ne.constructor([ne],{type:ne.type})}if(K(ne.cloneNode))return ne.cloneNode(!0)}}function ft(n,y){return n===y||n!==n&&y!==y}function Mt(n,y){if(n===y)return!0;if(n===null||y===null)return!1;if(n!==n&&y!==y)return!0;var P=typeof n,H=typeof y,X,ue,ie;if(P===H&&P==="object")if(se(n)){if(!se(y))return!1;if((X=n.length)===y.length){for(ue=0;ue<X;ue++)if(!Mt(n[ue],y[ue]))return!1;return!0}}else{if(xe(n))return xe(y)?ft(n.getTime(),y.getTime()):!1;if(z(n))return z(y)?n.toString()===y.toString():!1;if(j(n)||j(y)||E(n)||E(y)||se(y)||xe(y)||z(y))return!1;ie=Ht();for(ue in n)if(!(ue.charAt(0)==="$"||K(n[ue]))){if(!Mt(n[ue],y[ue]))return!1;ie[ue]=!0}for(ue in y)if(!(ue in ie)&&ue.charAt(0)!=="$"&&L(y[ue])&&!K(y[ue]))return!1;return!0}return!1}var ce=function(){if(!L(ce.rules)){var n=we.document.querySelector("[ng-csp]")||we.document.querySelector("[data-ng-csp]");if(n){var y=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");ce.rules={noUnsafeEval:!y||y.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!y||y.indexOf("no-inline-style")!==-1}}else ce.rules={noUnsafeEval:P(),noInlineStyle:!1}}return ce.rules;function P(){try{return new Function(""),!1}catch{return!0}}},G=function(){if(L(G.name_))return G.name_;var n,y,P=Kt.length,H,X;for(y=0;y<P;++y)if(H=Kt[y],n=we.document.querySelector("["+H.replace(":","\\:")+"jq]"),n){X=n.getAttribute(H+"jq");break}return G.name_=X};function te(n,y,P){return n.concat(N.call(y,P))}function de(n,y){return N.call(n,y||0)}function _e(n,y){var P=arguments.length>2?de(arguments,2):[];return K(y)&&!(y instanceof RegExp)?P.length?function(){return arguments.length?y.apply(n,te(P,arguments,0)):y.apply(n,P)}:function(){return arguments.length?y.apply(n,arguments):y.call(n)}:y}function Pe(n,y){var P=y;return typeof n=="string"&&n.charAt(0)==="$"&&n.charAt(1)==="$"?P=void 0:E(y)?P="$WINDOW":y&&we.document===y?P="$DOCUMENT":j(y)&&(P="$SCOPE"),P}function ze(n,y){if(!R(n))return fe(y)||(y=y?2:null),JSON.stringify(n,Pe,y)}function Ue(n){return ae(n)?JSON.parse(n):n}var yt=/:/g;function mt(n,y){n=n.replace(yt,"");var P=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return l(P)?y:P}function et(n,y){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+y),n}function Dt(n,y,P){P=P?-1:1;var H=n.getTimezoneOffset(),X=mt(y,H);return et(n,P*(X-H))}function wt(n){n=g(n).clone().empty();var y=g("<div></div>").append(n).html();try{return n[0].nodeType===nn?x(y):y.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(P,H){return"<"+x(H)})}catch{return x(y)}}function Lt(n){try{return decodeURIComponent(n)}catch{}}function vn(n){var y={};return e((n||"").split("&"),function(P){var H,X,ue;P&&(X=P=P.replace(/\+/g,"%20"),H=P.indexOf("="),H!==-1&&(X=P.substring(0,H),ue=P.substring(H+1)),X=Lt(X),L(X)&&(ue=L(ue)?Lt(ue):!0,_.call(y,X)?se(y[X])?y[X].push(ue):y[X]=[y[X],ue]:y[X]=ue))}),y}function St(n){var y=[];return e(n,function(P,H){se(P)?e(P,function(X){y.push(Yt(H,!0)+(X===!0?"":"="+Yt(X,!0)))}):y.push(Yt(H,!0)+(P===!0?"":"="+Yt(P,!0)))}),y.length?y.join("&"):""}function Wt(n){return Yt(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Yt(n,y){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,y?"%20":"+")}var Kt=["ng-","data-ng-","ng:","x-ng-"];function ln(n,y){var P,H,X=Kt.length;for(H=0;H<X;++H)if(P=Kt[H]+y,ae(P=n.getAttribute(P)))return P;return null}function _r(n){var y=n.currentScript;if(!y)return!0;if(!(y instanceof we.HTMLScriptElement||y instanceof we.SVGScriptElement))return!1;var P=y.attributes,H=[P.getNamedItem("src"),P.getNamedItem("href"),P.getNamedItem("xlink:href")];return H.every(function(X){if(!X)return!0;if(!X.value)return!1;var ue=n.createElement("a");if(ue.href=X.value,n.location.origin===ue.origin)return!0;switch(ue.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}var Jt=_r(we.document);function rn(n,y){var P,H,X={};if(e(Kt,function(ue){var ie=ue+"app";!P&&n.hasAttribute&&n.hasAttribute(ie)&&(P=n,H=n.getAttribute(ie))}),e(Kt,function(ue){var ie=ue+"app",re;!P&&(re=n.querySelector("["+ie.replace(":","\\:")+"]"))&&(P=re,H=re.getAttribute(ie))}),P){if(!Jt){we.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");return}X.strictDi=ln(P,"strict-di")!==null,y(P,H?[H]:[],X)}}function Xn(n,y,P){Y(P)||(P={});var H={strictDi:!1};P=t(H,P);var X=function(){if(n=g(n),n.injector()){var re=n[0]===we.document?"document":wt(n);throw A("btstrpd","App already bootstrapped with this element '{0}'",re.replace(/</,"&lt;").replace(/>/,"&gt;"))}y=y||[],y.unshift(["$provide",function(me){me.value("$rootElement",n)}]),P.debugInfoEnabled&&y.push(["$compileProvider",function(me){me.debugInfoEnabled(!0)}]),y.unshift("ng");var ne=fi(y,P.strictDi);return ne.invoke(["$rootScope","$rootElement","$compile","$injector",function(be,Ee,Ae,Fe){be.$apply(function(){Ee.data("$injector",Fe),Ae(Ee)(be)})}]),ne},ue=/^NG_ENABLE_DEBUG_INFO!/,ie=/^NG_DEFER_BOOTSTRAP!/;if(we&&ue.test(we.name)&&(P.debugInfoEnabled=!0,we.name=we.name.replace(ue,"")),we&&!ie.test(we.name))return X();we.name=we.name.replace(ie,""),p.resumeBootstrap=function(re){return e(re,function(ne){y.push(ne)}),X()},K(p.resumeDeferredBootstrap)&&p.resumeDeferredBootstrap()}function qt(){we.name="NG_ENABLE_DEBUG_INFO!"+we.name,we.location.reload()}function tn(n){var y=p.element(n).injector();if(!y)throw A("test","no injector found for element argument to getTestability");return y.get("$$testability")}var Wn=/[A-Z]/g;function on(n,y){return y=y||"_",n.replace(Wn,function(P,H){return(H?y:"")+P.toLowerCase()})}var fn=!1;function ar(){var n;if(!fn){var y=G();F=R(y)?we.jQuery:y?we[y]:void 0,F&&F.fn.on?(g=F,t(F.fn,{scope:ui.scope,isolateScope:ui.isolateScope,controller:ui.controller,injector:ui.injector,inheritedData:ui.inheritedData})):g=zn,n=g.cleanData,g.cleanData=function(P){for(var H,X=0,ue;(ue=P[X])!=null;X++)H=(g._data(ue)||{}).events,H&&H.$destroy&&g(ue).triggerHandler("$destroy");n(P)},p.element=g,fn=!0}}function Xt(){zn.legacyXHTMLReplacement=!0}function an(n,y,P){if(!n)throw A("areq","Argument '{0}' is {1}",y||"?",P||"required");return n}function Ir(n,y,P){return P&&se(n)&&(n=n[n.length-1]),an(K(n),y,"not a function, got "+(n&&typeof n=="object"?n.constructor.name||"Object":typeof n)),n}function en(n,y){if(n==="hasOwnProperty")throw A("badname","hasOwnProperty is not a valid {0} name",y)}function cn(n,y,P){if(!y)return n;for(var H=y.split("."),X,ue=n,ie=H.length,re=0;re<ie;re++)X=H[re],n&&(n=(ue=n)[X]);return!P&&K(n)?_e(ue,n):n}function Sr(n){for(var y=n[0],P=n[n.length-1],H,X=1;y!==P&&(y=y.nextSibling);X++)(H||n[X]!==y)&&(H||(H=g(N.call(n,0,X))),H.push(y));return H||n}function Ht(){return Object.create(null)}function hn(n){if(n==null)return"";switch(typeof n){case"string":break;case"number":n=""+n;break;default:W(n)&&!se(n)&&!xe(n)?n=n.toString():n=ze(n)}return n}var sr=1,Vt=2,nn=3,Cr=8,pn=9,gn=11;function Ke(n){var y=I("$injector"),P=I("ng");function H(ue,ie,re){return ue[ie]||(ue[ie]=re())}var X=H(n,"angular",Object);return X.$$minErr=X.$$minErr||I,H(X,"module",function(){var ue={};return function(re,ne,me){var be={},Ee=function(Ae,Fe){if(Ae==="hasOwnProperty")throw P("badname","hasOwnProperty is not a valid {0} name",Fe)};return Ee(re,"module"),ne&&ue.hasOwnProperty(re)&&(ue[re]=null),H(ue,re,function(){if(!ne)throw y("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",re);var Ae=[],Fe=[],Oe=[],at=st("$injector","invoke","push",Fe),vt={_invokeQueue:Ae,_configBlocks:Fe,_runBlocks:Oe,info:function(it){if(L(it)){if(!Y(it))throw P("aobj","Argument '{0}' must be an object","value");return be=it,this}return be},requires:ne,name:re,provider:ot("$provide","provider"),factory:ot("$provide","factory"),service:ot("$provide","service"),value:st("$provide","value"),constant:st("$provide","constant","unshift"),decorator:ot("$provide","decorator",Fe),animation:ot("$animateProvider","register"),filter:ot("$filterProvider","register"),controller:ot("$controllerProvider","register"),directive:ot("$compileProvider","directive"),component:ot("$compileProvider","component"),config:at,run:function(it){return Oe.push(it),this}};return me&&at(me),vt;function st(it,ut,je,Xe){return Xe||(Xe=Ae),function(){return Xe[je||"push"]([it,ut,arguments]),vt}}function ot(it,ut,je){return je||(je=Ae),function(Xe,Le){return Le&&K(Le)&&(Le.$$moduleName=re),je.push([it,ut,arguments]),vt}}})}})}function ye(n,y){if(se(n)){y=y||[];for(var P=0,H=n.length;P<H;P++)y[P]=n[P]}else if(Y(n)){y=y||{};for(var X in n)X.charAt(0)==="$"&&X.charAt(1)==="$"||(y[X]=n[X])}return y||n}function He(n,y){var P=[];return O(y)&&(n=p.copy(n,null,y)),JSON.stringify(n,function(H,X){if(X=Pe(H,X),Y(X)){if(P.indexOf(X)>=0)return"...";P.push(X)}return X})}function Ye(n,y){return typeof n=="function"?n.toString().replace(/ \{[\s\S]*$/,""):R(n)?"undefined":typeof n!="string"?He(n,y):n}var Se={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};function Je(n){t(n,{errorHandlingConfig:k,bootstrap:Xn,copy:Ze,extend:t,merge:r,equals:Mt,element:g,forEach:e,injector:fi,noop:b,bind:_e,toJson:ze,fromJson:Ue,identity:C,isUndefined:R,isDefined:L,isString:ae,isFunction:K,isObject:Y,isNumber:fe,isElement:nt,isArray:se,version:Se,isDate:xe,callbacks:{$$counter:0},getTestability:tn,reloadWithDebugInfo:qt,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Xt,$$minErr:I,$$csp:ce,$$encodeUriSegment:Wt,$$encodeUriQuery:Yt,$$lowercase:x,$$stringify:hn,$$uppercase:d}),w=Ke(we),w("ng",["ngLocale"],["$provide",function(P){P.provider({$$sanitizeUri:ul}),P.provider("$compile",pa).directive({a:Ol,input:hc,textarea:hc,form:Bl,script:Yu,select:Xu,option:Zu,ngBind:pu,ngBindHtml:mu,ngBindTemplate:gu,ngClass:bu,ngClassEven:wu,ngClassOdd:yu,ngCloak:_u,ngController:Su,ngForm:qo,ngHide:Uu,ngIf:xu,ngInclude:Cu,ngInit:ku,ngNonBindable:Lu,ngPluralize:Ou,ngRef:Nu,ngRepeat:Bu,ngShow:Hu,ngStyle:ju,ngSwitch:zu,ngSwitchWhen:Vu,ngSwitchDefault:Wu,ngOptions:Fu,ngTransclude:qu,ngModel:Iu,ngList:Ru,ngChange:vu,pattern:Cc,ngPattern:Cc,required:xc,ngRequired:xc,minlength:kc,ngMinlength:kc,maxlength:Ac,ngMaxlength:Ac,ngValue:hu,ngModelOptions:Du}).directive({ngInclude:Au,input:du}).directive(uo).directive(pc),P.provider({$anchorScroll:ws,$animate:xs,$animateCss:As,$$animateJs:Es,$$animateQueue:Ro,$$AnimateRunner:Cs,$$animateAsyncRun:To,$browser:Ts,$cacheFactory:ha,$controller:Ps,$document:Io,$$isDocumentHidden:Po,$exceptionHandler:Do,$filter:Va,$$forceReflow:Ds,$interpolate:Sa,$interval:js,$$intervalFactory:zs,$http:Bs,$httpParamSerializer:Fs,$httpParamSerializerJQLike:Os,$httpBackend:_a,$xhrFactory:wa,$jsonpCallbacks:Vs,$location:Aa,$log:ka,$parse:ol,$rootScope:cl,$q:al,$$q:sl,$sce:pl,$sceDelegate:hl,$sniffer:Ba,$$taskTrackerFactory:gl,$templateCache:Nn,$templateRequest:vl,$$testability:bl,$timeout:Qr,$window:za,$$rAF:ll,$$jqLite:hs,$$Map:Gr,$$cookieReader:El})}]).info({angularVersion:"1.8.3"})}zn.expando="ng339";var lr=zn.cache={},mr=1;zn._data=function(n){return this.cache[n[this.expando]]||{}};function Pr(){return++mr}var $r=/-([a-z])/g,Fr=/^-ms-/,vr={mouseleave:"mouseout",mouseenter:"mouseover"},br=I("jqLite");function Zn(n){return dr(n.replace(Fr,"ms-"))}function yr(n,y){return y.toUpperCase()}function dr(n){return n.replace($r,yr)}var fr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Qn=/<|&#?\w+;/,Ut=/<([\w:-]+)/,Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,It={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td;var un={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var bn in It){var Fn=It[bn],Pn=Fn.slice().reverse();un[bn]=[Pn.length,"<"+Pn.join("><")+">","</"+Fn.join("></")+">"]}un.optgroup=un.option;function rr(n){return!Qn.test(n)}function cr(n){var y=n.nodeType;return y===sr||!y||y===pn}function Cn(n){for(var y in lr[n.ng339])return!0;return!1}function Er(n,y){var P,H,X,ue,ie=y.createDocumentFragment(),re=[],ne;if(rr(n))re.push(y.createTextNode(n));else{if(P=ie.appendChild(y.createElement("div")),H=(Ut.exec(n)||["",""])[1].toLowerCase(),ue=zn.legacyXHTMLReplacement?n.replace(Te,"<$1></$2>"):n,M<10)for(X=un[H]||un._default,P.innerHTML=X[1]+ue+X[2],ne=X[0];ne--;)P=P.firstChild;else{for(X=It[H]||[],ne=X.length;--ne>-1;)P.appendChild(we.document.createElement(X[ne])),P=P.firstChild;P.innerHTML=ue}re=te(re,P.childNodes),P=ie.firstChild,P.textContent=""}return ie.textContent="",ie.innerHTML="",e(re,function(me){ie.appendChild(me)}),ie}function Jr(n,y){y=y||we.document;var P;return(P=fr.exec(n))?[y.createElement(P[1])]:(P=Er(n,y))?P.childNodes:[]}function _i(n,y){var P=n.parentNode;P&&P.replaceChild(y,n),y.appendChild(n)}var _o=we.Node.prototype.contains||function(n){return!!(this.compareDocumentPosition(n)&16)};function zn(n){if(n instanceof zn)return n;var y;if(ae(n)&&(n=$e(n),y=!0),!(this instanceof zn)){if(y&&n.charAt(0)!=="<")throw br("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new zn(n)}y?Si(this,Jr(n)):K(n)?aa(n):Si(this,n)}function So(n){return n.cloneNode(!0)}function Hi(n,y){!y&&cr(n)&&g.cleanData([n]),n.querySelectorAll&&g.cleanData(n.querySelectorAll("*"))}function ra(n){var y;for(y in n)return!1;return!0}function ia(n){var y=n.ng339,P=y&&lr[y],H=P&&P.events,X=P&&P.data;(!X||ra(X))&&(!H||ra(H))&&(delete lr[y],n.ng339=void 0)}function oa(n,y,P,H){if(L(H))throw br("offargs","jqLite#off() does not support the `selector` argument");var X=Ui(n),ue=X&&X.events,ie=X&&X.handle;if(ie){if(y){var re=function(ne){var me=ue[ne];L(P)&&Ge(me||[],P),L(P)&&me&&me.length>0||(n.removeEventListener(ne,ie),delete ue[ne])};e(y.split(" "),function(ne){re(ne),vr[ne]&&re(vr[ne])})}else for(y in ue)y!=="$destroy"&&n.removeEventListener(y,ie),delete ue[y];ia(n)}}function Eo(n,y){var P=n.ng339,H=P&&lr[P];H&&(y?delete H.data[y]:H.data={},ia(n))}function Ui(n,y){var P=n.ng339,H=P&&lr[P];return y&&!H&&(n.ng339=P=Pr(),H=lr[P]={events:{},data:{},handle:void 0}),H}function xo(n,y,P){if(cr(n)){var H,X=L(P),ue=!X&&y&&!Y(y),ie=!y,re=Ui(n,!ue),ne=re&&re.data;if(X)ne[dr(y)]=P;else{if(ie)return ne;if(ue)return ne&&ne[dr(y)];for(H in y)ne[dr(H)]=y[H]}}}function ji(n,y){return n.getAttribute?(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+y+" ")>-1:!1}function zi(n,y){if(y&&n.setAttribute){var P=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),H=P;e(y.split(" "),function(X){X=$e(X),H=H.replace(" "+X+" "," ")}),H!==P&&n.setAttribute("class",$e(H))}}function Vi(n,y){if(y&&n.setAttribute){var P=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),H=P;e(y.split(" "),function(X){X=$e(X),H.indexOf(" "+X+" ")===-1&&(H+=X+" ")}),H!==P&&n.setAttribute("class",$e(H))}}function Si(n,y){if(y)if(y.nodeType)n[n.length++]=y;else{var P=y.length;if(typeof P=="number"&&y.window!==y){if(P)for(var H=0;H<P;H++)n[n.length++]=y[H]}else n[n.length++]=y}}function Wi(n,y){return Gi(n,"$"+(y||"ngController")+"Controller")}function Gi(n,y,P){n.nodeType===pn&&(n=n.documentElement);for(var H=se(y)?y:[y];n;){for(var X=0,ue=H.length;X<ue;X++)if(L(P=g.data(n,H[X])))return P;n=n.parentNode||n.nodeType===gn&&n.host}}function Co(n){for(Hi(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function Ei(n,y){y||Hi(n);var P=n.parentNode;P&&P.removeChild(n)}function us(n,y){y=y||we,y.document.readyState==="complete"?y.setTimeout(n):g(y).on("load",n)}function aa(n){function y(){we.document.removeEventListener("DOMContentLoaded",y),we.removeEventListener("load",y),n()}we.document.readyState==="complete"?we.setTimeout(n):(we.document.addEventListener("DOMContentLoaded",y),we.addEventListener("load",y))}var ui=zn.prototype={ready:aa,toString:function(){var n=[];return e(this,function(y){n.push(""+y)}),"["+n.join(", ")+"]"},eq:function(n){return n>=0?g(this[n]):g(this[this.length+n])},length:0,push:pe,sort:[].sort,splice:[].splice},qi={};e("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(n){qi[x(n)]=n});var Ao={};e("input,select,option,textarea,button,form,details".split(","),function(n){Ao[n]=!0});var On={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function di(n,y){var P=qi[y.toLowerCase()];return P&&Ao[ct(n)]&&P}function xi(n){return On[n]}e({data:xo,removeData:Eo,hasData:Cn,cleanData:function(y){for(var P=0,H=y.length;P<H;P++)Eo(y[P]),oa(y[P])}},function(n,y){zn[y]=n}),e({data:xo,inheritedData:Gi,scope:function(n){return g.data(n,"$scope")||Gi(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return g.data(n,"$isolateScope")||g.data(n,"$isolateScopeNoTemplate")},controller:Wi,injector:function(n){return Gi(n,"$injector")},removeAttr:function(n,y){n.removeAttribute(y)},hasClass:ji,css:function(n,y,P){if(y=Zn(y),L(P))n.style[y]=P;else return n.style[y]},attr:function(n,y,P){var H,X=n.nodeType;if(!(X===nn||X===Vt||X===Cr||!n.getAttribute)){var ue=x(y),ie=qi[ue];if(L(P))P===null||P===!1&&ie?n.removeAttribute(y):n.setAttribute(y,ie?ue:P);else return H=n.getAttribute(y),ie&&H!==null&&(H=ue),H===null?void 0:H}},prop:function(n,y,P){if(L(P))n[y]=P;else return n[y]},text:(function(){return n.$dv="",n;function n(y,P){if(R(P)){var H=y.nodeType;return H===sr||H===nn?y.textContent:""}y.textContent=P}})(),val:function(n,y){if(R(y)){if(n.multiple&&ct(n)==="select"){var P=[];return e(n.options,function(H){H.selected&&P.push(H.value||H.text)}),P}return n.value}n.value=y},html:function(n,y){if(R(y))return n.innerHTML;Hi(n,!0),n.innerHTML=y},empty:Co},function(n,y){zn.prototype[y]=function(P,H){var X,ue,ie=this.length;if(n!==Co&&R(n.length===2&&n!==ji&&n!==Wi?P:H))if(Y(P)){for(X=0;X<ie;X++)if(n===xo)n(this[X],P);else for(ue in P)n(this[X],ue,P[ue]);return this}else{for(var re=n.$dv,ne=R(re)?Math.min(ie,1):ie,me=0;me<ne;me++){var be=n(this[me],P,H);re=re?re+be:be}return re}else{for(X=0;X<ie;X++)n(this[X],P,H);return this}}});function ds(n,y){var P=function(H,X){H.isDefaultPrevented=function(){return H.defaultPrevented};var ue=y[X||H.type],ie=ue?ue.length:0;if(ie){if(R(H.immediatePropagationStopped)){var re=H.stopImmediatePropagation;H.stopImmediatePropagation=function(){H.immediatePropagationStopped=!0,H.stopPropagation&&H.stopPropagation(),re&&re.call(H)}}H.isImmediatePropagationStopped=function(){return H.immediatePropagationStopped===!0};var ne=ue.specialHandlerWrapper||sa;ie>1&&(ue=ye(ue));for(var me=0;me<ie;me++)H.isImmediatePropagationStopped()||ne(n,H,ue[me])}};return P.elem=n,P}function sa(n,y,P){P.call(n,y)}function fs(n,y,P){var H=y.relatedTarget;(!H||H!==n&&!_o.call(n,H))&&P.call(n,y)}e({removeData:Eo,on:function(y,P,H,X){if(L(X))throw br("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(cr(y)){var ue=Ui(y,!0),ie=ue.events,re=ue.handle;re||(re=ue.handle=ds(y,ie));for(var ne=P.indexOf(" ")>=0?P.split(" "):[P],me=ne.length,be=function(Ee,Ae,Fe){var Oe=ie[Ee];Oe||(Oe=ie[Ee]=[],Oe.specialHandlerWrapper=Ae,Ee!=="$destroy"&&!Fe&&y.addEventListener(Ee,re)),Oe.push(H)};me--;)P=ne[me],vr[P]?(be(vr[P],fs),be(P,void 0,!0)):be(P)}},off:oa,one:function(n,y,P){n=g(n),n.on(y,function H(){n.off(y,P),n.off(y,H)}),n.on(y,P)},replaceWith:function(n,y){var P,H=n.parentNode;Hi(n),e(new zn(y),function(X){P?H.insertBefore(X,P.nextSibling):H.replaceChild(X,n),P=X})},children:function(n){var y=[];return e(n.childNodes,function(P){P.nodeType===sr&&y.push(P)}),y},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,y){var P=n.nodeType;if(!(P!==sr&&P!==gn)){y=new zn(y);for(var H=0,X=y.length;H<X;H++){var ue=y[H];n.appendChild(ue)}}},prepend:function(n,y){if(n.nodeType===sr){var P=n.firstChild;e(new zn(y),function(H){n.insertBefore(H,P)})}},wrap:function(n,y){_i(n,g(y).eq(0).clone()[0])},remove:Ei,detach:function(n){Ei(n,!0)},after:function(n,y){var P=n,H=n.parentNode;if(H){y=new zn(y);for(var X=0,ue=y.length;X<ue;X++){var ie=y[X];H.insertBefore(ie,P.nextSibling),P=ie}}},addClass:Vi,removeClass:zi,toggleClass:function(n,y,P){y&&e(y.split(" "),function(H){var X=P;R(X)&&(X=!ji(n,H)),(X?Vi:zi)(n,H)})},parent:function(n){var y=n.parentNode;return y&&y.nodeType!==gn?y:null},next:function(n){return n.nextElementSibling},find:function(n,y){return n.getElementsByTagName?n.getElementsByTagName(y):[]},clone:So,triggerHandler:function(n,y,P){var H,X,ue,ie=y.type||y,re=Ui(n),ne=re&&re.events,me=ne&&ne[ie];me&&(H={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:b,type:ie,target:n},y.type&&(H=t(H,y)),X=ye(me),ue=P?[H].concat(P):[H],e(X,function(be){H.isImmediatePropagationStopped()||be.apply(n,ue)}))}},function(n,y){zn.prototype[y]=function(P,H,X){for(var ue,ie=0,re=this.length;ie<re;ie++)R(ue)?(ue=n(this[ie],P,H,X),L(ue)&&(ue=g(ue))):Si(ue,n(this[ie],P,H,X));return L(ue)?ue:this}}),zn.prototype.bind=zn.prototype.on,zn.prototype.unbind=zn.prototype.off;function hs(){this.$get=function(){return t(zn,{hasClass:function(y,P){return y.attr&&(y=y[0]),ji(y,P)},addClass:function(y,P){return y.attr&&(y=y[0]),Vi(y,P)},removeClass:function(y,P){return y.attr&&(y=y[0]),zi(y,P)}})}}function Wr(n,y){var P=n&&n.$$hashKey;if(P)return typeof P=="function"&&(P=n.$$hashKey()),P;var H=typeof n;return H==="function"||H==="object"&&n!==null?P=n.$$hashKey=H+":"+(y||c)():P=H+":"+n,P}var Xr=Object.create(null);function Yi(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Yi.prototype={_idx:function(n){return n!==this._lastKey&&(this._lastKey=n,this._lastIndex=this._keys.indexOf(n)),this._lastIndex},_transformKey:function(n){return l(n)?Xr:n},get:function(n){n=this._transformKey(n);var y=this._idx(n);if(y!==-1)return this._values[y]},has:function(n){n=this._transformKey(n);var y=this._idx(n);return y!==-1},set:function(n,y){n=this._transformKey(n);var P=this._idx(n);P===-1&&(P=this._lastIndex=this._keys.length),this._keys[P]=n,this._values[P]=y},delete:function(n){n=this._transformKey(n);var y=this._idx(n);return y===-1?!1:(this._keys.splice(y,1),this._values.splice(y,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ki=Yi,Gr=[function(){this.$get=[function(){return Ki}]}],ps=/^([^(]+?)=>/,ko=/^[^(]*\(\s*([^)]*)\)/m,gs=/,/,ms=/^\s*(_?)(\S+?)\1\s*$/,vs=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Br=I("$injector");function Ji(n){return Function.prototype.toString.call(n)}function la(n){var y=Ji(n).replace(vs,""),P=y.match(ps)||y.match(ko);return P}function bs(n){var y=la(n);return y?"function("+(y[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ys(n,y,P){var H,X,ue;if(typeof n=="function"){if(!(H=n.$inject)){if(H=[],n.length){if(y)throw(!ae(P)||!P)&&(P=n.name||bs(n)),Br("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",P);X=la(n),e(X[1].split(gs),function(ie){ie.replace(ms,function(re,ne,me){H.push(me)})})}n.$inject=H}}else se(n)?(ue=n.length-1,Ir(n[ue],"fn"),H=n.slice(0,ue)):Ir(n,"fn",!0);return H}function fi(n,y){y=y===!0;var P={},H="Provider",X=[],ue=new Ki,ie={$provide:{provider:Ae(Fe),factory:Ae(at),service:Ae(vt),value:Ae(st),constant:Ae(ot),decorator:it}},re=ie.$injector=je(ie,function(Xe,Le){throw p.isString(Le)&&X.push(Le),Br("unpr","Unknown provider: {0}",X.join(" <- "))}),ne={},me=je(ne,function(Xe,Le){var Ie=re.get(Xe+H,Le);return be.invoke(Ie.$get,Ie,void 0,Xe)}),be=me;ie["$injector"+H]={$get:$(me)},be.modules=re.modules=Ht();var Ee=ut(n);return be=me.get("$injector"),be.strictDi=y,e(Ee,function(Xe){Xe&&be.invoke(Xe)}),be.loadNewModules=function(Xe){e(ut(Xe),function(Le){Le&&be.invoke(Le)})},be;function Ae(Xe){return function(Le,Ie){if(Y(Le))e(Le,i(Xe));else return Xe(Le,Ie)}}function Fe(Xe,Le){if(en(Xe,"service"),(K(Le)||se(Le))&&(Le=re.instantiate(Le)),!Le.$get)throw Br("pget","Provider '{0}' must define $get factory method.",Xe);return ie[Xe+H]=Le}function Oe(Xe,Le){return function(){var Ne=be.invoke(Le,this);if(R(Ne))throw Br("undef","Provider '{0}' must return a value from $get factory method.",Xe);return Ne}}function at(Xe,Le,Ie){return Fe(Xe,{$get:Ie!==!1?Oe(Xe,Le):Le})}function vt(Xe,Le){return at(Xe,["$injector",function(Ie){return Ie.instantiate(Le)}])}function st(Xe,Le){return at(Xe,$(Le),!1)}function ot(Xe,Le){en(Xe,"constant"),ie[Xe]=Le,ne[Xe]=Le}function it(Xe,Le){var Ie=re.get(Xe+H),Ne=Ie.$get;Ie.$get=function(){var Be=be.invoke(Ne,Ie);return be.invoke(Le,null,{$delegate:Be})}}function ut(Xe){an(R(Xe)||se(Xe),"modulesToLoad","not an array");var Le=[],Ie;return e(Xe,function(Ne){if(ue.get(Ne))return;ue.set(Ne,!0);function Be(tt){var dt,rt;for(dt=0,rt=tt.length;dt<rt;dt++){var gt=tt[dt],xt=re.get(gt[0]);xt[gt[1]].apply(xt,gt[2])}}try{ae(Ne)?(Ie=w(Ne),be.modules[Ne]=Ie,Le=Le.concat(ut(Ie.requires)).concat(Ie._runBlocks),Be(Ie._invokeQueue),Be(Ie._configBlocks)):K(Ne)||se(Ne)?Le.push(re.invoke(Ne)):Ir(Ne,"module")}catch(tt){throw se(Ne)&&(Ne=Ne[Ne.length-1]),tt.message&&tt.stack&&tt.stack.indexOf(tt.message)===-1&&(tt=tt.message+`
`+tt.stack),Br("modulerr",`Failed to instantiate module {0} due to:
{1}`,Ne,tt.stack||tt.message||tt)}}),Le}function je(Xe,Le){function Ie(rt,gt){if(Xe.hasOwnProperty(rt)){if(Xe[rt]===P)throw Br("cdep","Circular dependency found: {0}",rt+" <- "+X.join(" <- "));return Xe[rt]}else try{return X.unshift(rt),Xe[rt]=P,Xe[rt]=Le(rt,gt),Xe[rt]}catch(xt){throw Xe[rt]===P&&delete Xe[rt],xt}finally{X.shift()}}function Ne(rt,gt,xt){for(var Rt=[],_t=fi.$$annotate(rt,y,xt),Pt=0,Zt=_t.length;Pt<Zt;Pt++){var Gt=_t[Pt];if(typeof Gt!="string")throw Br("itkn","Incorrect injection token! Expected service name as string, got {0}",Gt);Rt.push(gt&&gt.hasOwnProperty(Gt)?gt[Gt]:Ie(Gt,xt))}return Rt}function Be(rt){if(M||typeof rt!="function")return!1;var gt=rt.$$ngIsClass;return le(gt)||(gt=rt.$$ngIsClass=/^class\b/.test(Ji(rt))),gt}function tt(rt,gt,xt,Rt){typeof xt=="string"&&(Rt=xt,xt=null);var _t=Ne(rt,xt,Rt);return se(rt)&&(rt=rt[rt.length-1]),Be(rt)?(_t.unshift(null),new(Function.prototype.bind.apply(rt,_t))):rt.apply(gt,_t)}function dt(rt,gt,xt){var Rt=se(rt)?rt[rt.length-1]:rt,_t=Ne(rt,gt,xt);return _t.unshift(null),new(Function.prototype.bind.apply(Rt,_t))}return{invoke:tt,instantiate:dt,get:Ie,annotate:fi.$$annotate,has:function(rt){return ie.hasOwnProperty(rt+H)||Xe.hasOwnProperty(rt)}}}}fi.$$annotate=ys;function ws(){var n=!0;this.disableAutoScrolling=function(){n=!1},this.$get=["$window","$location","$rootScope",function(y,P,H){var X=y.document;function ue(me){var be=null;return Array.prototype.some.call(me,function(Ee){if(ct(Ee)==="a")return be=Ee,!0}),be}function ie(){var me=ne.yOffset;if(K(me))me=me();else if(nt(me)){var be=me[0],Ee=y.getComputedStyle(be);Ee.position!=="fixed"?me=0:me=be.getBoundingClientRect().bottom}else fe(me)||(me=0);return me}function re(me){if(me){me.scrollIntoView();var be=ie();if(be){var Ee=me.getBoundingClientRect().top;y.scrollBy(0,Ee-be)}}else y.scrollTo(0,0)}function ne(me){me=ae(me)?me:fe(me)?me.toString():P.hash();var be;me?(be=X.getElementById(me))||(be=ue(X.getElementsByName(me)))?re(be):me==="top"&&re(null):re(null)}return n&&H.$watch(function(){return P.hash()},function(be,Ee){be===Ee&&be===""||us(function(){H.$evalAsync(ne)})}),ne}]}var ca=I("$animate"),_s=1,ua="ng-animate";function Ci(n,y){return!n&&!y?"":n?y?(se(n)&&(n=n.join(" ")),se(y)&&(y=y.join(" ")),n+" "+y):n:y}function da(n){for(var y=0;y<n.length;y++){var P=n[y];if(P.nodeType===_s)return P}}function Ss(n){ae(n)&&(n=n.split(" "));var y=Ht();return e(n,function(P){P.length&&(y[P]=!0)}),y}function Dr(n){return Y(n)?n:{}}var Es=function(){this.$get=b},Ro=function(){var n=new Ki,y=[];this.$get=["$$AnimateRunner","$rootScope",function(P,H){return{enabled:b,on:b,off:b,pin:b,push:function(re,ne,me,be){be&&be(),me=me||{},me.from&&re.css(me.from),me.to&&re.css(me.to),(me.addClass||me.removeClass)&&ie(re,me.addClass,me.removeClass);var Ee=new P;return Ee.complete(),Ee}};function X(re,ne,me){var be=!1;return ne&&(ne=ae(ne)?ne.split(" "):se(ne)?ne:[],e(ne,function(Ee){Ee&&(be=!0,re[Ee]=me)})),be}function ue(){e(y,function(re){var ne=n.get(re);if(ne){var me=Ss(re.attr("class")),be="",Ee="";e(ne,function(Ae,Fe){var Oe=!!me[Fe];Ae!==Oe&&(Ae?be+=(be.length?" ":"")+Fe:Ee+=(Ee.length?" ":"")+Fe)}),e(re,function(Ae){be&&Vi(Ae,be),Ee&&zi(Ae,Ee)}),n.delete(re)}}),y.length=0}function ie(re,ne,me){var be=n.get(re)||{},Ee=X(be,ne,!0),Ae=X(be,me,!1);(Ee||Ae)&&(n.set(re,be),y.push(re),y.length===1&&H.$$postDigest(ue))}}]},xs=["$provide",function(n){var y=this,P=null,H=null;this.$$registeredAnimations=Object.create(null),this.register=function(X,ue){if(X&&X.charAt(0)!==".")throw ca("notcsel","Expecting class selector starting with '.' got '{0}'.",X);var ie=X+"-animation";y.$$registeredAnimations[X.substr(1)]=ie,n.factory(ie,ue)},this.customFilter=function(X){return arguments.length===1&&(H=K(X)?X:null),H},this.classNameFilter=function(X){if(arguments.length===1&&(P=X instanceof RegExp?X:null,P)){var ue=new RegExp("[(\\s|\\/)]"+ua+"[(\\s|\\/)]");if(ue.test(P.toString()))throw P=null,ca("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ua)}return P},this.$get=["$$animateQueue",function(X){function ue(ie,re,ne){if(ne){var me=da(ne);me&&!me.parentNode&&!me.previousElementSibling&&(ne=null)}ne?ne.after(ie):re.prepend(ie)}return{on:X.on,off:X.off,pin:X.pin,enabled:X.enabled,cancel:function(ie){ie.cancel&&ie.cancel()},enter:function(ie,re,ne,me){return re=re&&g(re),ne=ne&&g(ne),re=re||ne.parent(),ue(ie,re,ne),X.push(ie,"enter",Dr(me))},move:function(ie,re,ne,me){return re=re&&g(re),ne=ne&&g(ne),re=re||ne.parent(),ue(ie,re,ne),X.push(ie,"move",Dr(me))},leave:function(ie,re){return X.push(ie,"leave",Dr(re),function(){ie.remove()})},addClass:function(ie,re,ne){return ne=Dr(ne),ne.addClass=Ci(ne.addclass,re),X.push(ie,"addClass",ne)},removeClass:function(ie,re,ne){return ne=Dr(ne),ne.removeClass=Ci(ne.removeClass,re),X.push(ie,"removeClass",ne)},setClass:function(ie,re,ne,me){return me=Dr(me),me.addClass=Ci(me.addClass,re),me.removeClass=Ci(me.removeClass,ne),X.push(ie,"setClass",me)},animate:function(ie,re,ne,me,be){return be=Dr(be),be.from=be.from?t(be.from,re):re,be.to=be.to?t(be.to,ne):ne,me=me||"ng-inline-animate",be.tempClasses=Ci(be.tempClasses,me),X.push(ie,"animate",be)}}}]}],To=function(){this.$get=["$$rAF",function(n){var y=[];function P(H){y.push(H),!(y.length>1)&&n(function(){for(var X=0;X<y.length;X++)y[X]();y=[]})}return function(){var H=!1;return P(function(){H=!0}),function(X){H?X():P(X)}}}]},Cs=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(n,y,P,H,X){var ue=0,ie=1,re=2;ne.chain=function(me,be){var Ee=0;Ae();function Ae(){if(Ee===me.length){be(!0);return}me[Ee](function(Fe){if(Fe===!1){be(!1);return}Ee++,Ae()})}},ne.all=function(me,be){var Ee=0,Ae=!0;e(me,function(Oe){Oe.done(Fe)});function Fe(Oe){Ae=Ae&&Oe,++Ee===me.length&&be(Ae)}};function ne(me){this.setHost(me);var be=P(),Ee=function(Ae){X(Ae,0,!1)};this._doneCallbacks=[],this._tick=function(Ae){H()?Ee(Ae):be(Ae)},this._state=0}return ne.prototype={setHost:function(me){this.host=me||{}},done:function(me){this._state===re?me():this._doneCallbacks.push(me)},progress:b,getPromise:function(){if(!this.promise){var me=this;this.promise=n(function(be,Ee){me.done(function(Ae){Ae===!1?Ee():be()})})}return this.promise},then:function(me,be){return this.getPromise().then(me,be)},catch:function(me){return this.getPromise().catch(me)},finally:function(me){return this.getPromise().finally(me)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(me){var be=this;be._state===ue&&(be._state=ie,be._tick(function(){be._resolve(me)}))},_resolve:function(me){this._state!==re&&(e(this._doneCallbacks,function(be){be(me)}),this._doneCallbacks.length=0,this._state=re)}},ne}]},As=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(n,y,P){return function(H,X){var ue=X||{};ue.$$prepared||(ue=Ze(ue)),ue.cleanupStyles&&(ue.from=ue.to=null),ue.from&&(H.css(ue.from),ue.from=null);var ie,re=new P;return{start:ne,end:ne};function ne(){return n(function(){me(),ie||re.complete(),ie=!0}),re}function me(){ue.addClass&&(H.addClass(ue.addClass),ue.addClass=null),ue.removeClass&&(H.removeClass(ue.removeClass),ue.removeClass=null),ue.to&&(H.css(ue.to),ue.to=null)}}}]};function ks(n){var y=n.indexOf("#");return y===-1?"":n.substr(y)}function Rs(n){return n.replace(/#$/,"")}function fa(n,y,P,H,X){var ue=this,ie=n.location,re=n.history,ne=n.setTimeout,me=n.clearTimeout,be={},Ee=X(P);ue.isMock=!1,ue.$$completeOutstandingRequest=Ee.completeTask,ue.$$incOutstandingRequestCount=Ee.incTaskCount,ue.notifyWhenNoOutstandingRequests=Ee.notifyWhenNoPendingTasks;var Ae,Fe,Oe=ie.href,at=y.find("base"),vt=null,st=H.history?function(){try{return re.state}catch{}}:b;Xe(),ue.url=function(Ie,Ne,Be){if(R(Be)&&(Be=null),ie!==n.location&&(ie=n.location),re!==n.history&&(re=n.history),Ie){var tt=Fe===Be;if(Ie=Et(Ie).href,Oe===Ie&&(!H.history||tt))return ue;var dt=Oe&&ii(Oe)===ii(Ie);return Oe=Ie,Fe=Be,H.history&&(!dt||!tt)?(re[Ne?"replaceState":"pushState"](Be,"",Ie),Xe()):(dt||(vt=Ie),Ne?ie.replace(Ie):dt?ie.hash=ks(Ie):ie.href=Ie,ie.href!==Ie&&(vt=Ie)),vt&&(vt=Ie),ue}else return Rs(vt||ie.href)},ue.state=function(){return Ae};var ot=[],it=!1;function ut(){vt=null,Le()}var je=null;function Xe(){Ae=st(),Ae=R(Ae)?null:Ae,Mt(Ae,je)&&(Ae=je),je=Ae,Fe=Ae}function Le(){var Ie=Fe;Xe(),!(Oe===ue.url()&&Ie===Ae)&&(Oe=ue.url(),Fe=Ae,e(ot,function(Ne){Ne(ue.url(),Ae)}))}ue.onUrlChange=function(Ie){return it||(H.history&&g(n).on("popstate",ut),g(n).on("hashchange",ut),it=!0),ot.push(Ie),Ie},ue.$$applicationDestroyed=function(){g(n).off("hashchange popstate",ut)},ue.$$checkUrlChange=Le,ue.baseHref=function(){var Ie=at.attr("href");return Ie?Ie.replace(/^(https?:)?\/\/[^/]*/,""):""},ue.defer=function(Ie,Ne,Be){var tt;return Ne=Ne||0,Be=Be||Ee.DEFAULT_TASK_TYPE,Ee.incTaskCount(Be),tt=ne(function(){delete be[tt],Ee.completeTask(Ie,Be)},Ne),be[tt]=Be,tt},ue.defer.cancel=function(Ie){if(be.hasOwnProperty(Ie)){var Ne=be[Ie];return delete be[Ie],me(Ie),Ee.completeTask(b,Ne),!0}return!1}}function Ts(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(n,y,P,H,X){return new fa(n,H,y,P,X)}]}function ha(){this.$get=function(){var n={};function y(P,H){if(P in n)throw I("$cacheFactory")("iid","CacheId '{0}' is already taken!",P);var X=0,ue=t({},H,{id:P}),ie=Ht(),re=H&&H.capacity||Number.MAX_VALUE,ne=Ht(),me=null,be=null;return n[P]={put:function(Fe,Oe){if(!R(Oe)){if(re<Number.MAX_VALUE){var at=ne[Fe]||(ne[Fe]={key:Fe});Ee(at)}return Fe in ie||X++,ie[Fe]=Oe,X>re&&this.remove(be.key),Oe}},get:function(Fe){if(re<Number.MAX_VALUE){var Oe=ne[Fe];if(!Oe)return;Ee(Oe)}return ie[Fe]},remove:function(Fe){if(re<Number.MAX_VALUE){var Oe=ne[Fe];if(!Oe)return;Oe===me&&(me=Oe.p),Oe===be&&(be=Oe.n),Ae(Oe.n,Oe.p),delete ne[Fe]}Fe in ie&&(delete ie[Fe],X--)},removeAll:function(){ie=Ht(),X=0,ne=Ht(),me=be=null},destroy:function(){ie=null,ue=null,ne=null,delete n[P]},info:function(){return t({},ue,{size:X})}};function Ee(Fe){Fe!==me&&(be?be===Fe&&(be=Fe.n):be=Fe,Ae(Fe.n,Fe.p),Ae(Fe,me),me=Fe,me.n=null)}function Ae(Fe,Oe){Fe!==Oe&&(Fe&&(Fe.p=Oe),Oe&&(Oe.n=Fe))}}return y.info=function(){var P={};return e(n,function(H,X){P[X]=H.info()}),P},y.get=function(P){return n[P]},y}}function Nn(){this.$get=["$cacheFactory",function(n){return n("templates")}]}var Gn=I("$compile");function Is(){}var Xi=new Is;pa.$inject=["$provide","$$sanitizeUriProvider"];function pa(n,y){var P={},H="Directive",X=/^\s*directive:\s*([\w-]+)\s+(.*)$/,ue=/(([\w-]+)(?::([^;]+))?;?)/,ie=bt("ngSrc,ngSrcset,src,srcset"),re=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ne=/^(on[a-z]+|formaction)$/,me=Ht();function be(je,Xe,Le){var Ie=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,Ne=Ht();return e(je,function(Be,tt){if(Be=Be.trim(),Be in me){Ne[tt]=me[Be];return}var dt=Be.match(Ie);if(!dt)throw Gn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",Xe,tt,Be,Le?"controller bindings definition":"isolate scope definition");Ne[tt]={mode:dt[1][0],collection:dt[2]==="*",optional:dt[3]==="?",attrName:dt[4]||tt},dt[4]&&(me[Be]=Ne[tt])}),Ne}function Ee(je,Xe){var Le={isolateScope:null,bindToController:null};if(Y(je.scope)&&(je.bindToController===!0?(Le.bindToController=be(je.scope,Xe,!0),Le.isolateScope={}):Le.isolateScope=be(je.scope,Xe,!1)),Y(je.bindToController)&&(Le.bindToController=be(je.bindToController,Xe,!0)),Le.bindToController&&!je.controller)throw Gn("noctrl","Cannot bind to controller without directive '{0}'s controller.",Xe);return Le}function Ae(je){var Xe=je.charAt(0);if(!Xe||Xe!==x(Xe))throw Gn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",je);if(je!==je.trim())throw Gn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",je)}function Fe(je){var Xe=je.require||je.controller&&je.name;return!se(Xe)&&Y(Xe)&&e(Xe,function(Le,Ie){var Ne=Le.match(re),Be=Le.substring(Ne[0].length);Be||(Xe[Ie]=Ne[0]+Ie)}),Xe}function Oe(je,Xe){if(je&&!(ae(je)&&/[EACM]/.test(je)))throw Gn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",je,Xe);return je||"EA"}this.directive=function je(Xe,Le){return an(Xe,"name"),en(Xe,"directive"),ae(Xe)?(Ae(Xe),an(Le,"directiveFactory"),P.hasOwnProperty(Xe)||(P[Xe]=[],n.factory(Xe+H,["$injector","$exceptionHandler",function(Ie,Ne){var Be=[];return e(P[Xe],function(tt,dt){try{var rt=Ie.invoke(tt);K(rt)?rt={compile:$(rt)}:!rt.compile&&rt.link&&(rt.compile=$(rt.link)),rt.priority=rt.priority||0,rt.index=dt,rt.name=rt.name||Xe,rt.require=Fe(rt),rt.restrict=Oe(rt.restrict,Xe),rt.$$moduleName=tt.$$moduleName,Be.push(rt)}catch(gt){Ne(gt)}}),Be}])),P[Xe].push(Le)):e(Xe,i(je)),this},this.component=function je(Xe,Le){if(!ae(Xe))return e(Xe,i(_e(this,je))),this;var Ie=Le.controller||function(){};function Ne(Be){function tt(gt){return K(gt)||se(gt)?function(xt,Rt){return Be.invoke(gt,this,{$element:xt,$attrs:Rt})}:gt}var dt=!Le.template&&!Le.templateUrl?"":Le.template,rt={controller:Ie,controllerAs:va(Le.controller)||Le.controllerAs||"$ctrl",template:tt(dt),templateUrl:tt(Le.templateUrl),transclude:Le.transclude,scope:{},bindToController:Le.bindings||{},restrict:"E",require:Le.require};return e(Le,function(gt,xt){xt.charAt(0)==="$"&&(rt[xt]=gt)}),rt}return e(Le,function(Be,tt){tt.charAt(0)==="$"&&(Ne[tt]=Be,K(Ie)&&(Ie[tt]=Be))}),Ne.$inject=["$injector"],this.directive(Xe,Ne)},this.aHrefSanitizationTrustedUrlList=function(je){return L(je)?(y.aHrefSanitizationTrustedUrlList(je),this):y.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(je){this.aHrefSanitizationTrustedUrlList=je}}),this.imgSrcSanitizationTrustedUrlList=function(je){return L(je)?(y.imgSrcSanitizationTrustedUrlList(je),this):y.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(je){this.imgSrcSanitizationTrustedUrlList=je}});var at=!0;this.debugInfoEnabled=function(je){return L(je)?(at=je,this):at};var vt=!1;this.strictComponentBindingsEnabled=function(je){return L(je)?(vt=je,this):vt};var st=10;this.onChangesTtl=function(je){return arguments.length?(st=je,this):st};var ot=!0;this.commentDirectivesEnabled=function(je){return arguments.length?(ot=je,this):ot};var it=!0;this.cssClassDirectivesEnabled=function(je){return arguments.length?(it=je,this):it};var ut=Ht();this.addPropertySecurityContext=function(je,Xe,Le){var Ie=je.toLowerCase()+"|"+Xe.toLowerCase();if(Ie in ut&&ut[Ie]!==Le)throw Gn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",je,Xe,ut[Ie],Le);return ut[Ie]=Le,this},(function(){function Xe(Le,Ie){e(Ie,function(Ne){ut[Ne.toLowerCase()]=Le})}Xe(Bn.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Xe(Bn.CSS,["*|style"]),Xe(Bn.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),Xe(Bn.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),Xe(Bn.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(je,Xe,Le,Ie,Ne,Be,tt,dt,rt){var gt=/^\w/,xt=we.document.createElement("div"),Rt=ot,_t=it,Pt=st,Zt;function Gt(){try{if(!--Pt)throw Zt=void 0,Gn("infchng",`{0} $onChanges() iterations reached. Aborting!
`,st);tt.$apply(function(){for(var We=0,Qe=Zt.length;We<Qe;++We)try{Zt[We]()}catch(lt){Le(lt)}Zt=void 0})}finally{Pt++}}function dn(We,Qe){if(!We)return We;if(!ae(We))throw Gn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',Qe,We.toString());for(var lt="",pt=$e(We),Ct=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,kt=/\s/.test(pt)?Ct:/(,)/,$t=pt.split(kt),sn=Math.floor($t.length/2),Ft=0;Ft<sn;Ft++){var Ot=Ft*2;lt+=dt.getTrustedMediaUrl($e($t[Ot])),lt+=" "+$e($t[Ot+1])}var Nt=$e($t[Ft*2]).split(/\s/);return lt+=dt.getTrustedMediaUrl($e(Nt[0])),Nt.length===2&&(lt+=" "+$e(Nt[1])),lt}function Sn(We,Qe){if(Qe){var lt=Object.keys(Qe),pt,Ct,kt;for(pt=0,Ct=lt.length;pt<Ct;pt++)kt=lt[pt],this[kt]=Qe[kt]}else this.$attr={};this.$$element=We}Sn.prototype={$normalize:Or,$addClass:function(We){We&&We.length>0&&rt.addClass(this.$$element,We)},$removeClass:function(We){We&&We.length>0&&rt.removeClass(this.$$element,We)},$updateClass:function(We,Qe){var lt=ki(We,Qe);lt&&lt.length&&rt.addClass(this.$$element,lt);var pt=ki(Qe,We);pt&&pt.length&&rt.removeClass(this.$$element,pt)},$set:function(We,Qe,lt,pt){var Ct=this.$$element[0],kt=di(Ct,We),$t=xi(We),sn=We,Ft;kt?(this.$$element.prop(We,Qe),pt=kt):$t&&(this[$t]=Qe,sn=$t),this[We]=Qe,pt?this.$attr[We]=pt:(pt=this.$attr[We],pt||(this.$attr[We]=pt=on(We,"-"))),Ft=ct(this.$$element),Ft==="img"&&We==="srcset"&&(this[We]=Qe=dn(Qe,"$set('srcset', value)")),lt!==!1&&(Qe===null||R(Qe)?this.$$element.removeAttr(pt):gt.test(pt)?kt&&Qe===!1?this.$$element.removeAttr(pt):this.$$element.attr(pt,Qe):kn(this.$$element[0],pt,Qe));var Ot=this.$$observers;Ot&&e(Ot[sn],function(Nt){try{Nt(Qe)}catch(zt){Le(zt)}})},$observe:function(We,Qe){var lt=this,pt=lt.$$observers||(lt.$$observers=Ht()),Ct=pt[We]||(pt[We]=[]);return Ct.push(Qe),tt.$evalAsync(function(){!Ct.$$inter&&lt.hasOwnProperty(We)&&!R(lt[We])&&Qe(lt[We])}),function(){Ge(Ct,Qe)}}};function kn(We,Qe,lt){xt.innerHTML="<span "+Qe+">";var pt=xt.firstChild.attributes,Ct=pt[0];pt.removeNamedItem(Ct.name),Ct.value=lt,We.attributes.setNamedItem(Ct)}function Dn(We,Qe){try{We.addClass(Qe)}catch{}}var qn=Xe.startSymbol(),Un=Xe.endSymbol(),pr=qn==="{{"&&Un==="}}"?C:function(Qe){return Qe.replace(/\{\{/g,qn).replace(/}}/g,Un)},nr=/^ng(Attr|Prop|On)([A-Z].*)$/,ur=/^(.+)Start$/;return Vn.$$addBindingInfo=at?function(Qe,lt){var pt=Qe.data("$binding")||[];se(lt)?pt=pt.concat(lt):pt.push(lt),Qe.data("$binding",pt)}:b,Vn.$$addBindingClass=at?function(Qe){Dn(Qe,"ng-binding")}:b,Vn.$$addScopeInfo=at?function(Qe,lt,pt,Ct){var kt=pt?Ct?"$isolateScopeNoTemplate":"$isolateScope":"$scope";Qe.data(kt,lt)}:b,Vn.$$addScopeClass=at?function(Qe,lt){Dn(Qe,lt?"ng-isolate-scope":"ng-scope")}:b,Vn.$$createComment=function(We,Qe){var lt="";return at&&(lt=" "+(We||"")+": ",Qe&&(lt+=Qe+" ")),we.document.createComment(lt)},Vn;function Vn(We,Qe,lt,pt,Ct){We instanceof g||(We=g(We));var kt=Fi(We,Qe,We,lt,pt,Ct);Vn.$$addScopeClass(We);var $t=null;return function(Ft,Ot,Nt){if(!We)throw Gn("multilink","This element has already been linked.");an(Ft,"scope"),Ct&&Ct.needsNewScope&&(Ft=Ft.$parent.$new()),Nt=Nt||{};var zt=Nt.parentBoundTranscludeFn,Tt=Nt.transcludeControllers,Qt=Nt.futureParentElement;zt&&zt.$$boundTransclude&&(zt=zt.$$boundTransclude),$t||($t=$i(Qt));var yn;if($t!=="html"?yn=g(Kl($t,g("<div></div>").append(We).html())):Ot?yn=ui.clone.call(We):yn=We,Tt)for(var Ln in Tt)yn.data("$"+Ln+"Controller",Tt[Ln].instance);return Vn.$$addScopeInfo(yn,Ft),Ot&&Ot(yn,Ft),kt&&kt(Ft,yn,yn,zt),Ot||(We=kt=null),yn}}function $i(We){var Qe=We&&We[0];return Qe&&ct(Qe)!=="foreignobject"&&m.call(Qe).match(/SVG/)?"svg":"html"}function Fi(We,Qe,lt,pt,Ct,kt){for(var $t=[],sn=se(We)||We instanceof g,Ft,Ot,Nt,zt,Tt,Qt,yn,Ln=0;Ln<We.length;Ln++)Ft=new Sn,M===11&&Gl(We,Ln,sn),Ot=bi(We[Ln],[],Ft,Ln===0?pt:void 0,Ct),Nt=Ot.length?Ic(Ot,We[Ln],Ft,Qe,lt,null,[],[],kt):null,Nt&&Nt.scope&&Vn.$$addScopeClass(Ft.$$element),Tt=Nt&&Nt.terminal||!(zt=We[Ln].childNodes)||!zt.length?null:Fi(zt,Nt?(Nt.transcludeOnThisElement||!Nt.templateOnThisElement)&&Nt.transclude:Qe),(Nt||Tt)&&($t.push(Ln,Nt,Tt),Qt=!0,yn=yn||Nt),kt=null;return Qt?In:null;function In(wn,_n,Bt,Tn){var Rn,Kn,Jn,Yn,Mn,gr,ir,xr,ei;if(yn){var mo=_n.length;for(ei=new Array(mo),Mn=0;Mn<$t.length;Mn+=3)ir=$t[Mn],ei[ir]=_n[ir]}else ei=_n;for(Mn=0,gr=$t.length;Mn<gr;)Jn=ei[$t[Mn++]],Rn=$t[Mn++],Kn=$t[Mn++],Rn?(Rn.scope?(Yn=wn.$new(),Vn.$$addScopeInfo(g(Jn),Yn)):Yn=wn,Rn.transcludeOnThisElement?xr=Yr(wn,Rn.transclude,Tn):!Rn.templateOnThisElement&&Tn?xr=Tn:!Tn&&Qe?xr=Yr(wn,Qe):xr=null,Rn(Kn,Yn,Jn,Bt,xr)):Kn&&Kn(wn,Jn.childNodes,void 0,Tn)}}function Gl(We,Qe,lt){var pt=We[Qe],Ct=pt.parentNode,kt;if(pt.nodeType===nn)for(;kt=Ct?pt.nextSibling:We[Qe+1],!(!kt||kt.nodeType!==nn);)pt.nodeValue=pt.nodeValue+kt.nodeValue,kt.parentNode&&kt.parentNode.removeChild(kt),lt&&kt===We[Qe+1]&&We.splice(Qe+1,1)}function Yr(We,Qe,lt){function pt($t,sn,Ft,Ot,Nt){return $t||($t=We.$new(!1,Nt),$t.$$transcluded=!0),Qe($t,sn,{parentBoundTranscludeFn:lt,transcludeControllers:Ft,futureParentElement:Ot})}var Ct=pt.$$slots=Ht();for(var kt in Qe.$$slots)Qe.$$slots[kt]?Ct[kt]=Yr(We,Qe.$$slots[kt],lt):Ct[kt]=null;return pt}function bi(We,Qe,lt,pt,Ct){var kt=We.nodeType,$t=lt.$attr,sn,Ft,Ot;switch(kt){case sr:Ft=ct(We),os(Qe,Or(Ft),"E",pt,Ct);for(var Nt,zt,Tt,Qt,yn,Ln=We.attributes,In=0,wn=Ln&&Ln.length;In<wn;In++){var _n=!1,Bt=!1,Tn=!1,Rn=!1,Kn=!1,Jn;Nt=Ln[In],zt=Nt.name,Qt=Nt.value,Tt=Or(zt.toLowerCase()),(yn=Tt.match(nr))?(Tn=yn[1]==="Attr",Rn=yn[1]==="Prop",Kn=yn[1]==="On",zt=zt.replace(ga,"").toLowerCase().substr(4+yn[1].length).replace(/_(.)/g,function(Yn,Mn){return Mn.toUpperCase()})):(Jn=Tt.match(ur))&&ed(Jn[1])&&(_n=zt,Bt=zt.substr(0,zt.length-5)+"end",zt=zt.substr(0,zt.length-6)),Rn||Kn?(lt[Tt]=Qt,$t[Tt]=Nt.name,Rn?sd(We,Qe,Tt,zt):ld(Qe,Tt,zt)):(Tt=Or(zt.toLowerCase()),$t[Tt]=zt,(Tn||!lt.hasOwnProperty(Tt))&&(lt[Tt]=Qt,di(We,Tt)&&(lt[Tt]=!0)),cd(We,Qe,Qt,Tt,Tn),os(Qe,Tt,"A",pt,Ct,_n,Bt))}if(Ft==="input"&&We.getAttribute("type")==="hidden"&&We.setAttribute("autocomplete","off"),!_t)break;if(Ot=We.className,Y(Ot)&&(Ot=Ot.animVal),ae(Ot)&&Ot!=="")for(;sn=ue.exec(Ot);)Tt=Or(sn[2]),os(Qe,Tt,"C",pt,Ct)&&(lt[Tt]=$e(sn[3])),Ot=Ot.substr(sn.index+sn[0].length);break;case nn:rd(Qe,We.nodeValue);break;case Cr:if(!Rt)break;ql(We,Qe,lt,pt,Ct);break}return Qe.sort(nd),Qe}function ql(We,Qe,lt,pt,Ct){try{var kt=X.exec(We.nodeValue);if(kt){var $t=Or(kt[1]);os(Qe,$t,"M",pt,Ct)&&(lt[$t]=$e(kt[2]))}}catch{}}function Xo(We,Qe,lt){var pt=[],Ct=0;if(Qe&&We.hasAttribute&&We.hasAttribute(Qe))do{if(!We)throw Gn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",Qe,lt);We.nodeType===sr&&(We.hasAttribute(Qe)&&Ct++,We.hasAttribute(lt)&&Ct--),pt.push(We),We=We.nextSibling}while(Ct>0);else pt.push(We);return g(pt)}function Tc(We,Qe,lt){return function(Ct,kt,$t,sn,Ft){return kt=Xo(kt[0],Qe,lt),We(Ct,kt,$t,sn,Ft)}}function Yl(We,Qe,lt,pt,Ct,kt){var $t;return We?Vn(Qe,lt,pt,Ct,kt):function(){return $t||($t=Vn(Qe,lt,pt,Ct,kt),Qe=lt=kt=null),$t.apply(this,arguments)}}function Ic(We,Qe,lt,pt,Ct,kt,$t,sn,Ft){Ft=Ft||{};for(var Ot=-Number.MAX_VALUE,Nt=Ft.newScopeDirective,zt=Ft.controllerDirectives,Tt=Ft.newIsolateScopeDirective,Qt=Ft.templateDirective,yn=Ft.nonTlbTranscludeDirective,Ln=!1,In=!1,wn=Ft.hasElementTranscludeDirective,_n=lt.$$element=g(Qe),Bt,Tn,Rn,Kn=kt,Jn=pt,Yn,Mn=!1,gr=!1,ir,xr=0,ei=We.length;xr<ei;xr++){Bt=We[xr];var mo=Bt.$$start,Jl=Bt.$$end;if(mo&&(_n=Xo(Qe,mo,Jl)),Rn=void 0,Ot>Bt.priority)break;if(ir=Bt.scope,ir&&(Bt.templateUrl||(Y(ir)?(go("new/isolated scope",Tt||Nt,Bt,_n),Tt=Bt):go("new/isolated scope",Tt,Bt,_n)),Nt=Nt||Bt),Tn=Bt.name,!Mn&&(Bt.replace&&(Bt.templateUrl||Bt.template)||Bt.transclude&&!Bt.$$tlb)){for(var vo,ud=xr+1;vo=We[ud++];)if(vo.transclude&&!vo.$$tlb||vo.replace&&(vo.templateUrl||vo.template)){gr=!0;break}Mn=!0}if(!Bt.templateUrl&&Bt.controller&&(zt=zt||Ht(),go("'"+Tn+"' controller",zt[Tn],Bt,_n),zt[Tn]=Bt),ir=Bt.transclude,ir)if(Ln=!0,Bt.$$tlb||(go("transclusion",yn,Bt,_n),yn=Bt),ir==="element")wn=!0,Ot=Bt.priority,Rn=_n,_n=lt.$$element=g(Vn.$$createComment(Tn,lt[Tn])),Qe=_n[0],as(Ct,de(Rn),Qe),Jn=Yl(gr,Rn,pt,Ot,Kn&&Kn.name,{nonTlbTranscludeDirective:yn});else{var ci=Ht();if(!Y(ir))Rn=g(So(Qe)).contents();else{Rn=we.document.createDocumentFragment();var Fc=Ht(),Xl=Ht();e(ir,function(jn,$n){var Kr=jn.charAt(0)==="?";jn=Kr?jn.substring(1):jn,Fc[jn]=$n,ci[$n]=null,Xl[$n]=Kr}),e(_n.contents(),function(jn){var $n=Fc[Or(ct(jn))];$n?(Xl[$n]=!0,ci[$n]=ci[$n]||we.document.createDocumentFragment(),ci[$n].appendChild(jn)):Rn.appendChild(jn)}),e(Xl,function(jn,$n){if(!jn)throw Gn("reqslot","Required transclusion slot `{0}` was not filled.",$n)});for(var Zl in ci)if(ci[Zl]){var dd=g(ci[Zl].childNodes);ci[Zl]=Yl(gr,dd,pt)}Rn=g(Rn.childNodes)}_n.empty(),Jn=Yl(gr,Rn,pt,void 0,void 0,{needsNewScope:Bt.$$isolateScope||Bt.$$newScope}),Jn.$$slots=ci}if(Bt.template)if(In=!0,go("template",Qt,Bt,_n),Qt=Bt,ir=K(Bt.template)?Bt.template(_n,lt):Bt.template,ir=pr(ir),Bt.replace){if(Kn=Bt,rr(ir)?Rn=[]:Rn=Ri(Kl(Bt.templateNamespace,$e(ir))),Qe=Rn[0],Rn.length!==1||Qe.nodeType!==sr)throw Gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",Tn,"");as(Ct,_n,Qe);var Oc={$attr:{}},Nc=bi(Qe,[],Oc),fd=We.splice(xr+1,We.length-(xr+1));(Tt||Nt)&&Pc(Nc,Tt,Nt),We=We.concat(Nc).concat(fd),Dc(lt,Oc),ei=We.length}else _n.html(ir);if(Bt.templateUrl)In=!0,go("template",Qt,Bt,_n),Qt=Bt,Bt.replace&&(Kn=Bt),Oi=td(We.splice(xr,We.length-xr),_n,lt,Ct,Ln&&Jn,$t,sn,{controllerDirectives:zt,newScopeDirective:Nt!==Bt&&Nt,newIsolateScopeDirective:Tt,templateDirective:Qt,nonTlbTranscludeDirective:yn}),ei=We.length;else if(Bt.compile)try{Yn=Bt.compile(_n,lt,Jn);var Ql=Bt.$$originalDirective||Bt;K(Yn)?Bc(null,_e(Ql,Yn),mo,Jl):Yn&&Bc(_e(Ql,Yn.pre),_e(Ql,Yn.post),mo,Jl)}catch(jn){Le(jn,wt(_n))}Bt.terminal&&(Oi.terminal=!0,Ot=Math.max(Ot,Bt.priority))}return Oi.scope=Nt&&Nt.scope===!0,Oi.transcludeOnThisElement=Ln,Oi.templateOnThisElement=In,Oi.transclude=Jn,Ft.hasElementTranscludeDirective=wn,Oi;function Bc(jn,$n,Kr,ec){jn&&(Kr&&(jn=Tc(jn,Kr,ec)),jn.require=Bt.require,jn.directiveName=Tn,(Tt===Bt||Bt.$$isolateScope)&&(jn=Lc(jn,{isolateScope:!0})),$t.push(jn)),$n&&(Kr&&($n=Tc($n,Kr,ec)),$n.require=Bt.require,$n.directiveName=Tn,(Tt===Bt||Bt.$$isolateScope)&&($n=Lc($n,{isolateScope:!0})),sn.push($n))}function Oi(jn,$n,Kr,ec,bo){var yi,Hc,Vr,ti,Qo,ni,yo,kr,Ni,tc;Qe===Kr?(Ni=lt,kr=lt.$$element):(kr=g(Kr),Ni=new Sn(kr,lt)),Qo=$n,Tt?ti=$n.$new(!0):Nt&&(Qo=$n.$parent),bo&&(yo=pd,yo.$$boundTransclude=bo,yo.isSlotFilled=function(Rr){return!!bo.$$slots[Rr]}),zt&&(ni=Qu(kr,Ni,yo,zt,ti,$n,Tt)),Tt&&(Vn.$$addScopeInfo(kr,ti,!0,!(Qt&&(Qt===Tt||Qt===Tt.$$originalDirective))),Vn.$$addScopeClass(kr,!0),ti.$$isolateBindings=Tt.$$isolateBindings,tc=$c($n,Ni,ti,ti.$$isolateBindings,Tt),tc.removeWatches&&ti.$on("$destroy",tc.removeWatches));for(var Uc in ni){var nc=zt[Uc],ea=ni[Uc],hd=nc.$$bindings.bindToController;ea.instance=ea(),kr.data("$"+nc.name+"Controller",ea.instance),ea.bindingInfo=$c(Qo,Ni,ea.instance,hd,nc)}for(e(zt,function(Rr,or){var Tr=Rr.require;Rr.bindToController&&!se(Tr)&&Y(Tr)&&t(ni[or].instance,Zo(or,Tr,kr,ni))}),e(ni,function(Rr){var or=Rr.instance;if(K(or.$onChanges))try{or.$onChanges(Rr.bindingInfo.initialChanges)}catch(Tr){Le(Tr)}if(K(or.$onInit))try{or.$onInit()}catch(Tr){Le(Tr)}K(or.$doCheck)&&(Qo.$watch(function(){or.$doCheck()}),or.$doCheck()),K(or.$onDestroy)&&Qo.$on("$destroy",function(){or.$onDestroy()})}),yi=0,Hc=$t.length;yi<Hc;yi++)Vr=$t[yi],Mc(Vr,Vr.isolateScope?ti:$n,kr,Ni,Vr.require&&Zo(Vr.directiveName,Vr.require,kr,ni),yo);var ls=$n;for(Tt&&(Tt.template||Tt.templateUrl===null)&&(ls=ti),jn&&jn(ls,Kr.childNodes,void 0,bo),yi=sn.length-1;yi>=0;yi--)Vr=sn[yi],Mc(Vr,Vr.isolateScope?ti:$n,kr,Ni,Vr.require&&Zo(Vr.directiveName,Vr.require,kr,ni),yo);e(ni,function(Rr){var or=Rr.instance;K(or.$postLink)&&or.$postLink()});function pd(Rr,or,Tr,cs){var rc;if(j(Rr)||(cs=Tr,Tr=or,or=Rr,Rr=void 0),wn&&(rc=ni),Tr||(Tr=wn?kr.parent():kr),cs){var ic=bo.$$slots[cs];if(ic)return ic(Rr,or,rc,Tr,ls);if(R(ic))throw Gn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',cs,wt(kr))}else return bo(Rr,or,rc,Tr,ls)}}}function Zo(We,Qe,lt,pt){var Ct;if(ae(Qe)){var kt=Qe.match(re),$t=Qe.substring(kt[0].length),sn=kt[1]||kt[3],Ft=kt[2]==="?";if(sn==="^^"?lt=lt.parent():(Ct=pt&&pt[$t],Ct=Ct&&Ct.instance),!Ct){var Ot="$"+$t+"Controller";sn==="^^"&&lt[0]&&lt[0].nodeType===pn?Ct=null:Ct=sn?lt.inheritedData(Ot):lt.data(Ot)}if(!Ct&&!Ft)throw Gn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",$t,We)}else if(se(Qe)){Ct=[];for(var Nt=0,zt=Qe.length;Nt<zt;Nt++)Ct[Nt]=Zo(We,Qe[Nt],lt,pt)}else Y(Qe)&&(Ct={},e(Qe,function(Tt,Qt){Ct[Qt]=Zo(We,Tt,lt,pt)}));return Ct||null}function Qu(We,Qe,lt,pt,Ct,kt,$t){var sn=Ht();for(var Ft in pt){var Ot=pt[Ft],Nt={$scope:Ot===$t||Ot.$$isolateScope?Ct:kt,$element:We,$attrs:Qe,$transclude:lt},zt=Ot.controller;zt==="@"&&(zt=Qe[Ot.name]);var Tt=Be(zt,Nt,!0,Ot.controllerAs);sn[Ot.name]=Tt,We.data("$"+Ot.name+"Controller",Tt.instance)}return sn}function Pc(We,Qe,lt){for(var pt=0,Ct=We.length;pt<Ct;pt++)We[pt]=f(We[pt],{$$isolateScope:Qe,$$newScope:lt})}function os(We,Qe,lt,pt,Ct,kt,$t){if(Qe===Ct)return null;var sn=null;if(P.hasOwnProperty(Qe)){for(var Ft,Ot=je.get(Qe+H),Nt=0,zt=Ot.length;Nt<zt;Nt++)if(Ft=Ot[Nt],(R(pt)||pt>Ft.priority)&&Ft.restrict.indexOf(lt)!==-1){if(kt&&(Ft=f(Ft,{$$start:kt,$$end:$t})),!Ft.$$bindings){var Tt=Ft.$$bindings=Ee(Ft,Ft.name);Y(Tt.isolateScope)&&(Ft.$$isolateBindings=Tt.isolateScope)}We.push(Ft),sn=Ft}}return sn}function ed(We){if(P.hasOwnProperty(We)){for(var Qe,lt=je.get(We+H),pt=0,Ct=lt.length;pt<Ct;pt++)if(Qe=lt[pt],Qe.multiElement)return!0}return!1}function Dc(We,Qe){var lt=Qe.$attr,pt=We.$attr;e(We,function(Ct,kt){kt.charAt(0)!=="$"&&(Qe[kt]&&Qe[kt]!==Ct&&(Ct.length?Ct+=(kt==="style"?";":" ")+Qe[kt]:Ct=Qe[kt]),We.$set(kt,Ct,!0,lt[kt]))}),e(Qe,function(Ct,kt){!We.hasOwnProperty(kt)&&kt.charAt(0)!=="$"&&(We[kt]=Ct,kt!=="class"&&kt!=="style"&&(pt[kt]=lt[kt]))})}function td(We,Qe,lt,pt,Ct,kt,$t,sn){var Ft=[],Ot,Nt,zt=Qe[0],Tt=We.shift(),Qt=f(Tt,{templateUrl:null,transclude:null,replace:null,$$originalDirective:Tt}),yn=K(Tt.templateUrl)?Tt.templateUrl(Qe,lt):Tt.templateUrl,Ln=Tt.templateNamespace;return Qe.empty(),Ie(yn).then(function(In){var wn,_n,Bt,Tn;if(In=pr(In),Tt.replace){if(rr(In)?Bt=[]:Bt=Ri(Kl(Ln,$e(In))),wn=Bt[0],Bt.length!==1||wn.nodeType!==sr)throw Gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",Tt.name,yn);_n={$attr:{}},as(pt,Qe,wn);var Rn=bi(wn,[],_n);Y(Tt.scope)&&Pc(Rn,!0),We=Rn.concat(We),Dc(lt,_n)}else wn=zt,Qe.html(In);for(We.unshift(Qt),Ot=Ic(We,wn,lt,Ct,Qe,Tt,kt,$t,sn),e(pt,function(xr,ei){xr===wn&&(pt[ei]=Qe[0])}),Nt=Fi(Qe[0].childNodes,Ct);Ft.length;){var Kn=Ft.shift(),Jn=Ft.shift(),Yn=Ft.shift(),Mn=Ft.shift(),gr=Qe[0];if(!Kn.$$destroyed){if(Jn!==zt){var ir=Jn.className;sn.hasElementTranscludeDirective&&Tt.replace||(gr=So(wn)),as(Yn,g(Jn),gr),Dn(g(gr),ir)}Ot.transcludeOnThisElement?Tn=Yr(Kn,Ot.transclude,Mn):Tn=Mn,Ot(Nt,Kn,gr,pt,Tn)}}Ft=null}).catch(function(In){B(In)&&Le(In)}),function(wn,_n,Bt,Tn,Rn){var Kn=Rn;_n.$$destroyed||(Ft?Ft.push(_n,Bt,Tn,Kn):(Ot.transcludeOnThisElement&&(Kn=Yr(_n,Ot.transclude,Rn)),Ot(Nt,_n,Bt,Tn,Kn)))}}function nd(We,Qe){var lt=Qe.priority-We.priority;return lt!==0?lt:We.name!==Qe.name?We.name<Qe.name?-1:1:We.index-Qe.index}function go(We,Qe,lt,pt){function Ct(kt){return kt?" (module: "+kt+")":""}if(Qe)throw Gn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",Qe.name,Ct(Qe.$$moduleName),lt.name,Ct(lt.$$moduleName),We,wt(pt))}function rd(We,Qe){var lt=Xe(Qe,!0);lt&&We.push({priority:0,compile:function(Ct){var kt=Ct.parent(),$t=!!kt.length;return $t&&Vn.$$addBindingClass(kt),function(Ft,Ot){var Nt=Ot.parent();$t||Vn.$$addBindingClass(Nt),Vn.$$addBindingInfo(Nt,lt.expressions),Ft.$watch(lt,function(Tt){Ot[0].nodeValue=Tt})}}})}function Kl(We,Qe){switch(We=x(We||"html"),We){case"svg":case"math":var lt=we.document.createElement("div");return lt.innerHTML="<"+We+">"+Qe+"</"+We+">",lt.childNodes[0].childNodes;default:return Qe}}function id(We,Qe){if(Qe==="srcdoc")return dt.HTML;if(Qe==="src"||Qe==="ngSrc")return["img","video","audio","source","track"].indexOf(We)===-1?dt.RESOURCE_URL:dt.MEDIA_URL;if(Qe==="xlinkHref")return We==="image"?dt.MEDIA_URL:We==="a"?dt.URL:dt.RESOURCE_URL;if(We==="form"&&Qe==="action"||We==="base"&&Qe==="href"||We==="link"&&Qe==="href")return dt.RESOURCE_URL;if(We==="a"&&(Qe==="href"||Qe==="ngHref"))return dt.URL}function od(We,Qe){var lt=Qe.toLowerCase();return ut[We+"|"+lt]||ut["*|"+lt]}function ad(We){return dn(dt.valueOf(We),"ng-prop-srcset")}function sd(We,Qe,lt,pt){if(ne.test(pt))throw Gn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var Ct=ct(We),kt=od(Ct,pt),$t=C;pt==="srcset"&&(Ct==="img"||Ct==="source")?$t=ad:kt&&($t=dt.getTrusted.bind(dt,kt)),Qe.push({priority:100,compile:function(Ft,Ot){var Nt=Ne(Ot[lt]),zt=Ne(Ot[lt],function(Qt){return dt.valueOf(Qt)});return{pre:function(Qt,yn){function Ln(){var In=Nt(Qt);yn[0][pt]=$t(In)}Ln(),Qt.$watch(zt,Ln)}}}})}function ld(We,Qe,lt){We.push(gc(Ne,tt,Le,Qe,lt,!1))}function cd(We,Qe,lt,pt,Ct){var kt=ct(We),$t=id(kt,pt),sn=!Ct,Ft=ie[pt]||Ct,Ot=Xe(lt,sn,$t,Ft);if(Ot){if(pt==="multiple"&&kt==="select")throw Gn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",wt(We));if(ne.test(pt))throw Gn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");Qe.push({priority:100,compile:function(){return{pre:function(zt,Tt,Qt){var yn=Qt.$$observers||(Qt.$$observers=Ht()),Ln=Qt[pt];Ln!==lt&&(Ot=Ln&&Xe(Ln,!0,$t,Ft),lt=Ln),Ot&&(Qt[pt]=Ot(zt),(yn[pt]||(yn[pt]=[])).$$inter=!0,(Qt.$$observers&&Qt.$$observers[pt].$$scope||zt).$watch(Ot,function(wn,_n){pt==="class"&&wn!==_n?Qt.$updateClass(wn,_n):Qt.$set(pt,wn)}))}}}})}}function as(We,Qe,lt){var pt=Qe[0],Ct=Qe.length,kt=pt.parentNode,$t,sn;if(We){for($t=0,sn=We.length;$t<sn;$t++)if(We[$t]===pt){We[$t++]=lt;for(var Ft=$t,Ot=Ft+Ct-1,Nt=We.length;Ft<Nt;Ft++,Ot++)Ot<Nt?We[Ft]=We[Ot]:delete We[Ft];We.length-=Ct-1,We.context===pt&&(We.context=lt);break}}kt&&kt.replaceChild(lt,pt);var zt=we.document.createDocumentFragment();for($t=0;$t<Ct;$t++)zt.appendChild(Qe[$t]);for(g.hasData(pt)&&(g.data(lt,g.data(pt)),g(pt).off("$destroy")),g.cleanData(zt.querySelectorAll("*")),$t=1;$t<Ct;$t++)delete Qe[$t];Qe[0]=lt,Qe.length=1}function Lc(We,Qe){return t(function(){return We.apply(null,arguments)},We,Qe)}function Mc(We,Qe,lt,pt,Ct,kt){try{We(Qe,lt,pt,Ct,kt)}catch($t){Le($t,wt(lt))}}function ss(We,Qe){if(vt)throw Gn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",We,Qe)}function $c(We,Qe,lt,pt,Ct){var kt=[],$t={},sn;e(pt,function(zt,Tt){var Qt=zt.attrName,yn=zt.optional,Ln=zt.mode,In,wn,_n,Bt,Tn;switch(Ln){case"@":!yn&&!_.call(Qe,Qt)&&(ss(Qt,Ct.name),lt[Tt]=Qe[Qt]=void 0),Tn=Qe.$observe(Qt,function(Yn){if(ae(Yn)||le(Yn)){var Mn=lt[Tt];Ft(Tt,Yn,Mn),lt[Tt]=Yn}}),Qe.$$observers[Qt].$$scope=We,In=Qe[Qt],ae(In)?lt[Tt]=Xe(In)(We):le(In)&&(lt[Tt]=In),$t[Tt]=new Zi(Xi,lt[Tt]),kt.push(Tn);break;case"=":if(!_.call(Qe,Qt)){if(yn)break;ss(Qt,Ct.name),Qe[Qt]=void 0}if(yn&&!Qe[Qt])break;wn=Ne(Qe[Qt]),wn.literal?Bt=Mt:Bt=ft,_n=wn.assign||function(){throw In=lt[Tt]=wn(We),Gn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",Qe[Qt],Qt,Ct.name)},In=lt[Tt]=wn(We);var Rn=function(Mn){return Bt(Mn,lt[Tt])||(Bt(Mn,In)?_n(We,Mn=lt[Tt]):lt[Tt]=Mn),In=Mn,In};Rn.$stateful=!0,zt.collection?Tn=We.$watchCollection(Qe[Qt],Rn):Tn=We.$watch(Ne(Qe[Qt],Rn),null,wn.literal),kt.push(Tn);break;case"<":if(!_.call(Qe,Qt)){if(yn)break;ss(Qt,Ct.name),Qe[Qt]=void 0}if(yn&&!Qe[Qt])break;wn=Ne(Qe[Qt]);var Kn=wn.literal,Jn=lt[Tt]=wn(We);$t[Tt]=new Zi(Xi,lt[Tt]),Tn=We[zt.collection?"$watchCollection":"$watch"](wn,function(Mn,gr){if(gr===Mn){if(gr===Jn||Kn&&Mt(gr,Jn))return;gr=Jn}Ft(Tt,Mn,gr),lt[Tt]=Mn}),kt.push(Tn);break;case"&":if(!yn&&!_.call(Qe,Qt)&&ss(Qt,Ct.name),wn=Qe.hasOwnProperty(Qt)?Ne(Qe[Qt]):b,wn===b&&yn)break;lt[Tt]=function(Yn){return wn(We,Yn)};break}});function Ft(Nt,zt,Tt){K(lt.$onChanges)&&!ft(zt,Tt)&&(Zt||(We.$$postDigest(Gt),Zt=[]),sn||(sn={},Zt.push(Ot)),sn[Nt]&&(Tt=sn[Nt].previousValue),sn[Nt]=new Zi(Tt,zt))}function Ot(){lt.$onChanges(sn),sn=void 0}return{initialChanges:$t,removeWatches:kt.length&&function(){for(var zt=0,Tt=kt.length;zt<Tt;++zt)kt[zt]()}}}}]}function Zi(n,y){this.previousValue=n,this.currentValue=y}Zi.prototype.isFirstChange=function(){return this.previousValue===Xi};var ga=/^((?:x|data)[:\-_])/i,Ai=/[:\-_]+(.)/g;function Or(n){return n.replace(ga,"").replace(Ai,function(y,P,H){return H?P.toUpperCase():P})}function lc(n,y,P,H){}function cc(n,y,P,H,X){}function ki(n,y){var P="",H=n.split(/\s+/),X=y.split(/\s+/);e:for(var ue=0;ue<H.length;ue++){for(var ie=H[ue],re=0;re<X.length;re++)if(ie===X[re])continue e;P+=(P.length>0?" ":"")+ie}return P}function Ri(n){n=g(n);var y=n.length;if(y<=1)return n;for(;y--;){var P=n[y];(P.nodeType===Cr||P.nodeType===nn&&P.nodeValue.trim()==="")&&J.call(n,y,1)}return n}var Qi=I("$controller"),ma=/^(\S+)(\s+as\s+([\w$]+))?$/;function va(n,y){if(y&&ae(y))return y;if(ae(n)){var P=ma.exec(n);if(P)return P[3]}}function Ps(){var n={};this.has=function(y){return n.hasOwnProperty(y)},this.register=function(y,P){en(y,"controller"),Y(y)?t(n,y):n[y]=P},this.$get=["$injector",function(y){return function(X,ue,ie,re){var ne,me,be,Ee;if(ie=ie===!0,re&&ae(re)&&(Ee=re),ae(X)){if(me=X.match(ma),!me)throw Qi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",X);if(be=me[1],Ee=Ee||me[3],X=n.hasOwnProperty(be)?n[be]:cn(ue.$scope,be,!0),!X)throw Qi("ctrlreg","The controller with the name '{0}' is not registered.",be);Ir(X,be,!0)}if(ie){var Ae=(se(X)?X[X.length-1]:X).prototype;return ne=Object.create(Ae||null),Ee&&P(ue,Ee,ne,be||X.name),t(function(){var Oe=y.invoke(X,ne,ue,be);return Oe!==ne&&(Y(Oe)||K(Oe))&&(ne=Oe,Ee&&P(ue,Ee,ne,be||X.name)),ne},{instance:ne,identifier:Ee})}return ne=y.instantiate(X,ue,be),Ee&&P(ue,Ee,ne,be||X.name),ne};function P(H,X,ue,ie){if(!(H&&Y(H.$scope)))throw I("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",ie,X);H.$scope[X]=ue}}]}function Io(){this.$get=["$window",function(n){return g(n.document)}]}function Po(){this.$get=["$document","$rootScope",function(n,y){var P=n[0],H=P&&P.hidden;n.on("visibilitychange",X),y.$on("$destroy",function(){n.off("visibilitychange",X)});function X(){H=P.hidden}return function(){return H}}]}function Do(){this.$get=["$log",function(n){return function(y,P){n.error.apply(n,arguments)}}]}var Ds=function(){this.$get=["$document",function(n){return function(y){return y?!y.nodeType&&y instanceof g&&(y=y[0]):y=n[0].body,y.offsetWidth+1}}]},ba="application/json",Lo={"Content-Type":ba+";charset=utf-8"},Ls=/^\[|^\{(?!\{)/,Ms={"[":/]$/,"{":/}$/},$s=/^\)]\}',?\n/,eo=I("$http");function Mo(n){return Y(n)?xe(n)?n.toISOString():ze(n):n}function Fs(){this.$get=function(){return function(y){if(!y)return"";var P=[];return o(y,function(H,X){H===null||R(H)||K(H)||(se(H)?e(H,function(ue){P.push(Yt(X)+"="+Yt(Mo(ue)))}):P.push(Yt(X)+"="+Yt(Mo(H))))}),P.join("&")}}}function Os(){this.$get=function(){return function(y){if(!y)return"";var P=[];return H(y,"",!0),P.join("&");function H(X,ue,ie){se(X)?e(X,function(re,ne){H(re,ue+"["+(Y(re)?ne:"")+"]")}):Y(X)&&!xe(X)?o(X,function(re,ne){H(re,ue+(ie?"":"[")+ne+(ie?"":"]"))}):(K(X)&&(X=X()),P.push(Yt(ue)+"="+(X==null?"":Yt(Mo(X)))))}}}}function to(n,y){if(ae(n)){var P=n.replace($s,"").trim();if(P){var H=y("Content-Type"),X=H&&H.indexOf(ba)===0;if(X||Ns(P))try{n=Ue(P)}catch(ue){if(!X)return n;throw eo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',n,ue)}}}return n}function Ns(n){var y=n.match(Ls);return y&&Ms[y[0]].test(n)}function ya(n){var y=Ht(),P;function H(X,ue){X&&(y[X]=y[X]?y[X]+", "+ue:ue)}return ae(n)?e(n.split(`
`),function(X){P=X.indexOf(":"),H(x($e(X.substr(0,P))),$e(X.substr(P+1)))}):Y(n)&&e(n,function(X,ue){H(x(ue),$e(X))}),y}function Lr(n){var y;return function(P){if(y||(y=ya(n)),P){var H=y[x(P)];return H===void 0&&(H=null),H}return y}}function Zr(n,y,P,H){return K(H)?H(n,y,P):(e(H,function(X){n=X(n,y,P)}),n)}function no(n){return 200<=n&&n<300}function Bs(){var n=this.defaults={transformResponse:[to],transformRequest:[function(X){return Y(X)&&!Z(X)&&!q(X)&&!oe(X)?ze(X):X}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ye(Lo),put:ye(Lo),patch:ye(Lo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},y=!1;this.useApplyAsync=function(X){return L(X)?(y=!!X,this):y};var P=this.interceptors=[],H=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(X){this.xsrfTrustedOrigins=X}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(X,ue,ie,re,ne,me,be,Ee){var Ae=re("$http");n.paramSerializer=ae(n.paramSerializer)?be.get(n.paramSerializer):n.paramSerializer;var Fe=[];e(P,function(je){Fe.unshift(ae(je)?be.get(je):be.invoke(je))});var Oe=ja(H);function at(je){if(!Y(je))throw I("$http")("badreq","Http request configuration must be an object.  Received: {0}",je);if(!ae(Ee.valueOf(je.url)))throw I("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",je.url);var Xe=t({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse,paramSerializer:n.paramSerializer,jsonpCallbackParam:n.jsonpCallbackParam},je);Xe.headers=rt(je),Xe.method=d(Xe.method),Xe.paramSerializer=ae(Xe.paramSerializer)?be.get(Xe.paramSerializer):Xe.paramSerializer,X.$$incOutstandingRequestCount("$http");var Le=[],Ie=[],Ne=me.resolve(Xe);return e(Fe,function(Rt){(Rt.request||Rt.requestError)&&Le.unshift(Rt.request,Rt.requestError),(Rt.response||Rt.responseError)&&Ie.push(Rt.response,Rt.responseError)}),Ne=Be(Ne,Le),Ne=Ne.then(gt),Ne=Be(Ne,Ie),Ne=Ne.finally(tt),Ne;function Be(Rt,_t){for(var Pt=0,Zt=_t.length;Pt<Zt;){var Gt=_t[Pt++],dn=_t[Pt++];Rt=Rt.then(Gt,dn)}return _t.length=0,Rt}function tt(){X.$$completeOutstandingRequest(b,"$http")}function dt(Rt,_t){var Pt,Zt={};return e(Rt,function(Gt,dn){K(Gt)?(Pt=Gt(_t),Pt!=null&&(Zt[dn]=Pt)):Zt[dn]=Gt}),Zt}function rt(Rt){var _t=n.headers,Pt=t({},Rt.headers),Zt,Gt,dn;_t=t({},_t.common,_t[x(Rt.method)]);e:for(Zt in _t){Gt=x(Zt);for(dn in Pt)if(x(dn)===Gt)continue e;Pt[Zt]=_t[Zt]}return dt(Pt,ye(Rt))}function gt(Rt){var _t=Rt.headers,Pt=Zr(Rt.data,Lr(_t),void 0,Rt.transformRequest);return R(Pt)&&e(_t,function(Zt,Gt){x(Gt)==="content-type"&&delete _t[Gt]}),R(Rt.withCredentials)&&!R(n.withCredentials)&&(Rt.withCredentials=n.withCredentials),ot(Rt,Pt).then(xt,xt)}function xt(Rt){var _t=t({},Rt);return _t.data=Zr(Rt.data,Rt.headers,Rt.status,Xe.transformResponse),no(Rt.status)?_t:me.reject(_t)}}return at.pendingRequests=[],vt("get","delete","head","jsonp"),st("post","put","patch"),at.defaults=n,at;function vt(je){e(arguments,function(Xe){at[Xe]=function(Le,Ie){return at(t({},Ie||{},{method:Xe,url:Le}))}})}function st(je){e(arguments,function(Xe){at[Xe]=function(Le,Ie,Ne){return at(t({},Ne||{},{method:Xe,url:Le,data:Ie}))}})}function ot(je,Xe){var Le=me.defer(),Ie=Le.promise,Ne,Be,tt=je.headers,dt=x(je.method)==="jsonp",rt=je.url;if(dt?rt=Ee.getTrustedResourceUrl(rt):ae(rt)||(rt=Ee.valueOf(rt)),rt=it(rt,je.paramSerializer(je.params)),dt&&(rt=ut(rt,je.jsonpCallbackParam)),at.pendingRequests.push(je),Ie.then(Zt,Zt),(je.cache||n.cache)&&je.cache!==!1&&(je.method==="GET"||je.method==="JSONP")&&(Ne=Y(je.cache)?je.cache:Y(n.cache)?n.cache:Ae),Ne&&(Be=Ne.get(rt),L(Be)?ge(Be)?Be.then(Pt,Pt):se(Be)?_t(Be[1],Be[0],ye(Be[2]),Be[3],Be[4]):_t(Be,200,{},"OK","complete"):Ne.put(rt,Ie)),R(Be)){var gt=Oe(je.url)?ie()[je.xsrfCookieName||n.xsrfCookieName]:void 0;gt&&(tt[je.xsrfHeaderName||n.xsrfHeaderName]=gt),ue(je.method,rt,Xe,Rt,tt,je.timeout,je.withCredentials,je.responseType,xt(je.eventHandlers),xt(je.uploadEventHandlers))}return Ie;function xt(Gt){if(Gt){var dn={};return e(Gt,function(Sn,kn){dn[kn]=function(Dn){y?ne.$applyAsync(qn):ne.$$phase?qn():ne.$apply(qn);function qn(){Sn(Dn)}}}),dn}}function Rt(Gt,dn,Sn,kn,Dn){Ne&&(no(Gt)?Ne.put(rt,[Gt,dn,ya(Sn),kn,Dn]):Ne.remove(rt));function qn(){_t(dn,Gt,Sn,kn,Dn)}y?ne.$applyAsync(qn):(qn(),ne.$$phase||ne.$apply())}function _t(Gt,dn,Sn,kn,Dn){dn=dn>=-1?dn:0,(no(dn)?Le.resolve:Le.reject)({data:Gt,status:dn,headers:Lr(Sn),config:je,statusText:kn,xhrStatus:Dn})}function Pt(Gt){_t(Gt.data,Gt.status,ye(Gt.headers()),Gt.statusText,Gt.xhrStatus)}function Zt(){var Gt=at.pendingRequests.indexOf(je);Gt!==-1&&at.pendingRequests.splice(Gt,1)}}function it(je,Xe){return Xe.length>0&&(je+=(je.indexOf("?")===-1?"?":"&")+Xe),je}function ut(je,Xe){var Le=je.split("?");if(Le.length>2)throw eo("badjsonp",'Illegal use more than one "?", in url, "{1}"',je);var Ie=vn(Le[1]);return e(Ie,function(Ne,Be){if(Ne==="JSON_CALLBACK")throw eo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',je);if(Be===Xe)throw eo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',Xe,je)}),je+=(je.indexOf("?")===-1?"?":"&")+Xe+"=JSON_CALLBACK",je}}]}function wa(){this.$get=function(){return function(){return new we.XMLHttpRequest}}}function _a(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(n,y,P,H){return Hs(n,H,n.defer,y,P[0])}]}function Hs(n,y,P,H,X){return function(ie,re,ne,me,be,Ee,Ae,Fe,Oe,at){if(re=re||n.url(),x(ie)==="jsonp")var vt=H.createCallback(re),st=ue(re,vt,function(Be,tt){var dt=Be===200&&H.getResponse(vt);Ne(me,Be,dt,"",tt,"complete"),H.removeCallback(vt)});else{var ot=y(ie,re),it=!1;ot.open(ie,re,!0),e(be,function(Be,tt){L(Be)&&ot.setRequestHeader(tt,Be)}),ot.onload=function(){var tt=ot.statusText||"",dt="response"in ot?ot.response:ot.responseText,rt=ot.status===1223?204:ot.status;rt===0&&(rt=dt?200:Et(re).protocol==="file"?404:0),Ne(me,rt,dt,ot.getAllResponseHeaders(),tt,"complete")};var ut=function(){Ne(me,-1,null,null,"","error")},je=function(){Ne(me,-1,null,null,"",it?"timeout":"abort")},Xe=function(){Ne(me,-1,null,null,"","timeout")};if(ot.onerror=ut,ot.ontimeout=Xe,ot.onabort=je,e(Oe,function(Be,tt){ot.addEventListener(tt,Be)}),e(at,function(Be,tt){ot.upload.addEventListener(tt,Be)}),Ae&&(ot.withCredentials=!0),Fe)try{ot.responseType=Fe}catch(Be){if(Fe!=="json")throw Be}ot.send(R(ne)?null:ne)}if(Ee>0)var Le=P(function(){Ie("timeout")},Ee);else ge(Ee)&&Ee.then(function(){Ie(L(Ee.$$timeoutId)?"timeout":"abort")});function Ie(Be){it=Be==="timeout",st&&st(),ot&&ot.abort()}function Ne(Be,tt,dt,rt,gt,xt){L(Le)&&P.cancel(Le),st=ot=null,Be(tt,dt,rt,gt,xt)}};function ue(ie,re,ne){ie=ie.replace("JSON_CALLBACK",re);var me=X.createElement("script"),be=null;return me.type="text/javascript",me.src=ie,me.async=!0,be=function(Ee){me.removeEventListener("load",be),me.removeEventListener("error",be),X.body.removeChild(me),me=null;var Ae=-1,Fe="unknown";Ee&&(Ee.type==="load"&&!H.wasCalled(re)&&(Ee={type:"error"}),Fe=Ee.type,Ae=Ee.type==="error"?404:200),ne&&ne(Ae,Fe)},me.addEventListener("load",be),me.addEventListener("error",be),X.body.appendChild(me),be}}var ri=p.$interpolateMinErr=I("$interpolate");ri.throwNoconcat=function(n){throw ri("noconcat",`Error while interpolating: {0}
Strict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce`,n)},ri.interr=function(n,y){return ri("interr",`Can't interpolate: {0}
{1}`,n,y.toString())};function Sa(){var n="{{",y="}}";this.startSymbol=function(P){return P?(n=P,this):n},this.endSymbol=function(P){return P?(y=P,this):y},this.$get=["$parse","$exceptionHandler","$sce",function(P,H,X){var ue=n.length,ie=y.length,re=new RegExp(n.replace(/./g,me),"g"),ne=new RegExp(y.replace(/./g,me),"g");function me(Fe){return"\\\\\\"+Fe}function be(Fe){return Fe.replace(re,n).replace(ne,y)}function Ee(Fe,Oe,at,vt){var st=Fe.$watch(function(it){return st(),vt(it)},Oe,at);return st}function Ae(Fe,Oe,at,vt){var st=at===X.URL||at===X.MEDIA_URL;if(!Fe.length||Fe.indexOf(n)===-1){if(Oe)return;var ot=be(Fe);st&&(ot=X.getTrusted(at,ot));var it=$(ot);return it.exp=Fe,it.expressions=[],it.$$watchDelegate=Ee,it}vt=!!vt;for(var ut,je,Xe=0,Le=[],Ie,Ne=Fe.length,Be,tt=[],dt=[],rt;Xe<Ne;)if((ut=Fe.indexOf(n,Xe))!==-1&&(je=Fe.indexOf(y,ut+ue))!==-1)Xe!==ut&&tt.push(be(Fe.substring(Xe,ut))),Be=Fe.substring(ut+ue,je),Le.push(Be),Xe=je+ie,dt.push(tt.length),tt.push("");else{Xe!==Ne&&tt.push(be(Fe.substring(Xe)));break}rt=tt.length===1&&dt.length===1;var gt=st&&rt?void 0:Rt;if(Ie=Le.map(function(_t){return P(_t,gt)}),!Oe||Le.length){var xt=function(_t){for(var Pt=0,Zt=Le.length;Pt<Zt;Pt++){if(vt&&R(_t[Pt]))return;tt[dt[Pt]]=_t[Pt]}return st?X.getTrusted(at,rt?tt[0]:tt.join("")):(at&&tt.length>1&&ri.throwNoconcat(Fe),tt.join(""))};return t(function(Pt){var Zt=0,Gt=Le.length,dn=new Array(Gt);try{for(;Zt<Gt;Zt++)dn[Zt]=Ie[Zt](Pt);return xt(dn)}catch(Sn){H(ri.interr(Fe,Sn))}},{exp:Fe,expressions:Le,$$watchDelegate:function(_t,Pt){var Zt;return _t.$watchGroup(Ie,function(dn,Sn){var kn=xt(dn);Pt.call(this,kn,dn!==Sn?Zt:kn,_t),Zt=kn})}})}function Rt(_t){try{return _t=at&&!st?X.getTrusted(at,_t):X.valueOf(_t),vt&&!L(_t)?_t:hn(_t)}catch(Pt){H(ri.interr(Fe,Pt))}}}return Ae.startSymbol=function(){return n},Ae.endSymbol=function(){return y},Ae}]}var Us=I("$interval");function js(){this.$get=["$$intervalFactory","$window",function(n,y){var P={},H=function(ie,re,ne){var me=y.setInterval(ie,re);return P[me]=ne,me},X=function(ie){y.clearInterval(ie),delete P[ie]},ue=n(H,X);return ue.cancel=function(ie){if(!ie)return!1;if(!ie.hasOwnProperty("$$intervalId"))throw Us("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!P.hasOwnProperty(ie.$$intervalId))return!1;var re=ie.$$intervalId,ne=P[re];return oo(ne.promise),ne.reject("canceled"),X(re),!0},ue}]}function zs(){this.$get=["$browser","$q","$$q","$rootScope",function(n,y,P,H){return function(ue,ie){return function(ne,me,be,Ee){var Ae=arguments.length>4,Fe=Ae?de(arguments,4):[],Oe=0,at=L(Ee)&&!Ee,vt=(at?P:y).defer(),st=vt.promise;be=L(be)?be:0;function ot(){Ae?ne.apply(null,Fe):ne(Oe)}function it(){at?n.defer(ot):H.$evalAsync(ot),vt.notify(Oe++),be>0&&Oe>=be&&(vt.resolve(Oe),ie(st.$$intervalId)),at||H.$apply()}return st.$$intervalId=ue(it,me,vt,at),st}}}]}var Vs=function(){this.$get=function(){var n=p.callbacks,y={};function P(H){var X=function(ue){X.data=ue,X.called=!0};return X.id=H,X}return{createCallback:function(H){var X="_"+(n.$$counter++).toString(36),ue="angular.callbacks."+X,ie=P(X);return y[ue]=n[X]=ie,ue},wasCalled:function(H){return y[H].called},getResponse:function(H){return y[H].data},removeCallback:function(H){var X=y[H];delete n[X.id],delete y[H]}}}},Ws=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Gs={http:80,https:443,ftp:21},Ti=I("$location");function qs(n){for(var y=n.split("/"),P=y.length;P--;)y[P]=Wt(y[P].replace(/%2F/g,"/"));return y.join("/")}function Ys(n,y){for(var P=n.split("/"),H=P.length;H--;)P[H]=decodeURIComponent(P[H]),y&&(P[H]=P[H].replace(/\//g,"%2F"));return P.join("/")}function Ks(n,y,P){var H=St(y),X=P?"#"+Wt(P):"",ue=qs(n);return ue+(H?"?"+H:"")+X}function Ea(n,y){var P=Et(n);y.$$protocol=P.protocol,y.$$host=P.hostname,y.$$port=a(P.port)||Gs[P.protocol]||null}var Js=/^\s*[\\/]{2,}/;function xa(n,y,P){if(Js.test(n))throw Ti("badpath",'Invalid url "{0}".',n);var H=n.charAt(0)!=="/";H&&(n="/"+n);var X=Et(n),ue=H&&X.pathname.charAt(0)==="/"?X.pathname.substring(1):X.pathname;y.$$path=Ys(ue,P),y.$$search=vn(X.search),y.$$hash=decodeURIComponent(X.hash),y.$$path&&y.$$path.charAt(0)!=="/"&&(y.$$path="/"+y.$$path)}function $o(n,y){return n.slice(0,y.length)===y}function Mr(n,y){if($o(y,n))return y.substr(n.length)}function ii(n){var y=n.indexOf("#");return y===-1?n:n.substr(0,y)}function Xs(n){return n.substr(0,ii(n).lastIndexOf("/")+1)}function Zs(n){return n.substring(0,n.indexOf("/",n.indexOf("//")+2))}function Fo(n,y,P){this.$$html5=!0,P=P||"",Ea(n,this),this.$$parse=function(H){var X=Mr(y,H);if(!ae(X))throw Ti("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',H,y);xa(X,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(H){return y+H.substr(1)},this.$$parseLinkUrl=function(H,X){if(X&&X[0]==="#")return this.hash(X.slice(1)),!0;var ue,ie,re;return L(ue=Mr(n,H))?(ie=ue,P&&L(ue=Mr(P,ue))?re=y+(Mr("/",ue)||ue):re=n+ie):L(ue=Mr(y,H))?re=y+ue:y===H+"/"&&(re=y),re&&this.$$parse(re),!!re}}function Oo(n,y,P){Ea(n,this),this.$$parse=function(H){var X=Mr(n,H)||Mr(y,H),ue;!R(X)&&X.charAt(0)==="#"?(ue=Mr(P,X),R(ue)&&(ue=X)):this.$$html5?ue=X:(ue="",R(X)&&(n=H,this.replace())),xa(ue,this,!1),this.$$path=ie(this.$$path,ue,n),this.$$compose();function ie(re,ne,me){var be=/^\/[A-Z]:(\/.*)/,Ee;return $o(ne,me)&&(ne=ne.replace(me,"")),be.exec(ne)?re:(Ee=be.exec(re),Ee?Ee[1]:re)}},this.$$normalizeUrl=function(H){return n+(H?P+H:"")},this.$$parseLinkUrl=function(H,X){return ii(n)===ii(H)?(this.$$parse(H),!0):!1}}function Ca(n,y,P){this.$$html5=!0,Oo.apply(this,arguments),this.$$parseLinkUrl=function(H,X){if(X&&X[0]==="#")return this.hash(X.slice(1)),!0;var ue,ie;return n===ii(H)?ue=H:(ie=Mr(y,H))?ue=n+P+ie:y===H+"/"&&(ue=y),ue&&this.$$parse(ue),!!ue},this.$$normalizeUrl=function(H){return n+P+H}}var Qs={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=Ks(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:ro("$$absUrl"),url:function(n){if(R(n))return this.$$url;var y=Ws.exec(n);return(y[1]||n==="")&&this.path(decodeURIComponent(y[1])),(y[2]||y[1]||n==="")&&this.search(y[3]||""),this.hash(y[5]||""),this},protocol:ro("$$protocol"),host:ro("$$host"),port:ro("$$port"),path:No("$$path",function(n){return n=n!==null?n.toString():"",n.charAt(0)==="/"?n:"/"+n}),search:function(n,y){switch(arguments.length){case 0:return this.$$search;case 1:if(ae(n)||fe(n))n=n.toString(),this.$$search=vn(n);else if(Y(n))n=Ze(n,{}),e(n,function(P,H){P==null&&delete n[H]}),this.$$search=n;else throw Ti("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:R(y)||y===null?delete this.$$search[n]:this.$$search[n]=y}return this.$$compose(),this},hash:No("$$hash",function(n){return n!==null?n.toString():""}),replace:function(){return this.$$replace=!0,this}};e([Ca,Oo,Fo],function(n){n.prototype=Object.create(Qs),n.prototype.state=function(y){if(!arguments.length)return this.$$state;if(n!==Fo||!this.$$html5)throw Ti("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=R(y)?null:y,this.$$urlUpdatedByLocation=!0,this}});function ro(n){return function(){return this[n]}}function No(n,y){return function(P){return R(P)?this[n]:(this[n]=y(P),this.$$compose(),this)}}function Aa(){var n="!",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(P){return L(P)?(n=P,this):n},this.html5Mode=function(P){return le(P)?(y.enabled=P,this):Y(P)?(le(P.enabled)&&(y.enabled=P.enabled),le(P.requireBase)&&(y.requireBase=P.requireBase),(le(P.rewriteLinks)||ae(P.rewriteLinks))&&(y.rewriteLinks=P.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(P,H,X,ue,ie){var re,ne,me=H.baseHref(),be=H.url(),Ee;if(y.enabled){if(!me&&y.requireBase)throw Ti("nobase","$location in HTML5 mode requires a <base> tag to be present!");Ee=Zs(be)+(me||"/"),ne=X.history?Fo:Ca}else Ee=ii(be),ne=Oo;var Ae=Xs(Ee);re=new ne(Ee,Ae,"#"+n),re.$$parseLinkUrl(be,be),re.$$state=H.state();var Fe=/^\s*(javascript|mailto):/i;function Oe(ot,it){return ot===it||Et(ot).href===Et(it).href}function at(ot,it,ut){var je=re.url(),Xe=re.$$state;try{H.url(ot,it,ut),re.$$state=H.state()}catch(Le){throw re.url(je),re.$$state=Xe,Le}}ue.on("click",function(ot){var it=y.rewriteLinks;if(!(!it||ot.ctrlKey||ot.metaKey||ot.shiftKey||ot.which===2||ot.button===2)){for(var ut=g(ot.target);ct(ut[0])!=="a";)if(ut[0]===ue[0]||!(ut=ut.parent())[0])return;if(!(ae(it)&&R(ut.attr(it)))){var je=ut.prop("href"),Xe=ut.attr("href")||ut.attr("xlink:href");Y(je)&&je.toString()==="[object SVGAnimatedString]"&&(je=Et(je.animVal).href),!Fe.test(je)&&je&&!ut.attr("target")&&!ot.isDefaultPrevented()&&re.$$parseLinkUrl(je,Xe)&&(ot.preventDefault(),re.absUrl()!==H.url()&&P.$apply())}}}),re.absUrl()!==be&&H.url(re.absUrl(),!0);var vt=!0;return H.onUrlChange(function(ot,it){if(!$o(ot,Ae)){ie.location.href=ot;return}P.$evalAsync(function(){var ut=re.absUrl(),je=re.$$state,Xe;re.$$parse(ot),re.$$state=it,Xe=P.$broadcast("$locationChangeStart",ot,ut,it,je).defaultPrevented,re.absUrl()===ot&&(Xe?(re.$$parse(ut),re.$$state=je,at(ut,!1,je)):(vt=!1,st(ut,je)))}),P.$$phase||P.$digest()}),P.$watch(function(){if(vt||re.$$urlUpdatedByLocation){re.$$urlUpdatedByLocation=!1;var it=H.url(),ut=re.absUrl(),je=H.state(),Xe=re.$$replace,Le=!Oe(it,ut)||re.$$html5&&X.history&&je!==re.$$state;(vt||Le)&&(vt=!1,P.$evalAsync(function(){var Ie=re.absUrl(),Ne=P.$broadcast("$locationChangeStart",Ie,it,re.$$state,je).defaultPrevented;re.absUrl()===Ie&&(Ne?(re.$$parse(it),re.$$state=je):(Le&&at(Ie,Xe,je===re.$$state?null:re.$$state),st(it,je)))}))}re.$$replace=!1}),re;function st(ot,it){P.$broadcast("$locationChangeSuccess",re.absUrl(),ot,re.$$state,it)}}]}function ka(){var n=!0,y=this;this.debugEnabled=function(P){return L(P)?(n=P,this):n},this.$get=["$window",function(P){var H=M||/\bEdge\//.test(P.navigator&&P.navigator.userAgent);return{log:ue("log"),info:ue("info"),warn:ue("warn"),error:ue("error"),debug:(function(){var ie=ue("debug");return function(){n&&ie.apply(y,arguments)}})()};function X(ie){return B(ie)&&(ie.stack&&H?ie=ie.message&&ie.stack.indexOf(ie.message)===-1?"Error: "+ie.message+`
`+ie.sourceURL+":"+ie.line)),ie}function ue(ie){var re=P.console||{},ne=re[ie]||re.log||b;return function(){var me=[];return e(arguments,function(be){me.push(X(be))}),Function.prototype.apply.call(ne,re,me)}}}]}var qr=I("$parse"),hi={}.constructor.prototype.valueOf;function Ii(n){return n+""}var Pi=Ht();e("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){Pi[n]=!0});var pi={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},Di=function(y){this.options=y};Di.prototype={constructor:Di,lex:function(n){for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;){var y=this.text.charAt(this.index);if(y==='"'||y==="'")this.readString(y);else if(this.isNumber(y)||y==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(y,"(){}[].,;:?"))this.tokens.push({index:this.index,text:y}),this.index++;else if(this.isWhitespace(y))this.index++;else{var P=y+this.peek(),H=P+this.peek(2),X=Pi[y],ue=Pi[P],ie=Pi[H];if(X||ue||ie){var re=ie?H:ue?P:y;this.tokens.push({index:this.index,text:re,operator:!0}),this.index+=re.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(n,y){return y.indexOf(n)!==-1},peek:function(n){var y=n||1;return this.index+y<this.text.length?this.text.charAt(this.index+y):!1},isNumber:function(n){return"0"<=n&&n<="9"&&typeof n=="string"},isWhitespace:function(n){return n===" "||n==="\r"||n==="	"||n===`
`||n==="\v"||n==="\xA0"},isIdentifierStart:function(n){return this.options.isIdentifierStart?this.options.isIdentifierStart(n,this.codePointAt(n)):this.isValidIdentifierStart(n)},isValidIdentifierStart:function(n){return"a"<=n&&n<="z"||"A"<=n&&n<="Z"||n==="_"||n==="$"},isIdentifierContinue:function(n){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(n,this.codePointAt(n)):this.isValidIdentifierContinue(n)},isValidIdentifierContinue:function(n,y){return this.isValidIdentifierStart(n,y)||this.isNumber(n)},codePointAt:function(n){return n.length===1?n.charCodeAt(0):(n.charCodeAt(0)<<10)+n.charCodeAt(1)-56613888},peekMultichar:function(){var n=this.text.charAt(this.index),y=this.peek();if(!y)return n;var P=n.charCodeAt(0),H=y.charCodeAt(0);return P>=55296&&P<=56319&&H>=56320&&H<=57343?n+y:n},isExpOperator:function(n){return n==="-"||n==="+"||this.isNumber(n)},throwError:function(n,y,P){P=P||this.index;var H=L(y)?"s "+y+"-"+this.index+" ["+this.text.substring(y,P)+"]":" "+P;throw qr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",n,H,this.text)},readNumber:function(){for(var n="",y=this.index;this.index<this.text.length;){var P=x(this.text.charAt(this.index));if(P==="."||this.isNumber(P))n+=P;else{var H=this.peek();if(P==="e"&&this.isExpOperator(H))n+=P;else if(this.isExpOperator(P)&&H&&this.isNumber(H)&&n.charAt(n.length-1)==="e")n+=P;else if(this.isExpOperator(P)&&(!H||!this.isNumber(H))&&n.charAt(n.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:y,text:n,constant:!0,value:Number(n)})},readIdent:function(){var n=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var y=this.peekMultichar();if(!this.isIdentifierContinue(y))break;this.index+=y.length}this.tokens.push({index:n,text:this.text.slice(n,this.index),identifier:!0})},readString:function(n){var y=this.index;this.index++;for(var P="",H=n,X=!1;this.index<this.text.length;){var ue=this.text.charAt(this.index);if(H+=ue,X){if(ue==="u"){var ie=this.text.substring(this.index+1,this.index+5);ie.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+ie+"]"),this.index+=4,P+=String.fromCharCode(parseInt(ie,16))}else{var re=pi[ue];P=P+(re||ue)}X=!1}else if(ue==="\\")X=!0;else if(ue===n){this.index++,this.tokens.push({index:y,text:H,constant:!0,value:P});return}else P+=ue;this.index++}this.throwError("Unterminated quote",y)}};var At=function(y,P){this.lexer=y,this.options=P};At.Program="Program",At.ExpressionStatement="ExpressionStatement",At.AssignmentExpression="AssignmentExpression",At.ConditionalExpression="ConditionalExpression",At.LogicalExpression="LogicalExpression",At.BinaryExpression="BinaryExpression",At.UnaryExpression="UnaryExpression",At.CallExpression="CallExpression",At.MemberExpression="MemberExpression",At.Identifier="Identifier",At.Literal="Literal",At.ArrayExpression="ArrayExpression",At.Property="Property",At.ObjectExpression="ObjectExpression",At.ThisExpression="ThisExpression",At.LocalsExpression="LocalsExpression",At.NGValueParameter="NGValueParameter",At.prototype={ast:function(n){this.text=n,this.tokens=this.lexer.lex(n);var y=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),y},program:function(){for(var n=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";"))return{type:At.Program,body:n}},expressionStatement:function(){return{type:At.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression();this.expect("|");)n=this.filter(n);return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();if(this.expect("=")){if(!Da(n))throw qr("lval","Trying to assign a value to a non l-value");n={type:At.AssignmentExpression,left:n,right:this.assignment(),operator:"="}}return n},ternary:function(){var n=this.logicalOR(),y,P;return this.expect("?")&&(y=this.expression(),this.consume(":"))?(P=this.expression(),{type:At.ConditionalExpression,test:n,alternate:y,consequent:P}):n},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");)n={type:At.LogicalExpression,operator:"||",left:n,right:this.logicalAND()};return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");)n={type:At.LogicalExpression,operator:"&&",left:n,right:this.equality()};return n},equality:function(){for(var n=this.relational(),y;y=this.expect("==","!=","===","!==");)n={type:At.BinaryExpression,operator:y.text,left:n,right:this.relational()};return n},relational:function(){for(var n=this.additive(),y;y=this.expect("<",">","<=",">=");)n={type:At.BinaryExpression,operator:y.text,left:n,right:this.additive()};return n},additive:function(){for(var n=this.multiplicative(),y;y=this.expect("+","-");)n={type:At.BinaryExpression,operator:y.text,left:n,right:this.multiplicative()};return n},multiplicative:function(){for(var n=this.unary(),y;y=this.expect("*","/","%");)n={type:At.BinaryExpression,operator:y.text,left:n,right:this.unary()};return n},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:At.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var n;this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?n=Ze(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?n={type:At.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());for(var y;y=this.expect("(","[",".");)y.text==="("?(n={type:At.CallExpression,callee:n,arguments:this.parseArguments()},this.consume(")")):y.text==="["?(n={type:At.MemberExpression,object:n,property:this.expression(),computed:!0},this.consume("]")):y.text==="."?n={type:At.MemberExpression,object:n,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return n},filter:function(n){for(var y=[n],P={type:At.CallExpression,callee:this.identifier(),arguments:y,filter:!0};this.expect(":");)y.push(this.expression());return P},parseArguments:function(){var n=[];if(this.peekToken().text!==")")do n.push(this.filterChain());while(this.expect(","));return n},identifier:function(){var n=this.consume();return n.identifier||this.throwError("is not a valid identifier",n),{type:At.Identifier,name:n.text}},constant:function(){return{type:At.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:At.ArrayExpression,elements:n}},object:function(){var n=[],y;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;y={type:At.Property,kind:"init"},this.peek().constant?(y.key=this.constant(),y.computed=!1,this.consume(":"),y.value=this.expression()):this.peek().identifier?(y.key=this.identifier(),y.computed=!1,this.peek(":")?(this.consume(":"),y.value=this.expression()):y.value=y.key):this.peek("[")?(this.consume("["),y.key=this.expression(),this.consume("]"),y.computed=!0,this.consume(":"),y.value=this.expression()):this.throwError("invalid key",this.peek()),n.push(y)}while(this.expect(","));return this.consume("}"),{type:At.ObjectExpression,properties:n}},throwError:function(n,y){throw qr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",y.text,n,y.index+1,this.text,this.text.substring(y.index))},consume:function(n){if(this.tokens.length===0)throw qr("ueoe","Unexpected end of expression: {0}",this.text);var y=this.expect(n);return y||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),y},peekToken:function(){if(this.tokens.length===0)throw qr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(n,y,P,H){return this.peekAhead(0,n,y,P,H)},peekAhead:function(n,y,P,H,X){if(this.tokens.length>n){var ue=this.tokens[n],ie=ue.text;if(ie===y||ie===P||ie===H||ie===X||!y&&!P&&!H&&!X)return ue}return!1},expect:function(n,y,P,H){var X=this.peek(n,y,P,H);return X?(this.tokens.shift(),X):!1},selfReferential:{this:{type:At.ThisExpression},$locals:{type:At.LocalsExpression}}};function el(n,y){return typeof n!="undefined"?n:y}function Ra(n,y){return typeof n=="undefined"?y:typeof y=="undefined"?n:n+y}function tl(n,y){var P=n(y);return!P.$stateful}var Ta=1,Ia=2;function nl(n,y){switch(n.type){case At.MemberExpression:if(n.computed)return!1;break;case At.UnaryExpression:return Ta;case At.BinaryExpression:return n.operator!=="+"?Ta:!1;case At.CallExpression:return!1}return y===void 0?Ia:y}function er(n,y,P){var H,X,ue,ie=n.isPure=nl(n,P);switch(n.type){case At.Program:H=!0,e(n.body,function(re){er(re.expression,y,ie),H=H&&re.expression.constant}),n.constant=H;break;case At.Literal:n.constant=!0,n.toWatch=[];break;case At.UnaryExpression:er(n.argument,y,ie),n.constant=n.argument.constant,n.toWatch=n.argument.toWatch;break;case At.BinaryExpression:er(n.left,y,ie),er(n.right,y,ie),n.constant=n.left.constant&&n.right.constant,n.toWatch=n.left.toWatch.concat(n.right.toWatch);break;case At.LogicalExpression:er(n.left,y,ie),er(n.right,y,ie),n.constant=n.left.constant&&n.right.constant,n.toWatch=n.constant?[]:[n];break;case At.ConditionalExpression:er(n.test,y,ie),er(n.alternate,y,ie),er(n.consequent,y,ie),n.constant=n.test.constant&&n.alternate.constant&&n.consequent.constant,n.toWatch=n.constant?[]:[n];break;case At.Identifier:n.constant=!1,n.toWatch=[n];break;case At.MemberExpression:er(n.object,y,ie),n.computed&&er(n.property,y,ie),n.constant=n.object.constant&&(!n.computed||n.property.constant),n.toWatch=n.constant?[]:[n];break;case At.CallExpression:ue=n.filter?tl(y,n.callee.name):!1,H=ue,X=[],e(n.arguments,function(re){er(re,y,ie),H=H&&re.constant,X.push.apply(X,re.toWatch)}),n.constant=H,n.toWatch=ue?X:[n];break;case At.AssignmentExpression:er(n.left,y,ie),er(n.right,y,ie),n.constant=n.left.constant&&n.right.constant,n.toWatch=[n];break;case At.ArrayExpression:H=!0,X=[],e(n.elements,function(re){er(re,y,ie),H=H&&re.constant,X.push.apply(X,re.toWatch)}),n.constant=H,n.toWatch=X;break;case At.ObjectExpression:H=!0,X=[],e(n.properties,function(re){er(re.value,y,ie),H=H&&re.value.constant,X.push.apply(X,re.value.toWatch),re.computed&&(er(re.key,y,!1),H=H&&re.key.constant,X.push.apply(X,re.key.toWatch))}),n.constant=H,n.toWatch=X;break;case At.ThisExpression:n.constant=!1,n.toWatch=[];break;case At.LocalsExpression:n.constant=!1,n.toWatch=[];break}}function Pa(n){if(n.length===1){var y=n[0].expression,P=y.toWatch;return P.length!==1||P[0]!==y?P:void 0}}function Da(n){return n.type===At.Identifier||n.type===At.MemberExpression}function La(n){if(n.body.length===1&&Da(n.body[0].expression))return{type:At.AssignmentExpression,left:n.body[0].expression,right:{type:At.NGValueParameter},operator:"="}}function rl(n){return n.body.length===0||n.body.length===1&&(n.body[0].expression.type===At.Literal||n.body[0].expression.type===At.ArrayExpression||n.body[0].expression.type===At.ObjectExpression)}function il(n){return n.constant}function Ma(n){this.$filter=n}Ma.prototype={compile:function(n){var y=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},er(n,y.$filter);var P="",H;if(this.stage="assign",H=La(n)){this.state.computing="assign";var X=this.nextId();this.recurse(H,X),this.return_(X),P="fn.assign="+this.generateFunction("assign","s,v,l")}var ue=Pa(n.body);y.stage="inputs",e(ue,function(ne,me){var be="fn"+me;y.state[be]={vars:[],body:[],own:{}},y.state.computing=be;var Ee=y.nextId();y.recurse(ne,Ee),y.return_(Ee),y.state.inputs.push({name:be,isPure:ne.isPure}),ne.watchId=me}),this.state.computing="fn",this.stage="main",this.recurse(n);var ie='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+P+this.watchFns()+"return fn;",re=new Function("$filter","getStringValue","ifDefined","plus",ie)(this.$filter,Ii,el,Ra);return this.state=this.stage=void 0,re},USE:"use",STRICT:"strict",watchFns:function(){var n=[],y=this.state.inputs,P=this;return e(y,function(H){n.push("var "+H.name+"="+P.generateFunction(H.name,"s")),H.isPure&&n.push(H.name,".isPure="+JSON.stringify(H.isPure)+";")}),y.length&&n.push("fn.inputs=["+y.map(function(H){return H.name}).join(",")+"];"),n.join("")},generateFunction:function(n,y){return"function("+y+"){"+this.varsPrefix(n)+this.body(n)+"};"},filterPrefix:function(){var n=[],y=this;return e(this.state.filters,function(P,H){n.push(P+"=$filter("+y.escape(H)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(n,y,P,H,X,ue){var ie,re,ne=this,me,be,Ee;if(H=H||b,!ue&&L(n.watchId)){y=y||this.nextId(),this.if_("i",this.lazyAssign(y,this.computedMember("i",n.watchId)),this.lazyRecurse(n,y,P,H,X,!0));return}switch(n.type){case At.Program:e(n.body,function(Ae,Fe){ne.recurse(Ae.expression,void 0,void 0,function(Oe){re=Oe}),Fe!==n.body.length-1?ne.current().body.push(re,";"):ne.return_(re)});break;case At.Literal:be=this.escape(n.value),this.assign(y,be),H(y||be);break;case At.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(Ae){re=Ae}),be=n.operator+"("+this.ifDefined(re,0)+")",this.assign(y,be),H(be);break;case At.BinaryExpression:this.recurse(n.left,void 0,void 0,function(Ae){ie=Ae}),this.recurse(n.right,void 0,void 0,function(Ae){re=Ae}),n.operator==="+"?be=this.plus(ie,re):n.operator==="-"?be=this.ifDefined(ie,0)+n.operator+this.ifDefined(re,0):be="("+ie+")"+n.operator+"("+re+")",this.assign(y,be),H(be);break;case At.LogicalExpression:y=y||this.nextId(),ne.recurse(n.left,y),ne.if_(n.operator==="&&"?y:ne.not(y),ne.lazyRecurse(n.right,y)),H(y);break;case At.ConditionalExpression:y=y||this.nextId(),ne.recurse(n.test,y),ne.if_(y,ne.lazyRecurse(n.alternate,y),ne.lazyRecurse(n.consequent,y)),H(y);break;case At.Identifier:y=y||this.nextId(),P&&(P.context=ne.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),P.computed=!1,P.name=n.name),ne.if_(ne.stage==="inputs"||ne.not(ne.getHasOwnProperty("l",n.name)),function(){ne.if_(ne.stage==="inputs"||"s",function(){X&&X!==1&&ne.if_(ne.isNull(ne.nonComputedMember("s",n.name)),ne.lazyAssign(ne.nonComputedMember("s",n.name),"{}")),ne.assign(y,ne.nonComputedMember("s",n.name))})},y&&ne.lazyAssign(y,ne.nonComputedMember("l",n.name))),H(y);break;case At.MemberExpression:ie=P&&(P.context=this.nextId())||this.nextId(),y=y||this.nextId(),ne.recurse(n.object,ie,void 0,function(){ne.if_(ne.notNull(ie),function(){n.computed?(re=ne.nextId(),ne.recurse(n.property,re),ne.getStringValue(re),X&&X!==1&&ne.if_(ne.not(ne.computedMember(ie,re)),ne.lazyAssign(ne.computedMember(ie,re),"{}")),be=ne.computedMember(ie,re),ne.assign(y,be),P&&(P.computed=!0,P.name=re)):(X&&X!==1&&ne.if_(ne.isNull(ne.nonComputedMember(ie,n.property.name)),ne.lazyAssign(ne.nonComputedMember(ie,n.property.name),"{}")),be=ne.nonComputedMember(ie,n.property.name),ne.assign(y,be),P&&(P.computed=!1,P.name=n.property.name))},function(){ne.assign(y,"undefined")}),H(y)},!!X);break;case At.CallExpression:y=y||this.nextId(),n.filter?(re=ne.filter(n.callee.name),me=[],e(n.arguments,function(Ae){var Fe=ne.nextId();ne.recurse(Ae,Fe),me.push(Fe)}),be=re+"("+me.join(",")+")",ne.assign(y,be),H(y)):(re=ne.nextId(),ie={},me=[],ne.recurse(n.callee,re,ie,function(){ne.if_(ne.notNull(re),function(){e(n.arguments,function(Ae){ne.recurse(Ae,n.constant?void 0:ne.nextId(),void 0,function(Fe){me.push(Fe)})}),ie.name?be=ne.member(ie.context,ie.name,ie.computed)+"("+me.join(",")+")":be=re+"("+me.join(",")+")",ne.assign(y,be)},function(){ne.assign(y,"undefined")}),H(y)}));break;case At.AssignmentExpression:re=this.nextId(),ie={},this.recurse(n.left,void 0,ie,function(){ne.if_(ne.notNull(ie.context),function(){ne.recurse(n.right,re),be=ne.member(ie.context,ie.name,ie.computed)+n.operator+re,ne.assign(y,be),H(y||be)})},1);break;case At.ArrayExpression:me=[],e(n.elements,function(Ae){ne.recurse(Ae,n.constant?void 0:ne.nextId(),void 0,function(Fe){me.push(Fe)})}),be="["+me.join(",")+"]",this.assign(y,be),H(y||be);break;case At.ObjectExpression:me=[],Ee=!1,e(n.properties,function(Ae){Ae.computed&&(Ee=!0)}),Ee?(y=y||this.nextId(),this.assign(y,"{}"),e(n.properties,function(Ae){Ae.computed?(ie=ne.nextId(),ne.recurse(Ae.key,ie)):ie=Ae.key.type===At.Identifier?Ae.key.name:""+Ae.key.value,re=ne.nextId(),ne.recurse(Ae.value,re),ne.assign(ne.member(y,ie,Ae.computed),re)})):(e(n.properties,function(Ae){ne.recurse(Ae.value,n.constant?void 0:ne.nextId(),void 0,function(Fe){me.push(ne.escape(Ae.key.type===At.Identifier?Ae.key.name:""+Ae.key.value)+":"+Fe)})}),be="{"+me.join(",")+"}",this.assign(y,be)),H(y||be);break;case At.ThisExpression:this.assign(y,"s"),H(y||"s");break;case At.LocalsExpression:this.assign(y,"l"),H(y||"l");break;case At.NGValueParameter:this.assign(y,"v"),H(y||"v");break}},getHasOwnProperty:function(n,y){var P=n+"."+y,H=this.current().own;return H.hasOwnProperty(P)||(H[P]=this.nextId(!1,n+"&&("+this.escape(y)+" in "+n+")")),H[P]},assign:function(n,y){if(n)return this.current().body.push(n,"=",y,";"),n},filter:function(n){return this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0)),this.state.filters[n]},ifDefined:function(n,y){return"ifDefined("+n+","+this.escape(y)+")"},plus:function(n,y){return"plus("+n+","+y+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(n,y,P){if(n===!0)y();else{var H=this.current().body;H.push("if(",n,"){"),y(),H.push("}"),P&&(H.push("else{"),P(),H.push("}"))}},not:function(n){return"!("+n+")"},isNull:function(n){return n+"==null"},notNull:function(n){return n+"!=null"},nonComputedMember:function(n,y){var P=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,H=/[^$_a-zA-Z0-9]/g;return P.test(y)?n+"."+y:n+'["'+y.replace(H,this.stringEscapeFn)+'"]'},computedMember:function(n,y){return n+"["+y+"]"},member:function(n,y,P){return P?this.computedMember(n,y):this.nonComputedMember(n,y)},getStringValue:function(n){this.assign(n,"getStringValue("+n+")")},lazyRecurse:function(n,y,P,H,X,ue){var ie=this;return function(){ie.recurse(n,y,P,H,X,ue)}},lazyAssign:function(n,y){var P=this;return function(){P.assign(n,y)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(ae(n))return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(fe(n))return n.toString();if(n===!0)return"true";if(n===!1)return"false";if(n===null)return"null";if(typeof n=="undefined")return"undefined";throw qr("esc","IMPOSSIBLE")},nextId:function(n,y){var P="v"+this.state.nextId++;return n||this.current().vars.push(P+(y?"="+y:"")),P},current:function(){return this.state[this.state.computing]}};function $a(n){this.$filter=n}$a.prototype={compile:function(n){var y=this;er(n,y.$filter);var P,H;(P=La(n))&&(H=this.recurse(P));var X=Pa(n.body),ue;X&&(ue=[],e(X,function(ne,me){var be=y.recurse(ne);be.isPure=ne.isPure,ne.input=be,ue.push(be),ne.watchId=me}));var ie=[];e(n.body,function(ne){ie.push(y.recurse(ne.expression))});var re=n.body.length===0?b:n.body.length===1?ie[0]:function(ne,me){var be;return e(ie,function(Ee){be=Ee(ne,me)}),be};return H&&(re.assign=function(ne,me,be){return H(ne,be,me)}),ue&&(re.inputs=ue),re},recurse:function(n,y,P){var H,X,ue=this,ie;if(n.input)return this.inputs(n.input,n.watchId);switch(n.type){case At.Literal:return this.value(n.value,y);case At.UnaryExpression:return X=this.recurse(n.argument),this["unary"+n.operator](X,y);case At.BinaryExpression:return H=this.recurse(n.left),X=this.recurse(n.right),this["binary"+n.operator](H,X,y);case At.LogicalExpression:return H=this.recurse(n.left),X=this.recurse(n.right),this["binary"+n.operator](H,X,y);case At.ConditionalExpression:return this["ternary?:"](this.recurse(n.test),this.recurse(n.alternate),this.recurse(n.consequent),y);case At.Identifier:return ue.identifier(n.name,y,P);case At.MemberExpression:return H=this.recurse(n.object,!1,!!P),n.computed||(X=n.property.name),n.computed&&(X=this.recurse(n.property)),n.computed?this.computedMember(H,X,y,P):this.nonComputedMember(H,X,y,P);case At.CallExpression:return ie=[],e(n.arguments,function(re){ie.push(ue.recurse(re))}),n.filter&&(X=this.$filter(n.callee.name)),n.filter||(X=this.recurse(n.callee,!0)),n.filter?function(re,ne,me,be){for(var Ee=[],Ae=0;Ae<ie.length;++Ae)Ee.push(ie[Ae](re,ne,me,be));var Fe=X.apply(void 0,Ee,be);return y?{context:void 0,name:void 0,value:Fe}:Fe}:function(re,ne,me,be){var Ee=X(re,ne,me,be),Ae;if(Ee.value!=null){for(var Fe=[],Oe=0;Oe<ie.length;++Oe)Fe.push(ie[Oe](re,ne,me,be));Ae=Ee.value.apply(Ee.context,Fe)}return y?{value:Ae}:Ae};case At.AssignmentExpression:return H=this.recurse(n.left,!0,1),X=this.recurse(n.right),function(re,ne,me,be){var Ee=H(re,ne,me,be),Ae=X(re,ne,me,be);return Ee.context[Ee.name]=Ae,y?{value:Ae}:Ae};case At.ArrayExpression:return ie=[],e(n.elements,function(re){ie.push(ue.recurse(re))}),function(re,ne,me,be){for(var Ee=[],Ae=0;Ae<ie.length;++Ae)Ee.push(ie[Ae](re,ne,me,be));return y?{value:Ee}:Ee};case At.ObjectExpression:return ie=[],e(n.properties,function(re){re.computed?ie.push({key:ue.recurse(re.key),computed:!0,value:ue.recurse(re.value)}):ie.push({key:re.key.type===At.Identifier?re.key.name:""+re.key.value,computed:!1,value:ue.recurse(re.value)})}),function(re,ne,me,be){for(var Ee={},Ae=0;Ae<ie.length;++Ae)ie[Ae].computed?Ee[ie[Ae].key(re,ne,me,be)]=ie[Ae].value(re,ne,me,be):Ee[ie[Ae].key]=ie[Ae].value(re,ne,me,be);return y?{value:Ee}:Ee};case At.ThisExpression:return function(re){return y?{value:re}:re};case At.LocalsExpression:return function(re,ne){return y?{value:ne}:ne};case At.NGValueParameter:return function(re,ne,me){return y?{value:me}:me}}},"unary+":function(n,y){return function(P,H,X,ue){var ie=n(P,H,X,ue);return L(ie)?ie=+ie:ie=0,y?{value:ie}:ie}},"unary-":function(n,y){return function(P,H,X,ue){var ie=n(P,H,X,ue);return L(ie)?ie=-ie:ie=-0,y?{value:ie}:ie}},"unary!":function(n,y){return function(P,H,X,ue){var ie=!n(P,H,X,ue);return y?{value:ie}:ie}},"binary+":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie),ne=y(H,X,ue,ie),me=Ra(re,ne);return P?{value:me}:me}},"binary-":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie),ne=y(H,X,ue,ie),me=(L(re)?re:0)-(L(ne)?ne:0);return P?{value:me}:me}},"binary*":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)*y(H,X,ue,ie);return P?{value:re}:re}},"binary/":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)/y(H,X,ue,ie);return P?{value:re}:re}},"binary%":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)%y(H,X,ue,ie);return P?{value:re}:re}},"binary===":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)===y(H,X,ue,ie);return P?{value:re}:re}},"binary!==":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)!==y(H,X,ue,ie);return P?{value:re}:re}},"binary==":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)==y(H,X,ue,ie);return P?{value:re}:re}},"binary!=":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)!=y(H,X,ue,ie);return P?{value:re}:re}},"binary<":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)<y(H,X,ue,ie);return P?{value:re}:re}},"binary>":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)>y(H,X,ue,ie);return P?{value:re}:re}},"binary<=":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)<=y(H,X,ue,ie);return P?{value:re}:re}},"binary>=":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)>=y(H,X,ue,ie);return P?{value:re}:re}},"binary&&":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)&&y(H,X,ue,ie);return P?{value:re}:re}},"binary||":function(n,y,P){return function(H,X,ue,ie){var re=n(H,X,ue,ie)||y(H,X,ue,ie);return P?{value:re}:re}},"ternary?:":function(n,y,P,H){return function(X,ue,ie,re){var ne=n(X,ue,ie,re)?y(X,ue,ie,re):P(X,ue,ie,re);return H?{value:ne}:ne}},value:function(n,y){return function(){return y?{context:void 0,name:void 0,value:n}:n}},identifier:function(n,y,P){return function(H,X,ue,ie){var re=X&&n in X?X:H;P&&P!==1&&re&&re[n]==null&&(re[n]={});var ne=re?re[n]:void 0;return y?{context:re,name:n,value:ne}:ne}},computedMember:function(n,y,P,H){return function(X,ue,ie,re){var ne=n(X,ue,ie,re),me,be;return ne!=null&&(me=y(X,ue,ie,re),me=Ii(me),H&&H!==1&&ne&&!ne[me]&&(ne[me]={}),be=ne[me]),P?{context:ne,name:me,value:be}:be}},nonComputedMember:function(n,y,P,H){return function(X,ue,ie,re){var ne=n(X,ue,ie,re);H&&H!==1&&ne&&ne[y]==null&&(ne[y]={});var me=ne!=null?ne[y]:void 0;return P?{context:ne,name:y,value:me}:me}},inputs:function(n,y){return function(P,H,X,ue){return ue?ue[y]:n(P,H,X)}}};function io(n,y,P){this.ast=new At(n,P),this.astCompiler=P.csp?new $a(y):new Ma(y)}io.prototype={constructor:io,parse:function(n){var y=this.getAst(n),P=this.astCompiler.compile(y.ast);return P.literal=rl(y.ast),P.constant=il(y.ast),P.oneTime=y.oneTime,P},getAst:function(n){var y=!1;return n=n.trim(),n.charAt(0)===":"&&n.charAt(1)===":"&&(y=!0,n=n.substring(2)),{ast:this.ast.ast(n),oneTime:y}}};function Bo(n){return K(n.valueOf)?n.valueOf():hi.call(n)}function ol(){var n=Ht(),y={true:!0,false:!1,null:null,undefined:void 0},P,H;this.addLiteral=function(X,ue){y[X]=ue},this.setIdentifierFns=function(X,ue){return P=X,H=ue,this},this.$get=["$filter",function(X){var ue=ce().noUnsafeEval,ie={csp:ue,literals:Ze(y),isIdentifierStart:K(P)&&P,isIdentifierContinue:K(H)&&H};return re.$$getAst=ne,re;function re(st,ot){var it,ut;switch(typeof st){case"string":if(st=st.trim(),ut=st,it=n[ut],!it){var je=new Di(ie),Xe=new io(je,X,ie);it=Xe.parse(st),n[ut]=Oe(it)}return vt(it,ot);case"function":return vt(st,ot);default:return vt(b,ot)}}function ne(st){var ot=new Di(ie),it=new io(ot,X,ie);return it.getAst(st).ast}function me(st,ot,it){return st==null||ot==null?st===ot:typeof st=="object"&&(st=Bo(st),typeof st=="object"&&!it)?!1:st===ot||st!==st&&ot!==ot}function be(st,ot,it,ut,je){var Xe=ut.inputs,Le;if(Xe.length===1){var Ie=me;return Xe=Xe[0],st.$watch(function(gt){var xt=Xe(gt);return me(xt,Ie,Xe.isPure)||(Le=ut(gt,void 0,void 0,[xt]),Ie=xt&&Bo(xt)),Le},ot,it,je)}for(var Ne=[],Be=[],tt=0,dt=Xe.length;tt<dt;tt++)Ne[tt]=me,Be[tt]=null;return st.$watch(function(gt){for(var xt=!1,Rt=0,_t=Xe.length;Rt<_t;Rt++){var Pt=Xe[Rt](gt);(xt||(xt=!me(Pt,Ne[Rt],Xe[Rt].isPure)))&&(Be[Rt]=Pt,Ne[Rt]=Pt&&Bo(Pt))}return xt&&(Le=ut(gt,void 0,void 0,Be)),Le},ot,it,je)}function Ee(st,ot,it,ut,je){var Xe=ut.literal?Ae:L,Le,Ie,Ne=ut.$$intercepted||ut,Be=ut.$$interceptor||C,tt=ut.inputs&&!Ne.inputs;return rt.literal=ut.literal,rt.constant=ut.constant,rt.inputs=ut.inputs,Oe(rt),Le=st.$watch(rt,ot,it,je),Le;function dt(){Xe(Ie)&&Le()}function rt(gt,xt,Rt,_t){return Ie=tt&&_t?_t[0]:Ne(gt,xt,Rt,_t),Xe(Ie)&&gt.$$postDigest(dt),Be(Ie)}}function Ae(st){var ot=!0;return e(st,function(it){L(it)||(ot=!1)}),ot}function Fe(st,ot,it,ut){var je=st.$watch(function(Le){return je(),ut(Le)},ot,it);return je}function Oe(st){return st.constant?st.$$watchDelegate=Fe:st.oneTime?st.$$watchDelegate=Ee:st.inputs&&(st.$$watchDelegate=be),st}function at(st,ot){function it(ut){return ot(st(ut))}return it.$stateful=st.$stateful||ot.$stateful,it.$$pure=st.$$pure&&ot.$$pure,it}function vt(st,ot){if(!ot)return st;st.$$interceptor&&(ot=at(st.$$interceptor,ot),st=st.$$intercepted);var it=!1,ut=function(Xe,Le,Ie,Ne){var Be=it&&Ne?Ne[0]:st(Xe,Le,Ie,Ne);return ot(Be)};return ut.$$intercepted=st,ut.$$interceptor=ot,ut.literal=st.literal,ut.oneTime=st.oneTime,ut.constant=st.constant,ot.$stateful||(it=!st.inputs,ut.inputs=st.inputs?st.inputs:[st],ot.$$pure||(ut.inputs=ut.inputs.map(function(je){return je.isPure===Ia?function(Le){return je(Le)}:je}))),Oe(ut)}}]}function al(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(y,P){return Fa(function(H){y.$evalAsync(H)},P,n)}],this.errorOnUnhandledRejections=function(y){return L(y)?(n=y,this):n}}function sl(){var n=!0;this.$get=["$browser","$exceptionHandler",function(y,P){return Fa(function(H){y.defer(H)},P,n)}],this.errorOnUnhandledRejections=function(y){return L(y)?(n=y,this):n}}function Fa(n,y,P){var H=I("$q",TypeError),X=0,ue=[];function ie(){return new re}function re(){var Ie=this.promise=new ne;this.resolve=function(Ne){Ae(Ie,Ne)},this.reject=function(Ne){Oe(Ie,Ne)},this.notify=function(Ne){vt(Ie,Ne)}}function ne(){this.$$state={status:0}}t(ne.prototype,{then:function(Ie,Ne,Be){if(R(Ie)&&R(Ne)&&R(Be))return this;var tt=new ne;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([tt,Ie,Ne,Be]),this.$$state.status>0&&Ee(this.$$state),tt},catch:function(Ie){return this.then(null,Ie)},finally:function(Ie,Ne){return this.then(function(Be){return ot(Be,ut,Ie)},function(Be){return ot(Be,st,Ie)},Ne)}});function me(Ie){var Ne,Be,tt;tt=Ie.pending,Ie.processScheduled=!1,Ie.pending=void 0;try{for(var dt=0,rt=tt.length;dt<rt;++dt){Ho(Ie),Be=tt[dt][0],Ne=tt[dt][Ie.status];try{K(Ne)?Ae(Be,Ne(Ie.value)):Ie.status===1?Ae(Be,Ie.value):Oe(Be,Ie.value)}catch(gt){Oe(Be,gt),gt&&gt.$$passToExceptionHandler===!0&&y(gt)}}}finally{--X,P&&X===0&&n(be)}}function be(){for(;!X&&ue.length;){var Ie=ue.shift();if(!Oa(Ie)){Ho(Ie);var Ne="Possibly unhandled rejection: "+Ye(Ie.value);B(Ie.value)?y(Ie.value,Ne):y(Ne)}}}function Ee(Ie){P&&!Ie.pending&&Ie.status===2&&!Oa(Ie)&&(X===0&&ue.length===0&&n(be),ue.push(Ie)),!(Ie.processScheduled||!Ie.pending)&&(Ie.processScheduled=!0,++X,n(function(){me(Ie)}))}function Ae(Ie,Ne){Ie.$$state.status||(Ne===Ie?at(Ie,H("qcycle","Expected promise to be resolved with value other than itself '{0}'",Ne)):Fe(Ie,Ne))}function Fe(Ie,Ne){var Be,tt=!1;try{(Y(Ne)||K(Ne))&&(Be=Ne.then),K(Be)?(Ie.$$state.status=-1,Be.call(Ne,dt,rt,gt)):(Ie.$$state.value=Ne,Ie.$$state.status=1,Ee(Ie.$$state))}catch(xt){rt(xt)}function dt(xt){tt||(tt=!0,Fe(Ie,xt))}function rt(xt){tt||(tt=!0,at(Ie,xt))}function gt(xt){vt(Ie,xt)}}function Oe(Ie,Ne){Ie.$$state.status||at(Ie,Ne)}function at(Ie,Ne){Ie.$$state.value=Ne,Ie.$$state.status=2,Ee(Ie.$$state)}function vt(Ie,Ne){var Be=Ie.$$state.pending;Ie.$$state.status<=0&&Be&&Be.length&&n(function(){for(var tt,dt,rt=0,gt=Be.length;rt<gt;rt++){dt=Be[rt][0],tt=Be[rt][3];try{vt(dt,K(tt)?tt(Ne):Ne)}catch(xt){y(xt)}}})}function st(Ie){var Ne=new ne;return Oe(Ne,Ie),Ne}function ot(Ie,Ne,Be){var tt=null;try{K(Be)&&(tt=Be())}catch(dt){return st(dt)}return ge(tt)?tt.then(function(){return Ne(Ie)},st):Ne(Ie)}function it(Ie,Ne,Be,tt){var dt=new ne;return Ae(dt,Ie),dt.then(Ne,Be,tt)}var ut=it;function je(Ie){var Ne=new ne,Be=0,tt=se(Ie)?[]:{};return e(Ie,function(dt,rt){Be++,it(dt).then(function(gt){tt[rt]=gt,--Be||Ae(Ne,tt)},function(gt){Oe(Ne,gt)})}),Be===0&&Ae(Ne,tt),Ne}function Xe(Ie){var Ne=ie();return e(Ie,function(Be){it(Be).then(Ne.resolve,Ne.reject)}),Ne.promise}function Le(Ie){if(!K(Ie))throw H("norslvr","Expected resolverFn, got '{0}'",Ie);var Ne=new ne;function Be(dt){Ae(Ne,dt)}function tt(dt){Oe(Ne,dt)}return Ie(Be,tt),Ne}return Le.prototype=ne.prototype,Le.defer=ie,Le.reject=st,Le.when=it,Le.resolve=ut,Le.all=je,Le.race=Xe,Le}function Oa(n){return!!n.pur}function Ho(n){n.pur=!0}function oo(n){n.$$state&&Ho(n.$$state)}function ll(){this.$get=["$window","$timeout",function(n,y){var P=n.requestAnimationFrame||n.webkitRequestAnimationFrame,H=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,X=!!P,ue=X?function(ie){var re=P(ie);return function(){H(re)}}:function(ie){var re=y(ie,16.66,!1);return function(){y.cancel(re)}};return ue.supported=X,ue}]}function cl(){var n=10,y=I("$rootScope"),P=null,H=null;this.digestTtl=function(ue){return arguments.length&&(n=ue),n};function X(ue){function ie(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null,this.$$suspended=!1}return ie.prototype=ue,ie}this.$get=["$exceptionHandler","$parse","$browser",function(ue,ie,re){function ne(Le){Le.currentScope.$$destroyed=!0}function me(Le){M===9&&(Le.$$childHead&&me(Le.$$childHead),Le.$$nextSibling&&me(Le.$$nextSibling)),Le.$parent=Le.$$nextSibling=Le.$$prevSibling=Le.$$childHead=Le.$$childTail=Le.$root=Le.$$watchers=null}function be(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}be.prototype={constructor:be,$new:function(Le,Ie){var Ne;return Ie=Ie||this,Le?(Ne=new be,Ne.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=X(this)),Ne=new this.$$ChildScope),Ne.$parent=Ie,Ne.$$prevSibling=Ie.$$childTail,Ie.$$childHead?(Ie.$$childTail.$$nextSibling=Ne,Ie.$$childTail=Ne):Ie.$$childHead=Ie.$$childTail=Ne,(Le||Ie!==this)&&Ne.$on("$destroy",ne),Ne},$watch:function(Le,Ie,Ne,Be){var tt=ie(Le),dt=K(Ie)?Ie:b;if(tt.$$watchDelegate)return tt.$$watchDelegate(this,dt,Ne,tt,Le);var rt=this,gt=rt.$$watchers,xt={fn:dt,last:ut,get:tt,exp:Be||Le,eq:!!Ne};return P=null,gt||(gt=rt.$$watchers=[],gt.$$digestWatchIndex=-1),gt.unshift(xt),gt.$$digestWatchIndex++,ot(this,1),function(){var _t=Ge(gt,xt);_t>=0&&(ot(rt,-1),_t<gt.$$digestWatchIndex&&gt.$$digestWatchIndex--),P=null}},$watchGroup:function(Le,Ie){var Ne=new Array(Le.length),Be=new Array(Le.length),tt=[],dt=this,rt=!1,gt=!0;if(!Le.length){var xt=!0;return dt.$evalAsync(function(){xt&&Ie(Be,Be,dt)}),function(){xt=!1}}if(Le.length===1)return this.$watch(Le[0],function(Pt,Zt,Gt){Be[0]=Pt,Ne[0]=Zt,Ie(Be,Pt===Zt?Be:Ne,Gt)});e(Le,function(_t,Pt){var Zt=dt.$watch(_t,function(dn){Be[Pt]=dn,rt||(rt=!0,dt.$evalAsync(Rt))});tt.push(Zt)});function Rt(){rt=!1;try{gt?(gt=!1,Ie(Be,Be,dt)):Ie(Be,Ne,dt)}finally{for(var _t=0;_t<Le.length;_t++)Ne[_t]=Be[_t]}}return function(){for(;tt.length;)tt.shift()()}},$watchCollection:function(Le,Ie){Gt.$$pure=ie(Le).literal,Gt.$stateful=!Gt.$$pure;var Ne=this,Be,tt,dt,rt=Ie.length>1,gt=0,xt=ie(Le,Gt),Rt=[],_t={},Pt=!0,Zt=0;function Gt(Sn){Be=Sn;var kn,Dn,qn,Un,pr;if(!R(Be)){if(!Y(Be))tt!==Be&&(tt=Be,gt++);else if(h(Be)){tt!==Rt&&(tt=Rt,Zt=tt.length=0,gt++),kn=Be.length,Zt!==kn&&(gt++,tt.length=Zt=kn);for(var nr=0;nr<kn;nr++)pr=tt[nr],Un=Be[nr],qn=pr!==pr&&Un!==Un,!qn&&pr!==Un&&(gt++,tt[nr]=Un)}else{tt!==_t&&(tt=_t={},Zt=0,gt++),kn=0;for(Dn in Be)_.call(Be,Dn)&&(kn++,Un=Be[Dn],pr=tt[Dn],Dn in tt?(qn=pr!==pr&&Un!==Un,!qn&&pr!==Un&&(gt++,tt[Dn]=Un)):(Zt++,tt[Dn]=Un,gt++));if(Zt>kn){gt++;for(Dn in tt)_.call(Be,Dn)||(Zt--,delete tt[Dn])}}return gt}}function dn(){if(Pt?(Pt=!1,Ie(Be,Be,Ne)):Ie(Be,dt,Ne),rt)if(!Y(Be))dt=Be;else if(h(Be)){dt=new Array(Be.length);for(var Sn=0;Sn<Be.length;Sn++)dt[Sn]=Be[Sn]}else{dt={};for(var kn in Be)_.call(Be,kn)&&(dt[kn]=Be[kn])}}return this.$watch(xt,dn)},$digest:function(){var Le,Ie,Ne,Be,tt,dt,rt,gt=n,xt,Rt,_t=Ae.length?Ee:this,Pt=[],Zt,Gt;vt("$digest"),re.$$checkUrlChange(),this===Ee&&H!==null&&(re.defer.cancel(H),je()),P=null;do{rt=!1,Rt=_t;for(var dn=0;dn<Ae.length;dn++){try{Gt=Ae[dn],Be=Gt.fn,Be(Gt.scope,Gt.locals)}catch(Sn){ue(Sn)}P=null}Ae.length=0;e:do{if(dt=!Rt.$$suspended&&Rt.$$watchers)for(dt.$$digestWatchIndex=dt.length;dt.$$digestWatchIndex--;)try{if(Le=dt[dt.$$digestWatchIndex],Le){if(tt=Le.get,(Ie=tt(Rt))!==(Ne=Le.last)&&!(Le.eq?Mt(Ie,Ne):l(Ie)&&l(Ne)))rt=!0,P=Le,Le.last=Le.eq?Ze(Ie,null):Ie,Be=Le.fn,Be(Ie,Ne===ut?Ie:Ne,Rt),gt<5&&(Zt=4-gt,Pt[Zt]||(Pt[Zt]=[]),Pt[Zt].push({msg:K(Le.exp)?"fn: "+(Le.exp.name||Le.exp.toString()):Le.exp,newVal:Ie,oldVal:Ne}));else if(Le===P){rt=!1;break e}}}catch(Sn){ue(Sn)}if(!(xt=!Rt.$$suspended&&Rt.$$watchersCount&&Rt.$$childHead||Rt!==_t&&Rt.$$nextSibling))for(;Rt!==_t&&!(xt=Rt.$$nextSibling);)Rt=Rt.$parent}while(Rt=xt);if((rt||Ae.length)&&!gt--)throw st(),y("infdig",`{0} $digest() iterations reached. Aborting!
Watchers fired in the last 5 iterations: {1}`,n,Pt)}while(rt||Ae.length);for(st();at<Fe.length;)try{Fe[at++]()}catch(Sn){ue(Sn)}Fe.length=at=0,re.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var Le=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===Ee&&re.$$applicationDestroyed(),ot(this,-this.$$watchersCount);for(var Ie in this.$$listenerCount)it(this,this.$$listenerCount[Ie],Ie);Le&&Le.$$childHead===this&&(Le.$$childHead=this.$$nextSibling),Le&&Le.$$childTail===this&&(Le.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=b,this.$on=this.$watch=this.$watchGroup=function(){return b},this.$$listeners={},this.$$nextSibling=null,me(this)}},$eval:function(Le,Ie){return ie(Le)(this,Ie)},$evalAsync:function(Le,Ie){!Ee.$$phase&&!Ae.length&&re.defer(function(){Ae.length&&Ee.$digest()},null,"$evalAsync"),Ae.push({scope:this,fn:ie(Le),locals:Ie})},$$postDigest:function(Le){Fe.push(Le)},$apply:function(Le){try{vt("$apply");try{return this.$eval(Le)}finally{st()}}catch(Ie){ue(Ie)}finally{try{Ee.$digest()}catch(Ie){throw ue(Ie),Ie}}},$applyAsync:function(Le){var Ie=this;Le&&Oe.push(Ne),Le=ie(Le),Xe();function Ne(){Ie.$eval(Le)}},$on:function(Le,Ie){var Ne=this.$$listeners[Le];Ne||(this.$$listeners[Le]=Ne=[]),Ne.push(Ie);var Be=this;do Be.$$listenerCount[Le]||(Be.$$listenerCount[Le]=0),Be.$$listenerCount[Le]++;while(Be=Be.$parent);var tt=this;return function(){var dt=Ne.indexOf(Ie);dt!==-1&&(delete Ne[dt],it(tt,1,Le))}},$emit:function(Le,Ie){var Ne=[],Be,tt=this,dt=!1,rt={name:Le,targetScope:tt,stopPropagation:function(){dt=!0},preventDefault:function(){rt.defaultPrevented=!0},defaultPrevented:!1},gt=te([rt],arguments,1),xt,Rt;do{for(Be=tt.$$listeners[Le]||Ne,rt.currentScope=tt,xt=0,Rt=Be.length;xt<Rt;xt++){if(!Be[xt]){Be.splice(xt,1),xt--,Rt--;continue}try{Be[xt].apply(null,gt)}catch(_t){ue(_t)}}if(dt)break;tt=tt.$parent}while(tt);return rt.currentScope=null,rt},$broadcast:function(Le,Ie){var Ne=this,Be=Ne,tt=Ne,dt={name:Le,targetScope:Ne,preventDefault:function(){dt.defaultPrevented=!0},defaultPrevented:!1};if(!Ne.$$listenerCount[Le])return dt;for(var rt=te([dt],arguments,1),gt,xt,Rt;Be=tt;){for(dt.currentScope=Be,gt=Be.$$listeners[Le]||[],xt=0,Rt=gt.length;xt<Rt;xt++){if(!gt[xt]){gt.splice(xt,1),xt--,Rt--;continue}try{gt[xt].apply(null,rt)}catch(_t){ue(_t)}}if(!(tt=Be.$$listenerCount[Le]&&Be.$$childHead||Be!==Ne&&Be.$$nextSibling))for(;Be!==Ne&&!(tt=Be.$$nextSibling);)Be=Be.$parent}return dt.currentScope=null,dt}};var Ee=new be,Ae=Ee.$$asyncQueue=[],Fe=Ee.$$postDigestQueue=[],Oe=Ee.$$applyAsyncQueue=[],at=0;return Ee;function vt(Le){if(Ee.$$phase)throw y("inprog","{0} already in progress",Ee.$$phase);Ee.$$phase=Le}function st(){Ee.$$phase=null}function ot(Le,Ie){do Le.$$watchersCount+=Ie;while(Le=Le.$parent)}function it(Le,Ie,Ne){do Le.$$listenerCount[Ne]-=Ie,Le.$$listenerCount[Ne]===0&&delete Le.$$listenerCount[Ne];while(Le=Le.$parent)}function ut(){}function je(){for(;Oe.length;)try{Oe.shift()()}catch(Le){ue(Le)}H=null}function Xe(){H===null&&(H=re.defer(function(){Ee.$apply(je)},null,"$applyAsync"))}}]}function ul(){var n=/^\s*(https?|s?ftp|mailto|tel|file):/,y=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(P){return L(P)?(n=P,this):n},this.imgSrcSanitizationTrustedUrlList=function(P){return L(P)?(y=P,this):y},this.$get=function(){return function(H,X){var ue=X?y:n,ie=Et(H&&H.trim()).href;return ie!==""&&!ie.match(ue)?"unsafe:"+ie:H}}}var Hr=I("$sce"),Bn={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},dl=/_([a-z])/g;function Uo(n){return n.replace(dl,yr)}function fl(n){if(n==="self")return n;if(ae(n)){if(n.indexOf("***")>-1)throw Hr("iwcard","Illegal sequence *** in string matcher.  String: {0}",n);return n=qe(n).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+n+"$")}else{if(z(n))return new RegExp("^"+n.source+"$");throw Hr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Na(n){var y=[];return L(n)&&e(n,function(P){y.push(fl(P))}),y}function hl(){this.SCE_CONTEXTS=Bn;var n=["self"],y=[];this.trustedResourceUrlList=function(P){return arguments.length&&(n=Na(P)),n},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(P){this.trustedResourceUrlList=P}}),this.bannedResourceUrlList=function(P){return arguments.length&&(y=Na(P)),y},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(P){this.bannedResourceUrlList=P}}),this.$get=["$injector","$$sanitizeUri",function(P,H){var X=function(Oe){throw Hr("unsafe","Attempting to use an unsafe value in a safe context.")};P.has("$sanitize")&&(X=P.get("$sanitize"));function ue(Fe,Oe){return Fe==="self"?_l(Oe)||Sl(Oe):!!Fe.exec(Oe.href)}function ie(Fe){var Oe=Et(Fe.toString()),at,vt,st=!1;for(at=0,vt=n.length;at<vt;at++)if(ue(n[at],Oe)){st=!0;break}if(st){for(at=0,vt=y.length;at<vt;at++)if(ue(y[at],Oe)){st=!1;break}}return st}function re(Fe){var Oe=function(vt){this.$$unwrapTrustedValue=function(){return vt}};return Fe&&(Oe.prototype=new Fe),Oe.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},Oe.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},Oe}var ne=re(),me={};me[Bn.HTML]=re(ne),me[Bn.CSS]=re(ne),me[Bn.MEDIA_URL]=re(ne),me[Bn.URL]=re(me[Bn.MEDIA_URL]),me[Bn.JS]=re(ne),me[Bn.RESOURCE_URL]=re(me[Bn.URL]);function be(Fe,Oe){var at=me.hasOwnProperty(Fe)?me[Fe]:null;if(!at)throw Hr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",Fe,Oe);if(Oe===null||R(Oe)||Oe==="")return Oe;if(typeof Oe!="string")throw Hr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",Fe);return new at(Oe)}function Ee(Fe){return Fe instanceof ne?Fe.$$unwrapTrustedValue():Fe}function Ae(Fe,Oe){if(Oe===null||R(Oe)||Oe==="")return Oe;var at=me.hasOwnProperty(Fe)?me[Fe]:null;if(at&&Oe instanceof at)return Oe.$$unwrapTrustedValue();if(K(Oe.$$unwrapTrustedValue)&&(Oe=Oe.$$unwrapTrustedValue()),Fe===Bn.MEDIA_URL||Fe===Bn.URL)return H(Oe.toString(),Fe===Bn.MEDIA_URL);if(Fe===Bn.RESOURCE_URL){if(ie(Oe))return Oe;throw Hr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",Oe.toString())}else if(Fe===Bn.HTML)return X(Oe);throw Hr("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:be,getTrusted:Ae,valueOf:Ee}}]}function pl(){var n=!0;this.enabled=function(y){return arguments.length&&(n=!!y),n},this.$get=["$parse","$sceDelegate",function(y,P){if(n&&M<8)throw Hr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var H=ye(Bn);H.isEnabled=function(){return n},H.trustAs=P.trustAs,H.getTrusted=P.getTrusted,H.valueOf=P.valueOf,n||(H.trustAs=H.getTrusted=function(re,ne){return ne},H.valueOf=C),H.parseAs=function(ne,me){var be=y(me);return be.literal&&be.constant?be:y(me,function(Ee){return H.getTrusted(ne,Ee)})};var X=H.parseAs,ue=H.getTrusted,ie=H.trustAs;return e(Bn,function(re,ne){var me=x(ne);H[Uo("parse_as_"+me)]=function(be){return X(re,be)},H[Uo("get_trusted_"+me)]=function(be){return ue(re,be)},H[Uo("trust_as_"+me)]=function(be){return ie(re,be)}}),H}]}function Ba(){this.$get=["$window","$document",function(n,y){var P={},H=n.nw&&n.nw.process,X=!H&&n.chrome&&(n.chrome.app&&n.chrome.app.runtime||!n.chrome.app&&n.chrome.runtime&&n.chrome.runtime.id),ue=!X&&n.history&&n.history.pushState,ie=a((/android (\d+)/.exec(x((n.navigator||{}).userAgent))||[])[1]),re=/Boxee/i.test((n.navigator||{}).userAgent),ne=y[0]||{},me=ne.body&&ne.body.style,be=!1,Ee=!1;return me&&(be="transition"in me||"webkitTransition"in me,Ee="animation"in me||"webkitAnimation"in me),{history:!!(ue&&!(ie<4)&&!re),hasEvent:function(Ae){if(Ae==="input"&&M)return!1;if(R(P[Ae])){var Fe=ne.createElement("div");P[Ae]="on"+Ae in Fe}return P[Ae]},csp:ce(),transitions:be,animations:Ee,android:ie}}]}function gl(){this.$get=$(function(n){return new ml(n)})}function ml(n){var y=this,P={},H=[],X=y.ALL_TASKS_TYPE="$$all$$",ue=y.DEFAULT_TASK_TYPE="$$default$$";y.completeTask=ie,y.incTaskCount=be,y.notifyWhenNoPendingTasks=Ee;function ie(Ae,Fe){Fe=Fe||ue;try{Ae()}finally{re(Fe);var Oe=P[Fe],at=P[X];if(!at||!Oe)for(var vt=at?me:ne,st;st=vt(Fe);)try{st()}catch(ot){n.error(ot)}}}function re(Ae){Ae=Ae||ue,P[Ae]&&(P[Ae]--,P[X]--)}function ne(){var Ae=H.pop();return Ae&&Ae.cb}function me(Ae){for(var Fe=H.length-1;Fe>=0;--Fe){var Oe=H[Fe];if(Oe.type===Ae)return H.splice(Fe,1),Oe.cb}}function be(Ae){Ae=Ae||ue,P[Ae]=(P[Ae]||0)+1,P[X]=(P[X]||0)+1}function Ee(Ae,Fe){Fe=Fe||X,P[Fe]?H.push({type:Fe,cb:Ae}):Ae()}}var Ha=I("$templateRequest");function vl(){var n;this.httpOptions=function(y){return y?(n=y,this):n},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(y,P,H,X,ue){function ie(re,ne){ie.totalPendingRequests++,(!ae(re)||R(P.get(re)))&&(re=ue.getTrustedResourceUrl(re));var me=H.defaults&&H.defaults.transformResponse;return se(me)?me=me.filter(function(Ee){return Ee!==to}):me===to&&(me=null),H.get(re,t({cache:P,transformResponse:me},n)).finally(function(){ie.totalPendingRequests--}).then(function(Ee){return P.put(re,Ee.data)},be);function be(Ee){return ne||(Ee=Ha("tpload","Failed to load template: {0} (HTTP status: {1} {2})",re,Ee.status,Ee.statusText),y(Ee)),X.reject(Ee)}}return ie.totalPendingRequests=0,ie}]}function bl(){this.$get=["$rootScope","$browser","$location",function(n,y,P){var H={};return H.findBindings=function(X,ue,ie){var re=X.getElementsByClassName("ng-binding"),ne=[];return e(re,function(me){var be=p.element(me).data("$binding");be&&e(be,function(Ee){if(ie){var Ae=new RegExp("(^|\\s)"+qe(ue)+"(\\s|\\||$)");Ae.test(Ee)&&ne.push(me)}else Ee.indexOf(ue)!==-1&&ne.push(me)})}),ne},H.findModels=function(X,ue,ie){for(var re=["ng-","data-ng-","ng\\:"],ne=0;ne<re.length;++ne){var me=ie?"=":"*=",be="["+re[ne]+"model"+me+'"'+ue+'"]',Ee=X.querySelectorAll(be);if(Ee.length)return Ee}},H.getLocation=function(){return P.url()},H.setLocation=function(X){X!==P.url()&&(P.url(X),n.$digest())},H.whenStable=function(X){y.notifyWhenNoOutstandingRequests(X)},H}]}var yl=I("$timeout");function Qr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,y,P,H,X){var ue={};function ie(re,ne,me){K(re)||(me=ne,ne=re,re=b);var be=de(arguments,3),Ee=L(me)&&!me,Ae=(Ee?H:P).defer(),Fe=Ae.promise,Oe;return Oe=y.defer(function(){try{Ae.resolve(re.apply(null,be))}catch(at){Ae.reject(at),X(at)}finally{delete ue[Fe.$$timeoutId]}Ee||n.$apply()},ne,"$timeout"),Fe.$$timeoutId=Oe,ue[Oe]=Ae,Fe}return ie.cancel=function(re){if(!re)return!1;if(!re.hasOwnProperty("$$timeoutId"))throw yl("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!ue.hasOwnProperty(re.$$timeoutId))return!1;var ne=re.$$timeoutId,me=ue[ne];return oo(me.promise),me.reject("canceled"),delete ue[ne],y.defer.cancel(ne)},ie}]}var tr=we.document.createElement("a"),Ua=Et(we.location.href),gi;tr.href="http://[::1]";var wl=tr.hostname==="[::1]";function Et(n){if(!ae(n))return n;var y=n;M&&(tr.setAttribute("href",y),y=tr.href),tr.setAttribute("href",y);var P=tr.hostname;return!wl&&P.indexOf(":")>-1&&(P="["+P+"]"),{href:tr.href,protocol:tr.protocol?tr.protocol.replace(/:$/,""):"",host:tr.host,search:tr.search?tr.search.replace(/^\?/,""):"",hash:tr.hash?tr.hash.replace(/^#/,""):"",hostname:P,port:tr.port,pathname:tr.pathname.charAt(0)==="/"?tr.pathname:"/"+tr.pathname}}function _l(n){return An(n,Ua)}function Sl(n){return An(n,ao())}function ja(n){var y=[Ua].concat(n.map(Et));return function(H){var X=Et(H);return y.some(An.bind(null,X))}}function An(n,y){return n=Et(n),y=Et(y),n.protocol===y.protocol&&n.host===y.host}function ao(){return we.document.baseURI?we.document.baseURI:(gi||(gi=we.document.createElement("a"),gi.href=".",gi=gi.cloneNode(!1)),gi.href)}function za(){this.$get=$(we)}function so(n){var y=n[0]||{},P={},H="";function X(ie){try{return ie.cookie||""}catch{return""}}function ue(ie){try{return decodeURIComponent(ie)}catch{return ie}}return function(){var ie,re,ne,me,be,Ee=X(y);if(Ee!==H)for(H=Ee,ie=H.split("; "),P={},ne=0;ne<ie.length;ne++)re=ie[ne],me=re.indexOf("="),me>0&&(be=ue(re.substring(0,me)),R(P[be])&&(P[be]=ue(re.substring(me+1))));return P}}so.$inject=["$document"];function El(){this.$get=so}Va.$inject=["$provide"];function Va(n){var y="Filter";function P(H,X){if(Y(H)){var ue={};return e(H,function(ie,re){ue[re]=P(re,ie)}),ue}else return n.factory(H+y,X)}this.register=P,this.$get=["$injector",function(H){return function(X){return H.get(X+y)}}],P("currency",Ga),P("date",Ja),P("filter",xl),P("json",ai),P("limitTo",Fl),P("lowercase",Ml),P("number",Vo),P("orderBy",Xa),P("uppercase",$l)}function xl(){return function(n,y,P,H){if(!h(n)){if(n==null)return n;throw I("filter")("notarray","Expected array but received: {0}",n)}H=H||"$";var X=Nr(y),ue,ie;switch(X){case"function":ue=y;break;case"boolean":case"null":case"number":case"string":ie=!0;case"object":ue=Cl(y,P,H,ie);break;default:return n}return Array.prototype.filter.call(n,ue)}}function Cl(n,y,P,H){var X=Y(n)&&P in n,ue;return y===!0?y=Mt:K(y)||(y=function(ie,re){return R(ie)?!1:ie===null||re===null?ie===re:Y(re)||Y(ie)&&!W(ie)?!1:(ie=x(""+ie),re=x(""+re),ie.indexOf(re)!==-1)}),ue=function(ie){return X&&!Y(ie)?oi(ie,n[P],y,P,!1):oi(ie,n,y,P,H)},ue}function oi(n,y,P,H,X,ue){var ie=Nr(n),re=Nr(y);if(re==="string"&&y.charAt(0)==="!")return!oi(n,y.substring(1),P,H,X);if(se(n))return n.some(function(Ae){return oi(Ae,y,P,H,X)});switch(ie){case"object":var ne;if(X){for(ne in n)if(ne.charAt&&ne.charAt(0)!=="$"&&oi(n[ne],y,P,H,!0))return!0;return ue?!1:oi(n,y,P,H,!1)}else if(re==="object"){for(ne in y){var me=y[ne];if(!(K(me)||R(me))){var be=ne===H,Ee=be?n:n[ne];if(!oi(Ee,me,P,H,be,be))return!1}}return!0}else return P(n,y);case"function":return!1;default:return P(n,y)}}function Nr(n){return n===null?"null":typeof n}var Wa=22,jo=".",zo="0";Ga.$inject=["$locale"];function Ga(n){var y=n.NUMBER_FORMATS;return function(P,H,X){R(H)&&(H=y.CURRENCY_SYM),R(X)&&(X=y.PATTERNS[1].maxFrac);var ue=H?/\u00A4/g:/\s*\u00A4\s*/g;return P==null?P:lo(P,y.PATTERNS[1],y.GROUP_SEP,y.DECIMAL_SEP,X).replace(ue,H)}}Vo.$inject=["$locale"];function Vo(n){var y=n.NUMBER_FORMATS;return function(P,H){return P==null?P:lo(P,y.PATTERNS[0],y.GROUP_SEP,y.DECIMAL_SEP,H)}}function Al(n){var y=0,P,H,X,ue,ie;for((H=n.indexOf(jo))>-1&&(n=n.replace(jo,"")),(X=n.search(/e/i))>0?(H<0&&(H=X),H+=+n.slice(X+1),n=n.substring(0,X)):H<0&&(H=n.length),X=0;n.charAt(X)===zo;X++);if(X===(ie=n.length))P=[0],H=1;else{for(ie--;n.charAt(ie)===zo;)ie--;for(H-=X,P=[],ue=0;X<=ie;X++,ue++)P[ue]=+n.charAt(X)}return H>Wa&&(P=P.splice(0,Wa-1),y=H-1,H=1),{d:P,e:y,i:H}}function qa(n,y,P,H){var X=n.d,ue=X.length-n.i;y=R(y)?Math.min(Math.max(P,ue),H):+y;var ie=y+n.i,re=X[ie];if(ie>0){X.splice(Math.max(n.i,ie));for(var ne=ie;ne<X.length;ne++)X[ne]=0}else{ue=Math.max(0,ue),n.i=1,X.length=Math.max(1,ie=y+1),X[0]=0;for(var me=1;me<ie;me++)X[me]=0}if(re>=5)if(ie-1<0){for(var be=0;be>ie;be--)X.unshift(0),n.i++;X.unshift(1),n.i++}else X[ie-1]++;for(;ue<Math.max(0,y);ue++)X.push(0);var Ee=X.reduceRight(function(Ae,Fe,Oe,at){return Fe=Fe+Ae,at[Oe]=Fe%10,Math.floor(Fe/10)},0);Ee&&(X.unshift(Ee),n.i++)}function lo(n,y,P,H,X){if(!(ae(n)||fe(n))||isNaN(n))return"";var ue=!isFinite(n),ie=!1,re=Math.abs(n)+"",ne="",me;if(ue)ne="\u221E";else{me=Al(re),qa(me,X,y.minFrac,y.maxFrac);var be=me.d,Ee=me.i,Ae=me.e,Fe=[];for(ie=be.reduce(function(at,vt){return at&&!vt},!0);Ee<0;)be.unshift(0),Ee++;Ee>0?Fe=be.splice(Ee,be.length):(Fe=be,be=[0]);var Oe=[];for(be.length>=y.lgSize&&Oe.unshift(be.splice(-y.lgSize,be.length).join(""));be.length>y.gSize;)Oe.unshift(be.splice(-y.gSize,be.length).join(""));be.length&&Oe.unshift(be.join("")),ne=Oe.join(P),Fe.length&&(ne+=H+Fe.join("")),Ae&&(ne+="e+"+Ae)}return n<0&&!ie?y.negPre+ne+y.negSuf:y.posPre+ne+y.posSuf}function co(n,y,P,H){var X="";for((n<0||H&&n<=0)&&(H?n=-n+1:(n=-n,X="-")),n=""+n;n.length<y;)n=zo+n;return P&&(n=n.substr(n.length-y)),X+n}function Hn(n,y,P,H,X){return P=P||0,function(ue){var ie=ue["get"+n]();return(P>0||ie>-P)&&(ie+=P),ie===0&&P===-12&&(ie=12),co(ie,y,H,X)}}function mi(n,y,P){return function(H,X){var ue=H["get"+n](),ie=(P?"STANDALONE":"")+(y?"SHORT":""),re=d(ie+n);return X[re][ue]}}function kl(n,y,P){var H=-1*P,X=H>=0?"+":"";return X+=co(Math[H>0?"floor":"ceil"](H/60),2)+co(Math.abs(H%60),2),X}function Ya(n){var y=new Date(n,0,1).getDay();return new Date(n,0,(y<=4?5:12)-y)}function Rl(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ka(n){return function(y){var P=Ya(y.getFullYear()),H=Rl(y),X=+H-+P,ue=1+Math.round(X/6048e5);return co(ue,n)}}function Tl(n,y){return n.getHours()<12?y.AMPMS[0]:y.AMPMS[1]}function Wo(n,y){return n.getFullYear()<=0?y.ERAS[0]:y.ERAS[1]}function Il(n,y){return n.getFullYear()<=0?y.ERANAMES[0]:y.ERANAMES[1]}var Pl={yyyy:Hn("FullYear",4,0,!1,!0),yy:Hn("FullYear",2,0,!0,!0),y:Hn("FullYear",1,0,!1,!0),MMMM:mi("Month"),MMM:mi("Month",!0),MM:Hn("Month",2,1),M:Hn("Month",1,1),LLLL:mi("Month",!1,!0),dd:Hn("Date",2),d:Hn("Date",1),HH:Hn("Hours",2),H:Hn("Hours",1),hh:Hn("Hours",2,-12),h:Hn("Hours",1,-12),mm:Hn("Minutes",2),m:Hn("Minutes",1),ss:Hn("Seconds",2),s:Hn("Seconds",1),sss:Hn("Milliseconds",3),EEEE:mi("Day"),EEE:mi("Day",!0),a:Tl,Z:kl,ww:Ka(2),w:Ka(1),G:Wo,GG:Wo,GGG:Wo,GGGG:Il},Dl=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ll=/^-?\d+$/;Ja.$inject=["$locale"];function Ja(n){var y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function P(H){var X;if(X=H.match(y)){var ue=new Date(0),ie=0,re=0,ne=X[8]?ue.setUTCFullYear:ue.setFullYear,me=X[8]?ue.setUTCHours:ue.setHours;X[9]&&(ie=a(X[9]+X[10]),re=a(X[9]+X[11])),ne.call(ue,a(X[1]),a(X[2])-1,a(X[3]));var be=a(X[4]||0)-ie,Ee=a(X[5]||0)-re,Ae=a(X[6]||0),Fe=Math.round(parseFloat("0."+(X[7]||0))*1e3);return me.call(ue,be,Ee,Ae,Fe),ue}return H}return function(H,X,ue){var ie="",re=[],ne,me;if(X=X||"mediumDate",X=n.DATETIME_FORMATS[X]||X,ae(H)&&(H=Ll.test(H)?a(H):P(H)),fe(H)&&(H=new Date(H)),!xe(H)||!isFinite(H.getTime()))return H;for(;X;)me=Dl.exec(X),me?(re=te(re,me,1),X=re.pop()):(re.push(X),X=null);var be=H.getTimezoneOffset();return ue&&(be=mt(ue,be),H=Dt(H,ue,!0)),e(re,function(Ee){ne=Pl[Ee],ie+=ne?ne(H,n.DATETIME_FORMATS,be):Ee==="''"?"'":Ee.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ie}}function ai(){return function(n,y){return R(y)&&(y=2),ze(n,y)}}var Ml=$(x),$l=$(d);function Fl(){return function(n,y,P){return Math.abs(Number(y))===1/0?y=Number(y):y=a(y),l(y)||(fe(n)&&(n=n.toString()),!h(n))?n:(P=!P||isNaN(P)?0:a(P),P=P<0?Math.max(0,n.length+P):P,y>=0?Go(n,P,P+y):P===0?Go(n,y,n.length):Go(n,Math.max(0,P+y),P))}}function Go(n,y,P){return ae(n)?n.slice(y,P):N.call(n,y,P)}Xa.$inject=["$parse"];function Xa(n){return function(ie,re,ne,me){if(ie==null)return ie;if(!h(ie))throw I("orderBy")("notarray","Expected array but received: {0}",ie);se(re)||(re=[re]),re.length===0&&(re=["+"]);var be=y(re),Ee=ne?-1:1,Ae=K(me)?me:ue,Fe=Array.prototype.map.call(ie,Oe);return Fe.sort(at),ie=Fe.map(function(vt){return vt.value}),ie;function Oe(vt,st){return{value:vt,tieBreaker:{value:st,type:"number",index:st},predicateValues:be.map(function(ot){return X(ot.get(vt),st)})}}function at(vt,st){for(var ot=0,it=be.length;ot<it;ot++){var ut=Ae(vt.predicateValues[ot],st.predicateValues[ot]);if(ut)return ut*be[ot].descending*Ee}return(Ae(vt.tieBreaker,st.tieBreaker)||ue(vt.tieBreaker,st.tieBreaker))*Ee}};function y(ie){return ie.map(function(re){var ne=1,me=C;if(K(re))me=re;else if(ae(re)&&((re.charAt(0)==="+"||re.charAt(0)==="-")&&(ne=re.charAt(0)==="-"?-1:1,re=re.substring(1)),re!==""&&(me=n(re),me.constant))){var be=me();me=function(Ee){return Ee[be]}}return{get:me,descending:ne}})}function P(ie){switch(typeof ie){case"number":case"boolean":case"string":return!0;default:return!1}}function H(ie){return K(ie.valueOf)&&(ie=ie.valueOf(),P(ie))||W(ie)&&(ie=ie.toString(),P(ie)),ie}function X(ie,re){var ne=typeof ie;return ie===null?ne="null":ne==="object"&&(ie=H(ie)),{value:ie,type:ne,index:re}}function ue(ie,re){var ne=0,me=ie.type,be=re.type;if(me===be){var Ee=ie.value,Ae=re.value;me==="string"?(Ee=Ee.toLowerCase(),Ae=Ae.toLowerCase()):me==="object"&&(Y(Ee)&&(Ee=ie.index),Y(Ae)&&(Ae=re.index)),Ee!==Ae&&(ne=Ee<Ae?-1:1)}else ne=me==="undefined"?1:be==="undefined"?-1:me==="null"?1:be==="null"||me<be?-1:1;return ne}}function vi(n){return K(n)&&(n={link:n}),n.restrict=n.restrict||"AC",$(n)}var Ol=$({restrict:"E",compile:function(n,y){if(!y.href&&!y.xlinkHref)return function(P,H){if(H[0].nodeName.toLowerCase()==="a"){var X=m.call(H.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";H.on("click",function(ue){H.attr(X)||ue.preventDefault()})}}}}),uo={};e(qi,function(n,y){if(n==="multiple")return;function P(ue,ie,re){ue.$watch(re[H],function(me){re.$set(y,!!me)})}var H=Or("ng-"+y),X=P;n==="checked"&&(X=function(ue,ie,re){re.ngModel!==re[H]&&P(ue,ie,re)}),uo[H]=function(){return{restrict:"A",priority:100,link:X}}}),e(On,function(n,y){uo[y]=function(){return{priority:100,link:function(P,H,X){if(y==="ngPattern"&&X.ngPattern.charAt(0)==="/"){var ue=X.ngPattern.match(D);if(ue){X.$set("ngPattern",new RegExp(ue[1],ue[2]));return}}P.$watch(X[y],function(re){X.$set(y,re)})}}}}),e(["src","srcset","href"],function(n){var y=Or("ng-"+n);uo[y]=["$sce",function(P){return{priority:99,link:function(H,X,ue){var ie=n,re=n;n==="href"&&m.call(X.prop("href"))==="[object SVGAnimatedString]"&&(re="xlinkHref",ue.$attr[re]="xlink:href",ie=null),ue.$set(y,P.getTrustedMediaUrl(ue[y])),ue.$observe(y,function(ne){if(!ne){n==="href"&&ue.$set(re,null);return}ue.$set(re,ne),M&&ie&&X.prop(ie,ue[re])})}}}]});var Ar={$addControl:b,$getControls:$([]),$$renameControl:Nl,$removeControl:b,$setValidity:b,$setDirty:b,$setPristine:b,$setSubmitted:b,$$setSubmitted:b},si="ng-pending",Za="ng-submitted";function Nl(n,y){n.$name=y}fo.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function fo(n,y,P,H,X){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=X(y.name||y.ngForm||"")(P),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ar,this.$$element=n,this.$$animate=H,li(this)}fo.prototype={$rollbackViewValue:function(){e(this.$$controls,function(n){n.$rollbackViewValue()})},$commitViewValue:function(){e(this.$$controls,function(n){n.$commitViewValue()})},$addControl:function(n){en(n.$name,"input"),this.$$controls.push(n),n.$name&&(this[n.$name]=n),n.$$parentForm=this},$getControls:function(){return ye(this.$$controls)},$$renameControl:function(n,y){var P=n.$name;this[P]===n&&delete this[P],this[y]=n,n.$name=y},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],e(this.$pending,function(y,P){this.$setValidity(P,null,n)},this),e(this.$error,function(y,P){this.$setValidity(P,null,n)},this),e(this.$$success,function(y,P){this.$setValidity(P,null,n)},this),Ge(this.$$controls,n),n.$$parentForm=Ar},$setDirty:function(){this.$$animate.removeClass(this.$$element,po),this.$$animate.addClass(this.$$element,ts),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,po,ts+" "+Za),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,e(this.$$controls,function(n){n.$setPristine()})},$setUntouched:function(){e(this.$$controls,function(n){n.$setUntouched()})},$setSubmitted:function(){for(var n=this;n.$$parentForm&&n.$$parentForm!==Ar;)n=n.$$parentForm;n.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Za),this.$submitted=!0,e(this.$$controls,function(n){n.$$setSubmitted&&n.$$setSubmitted()})}},Li({clazz:fo,set:function(n,y,P){var H=n[y];if(!H)n[y]=[P];else{var X=H.indexOf(P);X===-1&&H.push(P)}},unset:function(n,y,P){var H=n[y];H&&(Ge(H,P),H.length===0&&delete n[y])}});var Qa=function(n){return["$timeout","$parse",function(y,P){var H={name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:fo,compile:function(ie,re){ie.addClass(po).addClass(Ko);var ne=re.name?"name":n&&re.ngForm?"ngForm":!1;return{pre:function(be,Ee,Ae,Fe){var Oe=Fe[0];if(!("action"in Ae)){var at=function(ot){be.$apply(function(){Oe.$commitViewValue(),Oe.$setSubmitted()}),ot.preventDefault()};Ee[0].addEventListener("submit",at),Ee.on("$destroy",function(){y(function(){Ee[0].removeEventListener("submit",at)},0,!1)})}var vt=Fe[1]||Oe.$$parentForm;vt.$addControl(Oe);var st=ne?X(Oe.$name):b;ne&&(st(be,Oe),Ae.$observe(ne,function(ot){Oe.$name!==ot&&(st(be,void 0),Oe.$$parentForm.$$renameControl(Oe,ot),st=X(Oe.$name),st(be,Oe))})),Ee.on("$destroy",function(){Oe.$$parentForm.$removeControl(Oe),st(be,void 0),t(Oe,Ar)})}}}};return H;function X(ue){return ue===""?P('this[""]').assign:P(ue).assign||b}}]},Bl=Qa(),qo=Qa(!0);function li(n){n.$$classCache={},n.$$classCache[mc]=!(n.$$classCache[Ko]=n.$$element.hasClass(Ko))}function Li(n){var y=n.clazz,P=n.set,H=n.unset;y.prototype.$setValidity=function(ne,me,be){R(me)?X(this,"$pending",ne,be):ue(this,"$pending",ne,be),le(me)?me?(H(this.$error,ne,be),P(this.$$success,ne,be)):(P(this.$error,ne,be),H(this.$$success,ne,be)):(H(this.$error,ne,be),H(this.$$success,ne,be)),this.$pending?(ie(this,si,!0),this.$valid=this.$invalid=void 0,re(this,"",null)):(ie(this,si,!1),this.$valid=En(this.$error),this.$invalid=!this.$valid,re(this,"",this.$valid));var Ee;this.$pending&&this.$pending[ne]?Ee=void 0:this.$error[ne]?Ee=!1:this.$$success[ne]?Ee=!0:Ee=null,re(this,ne,Ee),this.$$parentForm.$setValidity(ne,Ee,this)};function X(ne,me,be,Ee){ne[me]||(ne[me]={}),P(ne[me],be,Ee)}function ue(ne,me,be,Ee){ne[me]&&H(ne[me],be,Ee),En(ne[me])&&(ne[me]=void 0)}function ie(ne,me,be){be&&!ne.$$classCache[me]?(ne.$$animate.addClass(ne.$$element,me),ne.$$classCache[me]=!0):!be&&ne.$$classCache[me]&&(ne.$$animate.removeClass(ne.$$element,me),ne.$$classCache[me]=!1)}function re(ne,me,be){me=me?"-"+on(me,"-"):"",ie(ne,Ko+me,be===!0),ie(ne,mc+me,be===!1)}}function En(n){if(n){for(var y in n)if(n.hasOwnProperty(y))return!1}return!0}var S=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,V=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,he=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ve=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ce=/^(\d{4,})-(\d{2})-(\d{2})$/,Ve=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ht=/^(\d{4,})-W(\d\d)$/,jt=/^(\d{4,})-(\d\d)$/,mn=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xn="keydown wheel mousedown",hr=Ht();e("date,datetime-local,month,time,week".split(","),function(n){hr[n]=!0});var Ur={text:ru,date:Yo("date",Ce,es(Ce,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Yo("datetimelocal",Ve,es(Ve,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Yo("time",mn,es(mn,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Yo("week",ht,iu,"yyyy-Www"),month:Yo("month",jt,es(jt,["yyyy","MM"]),"yyyy-MM"),number:ou,url:su,email:lu,radio:cu,range:au,checkbox:uu,hidden:b,button:b,submit:b,reset:b,file:b};function jr(n){n.$formatters.push(function(y){return n.$isEmpty(y)?y:y.toString()})}function ru(n,y,P,H,X,ue){ho(n,y,P,H,X,ue),jr(H)}function ho(n,y,P,H,X,ue){var ie=x(y[0].type);if(!X.android){var re=!1;y.on("compositionstart",function(){re=!0}),y.on("compositionupdate",function(Ee){(R(Ee.data)||Ee.data==="")&&(re=!1)}),y.on("compositionend",function(){re=!1,me()})}var ne,me=function(Ee){if(ne&&(ue.defer.cancel(ne),ne=null),!re){var Ae=y.val(),Fe=Ee&&Ee.type;ie!=="password"&&(!P.ngTrim||P.ngTrim!=="false")&&(Ae=$e(Ae)),(H.$viewValue!==Ae||Ae===""&&H.$$hasNativeValidators)&&H.$setViewValue(Ae,Fe)}};if(X.hasEvent("input"))y.on("input",me);else{var be=function(Ee,Ae,Fe){ne||(ne=ue.defer(function(){ne=null,(!Ae||Ae.value!==Fe)&&me(Ee)}))};y.on("keydown",function(Ee){var Ae=Ee.keyCode;Ae===91||15<Ae&&Ae<19||37<=Ae&&Ae<=40||be(Ee,this,this.value)}),X.hasEvent("paste")&&y.on("paste cut drop",be)}y.on("change",me),hr[ie]&&H.$$hasNativeValidators&&ie===P.type&&y.on(xn,function(Ee){if(!ne){var Ae=this[T],Fe=Ae.badInput,Oe=Ae.typeMismatch;ne=ue.defer(function(){ne=null,(Ae.badInput!==Fe||Ae.typeMismatch!==Oe)&&me(Ee)})}}),H.$render=function(){var Ee=H.$isEmpty(H.$viewValue)?"":H.$viewValue;y.val()!==Ee&&y.val(Ee)}}function iu(n,y){if(xe(n))return n;if(ae(n)){ht.lastIndex=0;var P=ht.exec(n);if(P){var H=+P[1],X=+P[2],ue=0,ie=0,re=0,ne=0,me=Ya(H),be=(X-1)*7;return y&&(ue=y.getHours(),ie=y.getMinutes(),re=y.getSeconds(),ne=y.getMilliseconds()),new Date(H,0,me.getDate()+be,ue,ie,re,ne)}}return NaN}function es(n,y){return function(P,H){var X,ue;if(xe(P))return P;if(ae(P)){if(P.charAt(0)==='"'&&P.charAt(P.length-1)==='"'&&(P=P.substring(1,P.length-1)),S.test(P))return new Date(P);if(n.lastIndex=0,X=n.exec(P),X){X.shift(),H?ue={yyyy:H.getFullYear(),MM:H.getMonth()+1,dd:H.getDate(),HH:H.getHours(),mm:H.getMinutes(),ss:H.getSeconds(),sss:H.getMilliseconds()/1e3}:ue={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},e(X,function(re,ne){ne<y.length&&(ue[y[ne]]=+re)});var ie=new Date(ue.yyyy,ue.MM-1,ue.dd,ue.HH,ue.mm,ue.ss||0,ue.sss*1e3||0);return ue.yyyy<100&&ie.setFullYear(ue.yyyy),ie}}return NaN}}function Yo(n,y,P,H){return function(ue,ie,re,ne,me,be,Ee,Ae){Hl(ue,ie,re,ne,n),ho(ue,ie,re,ne,me,be);var Fe=n==="time"||n==="datetimelocal",Oe,at;if(ne.$parsers.push(function(Ie){if(ne.$isEmpty(Ie))return null;if(y.test(Ie))return Xe(Ie,Oe);ne.$$parserName=n}),ne.$formatters.push(function(Ie){if(Ie&&!xe(Ie))throw Jo("datefmt","Expected `{0}` to be a date",Ie);if(ut(Ie)){Oe=Ie;var Ne=ne.$options.getOption("timezone");return Ne&&(at=Ne,Oe=Dt(Oe,Ne,!0)),Le(Ie,Ne)}else return Oe=null,at=null,""}),L(re.min)||re.ngMin){var vt=re.min||Ae(re.ngMin)(ue),st=je(vt);ne.$validators.min=function(Ie){return!ut(Ie)||R(st)||P(Ie)>=st},re.$observe("min",function(Ie){Ie!==vt&&(st=je(Ie),vt=Ie,ne.$validate())})}if(L(re.max)||re.ngMax){var ot=re.max||Ae(re.ngMax)(ue),it=je(ot);ne.$validators.max=function(Ie){return!ut(Ie)||R(it)||P(Ie)<=it},re.$observe("max",function(Ie){Ie!==ot&&(it=je(Ie),ot=Ie,ne.$validate())})}function ut(Ie){return Ie&&!(Ie.getTime&&Ie.getTime()!==Ie.getTime())}function je(Ie){return L(Ie)&&!xe(Ie)?Xe(Ie)||void 0:Ie}function Xe(Ie,Ne){var Be=ne.$options.getOption("timezone");at&&at!==Be&&(Ne=et(Ne,mt(at)));var tt=P(Ie,Ne);return!isNaN(tt)&&Be&&(tt=Dt(tt,Be)),tt}function Le(Ie,Ne){var Be=H;Fe&&ae(ne.$options.getOption("timeSecondsFormat"))&&(Be=H.replace("ss.sss",ne.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var tt=Ee("date")(Ie,Be,Ne);return Fe&&ne.$options.getOption("timeStripZeroSeconds")&&(tt=tt.replace(/(?::00)?(?:\.000)?$/,"")),tt}}}function Hl(n,y,P,H,X){var ue=y[0],ie=H.$$hasNativeValidators=Y(ue.validity);ie&&H.$parsers.push(function(re){var ne=y.prop(T)||{};if(ne.badInput||ne.typeMismatch){H.$$parserName=X;return}return re})}function uc(n){n.$parsers.push(function(y){if(n.$isEmpty(y))return null;if(ve.test(y))return parseFloat(y);n.$$parserName="number"}),n.$formatters.push(function(y){if(!n.$isEmpty(y)){if(!fe(y))throw Jo("numfmt","Expected `{0}` to be a number",y);y=y.toString()}return y})}function zr(n){return L(n)&&!fe(n)&&(n=parseFloat(n)),l(n)?void 0:n}function Ul(n){return(n|0)===n}function jl(n){var y=n.toString(),P=y.indexOf(".");if(P===-1){if(-1<n&&n<1){var H=/e-(\d+)$/.exec(y);if(H)return Number(H[1])}return 0}return y.length-P-1}function dc(n,y,P){var H=Number(n),X=!Ul(H),ue=!Ul(y),ie=!Ul(P);if(X||ue||ie){var re=X?jl(H):0,ne=ue?jl(y):0,me=ie?jl(P):0,be=Math.max(re,ne,me),Ee=Math.pow(10,be);H=H*Ee,y=y*Ee,P=P*Ee,X&&(H=Math.round(H)),ue&&(y=Math.round(y)),ie&&(P=Math.round(P))}return(H-y)%P===0}function ou(n,y,P,H,X,ue,ie,re){Hl(n,y,P,H,"number"),uc(H),ho(n,y,P,H,X,ue);var ne;if(L(P.min)||P.ngMin){var me=P.min||re(P.ngMin)(n);ne=zr(me),H.$validators.min=function(Oe,at){return H.$isEmpty(at)||R(ne)||at>=ne},P.$observe("min",function(Oe){Oe!==me&&(ne=zr(Oe),me=Oe,H.$validate())})}if(L(P.max)||P.ngMax){var be=P.max||re(P.ngMax)(n),Ee=zr(be);H.$validators.max=function(Oe,at){return H.$isEmpty(at)||R(Ee)||at<=Ee},P.$observe("max",function(Oe){Oe!==be&&(Ee=zr(Oe),be=Oe,H.$validate())})}if(L(P.step)||P.ngStep){var Ae=P.step||re(P.ngStep)(n),Fe=zr(Ae);H.$validators.step=function(Oe,at){return H.$isEmpty(at)||R(Fe)||dc(at,ne||0,Fe)},P.$observe("step",function(Oe){Oe!==Ae&&(Fe=zr(Oe),Ae=Oe,H.$validate())})}}function au(n,y,P,H,X,ue){Hl(n,y,P,H,"range"),uc(H),ho(n,y,P,H,X,ue);var ie=H.$$hasNativeValidators&&y[0].type==="range",re=ie?0:void 0,ne=ie?100:void 0,me=ie?1:void 0,be=y[0].validity,Ee=L(P.min),Ae=L(P.max),Fe=L(P.step),Oe=H.$render;H.$render=ie&&L(be.rangeUnderflow)&&L(be.rangeOverflow)?function(){Oe(),H.$setViewValue(y.val())}:Oe,Ee&&(re=zr(P.min),H.$validators.min=ie?function(){return!0}:function(ut,je){return H.$isEmpty(je)||R(re)||je>=re},at("min",vt)),Ae&&(ne=zr(P.max),H.$validators.max=ie?function(){return!0}:function(ut,je){return H.$isEmpty(je)||R(ne)||je<=ne},at("max",st)),Fe&&(me=zr(P.step),H.$validators.step=ie?function(){return!be.stepMismatch}:function(ut,je){return H.$isEmpty(je)||R(me)||dc(je,re||0,me)},at("step",ot));function at(it,ut){y.attr(it,P[it]);var je=P[it];P.$observe(it,function(Le){Le!==je&&(je=Le,ut(Le))})}function vt(it){if(re=zr(it),!l(H.$modelValue))if(ie){var ut=y.val();re>ut&&(ut=re,y.val(ut)),H.$setViewValue(ut)}else H.$validate()}function st(it){if(ne=zr(it),!l(H.$modelValue))if(ie){var ut=y.val();ne<ut&&(y.val(ne),ut=ne<re?re:ne),H.$setViewValue(ut)}else H.$validate()}function ot(it){me=zr(it),!l(H.$modelValue)&&(ie?H.$viewValue!==y.val()&&H.$setViewValue(y.val()):H.$validate())}}function su(n,y,P,H,X,ue){ho(n,y,P,H,X,ue),jr(H),H.$validators.url=function(ie,re){var ne=ie||re;return H.$isEmpty(ne)||V.test(ne)}}function lu(n,y,P,H,X,ue){ho(n,y,P,H,X,ue),jr(H),H.$validators.email=function(ie,re){var ne=ie||re;return H.$isEmpty(ne)||he.test(ne)}}function cu(n,y,P,H){var X=!P.ngTrim||$e(P.ngTrim)!=="false";R(P.name)&&y.attr("name",c());var ue=function(ie){var re;y[0].checked&&(re=P.value,X&&(re=$e(re)),H.$setViewValue(re,ie&&ie.type))};y.on("change",ue),H.$render=function(){var ie=P.value;X&&(ie=$e(ie)),y[0].checked=ie===H.$viewValue},P.$observe("value",H.$render)}function fc(n,y,P,H,X){var ue;if(L(H)){if(ue=n(H),!ue.constant)throw Jo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",P,H);return ue(y)}return X}function uu(n,y,P,H,X,ue,ie,re){var ne=fc(re,n,"ngTrueValue",P.ngTrueValue,!0),me=fc(re,n,"ngFalseValue",P.ngFalseValue,!1),be=function(Ee){H.$setViewValue(y[0].checked,Ee&&Ee.type)};y.on("change",be),H.$render=function(){y[0].checked=H.$viewValue},H.$isEmpty=function(Ee){return Ee===!1},H.$formatters.push(function(Ee){return Mt(Ee,ne)}),H.$parsers.push(function(Ee){return Ee?ne:me})}var hc=["$browser","$sniffer","$filter","$parse",function(n,y,P,H){return{restrict:"E",require:["?ngModel"],link:{pre:function(X,ue,ie,re){re[0]&&(Ur[x(ie.type)]||Ur.text)(X,ue,ie,re[0],y,n,P,H)}}}}],du=function(){var n={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(y){this.setAttribute("value",y)}};return{restrict:"E",priority:200,compile:function(y,P){if(x(P.type)==="hidden")return{pre:function(H,X,ue,ie){var re=X[0];re.parentNode&&re.parentNode.insertBefore(re,re.nextSibling),Object.defineProperty&&Object.defineProperty(re,"value",n)}}}}},fu=/^(true|false|\d+)$/,hu=function(){function n(y,P,H){var X=L(H)?H:M===9?"":null;y.prop("value",X),P.$set("value",H)}return{restrict:"A",priority:100,compile:function(y,P){return fu.test(P.ngValue)?function(X,ue,ie){var re=X.$eval(ie.ngValue);n(ue,ie,re)}:function(X,ue,ie){X.$watch(ie.ngValue,function(ne){n(ue,ie,ne)})}}}},pu=["$compile",function(n){return{restrict:"AC",compile:function(P){return n.$$addBindingClass(P),function(X,ue,ie){n.$$addBindingInfo(ue,ie.ngBind),ue=ue[0],X.$watch(ie.ngBind,function(ne){ue.textContent=hn(ne)})}}}}],gu=["$interpolate","$compile",function(n,y){return{compile:function(H){return y.$$addBindingClass(H),function(ue,ie,re){var ne=n(ie.attr(re.$attr.ngBindTemplate));y.$$addBindingInfo(ie,ne.expressions),ie=ie[0],re.$observe("ngBindTemplate",function(me){ie.textContent=R(me)?"":me})}}}}],mu=["$sce","$parse","$compile",function(n,y,P){return{restrict:"A",compile:function(X,ue){var ie=y(ue.ngBindHtml),re=y(ue.ngBindHtml,function(me){return n.valueOf(me)});return P.$$addBindingClass(X),function(me,be,Ee){P.$$addBindingInfo(be,Ee.ngBindHtml),me.$watch(re,function(){var Fe=ie(me);be.html(n.getTrustedHtml(Fe)||"")})}}}}],vu=$({restrict:"A",require:"ngModel",link:function(n,y,P,H){H.$viewChangeListeners.push(function(){n.$eval(P.ngChange)})}});function zl(n,y){n="ngClass"+n;var P;return["$parse",function(ie){return{restrict:"AC",link:function(re,ne,me){var be=ne.data("$classCounts"),Ee=!0,Ae;be||(be=Ht(),ne.data("$classCounts",be)),n!=="ngClass"&&(P||(P=ie("$index",function(ut){return ut&1})),re.$watch(P,st)),re.$watch(ie(me[n],ue),ot);function Fe(it){it=vt(X(it),1),me.$addClass(it)}function Oe(it){it=vt(X(it),-1),me.$removeClass(it)}function at(it,ut){var je=X(it),Xe=X(ut),Le=H(je,Xe),Ie=H(Xe,je),Ne=vt(Le,-1),Be=vt(Ie,1);me.$addClass(Be),me.$removeClass(Ne)}function vt(it,ut){var je=[];return e(it,function(Xe){(ut>0||be[Xe])&&(be[Xe]=(be[Xe]||0)+ut,be[Xe]===+(ut>0)&&je.push(Xe))}),je.join(" ")}function st(it){it===y?Fe(Ae):Oe(Ae),Ee=it}function ot(it){Ee===y&&at(Ae,it),Ae=it}}}}];function H(ie,re){if(!ie||!ie.length)return[];if(!re||!re.length)return ie;var ne=[];e:for(var me=0;me<ie.length;me++){for(var be=ie[me],Ee=0;Ee<re.length;Ee++)if(be===re[Ee])continue e;ne.push(be)}return ne}function X(ie){return ie&&ie.split(" ")}function ue(ie){if(!ie)return ie;var re=ie;return se(ie)?re=ie.map(ue).join(" "):Y(ie)?re=Object.keys(ie).filter(function(ne){return ie[ne]}).join(" "):ae(ie)||(re=ie+""),re}}var bu=zl("",!0),yu=zl("Odd",0),wu=zl("Even",1),_u=vi({compile:function(n,y){y.$set("ngCloak",void 0),n.removeClass("ng-cloak")}}),Su=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],pc={},Eu={blur:!0,focus:!0};e("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var y=Or("ng-"+n);pc[y]=["$parse","$rootScope","$exceptionHandler",function(P,H,X){return gc(P,H,X,y,n,Eu[n])}]});function gc(n,y,P,H,X,ue){return{restrict:"A",compile:function(ie,re){var ne=n(re[H]);return function(be,Ee){Ee.on(X,function(Ae){var Fe=function(){ne(be,{$event:Ae})};if(!y.$$phase)be.$apply(Fe);else if(ue)be.$evalAsync(Fe);else try{Fe()}catch(Oe){P(Oe)}})}}}}var xu=["$animate","$compile",function(n,y){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(P,H,X,ue,ie){var re,ne,me;P.$watch(X.ngIf,function(Ee){Ee?ne||ie(function(Ae,Fe){ne=Fe,Ae[Ae.length++]=y.$$createComment("end ngIf",X.ngIf),re={clone:Ae},n.enter(Ae,H.parent(),H)}):(me&&(me.remove(),me=null),ne&&(ne.$destroy(),ne=null),re&&(me=Sr(re.clone),n.leave(me).done(function(Ae){Ae!==!1&&(me=null)}),re=null))})}}}],Cu=["$templateRequest","$anchorScroll","$animate",function(n,y,P){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:p.noop,compile:function(H,X){var ue=X.ngInclude||X.src,ie=X.onload||"",re=X.autoscroll;return function(ne,me,be,Ee,Ae){var Fe=0,Oe,at,vt,st=function(){at&&(at.remove(),at=null),Oe&&(Oe.$destroy(),Oe=null),vt&&(P.leave(vt).done(function(ot){ot!==!1&&(at=null)}),at=vt,vt=null)};ne.$watch(ue,function(it){var ut=function(Xe){Xe!==!1&&L(re)&&(!re||ne.$eval(re))&&y()},je=++Fe;it?(n(it,!0).then(function(Xe){if(!ne.$$destroyed&&je===Fe){var Le=ne.$new();Ee.template=Xe;var Ie=Ae(Le,function(Ne){st(),P.enter(Ne,null,me).done(ut)});Oe=Le,vt=Ie,Oe.$emit("$includeContentLoaded",it),ne.$eval(ie)}},function(){ne.$$destroyed||je===Fe&&(st(),ne.$emit("$includeContentError",it))}),ne.$emit("$includeContentRequested",it)):(st(),Ee.template=null)})}}}}],Au=["$compile",function(n){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(y,P,H,X){if(m.call(P[0]).match(/SVG/)){P.empty(),n(Er(X.template,we.document).childNodes)(y,function(ie){P.append(ie)},{futureParentElement:P});return}P.html(X.template),n(P.contents())(y)}}}],ku=vi({priority:450,compile:function(){return{pre:function(n,y,P){n.$eval(P.ngInit)}}}}),Ru=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,y,P,H){var X=P.ngList||", ",ue=P.ngTrim!=="false",ie=ue?$e(X):X,re=function(ne){if(!R(ne)){var me=[];return ne&&e(ne.split(ie),function(be){be&&me.push(ue?$e(be):be)}),me}};H.$parsers.push(re),H.$formatters.push(function(ne){if(se(ne))return ne.join(X)}),H.$isEmpty=function(ne){return!ne||!ne.length}}}},Ko="ng-valid",mc="ng-invalid",po="ng-pristine",ts="ng-dirty",Vl="ng-untouched",vc="ng-touched",bc="ng-empty",yc="ng-not-empty",Jo=I("ngModel");ns.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function ns(n,y,P,H,X,ue,ie,re,ne){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=ne(P.name||"",!1)(n),this.$$parentForm=Ar,this.$options=rs,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=X(P.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=n,this.$$rootScope=n.$root,this.$$attr=P,this.$$element=H,this.$$animate=ue,this.$$timeout=ie,this.$$parse=X,this.$$q=re,this.$$exceptionHandler=y,li(this),Tu(this)}ns.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),y=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(P){var H=this.$$parsedNgModel(P);return K(H)&&(H=n(P)),H},this.$$ngModelSet=function(P,H){K(this.$$parsedNgModel(P))?y(P,{$$$p:H}):this.$$parsedNgModelAssign(P,H)}}else if(!this.$$parsedNgModel.assign)throw Jo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,wt(this.$$element))},$render:b,$isEmpty:function(n){return R(n)||n===""||n===null||n!==n},$$updateEmptyClasses:function(n){this.$isEmpty(n)?(this.$$animate.removeClass(this.$$element,yc),this.$$animate.addClass(this.$$element,bc)):(this.$$animate.removeClass(this.$$element,bc),this.$$animate.addClass(this.$$element,yc))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,ts),this.$$animate.addClass(this.$$element,po)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,po),this.$$animate.addClass(this.$$element,ts),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Vl,vc)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,vc,Vl)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!l(this.$modelValue)){var n=this.$$lastCommittedViewValue,y=this.$$rawModelValue,P=this.$valid,H=this.$modelValue,X=this.$options.getOption("allowInvalid"),ue=this;this.$$runValidators(y,n,function(ie){!X&&P!==ie&&(ue.$modelValue=ie?y:void 0,ue.$modelValue!==H&&ue.$$writeModelToScope())})}},$$runValidators:function(n,y,P){this.$$currentValidationRunId++;var H=this.$$currentValidationRunId,X=this;if(!ue()){me(!1);return}if(!ie()){me(!1);return}re();function ue(){var be=X.$$parserName;if(R(X.$$parserValid))ne(be,null);else return X.$$parserValid||(e(X.$validators,function(Ee,Ae){ne(Ae,null)}),e(X.$asyncValidators,function(Ee,Ae){ne(Ae,null)})),ne(be,X.$$parserValid),X.$$parserValid;return!0}function ie(){var be=!0;return e(X.$validators,function(Ee,Ae){var Fe=!!Ee(n,y);be=be&&Fe,ne(Ae,Fe)}),be?!0:(e(X.$asyncValidators,function(Ee,Ae){ne(Ae,null)}),!1)}function re(){var be=[],Ee=!0;e(X.$asyncValidators,function(Ae,Fe){var Oe=Ae(n,y);if(!ge(Oe))throw Jo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",Oe);ne(Fe,void 0),be.push(Oe.then(function(){ne(Fe,!0)},function(){Ee=!1,ne(Fe,!1)}))}),be.length?X.$$q.all(be).then(function(){me(Ee)},b):me(!0)}function ne(be,Ee){H===X.$$currentValidationRunId&&X.$setValidity(be,Ee)}function me(be){H===X.$$currentValidationRunId&&P(be)}},$commitViewValue:function(){var n=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),!(this.$$lastCommittedViewValue===n&&(n!==""||!this.$$hasNativeValidators))&&(this.$$updateEmptyClasses(n),this.$$lastCommittedViewValue=n,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var n=this.$$lastCommittedViewValue,y=n,P=this;if(this.$$parserValid=R(y)?void 0:!0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid){for(var H=0;H<this.$parsers.length;H++)if(y=this.$parsers[H](y),R(y)){this.$$parserValid=!1;break}}l(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var X=this.$modelValue,ue=this.$options.getOption("allowInvalid");this.$$rawModelValue=y,ue&&(this.$modelValue=y,ie()),this.$$runValidators(y,this.$$lastCommittedViewValue,function(re){ue||(P.$modelValue=re?y:void 0,ie())});function ie(){P.$modelValue!==X&&P.$$writeModelToScope()}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),e(this.$viewChangeListeners,function(n){try{n()}catch(y){this.$$exceptionHandler(y)}},this)},$setViewValue:function(n,y){this.$viewValue=n,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(y)},$$debounceViewValueCommit:function(n){var y=this.$options.getOption("debounce");fe(y[n])?y=y[n]:fe(y.default)&&this.$options.getOption("updateOn").indexOf(n)===-1?y=y.default:fe(y["*"])&&(y=y["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var P=this;y>0?this.$$pendingDebounce=this.$$timeout(function(){P.$commitViewValue()},y):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){P.$commitViewValue()})},$overrideModelOptions:function(n){this.$options=this.$options.createChild(n),this.$$setUpdateOnEvents()},$processModelValue:function(){var n=this.$$format();this.$viewValue!==n&&(this.$$updateEmptyClasses(n),this.$viewValue=this.$$lastCommittedViewValue=n,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,b))},$$format:function(){for(var n=this.$formatters,y=n.length,P=this.$modelValue;y--;)P=n[y](P);return P},$$setModelValue:function(n){this.$modelValue=this.$$rawModelValue=n,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(n){this.$$debounceViewValueCommit(n&&n.type)}};function Tu(n){n.$$scope.$watch(function(P){var H=n.$$ngModelGet(P);return H!==n.$modelValue&&(n.$modelValue===n.$modelValue||H===H)&&n.$$setModelValue(H),H})}Li({clazz:ns,set:function(n,y){n[y]=!0},unset:function(n,y){delete n[y]}});var Iu=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ns,priority:1,compile:function(P){return P.addClass(po).addClass(Vl).addClass(Ko),{pre:function(X,ue,ie,re){var ne=re[0],me=re[1]||ne.$$parentForm,be=re[2];be&&(ne.$options=be.$options),ne.$$initGetterSetters(),me.$addControl(ne),ie.$observe("name",function(Ee){ne.$name!==Ee&&ne.$$parentForm.$$renameControl(ne,Ee)}),X.$on("$destroy",function(){ne.$$parentForm.$removeControl(ne)})},post:function(X,ue,ie,re){var ne=re[0];ne.$$setUpdateOnEvents();function me(){ne.$setTouched()}ue.on("blur",function(){ne.$touched||(n.$$phase?X.$evalAsync(me):X.$apply(me))})}}}}}],rs,Pu=/(\s+|^)default(\s+|$)/;function Wl(n){this.$$options=n}Wl.prototype={getOption:function(n){return this.$$options[n]},createChild:function(n){var y=!1;return n=t({},n),e(n,function(P,H){P==="$inherit"?H==="*"?y=!0:(n[H]=this.$$options[H],H==="updateOn"&&(n.updateOnDefault=this.$$options.updateOnDefault)):H==="updateOn"&&(n.updateOnDefault=!1,n[H]=$e(P.replace(Pu,function(){return n.updateOnDefault=!0," "})))},this),y&&(delete n["*"],wc(n,this.$$options)),wc(n,rs.$$options),new Wl(n)}},rs=new Wl({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Du=function(){n.$inject=["$attrs","$scope"];function n(y,P){this.$$attrs=y,this.$$scope=P}return n.prototype={$onInit:function(){var y=this.parentCtrl?this.parentCtrl.$options:rs,P=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=y.createChild(P)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:n}};function wc(n,y){e(y,function(P,H){L(n[H])||(n[H]=P)})}var Lu=vi({terminal:!0,priority:1e3}),Mu=I("ngOptions"),$u=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Fu=["$compile","$document","$parse",function(n,y,P){function H(re,ne,me){var be=re.match($u);if(!be)throw Mu("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",re,wt(ne));var Ee=be[5]||be[7],Ae=be[6],Fe=/ as /.test(be[0])&&be[1],Oe=be[9],at=P(be[2]?be[1]:Ee),vt=Fe&&P(Fe),st=vt||at,ot=Oe&&P(Oe),it=Oe?function(rt,gt){return ot(me,gt)}:function(gt){return Wr(gt)},ut=function(rt,gt){return it(rt,Be(rt,gt))},je=P(be[2]||be[1]),Xe=P(be[3]||""),Le=P(be[4]||""),Ie=P(be[8]),Ne={},Be=Ae?function(rt,gt){return Ne[Ae]=gt,Ne[Ee]=rt,Ne}:function(rt){return Ne[Ee]=rt,Ne};function tt(rt,gt,xt,Rt,_t){this.selectValue=rt,this.viewValue=gt,this.label=xt,this.group=Rt,this.disabled=_t}function dt(rt){var gt;if(!Ae&&h(rt))gt=rt;else{gt=[];for(var xt in rt)rt.hasOwnProperty(xt)&&xt.charAt(0)!=="$"&&gt.push(xt)}return gt}return{trackBy:Oe,getTrackByValue:ut,getWatchables:P(Ie,function(rt){var gt=[];rt=rt||[];for(var xt=dt(rt),Rt=xt.length,_t=0;_t<Rt;_t++){var Pt=rt===xt?_t:xt[_t],Zt=rt[Pt],Gt=Be(Zt,Pt),dn=it(Zt,Gt);if(gt.push(dn),be[2]||be[1]){var Sn=je(me,Gt);gt.push(Sn)}if(be[4]){var kn=Le(me,Gt);gt.push(kn)}}return gt}),getOptions:function(){for(var rt=[],gt={},xt=Ie(me)||[],Rt=dt(xt),_t=Rt.length,Pt=0;Pt<_t;Pt++){var Zt=xt===Rt?Pt:Rt[Pt],Gt=xt[Zt],dn=Be(Gt,Zt),Sn=st(me,dn),kn=it(Sn,dn),Dn=je(me,dn),qn=Xe(me,dn),Un=Le(me,dn),pr=new tt(kn,Sn,Dn,qn,Un);rt.push(pr),gt[kn]=pr}return{items:rt,selectValueMap:gt,getOptionFromViewValue:function(nr){return gt[ut(nr)]},getViewValueFromOption:function(nr){return Oe?Ze(nr.viewValue):nr.viewValue}}}}}var X=we.document.createElement("option"),ue=we.document.createElement("optgroup");function ie(re,ne,me,be){for(var Ee=be[0],Ae=be[1],Fe=me.multiple,Oe=0,at=ne.children(),vt=at.length;Oe<vt;Oe++)if(at[Oe].value===""){Ee.hasEmptyOption=!0,Ee.emptyOption=at.eq(Oe);break}ne.empty();var st=!!Ee.emptyOption,ot=g(X.cloneNode(!1));ot.val("?");var it,ut=H(me.ngOptions,ne,re),je=y[0].createDocumentFragment();Ee.generateUnknownOptionValue=function(Be){return"?"},Fe?(Ee.writeValue=function(tt){if(it){var dt=tt&&tt.map(Le)||[];it.items.forEach(function(rt){rt.element.selected&&!Me(dt,rt)&&(rt.element.selected=!1)})}},Ee.readValue=function(){var tt=ne.val()||[],dt=[];return e(tt,function(rt){var gt=it.selectValueMap[rt];gt&&!gt.disabled&&dt.push(it.getViewValueFromOption(gt))}),dt},ut.trackBy&&re.$watchCollection(function(){if(se(Ae.$viewValue))return Ae.$viewValue.map(function(Be){return ut.getTrackByValue(Be)})},function(){Ae.$render()})):(Ee.writeValue=function(tt){if(it){var dt=ne[0].options[ne[0].selectedIndex],rt=it.getOptionFromViewValue(tt);dt&&dt.removeAttribute("selected"),rt?(ne[0].value!==rt.selectValue&&(Ee.removeUnknownOption(),ne[0].value=rt.selectValue,rt.element.selected=!0),rt.element.setAttribute("selected","selected")):Ee.selectUnknownOrEmptyOption(tt)}},Ee.readValue=function(){var tt=it.selectValueMap[ne.val()];return tt&&!tt.disabled?(Ee.unselectEmptyOption(),Ee.removeUnknownOption(),it.getViewValueFromOption(tt)):null},ut.trackBy&&re.$watch(function(){return ut.getTrackByValue(Ae.$viewValue)},function(){Ae.$render()})),st&&(n(Ee.emptyOption)(re),ne.prepend(Ee.emptyOption),Ee.emptyOption[0].nodeType===Cr?(Ee.hasEmptyOption=!1,Ee.registerOption=function(Be,tt){tt.val()===""&&(Ee.hasEmptyOption=!0,Ee.emptyOption=tt,Ee.emptyOption.removeClass("ng-scope"),Ae.$render(),tt.on("$destroy",function(){var dt=Ee.$isEmptyOptionSelected();Ee.hasEmptyOption=!1,Ee.emptyOption=void 0,dt&&Ae.$render()}))}):Ee.emptyOption.removeClass("ng-scope")),re.$watchCollection(ut.getWatchables,Ne);function Xe(Be,tt){var dt=X.cloneNode(!1);tt.appendChild(dt),Ie(Be,dt)}function Le(Be){var tt=it.getOptionFromViewValue(Be),dt=tt&&tt.element;return dt&&!dt.selected&&(dt.selected=!0),tt}function Ie(Be,tt){Be.element=tt,tt.disabled=Be.disabled,Be.label!==tt.label&&(tt.label=Be.label,tt.textContent=Be.label),tt.value=Be.selectValue}function Ne(){var Be=it&&Ee.readValue();if(it)for(var tt=it.items.length-1;tt>=0;tt--){var dt=it.items[tt];L(dt.group)?Ei(dt.element.parentNode):Ei(dt.element)}it=ut.getOptions();var rt={};if(it.items.forEach(function(_t){var Pt;L(_t.group)?(Pt=rt[_t.group],Pt||(Pt=ue.cloneNode(!1),je.appendChild(Pt),Pt.label=_t.group===null?"null":_t.group,rt[_t.group]=Pt),Xe(_t,Pt)):Xe(_t,je)}),ne[0].appendChild(je),Ae.$render(),!Ae.$isEmpty(Be)){var gt=Ee.readValue(),xt=ut.trackBy||Fe;(xt?!Mt(Be,gt):Be!==gt)&&(Ae.$setViewValue(gt),Ae.$render())}}}return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(ne,me,be,Ee){Ee[0].registerOption=b},post:ie}}}],Ou=["$locale","$interpolate","$log",function(n,y,P){var H=/{}/g,X=/^when(Minus)?(.+)$/;return{link:function(ue,ie,re){var ne=re.count,me=re.$attr.when&&ie.attr(re.$attr.when),be=re.offset||0,Ee=ue.$eval(me)||{},Ae={},Fe=y.startSymbol(),Oe=y.endSymbol(),at=Fe+ne+"-"+be+Oe,vt=p.noop,st;e(re,function(it,ut){var je=X.exec(ut);if(je){var Xe=(je[1]?"-":"")+x(je[2]);Ee[Xe]=ie.attr(re.$attr[ut])}}),e(Ee,function(it,ut){Ae[ut]=y(it.replace(H,at))}),ue.$watch(ne,function(ut){var je=parseFloat(ut),Xe=l(je);if(!Xe&&!(je in Ee)&&(je=n.pluralCat(je-be)),je!==st&&!(Xe&&l(st))){vt();var Le=Ae[je];R(Le)?(ut!=null&&P.debug("ngPluralize: no rule defined for '"+je+"' in "+me),vt=b,ot()):vt=ue.$watch(Le,ot),st=je}});function ot(it){ie.text(it||"")}}}}],_c=I("ngRef"),Nu=["$parse",function(n){return{priority:-1,restrict:"A",compile:function(y,P){var H=Or(ct(y)),X=n(P.ngRef),ue=X.assign||function(){throw _c("nonassign",'Expression in ngRef="{0}" is non-assignable!',P.ngRef)};return function(ie,re,ne){var me;if(ne.hasOwnProperty("ngRefRead")){if(ne.ngRefRead==="$element")me=re;else if(me=re.data("$"+ne.ngRefRead+"Controller"),!me)throw _c("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',ne.ngRefRead,P.ngRef)}else me=re.data("$"+H+"Controller");me=me||re,ue(ie,me),re.on("$destroy",function(){X(ie)===me&&ue(ie,null)})}}}}],Bu=["$parse","$animate","$compile",function(n,y,P){var H="$$NG_REMOVED",X=I("ngRepeat"),ue=function(be,Ee,Ae,Fe,Oe,at,vt){be[Ae]=Fe,Oe&&(be[Oe]=at),be.$index=Ee,be.$first=Ee===0,be.$last=Ee===vt-1,be.$middle=!(be.$first||be.$last),be.$odd=!(be.$even=(Ee&1)===0)},ie=function(be){return be.clone[0]},re=function(be){return be.clone[be.clone.length-1]},ne=function(be,Ee,Ae){return Wr(Ae)},me=function(be,Ee){return Ee};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(Ee,Ae){var Fe=Ae.ngRepeat,Oe=P.$$createComment("end ngRepeat",Fe),at=Fe.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!at)throw X("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",Fe);var vt=at[1],st=at[2],ot=at[3],it=at[4];if(at=vt.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!at)throw X("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",vt);var ut=at[3]||at[1],je=at[2];if(ot&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(ot)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(ot)))throw X("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",ot);var Xe;if(it){var Le={$id:Wr},Ie=n(it);Xe=function(Ne,Be,tt,dt){return je&&(Le[je]=Be),Le[ut]=tt,Le.$index=dt,Ie(Ne,Le)}}return function(Be,tt,dt,rt,gt){var xt=Ht();Be.$watchCollection(st,function(_t){var Pt,Zt,Gt=tt[0],dn,Sn=Ht(),kn,Dn,qn,Un,pr,nr,ur,Vn,$i;if(ot&&(Be[ot]=_t),h(_t))nr=_t,pr=Xe||ne;else{pr=Xe||me,nr=[];for(var Fi in _t)_.call(_t,Fi)&&Fi.charAt(0)!=="$"&&nr.push(Fi)}for(kn=nr.length,Vn=new Array(kn),Pt=0;Pt<kn;Pt++)if(Dn=_t===nr?Pt:nr[Pt],qn=_t[Dn],Un=pr(Be,Dn,qn,Pt),xt[Un])ur=xt[Un],delete xt[Un],Sn[Un]=ur,Vn[Pt]=ur;else{if(Sn[Un])throw e(Vn,function(Yr){Yr&&Yr.scope&&(xt[Yr.id]=Yr)}),X("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",Fe,Un,qn);Vn[Pt]={id:Un,scope:void 0,clone:void 0},Sn[Un]=!0}Le&&(Le[ut]=void 0);for(var Gl in xt){if(ur=xt[Gl],$i=Sr(ur.clone),y.leave($i),$i[0].parentNode)for(Pt=0,Zt=$i.length;Pt<Zt;Pt++)$i[Pt][H]=!0;ur.scope.$destroy()}for(Pt=0;Pt<kn;Pt++)if(Dn=_t===nr?Pt:nr[Pt],qn=_t[Dn],ur=Vn[Pt],ur.scope){dn=Gt;do dn=dn.nextSibling;while(dn&&dn[H]);ie(ur)!==dn&&y.move(Sr(ur.clone),null,Gt),Gt=re(ur),ue(ur.scope,Pt,ut,qn,je,Dn,kn)}else gt(function(bi,ql){ur.scope=ql;var Xo=Oe.cloneNode(!1);bi[bi.length++]=Xo,y.enter(bi,null,Gt),Gt=Xo,ur.clone=bi,Sn[ur.id]=ur,ue(ur.scope,Pt,ut,qn,je,Dn,kn)});xt=Sn})}}}}],Sc="ng-hide",Ec="ng-hide-animate",Hu=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(y,P,H){y.$watch(H.ngShow,function(ue){n[ue?"removeClass":"addClass"](P,Sc,{tempClasses:Ec})})}}}],Uu=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(y,P,H){y.$watch(H.ngHide,function(ue){n[ue?"addClass":"removeClass"](P,Sc,{tempClasses:Ec})})}}}],ju=vi(function(n,y,P){n.$watchCollection(P.ngStyle,function(X,ue){ue&&X!==ue&&e(ue,function(ie,re){y.css(re,"")}),X&&y.css(X)})}),zu=["$animate","$compile",function(n,y){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(P,H,X,ue){var ie=X.ngSwitch||X.on,re=[],ne=[],me=[],be=[],Ee=function(Ae,Fe){return function(Oe){Oe!==!1&&Ae.splice(Fe,1)}};P.$watch(ie,function(Fe){for(var Oe,at;me.length;)n.cancel(me.pop());for(Oe=0,at=be.length;Oe<at;++Oe){var vt=Sr(ne[Oe].clone);be[Oe].$destroy();var st=me[Oe]=n.leave(vt);st.done(Ee(me,Oe))}ne.length=0,be.length=0,(re=ue.cases["!"+Fe]||ue.cases["?"])&&e(re,function(ot){ot.transclude(function(it,ut){be.push(ut);var je=ot.element;it[it.length++]=y.$$createComment("end ngSwitchWhen");var Xe={clone:it};ne.push(Xe),n.enter(it,je.parent(),je)})})})}}}],Vu=vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,y,P,H,X){var ue=P.ngSwitchWhen.split(P.ngSwitchWhenSeparator).sort().filter(function(ie,re,ne){return ne[re-1]!==ie});e(ue,function(ie){H.cases["!"+ie]=H.cases["!"+ie]||[],H.cases["!"+ie].push({transclude:X,element:y})})}}),Wu=vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,y,P,H,X){H.cases["?"]=H.cases["?"]||[],H.cases["?"].push({transclude:X,element:y})}}),Gu=I("ngTransclude"),qu=["$compile",function(n){return{restrict:"EAC",compile:function(P){var H=n(P.contents());return P.empty(),function(ue,ie,re,ne,me){if(!me)throw Gu("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",wt(ie));re.ngTransclude===re.$attr.ngTransclude&&(re.ngTransclude="");var be=re.ngTransclude||re.ngTranscludeSlot;me(Ee,null,be),be&&!me.isSlotFilled(be)&&Ae();function Ee(Oe,at){Oe.length&&Fe(Oe)?ie.append(Oe):(Ae(),at.$destroy())}function Ae(){H(ue,function(Oe){ie.append(Oe)})}function Fe(Oe){for(var at=0,vt=Oe.length;at<vt;at++){var st=Oe[at];if(st.nodeType!==nn||st.nodeValue.trim())return!0}}}}}}],Yu=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(y,P){if(P.type==="text/ng-template"){var H=P.id,X=y[0].text;n.put(H,X)}}}}],Ku={$setViewValue:b,$render:b};function Mi(n,y){n.prop("selected",y),n.attr("selected",y)}var Ju=["$element","$scope",function(n,y){var P=this,H=new Ki;P.selectValueMap={},P.ngModelCtrl=Ku,P.multiple=!1,P.unknownOption=g(we.document.createElement("option")),P.hasEmptyOption=!1,P.emptyOption=void 0,P.renderUnknownOption=function(ne){var me=P.generateUnknownOptionValue(ne);P.unknownOption.val(me),n.prepend(P.unknownOption),Mi(P.unknownOption,!0),n.val(me)},P.updateUnknownOption=function(ne){var me=P.generateUnknownOptionValue(ne);P.unknownOption.val(me),Mi(P.unknownOption,!0),n.val(me)},P.generateUnknownOptionValue=function(ne){return"? "+Wr(ne)+" ?"},P.removeUnknownOption=function(){P.unknownOption.parent()&&P.unknownOption.remove()},P.selectEmptyOption=function(){P.emptyOption&&(n.val(""),Mi(P.emptyOption,!0))},P.unselectEmptyOption=function(){P.hasEmptyOption&&Mi(P.emptyOption,!1)},y.$on("$destroy",function(){P.renderUnknownOption=b}),P.readValue=function(){var me=n.val(),be=me in P.selectValueMap?P.selectValueMap[me]:me;return P.hasOption(be)?be:null},P.writeValue=function(me){var be=n[0].options[n[0].selectedIndex];if(be&&Mi(g(be),!1),P.hasOption(me)){P.removeUnknownOption();var Ee=Wr(me);n.val(Ee in P.selectValueMap?Ee:me);var Ae=n[0].options[n[0].selectedIndex];Mi(g(Ae),!0)}else P.selectUnknownOrEmptyOption(me)},P.addOption=function(ne,me){if(me[0].nodeType!==Cr){en(ne,'"option value"'),ne===""&&(P.hasEmptyOption=!0,P.emptyOption=me);var be=H.get(ne)||0;H.set(ne,be+1),ue()}},P.removeOption=function(ne){var me=H.get(ne);me&&(me===1?(H.delete(ne),ne===""&&(P.hasEmptyOption=!1,P.emptyOption=void 0)):H.set(ne,me-1))},P.hasOption=function(ne){return!!H.get(ne)},P.$hasEmptyOption=function(){return P.hasEmptyOption},P.$isUnknownOptionSelected=function(){return n[0].options[0]===P.unknownOption[0]},P.$isEmptyOptionSelected=function(){return P.hasEmptyOption&&n[0].options[n[0].selectedIndex]===P.emptyOption[0]},P.selectUnknownOrEmptyOption=function(ne){ne==null&&P.emptyOption?(P.removeUnknownOption(),P.selectEmptyOption()):P.unknownOption.parent().length?P.updateUnknownOption(ne):P.renderUnknownOption(ne)};var X=!1;function ue(){X||(X=!0,y.$$postDigest(function(){X=!1,P.ngModelCtrl.$render()}))}var ie=!1;function re(ne){ie||(ie=!0,y.$$postDigest(function(){y.$$destroyed||(ie=!1,P.ngModelCtrl.$setViewValue(P.readValue()),ne&&P.ngModelCtrl.$render())}))}P.registerOption=function(ne,me,be,Ee,Ae){if(be.$attr.ngValue){var Fe,Oe;be.$observe("value",function(vt){var st,ot=me.prop("selected");L(Oe)&&(P.removeOption(Fe),delete P.selectValueMap[Oe],st=!0),Oe=Wr(vt),Fe=vt,P.selectValueMap[Oe]=vt,P.addOption(vt,me),me.attr("value",Oe),st&&ot&&re()})}else Ee?be.$observe("value",function(vt){P.readValue();var st,ot=me.prop("selected");L(Fe)&&(P.removeOption(Fe),st=!0),Fe=vt,P.addOption(vt,me),st&&ot&&re()}):Ae?ne.$watch(Ae,function(vt,st){be.$set("value",vt);var ot=me.prop("selected");st!==vt&&P.removeOption(st),P.addOption(vt,me),st&&ot&&re()}):P.addOption(be.value,me);be.$observe("disabled",function(at){(at==="true"||at&&me.prop("selected"))&&(P.multiple?re(!0):(P.ngModelCtrl.$setViewValue(null),P.ngModelCtrl.$render()))}),me.on("$destroy",function(){var at=P.readValue(),vt=be.value;P.removeOption(vt),ue(),(P.multiple&&at&&at.indexOf(vt)!==-1||at===vt)&&re(!0)})}}],Xu=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ju,priority:1,link:{pre:n,post:y}};function n(P,H,X,ue){var ie=ue[0],re=ue[1];if(!re){ie.registerOption=b;return}if(ie.ngModelCtrl=re,H.on("change",function(){ie.removeUnknownOption(),P.$apply(function(){re.$setViewValue(ie.readValue())})}),X.multiple){ie.multiple=!0,ie.readValue=function(){var Ee=[];return e(H.find("option"),function(Ae){if(Ae.selected&&!Ae.disabled){var Fe=Ae.value;Ee.push(Fe in ie.selectValueMap?ie.selectValueMap[Fe]:Fe)}}),Ee},ie.writeValue=function(Ee){e(H.find("option"),function(Ae){var Fe=!!Ee&&(Me(Ee,Ae.value)||Me(Ee,ie.selectValueMap[Ae.value])),Oe=Ae.selected;Fe!==Oe&&Mi(g(Ae),Fe)})};var ne,me=NaN;P.$watch(function(){me===re.$viewValue&&!Mt(ne,re.$viewValue)&&(ne=ye(re.$viewValue),re.$render()),me=re.$viewValue}),re.$isEmpty=function(be){return!be||be.length===0}}}function y(P,H,X,ue){var ie=ue[1];if(ie){var re=ue[0];ie.$render=function(){re.writeValue(ie.$viewValue)}}}},Zu=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(y,P){var H,X;return L(P.ngValue)||(L(P.value)?H=n(P.value,!0):(X=n(y.text(),!0),X||P.$set("value",y.text()))),function(ue,ie,re){var ne="$selectController",me=ie.parent(),be=me.data(ne)||me.parent().data(ne);be&&be.registerOption(ue,ie,re,H,X)}}}}],xc=["$parse",function(n){return{restrict:"A",require:"?ngModel",link:function(y,P,H,X){if(X){var ue=H.hasOwnProperty("required")||n(H.ngRequired)(y);H.ngRequired||(H.required=!0),X.$validators.required=function(ie,re){return!ue||!X.$isEmpty(re)},H.$observe("required",function(ie){ue!==ie&&(ue=ie,X.$validate())})}}}}],Cc=["$parse",function(n){return{restrict:"A",require:"?ngModel",compile:function(y,P){var H,X;return P.ngPattern&&(H=P.ngPattern,P.ngPattern.charAt(0)==="/"&&D.test(P.ngPattern)?X=function(){return P.ngPattern}:X=n(P.ngPattern)),function(ue,ie,re,ne){if(ne){var me=re.pattern;re.ngPattern?me=X(ue):H=re.pattern;var be=Rc(me,H,ie);re.$observe("pattern",function(Ee){var Ae=be;be=Rc(Ee,H,ie),(Ae&&Ae.toString())!==(be&&be.toString())&&ne.$validate()}),ne.$validators.pattern=function(Ee,Ae){return ne.$isEmpty(Ae)||R(be)||be.test(Ae)}}}}}}],Ac=["$parse",function(n){return{restrict:"A",require:"?ngModel",link:function(y,P,H,X){if(X){var ue=H.maxlength||n(H.ngMaxlength)(y),ie=is(ue);H.$observe("maxlength",function(re){ue!==re&&(ie=is(re),ue=re,X.$validate())}),X.$validators.maxlength=function(re,ne){return ie<0||X.$isEmpty(ne)||ne.length<=ie}}}}}],kc=["$parse",function(n){return{restrict:"A",require:"?ngModel",link:function(y,P,H,X){if(X){var ue=H.minlength||n(H.ngMinlength)(y),ie=is(ue)||-1;H.$observe("minlength",function(re){ue!==re&&(ie=is(re)||-1,ue=re,X.$validate())}),X.$validators.minlength=function(re,ne){return X.$isEmpty(ne)||ne.length>=ie}}}}}];function Rc(n,y,P){if(n){if(ae(n)&&(n=new RegExp("^"+n+"$")),!n.test)throw I("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,n,wt(P));return n}}function is(n){var y=a(n);return l(y)?-1:y}if(we.angular.bootstrap){we.console&&console.log("WARNING: Tried to load AngularJS more than once.");return}ar(),Je(p),p.module("ngLocale",[],["$provide",function(n){var y={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function P(X){X=X+"";var ue=X.indexOf(".");return ue==-1?0:X.length-ue-1}function H(X,ue){var ie=ue;ie===void 0&&(ie=Math.min(P(X),3));var re=Math.pow(10,ie),ne=(X*re|0)%re;return{v:ie,f:ne}}n.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xA4",negSuf:"",posPre:"\xA4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(X,ue){var ie=X|0,re=H(X,ue);return ie==1&&re.v==0?y.ONE:y.OTHER}})}]),g(function(){rn(we.document,Xn)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))});var Wc=wi((Cd,Vc)=>{zc();Vc.exports=angular});var Gc=wi(()=>{(function(we,Q){"use strict";function k(m,U){if(I(m)){U=U||[];for(var A=0,p=m.length;A<p;A++)U[A]=m[A]}else if(D(m)){U=U||{};for(var w in m)w.charAt(0)==="$"&&w.charAt(1)==="$"||(U[w]=m[w])}return U||m}function O(m,U){var A=[],p=m.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(w,v,h,e){var o=e==="?"||e==="*?",i=e==="*"||e==="*?";return A.push({name:h,optional:o}),v=v||"",(o?"(?:"+v:v+"(?:")+(i?"(.+?)":"([^/]+)")+(o?"?)?":")")}).replace(/([/$*])/g,"\\$1");return U.ignoreTrailingSlashes&&(p=p.replace(/\/+$/,"")+"/*"),{keys:A,regexp:new RegExp("^"+p+"(?:[?#]|$)",U.caseInsensitiveMatch?"i":"")}}var I,D,T,_,x=Q.module("ngRoute",[]).info({angularVersion:"1.8.3"}).provider("$route",g).run(F),d=Q.$$minErr("ngRoute"),M;function g(){I=Q.isArray,D=Q.isObject,T=Q.isDefined,_=Q.noop;function m(A,p){return Q.extend(Object.create(A),p)}var U={};this.when=function(A,p){var w=k(p);if(Q.isUndefined(w.reloadOnUrl)&&(w.reloadOnUrl=!0),Q.isUndefined(w.reloadOnSearch)&&(w.reloadOnSearch=!0),Q.isUndefined(w.caseInsensitiveMatch)&&(w.caseInsensitiveMatch=this.caseInsensitiveMatch),U[A]=Q.extend(w,{originalPath:A},A&&O(A,w)),A){var v=A[A.length-1]==="/"?A.substr(0,A.length-1):A+"/";U[v]=Q.extend({originalPath:A,redirectTo:A},O(v,w))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(A){return typeof A=="string"&&(A={redirectTo:A}),this.when(null,A),this},M=!0,this.eagerInstantiationEnabled=function(p){return T(p)?(M=p,this):M},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(A,p,w,v,h,e,o,i){var c=!1,u,s,t={routes:U,reload:function(){c=!0;var Y={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,c=!1}};A.$evalAsync(function(){a(Y),Y.defaultPrevented||l()})},updateParams:function(Y){if(this.current&&this.current.$$route)Y=Q.extend({},this.current.params,Y),p.path(L(this.current.$$route.originalPath,Y)),p.search(Y);else throw d("norout","Tried updating route with no current route")}};return A.$on("$locationChangeStart",a),A.$on("$locationChangeSuccess",l),t;function r(Y,ee){var ae=ee.keys,fe={};if(!ee.regexp)return null;var xe=ee.regexp.exec(Y);if(!xe)return null;for(var se=1,B=xe.length;se<B;++se){var K=ae[se-1],z=xe[se];K&&z&&(fe[K.name]=z)}return fe}function a(Y){var ee=t.current;u=W(),s=R(u,ee),!s&&(ee||u)&&A.$broadcast("$routeChangeStart",u,ee).defaultPrevented&&Y&&Y.preventDefault()}function l(){var Y=t.current,ee=u;if(s)Y.params=ee.params,Q.copy(Y.params,w),A.$broadcast("$routeUpdate",Y);else if(ee||Y){c=!1,t.current=ee;var ae=v.resolve(ee);i.$$incOutstandingRequestCount("$route"),ae.then(f).then(b).then(function(fe){return fe&&ae.then(C).then(function(xe){ee===t.current&&(ee&&(ee.locals=xe,Q.copy(ee.params,w)),A.$broadcast("$routeChangeSuccess",ee,Y))})}).catch(function(fe){ee===t.current&&A.$broadcast("$routeChangeError",ee,Y,fe)}).finally(function(){i.$$completeOutstandingRequest(_,"$route")})}}function f(Y){var ee={route:Y,hasRedirection:!1};if(Y){if(Y.redirectTo)if(Q.isString(Y.redirectTo))ee.path=L(Y.redirectTo,Y.params),ee.search=Y.params,ee.hasRedirection=!0;else{var ae=p.path(),fe=p.search(),xe=Y.redirectTo(Y.pathParams,ae,fe);Q.isDefined(xe)&&(ee.url=xe,ee.hasRedirection=!0)}else if(Y.resolveRedirectTo)return v.resolve(h.invoke(Y.resolveRedirectTo)).then(function(se){return Q.isDefined(se)&&(ee.url=se,ee.hasRedirection=!0),ee})}return ee}function b(Y){var ee=!0;if(Y.route!==t.current)ee=!1;else if(Y.hasRedirection){var ae=p.url(),fe=Y.url;fe?p.url(fe).replace():fe=p.path(Y.path).search(Y.search).replace().url(),fe!==ae&&(ee=!1)}return ee}function C(Y){if(Y){var ee=Q.extend({},Y.resolve);Q.forEach(ee,function(fe,xe){ee[xe]=Q.isString(fe)?h.get(fe):h.invoke(fe,null,null,xe)});var ae=$(Y);return Q.isDefined(ae)&&(ee.$template=ae),v.all(ee)}}function $(Y){var ee,ae;return Q.isDefined(ee=Y.template)?Q.isFunction(ee)&&(ee=ee(Y.params)):Q.isDefined(ae=Y.templateUrl)&&(Q.isFunction(ae)&&(ae=ae(Y.params)),Q.isDefined(ae)&&(Y.loadedTemplateUrl=o.valueOf(ae),ee=e(ae))),ee}function W(){var Y,ee;return Q.forEach(U,function(ae,fe){!ee&&(Y=r(p.path(),ae))&&(ee=m(ae,{params:Q.extend({},p.search(),Y),pathParams:Y}),ee.$$route=ae)}),ee||U[null]&&m(U[null],{params:{},pathParams:{}})}function R(Y,ee){return!c&&Y&&ee&&Y.$$route===ee.$$route&&(!Y.reloadOnUrl||!Y.reloadOnSearch&&Q.equals(Y.pathParams,ee.pathParams))}function L(Y,ee){var ae=[];return Q.forEach((Y||"").split(":"),function(fe,xe){if(xe===0)ae.push(fe);else{var se=fe.match(/(\w+)(?:[?*])?(.*)/),B=se[1];ae.push(ee[B]),ae.push(se[2]||""),delete ee[B]}}),ae.join("")}}]}F.$inject=["$injector"];function F(m){M&&m.get("$route")}x.provider("$routeParams",N);function N(){this.$get=function(){return{}}}x.directive("ngView",J),x.directive("ngView",pe),J.$inject=["$route","$anchorScroll","$animate"];function J(m,U,A){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(p,w,v,h,e){var o,i,c,u=v.autoscroll,s=v.onload||"";p.$on("$routeChangeSuccess",r),r();function t(){c&&(A.cancel(c),c=null),o&&(o.$destroy(),o=null),i&&(c=A.leave(i),c.done(function(a){a!==!1&&(c=null)}),i=null)}function r(){var a=m.current&&m.current.locals,l=a&&a.$template;if(Q.isDefined(l)){var f=p.$new(),b=m.current,C=e(f,function($){A.enter($,null,i||w).done(function(R){R!==!1&&Q.isDefined(u)&&(!u||p.$eval(u))&&U()}),t()});i=C,o=b.scope=f,o.$emit("$viewContentLoaded"),o.$eval(s)}else t()}}}}pe.$inject=["$compile","$controller","$route"];function pe(m,U,A){return{restrict:"ECA",priority:-400,link:function(p,w){var v=A.current,h=v.locals;w.html(h.$template);var e=m(w.contents());if(v.controller){h.$scope=p;var o=U(v.controller,h);v.controllerAs&&(p[v.controllerAs]=o),w.data("$ngControllerController",o),w.children().data("$ngControllerController",o)}p[v.resolveAs||"$resolve"]=h,e(p)}}}})(window,window.angular)});var Yc=wi((Rd,qc)=>{Gc();qc.exports="ngRoute"});var Kc=wi(()=>{(function(we,Q){"use strict";var k=Q.$$minErr("$sanitize"),O,I,D,T,_,x,d,M,g,F;function N(){var pe=!1,m=!1;this.$get=["$$sanitizeUri",function(ae){return pe=!0,m&&I(u,i),function(fe){var xe=[];return g(fe,F(xe,function(se,B){return!/^unsafe:/.test(ae(se,B))})),xe.join("")}}],this.enableSvg=function(ae){return _(ae)?(m=ae,this):m},this.addValidElements=function(ae){return pe||(T(ae)&&(ae={htmlElements:ae}),b(i,ae.svgElements),b(p,ae.htmlVoidElements),b(u,ae.htmlVoidElements),b(u,ae.htmlElements)),this},this.addValidAttrs=function(ae){return pe||I(a,f(ae,!0)),this},O=Q.bind,I=Q.extend,D=Q.forEach,T=Q.isArray,_=Q.isDefined,x=Q.$$lowercase,d=Q.noop,g=$,F=L,M=we.Node.prototype.contains||function(ae){return!!(this.compareDocumentPosition(ae)&16)};var U=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,A=/([^#-~ |!])/g,p=l("area,br,col,hr,img,wbr"),w=l("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=l("rp,rt"),h=I({},v,w),e=I({},w,l("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),o=I({},v,l("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),i=l("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),c=l("script,style"),u=I({},p,e,o,h),s=l("background,cite,href,longdesc,src,xlink:href,xml:base"),t=l("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),r=l("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),a=I({},s,r,t);function l(ae,fe){return f(ae.split(","),fe)}function f(ae,fe){var xe={},se;for(se=0;se<ae.length;se++)xe[fe?x(ae[se]):ae[se]]=!0;return xe}function b(ae,fe){fe&&fe.length&&I(ae,f(fe))}var C=(function(ae,fe){if(B())return K;if(!fe||!fe.implementation)throw k("noinert","Can't create an inert html document");var xe=fe.implementation.createHTMLDocument("inert"),se=(xe.documentElement||xe.getDocumentElement()).querySelector("body");return z;function B(){try{return!!K("")}catch{return!1}}function K(E){E="<remove></remove>"+E;try{var j=new ae.DOMParser().parseFromString(E,"text/html").body;return j.firstChild.remove(),j}catch{return}}function z(E){return se.innerHTML=E,fe.documentMode&&Y(se),se}})(we,we.document);function $(ae,fe){ae==null?ae="":typeof ae!="string"&&(ae=""+ae);var xe=C(ae);if(!xe)return"";var se=5;do{if(se===0)throw k("uinput","Failed to sanitize html because the input is unstable");se--,ae=xe.innerHTML,xe=C(ae)}while(ae!==xe.innerHTML);for(var B=xe.firstChild;B;){switch(B.nodeType){case 1:fe.start(B.nodeName.toLowerCase(),W(B.attributes));break;case 3:fe.chars(B.textContent);break}var K;if(!(K=B.firstChild)&&(B.nodeType===1&&fe.end(B.nodeName.toLowerCase()),K=ee("nextSibling",B),!K))for(;K==null&&(B=ee("parentNode",B),B!==xe);)K=ee("nextSibling",B),B.nodeType===1&&fe.end(B.nodeName.toLowerCase());B=K}for(;B=xe.firstChild;)xe.removeChild(B)}function W(ae){for(var fe={},xe=0,se=ae.length;xe<se;xe++){var B=ae[xe];fe[B.name]=B.value}return fe}function R(ae){return ae.replace(/&/g,"&amp;").replace(U,function(fe){var xe=fe.charCodeAt(0),se=fe.charCodeAt(1);return"&#"+((xe-55296)*1024+(se-56320)+65536)+";"}).replace(A,function(fe){return"&#"+fe.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(ae,fe){var xe=!1,se=O(ae,ae.push);return{start:function(B,K){B=x(B),!xe&&c[B]&&(xe=B),!xe&&u[B]===!0&&(se("<"),se(B),D(K,function(z,E){var j=x(E),Z=B==="img"&&j==="src"||j==="background";a[j]===!0&&(s[j]!==!0||fe(z,Z))&&(se(" "),se(E),se('="'),se(R(z)),se('"'))}),se(">"))},end:function(B){B=x(B),!xe&&u[B]===!0&&p[B]!==!0&&(se("</"),se(B),se(">")),B==xe&&(xe=!1)},chars:function(B){xe||se(R(B))}}}function Y(ae){for(;ae;){if(ae.nodeType===we.Node.ELEMENT_NODE)for(var fe=ae.attributes,xe=0,se=fe.length;xe<se;xe++){var B=fe[xe],K=B.name.toLowerCase();(K==="xmlns:ns1"||K.lastIndexOf("ns1:",0)===0)&&(ae.removeAttributeNode(B),xe--,se--)}var z=ae.firstChild;z&&Y(z),ae=ee("nextSibling",ae)}}function ee(ae,fe){var xe=fe[ae];if(xe&&M.call(fe,xe))throw k("elclob","Failed to sanitize html because the element is clobbered: {0}",fe.outerHTML||fe.outerText);return xe}}function J(pe){var m=[],U=F(m,d);return U.chars(pe),m.join("")}Q.module("ngSanitize",[]).provider("$sanitize",N).info({angularVersion:"1.8.3"}),Q.module("ngSanitize").filter("linky",["$sanitize",function(pe){var m=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,U=/^mailto:/i,A=Q.$$minErr("linky"),p=Q.isDefined,w=Q.isFunction,v=Q.isObject,h=Q.isString;return function(e,o,i){if(e==null||e==="")return e;if(!h(e))throw A("notstring","Expected string but received: {0}",e);for(var c=w(i)?i:v(i)?function(){return i}:function(){return{}},u,s=e,t=[],r,a;u=s.match(m);)r=u[0],!u[2]&&!u[4]&&(r=(u[3]?"http://":"mailto:")+r),a=u.index,l(s.substr(0,a)),f(r,u[0].replace(U,"")),s=s.substring(a+u[0].length);return l(s),pe(t.join(""));function l(b){b&&t.push(J(b))}function f(b,C){var $,W=c(b);t.push("<a ");for($ in W)t.push($+'="'+W[$]+'" ');p(o)&&!("target"in W)&&t.push('target="',o,'" '),t.push('href="',b.replace(/"/g,"&quot;"),'">'),l(C),t.push("</a>")}}}])})(window,window.angular)});var Xc=wi((Pd,Jc)=>{Kc();Jc.exports="ngSanitize"});var Zc=wi((oc,wo)=>{(function(we,Q){typeof oc=="object"&&typeof wo!="undefined"?wo.exports=Q():typeof define=="function"&&define.amd?define(Q):we.moment=Q()})(oc,(function(){"use strict";var we;function Q(){return we.apply(null,arguments)}function k(S){we=S}function O(S){return S instanceof Array||Object.prototype.toString.call(S)==="[object Array]"}function I(S){return S!=null&&Object.prototype.toString.call(S)==="[object Object]"}function D(S,V){return Object.prototype.hasOwnProperty.call(S,V)}function T(S){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(S).length===0;var V;for(V in S)if(D(S,V))return!1;return!0}function _(S){return S===void 0}function x(S){return typeof S=="number"||Object.prototype.toString.call(S)==="[object Number]"}function d(S){return S instanceof Date||Object.prototype.toString.call(S)==="[object Date]"}function M(S,V){var he=[],ve,Ce=S.length;for(ve=0;ve<Ce;++ve)he.push(V(S[ve],ve));return he}function g(S,V){for(var he in V)D(V,he)&&(S[he]=V[he]);return D(V,"toString")&&(S.toString=V.toString),D(V,"valueOf")&&(S.valueOf=V.valueOf),S}function F(S,V,he,ve){return ha(S,V,he,ve,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function J(S){return S._pf==null&&(S._pf=N()),S._pf}var pe;Array.prototype.some?pe=Array.prototype.some:pe=function(S){var V=Object(this),he=V.length>>>0,ve;for(ve=0;ve<he;ve++)if(ve in V&&S.call(this,V[ve],ve,V))return!0;return!1};function m(S){var V=null,he=!1,ve=S._d&&!isNaN(S._d.getTime());if(ve&&(V=J(S),he=pe.call(V.parsedDateParts,function(Ce){return Ce!=null}),ve=V.overflow<0&&!V.empty&&!V.invalidEra&&!V.invalidMonth&&!V.invalidWeekday&&!V.weekdayMismatch&&!V.nullInput&&!V.invalidFormat&&!V.userInvalidated&&(!V.meridiem||V.meridiem&&he),S._strict&&(ve=ve&&V.charsLeftOver===0&&V.unusedTokens.length===0&&V.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(S))S._isValid=ve;else return ve;return S._isValid}function U(S){var V=F(NaN);return S!=null?g(J(V),S):J(V).userInvalidated=!0,V}var A=Q.momentProperties=[],p=!1;function w(S,V){var he,ve,Ce,Ve=A.length;if(_(V._isAMomentObject)||(S._isAMomentObject=V._isAMomentObject),_(V._i)||(S._i=V._i),_(V._f)||(S._f=V._f),_(V._l)||(S._l=V._l),_(V._strict)||(S._strict=V._strict),_(V._tzm)||(S._tzm=V._tzm),_(V._isUTC)||(S._isUTC=V._isUTC),_(V._offset)||(S._offset=V._offset),_(V._pf)||(S._pf=J(V)),_(V._locale)||(S._locale=V._locale),Ve>0)for(he=0;he<Ve;he++)ve=A[he],Ce=V[ve],_(Ce)||(S[ve]=Ce);return S}function v(S){w(this,S),this._d=new Date(S._d!=null?S._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),p===!1&&(p=!0,Q.updateOffset(this),p=!1)}function h(S){return S instanceof v||S!=null&&S._isAMomentObject!=null}function e(S){Q.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+S)}function o(S,V){var he=!0;return g(function(){if(Q.deprecationHandler!=null&&Q.deprecationHandler(null,S),he){var ve=[],Ce,Ve,ht,jt=arguments.length;for(Ve=0;Ve<jt;Ve++){if(Ce="",typeof arguments[Ve]=="object"){Ce+=`
`+new Error().stack),he=!1}return V.apply(this,arguments)},V)}var i={};function c(S,V){Q.deprecationHandler!=null&&Q.deprecationHandler(S,V),i[S]||(e(V),i[S]=!0)}Q.suppressDeprecationWarnings=!1,Q.deprecationHandler=null;function u(S){return typeof Function!="undefined"&&S instanceof Function||Object.prototype.toString.call(S)==="[object Function]"}function s(S){var V,he;for(he in S)D(S,he)&&(V=S[he],u(V)?this[he]=V:this["_"+he]=V);this._config=S,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function t(S,V){var he=g({},S),ve;for(ve in V)D(V,ve)&&(I(S[ve])&&I(V[ve])?(he[ve]={},g(he[ve],S[ve]),g(he[ve],V[ve])):V[ve]!=null?he[ve]=V[ve]:delete he[ve]);for(ve in S)D(S,ve)&&!D(V,ve)&&I(S[ve])&&(he[ve]=g({},he[ve]));return he}function r(S){S!=null&&this.set(S)}var a;Object.keys?a=Object.keys:a=function(S){var V,he=[];for(V in S)D(S,V)&&he.push(V);return he};var l={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function f(S,V,he){var ve=this._calendar[S]||this._calendar.sameElse;return u(ve)?ve.call(V,he):ve}function b(S,V,he){var ve=""+Math.abs(S),Ce=V-ve.length,Ve=S>=0;return(Ve?he?"+":"":"-")+Math.pow(10,Math.max(0,Ce)).toString().substr(1)+ve}var C=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},R={};function L(S,V,he,ve){var Ce=ve;typeof ve=="string"&&(Ce=function(){return this[ve]()}),S&&(R[S]=Ce),V&&(R[V[0]]=function(){return b(Ce.apply(this,arguments),V[1],V[2])}),he&&(R[he]=function(){return this.localeData().ordinal(Ce.apply(this,arguments),S)})}function Y(S){return S.match(/\[[\s\S]/)?S.replace(/^\[|\]$/g,""):S.replace(/\\/g,"")}function ee(S){var V=S.match(C),he,ve;for(he=0,ve=V.length;he<ve;he++)R[V[he]]?V[he]=R[V[he]]:V[he]=Y(V[he]);return function(Ce){var Ve="",ht;for(ht=0;ht<ve;ht++)Ve+=u(V[ht])?V[ht].call(Ce,S):V[ht];return Ve}}function ae(S,V){return S.isValid()?(V=fe(V,S.localeData()),W[V]=W[V]||ee(V),W[V](S)):S.localeData().invalidDate()}function fe(S,V){var he=5;function ve(Ce){return V.longDateFormat(Ce)||Ce}for($.lastIndex=0;he>=0&&$.test(S);)S=S.replace($,ve),$.lastIndex=0,he-=1;return S}var xe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function se(S){var V=this._longDateFormat[S],he=this._longDateFormat[S.toUpperCase()];return V||!he?V:(this._longDateFormat[S]=he.match(C).map(function(ve){return ve==="MMMM"||ve==="MM"||ve==="DD"||ve==="dddd"?ve.slice(1):ve}).join(""),this._longDateFormat[S])}var B="Invalid date";function K(){return this._invalidDate}var z="%d",E=/\d{1,2}/;function j(S){return this._ordinal.replace("%d",S)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function oe(S,V,he,ve){var Ce=this._relativeTime[he];return u(Ce)?Ce(S,V,he,ve):Ce.replace(/%d/i,S)}function q(S,V){var he=this._relativeTime[S>0?"future":"past"];return u(he)?he(V):he.replace(/%s/i,V)}var le={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ge(S){return typeof S=="string"?le[S]||le[S.toLowerCase()]:void 0}function Re(S){var V={},he,ve;for(ve in S)D(S,ve)&&(he=ge(ve),he&&(V[he]=S[ve]));return V}var ke={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function De(S){var V=[],he;for(he in S)D(S,he)&&V.push({unit:he,priority:ke[he]});return V.sort(function(ve,Ce){return ve.priority-Ce.priority}),V}var $e=/\d/,qe=/\d\d/,nt=/\d{3}/,bt=/\d{4}/,ct=/[+-]?\d{6}/,Me=/\d\d?/,Ge=/\d\d\d\d?/,Ze=/\d\d\d\d\d\d?/,ft=/\d{1,3}/,Mt=/\d{1,4}/,ce=/[+-]?\d{1,6}/,G=/\d+/,te=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,ze=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ue=/^[1-9]\d?/,yt=/^([1-9]\d|\d)/,mt;mt={};function et(S,V,he){mt[S]=u(V)?V:function(ve,Ce){return ve&&he?he:V}}function Dt(S,V){return D(mt,S)?mt[S](V._strict,V._locale):new RegExp(wt(S))}function wt(S){return Lt(S.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(V,he,ve,Ce,Ve){return he||ve||Ce||Ve}))}function Lt(S){return S.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function vn(S){return S<0?Math.ceil(S)||0:Math.floor(S)}function St(S){var V=+S,he=0;return V!==0&&isFinite(V)&&(he=vn(V)),he}var Wt={};function Yt(S,V){var he,ve=V,Ce;for(typeof S=="string"&&(S=[S]),x(V)&&(ve=function(Ve,ht){ht[V]=St(Ve)}),Ce=S.length,he=0;he<Ce;he++)Wt[S[he]]=ve}function Kt(S,V){Yt(S,function(he,ve,Ce,Ve){Ce._w=Ce._w||{},V(he,Ce._w,Ce,Ve)})}function ln(S,V,he){V!=null&&D(Wt,S)&&Wt[S](V,he._a,he,S)}function _r(S){return S%4===0&&S%100!==0||S%400===0}var Jt=0,rn=1,Xn=2,qt=3,tn=4,Wn=5,on=6,fn=7,ar=8;L("Y",0,0,function(){var S=this.year();return S<=9999?b(S,4):"+"+S}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),et("Y",te),et("YY",Me,qe),et("YYYY",Mt,bt),et("YYYYY",ce,ct),et("YYYYYY",ce,ct),Yt(["YYYYY","YYYYYY"],Jt),Yt("YYYY",function(S,V){V[Jt]=S.length===2?Q.parseTwoDigitYear(S):St(S)}),Yt("YY",function(S,V){V[Jt]=Q.parseTwoDigitYear(S)}),Yt("Y",function(S,V){V[Jt]=parseInt(S,10)});function Xt(S){return _r(S)?366:365}Q.parseTwoDigitYear=function(S){return St(S)+(St(S)>68?1900:2e3)};var an=en("FullYear",!0);function Ir(){return _r(this.year())}function en(S,V){return function(he){return he!=null?(Sr(this,S,he),Q.updateOffset(this,V),this):cn(this,S)}}function cn(S,V){if(!S.isValid())return NaN;var he=S._d,ve=S._isUTC;switch(V){case"Milliseconds":return ve?he.getUTCMilliseconds():he.getMilliseconds();case"Seconds":return ve?he.getUTCSeconds():he.getSeconds();case"Minutes":return ve?he.getUTCMinutes():he.getMinutes();case"Hours":return ve?he.getUTCHours():he.getHours();case"Date":return ve?he.getUTCDate():he.getDate();case"Day":return ve?he.getUTCDay():he.getDay();case"Month":return ve?he.getUTCMonth():he.getMonth();case"FullYear":return ve?he.getUTCFullYear():he.getFullYear();default:return NaN}}function Sr(S,V,he){var ve,Ce,Ve,ht,jt;if(!(!S.isValid()||isNaN(he))){switch(ve=S._d,Ce=S._isUTC,V){case"Milliseconds":return void(Ce?ve.setUTCMilliseconds(he):ve.setMilliseconds(he));case"Seconds":return void(Ce?ve.setUTCSeconds(he):ve.setSeconds(he));case"Minutes":return void(Ce?ve.setUTCMinutes(he):ve.setMinutes(he));case"Hours":return void(Ce?ve.setUTCHours(he):ve.setHours(he));case"Date":return void(Ce?ve.setUTCDate(he):ve.setDate(he));case"FullYear":break;default:return}Ve=he,ht=S.month(),jt=S.date(),jt=jt===29&&ht===1&&!_r(Ve)?28:jt,Ce?ve.setUTCFullYear(Ve,ht,jt):ve.setFullYear(Ve,ht,jt)}}function Ht(S){return S=ge(S),u(this[S])?this[S]():this}function hn(S,V){if(typeof S=="object"){S=Re(S);var he=De(S),ve,Ce=he.length;for(ve=0;ve<Ce;ve++)this[he[ve].unit](S[he[ve].unit])}else if(S=ge(S),u(this[S]))return this[S](V);return this}function sr(S,V){return(S%V+V)%V}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(S){var V;for(V=0;V<this.length;++V)if(this[V]===S)return V;return-1};function nn(S,V){if(isNaN(S)||isNaN(V))return NaN;var he=sr(V,12);return S+=(V-he)/12,he===1?_r(S)?29:28:31-he%7%2}L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(S){return this.localeData().monthsShort(this,S)}),L("MMMM",0,0,function(S){return this.localeData().months(this,S)}),et("M",Me,Ue),et("MM",Me,qe),et("MMM",function(S,V){return V.monthsShortRegex(S)}),et("MMMM",function(S,V){return V.monthsRegex(S)}),Yt(["M","MM"],function(S,V){V[rn]=St(S)-1}),Yt(["MMM","MMMM"],function(S,V,he,ve){var Ce=he._locale.monthsParse(S,ve,he._strict);Ce!=null?V[rn]=Ce:J(he).invalidMonth=S});var Cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ke=ze,ye=ze;function He(S,V){return S?O(this._months)?this._months[S.month()]:this._months[(this._months.isFormat||gn).test(V)?"format":"standalone"][S.month()]:O(this._months)?this._months:this._months.standalone}function Ye(S,V){return S?O(this._monthsShort)?this._monthsShort[S.month()]:this._monthsShort[gn.test(V)?"format":"standalone"][S.month()]:O(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Se(S,V,he){var ve,Ce,Ve,ht=S.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ve=0;ve<12;++ve)Ve=F([2e3,ve]),this._shortMonthsParse[ve]=this.monthsShort(Ve,"").toLocaleLowerCase(),this._longMonthsParse[ve]=this.months(Ve,"").toLocaleLowerCase();return he?V==="MMM"?(Ce=Vt.call(this._shortMonthsParse,ht),Ce!==-1?Ce:null):(Ce=Vt.call(this._longMonthsParse,ht),Ce!==-1?Ce:null):V==="MMM"?(Ce=Vt.call(this._shortMonthsParse,ht),Ce!==-1?Ce:(Ce=Vt.call(this._longMonthsParse,ht),Ce!==-1?Ce:null)):(Ce=Vt.call(this._longMonthsParse,ht),Ce!==-1?Ce:(Ce=Vt.call(this._shortMonthsParse,ht),Ce!==-1?Ce:null))}function Je(S,V,he){var ve,Ce,Ve;if(this._monthsParseExact)return Se.call(this,S,V,he);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ve=0;ve<12;ve++){if(Ce=F([2e3,ve]),he&&!this._longMonthsParse[ve]&&(this._longMonthsParse[ve]=new RegExp("^"+this.months(Ce,"").replace(".","")+"$","i"),this._shortMonthsParse[ve]=new RegExp("^"+this.monthsShort(Ce,"").replace(".","")+"$","i")),!he&&!this._monthsParse[ve]&&(Ve="^"+this.months(Ce,"")+"|^"+this.monthsShort(Ce,""),this._monthsParse[ve]=new RegExp(Ve.replace(".",""),"i")),he&&V==="MMMM"&&this._longMonthsParse[ve].test(S))return ve;if(he&&V==="MMM"&&this._shortMonthsParse[ve].test(S))return ve;if(!he&&this._monthsParse[ve].test(S))return ve}}function lr(S,V){if(!S.isValid())return S;if(typeof V=="string"){if(/^\d+$/.test(V))V=St(V);else if(V=S.localeData().monthsParse(V),!x(V))return S}var he=V,ve=S.date();return ve=ve<29?ve:Math.min(ve,nn(S.year(),he)),S._isUTC?S._d.setUTCMonth(he,ve):S._d.setMonth(he,ve),S}function mr(S){return S!=null?(lr(this,S),Q.updateOffset(this,!0),this):cn(this,"Month")}function Pr(){return nn(this.year(),this.month())}function $r(S){return this._monthsParseExact?(D(this,"_monthsRegex")||vr.call(this),S?this._monthsShortStrictRegex:this._monthsShortRegex):(D(this,"_monthsShortRegex")||(this._monthsShortRegex=Ke),this._monthsShortStrictRegex&&S?this._monthsShortStrictRegex:this._monthsShortRegex)}function Fr(S){return this._monthsParseExact?(D(this,"_monthsRegex")||vr.call(this),S?this._monthsStrictRegex:this._monthsRegex):(D(this,"_monthsRegex")||(this._monthsRegex=ye),this._monthsStrictRegex&&S?this._monthsStrictRegex:this._monthsRegex)}function vr(){function S(mn,xn){return xn.length-mn.length}var V=[],he=[],ve=[],Ce,Ve,ht,jt;for(Ce=0;Ce<12;Ce++)Ve=F([2e3,Ce]),ht=Lt(this.monthsShort(Ve,"")),jt=Lt(this.months(Ve,"")),V.push(ht),he.push(jt),ve.push(jt),ve.push(ht);V.sort(S),he.sort(S),ve.sort(S),this._monthsRegex=new RegExp("^("+ve.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+he.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+V.join("|")+")","i")}function br(S,V,he,ve,Ce,Ve,ht){var jt;return S<100&&S>=0?(jt=new Date(S+400,V,he,ve,Ce,Ve,ht),isFinite(jt.getFullYear())&&jt.setFullYear(S)):jt=new Date(S,V,he,ve,Ce,Ve,ht),jt}function Zn(S){var V,he;return S<100&&S>=0?(he=Array.prototype.slice.call(arguments),he[0]=S+400,V=new Date(Date.UTC.apply(null,he)),isFinite(V.getUTCFullYear())&&V.setUTCFullYear(S)):V=new Date(Date.UTC.apply(null,arguments)),V}function yr(S,V,he){var ve=7+V-he,Ce=(7+Zn(S,0,ve).getUTCDay()-V)%7;return-Ce+ve-1}function dr(S,V,he,ve,Ce){var Ve=(7+he-ve)%7,ht=yr(S,ve,Ce),jt=1+7*(V-1)+Ve+ht,mn,xn;return jt<=0?(mn=S-1,xn=Xt(mn)+jt):jt>Xt(S)?(mn=S+1,xn=jt-Xt(S)):(mn=S,xn=jt),{year:mn,dayOfYear:xn}}function fr(S,V,he){var ve=yr(S.year(),V,he),Ce=Math.floor((S.dayOfYear()-ve-1)/7)+1,Ve,ht;return Ce<1?(ht=S.year()-1,Ve=Ce+Qn(ht,V,he)):Ce>Qn(S.year(),V,he)?(Ve=Ce-Qn(S.year(),V,he),ht=S.year()+1):(ht=S.year(),Ve=Ce),{week:Ve,year:ht}}function Qn(S,V,he){var ve=yr(S,V,he),Ce=yr(S+1,V,he);return(Xt(S)-ve+Ce)/7}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),et("w",Me,Ue),et("ww",Me,qe),et("W",Me,Ue),et("WW",Me,qe),Kt(["w","ww","W","WW"],function(S,V,he,ve){V[ve.substr(0,1)]=St(S)});function Ut(S){return fr(S,this._week.dow,this._week.doy).week}var Te={dow:0,doy:6};function It(){return this._week.dow}function un(){return this._week.doy}function bn(S){var V=this.localeData().week(this);return S==null?V:this.add((S-V)*7,"d")}function Fn(S){var V=fr(this,1,4).week;return S==null?V:this.add((S-V)*7,"d")}L("d",0,"do","day"),L("dd",0,0,function(S){return this.localeData().weekdaysMin(this,S)}),L("ddd",0,0,function(S){return this.localeData().weekdaysShort(this,S)}),L("dddd",0,0,function(S){return this.localeData().weekdays(this,S)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),et("d",Me),et("e",Me),et("E",Me),et("dd",function(S,V){return V.weekdaysMinRegex(S)}),et("ddd",function(S,V){return V.weekdaysShortRegex(S)}),et("dddd",function(S,V){return V.weekdaysRegex(S)}),Kt(["dd","ddd","dddd"],function(S,V,he,ve){var Ce=he._locale.weekdaysParse(S,ve,he._strict);Ce!=null?V.d=Ce:J(he).invalidWeekday=S}),Kt(["d","e","E"],function(S,V,he,ve){V[ve]=St(S)});function Pn(S,V){return typeof S!="string"?S:isNaN(S)?(S=V.weekdaysParse(S),typeof S=="number"?S:null):parseInt(S,10)}function rr(S,V){return typeof S=="string"?V.weekdaysParse(S)%7||7:isNaN(S)?null:S}function cr(S,V){return S.slice(V,7).concat(S.slice(0,V))}var Cn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Er="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_i=ze,_o=ze,zn=ze;function So(S,V){var he=O(this._weekdays)?this._weekdays:this._weekdays[S&&S!==!0&&this._weekdays.isFormat.test(V)?"format":"standalone"];return S===!0?cr(he,this._week.dow):S?he[S.day()]:he}function Hi(S){return S===!0?cr(this._weekdaysShort,this._week.dow):S?this._weekdaysShort[S.day()]:this._weekdaysShort}function ra(S){return S===!0?cr(this._weekdaysMin,this._week.dow):S?this._weekdaysMin[S.day()]:this._weekdaysMin}function ia(S,V,he){var ve,Ce,Ve,ht=S.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ve=0;ve<7;++ve)Ve=F([2e3,1]).day(ve),this._minWeekdaysParse[ve]=this.weekdaysMin(Ve,"").toLocaleLowerCase(),this._shortWeekdaysParse[ve]=this.weekdaysShort(Ve,"").toLocaleLowerCase(),this._weekdaysParse[ve]=this.weekdays(Ve,"").toLocaleLowerCase();return he?V==="dddd"?(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1?Ce:null):V==="ddd"?(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1?Ce:null):(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1?Ce:null):V==="dddd"?(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1||(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1)?Ce:(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1?Ce:null)):V==="ddd"?(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1||(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1)?Ce:(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1?Ce:null)):(Ce=Vt.call(this._minWeekdaysParse,ht),Ce!==-1||(Ce=Vt.call(this._weekdaysParse,ht),Ce!==-1)?Ce:(Ce=Vt.call(this._shortWeekdaysParse,ht),Ce!==-1?Ce:null))}function oa(S,V,he){var ve,Ce,Ve;if(this._weekdaysParseExact)return ia.call(this,S,V,he);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ve=0;ve<7;ve++){if(Ce=F([2e3,1]).day(ve),he&&!this._fullWeekdaysParse[ve]&&(this._fullWeekdaysParse[ve]=new RegExp("^"+this.weekdays(Ce,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ve]=new RegExp("^"+this.weekdaysShort(Ce,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ve]=new RegExp("^"+this.weekdaysMin(Ce,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ve]||(Ve="^"+this.weekdays(Ce,"")+"|^"+this.weekdaysShort(Ce,"")+"|^"+this.weekdaysMin(Ce,""),this._weekdaysParse[ve]=new RegExp(Ve.replace(".",""),"i")),he&&V==="dddd"&&this._fullWeekdaysParse[ve].test(S))return ve;if(he&&V==="ddd"&&this._shortWeekdaysParse[ve].test(S))return ve;if(he&&V==="dd"&&this._minWeekdaysParse[ve].test(S))return ve;if(!he&&this._weekdaysParse[ve].test(S))return ve}}function Eo(S){if(!this.isValid())return S!=null?this:NaN;var V=cn(this,"Day");return S!=null?(S=Pn(S,this.localeData()),this.add(S-V,"d")):V}function Ui(S){if(!this.isValid())return S!=null?this:NaN;var V=(this.day()+7-this.localeData()._week.dow)%7;return S==null?V:this.add(S-V,"d")}function xo(S){if(!this.isValid())return S!=null?this:NaN;if(S!=null){var V=rr(S,this.localeData());return this.day(this.day()%7?V:V-7)}else return this.day()||7}function ji(S){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Si.call(this),S?this._weekdaysStrictRegex:this._weekdaysRegex):(D(this,"_weekdaysRegex")||(this._weekdaysRegex=_i),this._weekdaysStrictRegex&&S?this._weekdaysStrictRegex:this._weekdaysRegex)}function zi(S){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Si.call(this),S?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(D(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_o),this._weekdaysShortStrictRegex&&S?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vi(S){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Si.call(this),S?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(D(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zn),this._weekdaysMinStrictRegex&&S?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Si(){function S(hr,Ur){return Ur.length-hr.length}var V=[],he=[],ve=[],Ce=[],Ve,ht,jt,mn,xn;for(Ve=0;Ve<7;Ve++)ht=F([2e3,1]).day(Ve),jt=Lt(this.weekdaysMin(ht,"")),mn=Lt(this.weekdaysShort(ht,"")),xn=Lt(this.weekdays(ht,"")),V.push(jt),he.push(mn),ve.push(xn),Ce.push(jt),Ce.push(mn),Ce.push(xn);V.sort(S),he.sort(S),ve.sort(S),Ce.sort(S),this._weekdaysRegex=new RegExp("^("+Ce.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ve.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+V.join("|")+")","i")}function Wi(){return this.hours()%12||12}function Gi(){return this.hours()||24}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Wi),L("k",["kk",2],0,Gi),L("hmm",0,0,function(){return""+Wi.apply(this)+b(this.minutes(),2)}),L("hmmss",0,0,function(){return""+Wi.apply(this)+b(this.minutes(),2)+b(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+b(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+b(this.minutes(),2)+b(this.seconds(),2)});function Co(S,V){L(S,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),V)})}Co("a",!0),Co("A",!1);function Ei(S,V){return V._meridiemParse}et("a",Ei),et("A",Ei),et("H",Me,yt),et("h",Me,Ue),et("k",Me,Ue),et("HH",Me,qe),et("hh",Me,qe),et("kk",Me,qe),et("hmm",Ge),et("hmmss",Ze),et("Hmm",Ge),et("Hmmss",Ze),Yt(["H","HH"],qt),Yt(["k","kk"],function(S,V,he){var ve=St(S);V[qt]=ve===24?0:ve}),Yt(["a","A"],function(S,V,he){he._isPm=he._locale.isPM(S),he._meridiem=S}),Yt(["h","hh"],function(S,V,he){V[qt]=St(S),J(he).bigHour=!0}),Yt("hmm",function(S,V,he){var ve=S.length-2;V[qt]=St(S.substr(0,ve)),V[tn]=St(S.substr(ve)),J(he).bigHour=!0}),Yt("hmmss",function(S,V,he){var ve=S.length-4,Ce=S.length-2;V[qt]=St(S.substr(0,ve)),V[tn]=St(S.substr(ve,2)),V[Wn]=St(S.substr(Ce)),J(he).bigHour=!0}),Yt("Hmm",function(S,V,he){var ve=S.length-2;V[qt]=St(S.substr(0,ve)),V[tn]=St(S.substr(ve))}),Yt("Hmmss",function(S,V,he){var ve=S.length-4,Ce=S.length-2;V[qt]=St(S.substr(0,ve)),V[tn]=St(S.substr(ve,2)),V[Wn]=St(S.substr(Ce))});function us(S){return(S+"").toLowerCase().charAt(0)==="p"}var aa=/[ap]\.?m?\.?/i,ui=en("Hours",!0);function qi(S,V,he){return S>11?he?"pm":"PM":he?"am":"AM"}var Ao={calendar:l,longDateFormat:xe,invalidDate:B,ordinal:z,dayOfMonthOrdinalParse:E,relativeTime:Z,months:Cr,monthsShort:pn,week:Te,weekdays:Cn,weekdaysMin:Jr,weekdaysShort:Er,meridiemParse:aa},On={},di={},xi;function ds(S,V){var he,ve=Math.min(S.length,V.length);for(he=0;he<ve;he+=1)if(S[he]!==V[he])return he;return ve}function sa(S){return S&&S.toLowerCase().replace("_","-")}function fs(S){for(var V=0,he,ve,Ce,Ve;V<S.length;){for(Ve=sa(S[V]).split("-"),he=Ve.length,ve=sa(S[V+1]),ve=ve?ve.split("-"):null;he>0;){if(Ce=Wr(Ve.slice(0,he).join("-")),Ce)return Ce;if(ve&&ve.length>=he&&ds(Ve,ve)>=he-1)break;he--}V++}return xi}function hs(S){return!!(S&&S.match("^[^/\\\\]*$"))}function Wr(S){var V=null,he;if(On[S]===void 0&&typeof wo!="undefined"&&wo&&wo.exports&&hs(S))try{V=xi._abbr,he=Bi,he("./locale/"+S),Xr(V)}catch{On[S]=null}return On[S]}function Xr(S,V){var he;return S&&(_(V)?he=Gr(S):he=Yi(S,V),he?xi=he:typeof console!="undefined"&&console.warn&&console.warn("Locale "+S+" not found. Did you forget to load it?")),xi._abbr}function Yi(S,V){if(V!==null){var he,ve=Ao;if(V.abbr=S,On[S]!=null)c("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ve=On[S]._config;else if(V.parentLocale!=null)if(On[V.parentLocale]!=null)ve=On[V.parentLocale]._config;else if(he=Wr(V.parentLocale),he!=null)ve=he._config;else return di[V.parentLocale]||(di[V.parentLocale]=[]),di[V.parentLocale].push({name:S,config:V}),null;return On[S]=new r(t(ve,V)),di[S]&&di[S].forEach(function(Ce){Yi(Ce.name,Ce.config)}),Xr(S),On[S]}else return delete On[S],null}function Ki(S,V){if(V!=null){var he,ve,Ce=Ao;On[S]!=null&&On[S].parentLocale!=null?On[S].set(t(On[S]._config,V)):(ve=Wr(S),ve!=null&&(Ce=ve._config),V=t(Ce,V),ve==null&&(V.abbr=S),he=new r(V),he.parentLocale=On[S],On[S]=he),Xr(S)}else On[S]!=null&&(On[S].parentLocale!=null?(On[S]=On[S].parentLocale,S===Xr()&&Xr(S)):On[S]!=null&&delete On[S]);return On[S]}function Gr(S){var V;if(S&&S._locale&&S._locale._abbr&&(S=S._locale._abbr),!S)return xi;if(!O(S)){if(V=Wr(S),V)return V;S=[S]}return fs(S)}function ps(){return a(On)}function ko(S){var V,he=S._a;return he&&J(S).overflow===-2&&(V=he[rn]<0||he[rn]>11?rn:he[Xn]<1||he[Xn]>nn(he[Jt],he[rn])?Xn:he[qt]<0||he[qt]>24||he[qt]===24&&(he[tn]!==0||he[Wn]!==0||he[on]!==0)?qt:he[tn]<0||he[tn]>59?tn:he[Wn]<0||he[Wn]>59?Wn:he[on]<0||he[on]>999?on:-1,J(S)._overflowDayOfYear&&(V<Jt||V>Xn)&&(V=Xn),J(S)._overflowWeeks&&V===-1&&(V=fn),J(S)._overflowWeekday&&V===-1&&(V=ar),J(S).overflow=V),S}var gs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ms=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/Z|[+-]\d\d(?::?\d\d)?/,Br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ji=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],la=/^\/?Date\((-?\d+)/i,bs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ys={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fi(S){var V,he,ve=S._i,Ce=gs.exec(ve)||ms.exec(ve),Ve,ht,jt,mn,xn=Br.length,hr=Ji.length;if(Ce){for(J(S).iso=!0,V=0,he=xn;V<he;V++)if(Br[V][1].exec(Ce[1])){ht=Br[V][0],Ve=Br[V][2]!==!1;break}if(ht==null){S._isValid=!1;return}if(Ce[3]){for(V=0,he=hr;V<he;V++)if(Ji[V][1].exec(Ce[3])){jt=(Ce[2]||" ")+Ji[V][0];break}if(jt==null){S._isValid=!1;return}}if(!Ve&&jt!=null){S._isValid=!1;return}if(Ce[4])if(vs.exec(Ce[4]))mn="Z";else{S._isValid=!1;return}S._f=ht+(jt||"")+(mn||""),To(S)}else S._isValid=!1}function ws(S,V,he,ve,Ce,Ve){var ht=[ca(S),pn.indexOf(V),parseInt(he,10),parseInt(ve,10),parseInt(Ce,10)];return Ve&&ht.push(parseInt(Ve,10)),ht}function ca(S){var V=parseInt(S,10);return V<=49?2e3+V:V<=999?1900+V:V}function _s(S){return S.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ua(S,V,he){if(S){var ve=Er.indexOf(S),Ce=new Date(V[0],V[1],V[2]).getDay();if(ve!==Ce)return J(he).weekdayMismatch=!0,he._isValid=!1,!1}return!0}function Ci(S,V,he){if(S)return ys[S];if(V)return 0;var ve=parseInt(he,10),Ce=ve%100,Ve=(ve-Ce)/100;return Ve*60+Ce}function da(S){var V=bs.exec(_s(S._i)),he;if(V){if(he=ws(V[4],V[3],V[2],V[5],V[6],V[7]),!ua(V[1],he,S))return;S._a=he,S._tzm=Ci(V[8],V[9],V[10]),S._d=Zn.apply(null,S._a),S._d.setUTCMinutes(S._d.getUTCMinutes()-S._tzm),J(S).rfc2822=!0}else S._isValid=!1}function Ss(S){var V=la.exec(S._i);if(V!==null){S._d=new Date(+V[1]);return}if(fi(S),S._isValid===!1)delete S._isValid;else return;if(da(S),S._isValid===!1)delete S._isValid;else return;S._strict?S._isValid=!1:Q.createFromInputFallback(S)}Q.createFromInputFallback=o("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(S){S._d=new Date(S._i+(S._useUTC?" UTC":""))});function Dr(S,V,he){return S!=null?S:V!=null?V:he}function Es(S){var V=new Date(Q.now());return S._useUTC?[V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate()]:[V.getFullYear(),V.getMonth(),V.getDate()]}function Ro(S){var V,he,ve=[],Ce,Ve,ht;if(!S._d){for(Ce=Es(S),S._w&&S._a[Xn]==null&&S._a[rn]==null&&xs(S),S._dayOfYear!=null&&(ht=Dr(S._a[Jt],Ce[Jt]),(S._dayOfYear>Xt(ht)||S._dayOfYear===0)&&(J(S)._overflowDayOfYear=!0),he=Zn(ht,0,S._dayOfYear),S._a[rn]=he.getUTCMonth(),S._a[Xn]=he.getUTCDate()),V=0;V<3&&S._a[V]==null;++V)S._a[V]=ve[V]=Ce[V];for(;V<7;V++)S._a[V]=ve[V]=S._a[V]==null?V===2?1:0:S._a[V];S._a[qt]===24&&S._a[tn]===0&&S._a[Wn]===0&&S._a[on]===0&&(S._nextDay=!0,S._a[qt]=0),S._d=(S._useUTC?Zn:br).apply(null,ve),Ve=S._useUTC?S._d.getUTCDay():S._d.getDay(),S._tzm!=null&&S._d.setUTCMinutes(S._d.getUTCMinutes()-S._tzm),S._nextDay&&(S._a[qt]=24),S._w&&typeof S._w.d!="undefined"&&S._w.d!==Ve&&(J(S).weekdayMismatch=!0)}}function xs(S){var V,he,ve,Ce,Ve,ht,jt,mn,xn;V=S._w,V.GG!=null||V.W!=null||V.E!=null?(Ve=1,ht=4,he=Dr(V.GG,S._a[Jt],fr(Nn(),1,4).year),ve=Dr(V.W,1),Ce=Dr(V.E,1),(Ce<1||Ce>7)&&(mn=!0)):(Ve=S._locale._week.dow,ht=S._locale._week.doy,xn=fr(Nn(),Ve,ht),he=Dr(V.gg,S._a[Jt],xn.year),ve=Dr(V.w,xn.week),V.d!=null?(Ce=V.d,(Ce<0||Ce>6)&&(mn=!0)):V.e!=null?(Ce=V.e+Ve,(V.e<0||V.e>6)&&(mn=!0)):Ce=Ve),ve<1||ve>Qn(he,Ve,ht)?J(S)._overflowWeeks=!0:mn!=null?J(S)._overflowWeekday=!0:(jt=dr(he,ve,Ce,Ve,ht),S._a[Jt]=jt.year,S._dayOfYear=jt.dayOfYear)}Q.ISO_8601=function(){},Q.RFC_2822=function(){};function To(S){if(S._f===Q.ISO_8601){fi(S);return}if(S._f===Q.RFC_2822){da(S);return}S._a=[],J(S).empty=!0;var V=""+S._i,he,ve,Ce,Ve,ht,jt=V.length,mn=0,xn,hr;for(Ce=fe(S._f,S._locale).match(C)||[],hr=Ce.length,he=0;he<hr;he++)Ve=Ce[he],ve=(V.match(Dt(Ve,S))||[])[0],ve&&(ht=V.substr(0,V.indexOf(ve)),ht.length>0&&J(S).unusedInput.push(ht),V=V.slice(V.indexOf(ve)+ve.length),mn+=ve.length),R[Ve]?(ve?J(S).empty=!1:J(S).unusedTokens.push(Ve),ln(Ve,ve,S)):S._strict&&!ve&&J(S).unusedTokens.push(Ve);J(S).charsLeftOver=jt-mn,V.length>0&&J(S).unusedInput.push(V),S._a[qt]<=12&&J(S).bigHour===!0&&S._a[qt]>0&&(J(S).bigHour=void 0),J(S).parsedDateParts=S._a.slice(0),J(S).meridiem=S._meridiem,S._a[qt]=Cs(S._locale,S._a[qt],S._meridiem),xn=J(S).era,xn!==null&&(S._a[Jt]=S._locale.erasConvertYear(xn,S._a[Jt])),Ro(S),ko(S)}function Cs(S,V,he){var ve;return he==null?V:S.meridiemHour!=null?S.meridiemHour(V,he):(S.isPM!=null&&(ve=S.isPM(he),ve&&V<12&&(V+=12),!ve&&V===12&&(V=0)),V)}function As(S){var V,he,ve,Ce,Ve,ht,jt=!1,mn=S._f.length;if(mn===0){J(S).invalidFormat=!0,S._d=new Date(NaN);return}for(Ce=0;Ce<mn;Ce++)Ve=0,ht=!1,V=w({},S),S._useUTC!=null&&(V._useUTC=S._useUTC),V._f=S._f[Ce],To(V),m(V)&&(ht=!0),Ve+=J(V).charsLeftOver,Ve+=J(V).unusedTokens.length*10,J(V).score=Ve,jt?Ve<ve&&(ve=Ve,he=V):(ve==null||Ve<ve||ht)&&(ve=Ve,he=V,ht&&(jt=!0));g(S,he||V)}function ks(S){if(!S._d){var V=Re(S._i),he=V.day===void 0?V.date:V.day;S._a=M([V.year,V.month,he,V.hour,V.minute,V.second,V.millisecond],function(ve){return ve&&parseInt(ve,10)}),Ro(S)}}function Rs(S){var V=new v(ko(fa(S)));return V._nextDay&&(V.add(1,"d"),V._nextDay=void 0),V}function fa(S){var V=S._i,he=S._f;return S._locale=S._locale||Gr(S._l),V===null||he===void 0&&V===""?U({nullInput:!0}):(typeof V=="string"&&(S._i=V=S._locale.preparse(V)),h(V)?new v(ko(V)):(d(V)?S._d=V:O(he)?As(S):he?To(S):Ts(S),m(S)||(S._d=null),S))}function Ts(S){var V=S._i;_(V)?S._d=new Date(Q.now()):d(V)?S._d=new Date(V.valueOf()):typeof V=="string"?Ss(S):O(V)?(S._a=M(V.slice(0),function(he){return parseInt(he,10)}),Ro(S)):I(V)?ks(S):x(V)?S._d=new Date(V):Q.createFromInputFallback(S)}function ha(S,V,he,ve,Ce){var Ve={};return(V===!0||V===!1)&&(ve=V,V=void 0),(he===!0||he===!1)&&(ve=he,he=void 0),(I(S)&&T(S)||O(S)&&S.length===0)&&(S=void 0),Ve._isAMomentObject=!0,Ve._useUTC=Ve._isUTC=Ce,Ve._l=he,Ve._i=S,Ve._f=V,Ve._strict=ve,Rs(Ve)}function Nn(S,V,he,ve){return ha(S,V,he,ve,!1)}var Gn=o("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var S=Nn.apply(null,arguments);return this.isValid()&&S.isValid()?S<this?this:S:U()}),Is=o("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var S=Nn.apply(null,arguments);return this.isValid()&&S.isValid()?S>this?this:S:U()});function Xi(S,V){var he,ve;if(V.length===1&&O(V[0])&&(V=V[0]),!V.length)return Nn();for(he=V[0],ve=1;ve<V.length;++ve)(!V[ve].isValid()||V[ve][S](he))&&(he=V[ve]);return he}function pa(){var S=[].slice.call(arguments,0);return Xi("isBefore",S)}function Zi(){var S=[].slice.call(arguments,0);return Xi("isAfter",S)}var ga=function(){return Date.now?Date.now():+new Date},Ai=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Or(S){var V,he=!1,ve,Ce=Ai.length;for(V in S)if(D(S,V)&&!(Vt.call(Ai,V)!==-1&&(S[V]==null||!isNaN(S[V]))))return!1;for(ve=0;ve<Ce;++ve)if(S[Ai[ve]]){if(he)return!1;parseFloat(S[Ai[ve]])!==St(S[Ai[ve]])&&(he=!0)}return!0}function lc(){return this._isValid}function cc(){return Lr(NaN)}function ki(S){var V=Re(S),he=V.year||0,ve=V.quarter||0,Ce=V.month||0,Ve=V.week||V.isoWeek||0,ht=V.day||0,jt=V.hour||0,mn=V.minute||0,xn=V.second||0,hr=V.millisecond||0;this._isValid=Or(V),this._milliseconds=+hr+xn*1e3+mn*6e4+jt*1e3*60*60,this._days=+ht+Ve*7,this._months=+Ce+ve*3+he*12,this._data={},this._locale=Gr(),this._bubble()}function Ri(S){return S instanceof ki}function Qi(S){return S<0?Math.round(-1*S)*-1:Math.round(S)}function ma(S,V,he){var ve=Math.min(S.length,V.length),Ce=Math.abs(S.length-V.length),Ve=0,ht;for(ht=0;ht<ve;ht++)(he&&S[ht]!==V[ht]||!he&&St(S[ht])!==St(V[ht]))&&Ve++;return Ve+Ce}function va(S,V){L(S,0,0,function(){var he=this.utcOffset(),ve="+";return he<0&&(he=-he,ve="-"),ve+b(~~(he/60),2)+V+b(~~he%60,2)})}va("Z",":"),va("ZZ",""),et("Z",_e),et("ZZ",_e),Yt(["Z","ZZ"],function(S,V,he){he._useUTC=!0,he._tzm=Io(_e,S)});var Ps=/([\+\-]|\d\d)/gi;function Io(S,V){var he=(V||"").match(S),ve,Ce,Ve;return he===null?null:(ve=he[he.length-1]||[],Ce=(ve+"").match(Ps)||["-",0,0],Ve=+(Ce[1]*60)+St(Ce[2]),Ve===0?0:Ce[0]==="+"?Ve:-Ve)}function Po(S,V){var he,ve;return V._isUTC?(he=V.clone(),ve=(h(S)||d(S)?S.valueOf():Nn(S).valueOf())-he.valueOf(),he._d.setTime(he._d.valueOf()+ve),Q.updateOffset(he,!1),he):Nn(S).local()}function Do(S){return-Math.round(S._d.getTimezoneOffset())}Q.updateOffset=function(){};function Ds(S,V,he){var ve=this._offset||0,Ce;if(!this.isValid())return S!=null?this:NaN;if(S!=null){if(typeof S=="string"){if(S=Io(_e,S),S===null)return this}else Math.abs(S)<16&&!he&&(S=S*60);return!this._isUTC&&V&&(Ce=Do(this)),this._offset=S,this._isUTC=!0,Ce!=null&&this.add(Ce,"m"),ve!==S&&(!V||this._changeInProgress?_a(this,Lr(S-ve,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?ve:Do(this)}function ba(S,V){return S!=null?(typeof S!="string"&&(S=-S),this.utcOffset(S,V),this):-this.utcOffset()}function Lo(S){return this.utcOffset(0,S)}function Ls(S){return this._isUTC&&(this.utcOffset(0,S),this._isUTC=!1,S&&this.subtract(Do(this),"m")),this}function Ms(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var S=Io(de,this._i);S!=null?this.utcOffset(S):this.utcOffset(0,!0)}return this}function $s(S){return this.isValid()?(S=S?Nn(S).utcOffset():0,(this.utcOffset()-S)%60===0):!1}function eo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mo(){if(!_(this._isDSTShifted))return this._isDSTShifted;var S={},V;return w(S,this),S=fa(S),S._a?(V=S._isUTC?F(S._a):Nn(S._a),this._isDSTShifted=this.isValid()&&ma(S._a,V.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Fs(){return this.isValid()?!this._isUTC:!1}function Os(){return this.isValid()?this._isUTC:!1}function to(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ns=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ya=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Lr(S,V){var he=S,ve=null,Ce,Ve,ht;return Ri(S)?he={ms:S._milliseconds,d:S._days,M:S._months}:x(S)||!isNaN(+S)?(he={},V?he[V]=+S:he.milliseconds=+S):(ve=Ns.exec(S))?(Ce=ve[1]==="-"?-1:1,he={y:0,d:St(ve[Xn])*Ce,h:St(ve[qt])*Ce,m:St(ve[tn])*Ce,s:St(ve[Wn])*Ce,ms:St(Qi(ve[on]*1e3))*Ce}):(ve=ya.exec(S))?(Ce=ve[1]==="-"?-1:1,he={y:Zr(ve[2],Ce),M:Zr(ve[3],Ce),w:Zr(ve[4],Ce),d:Zr(ve[5],Ce),h:Zr(ve[6],Ce),m:Zr(ve[7],Ce),s:Zr(ve[8],Ce)}):he==null?he={}:typeof he=="object"&&("from"in he||"to"in he)&&(ht=Bs(Nn(he.from),Nn(he.to)),he={},he.ms=ht.milliseconds,he.M=ht.months),Ve=new ki(he),Ri(S)&&D(S,"_locale")&&(Ve._locale=S._locale),Ri(S)&&D(S,"_isValid")&&(Ve._isValid=S._isValid),Ve}Lr.fn=ki.prototype,Lr.invalid=cc;function Zr(S,V){var he=S&&parseFloat(S.replace(",","."));return(isNaN(he)?0:he)*V}function no(S,V){var he={};return he.months=V.month()-S.month()+(V.year()-S.year())*12,S.clone().add(he.months,"M").isAfter(V)&&--he.months,he.milliseconds=+V-+S.clone().add(he.months,"M"),he}function Bs(S,V){var he;return S.isValid()&&V.isValid()?(V=Po(V,S),S.isBefore(V)?he=no(S,V):(he=no(V,S),he.milliseconds=-he.milliseconds,he.months=-he.months),he):{milliseconds:0,months:0}}function wa(S,V){return function(he,ve){var Ce,Ve;return ve!==null&&!isNaN(+ve)&&(c(V,"moment()."+V+"(period, number) is deprecated. Please use moment()."+V+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ve=he,he=ve,ve=Ve),Ce=Lr(he,ve),_a(this,Ce,S),this}}function _a(S,V,he,ve){var Ce=V._milliseconds,Ve=Qi(V._days),ht=Qi(V._months);S.isValid()&&(ve=ve==null?!0:ve,ht&&lr(S,cn(S,"Month")+ht*he),Ve&&Sr(S,"Date",cn(S,"Date")+Ve*he),Ce&&S._d.setTime(S._d.valueOf()+Ce*he),ve&&Q.updateOffset(S,Ve||ht))}var Hs=wa(1,"add"),ri=wa(-1,"subtract");function Sa(S){return typeof S=="string"||S instanceof String}function Us(S){return h(S)||d(S)||Sa(S)||x(S)||zs(S)||js(S)||S===null||S===void 0}function js(S){var V=I(S)&&!T(S),he=!1,ve=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Ce,Ve,ht=ve.length;for(Ce=0;Ce<ht;Ce+=1)Ve=ve[Ce],he=he||D(S,Ve);return V&&he}function zs(S){var V=O(S),he=!1;return V&&(he=S.filter(function(ve){return!x(ve)&&Sa(S)}).length===0),V&&he}function Vs(S){var V=I(S)&&!T(S),he=!1,ve=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Ce,Ve;for(Ce=0;Ce<ve.length;Ce+=1)Ve=ve[Ce],he=he||D(S,Ve);return V&&he}function Ws(S,V){var he=S.diff(V,"days",!0);return he<-6?"sameElse":he<-1?"lastWeek":he<0?"lastDay":he<1?"sameDay":he<2?"nextDay":he<7?"nextWeek":"sameElse"}function Gs(S,V){arguments.length===1&&(arguments[0]?Us(arguments[0])?(S=arguments[0],V=void 0):Vs(arguments[0])&&(V=arguments[0],S=void 0):(S=void 0,V=void 0));var he=S||Nn(),ve=Po(he,this).startOf("day"),Ce=Q.calendarFormat(this,ve)||"sameElse",Ve=V&&(u(V[Ce])?V[Ce].call(this,he):V[Ce]);return this.format(Ve||this.localeData().calendar(Ce,this,Nn(he)))}function Ti(){return new v(this)}function qs(S,V){var he=h(S)?S:Nn(S);return this.isValid()&&he.isValid()?(V=ge(V)||"millisecond",V==="millisecond"?this.valueOf()>he.valueOf():he.valueOf()<this.clone().startOf(V).valueOf()):!1}function Ys(S,V){var he=h(S)?S:Nn(S);return this.isValid()&&he.isValid()?(V=ge(V)||"millisecond",V==="millisecond"?this.valueOf()<he.valueOf():this.clone().endOf(V).valueOf()<he.valueOf()):!1}function Ks(S,V,he,ve){var Ce=h(S)?S:Nn(S),Ve=h(V)?V:Nn(V);return this.isValid()&&Ce.isValid()&&Ve.isValid()?(ve=ve||"()",(ve[0]==="("?this.isAfter(Ce,he):!this.isBefore(Ce,he))&&(ve[1]===")"?this.isBefore(Ve,he):!this.isAfter(Ve,he))):!1}function Ea(S,V){var he=h(S)?S:Nn(S),ve;return this.isValid()&&he.isValid()?(V=ge(V)||"millisecond",V==="millisecond"?this.valueOf()===he.valueOf():(ve=he.valueOf(),this.clone().startOf(V).valueOf()<=ve&&ve<=this.clone().endOf(V).valueOf())):!1}function Js(S,V){return this.isSame(S,V)||this.isAfter(S,V)}function xa(S,V){return this.isSame(S,V)||this.isBefore(S,V)}function $o(S,V,he){var ve,Ce,Ve;if(!this.isValid())return NaN;if(ve=Po(S,this),!ve.isValid())return NaN;switch(Ce=(ve.utcOffset()-this.utcOffset())*6e4,V=ge(V),V){case"year":Ve=Mr(this,ve)/12;break;case"month":Ve=Mr(this,ve);break;case"quarter":Ve=Mr(this,ve)/3;break;case"second":Ve=(this-ve)/1e3;break;case"minute":Ve=(this-ve)/6e4;break;case"hour":Ve=(this-ve)/36e5;break;case"day":Ve=(this-ve-Ce)/864e5;break;case"week":Ve=(this-ve-Ce)/6048e5;break;default:Ve=this-ve}return he?Ve:vn(Ve)}function Mr(S,V){if(S.date()<V.date())return-Mr(V,S);var he=(V.year()-S.year())*12+(V.month()-S.month()),ve=S.clone().add(he,"months"),Ce,Ve;return V-ve<0?(Ce=S.clone().add(he-1,"months"),Ve=(V-ve)/(ve-Ce)):(Ce=S.clone().add(he+1,"months"),Ve=(V-ve)/(Ce-ve)),-(he+Ve)||0}Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ii(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xs(S){if(!this.isValid())return null;var V=S!==!0,he=V?this.clone().utc():this;return he.year()<0||he.year()>9999?ae(he,V?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):u(Date.prototype.toISOString)?V?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ae(he,"Z")):ae(he,V?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var S="moment",V="",he,ve,Ce,Ve;return this.isLocal()||(S=this.utcOffset()===0?"moment.utc":"moment.parseZone",V="Z"),he="["+S+'("]',ve=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Ce="-MM-DD[T]HH:mm:ss.SSS",Ve=V+'[")]',this.format(he+ve+Ce+Ve)}function Fo(S){S||(S=this.isUtc()?Q.defaultFormatUtc:Q.defaultFormat);var V=ae(this,S);return this.localeData().postformat(V)}function Oo(S,V){return this.isValid()&&(h(S)&&S.isValid()||Nn(S).isValid())?Lr({to:this,from:S}).locale(this.locale()).humanize(!V):this.localeData().invalidDate()}function Ca(S){return this.from(Nn(),S)}function Qs(S,V){return this.isValid()&&(h(S)&&S.isValid()||Nn(S).isValid())?Lr({from:this,to:S}).locale(this.locale()).humanize(!V):this.localeData().invalidDate()}function ro(S){return this.to(Nn(),S)}function No(S){var V;return S===void 0?this._locale._abbr:(V=Gr(S),V!=null&&(this._locale=V),this)}var Aa=o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(S){return S===void 0?this.localeData():this.locale(S)});function ka(){return this._locale}var qr=1e3,hi=60*qr,Ii=60*hi,Pi=(365*400+97)*24*Ii;function pi(S,V){return(S%V+V)%V}function Di(S,V,he){return S<100&&S>=0?new Date(S+400,V,he)-Pi:new Date(S,V,he).valueOf()}function At(S,V,he){return S<100&&S>=0?Date.UTC(S+400,V,he)-Pi:Date.UTC(S,V,he)}function el(S){var V,he;if(S=ge(S),S===void 0||S==="millisecond"||!this.isValid())return this;switch(he=this._isUTC?At:Di,S){case"year":V=he(this.year(),0,1);break;case"quarter":V=he(this.year(),this.month()-this.month()%3,1);break;case"month":V=he(this.year(),this.month(),1);break;case"week":V=he(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":V=he(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":V=he(this.year(),this.month(),this.date());break;case"hour":V=this._d.valueOf(),V-=pi(V+(this._isUTC?0:this.utcOffset()*hi),Ii);break;case"minute":V=this._d.valueOf(),V-=pi(V,hi);break;case"second":V=this._d.valueOf(),V-=pi(V,qr);break}return this._d.setTime(V),Q.updateOffset(this,!0),this}function Ra(S){var V,he;if(S=ge(S),S===void 0||S==="millisecond"||!this.isValid())return this;switch(he=this._isUTC?At:Di,S){case"year":V=he(this.year()+1,0,1)-1;break;case"quarter":V=he(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":V=he(this.year(),this.month()+1,1)-1;break;case"week":V=he(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":V=he(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":V=he(this.year(),this.month(),this.date()+1)-1;break;case"hour":V=this._d.valueOf(),V+=Ii-pi(V+(this._isUTC?0:this.utcOffset()*hi),Ii)-1;break;case"minute":V=this._d.valueOf(),V+=hi-pi(V,hi)-1;break;case"second":V=this._d.valueOf(),V+=qr-pi(V,qr)-1;break}return this._d.setTime(V),Q.updateOffset(this,!0),this}function tl(){return this._d.valueOf()-(this._offset||0)*6e4}function Ta(){return Math.floor(this.valueOf()/1e3)}function Ia(){return new Date(this.valueOf())}function nl(){var S=this;return[S.year(),S.month(),S.date(),S.hour(),S.minute(),S.second(),S.millisecond()]}function er(){var S=this;return{years:S.year(),months:S.month(),date:S.date(),hours:S.hours(),minutes:S.minutes(),seconds:S.seconds(),milliseconds:S.milliseconds()}}function Pa(){return this.isValid()?this.toISOString():null}function Da(){return m(this)}function La(){return g({},J(this))}function rl(){return J(this).overflow}function il(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),et("N",oo),et("NN",oo),et("NNN",oo),et("NNNN",ll),et("NNNNN",cl),Yt(["N","NN","NNN","NNNN","NNNNN"],function(S,V,he,ve){var Ce=he._locale.erasParse(S,ve,he._strict);Ce?J(he).era=Ce:J(he).invalidEra=S}),et("y",G),et("yy",G),et("yyy",G),et("yyyy",G),et("yo",ul),Yt(["y","yy","yyy","yyyy"],Jt),Yt(["yo"],function(S,V,he,ve){var Ce;he._locale._eraYearOrdinalRegex&&(Ce=S.match(he._locale._eraYearOrdinalRegex)),he._locale.eraYearOrdinalParse?V[Jt]=he._locale.eraYearOrdinalParse(S,Ce):V[Jt]=parseInt(S,10)});function Ma(S,V){var he,ve,Ce,Ve=this._eras||Gr("en")._eras;for(he=0,ve=Ve.length;he<ve;++he){switch(typeof Ve[he].since){case"string":Ce=Q(Ve[he].since).startOf("day"),Ve[he].since=Ce.valueOf();break}switch(typeof Ve[he].until){case"undefined":Ve[he].until=1/0;break;case"string":Ce=Q(Ve[he].until).startOf("day").valueOf(),Ve[he].until=Ce.valueOf();break}}return Ve}function $a(S,V,he){var ve,Ce,Ve=this.eras(),ht,jt,mn;for(S=S.toUpperCase(),ve=0,Ce=Ve.length;ve<Ce;++ve)if(ht=Ve[ve].name.toUpperCase(),jt=Ve[ve].abbr.toUpperCase(),mn=Ve[ve].narrow.toUpperCase(),he)switch(V){case"N":case"NN":case"NNN":if(jt===S)return Ve[ve];break;case"NNNN":if(ht===S)return Ve[ve];break;case"NNNNN":if(mn===S)return Ve[ve];break}else if([ht,jt,mn].indexOf(S)>=0)return Ve[ve]}function io(S,V){var he=S.since<=S.until?1:-1;return V===void 0?Q(S.since).year():Q(S.since).year()+(V-S.offset)*he}function Bo(){var S,V,he,ve=this.localeData().eras();for(S=0,V=ve.length;S<V;++S)if(he=this.clone().startOf("day").valueOf(),ve[S].since<=he&&he<=ve[S].until||ve[S].until<=he&&he<=ve[S].since)return ve[S].name;return""}function ol(){var S,V,he,ve=this.localeData().eras();for(S=0,V=ve.length;S<V;++S)if(he=this.clone().startOf("day").valueOf(),ve[S].since<=he&&he<=ve[S].until||ve[S].until<=he&&he<=ve[S].since)return ve[S].narrow;return""}function al(){var S,V,he,ve=this.localeData().eras();for(S=0,V=ve.length;S<V;++S)if(he=this.clone().startOf("day").valueOf(),ve[S].since<=he&&he<=ve[S].until||ve[S].until<=he&&he<=ve[S].since)return ve[S].abbr;return""}function sl(){var S,V,he,ve,Ce=this.localeData().eras();for(S=0,V=Ce.length;S<V;++S)if(he=Ce[S].since<=Ce[S].until?1:-1,ve=this.clone().startOf("day").valueOf(),Ce[S].since<=ve&&ve<=Ce[S].until||Ce[S].until<=ve&&ve<=Ce[S].since)return(this.year()-Q(Ce[S].since).year())*he+Ce[S].offset;return this.year()}function Fa(S){return D(this,"_erasNameRegex")||Hr.call(this),S?this._erasNameRegex:this._erasRegex}function Oa(S){return D(this,"_erasAbbrRegex")||Hr.call(this),S?this._erasAbbrRegex:this._erasRegex}function Ho(S){return D(this,"_erasNarrowRegex")||Hr.call(this),S?this._erasNarrowRegex:this._erasRegex}function oo(S,V){return V.erasAbbrRegex(S)}function ll(S,V){return V.erasNameRegex(S)}function cl(S,V){return V.erasNarrowRegex(S)}function ul(S,V){return V._eraYearOrdinalRegex||G}function Hr(){var S=[],V=[],he=[],ve=[],Ce,Ve,ht,jt,mn,xn=this.eras();for(Ce=0,Ve=xn.length;Ce<Ve;++Ce)ht=Lt(xn[Ce].name),jt=Lt(xn[Ce].abbr),mn=Lt(xn[Ce].narrow),V.push(ht),S.push(jt),he.push(mn),ve.push(ht),ve.push(jt),ve.push(mn);this._erasRegex=new RegExp("^("+ve.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+V.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+S.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+he.join("|")+")","i")}L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Bn(S,V){L(0,[S,S.length],0,V)}Bn("gggg","weekYear"),Bn("ggggg","weekYear"),Bn("GGGG","isoWeekYear"),Bn("GGGGG","isoWeekYear"),et("G",te),et("g",te),et("GG",Me,qe),et("gg",Me,qe),et("GGGG",Mt,bt),et("gggg",Mt,bt),et("GGGGG",ce,ct),et("ggggg",ce,ct),Kt(["gggg","ggggg","GGGG","GGGGG"],function(S,V,he,ve){V[ve.substr(0,2)]=St(S)}),Kt(["gg","GG"],function(S,V,he,ve){V[ve]=Q.parseTwoDigitYear(S)});function dl(S){return Ba.call(this,S,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Uo(S){return Ba.call(this,S,this.isoWeek(),this.isoWeekday(),1,4)}function fl(){return Qn(this.year(),1,4)}function Na(){return Qn(this.isoWeekYear(),1,4)}function hl(){var S=this.localeData()._week;return Qn(this.year(),S.dow,S.doy)}function pl(){var S=this.localeData()._week;return Qn(this.weekYear(),S.dow,S.doy)}function Ba(S,V,he,ve,Ce){var Ve;return S==null?fr(this,ve,Ce).year:(Ve=Qn(S,ve,Ce),V>Ve&&(V=Ve),gl.call(this,S,V,he,ve,Ce))}function gl(S,V,he,ve,Ce){var Ve=dr(S,V,he,ve,Ce),ht=Zn(Ve.year,0,Ve.dayOfYear);return this.year(ht.getUTCFullYear()),this.month(ht.getUTCMonth()),this.date(ht.getUTCDate()),this}L("Q",0,"Qo","quarter"),et("Q",$e),Yt("Q",function(S,V){V[rn]=(St(S)-1)*3});function ml(S){return S==null?Math.ceil((this.month()+1)/3):this.month((S-1)*3+this.month()%3)}L("D",["DD",2],"Do","date"),et("D",Me,Ue),et("DD",Me,qe),et("Do",function(S,V){return S?V._dayOfMonthOrdinalParse||V._ordinalParse:V._dayOfMonthOrdinalParseLenient}),Yt(["D","DD"],Xn),Yt("Do",function(S,V){V[Xn]=St(S.match(Me)[0])});var Ha=en("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),et("DDD",ft),et("DDDD",nt),Yt(["DDD","DDDD"],function(S,V,he){he._dayOfYear=St(S)});function vl(S){var V=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return S==null?V:this.add(S-V,"d")}L("m",["mm",2],0,"minute"),et("m",Me,yt),et("mm",Me,qe),Yt(["m","mm"],tn);var bl=en("Minutes",!1);L("s",["ss",2],0,"second"),et("s",Me,yt),et("ss",Me,qe),Yt(["s","ss"],Wn);var yl=en("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return this.millisecond()*10}),L(0,["SSSSS",5],0,function(){return this.millisecond()*100}),L(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),L(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),L(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),L(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),et("S",ft,$e),et("SS",ft,qe),et("SSS",ft,nt);var Qr,tr;for(Qr="SSSS";Qr.length<=9;Qr+="S")et(Qr,G);function Ua(S,V){V[on]=St(("0."+S)*1e3)}for(Qr="S";Qr.length<=9;Qr+="S")Yt(Qr,Ua);tr=en("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");function gi(){return this._isUTC?"UTC":""}function wl(){return this._isUTC?"Coordinated Universal Time":""}var Et=v.prototype;Et.add=Hs,Et.calendar=Gs,Et.clone=Ti,Et.diff=$o,Et.endOf=Ra,Et.format=Fo,Et.from=Oo,Et.fromNow=Ca,Et.to=Qs,Et.toNow=ro,Et.get=Ht,Et.invalidAt=rl,Et.isAfter=qs,Et.isBefore=Ys,Et.isBetween=Ks,Et.isSame=Ea,Et.isSameOrAfter=Js,Et.isSameOrBefore=xa,Et.isValid=Da,Et.lang=Aa,Et.locale=No,Et.localeData=ka,Et.max=Is,Et.min=Gn,Et.parsingFlags=La,Et.set=hn,Et.startOf=el,Et.subtract=ri,Et.toArray=nl,Et.toObject=er,Et.toDate=Ia,Et.toISOString=Xs,Et.inspect=Zs,typeof Symbol!="undefined"&&Symbol.for!=null&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=Pa,Et.toString=ii,Et.unix=Ta,Et.valueOf=tl,Et.creationData=il,Et.eraName=Bo,Et.eraNarrow=ol,Et.eraAbbr=al,Et.eraYear=sl,Et.year=an,Et.isLeapYear=Ir,Et.weekYear=dl,Et.isoWeekYear=Uo,Et.quarter=Et.quarters=ml,Et.month=mr,Et.daysInMonth=Pr,Et.week=Et.weeks=bn,Et.isoWeek=Et.isoWeeks=Fn,Et.weeksInYear=hl,Et.weeksInWeekYear=pl,Et.isoWeeksInYear=fl,Et.isoWeeksInISOWeekYear=Na,Et.date=Ha,Et.day=Et.days=Eo,Et.weekday=Ui,Et.isoWeekday=xo,Et.dayOfYear=vl,Et.hour=Et.hours=ui,Et.minute=Et.minutes=bl,Et.second=Et.seconds=yl,Et.millisecond=Et.milliseconds=tr,Et.utcOffset=Ds,Et.utc=Lo,Et.local=Ls,Et.parseZone=Ms,Et.hasAlignedHourOffset=$s,Et.isDST=eo,Et.isLocal=Fs,Et.isUtcOffset=Os,Et.isUtc=to,Et.isUTC=to,Et.zoneAbbr=gi,Et.zoneName=wl,Et.dates=o("dates accessor is deprecated. Use date instead.",Ha),Et.months=o("months accessor is deprecated. Use month instead",mr),Et.years=o("years accessor is deprecated. Use year instead",an),Et.zone=o("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ba),Et.isDSTShifted=o("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mo);function _l(S){return Nn(S*1e3)}function Sl(){return Nn.apply(null,arguments).parseZone()}function ja(S){return S}var An=r.prototype;An.calendar=f,An.longDateFormat=se,An.invalidDate=K,An.ordinal=j,An.preparse=ja,An.postformat=ja,An.relativeTime=oe,An.pastFuture=q,An.set=s,An.eras=Ma,An.erasParse=$a,An.erasConvertYear=io,An.erasAbbrRegex=Oa,An.erasNameRegex=Fa,An.erasNarrowRegex=Ho,An.months=He,An.monthsShort=Ye,An.monthsParse=Je,An.monthsRegex=Fr,An.monthsShortRegex=$r,An.week=Ut,An.firstDayOfYear=un,An.firstDayOfWeek=It,An.weekdays=So,An.weekdaysMin=ra,An.weekdaysShort=Hi,An.weekdaysParse=oa,An.weekdaysRegex=ji,An.weekdaysShortRegex=zi,An.weekdaysMinRegex=Vi,An.isPM=us,An.meridiem=qi;function ao(S,V,he,ve){var Ce=Gr(),Ve=F().set(ve,V);return Ce[he](Ve,S)}function za(S,V,he){if(x(S)&&(V=S,S=void 0),S=S||"",V!=null)return ao(S,V,he,"month");var ve,Ce=[];for(ve=0;ve<12;ve++)Ce[ve]=ao(S,ve,he,"month");return Ce}function so(S,V,he,ve){typeof S=="boolean"?(x(V)&&(he=V,V=void 0),V=V||""):(V=S,he=V,S=!1,x(V)&&(he=V,V=void 0),V=V||"");var Ce=Gr(),Ve=S?Ce._week.dow:0,ht,jt=[];if(he!=null)return ao(V,(he+Ve)%7,ve,"day");for(ht=0;ht<7;ht++)jt[ht]=ao(V,(ht+Ve)%7,ve,"day");return jt}function El(S,V){return za(S,V,"months")}function Va(S,V){return za(S,V,"monthsShort")}function xl(S,V,he){return so(S,V,he,"weekdays")}function Cl(S,V,he){return so(S,V,he,"weekdaysShort")}function oi(S,V,he){return so(S,V,he,"weekdaysMin")}Xr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(S){var V=S%10,he=St(S%100/10)===1?"th":V===1?"st":V===2?"nd":V===3?"rd":"th";return S+he}}),Q.lang=o("moment.lang is deprecated. Use moment.locale instead.",Xr),Q.langData=o("moment.langData is deprecated. Use moment.localeData instead.",Gr);var Nr=Math.abs;function Wa(){var S=this._data;return this._milliseconds=Nr(this._milliseconds),this._days=Nr(this._days),this._months=Nr(this._months),S.milliseconds=Nr(S.milliseconds),S.seconds=Nr(S.seconds),S.minutes=Nr(S.minutes),S.hours=Nr(S.hours),S.months=Nr(S.months),S.years=Nr(S.years),this}function jo(S,V,he,ve){var Ce=Lr(V,he);return S._milliseconds+=ve*Ce._milliseconds,S._days+=ve*Ce._days,S._months+=ve*Ce._months,S._bubble()}function zo(S,V){return jo(this,S,V,1)}function Ga(S,V){return jo(this,S,V,-1)}function Vo(S){return S<0?Math.floor(S):Math.ceil(S)}function Al(){var S=this._milliseconds,V=this._days,he=this._months,ve=this._data,Ce,Ve,ht,jt,mn;return S>=0&&V>=0&&he>=0||S<=0&&V<=0&&he<=0||(S+=Vo(lo(he)+V)*864e5,V=0,he=0),ve.milliseconds=S%1e3,Ce=vn(S/1e3),ve.seconds=Ce%60,Ve=vn(Ce/60),ve.minutes=Ve%60,ht=vn(Ve/60),ve.hours=ht%24,V+=vn(ht/24),mn=vn(qa(V)),he+=mn,V-=Vo(lo(mn)),jt=vn(he/12),he%=12,ve.days=V,ve.months=he,ve.years=jt,this}function qa(S){return S*4800/146097}function lo(S){return S*146097/4800}function co(S){if(!this.isValid())return NaN;var V,he,ve=this._milliseconds;if(S=ge(S),S==="month"||S==="quarter"||S==="year")switch(V=this._days+ve/864e5,he=this._months+qa(V),S){case"month":return he;case"quarter":return he/3;case"year":return he/12}else switch(V=this._days+Math.round(lo(this._months)),S){case"week":return V/7+ve/6048e5;case"day":return V+ve/864e5;case"hour":return V*24+ve/36e5;case"minute":return V*1440+ve/6e4;case"second":return V*86400+ve/1e3;case"millisecond":return Math.floor(V*864e5)+ve;default:throw new Error("Unknown unit "+S)}}function Hn(S){return function(){return this.as(S)}}var mi=Hn("ms"),kl=Hn("s"),Ya=Hn("m"),Rl=Hn("h"),Ka=Hn("d"),Tl=Hn("w"),Wo=Hn("M"),Il=Hn("Q"),Pl=Hn("y"),Dl=mi;function Ll(){return Lr(this)}function Ja(S){return S=ge(S),this.isValid()?this[S+"s"]():NaN}function ai(S){return function(){return this.isValid()?this._data[S]:NaN}}var Ml=ai("milliseconds"),$l=ai("seconds"),Fl=ai("minutes"),Go=ai("hours"),Xa=ai("days"),vi=ai("months"),Ol=ai("years");function uo(){return vn(this.days()/7)}var Ar=Math.round,si={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Za(S,V,he,ve,Ce){return Ce.relativeTime(V||1,!!he,S,ve)}function Nl(S,V,he,ve){var Ce=Lr(S).abs(),Ve=Ar(Ce.as("s")),ht=Ar(Ce.as("m")),jt=Ar(Ce.as("h")),mn=Ar(Ce.as("d")),xn=Ar(Ce.as("M")),hr=Ar(Ce.as("w")),Ur=Ar(Ce.as("y")),jr=Ve<=he.ss&&["s",Ve]||Ve<he.s&&["ss",Ve]||ht<=1&&["m"]||ht<he.m&&["mm",ht]||jt<=1&&["h"]||jt<he.h&&["hh",jt]||mn<=1&&["d"]||mn<he.d&&["dd",mn];return he.w!=null&&(jr=jr||hr<=1&&["w"]||hr<he.w&&["ww",hr]),jr=jr||xn<=1&&["M"]||xn<he.M&&["MM",xn]||Ur<=1&&["y"]||["yy",Ur],jr[2]=V,jr[3]=+S>0,jr[4]=ve,Za.apply(null,jr)}function fo(S){return S===void 0?Ar:typeof S=="function"?(Ar=S,!0):!1}function Qa(S,V){return si[S]===void 0?!1:V===void 0?si[S]:(si[S]=V,S==="s"&&(si.ss=V-1),!0)}function Bl(S,V){if(!this.isValid())return this.localeData().invalidDate();var he=!1,ve=si,Ce,Ve;return typeof S=="object"&&(V=S,S=!1),typeof S=="boolean"&&(he=S),typeof V=="object"&&(ve=Object.assign({},si,V),V.s!=null&&V.ss==null&&(ve.ss=V.s-1)),Ce=this.localeData(),Ve=Nl(this,!he,ve,Ce),he&&(Ve=Ce.pastFuture(+this,Ve)),Ce.postformat(Ve)}var qo=Math.abs;function li(S){return(S>0)-(S<0)||+S}function Li(){if(!this.isValid())return this.localeData().invalidDate();var S=qo(this._milliseconds)/1e3,V=qo(this._days),he=qo(this._months),ve,Ce,Ve,ht,jt=this.asSeconds(),mn,xn,hr,Ur;return jt?(ve=vn(S/60),Ce=vn(ve/60),S%=60,ve%=60,Ve=vn(he/12),he%=12,ht=S?S.toFixed(3).replace(/\.?0+$/,""):"",mn=jt<0?"-":"",xn=li(this._months)!==li(jt)?"-":"",hr=li(this._days)!==li(jt)?"-":"",Ur=li(this._milliseconds)!==li(jt)?"-":"",mn+"P"+(Ve?xn+Ve+"Y":"")+(he?xn+he+"M":"")+(V?hr+V+"D":"")+(Ce||ve||S?"T":"")+(Ce?Ur+Ce+"H":"")+(ve?Ur+ve+"M":"")+(S?Ur+ht+"S":"")):"P0D"}var En=ki.prototype;En.isValid=lc,En.abs=Wa,En.add=zo,En.subtract=Ga,En.as=co,En.asMilliseconds=mi,En.asSeconds=kl,En.asMinutes=Ya,En.asHours=Rl,En.asDays=Ka,En.asWeeks=Tl,En.asMonths=Wo,En.asQuarters=Il,En.asYears=Pl,En.valueOf=Dl,En._bubble=Al,En.clone=Ll,En.get=Ja,En.milliseconds=Ml,En.seconds=$l,En.minutes=Fl,En.hours=Go,En.days=Xa,En.weeks=uo,En.months=vi,En.years=Ol,En.humanize=Bl,En.toISOString=Li,En.toString=Li,En.toJSON=Li,En.locale=No,En.localeData=ka,En.toIsoString=o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Li),En.lang=Aa,L("X",0,0,"unix"),L("x",0,0,"valueOf"),et("x",te),et("X",Pe),Yt("X",function(S,V,he){he._d=new Date(parseFloat(S)*1e3)}),Yt("x",function(S,V,he){he._d=new Date(St(S))});return Q.version="2.30.1",k(Nn),Q.fn=Et,Q.min=pa,Q.max=Zi,Q.now=ga,Q.utc=F,Q.unix=_l,Q.months=El,Q.isDate=d,Q.locale=Xr,Q.invalid=U,Q.duration=Lr,Q.isMoment=h,Q.weekdays=xl,Q.parseZone=Sl,Q.localeData=Gr,Q.isDuration=Ri,Q.monthsShort=Va,Q.weekdaysMin=oi,Q.defineLocale=Yi,Q.updateLocale=Ki,Q.locales=ps,Q.weekdaysShort=Cl,Q.normalizeUnits=ge,Q.relativeTimeRounding=fo,Q.relativeTimeThreshold=Qa,Q.calendarFormat=Ws,Q.prototype=Et,Q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},Q}))});var eu=wi((Qc,ac)=>{(function(we){if(typeof Qc=="object"&&typeof ac!="undefined")ac.exports=we();else if(typeof define=="function"&&define.amd)define([],we);else{var Q;Q=typeof window=="undefined"?typeof global=="undefined"?typeof self=="undefined"?this:self:global:window,Q.WebTorrent=we()}})(function(){var we=Math.LN2,Q=Math.log,k=Math.pow,O=Math.abs,I=Math.floor,D=Math.round,T=Math.sin,_=Math.cos,x=Math.PI,d=Math.imul,M=Math.clz32,g=String.fromCharCode,F=Math.max,N=Math.ceil,J=Math.min,pe;return(function(){function m(U,A,p){function w(e,o){if(!A[e]){if(!U[e]){var i=typeof Bi=="function"&&Bi;if(!o&&i)return i(e,!0);if(v)return v(e,!0);var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}var u=A[e]={exports:{}};U[e][0].call(u.exports,function(s){var t=U[e][1][s];return w(t||s)},u,u.exports,m,U,A,p)}return A[e].exports}for(var v=typeof Bi=="function"&&Bi,h=0;h<p.length;h++)w(p[h]);return w}return m})()({1:[function(m,U){let{Readable:A}=m("streamx"),p=m("debug"),w=p("webtorrent:file-stream");U.exports=class extends A{constructor(v,h){super(h!=null?h:{}),this._torrent=v._torrent;let e=h&&h.start||0,o=h&&h.end&&h.end<v.length?h.end:v.length-1,i=v._torrent.pieceLength;this._startPiece=0|(e+v.offset)/i,this._endPiece=0|(o+v.offset)/i,this._piece=this._startPiece,this._offset=e+v.offset-this._startPiece*i,this._missing=o-e+1,this._reading=!1,this._notifying=!1,this._criticalLength=J(0|1048576/i,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()})}_read(v){this._reading||(this._reading=!0,this._notify(v))}_notify(v=()=>{}){if(!this._reading||this._missing===0)return v();if(!this._torrent.bitfield.get(this._piece))return v(),this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return v();if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));let h=this._piece,e={};h===this._torrent.pieces.length-1&&(e.length=this._torrent.lastPieceLength),this._torrent.store.get(h,e,(o,i)=>{if(this._notifying=!1,!this.destroyed)return w("read %s (length %s) (err %s)",h,i&&i.length,o&&o.message),o?this.destroy(o):(this._offset&&(i=i.slice(this._offset),this._offset=0),this._missing<i.length&&(i=i.slice(0,this._missing)),this._missing-=i.length,w("pushing buffer of length %s",i.length),this._reading=!1,this.push(i),this._missing===0&&this.push(null),void v())}),this._piece+=1}_destroy(v,h){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),v(h)}}},{debug:91,streamx:264}],2:[function(m,U){let A=m("events"),{PassThrough:p}=m("streamx"),w=m("path"),v=m("render-media"),{BlobWriteStream:h}=m("fast-blob-stream"),e=m("stream-with-known-length-to-buffer"),o=m("queue-microtask"),i=m("range-parser"),c=m("mime"),u=m("end-of-stream"),s=m("./file-stream.js");U.exports=class extends A{constructor(t,r){super(),this._torrent=t,this._destroyed=!1,this._fileStreams=new Set,this.name=r.name,this.path=r.path,this.length=r.length,this.offset=r.offset,this.done=!1;let a=r.offset,l=a+r.length-1;this._startPiece=0|a/this._torrent.pieceLength,this._endPiece=0|l/this._torrent.pieceLength,this.length===0&&(this.done=!0,this.emit("done")),this._serviceWorker=t.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;let{pieces:t,bitfield:r,pieceLength:a,lastPieceLength:l}=this._torrent,{_startPiece:f,_endPiece:b}=this,C=R=>R===t.length-1?l:a,$=R=>{let L=R===t.length-1?l:a;return r.get(R)?L:L-t[R].missing},W=0;for(let R=f;R<=b;R+=1){let L=$(R);if(W+=L,R===f){let Y=this.offset%a;W-=J(Y,L)}if(R===b){let Y=C(b)-(this.offset+this.length)%a;W-=J(Y,L)}}return W}get progress(){return this.length?this.downloaded/this.length:0}select(t){this.length===0||this._torrent.select(this._startPiece,this._endPiece,t)}deselect(){this.length===0||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(t){if(this.length===0){let a=new p;return o(()=>{a.end()}),a}let r=new s(this,t);return this._fileStreams.add(r),r.once("close",()=>{this._fileStreams.delete(r)}),r}getBuffer(t){e(this.createReadStream(),this.length,t)}getBlob(t){if(typeof window=="undefined")throw new Error("browser-only method");let r=new h(a=>{t(null,a)},{mimeType:this._getMimeType()});this.createReadStream().pipe(r)}getBlobURL(t){this.getBlob((r,a)=>{t(null,URL.createObjectURL(a))})}appendTo(t,r,a){if(typeof window=="undefined")throw new Error("browser-only method");v.append(this,t,r,a)}renderTo(t,r,a){if(typeof window=="undefined")throw new Error("browser-only method");v.render(this,t,r,a)}_serve(t){let r={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":c.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:t.method==="HEAD"?"":"STREAM"};t.destination==="document"&&(r.headers["Content-Type"]="application/octet-stream",r.headers["Content-Disposition"]="attachment",r.body="DOWNLOAD");let a=i(this.length,t.headers.range||"");a.constructor===Array?(r.status=206,a=a[0],r.headers["Content-Range"]=`bytes ${a.start}-${a.end}/${this.length}`,r.headers["Content-Length"]=`${a.end-a.start+1}`):r.headers["Content-Length"]=this.length;let l=t.method==="GET"&&this.createReadStream(a),f=null;return l&&this.emit("stream",{stream:l,req:t,file:this},b=>{f=b,u(b,()=>{b&&b.destroy(),l.destroy()})}),[r,f||l,f&&l]}getStreamURL(t=()=>{}){if(typeof window=="undefined")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");let r=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length),a=`${r}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`;t(null,a)}streamTo(t,r=()=>{}){if(typeof window=="undefined")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");let a=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);t.src=`${a}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,r(null,t)}_getMimeType(){return v.mime[w.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(let t of this._fileStreams)t.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":121,events:123,"fast-blob-stream":125,mime:165,path:185,"queue-microtask":206,"range-parser":211,"render-media":229,"stream-with-known-length-to-buffer":263,streamx:264}],3:[function(m,U,A){let p=m("events"),{Transform:w}=m("stream"),v=m("unordered-array-remove"),h=m("debug"),e=m("bittorrent-protocol"),o=h("webtorrent:peer"),i=!1;A.enableSecure=()=>{i=!0},A.createWebRTCPeer=(t,r,a)=>{let l=new s(t.id,"webrtc");if(l.conn=t,l.swarm=r,l.throttleGroups=a,l.conn.connected)l.onConnect();else{let f=()=>{l.conn.removeListener("connect",b),l.conn.removeListener("error",C)},b=()=>{f(),l.onConnect()},C=$=>{f(),l.destroy($)};l.conn.once("connect",b),l.conn.once("error",C),l.startConnectTimeout()}return l},A.createTCPIncomingPeer=(t,r)=>c(t,"tcpIncoming",r),A.createUTPIncomingPeer=(t,r)=>c(t,"utpIncoming",r),A.createTCPOutgoingPeer=(t,r,a)=>u(t,r,"tcpOutgoing",a),A.createUTPOutgoingPeer=(t,r,a)=>u(t,r,"utpOutgoing",a);let c=(t,r,a)=>{let l=`${t.remoteAddress}:${t.remotePort}`,f=new s(l,r);return f.conn=t,f.addr=l,f.throttleGroups=a,f.onConnect(),f},u=(t,r,a,l)=>{let f=new s(t,a);return f.addr=t,f.swarm=r,f.throttleGroups=l,f};A.createWebSeedPeer=(t,r,a,l)=>{let f=new s(r,"webSeed");return f.swarm=a,f.conn=t,f.throttleGroups=l,f.onConnect(),f};class s extends p{constructor(r,a){super(),this.id=r,this.type=a,o("new %s Peer %s",a,r),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,o("Peer %s connected",this.id),clearTimeout(this.connectTimeout);let r=this.conn;r.once("end",()=>{this.destroy()}),r.once("close",()=>{this.destroy()}),r.once("finish",()=>{this.destroy()}),r.once("error",l=>{this.destroy(l)});let a=this.wire=new e(this.type,this.retries,i);a.once("end",()=>{this.destroy()}),a.once("close",()=>{this.destroy()}),a.once("finish",()=>{this.destroy()}),a.once("error",l=>{this.destroy(l)}),a.once("pe1",()=>{this.onPe1()}),a.once("pe2",()=>{this.onPe2()}),a.once("pe3",()=>{this.onPe3()}),a.once("pe4",()=>{this.onPe4()}),a.once("handshake",(l,f)=>{this.onHandshake(l,f)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&(this.type==="tcpOutgoing"?i&&this.retries===0&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():this.type!=="tcpIncoming"&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(r){this.swarm&&(this.swarm.infoHashHash!==r&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){let r=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new w({transform(a,l,f){r.emit("download",a.length),r.destroyed||f(null,a)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new w({transform(a,l,f){r.emit("upload",a.length),r.destroyed||f(null,a)}})).pipe(this.conn)}onHandshake(r,a){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(r!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(a===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));o("Peer %s got handshake %s",this.id,r),clearTimeout(this.handshakeTimeout),this.retries=0;let l=this.addr;!l&&this.conn.remoteAddress&&this.conn.remotePort&&(l=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,l),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){let r={dht:!this.swarm.private&&!!this.swarm.client.dht,fast:!0};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,r),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(r){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,o("destroy %s %s (error: %s)",this.type,this.id,r&&(r.message||r)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);let a=this.swarm,l=this.conn,f=this.wire;this.swarm=null,this.conn=null,this.wire=null,a&&f&&v(a.wires,a.wires.indexOf(f)),l&&(l.on("error",()=>{}),l.destroy()),f&&f.destroy(),a&&a.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:91,events:123,stream:256,"unordered-array-remove":273}],4:[function(m,U){U.exports=class{constructor(A){this._torrent=A,this._numPieces=A.pieces.length,this._pieces=Array(this._numPieces),this._onWire=p=>{this.recalculate(),this._initWire(p)},this._onWireHave=p=>{this._pieces[p]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(p=>{this._initWire(p)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(A){let p=[],w=1/0;for(let v=0;v<this._numPieces;++v){if(A&&!A(v))continue;let h=this._pieces[v];h===w?p.push(v):h<w&&(p=[v],w=h)}return p.length?p[0|Math.random()*p.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(A=>{this._cleanupWireEvents(A)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(A){A._onClose=()=>{this._cleanupWireEvents(A);for(let p=0;p<this._numPieces;++p)this._pieces[p]-=A.peerPieces.get(p)},A.on("have",this._onWireHave),A.on("bitfield",this._onWireBitfield),A.once("close",A._onClose)}recalculate(){this._pieces.fill(0);for(let A of this._torrent.wires)for(let p=0;p<this._numPieces;++p)this._pieces[p]+=A.peerPieces.get(p)}_cleanupWireEvents(A){A.removeListener("have",this._onWireHave),A.removeListener("bitfield",this._onWireBitfield),A._onClose&&A.removeListener("close",A._onClose),A._onClose=null}}},{}],5:[function(m,U){(function(A,p){(function(){function w(ce,G){let te=2+N(G*ce.downloadSpeed()/se.BLOCK_LENGTH);if(ce.peerExtendedHandshake){let de=ce.peerExtendedHandshake.reqq;typeof de=="number"&&0<de&&(te=J(te,de))}return te}function v(ce,G,te){return 1+N(G*ce.downloadSpeed()/te)}function h(ce){return 0|Math.random()*ce}function e(){}let o=m("events"),i=m("fs"),c=m("net"),u=m("os"),s=m("path"),t=m("addr-to-ip-port"),{default:r}=m("bitfield"),a=m("cache-chunk-store"),l=m("chunk-store-stream/write"),f=m("cpus"),b=m("debug"),C=m("torrent-discovery"),$=m("fs-chunk-store"),W=m("simple-get"),R=m("immediate-chunk-store"),L=m("lt_donthave"),Y=m("memory-chunk-store"),ee=m("join-async-iterator"),ae=m("run-parallel"),fe=m("run-parallel-limit"),xe=m("parse-torrent"),se=m("torrent-piece"),B=m("pump"),K=m("queue-microtask"),z=m("random-iterate"),E=m("simple-sha1"),j=m("throughput"),Z=m("ut_metadata"),oe=m("ut_pex"),{Readable:q}=m("streamx"),le=m("./file.js"),ge=m("./peer.js"),Re=m("./rarity-map.js"),ke=m("./server.js"),De=m("./utp.js"),$e=m("./webconn.js"),qe=b("webtorrent:torrent"),nt=5e3,bt=3*se.BLOCK_LENGTH,ct=1,Me=A.browser?f().length:2,Ge=[1e3,5e3,15e3],Ze=m("../package.json").version,ft=`WebTorrent/${Ze} (https://webtorrent.io)`,Mt;try{Mt=s.join(i.statSync("/tmp")&&"/tmp","webtorrent")}catch{Mt=s.join(typeof u.tmpdir=="function"?u.tmpdir():"/","webtorrent")}U.exports=class extends o{constructor(ce,G,te){super(),this._debugId="unknown infohash",this.client=G,this.announce=te.announce,this.urlList=te.urlList,this.path=te.path||Mt,this.addUID=te.addUID||!1,this.skipVerify=!!te.skipVerify,this._store=te.store||$,this._preloadedStore=te.preloadedStore||null,this._storeCacheSlots=te.storeCacheSlots===void 0?20:te.storeCacheSlots,this._destroyStoreOnDestroy=te.destroyStoreOnDestroy||!1,this._getAnnounceOpts=te.getAnnounceOpts,typeof te.private=="boolean"&&(this.private=te.private),this.strategy=te.strategy||"sequential",this.maxWebConns=te.maxWebConns||4,this._rechokeNumSlots=te.uploads===!1||te.uploads===0?0:+te.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=te.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=te.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=j(),this._uploadSpeed=j(),this._servers=[],this._xsRequests=[],this._fileModtimes=te.fileModtimes,ce!==null&&this._onTorrentId(ce),this._debug("new torrent")}get timeRemaining(){return this.done?0:this.downloadSpeed===0?1/0:1e3*((this.length-this.downloaded)/this.downloadSpeed)}get downloaded(){if(!this.bitfield)return 0;let ce=0;for(let G=0,te=this.pieces.length;G<te;++G)if(this.bitfield.get(G))ce+=G===te-1?this.lastPieceLength:this.pieceLength;else{let de=this.pieces[G];ce+=de.length-de.missing}return ce}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window=="undefined")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let ce=0;for(let G in this._peers)this._peers[G].connected&&(ce+=1);return ce}_onTorrentId(ce){if(this.destroyed)return;let G;try{G=xe(ce)}catch{}G?(this.infoHash=G.infoHash,this._debugId=G.infoHash.toString("hex").substring(0,7),K(()=>{this.destroyed||this._onParsedTorrent(G)})):xe.remote(ce,(te,de)=>this.destroyed?void 0:te?this._destroy(te):void this._onParsedTorrent(de))}_onParsedTorrent(ce){if(!this.destroyed){if(this._processParsedTorrent(ce),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(ce){this._debugId=ce.infoHash.toString("hex").substring(0,7),typeof this.private!="undefined"&&(ce.private=this.private),this.announce&&(ce.announce=ce.announce.concat(this.announce)),this.client.tracker&&p.WEBTORRENT_ANNOUNCE&&!ce.private&&(ce.announce=ce.announce.concat(p.WEBTORRENT_ANNOUNCE)),this.urlList&&(ce.urlList=ce.urlList.concat(this.urlList)),ce.announce=Array.from(new Set(ce.announce)),ce.urlList=Array.from(new Set(ce.urlList)),Object.assign(this,ce),this.magnetURI=xe.toMagnetURI(ce),this.torrentFile=xe.toTorrentFile(ce)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let ce=this.client.tracker;ce&&(ce=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){let G={uploaded:this.uploaded,downloaded:this.downloaded,left:F(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(G,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(G,this._getAnnounceOpts()),G}}})),this.peerAddresses&&this.peerAddresses.forEach(G=>this.addPeer(G)),this.discovery=new C({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:ce,port:this.client.torrentPort,userAgent:ft,lsd:this.client.lsd}),this.discovery.on("error",G=>{this._destroy(G)}),this.discovery.on("peer",(G,te)=>{this._debug("peer %s discovered via %s",G,te),typeof G=="string"&&this.done||this.addPeer(G)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),this.numPeers===0&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),this.numPeers===0&&this.emit("noPeers","dht")}),this.discovery.on("warning",G=>{this.emit("warning",G)})}_getMetadataFromServer(){function ce(_e,Pe){function ze(yt,mt,et){if(G.destroyed||G.metadata)return Pe(null);if(yt)return G.emit("warning",new Error(`http error from xs param: ${_e}`)),Pe(null);if(mt.statusCode!==200)return G.emit("warning",new Error(`non-200 status code ${mt.statusCode} from xs param: ${_e}`)),Pe(null);let Dt;try{Dt=xe(et)}catch{}return Dt?Dt.infoHash===G.infoHash?(G._onMetadata(Dt),void Pe(null)):(G.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${_e}`)),Pe(null)):(G.emit("warning",new Error(`got invalid torrent file from xs param: ${_e}`)),Pe(null))}if(_e.indexOf("http://")!==0&&_e.indexOf("https://")!==0)return G.emit("warning",new Error(`skipping non-http xs param: ${_e}`)),Pe(null);let Ue;try{Ue=W.concat({url:_e,method:"GET",headers:{"user-agent":ft}},ze)}catch{return G.emit("warning",new Error(`skipping invalid url xs param: ${_e}`)),Pe(null)}G._xsRequests.push(Ue)}let G=this,te=Array.isArray(this.xs)?this.xs:[this.xs],de=te.map(_e=>Pe=>{ce(_e,Pe)});ae(de)}_onMetadata(ce){if(this.metadata||this.destroyed)return;this._debug("got metadata"),this._xsRequests.forEach(de=>{de.abort()}),this._xsRequests=[];let G;if(ce&&ce.infoHash)G=ce;else try{G=xe(ce)}catch(de){return this._destroy(de)}this._processParsedTorrent(G),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(de=>{this.addWebSeed(de)}),this._rarityMap=new Re(this),this.files=this.files.map(de=>new le(this,de));let te=this._preloadedStore;if(te||(te=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(te instanceof Y)&&(te=new a(te,{max:this._storeCacheSlots})),this.store=new R(te),this.so?this.files.forEach((de,_e)=>{this.so.includes(_e)?this.files[_e].select():this.files[_e].deselect()}):this.pieces.length!==0&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((de,_e)=>{let Pe=_e===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new se(Pe)}),this._reservations=this.pieces.map(()=>[]),this.bitfield=new r(this.pieces.length),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{let de=_e=>_e?this._destroy(_e):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===$?this.getFileModtimes((_e,Pe)=>{if(_e)return this._destroy(_e);this.files.map((Ue,yt)=>Pe[yt]===this._fileModtimes[yt]).every(Ue=>Ue)?(this._markAllVerified(),this._onStore()):this._verifyPieces(de)}):this._verifyPieces(de)}}getFileModtimes(ce){let G=[];fe(this.files.map((te,de)=>_e=>{let Pe=this.addUID?s.join(this.name+" - "+this.infoHash.slice(0,8)):s.join(this.path,te.path);i.stat(Pe,(ze,Ue)=>ze&&ze.code!=="ENOENT"?_e(ze):(G[de]=Ue&&Ue.mtime.getTime(),void _e(null)))}),Me,te=>{this._debug("done getting file modtimes"),ce(te,G)})}_verifyPieces(ce){fe(this.pieces.map((G,te)=>de=>{if(this.destroyed)return de(new Error("torrent is destroyed"));let _e={};te===this.pieces.length-1&&(_e.length=this.lastPieceLength),this.store.get(te,_e,(Pe,ze)=>this.destroyed?de(new Error("torrent is destroyed")):Pe?K(()=>de(null)):void E(ze,Ue=>this.destroyed?de(new Error("torrent is destroyed")):(Ue===this._hashes[te]?(this._debug("piece verified %s",te),this._markVerified(te)):this._debug("piece invalid %s",te),void de(null))))}),Me,ce)}rescanFiles(ce){if(this.destroyed)throw new Error("torrent is destroyed");ce||(ce=e),this._verifyPieces(G=>G?(this._destroy(G),ce(G)):(this._checkDone(),void ce(null)))}_markAllVerified(){for(let ce=0;ce<this.pieces.length;ce++)this._markVerified(ce)}_markVerified(ce){this.pieces[ce]=null,this._reservations[ce]=null,this.bitfield.set(ce,!0)}_hasAllPieces(){for(let ce=0;ce<this.pieces.length;ce++)if(!this.bitfield.get(ce))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(ce){let G=0;for(let te=0;te<this.pieces.length;te++)if(this.bitfield.get(te)&&(G+=1,G>ce))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(ce=>{ce.ut_metadata&&ce.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(ce)}))}destroy(ce,G){return typeof ce=="function"?this.destroy(null,ce):void this._destroy(null,ce,G)}_destroy(ce,G,te){if(typeof G=="function")return this._destroy(ce,null,G);if(!this.destroyed){for(let _e in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(Pe=>{Pe.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(_e);this.files.forEach(_e=>{_e instanceof le&&_e._destroy()});let de=this._servers.map(_e=>Pe=>{_e.destroy(Pe)});if(this.discovery&&de.push(_e=>{this.discovery.destroy(_e)}),this.store){let _e=this._destroyStoreOnDestroy;G&&G.destroyStore!==void 0&&(_e=G.destroyStore),de.push(Pe=>{_e?this.store.destroy(Pe):this.store.close(Pe)})}ae(de,te),ce&&(this.listenerCount("error")===0?this.client.emit("error",ce):this.emit("error",ce)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(ce){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let G;if(this.client.blocked){if(typeof ce=="string"){let _e;try{_e=t(ce)}catch{return this._debug("ignoring peer: invalid %s",ce),this.emit("invalidPeer",ce),!1}G=_e[0]}else typeof ce.remoteAddress=="string"&&(G=ce.remoteAddress);if(G&&this.client.blocked.contains(G))return this._debug("ignoring peer: blocked %s",ce),typeof ce!="string"&&ce.destroy(),this.emit("blockedPeer",ce),!1}let te=this.client.utp&&this._isIPv4(G)?"utp":"tcp",de=!!this._addPeer(ce,te);return de?this.emit("peer",ce):this.emit("invalidPeer",ce),de}_addPeer(ce,G){if(this.destroyed)return typeof ce!="string"&&ce.destroy(),null;if(typeof ce=="string"&&!this._validAddr(ce))return this._debug("ignoring peer: invalid %s",ce),null;let te=ce&&ce.id||ce;if(this._peers[te])return this._debug("ignoring peer: duplicate (%s)",te),typeof ce!="string"&&ce.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),typeof ce!="string"&&ce.destroy(),null;this._debug("add peer %s",te);let de;return de=typeof ce=="string"?G==="utp"?ge.createUTPOutgoingPeer(ce,this,this.client.throttleGroups):ge.createTCPOutgoingPeer(ce,this,this.client.throttleGroups):ge.createWebRTCPeer(ce,this,this.client.throttleGroups),this._registerPeer(de),typeof ce=="string"&&(this._queue.push(de),this._drain()),de}addWebSeed(ce){if(this.destroyed)throw new Error("torrent is destroyed");let G,te;if(typeof ce=="string"){if(G=ce,!/^https?:\/\/.+/.test(G))return this.emit("warning",new Error(`ignoring invalid web seed: ${G}`)),void this.emit("invalidPeer",G);if(this._peers[G])return this.emit("warning",new Error(`ignoring duplicate web seed: ${G}`)),void this.emit("invalidPeer",G);te=new $e(G,this)}else{if(!(ce&&typeof ce.connId=="string"))return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(te=ce,G=te.connId,this._peers[G])return this.emit("warning",new Error(`ignoring duplicate web seed: ${G}`)),void this.emit("invalidPeer",G)}this._debug("add web seed %s",G);let de=ge.createWebSeedPeer(te,G,this,this.client.throttleGroups);this._registerPeer(de),this.emit("peer",G)}_addIncomingPeer(ce){return this.destroyed?ce.destroy(new Error("torrent is destroyed")):this.paused?ce.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",ce.id),void this._registerPeer(ce))}_registerPeer(ce){ce.on("download",G=>{this.destroyed||(this.received+=G,this._downloadSpeed(G),this.client._downloadSpeed(G),this.emit("download",G),this.destroyed||this.client.emit("download",G))}),ce.on("upload",G=>{this.destroyed||(this.uploaded+=G,this._uploadSpeed(G),this.client._uploadSpeed(G),this.emit("upload",G),this.destroyed||this.client.emit("upload",G))}),this._peers[ce.id]=ce,this._peersLength+=1}removePeer(ce){var te;let G=(ce==null?void 0:ce.id)||ce;ce&&!ce.id&&(ce=(te=this._peers)==null?void 0:te[G]),ce&&(ce.destroy(),this.destroyed||(this._debug("removePeer %s",G),delete this._peers[G],this._peersLength-=1,this._drain()))}select(ce,G,te,de){if(this.destroyed)throw new Error("torrent is destroyed");if(0>ce||G<ce||this.pieces.length<=G)throw new Error(`invalid selection ${ce} : ${G}`);te=+te||0,this._debug("select %s-%s (priority %s)",ce,G,te),this._selections.push({from:ce,to:G,offset:0,priority:te,notify:de||e}),this._selections.sort((_e,Pe)=>Pe.priority-_e.priority),this._updateSelections()}deselect(ce,G,te){if(this.destroyed)throw new Error("torrent is destroyed");te=+te||0,this._debug("deselect %s-%s (priority %s)",ce,G,te);for(let de=0;de<this._selections.length;++de){let _e=this._selections[de];if(_e.from===ce&&_e.to===G&&_e.priority===te){this._selections.splice(de,1);break}}this._updateSelections()}critical(ce,G){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",ce,G);for(let te=ce;te<=G;++te)this._critical[te]=!0;this._updateSelections()}_onWire(ce,G){if(this._debug("got wire %s (%s)",ce._debugId,G||"Unknown"),this.wires.push(ce),G){let te=t(G);ce.remoteAddress=te[0],ce.remotePort=te[1]}this.client.dht&&this.client.dht.listening&&ce.on("port",te=>this.destroyed||this.client.dht.destroyed?void 0:ce.remoteAddress?te===0||65536<te?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",te,G),void this.client.dht.addNode({host:ce.remoteAddress,port:te})):this._debug("ignoring PORT from peer with no address")),ce.on("timeout",()=>{this._debug("wire timeout (%s)",G),ce.destroy()}),ce.type!=="webSeed"&&ce.setTimeout(3e4,!0),ce.setKeepAlive(!0),ce.use(Z(this.metadata)),ce.ut_metadata.on("warning",te=>{this._debug("ut_metadata warning: %s",te.message)}),this.metadata||(ce.ut_metadata.on("metadata",te=>{this._debug("got metadata via ut_metadata"),this._onMetadata(te)}),ce.ut_metadata.fetch()),typeof oe!="function"||this.private||(ce.use(oe()),ce.ut_pex.on("peer",te=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",te,G),this.addPeer(te))}),ce.ut_pex.on("dropped",te=>{let de=this._peers[te];de&&!de.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",te,G),this.removePeer(te))}),ce.once("close",()=>{ce.ut_pex.reset()})),ce.use(L()),this.emit("wire",ce,G),this.ready&&K(()=>{this._onWireWithMetadata(ce)})}_onWireWithMetadata(ce){let G=null,te=()=>{this.destroyed||ce.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&ce.amInterested?ce.destroy():(G=setTimeout(te,nt),G.unref&&G.unref()))},de,_e=()=>{if(ce.peerPieces.buffer.length===this.bitfield.buffer.length){for(de=0;de<this.pieces.length;++de)if(!ce.peerPieces.get(de))return;ce.isSeeder=!0,ce.choke()}};ce.on("bitfield",()=>{_e(),this._update(),this._updateWireInterest(ce)}),ce.on("have",()=>{_e(),this._update(),this._updateWireInterest(ce)}),ce.lt_donthave.on("donthave",()=>{_e(),this._update(),this._updateWireInterest(ce)}),ce.on("have-all",()=>{ce.isSeeder=!0,ce.choke(),this._update(),this._updateWireInterest(ce)}),ce.on("have-none",()=>{ce.isSeeder=!1,this._update(),this._updateWireInterest(ce)}),ce.on("allowed-fast",()=>{this._update()}),ce.once("interested",()=>{ce.unchoke()}),ce.once("close",()=>{clearTimeout(G)}),ce.on("choke",()=>{clearTimeout(G),G=setTimeout(te,nt),G.unref&&G.unref()}),ce.on("unchoke",()=>{clearTimeout(G),this._update()}),ce.on("request",(Pe,ze,Ue,yt)=>Ue>131072?ce.destroy():void(this.pieces[Pe]||this.store.get(Pe,{offset:ze,length:Ue},yt))),ce.hasFast&&this._hasAllPieces()?ce.haveAll():ce.hasFast&&this._hasNoPieces()?ce.haveNone():ce.bitfield(this.bitfield),this._updateWireInterest(ce),ce.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&ce.port(this.client.dht.address().port),ce.type!=="webSeed"&&(G=setTimeout(te,nt),G.unref&&G.unref()),ce.isSeeder=!1,_e()}_updateSelections(){!this.ready||this.destroyed||(K(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let ce=0;ce<this._selections.length;++ce){let G=this._selections[ce],te=G.offset;for(;this.bitfield.get(G.from+G.offset)&&G.from+G.offset<G.to;)G.offset+=1;te!==G.offset&&G.notify(),G.to===G.from+G.offset&&this.bitfield.get(G.from+G.offset)&&(this._selections.splice(ce,1),ce-=1,G.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){let ce=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(G=>this._updateWireInterest(G)),ce===this._amInterested||(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_updateWireInterest(ce){let G=!1;for(let te=0;te<this.pieces.length;++te)if(this.pieces[te]&&ce.peerPieces.get(te)){G=!0;break}G?ce.interested():ce.uninterested()}_update(){if(!this.destroyed){let ce=z(this.wires);for(let G;G=ce();)this._updateWireWrapper(G)}}_updateWireWrapper(ce){let G=this;typeof window!="undefined"&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{G._updateWire(ce)},{timeout:250}):G._updateWire(ce)}_updateWire(ce){function G(yt,mt,et,Dt){return wt=>wt>=yt&&wt<=mt&&!(wt in et)&&ce.peerPieces.get(wt)&&(!Dt||Dt(wt))}function te(){let yt=ce.downloadSpeed()||1;if(yt>bt)return()=>!0;let mt=F(1,ce.requests.length)*se.BLOCK_LENGTH/yt,et=10,Dt=0;return wt=>{if(!et||Pe.bitfield.get(wt))return!0;for(let Lt=Pe.pieces[wt].missing;Dt<Pe.wires.length;Dt++){let vn=Pe.wires[Dt],St=vn.downloadSpeed();if(!(St<bt)&&!(St<=yt)&&vn.peerPieces.get(wt)&&!(0<(Lt-=St*mt)))return et--,!1}return!0}}function de(yt){let mt=yt;for(let Dt=yt;Dt<Pe._selections.length&&Pe._selections[Dt].priority;Dt++)mt=Dt;let et=Pe._selections[yt];Pe._selections[yt]=Pe._selections[mt],Pe._selections[mt]=et}function _e(yt){if(ce.requests.length>=Ue)return!0;let mt=te();for(let et=0;et<Pe._selections.length;et++){let Dt=Pe._selections[et],wt;if(Pe.strategy==="rarest"){let Lt=Dt.from+Dt.offset,vn=Dt.to,St={},Wt=0;for(let Yt=G(Lt,vn,St,mt);Wt<vn-Lt+1&&(wt=Pe._rarityMap.getRarestPiece(Yt),!(0>wt));){for(;Pe._request(ce,wt,Pe._critical[wt]||yt)&&ce.requests.length<Ue;);if(ce.requests.length<Ue){St[wt]=!0,Wt++;continue}return Dt.priority&&de(et),!0}}else for(wt=Dt.from+Dt.offset;wt<=Dt.to;wt++)if(ce.peerPieces.get(wt)&&mt(wt)){for(;Pe._request(ce,wt,Pe._critical[wt]||yt)&&ce.requests.length<Ue;);if(!(ce.requests.length<Ue))return Dt.priority&&de(et),!0}}return!1}if(ce.destroyed)return!1;let Pe=this,ze=w(ce,.5);if(ce.requests.length>=ze)return;let Ue=w(ce,ct);return ce.peerChoking?void(ce.hasFast&&0<ce.peerAllowedFastSet.length&&!this._hasMorePieces(ce.peerAllowedFastSet.length-1)&&(function(){if(ce.requests.length>=Ue)return!1;for(let yt of ce.peerAllowedFastSet){if(ce.peerPieces.get(yt)&&!Pe.bitfield.get(yt))for(;Pe._request(ce,yt,!1)&&ce.requests.length<Ue;);if(!(ce.requests.length<Ue))return!0}return!1})()):ce.downloaded?void(_e(!1)||_e(!0)):(function(){if(!ce.requests.length)for(let yt=Pe._selections.length;yt--;){let mt=Pe._selections[yt],et;if(Pe.strategy==="rarest"){let Dt=mt.from+mt.offset,wt=mt.to,Lt={},vn=0;for(let St=G(Dt,wt,Lt);vn<wt-Dt+1&&(et=Pe._rarityMap.getRarestPiece(St),!(0>et));){if(Pe._request(ce,et,!1))return;Lt[et]=!0,vn+=1}}else for(et=mt.to;et>=mt.from+mt.offset;--et)if(ce.peerPieces.get(et)&&Pe._request(ce,et,!1))return}})()}_rechoke(){if(this.ready){let ce=this.wires.map(G=>({wire:G,random:Math.random()})).sort((G,te)=>{let de=G.wire,_e=te.wire;return de.downloadSpeed()===_e.downloadSpeed()?de.uploadSpeed()===_e.uploadSpeed()?de.amChoking===_e.amChoking?G.random-te.random:de.amChoking?-1:1:de.uploadSpeed()-_e.uploadSpeed():de.downloadSpeed()-_e.downloadSpeed()}).map(G=>G.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let G=0;0<ce.length&&G<this._rechokeNumSlots-1;){let te=ce.pop();te.isSeeder||te===this._rechokeOptimisticWire||(te.unchoke(),te.peerInterested&&G++)}if(this._rechokeOptimisticWire===null&&0<this._rechokeNumSlots){let G=ce.filter(te=>te.peerInterested);if(0<G.length){let te=G[h(G.length)];te.unchoke(),this._rechokeOptimisticWire=te,this._rechokeOptimisticTime=2}}ce.filter(G=>G!==this._rechokeOptimisticWire).forEach(G=>G.choke())}}_hotswap(ce,G){let te=ce.downloadSpeed();if(te<se.BLOCK_LENGTH||!this._reservations[G])return!1;let de=this._reservations[G];if(!de)return!1;let _e=1/0,Pe,ze;for(ze=0;ze<de.length;ze++){let Ue=de[ze];if(!Ue||Ue===ce)continue;let yt=Ue.downloadSpeed();yt>=bt||2*yt>te||yt>_e||(Pe=Ue,_e=yt)}if(!Pe)return!1;for(ze=0;ze<de.length;ze++)de[ze]===Pe&&(de[ze]=null);for(ze=0;ze<Pe.requests.length;ze++){let Ue=Pe.requests[ze];Ue.piece===G&&this.pieces[G].cancel(0|Ue.offset/se.BLOCK_LENGTH)}return this.emit("hotswap",Pe,ce,G),!0}_request(ce,G,te){function de(){K(()=>{_e._update()})}let _e=this,Pe=ce.requests.length,ze=ce.type==="webSeed";if(_e.bitfield.get(G))return!1;let Ue=ze?J(v(ce,ct,_e.pieceLength),_e.maxWebConns):w(ce,ct);if(Pe>=Ue)return!1;let yt=_e.pieces[G],mt=ze?yt.reserveRemaining():yt.reserve();if(mt===-1&&te&&_e._hotswap(ce,G)&&(mt=ze?yt.reserveRemaining():yt.reserve()),mt===-1)return!1;let et=_e._reservations[G];et||(et=_e._reservations[G]=[]);let Dt=et.indexOf(null);Dt===-1&&(Dt=et.length),et[Dt]=ce;let wt=yt.chunkOffset(mt),Lt=ze?yt.chunkLengthRemaining(mt):yt.chunkLength(mt);return ce.request(G,wt,Lt,function vn(St,Wt){if(_e.destroyed)return;if(!_e.ready)return _e.once("ready",()=>{vn(St,Wt)});if(et[Dt]===ce&&(et[Dt]=null),yt!==_e.pieces[G])return de();if(St)return _e._debug("error getting piece %s (offset: %s length: %s) from %s: %s",G,wt,Lt,`${ce.remoteAddress}:${ce.remotePort}`,St.message),ze?yt.cancelRemaining(mt):yt.cancel(mt),void de();if(_e._debug("got piece %s (offset: %s length: %s) from %s",G,wt,Lt,`${ce.remoteAddress}:${ce.remotePort}`),!yt.set(mt,Wt,ce))return de();let Yt=yt.flush();E(Yt,Kt=>{_e.destroyed||(Kt===_e._hashes[G]?(_e._debug("piece verified %s",G),_e.store.put(G,Yt,ln=>ln?void _e._destroy(ln):(_e.pieces[G]=null,_e._markVerified(G),_e.wires.forEach(_r=>{_r.have(G)}),_e._checkDone()&&!_e.destroyed&&_e.discovery.complete(),void de()))):(_e.pieces[G]=new se(yt.length),_e.emit("warning",new Error(`Piece ${G} failed verification`)),de()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(G=>{if(!G.done){for(let te=G._startPiece;te<=G._endPiece;++te)if(!this.bitfield.get(te))return;G.done=!0,G.emit("done"),this._debug(`file done: ${G.name}`)}});let ce=!0;for(let G of this._selections){for(let te=G.from;te<=G.to;te++)if(!this.bitfield.get(te)){ce=!1;break}if(!ce)break}return!this.done&&ce?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),ce}load(ce,G){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(ce,G)});Array.isArray(ce)||(ce=[ce]),G||(G=e);let te=q.from(ee(ce)),de=new l(this.store,this.pieceLength);B(te,de,_e=>_e?G(_e):(this._markAllVerified(),this._checkDone(),void G(null)))}createServer(ce){if(typeof ke!="function")throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");let G=new ke(this,ce);return this._servers.push(G),G}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){let ce=[].slice.call(arguments);ce[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${ce[0]}`,qe(...ce)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),typeof c.connect!="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);let ce=this._queue.shift();if(!ce)return;this._debug("%s connect attempt to %s",ce.type,ce.addr);let G=t(ce.addr),te={host:G[0],port:G[1]};ce.conn=this.client.utp&&ce.type==="utpOutgoing"?De.connect(te.port,te.host):c.connect(te);let de=ce.conn;de.once("connect",()=>{this.destroyed||ce.onConnect()}),de.once("error",_e=>{ce.destroy(_e)}),ce.startConnectTimeout(),de.on("close",()=>{if(!this.destroyed){if(ce.retries>=Ge.length){if(this.client.utp){let ze=this._addPeer(ce.addr,"tcp");ze&&(ze.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",ce.addr,Ge.length);return}let _e=Ge[ce.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",ce.addr,_e,ce.retries+1);let Pe=setTimeout(()=>{if(!this.destroyed){let ze=t(ce.addr)[0],Ue=this.client.utp&&this._isIPv4(ze)?"utp":"tcp",yt=this._addPeer(ce.addr,Ue);yt&&(yt.retries=ce.retries+1)}},_e);Pe.unref&&Pe.unref()}})}_validAddr(ce){let G;try{G=t(ce)}catch{return!1}let te=G[0],de=G[1];return 0<de&&65535>de&&(te!=="127.0.0.1"||de!==this.client.torrentPort)}_isIPv4(ce){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(ce)}}}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"../package.json":282,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":42,"./utp.js":42,"./webconn.js":6,_process:193,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":78,"chunk-store-stream/write":79,cpus:82,debug:91,events:123,fs:42,"fs-chunk-store":161,"immediate-chunk-store":146,"join-async-iterator":150,lt_donthave:157,"memory-chunk-store":161,net:42,os:42,"parse-torrent":184,path:185,pump:201,"queue-microtask":206,"random-iterate":208,"run-parallel":233,"run-parallel-limit":232,"simple-get":246,"simple-sha1":248,streamx:264,throughput:268,"torrent-discovery":270,"torrent-piece":271,ut_metadata:276,ut_pex:42}],6:[function(m,U,A){(function(p){(function(){let{default:w}=m("bitfield"),v=m("debug"),h=m("simple-get"),e=m("lt_donthave"),o=m("simple-sha1"),i=m("bittorrent-protocol"),c=v("webtorrent:webconn"),u=m("../package.json").version,s=6e4,t=1e4;class r extends i{constructor(l,f){super(),this.url=l,this.connId=l,this.webPeerId=o.sync(l),this._torrent=f,this._init()}_init(){this.setKeepAlive(!0),this.use(e()),this.once("handshake",(l,f)=>{if(this.destroyed)return;this.handshake(l,this.webPeerId);let b=this._torrent.pieces.length,C=new w(b);for(let $=0;$<=b;$++)C.set($,!0);this.bitfield(C)}),this.once("interested",()=>{c("interested"),this.unchoke()}),this.on("uninterested",()=>{c("uninterested")}),this.on("choke",()=>{c("choke")}),this.on("unchoke",()=>{c("unchoke")}),this.on("bitfield",()=>{c("bitfield")}),this.lt_donthave.on("donthave",()=>{c("donthave")}),this.on("request",(l,f,b,C)=>{c("request pieceIndex=%d offset=%d length=%d",l,f,b),this.httpRequest(l,f,b,($,W)=>{if($){this.lt_donthave.donthave(l);let R=setTimeout(()=>{this.destroyed||this.have(l)},t);R.unref&&R.unref()}C($,W)})})}httpRequest(l,f,b,C){let $=l*this._torrent.pieceLength,W=$+f,R=W+b-1,L=this._torrent.files,Y;if(1>=L.length)Y=[{url:this.url,start:W,end:R}];else{let xe=L.filter(se=>se.offset<=R&&se.offset+se.length>W);if(1>xe.length)return C(new Error("Could not find file corresponding to web seed range request"));Y=xe.map(se=>{let B=se.offset+se.length-1;return{url:this.url+(this.url[this.url.length-1]==="/"?"":"/")+se.path.replace(this._torrent.path,""),fileOffsetInRange:F(se.offset-W,0),start:F(W-se.offset,0),end:J(B,R-se.offset)}})}let ee=0,ae=!1,fe;1<Y.length&&(fe=p.alloc(b)),Y.forEach(xe=>{function se(j,Z){return 200>j.statusCode||300<=j.statusCode?ae?void 0:(ae=!0,C(new Error(`Unexpected HTTP status code ${j.statusCode}`))):(c("Got data of length %d",Z.length),void(Y.length===1?C(null,Z):(Z.copy(fe,xe.fileOffsetInRange),++ee===Y.length&&C(null,fe))))}let B=xe.url,K=xe.start,z=xe.end;c("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",B,l,f,b,K,z);let E={url:B,method:"GET",headers:{"user-agent":`WebTorrent/${u} (https://webtorrent.io)`,range:`bytes=${K}-${z}`},timeout:s};h.concat(E,(j,Z,oe)=>ae?void 0:j?typeof window=="undefined"||B.startsWith(`${window.location.origin}/`)?(ae=!0,C(j)):h.head(B,(q,le)=>ae?void 0:q?(ae=!0,C(q)):200>le.statusCode||300<=le.statusCode?(ae=!0,C(new Error(`Unexpected HTTP status code ${le.statusCode}`))):le.url===B?(ae=!0,C(j)):(E.url=le.url,void h.concat(E,(ge,Re,ke)=>ae?void 0:ge?(ae=!0,C(ge)):void se(Re,ke)))):void se(Z,oe))})}destroy(){super.destroy(),this._torrent=null}}U.exports=r}).call(this)}).call(this,m("buffer").Buffer)},{"../package.json":282,bitfield:31,"bittorrent-protocol":32,buffer:76,debug:91,lt_donthave:157,"simple-get":246,"simple-sha1":248}],7:[function(m,U,A){let p=/^\[?([^\]]+)]?:(\d+)$/,w=new Map;U.exports=function(h){if(w.size===1e5&&w.clear(),!w.has(h)){let e=p.exec(h);if(!e)throw new Error(`invalid addr: ${h}`);w.set(h,[e[1],+e[2]])}return w.get(h)}},{}],8:[function(m,U,A){"use strict";let p=A;p.bignum=m("bn.js"),p.define=m("./asn1/api").define,p.base=m("./asn1/base"),p.constants=m("./asn1/constants"),p.decoders=m("./asn1/decoders"),p.encoders=m("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(m,U,A){"use strict";function p(o,i){this.name=o,this.body=i,this.decoders={},this.encoders={}}let w=m("./encoders"),v=m("./decoders"),h=m("inherits"),e=A;e.define=function(i,c){return new p(i,c)},p.prototype._createNamed=function(i){function c(s){this._initNamed(s,u)}let u=this.name;return h(c,i),c.prototype._initNamed=function(t,r){i.call(this,t,r)},new c(this)},p.prototype._getDecoder=function(i){return i=i||"der",this.decoders.hasOwnProperty(i)||(this.decoders[i]=this._createNamed(v[i])),this.decoders[i]},p.prototype.decode=function(i,c,u){return this._getDecoder(c).decode(i,u)},p.prototype._getEncoder=function(i){return i=i||"der",this.encoders.hasOwnProperty(i)||(this.encoders[i]=this._createNamed(w[i])),this.encoders[i]},p.prototype.encode=function(i,c,u){return this._getEncoder(c).encode(i,u)}},{"./decoders":17,"./encoders":20,inherits:147}],10:[function(m,U,A){"use strict";function p(o,i){return h.call(this,i),e.isBuffer(o)?(this.base=o,this.offset=0,void(this.length=o.length)):void this.error("Input not Buffer")}function w(o,i){if(Array.isArray(o))this.length=0,this.value=o.map(function(c){return w.isEncoderBuffer(c)||(c=new w(c,i)),this.length+=c.length,c},this);else if(typeof o=="number"){if(!(0<=o&&255>=o))return i.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=e.byteLength(o);else if(e.isBuffer(o))this.value=o,this.length=o.length;else return i.error("Unsupported type: "+typeof o)}let v=m("inherits"),h=m("../base/reporter").Reporter,e=m("safer-buffer").Buffer;v(p,h),A.DecoderBuffer=p,p.isDecoderBuffer=function(i){return i instanceof p?!0:typeof i=="object"&&e.isBuffer(i.base)&&i.constructor.name==="DecoderBuffer"&&typeof i.offset=="number"&&typeof i.length=="number"&&typeof i.save=="function"&&typeof i.restore=="function"&&typeof i.isEmpty=="function"&&typeof i.readUInt8=="function"&&typeof i.skip=="function"&&typeof i.raw=="function"},p.prototype.save=function(){return{offset:this.offset,reporter:h.prototype.save.call(this)}},p.prototype.restore=function(i){let c=new p(this.base);return c.offset=i.offset,c.length=this.offset,this.offset=i.offset,h.prototype.restore.call(this,i.reporter),c},p.prototype.isEmpty=function(){return this.offset===this.length},p.prototype.readUInt8=function(i){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(i||"DecoderBuffer overrun")},p.prototype.skip=function(i,c){if(!(this.offset+i<=this.length))return this.error(c||"DecoderBuffer overrun");let u=new p(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+i,this.offset+=i,u},p.prototype.raw=function(i){return this.base.slice(i?i.offset:this.offset,this.length)},A.EncoderBuffer=w,w.isEncoderBuffer=function(i){return i instanceof w?!0:typeof i=="object"&&i.constructor.name==="EncoderBuffer"&&typeof i.length=="number"&&typeof i.join=="function"},w.prototype.join=function(i,c){return i||(i=e.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(i,c),c+=u.length}):(typeof this.value=="number"?i[c]=this.value:typeof this.value=="string"?i.write(this.value,c):e.isBuffer(this.value)&&this.value.copy(i,c),c+=this.length)),i}},{"../base/reporter":13,inherits:147,"safer-buffer":236}],11:[function(m,U,A){"use strict";let p=A;p.Reporter=m("./reporter").Reporter,p.DecoderBuffer=m("./buffer").DecoderBuffer,p.EncoderBuffer=m("./buffer").EncoderBuffer,p.Node=m("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(m,U,A){"use strict";function p(s,t,r){let a={};this._baseState=a,a.name=r,a.enc=s,a.parent=t||null,a.children=null,a.tag=null,a.args=null,a.reverseArgs=null,a.choice=null,a.optional=!1,a.any=!1,a.obj=!1,a.use=null,a.useDecoder=null,a.key=null,a.default=null,a.explicit=null,a.implicit=null,a.contains=null,a.parent||(a.children=[],this._wrap())}let w=m("../base/reporter").Reporter,v=m("../base/buffer").EncoderBuffer,h=m("../base/buffer").DecoderBuffer,e=m("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];U.exports=p;let u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){let t=this._baseState,r={};u.forEach(function(l){r[l]=t[l]});let a=new this.constructor(r.parent);return a._baseState=r,a},p.prototype._wrap=function(){let t=this._baseState;i.forEach(function(r){this[r]=function(){let l=new this.constructor(this);return t.children.push(l),l[r].apply(l,arguments)}},this)},p.prototype._init=function(t){let r=this._baseState;e(r.parent===null),t.call(this),r.children=r.children.filter(function(a){return a._baseState.parent===this},this),e.equal(r.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(t){let r=this._baseState,a=t.filter(function(l){return l instanceof this.constructor},this);t=t.filter(function(l){return!(l instanceof this.constructor)},this),a.length!==0&&(e(r.children===null),r.children=a,a.forEach(function(l){l._baseState.parent=this},this)),t.length!==0&&(e(r.args===null),r.args=t,r.reverseArgs=t.map(function(l){if(typeof l!="object"||l.constructor!==Object)return l;let f={};return Object.keys(l).forEach(function(b){b==(0|b)&&(b|=0);let C=l[b];f[C]=b}),f}))},c.forEach(function(s){p.prototype[s]=function(){let r=this._baseState;throw new Error(s+" not implemented for encoding: "+r.enc)}}),o.forEach(function(s){p.prototype[s]=function(){let r=this._baseState,a=Array.prototype.slice.call(arguments);return e(r.tag===null),r.tag=s,this._useArgs(a),this}}),p.prototype.use=function(t){e(t);let r=this._baseState;return e(r.use===null),r.use=t,this},p.prototype.optional=function(){let t=this._baseState;return t.optional=!0,this},p.prototype.def=function(t){let r=this._baseState;return e(r.default===null),r.default=t,r.optional=!0,this},p.prototype.explicit=function(t){let r=this._baseState;return e(r.explicit===null&&r.implicit===null),r.explicit=t,this},p.prototype.implicit=function(t){let r=this._baseState;return e(r.explicit===null&&r.implicit===null),r.implicit=t,this},p.prototype.obj=function(){let t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this},p.prototype.key=function(t){let r=this._baseState;return e(r.key===null),r.key=t,this},p.prototype.any=function(){let t=this._baseState;return t.any=!0,this},p.prototype.choice=function(t){let r=this._baseState;return e(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(a){return t[a]})),this},p.prototype.contains=function(t){let r=this._baseState;return e(r.use===null),r.contains=t,this},p.prototype._decode=function(t,r){let a=this._baseState;if(a.parent===null)return t.wrapResult(a.children[0]._decode(t,r));let l=a.default,f=!0,b=null;if(a.key!==null&&(b=t.enterKey(a.key)),a.optional){let $=null;if(a.explicit===null?a.implicit===null?a.tag!==null&&($=a.tag):$=a.implicit:$=a.explicit,$===null&&!a.any){let W=t.save();try{a.choice===null?this._decodeGeneric(a.tag,t,r):this._decodeChoice(t,r),f=!0}catch{f=!1}t.restore(W)}else if(f=this._peekTag(t,$,a.any),t.isError(f))return f}let C;if(a.obj&&f&&(C=t.enterObject()),f){if(a.explicit!==null){let W=this._decodeTag(t,a.explicit);if(t.isError(W))return W;t=W}let $=t.offset;if(a.use===null&&a.choice===null){let W;a.any&&(W=t.save());let R=this._decodeTag(t,a.implicit===null?a.tag:a.implicit,a.any);if(t.isError(R))return R;a.any?l=t.raw(W):t=R}if(r&&r.track&&a.tag!==null&&r.track(t.path(),$,t.length,"tagged"),r&&r.track&&a.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),a.any||(a.choice===null?l=this._decodeGeneric(a.tag,t,r):l=this._decodeChoice(t,r)),t.isError(l))return l;if(a.any||a.choice!==null||a.children===null||a.children.forEach(function(R){R._decode(t,r)}),a.contains&&(a.tag==="octstr"||a.tag==="bitstr")){let W=new h(l);l=this._getUse(a.contains,t._reporterState.obj)._decode(W,r)}}return a.obj&&f&&(l=t.leaveObject(C)),a.key!==null&&(l!==null||f===!0)?t.leaveKey(b,a.key,l):b!==null&&t.exitKey(b),l},p.prototype._decodeGeneric=function(t,r,a){let l=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,l.args[0],a):/str$/.test(t)?this._decodeStr(r,t,a):t==="objid"&&l.args?this._decodeObjid(r,l.args[0],l.args[1],a):t==="objid"?this._decodeObjid(r,null,null,a):t==="gentime"||t==="utctime"?this._decodeTime(r,t,a):t==="null_"?this._decodeNull(r,a):t==="bool"?this._decodeBool(r,a):t==="objDesc"?this._decodeStr(r,t,a):t==="int"||t==="enum"?this._decodeInt(r,l.args&&l.args[0],a):l.use===null?r.error("unknown tag: "+t):this._getUse(l.use,r._reporterState.obj)._decode(r,a)},p.prototype._getUse=function(t,r){let a=this._baseState;return a.useDecoder=this._use(t,r),e(a.useDecoder._baseState.parent===null),a.useDecoder=a.useDecoder._baseState.children[0],a.implicit!==a.useDecoder._baseState.implicit&&(a.useDecoder=a.useDecoder.clone(),a.useDecoder._baseState.implicit=a.implicit),a.useDecoder},p.prototype._decodeChoice=function(t,r){let a=this._baseState,l=null,f=!1;return Object.keys(a.choice).some(function(b){let C=t.save(),$=a.choice[b];try{let W=$._decode(t,r);if(t.isError(W))return!1;l={type:b,value:W},f=!0}catch{return t.restore(C),!1}return!0},this),f?l:t.error("Choice not matched")},p.prototype._createEncoderBuffer=function(t){return new v(t,this.reporter)},p.prototype._encode=function(t,r,a){let l=this._baseState;if(l.default===null||l.default!==t){let f=this._encodeValue(t,r,a);return f===void 0||this._skipDefault(f,r,a)?void 0:f}},p.prototype._encodeValue=function(t,r,a){let l=this._baseState;if(l.parent===null)return l.children[0]._encode(t,r||new w);let f=null;if(this.reporter=r,l.optional&&t===void 0)if(l.default!==null)t=l.default;else return;let b=null,C=!1;if(l.any)f=this._createEncoderBuffer(t);else if(l.choice)f=this._encodeChoice(t,r);else if(l.contains)b=this._getUse(l.contains,a)._encode(t,r),C=!0;else if(l.children)b=l.children.map(function($){if($._baseState.tag==="null_")return $._encode(null,r,t);if($._baseState.key===null)return r.error("Child should have a key");let W=r.enterKey($._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");let R=$._encode(t[$._baseState.key],r,t);return r.leaveKey(W),R},this).filter(function($){return $}),b=this._createEncoderBuffer(b);else if(l.tag==="seqof"||l.tag==="setof"){if(!(l.args&&l.args.length===1))return r.error("Too many args for : "+l.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");let $=this.clone();$._baseState.implicit=null,b=this._createEncoderBuffer(t.map(function(W){let R=this._baseState;return this._getUse(R.args[0],t)._encode(W,r)},$))}else l.use===null?(b=this._encodePrimitive(l.tag,t),C=!0):f=this._getUse(l.use,a)._encode(t,r);if(!l.any&&l.choice===null){let $=l.implicit===null?l.tag:l.implicit,W=l.implicit===null?"universal":"context";$===null?l.use===null&&r.error("Tag could be omitted only for .use()"):l.use===null&&(f=this._encodeComposite($,C,W,b))}return l.explicit!==null&&(f=this._encodeComposite(l.explicit,!1,"context",f)),f},p.prototype._encodeChoice=function(t,r){let a=this._baseState,l=a.choice[t.type];return l||e(!1,t.type+" not found in "+JSON.stringify(Object.keys(a.choice))),l._encode(t.value,r)},p.prototype._encodePrimitive=function(t,r){let a=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&a.args)return this._encodeObjid(r,a.reverseArgs[0],a.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,a.args&&a.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)},p.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},p.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":168}],13:[function(m,U,A){"use strict";function p(h){this._reporterState={obj:null,path:[],options:h||{},errors:[]}}function w(h,e){this.path=h,this.rethrow(e)}let v=m("inherits");A.Reporter=p,p.prototype.isError=function(e){return e instanceof w},p.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},p.prototype.restore=function(e){let o=this._reporterState;o.obj=e.obj,o.path=o.path.slice(0,e.pathLen)},p.prototype.enterKey=function(e){return this._reporterState.path.push(e)},p.prototype.exitKey=function(e){let o=this._reporterState;o.path=o.path.slice(0,e-1)},p.prototype.leaveKey=function(e,o,i){let c=this._reporterState;this.exitKey(e),c.obj!==null&&(c.obj[o]=i)},p.prototype.path=function(){return this._reporterState.path.join("/")},p.prototype.enterObject=function(){let e=this._reporterState,o=e.obj;return e.obj={},o},p.prototype.leaveObject=function(e){let o=this._reporterState,i=o.obj;return o.obj=e,i},p.prototype.error=function(e){let o,i=this._reporterState,c=e instanceof w;if(o=c?e:new w(i.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw o;return c||i.errors.push(o),o},p.prototype.wrapResult=function(e){let o=this._reporterState;return o.options.partial?{result:this.isError(e)?null:e,errors:o.errors}:e},v(w,Error),w.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,w),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:147}],14:[function(m,U,A){"use strict";function p(w){let v={};return Object.keys(w).forEach(function(h){(0|h)==h&&(h|=0);let e=w[h];v[e]=h}),v}A.tagClass={0:"universal",1:"application",2:"context",3:"private"},A.tagClassByName=p(A.tagClass),A.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},A.tagByName=p(A.tag)},{}],15:[function(m,U,A){"use strict";let p=A;p._reverse=function(v){let h={};return Object.keys(v).forEach(function(e){(0|e)==e&&(e|=0);let o=v[e];h[o]=e}),h},p.der=m("./der")},{"./der":14}],16:[function(m,U,A){"use strict";function p(s){this.enc="der",this.name=s.name,this.entity=s,this.tree=new w,this.tree._init(s.body)}function w(s){c.call(this,"der",s)}function v(s,t){let r=s.readUInt8(t);if(s.isError(r))return r;let a=u.tagClass[r>>6],l=(32&r)==0;if((31&r)==31){let b=r;for(r=0;(128&b)==128;){if(b=s.readUInt8(t),s.isError(b))return b;r<<=7,r|=127&b}}else r&=31;let f=u.tag[r];return{cls:a,primitive:l,tag:r,tagStr:f}}function h(s,t,r){let a=s.readUInt8(r);if(s.isError(a))return a;if(!t&&a===128)return null;if((128&a)==0)return a;let l=127&a;if(4<l)return s.error("length octect is too long");a=0;for(let f=0;f<l;f++){a<<=8;let b=s.readUInt8(r);if(s.isError(b))return b;a|=b}return a}let e=m("inherits"),o=m("bn.js"),i=m("../base/buffer").DecoderBuffer,c=m("../base/node"),u=m("../constants/der");U.exports=p,p.prototype.decode=function(t,r){return i.isDecoderBuffer(t)||(t=new i(t,r)),this.tree._decode(t,r)},e(w,c),w.prototype._peekTag=function(t,r,a){if(t.isEmpty())return!1;let l=t.save(),f=v(t,'Failed to peek tag: "'+r+'"');return t.isError(f)?f:(t.restore(l),f.tag===r||f.tagStr===r||f.tagStr+"of"===r||a)},w.prototype._decodeTag=function(t,r,a){let l=v(t,'Failed to decode tag of "'+r+'"');if(t.isError(l))return l;let f=h(t,l.primitive,'Failed to get length of "'+r+'"');if(t.isError(f))return f;if(!a&&l.tag!==r&&l.tagStr!==r&&l.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(l.primitive||f!==null)return t.skip(f,'Failed to match body of: "'+r+'"');let b=t.save(),C=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(C)?C:(f=t.offset-b.offset,t.restore(b),t.skip(f,'Failed to match body of: "'+r+'"'))},w.prototype._skipUntilEnd=function(t,r){for(;;){let a=v(t,r);if(t.isError(a))return a;let l=h(t,a.primitive,r);if(t.isError(l))return l;let f;if(f=a.primitive||l!==null?t.skip(l):this._skipUntilEnd(t,r),t.isError(f))return f;if(a.tagStr==="end")break}},w.prototype._decodeList=function(t,r,a,l){let f=[];for(;!t.isEmpty();){let b=this._peekTag(t,"end");if(t.isError(b))return b;let C=a.decode(t,"der",l);if(t.isError(C)&&b)break;f.push(C)}return f},w.prototype._decodeStr=function(t,r){if(r==="bitstr"){let a=t.readUInt8();return t.isError(a)?a:{unused:a,data:t.raw()}}if(r==="bmpstr"){let a=t.raw();if(a.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let l="";for(let f=0;f<a.length/2;f++)l+=g(a.readUInt16BE(2*f));return l}if(r==="numstr"){let a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if(r==="octstr"||r==="objDesc")return t.raw();if(r==="printstr"){let a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")},w.prototype._decodeObjid=function(t,r,a){let l,f=[],b=0,C=0;for(;!t.isEmpty();)C=t.readUInt8(),b<<=7,b|=127&C,(128&C)==0&&(f.push(b),b=0);128&C&&f.push(b);let $=0|f[0]/40,W=f[0]%40;if(l=a?f:[$,W].concat(f.slice(1)),r){let R=r[l.join(" ")];R===void 0&&(R=r[l.join(".")]),R!==void 0&&(l=R)}return l},w.prototype._decodeTime=function(t,r){let a=t.raw().toString(),l,f,b,C,$,W;if(r==="gentime")l=0|a.slice(0,4),f=0|a.slice(4,6),b=0|a.slice(6,8),C=0|a.slice(8,10),$=0|a.slice(10,12),W=0|a.slice(12,14);else if(r==="utctime")l=0|a.slice(0,2),f=0|a.slice(2,4),b=0|a.slice(4,6),C=0|a.slice(6,8),$=0|a.slice(8,10),W=0|a.slice(10,12),l=70>l?2e3+l:1900+l;else return t.error("Decoding "+r+" time is not supported yet");return Date.UTC(l,f-1,b,C,$,W,0)},w.prototype._decodeNull=function(){return null},w.prototype._decodeBool=function(t){let r=t.readUInt8();return t.isError(r)?r:r!==0},w.prototype._decodeInt=function(t,r){let a=t.raw(),l=new o(a);return r&&(l=r[l.toString(10)]||l),l},w.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:147}],17:[function(m,U,A){"use strict";let p=A;p.der=m("./der"),p.pem=m("./pem")},{"./der":16,"./pem":18}],18:[function(m,U,A){"use strict";function p(e){h.call(this,e),this.enc="pem"}let w=m("inherits"),v=m("safer-buffer").Buffer,h=m("./der");w(p,h),U.exports=p,p.prototype.decode=function(o,i){let c=o.toString().split(/[\r\n]+/g),u=i.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,t=-1,r=-1;for(let f=0;f<c.length;f++){let b=c[f].match(s);if(b!==null&&b[2]===u)if(t===-1){if(b[1]!=="BEGIN")break;t=f}else{if(b[1]!=="END")break;r=f;break}}if(t===-1||r===-1)throw new Error("PEM section not found for: "+u);let a=c.slice(t+1,r).join("");a.replace(/[^a-z0-9+/=]+/gi,"");let l=v.from(a,"base64");return h.prototype.decode.call(this,l,i)}},{"./der":16,inherits:147,"safer-buffer":236}],19:[function(m,U,A){"use strict";function p(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new w,this.tree._init(u.body)}function w(u){i.call(this,"der",u)}function v(u){return 10>u?"0"+u:u}function h(u,s,t,r){let a;if(u==="seqof"?u="seq":u=="setof"&&(u="set"),c.tagByName.hasOwnProperty(u))a=c.tagByName[u];else if(typeof u=="number"&&(0|u)===u)a=u;else return r.error("Unknown tag: "+u);return 31<=a?r.error("Multi-octet tag encoding unsupported"):(s||(a|=32),a|=c.tagClassByName[t||"universal"]<<6,a)}let e=m("inherits"),o=m("safer-buffer").Buffer,i=m("../base/node"),c=m("../constants/der");U.exports=p,p.prototype.encode=function(s,t){return this.tree._encode(s,t).join()},e(w,i),w.prototype._encodeComposite=function(s,t,r,a){let l=h(s,t,r,this.reporter);if(128>a.length){let C=o.alloc(2);return C[0]=l,C[1]=a.length,this._createEncoderBuffer([C,a])}let f=1;for(let C=a.length;256<=C;C>>=8)f++;let b=o.alloc(2+f);b[0]=l,b[1]=128|f;for(let C=1+f,$=a.length;0<$;C--,$>>=8)b[C]=255&$;return this._createEncoderBuffer([b,a])},w.prototype._encodeStr=function(s,t){if(t==="bitstr")return this._createEncoderBuffer([0|s.unused,s.data]);if(t==="bmpstr"){let r=o.alloc(2*s.length);for(let a=0;a<s.length;a++)r.writeUInt16BE(s.charCodeAt(a),2*a);return this._createEncoderBuffer(r)}return t==="numstr"?this._isNumstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: numstr supports only digits and space"):t==="printstr"?this._isPrintstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(s):t==="objDesc"?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: "+t+" unsupported")},w.prototype._encodeObjid=function(s,t,r){if(typeof s=="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(s))return this.reporter.error("objid not found in values map");s=t[s].split(/[\s.]+/g);for(let b=0;b<s.length;b++)s[b]|=0}else if(Array.isArray(s)){s=s.slice();for(let b=0;b<s.length;b++)s[b]|=0}if(!Array.isArray(s))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(s));if(!r){if(40<=s[1])return this.reporter.error("Second objid identifier OOB");s.splice(0,2,40*s[0]+s[1])}let a=0;for(let b=0,C;b<s.length;b++)for(C=s[b],a++;128<=C;C>>=7)a++;let l=o.alloc(a),f=l.length-1;for(let b=s.length-1,C;0<=b;b--)for(C=s[b],l[f--]=127&C;0<(C>>=7);)l[f--]=128|127&C;return this._createEncoderBuffer(l)},w.prototype._encodeTime=function(s,t){let r,a=new Date(s);return t==="gentime"?r=[v(a.getUTCFullYear()),v(a.getUTCMonth()+1),v(a.getUTCDate()),v(a.getUTCHours()),v(a.getUTCMinutes()),v(a.getUTCSeconds()),"Z"].join(""):t==="utctime"?r=[v(a.getUTCFullYear()%100),v(a.getUTCMonth()+1),v(a.getUTCDate()),v(a.getUTCHours()),v(a.getUTCMinutes()),v(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},w.prototype._encodeNull=function(){return this._createEncoderBuffer("")},w.prototype._encodeInt=function(s,t){if(typeof s=="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(s))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(s));s=t[s]}if(typeof s!="number"&&!o.isBuffer(s)){let l=s.toArray();!s.sign&&128&l[0]&&l.unshift(0),s=o.from(l)}if(o.isBuffer(s)){let l=s.length;s.length===0&&l++;let f=o.alloc(l);return s.copy(f),s.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(128>s)return this._createEncoderBuffer(s);if(256>s)return this._createEncoderBuffer([0,s]);let r=1;for(let l=s;256<=l;l>>=8)r++;let a=Array(r);for(let l=a.length-1;0<=l;l--)a[l]=255&s,s>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(o.from(a))},w.prototype._encodeBool=function(s){return this._createEncoderBuffer(s?255:0)},w.prototype._use=function(s,t){return typeof s=="function"&&(s=s(t)),s._getEncoder("der").tree},w.prototype._skipDefault=function(s,t,r){let a=this._baseState,l;if(a.default===null)return!1;let f=s.join();if(a.defaultBuffer===void 0&&(a.defaultBuffer=this._encodeValue(a.default,t,r).join()),f.length!==a.defaultBuffer.length)return!1;for(l=0;l<f.length;l++)if(f[l]!==a.defaultBuffer[l])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:147,"safer-buffer":236}],20:[function(m,U,A){"use strict";let p=A;p.der=m("./der"),p.pem=m("./pem")},{"./der":19,"./pem":21}],21:[function(m,U,A){"use strict";function p(h){v.call(this,h),this.enc="pem"}let w=m("inherits"),v=m("./der");w(p,v),U.exports=p,p.prototype.encode=function(e,o){let i=v.prototype.encode.call(this,e),c=i.toString("base64"),u=["-----BEGIN "+o.label+"-----"];for(let s=0;s<c.length;s+=64)u.push(c.slice(s,s+64));return u.push("-----END "+o.label+"-----"),u.join(`
`)}},{"./der":19,inherits:147}],22:[function(m,U,A){(function(p,w){"use strict";function v(se,B){if(!se)throw new Error(B||"Assertion failed")}function h(se,B){se.super_=B;var K=function(){};K.prototype=B.prototype,se.prototype=new K,se.prototype.constructor=se}function e(se,B,K){return e.isBN(se)?se:(this.negative=0,this.words=null,this.length=0,this.red=null,void(se!==null&&((B==="le"||B==="be")&&(K=B,B=10),this._init(se||0,B||10,K||"be"))))}function o(se,B){var K=se.charCodeAt(B);return 65<=K&&70>=K?K-55:97<=K&&102>=K?K-87:15&K-48}function i(se,B,K){var z=o(se,K);return K-1>=B&&(z|=o(se,K-1)<<4),z}function c(se,B,K,z){for(var E=0,j=J(se.length,K),Z=B,oe;Z<j;Z++)oe=se.charCodeAt(Z)-48,E*=z,E+=49<=oe?oe-49+10:17<=oe?oe-17+10:oe;return E}function u(se){for(var B=Array(se.bitLength()),K=0;K<B.length;K++){var z=0|K/26,E=K%26;B[K]=(se.words[z]&1<<E)>>>E}return B}function s(se,B,K){K.negative=B.negative^se.negative;var z=0|se.length+B.length;K.length=z,z=0|z-1;var E=0|se.words[0],j=0|B.words[0],Z=E*j,oe=67108863&Z,q=0|Z/67108864;K.words[0]=oe;for(var le=1;le<z;le++){for(var ge=q>>>26,Re=67108863&q,ke=J(le,B.length-1),De=F(0,le-se.length+1),$e;De<=ke;De++)$e=0|le-De,E=0|se.words[$e],j=0|B.words[De],Z=E*j+Re,ge+=0|Z/67108864,Re=67108863&Z;K.words[le]=0|Re,q=0|ge}return q===0?K.length--:K.words[le]=0|q,K.strip()}function t(se,B,K){K.negative=B.negative^se.negative,K.length=se.length+B.length;for(var z=0,E=0,j=0,Z;j<K.length-1;j++){Z=E,E=0;for(var oe=67108863&z,q=J(j,B.length-1),le=F(0,j-se.length+1);le<=q;le++){var ge=j-le,Re=0|se.words[ge],ke=0|B.words[le],De=Re*ke,$e=67108863&De;Z=0|Z+(0|De/67108864),$e=0|$e+oe,oe=67108863&$e,Z=0|Z+($e>>>26),E+=Z>>>26,Z&=67108863}K.words[j]=oe,z=Z,Z=E}return z===0?K.length--:K.words[j]=z,K.strip()}function r(se,B,K){var z=new a;return z.mulp(se,B,K)}function a(se,B){this.x=se,this.y=B}function l(se,B){this.name=se,this.p=new e(B,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function f(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function W(se){if(typeof se=="string"){var B=e._prime(se);this.m=B.p,this.prime=B}else v(se.gtn(1),"modulus must be greater than 1"),this.m=se,this.prime=null}function R(se){W.call(this,se),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof p=="object"?p.exports=e:w.BN=e,e.BN=e,e.wordSize=26;var L;try{L=typeof window!="undefined"&&typeof window.Buffer!="undefined"?window.Buffer:m("buffer").Buffer}catch{}e.isBN=function(B){return B instanceof e||B!==null&&typeof B=="object"&&B.constructor.wordSize===e.wordSize&&Array.isArray(B.words)},e.max=function(B,K){return 0<B.cmp(K)?B:K},e.min=function(B,K){return 0>B.cmp(K)?B:K},e.prototype._init=function(B,K,z){if(typeof B=="number")return this._initNumber(B,K,z);if(typeof B=="object")return this._initArray(B,K,z);K==="hex"&&(K=16),v(K===(0|K)&&2<=K&&36>=K),B=B.toString().replace(/\s+/g,"");var E=0;B[0]==="-"&&(E++,this.negative=1),E<B.length&&(K===16?this._parseHex(B,E,z):(this._parseBase(B,K,E),z==="le"&&this._initArray(this.toArray(),K,z)))},e.prototype._initNumber=function(B,K,z){0>B&&(this.negative=1,B=-B),67108864>B?(this.words=[67108863&B],this.length=1):4503599627370496>B?(this.words=[67108863&B,67108863&B/67108864],this.length=2):(v(9007199254740992>B),this.words=[67108863&B,67108863&B/67108864,1],this.length=3),z!=="le"||this._initArray(this.toArray(),K,z)},e.prototype._initArray=function(B,K,z){if(v(typeof B.length=="number"),0>=B.length)return this.words=[0],this.length=1,this;this.length=N(B.length/3),this.words=Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var j=0,Z,oe;if(z==="be")for(E=B.length-1,Z=0;0<=E;E-=3)oe=B[E]|B[E-1]<<8|B[E-2]<<16,this.words[Z]|=67108863&oe<<j,this.words[Z+1]=67108863&oe>>>26-j,j+=24,26<=j&&(j-=26,Z++);else if(z==="le")for(E=0,Z=0;E<B.length;E+=3)oe=B[E]|B[E+1]<<8|B[E+2]<<16,this.words[Z]|=67108863&oe<<j,this.words[Z+1]=67108863&oe>>>26-j,j+=24,26<=j&&(j-=26,Z++);return this.strip()},e.prototype._parseHex=function(B,K,z){this.length=N((B.length-K)/6),this.words=Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var j=0,Z=0,oe;if(z==="be")for(E=B.length-1;E>=K;E-=2)oe=i(B,K,E)<<j,this.words[Z]|=67108863&oe,18<=j?(j-=18,Z+=1,this.words[Z]|=oe>>>26):j+=8;else{var q=B.length-K;for(E=q%2==0?K+1:K;E<B.length;E+=2)oe=i(B,K,E)<<j,this.words[Z]|=67108863&oe,18<=j?(j-=18,Z+=1,this.words[Z]|=oe>>>26):j+=8}this.strip()},e.prototype._parseBase=function(B,K,z){this.words=[0],this.length=1;for(var E=0,j=1;67108863>=j;j*=K)E++;E--,j=0|j/K;for(var Z=B.length-z,oe=Z%E,q=J(Z,Z-oe)+z,le=0,ge=z;ge<q;ge+=E)le=c(B,ge,ge+E,K),this.imuln(j),67108864>this.words[0]+le?this.words[0]+=le:this._iaddn(le);if(oe!==0){var Re=1;for(le=c(B,ge,B.length,K),ge=0;ge<oe;ge++)Re*=K;this.imuln(Re),67108864>this.words[0]+le?this.words[0]+=le:this._iaddn(le)}this.strip()},e.prototype.copy=function(B){B.words=Array(this.length);for(var K=0;K<this.length;K++)B.words[K]=this.words[K];B.length=this.length,B.negative=this.negative,B.red=this.red},e.prototype.clone=function(){var B=new e(null);return this.copy(B),B},e.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ee=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ae=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(B,K){B=B||10,K=0|K||1;var z;if(B===16||B==="hex"){z="";for(var E=0,j=0,Z=0;Z<this.length;Z++){var oe=this.words[Z],q=(16777215&(oe<<E|j)).toString(16);j=16777215&oe>>>24-E,z=j!==0||Z!==this.length-1?Y[6-q.length]+q+z:q+z,E+=2,26<=E&&(E-=26,Z--)}for(j!==0&&(z=j.toString(16)+z);z.length%K!=0;)z="0"+z;return this.negative!==0&&(z="-"+z),z}if(B===(0|B)&&2<=B&&36>=B){var le=ee[B],ge=ae[B];z="";var Re=this.clone();for(Re.negative=0;!Re.isZero();){var ke=Re.modn(ge).toString(B);Re=Re.idivn(ge),z=Re.isZero()?ke+z:Y[le-ke.length]+ke+z}for(this.isZero()&&(z="0"+z);z.length%K!=0;)z="0"+z;return this.negative!==0&&(z="-"+z),z}v(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=67108864*this.words[1]:this.length===3&&this.words[2]===1?B+=4503599627370496+67108864*this.words[1]:2<this.length&&v(!1,"Number can only safely store up to 53 bits"),this.negative===0?B:-B},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(B,K){return v(typeof L!="undefined"),this.toArrayLike(L,B,K)},e.prototype.toArray=function(B,K){return this.toArrayLike(Array,B,K)},e.prototype.toArrayLike=function(B,K,z){var E=this.byteLength(),j=z||F(1,E);v(E<=j,"byte array longer than desired length"),v(0<j,"Requested array length <= 0"),this.strip();var Z=K==="le",oe=new B(j),q=this.clone(),le,ge;if(Z){for(ge=0;!q.isZero();ge++)le=q.andln(255),q.iushrn(8),oe[ge]=le;for(;ge<j;ge++)oe[ge]=0}else{for(ge=0;ge<j-E;ge++)oe[ge]=0;for(ge=0;!q.isZero();ge++)le=q.andln(255),q.iushrn(8),oe[j-ge-1]=le}return oe},e.prototype._countBits=M?function(B){return 32-M(B)}:function(B){var K=B,z=0;return 4096<=K&&(z+=13,K>>>=13),64<=K&&(z+=7,K>>>=7),8<=K&&(z+=4,K>>>=4),2<=K&&(z+=2,K>>>=2),z+K},e.prototype._zeroBits=function(B){if(B===0)return 26;var K=B,z=0;return(8191&K)==0&&(z+=13,K>>>=13),(127&K)==0&&(z+=7,K>>>=7),(15&K)==0&&(z+=4,K>>>=4),(3&K)==0&&(z+=2,K>>>=2),(1&K)==0&&z++,z},e.prototype.bitLength=function(){var B=this.words[this.length-1],K=this._countBits(B);return 26*(this.length-1)+K},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,K=0,z;K<this.length&&(z=this._zeroBits(this.words[K]),B+=z,z===26);K++);return B},e.prototype.byteLength=function(){return N(this.bitLength()/8)},e.prototype.toTwos=function(B){return this.negative===0?this.clone():this.abs().inotn(B).iaddn(1)},e.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var K=0;K<B.length;K++)this.words[K]|=B.words[K];return this.strip()},e.prototype.ior=function(B){return v((this.negative|B.negative)==0),this.iuor(B)},e.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},e.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},e.prototype.iuand=function(B){var K;K=this.length>B.length?B:this;for(var z=0;z<K.length;z++)this.words[z]&=B.words[z];return this.length=K.length,this.strip()},e.prototype.iand=function(B){return v((this.negative|B.negative)==0),this.iuand(B)},e.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},e.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},e.prototype.iuxor=function(B){var K,z;this.length>B.length?(K=this,z=B):(K=B,z=this);for(var E=0;E<z.length;E++)this.words[E]=K.words[E]^z.words[E];if(this!==K)for(;E<K.length;E++)this.words[E]=K.words[E];return this.length=K.length,this.strip()},e.prototype.ixor=function(B){return v((this.negative|B.negative)==0),this.iuxor(B)},e.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},e.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},e.prototype.inotn=function(B){v(typeof B=="number"&&0<=B);var K=0|N(B/26),z=B%26;this._expand(K),0<z&&K--;for(var E=0;E<K;E++)this.words[E]=67108863&~this.words[E];return 0<z&&(this.words[E]=~this.words[E]&67108863>>26-z),this.strip()},e.prototype.notn=function(B){return this.clone().inotn(B)},e.prototype.setn=function(B,K){v(typeof B=="number"&&0<=B);var z=0|B/26,E=B%26;return this._expand(z+1),K?this.words[z]|=1<<E:this.words[z]&=~(1<<E),this.strip()},e.prototype.iadd=function(B){var K;if(this.negative!==0&&B.negative===0)return this.negative=0,K=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,K=this.isub(B),B.negative=1,K._normSign();var z,E;this.length>B.length?(z=this,E=B):(z=B,E=this);for(var j=0,Z=0;Z<E.length;Z++)K=(0|z.words[Z])+(0|E.words[Z])+j,this.words[Z]=67108863&K,j=K>>>26;for(;j!==0&&Z<z.length;Z++)K=(0|z.words[Z])+j,this.words[Z]=67108863&K,j=K>>>26;if(this.length=z.length,j!==0)this.words[this.length]=j,this.length++;else if(z!==this)for(;Z<z.length;Z++)this.words[Z]=z.words[Z];return this},e.prototype.add=function(B){var K;return B.negative!==0&&this.negative===0?(B.negative=0,K=this.sub(B),B.negative^=1,K):B.negative===0&&this.negative!==0?(this.negative=0,K=B.sub(this),this.negative=1,K):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},e.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var K=this.iadd(B);return B.negative=1,K._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var z=this.cmp(B);if(z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,j;0<z?(E=this,j=B):(E=B,j=this);for(var Z=0,oe=0;oe<j.length;oe++)K=(0|E.words[oe])-(0|j.words[oe])+Z,Z=K>>26,this.words[oe]=67108863&K;for(;Z!==0&&oe<E.length;oe++)K=(0|E.words[oe])+Z,Z=K>>26,this.words[oe]=67108863&K;if(Z===0&&oe<E.length&&E!==this)for(;oe<E.length;oe++)this.words[oe]=E.words[oe];return this.length=F(this.length,oe),E!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(B){return this.clone().isub(B)};var fe=function(B,K,z){var E=B.words,j=K.words,Z=z.words,oe=0,q=0|E[0],le=8191&q,ge=q>>>13,Re=0|E[1],ke=8191&Re,De=Re>>>13,$e=0|E[2],qe=8191&$e,nt=$e>>>13,bt=0|E[3],ct=8191&bt,Me=bt>>>13,Ge=0|E[4],Ze=8191&Ge,ft=Ge>>>13,Mt=0|E[5],ce=8191&Mt,G=Mt>>>13,te=0|E[6],de=8191&te,_e=te>>>13,Pe=0|E[7],ze=8191&Pe,Ue=Pe>>>13,yt=0|E[8],mt=8191&yt,et=yt>>>13,Dt=0|E[9],wt=8191&Dt,Lt=Dt>>>13,vn=0|j[0],St=8191&vn,Wt=vn>>>13,Yt=0|j[1],Kt=8191&Yt,ln=Yt>>>13,_r=0|j[2],Jt=8191&_r,rn=_r>>>13,Xn=0|j[3],qt=8191&Xn,tn=Xn>>>13,Wn=0|j[4],on=8191&Wn,fn=Wn>>>13,ar=0|j[5],Xt=8191&ar,an=ar>>>13,Ir=0|j[6],en=8191&Ir,cn=Ir>>>13,Sr=0|j[7],Ht=8191&Sr,hn=Sr>>>13,sr=0|j[8],Vt=8191&sr,nn=sr>>>13,Cr=0|j[9],pn=8191&Cr,gn=Cr>>>13,Ke,ye,He;z.negative=B.negative^K.negative,z.length=19,Ke=d(le,St),ye=d(le,Wt),ye=0|ye+d(ge,St),He=d(ge,Wt);var Ye=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Ye>>>26),Ye&=67108863,Ke=d(ke,St),ye=d(ke,Wt),ye=0|ye+d(De,St),He=d(De,Wt),Ke=0|Ke+d(le,Kt),ye=0|ye+d(le,ln),ye=0|ye+d(ge,Kt),He=0|He+d(ge,ln);var Se=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Se>>>26),Se&=67108863,Ke=d(qe,St),ye=d(qe,Wt),ye=0|ye+d(nt,St),He=d(nt,Wt),Ke=0|Ke+d(ke,Kt),ye=0|ye+d(ke,ln),ye=0|ye+d(De,Kt),He=0|He+d(De,ln),Ke=0|Ke+d(le,Jt),ye=0|ye+d(le,rn),ye=0|ye+d(ge,Jt),He=0|He+d(ge,rn);var Je=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Je>>>26),Je&=67108863,Ke=d(ct,St),ye=d(ct,Wt),ye=0|ye+d(Me,St),He=d(Me,Wt),Ke=0|Ke+d(qe,Kt),ye=0|ye+d(qe,ln),ye=0|ye+d(nt,Kt),He=0|He+d(nt,ln),Ke=0|Ke+d(ke,Jt),ye=0|ye+d(ke,rn),ye=0|ye+d(De,Jt),He=0|He+d(De,rn),Ke=0|Ke+d(le,qt),ye=0|ye+d(le,tn),ye=0|ye+d(ge,qt),He=0|He+d(ge,tn);var lr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(lr>>>26),lr&=67108863,Ke=d(Ze,St),ye=d(Ze,Wt),ye=0|ye+d(ft,St),He=d(ft,Wt),Ke=0|Ke+d(ct,Kt),ye=0|ye+d(ct,ln),ye=0|ye+d(Me,Kt),He=0|He+d(Me,ln),Ke=0|Ke+d(qe,Jt),ye=0|ye+d(qe,rn),ye=0|ye+d(nt,Jt),He=0|He+d(nt,rn),Ke=0|Ke+d(ke,qt),ye=0|ye+d(ke,tn),ye=0|ye+d(De,qt),He=0|He+d(De,tn),Ke=0|Ke+d(le,on),ye=0|ye+d(le,fn),ye=0|ye+d(ge,on),He=0|He+d(ge,fn);var mr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(mr>>>26),mr&=67108863,Ke=d(ce,St),ye=d(ce,Wt),ye=0|ye+d(G,St),He=d(G,Wt),Ke=0|Ke+d(Ze,Kt),ye=0|ye+d(Ze,ln),ye=0|ye+d(ft,Kt),He=0|He+d(ft,ln),Ke=0|Ke+d(ct,Jt),ye=0|ye+d(ct,rn),ye=0|ye+d(Me,Jt),He=0|He+d(Me,rn),Ke=0|Ke+d(qe,qt),ye=0|ye+d(qe,tn),ye=0|ye+d(nt,qt),He=0|He+d(nt,tn),Ke=0|Ke+d(ke,on),ye=0|ye+d(ke,fn),ye=0|ye+d(De,on),He=0|He+d(De,fn),Ke=0|Ke+d(le,Xt),ye=0|ye+d(le,an),ye=0|ye+d(ge,Xt),He=0|He+d(ge,an);var Pr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Pr>>>26),Pr&=67108863,Ke=d(de,St),ye=d(de,Wt),ye=0|ye+d(_e,St),He=d(_e,Wt),Ke=0|Ke+d(ce,Kt),ye=0|ye+d(ce,ln),ye=0|ye+d(G,Kt),He=0|He+d(G,ln),Ke=0|Ke+d(Ze,Jt),ye=0|ye+d(Ze,rn),ye=0|ye+d(ft,Jt),He=0|He+d(ft,rn),Ke=0|Ke+d(ct,qt),ye=0|ye+d(ct,tn),ye=0|ye+d(Me,qt),He=0|He+d(Me,tn),Ke=0|Ke+d(qe,on),ye=0|ye+d(qe,fn),ye=0|ye+d(nt,on),He=0|He+d(nt,fn),Ke=0|Ke+d(ke,Xt),ye=0|ye+d(ke,an),ye=0|ye+d(De,Xt),He=0|He+d(De,an),Ke=0|Ke+d(le,en),ye=0|ye+d(le,cn),ye=0|ye+d(ge,en),He=0|He+d(ge,cn);var $r=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+($r>>>26),$r&=67108863,Ke=d(ze,St),ye=d(ze,Wt),ye=0|ye+d(Ue,St),He=d(Ue,Wt),Ke=0|Ke+d(de,Kt),ye=0|ye+d(de,ln),ye=0|ye+d(_e,Kt),He=0|He+d(_e,ln),Ke=0|Ke+d(ce,Jt),ye=0|ye+d(ce,rn),ye=0|ye+d(G,Jt),He=0|He+d(G,rn),Ke=0|Ke+d(Ze,qt),ye=0|ye+d(Ze,tn),ye=0|ye+d(ft,qt),He=0|He+d(ft,tn),Ke=0|Ke+d(ct,on),ye=0|ye+d(ct,fn),ye=0|ye+d(Me,on),He=0|He+d(Me,fn),Ke=0|Ke+d(qe,Xt),ye=0|ye+d(qe,an),ye=0|ye+d(nt,Xt),He=0|He+d(nt,an),Ke=0|Ke+d(ke,en),ye=0|ye+d(ke,cn),ye=0|ye+d(De,en),He=0|He+d(De,cn),Ke=0|Ke+d(le,Ht),ye=0|ye+d(le,hn),ye=0|ye+d(ge,Ht),He=0|He+d(ge,hn);var Fr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Fr>>>26),Fr&=67108863,Ke=d(mt,St),ye=d(mt,Wt),ye=0|ye+d(et,St),He=d(et,Wt),Ke=0|Ke+d(ze,Kt),ye=0|ye+d(ze,ln),ye=0|ye+d(Ue,Kt),He=0|He+d(Ue,ln),Ke=0|Ke+d(de,Jt),ye=0|ye+d(de,rn),ye=0|ye+d(_e,Jt),He=0|He+d(_e,rn),Ke=0|Ke+d(ce,qt),ye=0|ye+d(ce,tn),ye=0|ye+d(G,qt),He=0|He+d(G,tn),Ke=0|Ke+d(Ze,on),ye=0|ye+d(Ze,fn),ye=0|ye+d(ft,on),He=0|He+d(ft,fn),Ke=0|Ke+d(ct,Xt),ye=0|ye+d(ct,an),ye=0|ye+d(Me,Xt),He=0|He+d(Me,an),Ke=0|Ke+d(qe,en),ye=0|ye+d(qe,cn),ye=0|ye+d(nt,en),He=0|He+d(nt,cn),Ke=0|Ke+d(ke,Ht),ye=0|ye+d(ke,hn),ye=0|ye+d(De,Ht),He=0|He+d(De,hn),Ke=0|Ke+d(le,Vt),ye=0|ye+d(le,nn),ye=0|ye+d(ge,Vt),He=0|He+d(ge,nn);var vr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(vr>>>26),vr&=67108863,Ke=d(wt,St),ye=d(wt,Wt),ye=0|ye+d(Lt,St),He=d(Lt,Wt),Ke=0|Ke+d(mt,Kt),ye=0|ye+d(mt,ln),ye=0|ye+d(et,Kt),He=0|He+d(et,ln),Ke=0|Ke+d(ze,Jt),ye=0|ye+d(ze,rn),ye=0|ye+d(Ue,Jt),He=0|He+d(Ue,rn),Ke=0|Ke+d(de,qt),ye=0|ye+d(de,tn),ye=0|ye+d(_e,qt),He=0|He+d(_e,tn),Ke=0|Ke+d(ce,on),ye=0|ye+d(ce,fn),ye=0|ye+d(G,on),He=0|He+d(G,fn),Ke=0|Ke+d(Ze,Xt),ye=0|ye+d(Ze,an),ye=0|ye+d(ft,Xt),He=0|He+d(ft,an),Ke=0|Ke+d(ct,en),ye=0|ye+d(ct,cn),ye=0|ye+d(Me,en),He=0|He+d(Me,cn),Ke=0|Ke+d(qe,Ht),ye=0|ye+d(qe,hn),ye=0|ye+d(nt,Ht),He=0|He+d(nt,hn),Ke=0|Ke+d(ke,Vt),ye=0|ye+d(ke,nn),ye=0|ye+d(De,Vt),He=0|He+d(De,nn),Ke=0|Ke+d(le,pn),ye=0|ye+d(le,gn),ye=0|ye+d(ge,pn),He=0|He+d(ge,gn);var br=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(br>>>26),br&=67108863,Ke=d(wt,Kt),ye=d(wt,ln),ye=0|ye+d(Lt,Kt),He=d(Lt,ln),Ke=0|Ke+d(mt,Jt),ye=0|ye+d(mt,rn),ye=0|ye+d(et,Jt),He=0|He+d(et,rn),Ke=0|Ke+d(ze,qt),ye=0|ye+d(ze,tn),ye=0|ye+d(Ue,qt),He=0|He+d(Ue,tn),Ke=0|Ke+d(de,on),ye=0|ye+d(de,fn),ye=0|ye+d(_e,on),He=0|He+d(_e,fn),Ke=0|Ke+d(ce,Xt),ye=0|ye+d(ce,an),ye=0|ye+d(G,Xt),He=0|He+d(G,an),Ke=0|Ke+d(Ze,en),ye=0|ye+d(Ze,cn),ye=0|ye+d(ft,en),He=0|He+d(ft,cn),Ke=0|Ke+d(ct,Ht),ye=0|ye+d(ct,hn),ye=0|ye+d(Me,Ht),He=0|He+d(Me,hn),Ke=0|Ke+d(qe,Vt),ye=0|ye+d(qe,nn),ye=0|ye+d(nt,Vt),He=0|He+d(nt,nn),Ke=0|Ke+d(ke,pn),ye=0|ye+d(ke,gn),ye=0|ye+d(De,pn),He=0|He+d(De,gn);var Zn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Zn>>>26),Zn&=67108863,Ke=d(wt,Jt),ye=d(wt,rn),ye=0|ye+d(Lt,Jt),He=d(Lt,rn),Ke=0|Ke+d(mt,qt),ye=0|ye+d(mt,tn),ye=0|ye+d(et,qt),He=0|He+d(et,tn),Ke=0|Ke+d(ze,on),ye=0|ye+d(ze,fn),ye=0|ye+d(Ue,on),He=0|He+d(Ue,fn),Ke=0|Ke+d(de,Xt),ye=0|ye+d(de,an),ye=0|ye+d(_e,Xt),He=0|He+d(_e,an),Ke=0|Ke+d(ce,en),ye=0|ye+d(ce,cn),ye=0|ye+d(G,en),He=0|He+d(G,cn),Ke=0|Ke+d(Ze,Ht),ye=0|ye+d(Ze,hn),ye=0|ye+d(ft,Ht),He=0|He+d(ft,hn),Ke=0|Ke+d(ct,Vt),ye=0|ye+d(ct,nn),ye=0|ye+d(Me,Vt),He=0|He+d(Me,nn),Ke=0|Ke+d(qe,pn),ye=0|ye+d(qe,gn),ye=0|ye+d(nt,pn),He=0|He+d(nt,gn);var yr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(yr>>>26),yr&=67108863,Ke=d(wt,qt),ye=d(wt,tn),ye=0|ye+d(Lt,qt),He=d(Lt,tn),Ke=0|Ke+d(mt,on),ye=0|ye+d(mt,fn),ye=0|ye+d(et,on),He=0|He+d(et,fn),Ke=0|Ke+d(ze,Xt),ye=0|ye+d(ze,an),ye=0|ye+d(Ue,Xt),He=0|He+d(Ue,an),Ke=0|Ke+d(de,en),ye=0|ye+d(de,cn),ye=0|ye+d(_e,en),He=0|He+d(_e,cn),Ke=0|Ke+d(ce,Ht),ye=0|ye+d(ce,hn),ye=0|ye+d(G,Ht),He=0|He+d(G,hn),Ke=0|Ke+d(Ze,Vt),ye=0|ye+d(Ze,nn),ye=0|ye+d(ft,Vt),He=0|He+d(ft,nn),Ke=0|Ke+d(ct,pn),ye=0|ye+d(ct,gn),ye=0|ye+d(Me,pn),He=0|He+d(Me,gn);var dr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(dr>>>26),dr&=67108863,Ke=d(wt,on),ye=d(wt,fn),ye=0|ye+d(Lt,on),He=d(Lt,fn),Ke=0|Ke+d(mt,Xt),ye=0|ye+d(mt,an),ye=0|ye+d(et,Xt),He=0|He+d(et,an),Ke=0|Ke+d(ze,en),ye=0|ye+d(ze,cn),ye=0|ye+d(Ue,en),He=0|He+d(Ue,cn),Ke=0|Ke+d(de,Ht),ye=0|ye+d(de,hn),ye=0|ye+d(_e,Ht),He=0|He+d(_e,hn),Ke=0|Ke+d(ce,Vt),ye=0|ye+d(ce,nn),ye=0|ye+d(G,Vt),He=0|He+d(G,nn),Ke=0|Ke+d(Ze,pn),ye=0|ye+d(Ze,gn),ye=0|ye+d(ft,pn),He=0|He+d(ft,gn);var fr=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(fr>>>26),fr&=67108863,Ke=d(wt,Xt),ye=d(wt,an),ye=0|ye+d(Lt,Xt),He=d(Lt,an),Ke=0|Ke+d(mt,en),ye=0|ye+d(mt,cn),ye=0|ye+d(et,en),He=0|He+d(et,cn),Ke=0|Ke+d(ze,Ht),ye=0|ye+d(ze,hn),ye=0|ye+d(Ue,Ht),He=0|He+d(Ue,hn),Ke=0|Ke+d(de,Vt),ye=0|ye+d(de,nn),ye=0|ye+d(_e,Vt),He=0|He+d(_e,nn),Ke=0|Ke+d(ce,pn),ye=0|ye+d(ce,gn),ye=0|ye+d(G,pn),He=0|He+d(G,gn);var Qn=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Qn>>>26),Qn&=67108863,Ke=d(wt,en),ye=d(wt,cn),ye=0|ye+d(Lt,en),He=d(Lt,cn),Ke=0|Ke+d(mt,Ht),ye=0|ye+d(mt,hn),ye=0|ye+d(et,Ht),He=0|He+d(et,hn),Ke=0|Ke+d(ze,Vt),ye=0|ye+d(ze,nn),ye=0|ye+d(Ue,Vt),He=0|He+d(Ue,nn),Ke=0|Ke+d(de,pn),ye=0|ye+d(de,gn),ye=0|ye+d(_e,pn),He=0|He+d(_e,gn);var Ut=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Ut>>>26),Ut&=67108863,Ke=d(wt,Ht),ye=d(wt,hn),ye=0|ye+d(Lt,Ht),He=d(Lt,hn),Ke=0|Ke+d(mt,Vt),ye=0|ye+d(mt,nn),ye=0|ye+d(et,Vt),He=0|He+d(et,nn),Ke=0|Ke+d(ze,pn),ye=0|ye+d(ze,gn),ye=0|ye+d(Ue,pn),He=0|He+d(Ue,gn);var Te=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(Te>>>26),Te&=67108863,Ke=d(wt,Vt),ye=d(wt,nn),ye=0|ye+d(Lt,Vt),He=d(Lt,nn),Ke=0|Ke+d(mt,pn),ye=0|ye+d(mt,gn),ye=0|ye+d(et,pn),He=0|He+d(et,gn);var It=0|(0|oe+Ke)+((8191&ye)<<13);oe=0|(0|He+(ye>>>13))+(It>>>26),It&=67108863,Ke=d(wt,pn),ye=d(wt,gn),ye=0|ye+d(Lt,pn),He=d(Lt,gn);var un=0|(0|oe+Ke)+((8191&ye)<<13);return oe=0|(0|He+(ye>>>13))+(un>>>26),un&=67108863,Z[0]=Ye,Z[1]=Se,Z[2]=Je,Z[3]=lr,Z[4]=mr,Z[5]=Pr,Z[6]=$r,Z[7]=Fr,Z[8]=vr,Z[9]=br,Z[10]=Zn,Z[11]=yr,Z[12]=dr,Z[13]=fr,Z[14]=Qn,Z[15]=Ut,Z[16]=Te,Z[17]=It,Z[18]=un,oe!==0&&(Z[19]=oe,z.length++),z};d||(fe=s),e.prototype.mulTo=function(B,K){var z=this.length+B.length,E;return E=this.length===10&&B.length===10?fe(this,B,K):63>z?s(this,B,K):1024>z?t(this,B,K):r(this,B,K),E},a.prototype.makeRBT=function(B){for(var K=Array(B),z=e.prototype._countBits(B)-1,E=0;E<B;E++)K[E]=this.revBin(E,z,B);return K},a.prototype.revBin=function(B,K,z){if(B===0||B===z-1)return B;for(var E=0,j=0;j<K;j++)E|=(1&B)<<K-j-1,B>>=1;return E},a.prototype.permute=function(B,K,z,E,j,Z){for(var oe=0;oe<Z;oe++)E[oe]=K[B[oe]],j[oe]=z[B[oe]]},a.prototype.transform=function(B,K,z,E,j,Z){this.permute(Z,B,K,z,E,j);for(var oe=1;oe<j;oe<<=1)for(var q=oe<<1,le=_(2*x/q),ge=T(2*x/q),Re=0;Re<j;Re+=q)for(var ke=le,De=ge,$e=0;$e<oe;$e++){var qe=z[Re+$e],nt=E[Re+$e],bt=z[Re+$e+oe],ct=E[Re+$e+oe],Me=ke*bt-De*ct;ct=ke*ct+De*bt,bt=Me,z[Re+$e]=qe+bt,E[Re+$e]=nt+ct,z[Re+$e+oe]=qe-bt,E[Re+$e+oe]=nt-ct,$e!==q&&(Me=le*ke-ge*De,De=le*De+ge*ke,ke=Me)}},a.prototype.guessLen13b=function(B,K){var z=1|F(K,B),E=1&z,j=0;for(z=0|z/2;z;z>>>=1)j++;return 1<<j+1+E},a.prototype.conjugate=function(B,K,z){if(!(1>=z))for(var E=0,j;E<z/2;E++)j=B[E],B[E]=B[z-E-1],B[z-E-1]=j,j=K[E],K[E]=-K[z-E-1],K[z-E-1]=-j},a.prototype.normalize13b=function(B,K){for(var z=0,E=0,j;E<K/2;E++)j=8192*D(B[2*E+1]/K)+D(B[2*E]/K)+z,B[E]=67108863&j,z=67108864>j?0:0|j/67108864;return B},a.prototype.convert13b=function(B,K,z,E){for(var j=0,Z=0;Z<K;Z++)j+=0|B[Z],z[2*Z]=8191&j,j>>>=13,z[2*Z+1]=8191&j,j>>>=13;for(Z=2*K;Z<E;++Z)z[Z]=0;v(j===0),v((-8192&j)==0)},a.prototype.stub=function(B){for(var K=Array(B),z=0;z<B;z++)K[z]=0;return K},a.prototype.mulp=function(B,K,z){var E=2*this.guessLen13b(B.length,K.length),j=this.makeRBT(E),Z=this.stub(E),oe=Array(E),q=Array(E),le=Array(E),ge=Array(E),Re=Array(E),ke=Array(E),De=z.words;De.length=E,this.convert13b(B.words,B.length,oe,E),this.convert13b(K.words,K.length,ge,E),this.transform(oe,Z,q,le,E,j),this.transform(ge,Z,Re,ke,E,j);for(var $e=0,qe;$e<E;$e++)qe=q[$e]*Re[$e]-le[$e]*ke[$e],le[$e]=q[$e]*ke[$e]+le[$e]*Re[$e],q[$e]=qe;return this.conjugate(q,le,E),this.transform(q,le,De,Z,E,j),this.conjugate(De,Z,E),this.normalize13b(De,E),z.negative=B.negative^K.negative,z.length=B.length+K.length,z.strip()},e.prototype.mul=function(B){var K=new e(null);return K.words=Array(this.length+B.length),this.mulTo(B,K)},e.prototype.mulf=function(B){var K=new e(null);return K.words=Array(this.length+B.length),r(this,B,K)},e.prototype.imul=function(B){return this.clone().mulTo(B,this)},e.prototype.imuln=function(B){v(typeof B=="number"),v(67108864>B);for(var K=0,z=0;z<this.length;z++){var E=(0|this.words[z])*B,j=(67108863&E)+(67108863&K);K>>=26,K+=0|E/67108864,K+=j>>>26,this.words[z]=67108863&j}return K!==0&&(this.words[z]=K,this.length++),this},e.prototype.muln=function(B){return this.clone().imuln(B)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(B){var K=u(B);if(K.length===0)return new e(1);for(var z=this,E=0;E<K.length&&K[E]===0;E++,z=z.sqr());if(++E<K.length)for(var j=z.sqr();E<K.length;E++,j=j.sqr())K[E]!==0&&(z=z.mul(j));return z},e.prototype.iushln=function(B){v(typeof B=="number"&&0<=B);var K=B%26,z=(B-K)/26,E=67108863>>>26-K<<26-K,j;if(K!=0){var Z=0;for(j=0;j<this.length;j++){var oe=this.words[j]&E,q=(0|this.words[j])-oe<<K;this.words[j]=q|Z,Z=oe>>>26-K}Z&&(this.words[j]=Z,this.length++)}if(z!==0){for(j=this.length-1;0<=j;j--)this.words[j+z]=this.words[j];for(j=0;j<z;j++)this.words[j]=0;this.length+=z}return this.strip()},e.prototype.ishln=function(B){return v(this.negative===0),this.iushln(B)},e.prototype.iushrn=function(B,K,z){v(typeof B=="number"&&0<=B);var E;E=K?(K-K%26)/26:0;var j=B%26,Z=J((B-j)/26,this.length),oe=67108863^67108863>>>j<<j,q=z;if(E-=Z,E=F(0,E),q){for(var le=0;le<Z;le++)q.words[le]=this.words[le];q.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,le=0;le<this.length;le++)this.words[le]=this.words[le+Z];else this.words[0]=0,this.length=1;var ge=0;for(le=this.length-1;0<=le&&(ge!==0||le>=E);le--){var Re=0|this.words[le];this.words[le]=ge<<26-j|Re>>>j,ge=Re&oe}return q&&ge!==0&&(q.words[q.length++]=ge),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(B,K,z){return v(this.negative===0),this.iushrn(B,K,z)},e.prototype.shln=function(B){return this.clone().ishln(B)},e.prototype.ushln=function(B){return this.clone().iushln(B)},e.prototype.shrn=function(B){return this.clone().ishrn(B)},e.prototype.ushrn=function(B){return this.clone().iushrn(B)},e.prototype.testn=function(B){v(typeof B=="number"&&0<=B);var K=B%26,z=(B-K)/26,E=1<<K;if(this.length<=z)return!1;var j=this.words[z];return!!(j&E)},e.prototype.imaskn=function(B){v(typeof B=="number"&&0<=B);var K=B%26,z=(B-K)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=z)return this;if(K!=0&&z++,this.length=J(z,this.length),K!=0){var E=67108863^67108863>>>K<<K;this.words[this.length-1]&=E}return this.strip()},e.prototype.maskn=function(B){return this.clone().imaskn(B)},e.prototype.iaddn=function(B){return v(typeof B=="number"),v(67108864>B),0>B?this.isubn(-B):this.negative===0?this._iaddn(B):this.length===1&&(0|this.words[0])<B?(this.words[0]=B-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this)},e.prototype._iaddn=function(B){this.words[0]+=B;for(var K=0;K<this.length&&67108864<=this.words[K];K++)this.words[K]-=67108864,K==this.length-1?this.words[K+1]=1:this.words[K+1]++;return this.length=F(this.length,K+1),this},e.prototype.isubn=function(B){if(v(typeof B=="number"),v(67108864>B),0>B)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var K=0;K<this.length&&0>this.words[K];K++)this.words[K]+=67108864,this.words[K+1]-=1;return this.strip()},e.prototype.addn=function(B){return this.clone().iaddn(B)},e.prototype.subn=function(B){return this.clone().isubn(B)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(B,K,z){var E=B.length+z,j;this._expand(E);var Z=0,oe;for(j=0;j<B.length;j++){oe=(0|this.words[j+z])+Z;var q=(0|B.words[j])*K;oe-=67108863&q,Z=(oe>>26)-(0|q/67108864),this.words[j+z]=67108863&oe}for(;j<this.length-z;j++)oe=(0|this.words[j+z])+Z,Z=oe>>26,this.words[j+z]=67108863&oe;if(Z===0)return this.strip();for(v(Z===-1),Z=0,j=0;j<this.length;j++)oe=-(0|this.words[j])+Z,Z=oe>>26,this.words[j]=67108863&oe;return this.negative=1,this.strip()},e.prototype._wordDiv=function(B,K){var z=this.length-B.length,E=this.clone(),j=B,Z=0|j.words[j.length-1],oe=this._countBits(Z);z=26-oe,z!=0&&(j=j.ushln(z),E.iushln(z),Z=0|j.words[j.length-1]);var q=E.length-j.length,le;if(K!=="mod"){le=new e(null),le.length=q+1,le.words=Array(le.length);for(var ge=0;ge<le.length;ge++)le.words[ge]=0}var Re=E.clone()._ishlnsubmul(j,1,q);Re.negative===0&&(E=Re,le&&(le.words[q]=1));for(var ke=q-1,De;0<=ke;ke--){for(De=67108864*(0|E.words[j.length+ke])+(0|E.words[j.length+ke-1]),De=J(0|De/Z,67108863),E._ishlnsubmul(j,De,ke);E.negative!==0;)De--,E.negative=0,E._ishlnsubmul(j,1,ke),E.isZero()||(E.negative^=1);le&&(le.words[ke]=De)}return le&&le.strip(),E.strip(),K!=="div"&&z!==0&&E.iushrn(z),{div:le||null,mod:E}},e.prototype.divmod=function(B,K,z){if(v(!B.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var E,j,Z;return this.negative!==0&&B.negative===0?(Z=this.neg().divmod(B,K),K!=="mod"&&(E=Z.div.neg()),K!=="div"&&(j=Z.mod.neg(),z&&j.negative!==0&&j.iadd(B)),{div:E,mod:j}):this.negative===0&&B.negative!==0?(Z=this.divmod(B.neg(),K),K!=="mod"&&(E=Z.div.neg()),{div:E,mod:Z.mod}):(this.negative&B.negative)==0?B.length>this.length||0>this.cmp(B)?{div:new e(0),mod:this}:B.length===1?K==="div"?{div:this.divn(B.words[0]),mod:null}:K==="mod"?{div:null,mod:new e(this.modn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new e(this.modn(B.words[0]))}:this._wordDiv(B,K):(Z=this.neg().divmod(B.neg(),K),K!=="div"&&(j=Z.mod.neg(),z&&j.negative!==0&&j.isub(B)),{div:Z.div,mod:j})},e.prototype.div=function(B){return this.divmod(B,"div",!1).div},e.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},e.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},e.prototype.divRound=function(B){var K=this.divmod(B);if(K.mod.isZero())return K.div;var z=K.div.negative===0?K.mod:K.mod.isub(B),E=B.ushrn(1),j=B.andln(1),Z=z.cmp(E);return 0>Z||j===1&&Z===0?K.div:K.div.negative===0?K.div.iaddn(1):K.div.isubn(1)},e.prototype.modn=function(B){v(67108863>=B);for(var K=67108864%B,z=0,E=this.length-1;0<=E;E--)z=(K*z+(0|this.words[E]))%B;return z},e.prototype.idivn=function(B){v(67108863>=B);for(var K=0,z=this.length-1,E;0<=z;z--)E=(0|this.words[z])+67108864*K,this.words[z]=0|E/B,K=E%B;return this.strip()},e.prototype.divn=function(B){return this.clone().idivn(B)},e.prototype.egcd=function(B){v(B.negative===0),v(!B.isZero());var K=this,z=B.clone();K=K.negative===0?K.clone():K.umod(B);for(var E=new e(1),j=new e(0),Z=new e(0),oe=new e(1),q=0;K.isEven()&&z.isEven();)K.iushrn(1),z.iushrn(1),++q;for(var le=z.clone(),ge=K.clone();!K.isZero();){for(var Re=0,ke=1;(K.words[0]&ke)==0&&26>Re;++Re,ke<<=1);if(0<Re)for(K.iushrn(Re);0<Re--;)(E.isOdd()||j.isOdd())&&(E.iadd(le),j.isub(ge)),E.iushrn(1),j.iushrn(1);for(var De=0,$e=1;(z.words[0]&$e)==0&&26>De;++De,$e<<=1);if(0<De)for(z.iushrn(De);0<De--;)(Z.isOdd()||oe.isOdd())&&(Z.iadd(le),oe.isub(ge)),Z.iushrn(1),oe.iushrn(1);0<=K.cmp(z)?(K.isub(z),E.isub(Z),j.isub(oe)):(z.isub(K),Z.isub(E),oe.isub(j))}return{a:Z,b:oe,gcd:z.iushln(q)}},e.prototype._invmp=function(B){v(B.negative===0),v(!B.isZero());var K=this,z=B.clone();K=K.negative===0?K.clone():K.umod(B);for(var E=new e(1),j=new e(0),Z=z.clone();0<K.cmpn(1)&&0<z.cmpn(1);){for(var oe=0,q=1;(K.words[0]&q)==0&&26>oe;++oe,q<<=1);if(0<oe)for(K.iushrn(oe);0<oe--;)E.isOdd()&&E.iadd(Z),E.iushrn(1);for(var le=0,ge=1;(z.words[0]&ge)==0&&26>le;++le,ge<<=1);if(0<le)for(z.iushrn(le);0<le--;)j.isOdd()&&j.iadd(Z),j.iushrn(1);0<=K.cmp(z)?(K.isub(z),E.isub(j)):(z.isub(K),j.isub(E))}var Re;return Re=K.cmpn(1)===0?E:j,0>Re.cmpn(0)&&Re.iadd(B),Re},e.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var K=this.clone(),z=B.clone();K.negative=0,z.negative=0;for(var E=0;K.isEven()&&z.isEven();E++)K.iushrn(1),z.iushrn(1);do{for(;K.isEven();)K.iushrn(1);for(;z.isEven();)z.iushrn(1);var j=K.cmp(z);if(0>j){var Z=K;K=z,z=Z}else if(j===0||z.cmpn(1)===0)break;K.isub(z)}while(!0);return z.iushln(E)},e.prototype.invm=function(B){return this.egcd(B).a.umod(B)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(B){return this.words[0]&B},e.prototype.bincn=function(B){v(typeof B=="number");var K=B%26,z=(B-K)/26,E=1<<K;if(this.length<=z)return this._expand(z+1),this.words[z]|=E,this;for(var j=E,Z=z,oe;j!==0&&Z<this.length;Z++)oe=0|this.words[Z],oe+=j,j=oe>>>26,oe&=67108863,this.words[Z]=oe;return j!==0&&(this.words[Z]=j,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(B){var K=0>B;if(this.negative!==0&&!K)return-1;if(this.negative===0&&K)return 1;this.strip();var z;if(1<this.length)z=1;else{K&&(B=-B),v(67108863>=B,"Number is too big");var E=0|this.words[0];z=E===B?0:E<B?-1:1}return this.negative===0?z:0|-z},e.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var K=this.ucmp(B);return this.negative===0?K:0|-K},e.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var K=0,z=this.length-1;0<=z;z--){var E=0|this.words[z],j=0|B.words[z];if(E!=j){E<j?K=-1:E>j&&(K=1);break}}return K},e.prototype.gtn=function(B){return this.cmpn(B)===1},e.prototype.gt=function(B){return this.cmp(B)===1},e.prototype.gten=function(B){return 0<=this.cmpn(B)},e.prototype.gte=function(B){return 0<=this.cmp(B)},e.prototype.ltn=function(B){return this.cmpn(B)===-1},e.prototype.lt=function(B){return this.cmp(B)===-1},e.prototype.lten=function(B){return 0>=this.cmpn(B)},e.prototype.lte=function(B){return 0>=this.cmp(B)},e.prototype.eqn=function(B){return this.cmpn(B)===0},e.prototype.eq=function(B){return this.cmp(B)===0},e.red=function(B){return new W(B)},e.prototype.toRed=function(B){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},e.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(B){return this.red=B,this},e.prototype.forceRed=function(B){return v(!this.red,"Already a number in reduction context"),this._forceRed(B)},e.prototype.redAdd=function(B){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},e.prototype.redIAdd=function(B){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},e.prototype.redSub=function(B){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},e.prototype.redISub=function(B){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},e.prototype.redShl=function(B){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},e.prototype.redMul=function(B){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},e.prototype.redIMul=function(B){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},e.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(B){return v(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var xe={k256:null,p224:null,p192:null,p25519:null};l.prototype._tmp=function(){var B=new e(null);return B.words=Array(N(this.n/13)),B},l.prototype.ireduce=function(B){var K=B,z;do this.split(K,this.tmp),K=this.imulK(K),K=K.iadd(this.tmp),z=K.bitLength();while(z>this.n);var E=z<this.n?-1:K.ucmp(this.p);return E===0?(K.words[0]=0,K.length=1):0<E?K.isub(this.p):K.strip===void 0?K._strip():K.strip(),K},l.prototype.split=function(B,K){B.iushrn(this.n,0,K)},l.prototype.imulK=function(B){return B.imul(this.k)},h(f,l),f.prototype.split=function(B,K){for(var z=4194303,E=J(B.length,9),j=0;j<E;j++)K.words[j]=B.words[j];if(K.length=E,9>=B.length)return B.words[0]=0,void(B.length=1);var Z=B.words[9];for(K.words[K.length++]=Z&z,j=10;j<B.length;j++){var oe=0|B.words[j];B.words[j-10]=(oe&z)<<4|Z>>>22,Z=oe}Z>>>=22,B.words[j-10]=Z,B.length-=Z===0&&10<B.length?10:9},f.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var K=0,z=0,E;z<B.length;z++)E=0|B.words[z],K+=977*E,B.words[z]=67108863&K,K=64*E+(0|K/67108864);return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B},h(b,l),h(C,l),h($,l),$.prototype.imulK=function(B){for(var K=0,z=0;z<B.length;z++){var E=19*(0|B.words[z])+K,j=67108863&E;E>>>=26,B.words[z]=j,K=E}return K!==0&&(B.words[B.length++]=K),B},e._prime=function(B){if(xe[B])return xe[B];var K;if(B==="k256")K=new f;else if(B==="p224")K=new b;else if(B==="p192")K=new C;else if(B==="p25519")K=new $;else throw new Error("Unknown prime "+B);return xe[B]=K,K},W.prototype._verify1=function(B){v(B.negative===0,"red works only with positives"),v(B.red,"red works only with red numbers")},W.prototype._verify2=function(B,K){v((B.negative|K.negative)==0,"red works only with positives"),v(B.red&&B.red===K.red,"red works only with red numbers")},W.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):B.umod(this.m)._forceRed(this)},W.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},W.prototype.add=function(B,K){this._verify2(B,K);var z=B.add(K);return 0<=z.cmp(this.m)&&z.isub(this.m),z._forceRed(this)},W.prototype.iadd=function(B,K){this._verify2(B,K);var z=B.iadd(K);return 0<=z.cmp(this.m)&&z.isub(this.m),z},W.prototype.sub=function(B,K){this._verify2(B,K);var z=B.sub(K);return 0>z.cmpn(0)&&z.iadd(this.m),z._forceRed(this)},W.prototype.isub=function(B,K){this._verify2(B,K);var z=B.isub(K);return 0>z.cmpn(0)&&z.iadd(this.m),z},W.prototype.shl=function(B,K){return this._verify1(B),this.imod(B.ushln(K))},W.prototype.imul=function(B,K){return this._verify2(B,K),this.imod(B.imul(K))},W.prototype.mul=function(B,K){return this._verify2(B,K),this.imod(B.mul(K))},W.prototype.isqr=function(B){return this.imul(B,B.clone())},W.prototype.sqr=function(B){return this.mul(B,B)},W.prototype.sqrt=function(B){if(B.isZero())return B.clone();var K=this.m.andln(3);if(v(K%2==1),K===3){var z=this.m.add(new e(1)).iushrn(2);return this.pow(B,z)}for(var E=this.m.subn(1),j=0;!E.isZero()&&E.andln(1)===0;)j++,E.iushrn(1);v(!E.isZero());var Z=new e(1).toRed(this),oe=Z.redNeg(),q=this.m.subn(1).iushrn(1),le=this.m.bitLength();for(le=new e(2*le*le).toRed(this);this.pow(le,q).cmp(oe)!==0;)le.redIAdd(oe);for(var ge=this.pow(le,E),Re=this.pow(B,E.addn(1).iushrn(1)),ke=this.pow(B,E),De=j;ke.cmp(Z)!==0;){for(var $e=ke,qe=0;$e.cmp(Z)!==0;qe++)$e=$e.redSqr();v(qe<De);var nt=this.pow(ge,new e(1).iushln(De-qe-1));Re=Re.redMul(nt),ge=nt.redSqr(),ke=ke.redMul(ge),De=qe}return Re},W.prototype.invm=function(B){var K=B._invmp(this.m);return K.negative===0?this.imod(K):(K.negative=0,this.imod(K).redNeg())},W.prototype.pow=function(B,K){if(K.isZero())return new e(1).toRed(this);if(K.cmpn(1)===0)return B.clone();var z=4,E=Array(16);E[0]=new e(1).toRed(this),E[1]=B;for(var j=2;j<E.length;j++)E[j]=this.mul(E[j-1],B);var Z=E[0],oe=0,q=0,le=K.bitLength()%26;for(le===0&&(le=26),j=K.length-1;0<=j;j--){for(var ge=K.words[j],Re=le-1,ke;0<=Re;Re--){if(ke=1&ge>>Re,Z!==E[0]&&(Z=this.sqr(Z)),ke===0&&oe===0){q=0;continue}oe<<=1,oe|=ke,q++,(q===4||j===0&&Re===0)&&(Z=this.mul(Z,E[oe]),q=0,oe=0)}le=26}return Z},W.prototype.convertTo=function(B){var K=B.umod(this.m);return K===B?K.clone():K},W.prototype.convertFrom=function(B){var K=B.clone();return K.red=null,K},e.mont=function(B){return new R(B)},h(R,W),R.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},R.prototype.convertFrom=function(B){var K=this.imod(B.mul(this.rinv));return K.red=null,K},R.prototype.imul=function(B,K){if(B.isZero()||K.isZero())return B.words[0]=0,B.length=1,B;var z=B.imul(K),E=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=z.isub(E).iushrn(this.shift),Z=j;return 0<=j.cmp(this.m)?Z=j.isub(this.m):0>j.cmpn(0)&&(Z=j.iadd(this.m)),Z._forceRed(this)},R.prototype.mul=function(B,K){if(B.isZero()||K.isZero())return new e(0)._forceRed(this);var z=B.mul(K),E=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=z.isub(E).iushrn(this.shift),Z=j;return 0<=j.cmp(this.m)?Z=j.isub(this.m):0>j.cmpn(0)&&(Z=j.iadd(this.m)),Z._forceRed(this)},R.prototype.invm=function(B){var K=this.imod(B._invmp(this.m).mul(this.r2));return K._forceRed(this)}})(typeof U=="undefined"||U,this)},{buffer:42}],23:[function(m,U,A){"use strict";function p(l){var f=l.length;if(0<f%4)throw new Error("Invalid string. Length must be a multiple of 4");var b=l.indexOf("=");b===-1&&(b=f);var C=b===f?0:4-b%4;return[b,C]}function w(l){var f=p(l),b=f[0],C=f[1];return 3*(b+C)/4-C}function v(l,f,b){return 3*(f+b)/4-b}function h(l){var f=p(l),b=f[0],C=f[1],$=new s(v(l,b,C)),W=0,R=0<C?b-4:b,L,Y;for(Y=0;Y<R;Y+=4)L=u[l.charCodeAt(Y)]<<18|u[l.charCodeAt(Y+1)]<<12|u[l.charCodeAt(Y+2)]<<6|u[l.charCodeAt(Y+3)],$[W++]=255&L>>16,$[W++]=255&L>>8,$[W++]=255&L;return C===2&&(L=u[l.charCodeAt(Y)]<<2|u[l.charCodeAt(Y+1)]>>4,$[W++]=255&L),C===1&&(L=u[l.charCodeAt(Y)]<<10|u[l.charCodeAt(Y+1)]<<4|u[l.charCodeAt(Y+2)]>>2,$[W++]=255&L>>8,$[W++]=255&L),$}function e(l){return c[63&l>>18]+c[63&l>>12]+c[63&l>>6]+c[63&l]}function o(l,f,b){for(var C=[],$=f,W;$<b;$+=3)W=(16711680&l[$]<<16)+(65280&l[$+1]<<8)+(255&l[$+2]),C.push(e(W));return C.join("")}function i(l){for(var f=l.length,b=f%3,C=[],$=16383,W=0,R=f-b,L;W<R;W+=$)C.push(o(l,W,W+$>R?R:W+$));return b===1?(L=l[f-1],C.push(c[L>>2]+c[63&L<<4]+"==")):b===2&&(L=(l[f-2]<<8)+l[f-1],C.push(c[L>>10]+c[63&L>>4]+c[63&L<<2]+"=")),C.join("")}A.byteLength=w,A.toByteArray=h,A.fromByteArray=i;for(var c=[],u=[],s=typeof Uint8Array=="undefined"?Array:Uint8Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=t.length;r<a;++r)c[r]=t[r],u[t.charCodeAt(r)]=r;u[45]=62,u[95]=63},{}],24:[function(m,U,A){(function(p){(function(){function w(u,s,t){let r=0,a=1;for(let l=s;l<t;l++){let f=u[l];if(58>f&&48<=f){r=10*r+(f-48);continue}if(l!==s||f!==43){if(l===s&&f===45){a=-1;continue}if(f===46)break;throw new Error("not a number: buffer["+l+"] = "+f)}}return r*a}function v(u,s,t,r){return u==null||u.length===0?null:(typeof s!="number"&&r==null&&(r=s,s=void 0),typeof t!="number"&&r==null&&(r=t,t=void 0),v.position=0,v.encoding=r||null,v.data=p.isBuffer(u)?u.slice(s,t):p.from(u),v.bytes=v.data.length,v.next())}let h=105,e=58,o=100,i=108,c=101;v.bytes=0,v.position=0,v.data=null,v.encoding=null,v.next=function(){switch(v.data[v.position]){case o:return v.dictionary();case i:return v.list();case h:return v.integer();default:return v.buffer()}},v.find=function(u){let s=v.position,t=v.data.length,r=v.data;for(;s<t;){if(r[s]===u)return s;s++}throw new Error('Invalid data: Missing delimiter "'+g(u)+'" [0x'+u.toString(16)+"]")},v.dictionary=function(){v.position++;let u={};for(;v.data[v.position]!==c;)u[v.buffer()]=v.next();return v.position++,u},v.list=function(){v.position++;let u=[];for(;v.data[v.position]!==c;)u.push(v.next());return v.position++,u},v.integer=function(){let u=v.find(c),s=w(v.data,v.position+1,u);return v.position+=u+1-v.position,s},v.buffer=function(){let u=v.find(e),s=w(v.data,v.position,u),t=++u+s;return v.position=t,v.encoding?v.data.toString(v.encoding,u,t):v.data.slice(u,t)},U.exports=v}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],25:[function(m,U,A){(function(p){(function(){function w(i,c,u){let s=[],t=null;return w._encode(s,i),t=p.concat(s),w.bytes=t.length,p.isBuffer(c)?(t.copy(c,u),c):t}let{getType:v}=m("./util.js");w.bytes=-1,w._floatConversionDetected=!1,w._encode=function(i,c){if(c!=null)switch(v(c)){case"buffer":w.buffer(i,c);break;case"object":w.dict(i,c);break;case"map":w.dictMap(i,c);break;case"array":w.list(i,c);break;case"set":w.listSet(i,c);break;case"string":w.string(i,c);break;case"number":w.number(i,c);break;case"boolean":w.number(i,c);break;case"arraybufferview":w.buffer(i,p.from(c.buffer,c.byteOffset,c.byteLength));break;case"arraybuffer":w.buffer(i,p.from(c))}};let h=p.from("e"),e=p.from("d"),o=p.from("l");w.buffer=function(i,c){i.push(p.from(c.length+":"),c)},w.string=function(i,c){i.push(p.from(p.byteLength(c)+":"+c))},w.number=function(i,c){let s=c/2147483648<<0,t=c%2147483648<<0,r=s*2147483648+t;i.push(p.from("i"+r+"e")),r===c||w._floatConversionDetected||(w._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+c+'":','Bencoding only defines support for integers, value was converted to "'+r+'"'),console.trace())},w.dict=function(i,c){i.push(e);let u=0,s,t=Object.keys(c).sort(),r=t.length;for(;u<r;u++)s=t[u],c[s]!=null&&(w.string(i,s),w._encode(i,c[s]));i.push(h)},w.dictMap=function(i,c){i.push(e);let u=Array.from(c.keys()).sort();for(let s of u)c.get(s)!=null&&(p.isBuffer(s)?w._encode(i,s):w.string(i,s+""),w._encode(i,c.get(s)));i.push(h)},w.list=function(i,c){let u=0,s=c.length;for(i.push(o);u<s;u++)c[u]!=null&&w._encode(i,c[u]);i.push(h)},w.listSet=function(i,c){i.push(o);for(let u of c)u!=null&&w._encode(i,u);i.push(h)},U.exports=w}).call(this)}).call(this,m("buffer").Buffer)},{"./util.js":28,buffer:76}],26:[function(m,U,A){(function(p){(function(){function w(s){let t=2;for(let r of s)t+=i(r);return t}function v(s){let t=2;for(let[r,a]of s){let l=p.byteLength(r);t+=c(l)+1+l,t+=i(a)}return t}function h(s){let t=2,r=Object.keys(s);for(let a=0;a<r.length;a++){let l=p.byteLength(r[a]);t+=c(l)+1+l,t+=i(s[r[a]])}return t}function e(s){let t=p.byteLength(s);return c(t)+1+t}function o(s){let t=s.byteLength-s.byteOffset;return c(t)+1+t}function i(s){if(s==null)return 0;let r=u(s);switch(r){case"buffer":return c(s.length)+1+s.length;case"arraybufferview":return o(s);case"string":return e(s);case"array":case"set":return w(s);case"number":return 1+c(I(s))+1;case"bigint":return 1+s.toString().length+1;case"object":return h(s);case"map":return v(s);default:throw new TypeError(`Unsupported value of type "${r}"`)}}let{digitCount:c,getType:u}=m("./util.js");U.exports=i}).call(this)}).call(this,m("buffer").Buffer)},{"./util.js":28,buffer:76}],27:[function(m,U,A){let p=U.exports;p.encode=m("./encode.js"),p.decode=m("./decode.js"),p.byteLength=p.encodingLength=m("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(m,U,A){(function(p){(function(){let w=U.exports;w.digitCount=function(h){var e=Math.log10;let o=0>h?1:0;return h=O(+(h||1)),I(e(h))+1+o},w.getType=function(h){return p.isBuffer(h)?"buffer":ArrayBuffer.isView(h)?"arraybufferview":Array.isArray(h)?"array":h instanceof Number?"number":h instanceof Boolean?"boolean":h instanceof Set?"set":h instanceof Map?"map":h instanceof String?"string":h instanceof ArrayBuffer?"arraybuffer":typeof h}}).call(this)}).call(this,{isBuffer:m("../../is-buffer/index.js")})},{"../../is-buffer/index.js":149}],29:[function(m,U,A){function p(v){return v.reduce((h,e,o,i)=>((o===0||e!==i[o-1]+1)&&h.push([]),h[h.length-1].push(e),h),[]).map(h=>1<h.length?`${h[0]}-${h[h.length-1]}`:`${h[0]}`)}function w(v){let h=(e,o=e)=>Array.from({length:o-e+1},(i,c)=>c+e);return v.reduce((e,o,i,c)=>{let u=o.split("-").map(s=>parseInt(s));return e.concat(h(...u))},[])}U.exports=w,U.exports.parse=w,U.exports.compose=p},{}],30:[function(m,U,A){U.exports=function(p,w,v,h,e){var o,i;if(h===void 0)h=0;else if(h|=0,0>h||h>=p.length)throw new RangeError("invalid lower bound");if(e===void 0)e=p.length-1;else if(e|=0,e<h||e>=p.length)throw new RangeError("invalid upper bound");for(;h<=e;)if(o=h+(e-h>>>1),i=+v(p[o],w,o,p),0>i)h=o+1;else if(0<i)e=o-1;else return o;return~h}},{}],31:[function(m,U,A){"use strict";function p(v){var h=v>>3;return v%8!=0&&h++,h}Object.defineProperty(A,"__esModule",{value:!0});var w=(function(){function v(h,e){h===void 0&&(h=0);var o=e==null?void 0:e.grow;this.grow=o&&isFinite(o)&&p(o)||o||0,this.buffer=typeof h=="number"?new Uint8Array(p(h)):h}return v.prototype.get=function(h){var e=h>>3;return e<this.buffer.length&&!!(this.buffer[e]&128>>h%8)},v.prototype.set=function(h,e){e===void 0&&(e=!0);var o=h>>3;if(e){if(this.buffer.length<o+1){var i=F(o+1,J(2*this.buffer.length,this.grow));if(i<=this.grow){var c=new Uint8Array(i);c.set(this.buffer),this.buffer=c}}this.buffer[o]|=128>>h%8}else o<this.buffer.length&&(this.buffer[o]&=~(128>>h%8))},v.prototype.forEach=function(h,e,o){e===void 0&&(e=0),o===void 0&&(o=8*this.buffer.length);for(var i=e,c=i>>3,u=128>>i%8,s=this.buffer[c];i<o;i++)h(!!(s&u),i),u=u==1?(s=this.buffer[++c],128):u>>1},v})();A.default=w},{}],32:[function(m,U,A){(function(p){(function(){function w(oe,q){for(let le=oe.length;le--;)oe[le]^=q[le];return oe}let v=m("unordered-array-remove"),h=m("bencode"),e=m("bitfield").default,o=m("crypto"),i=m("debug")("bittorrent-protocol"),c=m("randombytes"),u=m("simple-sha1"),s=m("speedometer"),t=m("readable-stream"),r=m("rc4"),a=4e5,l=55e3,f=100,b=p.from("BitTorrent protocol"),C=p.from([0,0,0,0]),$=p.from([0,0,0,1,0]),W=p.from([0,0,0,1,1]),R=p.from([0,0,0,1,2]),L=p.from([0,0,0,1,3]),Y=[0,0,0,0,0,0,0,0],ee=[0,0,0,3,9,0,0],ae=p.from([0,0,0,1,14]),fe=p.from([0,0,0,1,15]),xe="ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563",se=2,B=p.from([0,0,0,0,0,0,0,0]),K=p.from([0,0,1,2]),z=p.from([0,0,0,2]);class E{constructor(q,le,ge,Re){this.piece=q,this.offset=le,this.length=ge,this.callback=Re}}class j{constructor(){this.buffer=new Uint8Array}get(q){return!0}set(q){}}class Z extends t.Duplex{constructor(q=null,le=0,ge=!1){super(),this._debugId=c(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=q,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new e(0,{grow:a}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=s(),this.downloadSpeed=s(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=ge,ge?(this._dh=o.createDiffieHellman(xe,"hex",se),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),this.type==="tcpIncoming"&&this._peEnabled?this._determineHandshakeType():this.type==="tcpOutgoing"&&this._peEnabled&&le===0?this._parsePe2():this._parseHandshake(null)}setKeepAlive(q){this._debug("setKeepAlive %s",q),clearInterval(this._keepAliveInterval),q===!1||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},l))}setTimeout(q,le){this._debug("setTimeout ms=%d unref=%s",q,le),this._timeoutMs=q,this._timeoutUnref=!!le,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end(),this}end(...q){return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...q)}use(q){function le(){}let ge=q.prototype.name;if(!ge)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",ge);let Re=this._nextExt,ke=new q(this);typeof ke.onHandshake!="function"&&(ke.onHandshake=le),typeof ke.onExtendedHandshake!="function"&&(ke.onExtendedHandshake=le),typeof ke.onMessage!="function"&&(ke.onMessage=le),this.extendedMapping[Re]=ge,this._ext[ge]=ke,this[ge]=ke,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(C)}sendPe1(){if(this._peEnabled){let q=I(513*Math.random()),le=c(q);this._push(p.concat([p.from(this._myPubKey,"hex"),le]))}}sendPe2(){let q=I(513*Math.random()),le=c(q);this._push(p.concat([p.from(this._myPubKey,"hex"),le]))}sendPe3(q){this.setEncrypt(this._sharedSecret,q);let le=p.from(u.sync(p.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),ge=p.from(u.sync(p.from(this._utfToHex("req2")+q,"hex")),"hex"),Re=p.from(u.sync(p.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex"),ke=w(ge,Re),De=c(2).readUInt16BE(0)%512,$e=c(De),qe=p.alloc(14+De+2);B.copy(qe),K.copy(qe,8),qe.writeInt16BE(De,12),$e.copy(qe,14),qe.writeInt16BE(0,14+De),qe=this._encryptHandshake(qe),this._push(p.concat([le,ke,qe]))}sendPe4(q){this.setEncrypt(this._sharedSecret,q);let le=c(2).readUInt16BE(0)%512,ge=c(le),Re=p.alloc(14+le);B.copy(Re),z.copy(Re,8),Re.writeInt16BE(le,12),ge.copy(Re,14),Re=this._encryptHandshake(Re),this._push(Re),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(q,le,ge){let Re,ke;if(typeof q=="string"?(q=q.toLowerCase(),Re=p.from(q,"hex")):(Re=q,q=Re.toString("hex")),typeof le=="string"?ke=p.from(le,"hex"):(ke=le,le=ke.toString("hex")),this._infoHash=Re,Re.length!==20||ke.length!==20)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",q,le,ge);let De=p.from(Y);this.extensions={extended:!0,dht:!!(ge&&ge.dht),fast:!!(ge&&ge.fast)},De[5]|=16,this.extensions.dht&&(De[7]|=1),this.extensions.fast&&(De[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push(p.concat([b,De,Re,ke])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){let q=Object.assign({},this.extendedHandshake);for(let le in q.m={},this.extendedMapping){let ge=this.extendedMapping[le];q.m[ge]=+le}this.extended(0,h.encode(q)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push($),this.hasFast)for(let q=0;this.peerRequests.length>q;){let le=this.peerRequests[q];this.allowedFastSet.includes(le.piece)?++q:this.reject(le.piece,le.offset,le.length)}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(W))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(R))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(L))}have(q){this._debug("have %d",q),this._message(4,[q],null)}bitfield(q){this._debug("bitfield"),p.isBuffer(q)||(q=q.buffer),this._message(5,[],q)}request(q,le,ge,Re){return Re||(Re=()=>{}),this._finished?Re(new Error("wire is closed")):this.peerChoking&&!(this.hasFast&&this.peerAllowedFastSet.includes(q))?Re(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",q,le,ge),this.requests.push(new E(q,le,ge,Re)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[q,le,ge],null))}piece(q,le,ge){this._debug("piece index=%d offset=%d",q,le),this._message(7,[q,le],ge),this.uploaded+=ge.length,this.uploadSpeed(ge.length),this.emit("upload",ge.length)}cancel(q,le,ge){this._debug("cancel index=%d offset=%d length=%d",q,le,ge),this._callback(this._pull(this.requests,q,le,ge),new Error("request was cancelled"),null),this._message(8,[q,le,ge],null)}port(q){this._debug("port %d",q);let le=p.from(ee);le.writeUInt16BE(q,5),this._push(le)}suggest(q){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",q),this._message(13,[q],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(ae)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(fe)}reject(q,le,ge){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",q,le,ge),this._pull(this.peerRequests,q,le,ge),this._message(16,[q,le,ge],null)}allowedFast(q){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",q),this.allowedFastSet.includes(q)||this.allowedFastSet.push(q),this._message(17,[q],null)}extended(q,le){if(this._debug("extended ext=%s",q),typeof q=="string"&&this.peerExtendedMapping[q]&&(q=this.peerExtendedMapping[q]),typeof q=="number"){let ge=p.from([q]),Re=p.isBuffer(le)?le:h.encode(le);this._message(20,[],p.concat([ge,Re]))}else throw new Error(`Unrecognized extension: ${q}`)}setEncrypt(q,le){let ge,Re,ke,De,$e,qe;switch(this.type){case"tcpIncoming":ge=u.sync(p.from(this._utfToHex("keyB")+q+le,"hex")),Re=u.sync(p.from(this._utfToHex("keyA")+q+le,"hex")),ke=p.from(ge,"hex"),De=[];for(let nt of ke.values())De.push(nt);$e=p.from(Re,"hex"),qe=[];for(let nt of $e.values())qe.push(nt);this._encryptGenerator=new r(De),this._decryptGenerator=new r(qe);break;case"tcpOutgoing":ge=u.sync(p.from(this._utfToHex("keyA")+q+le,"hex")),Re=u.sync(p.from(this._utfToHex("keyB")+q+le,"hex")),ke=p.from(ge,"hex"),De=[];for(let nt of ke.values())De.push(nt);$e=p.from(Re,"hex"),qe=[];for(let nt of $e.values())qe.push(nt);this._encryptGenerator=new r(De),this._decryptGenerator=new r(qe);break;default:return!1}for(let nt=0;1024>nt;nt++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(q,le,ge){let Re=ge?ge.length:0,ke=p.allocUnsafe(5+4*le.length);ke.writeUInt32BE(ke.length+Re-4,0),ke[4]=q;for(let De=0;De<le.length;De++)ke.writeUInt32BE(le[De],5+4*De);this._push(ke),ge&&this._push(ge)}_push(q){if(!this._finished)return this._encryptionMethod===2&&this._cryptoHandshakeDone&&(q=this._encrypt(q)),this.push(q)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(q){this._peerPubKey=q.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(q){this._peerPubKey=q.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(q){let le=u.sync(p.from(this._utfToHex("req3")+this._sharedSecret,"hex")),ge=w(p.from(le,"hex"),q).toString("hex");this.emit("pe3",ge)}_onPe3Encrypted(q,le){if(!q.equals(B))return this._debug("Error: verification constant did not match"),void this.destroy();for(let ge of le.values())ge!==0&&this._peerCryptoProvide.push(ge);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(q){this._encryptionMethod=q.readUInt8(3),K.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(q,le,ge){let Re=q.toString("hex"),ke=le.toString("hex");for(let De in this._debug("got handshake i=%s p=%s exts=%o",Re,ke,ge),this.peerId=ke,this.peerIdBuffer=le,this.peerExtensions=ge,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",Re,ke,ge),this._ext)this._ext[De].onHandshake(Re,ke,ge);ge.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(q){this.peerPieces.get(q)||(this._debug("got have %d",q),this.peerPieces.set(q,!0),this.emit("have",q))}_onBitField(q){this.peerPieces=new e(q),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(q,le,ge){if(this.amChoking&&!(this.hasFast&&this.allowedFastSet.includes(q)))return void(this.hasFast&&this.reject(q,le,ge));this._debug("got request index=%d offset=%d length=%d",q,le,ge);let Re=(De,$e)=>ke===this._pull(this.peerRequests,q,le,ge)?De?(this._debug("error satisfying request index=%d offset=%d length=%d (%s)",q,le,ge,De.message),void(this.hasFast&&this.reject(q,le,ge))):void this.piece(q,le,$e):void 0,ke=new E(q,le,ge,Re);this.peerRequests.push(ke),this.emit("request",q,le,ge,Re)}_onPiece(q,le,ge){this._debug("got piece index=%d offset=%d",q,le),this._callback(this._pull(this.requests,q,le,ge.length),null,ge),this.downloaded+=ge.length,this.downloadSpeed(ge.length),this.emit("download",ge.length),this.emit("piece",q,le,ge)}_onCancel(q,le,ge){this._debug("got cancel index=%d offset=%d length=%d",q,le,ge),this._pull(this.peerRequests,q,le,ge),this.emit("cancel",q,le,ge)}_onPort(q){this._debug("got port %d",q),this.emit("port",q)}_onSuggest(q){return this.hasFast?(this._debug("got suggest %d",q),void this.emit("suggest",q)):(this._debug("Error: got suggest whereas fast extension is disabled"),void this.destroy())}_onHaveAll(){return this.hasFast?(this._debug("got have-all"),this.peerPieces=new j,void this.emit("have-all")):(this._debug("Error: got have-all whereas fast extension is disabled"),void this.destroy())}_onHaveNone(){return this.hasFast?(this._debug("got have-none"),void this.emit("have-none")):(this._debug("Error: got have-none whereas fast extension is disabled"),void this.destroy())}_onReject(q,le,ge){return this.hasFast?(this._debug("got reject index=%d offset=%d length=%d",q,le,ge),this._callback(this._pull(this.requests,q,le,ge),new Error("request was rejected"),null),void this.emit("reject",q,le,ge)):(this._debug("Error: got reject whereas fast extension is disabled"),void this.destroy())}_onAllowedFast(q){return this.hasFast?(this._debug("got allowed-fast %d",q),!this.peerAllowedFastSet.includes(q)&&this.peerAllowedFastSet.push(q),this.peerAllowedFastSet.length>f&&this.peerAllowedFastSet.shift(),void this.emit("allowed-fast",q)):(this._debug("Error: got allowed-fast whereas fast extension is disabled"),void this.destroy())}_onExtended(q,le){if(q===0){let ge;try{ge=h.decode(le)}catch(Re){this._debug("ignoring invalid extended handshake: %s",Re.message||Re)}if(!ge)return;if(this.peerExtendedHandshake=ge,typeof ge.m=="object")for(let Re in ge.m)this.peerExtendedMapping[Re]=+ge.m[Re].toString();for(let Re in this._ext)this.peerExtendedMapping[Re]&&this._ext[Re].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[q]&&(q=this.extendedMapping[q],this._ext[q]&&this._ext[q].onMessage(le)),this._debug("got extended message ext=%s",q),this.emit("extended",q,le)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(q,le,ge){if(this._encryptionMethod===2&&this._cryptoHandshakeDone&&(q=this._decrypt(q)),this._bufferSize+=q.length,this._buffer.push(q),1<this._buffer.length&&(this._buffer=[p.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){let Re=this._buffer[0].indexOf(this._cryptoSyncPattern);if(Re!==-1)this._buffer[0]=this._buffer[0].slice(Re+this._cryptoSyncPattern.length),this._bufferSize-=Re+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+q.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(this._parserSize===0)this._parser(p.from([]));else{let Re=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[Re.slice(this._parserSize)]:[],this._parser(Re.slice(0,this._parserSize))}ge(null)}_callback(q,le,ge){q&&(this._resetTimeout(!this.peerChoking&&!this._finished),q.callback(le,ge))}_resetTimeout(q){if(!q||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);let le=Date.now()+this._timeoutMs;if(this._timeout){if(le-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=le,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(q,le){this._parserSize=q,this._parser=le}_parseUntil(q,le){this._cryptoSyncPattern=q,this._waitMaxBytes=le}_onMessageLength(q){let le=q.readUInt32BE(0);0<le?this._parse(le,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(q){switch(this._parse(4,this._onMessageLength),q[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(q.readUInt32BE(1));case 5:return this._onBitField(q.slice(1));case 6:return this._onRequest(q.readUInt32BE(1),q.readUInt32BE(5),q.readUInt32BE(9));case 7:return this._onPiece(q.readUInt32BE(1),q.readUInt32BE(5),q.slice(9));case 8:return this._onCancel(q.readUInt32BE(1),q.readUInt32BE(5),q.readUInt32BE(9));case 9:return this._onPort(q.readUInt16BE(1));case 13:return this._onSuggest(q.readUInt32BE(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(q.readUInt32BE(1),q.readUInt32BE(5),q.readUInt32BE(9));case 17:return this._onAllowedFast(q.readUInt32BE(1));case 20:return this._onExtended(q.readUInt8(1),q.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",q)}}_determineHandshakeType(){this._parse(1,q=>{let le=q.readUInt8(0);le===19?this._parse(le+48,this._onHandshakeBuffer):this._parsePe1(q)})}_parsePe1(q){this._parse(95,le=>{this._onPe1(p.concat([q,le])),this._parsePe3()})}_parsePe2(){this._parse(96,q=>{for(this._onPe2(q);!this._setGenerators;);this._parsePe4()})}_parsePe3(){let q=p.from(u.sync(p.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(q,512),this._parse(20,le=>{for(this._onPe3(le);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,q=>{let le=this._decryptHandshake(q.slice(0,8)),ge=this._decryptHandshake(q.slice(8,12)),Re=this._decryptHandshake(q.slice(12,14)).readUInt16BE(0);this._parse(Re,ke=>{ke=this._decryptHandshake(ke),this._parse(2,De=>{let $e=this._decryptHandshake(De).readUInt16BE(0);this._parse($e,qe=>{qe=this._decryptHandshake(qe),this._onPe3Encrypted(le,ge,ke,qe);let nt=$e?qe.readUInt8(0):null,bt=$e?qe.slice(1,20):null;nt===19&&bt.toString()==="BitTorrent protocol"?this._onHandshakeBuffer(qe.slice(1)):this._parseHandshake()})})})})}_parsePe4(){let q=this._decryptHandshake(B);this._parseUntil(q,512),this._parse(6,le=>{let ge=this._decryptHandshake(le.slice(0,4)),Re=this._decryptHandshake(le.slice(4,6)).readUInt16BE(0);this._parse(Re,ke=>{this._decryptHandshake(ke),this._onPe4(ge),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,q=>{let le=q.readUInt8(0);return le===19?void this._parse(le+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",le.toString()),void this.end())})}_onHandshakeBuffer(q){let le=q.slice(0,19);return le.toString()==="BitTorrent protocol"?(q=q.slice(19),this._onHandshake(q.slice(8,28),q.slice(28,48),{dht:!!(1&q[7]),fast:!!(4&q[7]),extended:!!(16&q[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",le.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...q){q[0]=`[${this._debugId}] ${q[0]}`,i(...q)}_pull(q,le,ge,Re){for(let ke=0;ke<q.length;ke++){let De=q[ke];if(De.piece===le&&De.offset===ge&&De.length===Re)return v(q,ke),De}return null}_encryptHandshake(q){let le=p.from(q);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),le;for(let ge=0;ge<q.length;ge++){let Re=this._encryptGenerator.randomByte();le[ge]^=Re}return le}_encrypt(q){let le=p.from(q);if(!this._encryptGenerator||this._encryptionMethod!==2)return le;for(let ge=0;ge<q.length;ge++){let Re=this._encryptGenerator.randomByte();le[ge]^=Re}return le}_decryptHandshake(q){let le=p.from(q);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),le;for(let ge=0;ge<q.length;ge++){let Re=this._decryptGenerator.randomByte();le[ge]^=Re}return le}_decrypt(q){let le=p.from(q);if(!this._decryptGenerator||this._encryptionMethod!==2)return le;for(let ge=0;ge<q.length;ge++){let Re=this._decryptGenerator.randomByte();le[ge]^=Re}return le}_utfToHex(q){return p.from(q,"utf8").toString("hex")}}U.exports=Z}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,bitfield:31,buffer:76,crypto:90,debug:91,randombytes:209,rc4:213,"readable-stream":228,"simple-sha1":248,speedometer:255,"unordered-array-remove":273}],33:[function(m,U,A){(function(p,w){(function(){let v=m("debug")("bittorrent-tracker:client"),h=m("events"),e=m("once"),o=m("run-parallel"),i=m("simple-peer"),c=m("queue-microtask"),u=m("./lib/common"),s=m("./lib/client/http-tracker"),t=m("./lib/client/udp-tracker"),r=m("./lib/client/websocket-tracker");class a extends h{constructor(f={}){if(super(),!f.peerId)throw new Error("Option `peerId` is required");if(!f.infoHash)throw new Error("Option `infoHash` is required");if(!f.announce)throw new Error("Option `announce` is required");if(!p.browser&&!f.port)throw new Error("Option `port` is required");this.peerId=typeof f.peerId=="string"?f.peerId:f.peerId.toString("hex"),this._peerIdBuffer=w.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash=typeof f.infoHash=="string"?f.infoHash.toLowerCase():f.infoHash.toString("hex"),this._infoHashBuffer=w.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),v("new client %s",this.infoHash),this.destroyed=!1,this._port=f.port,this._getAnnounceOpts=f.getAnnounceOpts,this._rtcConfig=f.rtcConfig,this._userAgent=f.userAgent,this._proxyOpts=f.proxyOpts,this._wrtc=typeof f.wrtc=="function"?f.wrtc():f.wrtc;let b=typeof f.announce=="string"?[f.announce]:f.announce==null?[]:f.announce;b=b.map(W=>(W=W.toString(),W[W.length-1]==="/"&&(W=W.substring(0,W.length-1)),W)),b=Array.from(new Set(b));let C=this._wrtc!==!1&&(!!this._wrtc||i.WEBRTC_SUPPORT),$=W=>{c(()=>{this.emit("warning",W)})};this._trackers=b.map(W=>{let R;try{R=u.parseUrl(W)}catch{return $(new Error(`Invalid tracker URL: ${W}`)),null}let L=R.port;if(0>L||65535<L)return $(new Error(`Invalid tracker port: ${W}`)),null;let Y=R.protocol;return(Y==="http:"||Y==="https:")&&typeof s=="function"?new s(this,W):Y==="udp:"&&typeof t=="function"?new t(this,W):(Y==="ws:"||Y==="wss:")&&C?Y==="ws:"&&typeof window!="undefined"&&window.location.protocol==="https:"?($(new Error(`Unsupported tracker protocol: ${W}`)),null):new r(this,W):($(new Error(`Unsupported tracker protocol: ${W}`)),null)}).filter(Boolean)}start(f){f=this._defaultAnnounceOpts(f),f.event="started",v("send `start` %o",f),this._announce(f),this._trackers.forEach(b=>{b.setInterval()})}stop(f){f=this._defaultAnnounceOpts(f),f.event="stopped",v("send `stop` %o",f),this._announce(f)}complete(f){f||(f={}),f=this._defaultAnnounceOpts(f),f.event="completed",v("send `complete` %o",f),this._announce(f)}update(f){f=this._defaultAnnounceOpts(f),f.event&&delete f.event,v("send `update` %o",f),this._announce(f)}_announce(f){this._trackers.forEach(b=>{b.announce(f)})}scrape(f){v("send `scrape`"),f||(f={}),this._trackers.forEach(b=>{b.scrape(f)})}setInterval(f){v("setInterval %d",f),this._trackers.forEach(b=>{b.setInterval(f)})}destroy(f){if(!this.destroyed){this.destroyed=!0,v("destroy");let b=this._trackers.map(C=>$=>{C.destroy($)});o(b,f),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(f={}){return f.numwant==null&&(f.numwant=u.DEFAULT_ANNOUNCE_PEERS),f.uploaded==null&&(f.uploaded=0),f.downloaded==null&&(f.downloaded=0),this._getAnnounceOpts&&(f=Object.assign({},f,this._getAnnounceOpts())),f}}a.scrape=(l,f)=>{if(f=e(f),!l.infoHash)throw new Error("Option `infoHash` is required");if(!l.announce)throw new Error("Option `announce` is required");let b=Object.assign({},l,{infoHash:Array.isArray(l.infoHash)?l.infoHash[0]:l.infoHash,peerId:w.from("01234567890123456789"),port:6881}),C=new a(b);C.once("error",f),C.once("warning",f);let $=Array.isArray(l.infoHash)?l.infoHash.length:1,W={};return C.on("scrape",R=>{if($-=1,W[R.infoHash]=R,$===0){C.destroy();let L=Object.keys(W);L.length===1?f(null,W[L[0]]):f(null,W)}}),l.infoHash=Array.isArray(l.infoHash)?l.infoHash.map(R=>w.from(R,"hex")):w.from(l.infoHash,"hex"),C.scrape({infoHash:l.infoHash}),C},U.exports=a}).call(this)}).call(this,m("_process"),m("buffer").Buffer)},{"./lib/client/http-tracker":42,"./lib/client/udp-tracker":42,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:193,buffer:76,debug:91,events:123,once:178,"queue-microtask":206,"run-parallel":233,"simple-peer":247}],34:[function(m,U,A){let p=m("events");class w extends p{constructor(h,e){super(),this.client=h,this.announceUrl=e,this.interval=null,this.destroyed=!1}setInterval(h){h==null&&(h=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),h&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},h),this.interval.unref&&this.interval.unref())}}U.exports=w},{events:123}],35:[function(m,U,A){function p(){}let w=m("clone"),v=m("debug")("bittorrent-tracker:websocket-tracker"),h=m("simple-peer"),e=m("randombytes"),o=m("simple-websocket"),i=m("socks"),c=m("../common"),u=m("./tracker"),s={},t=1e4,r=36e5,a=3e5,l=5e4;class f extends u{constructor(C,$){super(C,$),v("new websocket tracker %s",$),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(C){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(C)});let $=Object.assign({},C,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&($.trackerid=this._trackerId),C.event==="stopped"||C.event==="completed")this._send($);else{let W=J(C.numwant,5);this._generateOffers(W,R=>{$.numwant=W,$.offers=R,this._send($)})}}scrape(C){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(C)});let $=Array.isArray(C.infoHash)&&0<C.infoHash.length?C.infoHash.map(R=>R.toString("binary")):C.infoHash&&C.infoHash.toString("binary")||this.client._infoHashBinary,W={action:"scrape",info_hash:$};this._send(W)}destroy(C=p){function $(){R&&(clearTimeout(R),R=null),W.removeListener("data",$),W.destroy(),W=null}if(this.destroyed)return C(null);for(let L in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){let Y=this.peers[L];clearTimeout(Y.trackerTimeout),Y.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,s[this.announceUrl]&&(s[this.announceUrl].consumers-=1),0<s[this.announceUrl].consumers)return C();let W=s[this.announceUrl];delete s[this.announceUrl],W.on("error",p),W.once("close",C);let R;return this.expectingResponse?(R=setTimeout($,c.DESTROY_TIMEOUT),void W.once("data",$)):$()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=C=>{this._onSocketError(C)},this._onSocketDataBound=C=>{this._onSocketData(C)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=s[this.announceUrl],this.socket)s[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{let C=new URL(this.announceUrl),$;this.client._proxyOpts&&($=C.protocol==="wss:"?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!$&&this.client._proxyOpts.socksProxy&&($=new i.Agent(w(this.client._proxyOpts.socksProxy),C.protocol==="wss:"))),this.socket=s[this.announceUrl]=new o({url:this.announceUrl,agent:$}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(C){if(!this.destroyed){this.expectingResponse=!1;try{C=JSON.parse(C)}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}C.action==="announce"?this._onAnnounceResponse(C):C.action==="scrape"?this._onScrapeResponse(C):this._onSocketError(new Error(`invalid action in WS response: ${C.action}`))}}_onAnnounceResponse(C){if(C.info_hash!==this.client._infoHashBinary)return void v("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,c.binaryToHex(C.info_hash),this.client.infoHash);if(C.peer_id&&C.peer_id===this.client._peerIdBinary)return;v("received %s from %s for %s",JSON.stringify(C),this.announceUrl,this.client.infoHash);let $=C["failure reason"];if($)return this.client.emit("warning",new Error($));let W=C["warning message"];W&&this.client.emit("warning",new Error(W));let R=C.interval||C["min interval"];R&&this.setInterval(1e3*R);let L=C["tracker id"];if(L&&(this._trackerId=L),C.complete!=null){let ee=Object.assign({},C,{announce:this.announceUrl,infoHash:c.binaryToHex(C.info_hash)});this.client.emit("update",ee)}let Y;if(C.offer&&C.peer_id&&(v("creating peer (from remote offer)"),Y=this._createPeer(),Y.id=c.binaryToHex(C.peer_id),Y.once("signal",ee=>{let ae={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:C.peer_id,answer:ee,offer_id:C.offer_id};this._trackerId&&(ae.trackerid=this._trackerId),this._send(ae)}),this.client.emit("peer",Y),Y.signal(C.offer)),C.answer&&C.peer_id){let ee=c.binaryToHex(C.offer_id);Y=this.peers[ee],Y?(Y.id=c.binaryToHex(C.peer_id),this.client.emit("peer",Y),Y.signal(C.answer),clearTimeout(Y.trackerTimeout),Y.trackerTimeout=null,delete this.peers[ee]):v(`got unexpected answer: ${JSON.stringify(C.answer)}`)}}_onScrapeResponse(C){C=C.files||{};let $=Object.keys(C);return $.length===0?void this.client.emit("warning",new Error("invalid scrape response")):void $.forEach(W=>{let R=Object.assign(C[W],{announce:this.announceUrl,infoHash:c.binaryToHex(W)});this.client.emit("scrape",R)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(C){this.destroyed||(this.destroy(),this.client.emit("warning",C),this._startReconnectTimer())}_startReconnectTimer(){let C=I(Math.random()*a)+J(k(2,this.retries)*t,r);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},C),this.reconnectTimer.unref&&this.reconnectTimer.unref(),v("reconnecting socket in %s ms",C)}_send(C){if(!this.destroyed){this.expectingResponse=!0;let $=JSON.stringify(C);v("send %s",$),this.socket.send($)}}_generateOffers(C,$){function W(){let ee=e(20).toString("hex");v("creating peer (from _generateOffers)");let ae=L.peers[ee]=L._createPeer({initiator:!0});ae.once("signal",fe=>{Y.push({offer:fe,offer_id:c.hexToBinary(ee)}),R()}),ae.trackerTimeout=setTimeout(()=>{v("tracker timeout: destroying peer"),ae.trackerTimeout=null,delete L.peers[ee],ae.destroy()},l),ae.trackerTimeout.unref&&ae.trackerTimeout.unref()}function R(){Y.length===C&&(v("generated %s offers",C),$(Y))}let L=this,Y=[];v("generating %s offers",C);for(let ee=0;ee<C;++ee)W();R()}_createPeer(C){function $(Y){R.client.emit("warning",new Error(`Connection error: ${Y.message}`)),L.destroy()}function W(){L.removeListener("error",$),L.removeListener("connect",W)}let R=this;C=Object.assign({trickle:!1,config:R.client._rtcConfig,wrtc:R.client._wrtc},C);let L=new h(C);return L.once("error",$),L.once("connect",W),L}}f.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,f._socketPool=s,U.exports=f},{"../common":36,"./tracker":34,clone:81,debug:91,randombytes:209,"simple-peer":247,"simple-websocket":250,socks:42}],36:[function(m,U,A){(function(p){(function(){A.DEFAULT_ANNOUNCE_PEERS=50,A.MAX_ANNOUNCE_PEERS=82,A.binaryToHex=v=>(typeof v!="string"&&(v+=""),p.from(v,"binary").toString("hex")),A.hexToBinary=v=>(typeof v!="string"&&(v+=""),p.from(v,"hex").toString("binary")),A.parseUrl=v=>{let h=new URL(v.replace(/^udp:/,"http:"));return v.match(/^udp:/)&&Object.defineProperties(h,{href:{value:h.href.replace(/^http/,"udp")},protocol:{value:h.protocol.replace(/^http/,"udp")},origin:{value:h.origin.replace(/^http/,"udp")}}),h};let w=m("./common-node");Object.assign(A,w)}).call(this)}).call(this,m("buffer").Buffer)},{"./common-node":42,buffer:76}],37:[function(m,U,A){(function(p){(function(){U.exports=function(v,h){function e(i){o.removeEventListener("loadend",e,!1),i.error?h(i.error):h(null,p.from(o.result))}if(typeof Blob=="undefined"||!(v instanceof Blob))throw new Error("first argument must be a Blob");if(typeof h!="function")throw new Error("second argument must be a function");let o=new FileReader;o.addEventListener("loadend",e,!1),o.readAsArrayBuffer(v)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],38:[function(m,U,A){function p(w,v){if(typeof w[0]=="string")return w.join("");if(typeof w[0]=="number")return new Uint8Array(w);let h=new Uint8Array(v),e=0;for(let o=0,i=w.length;o<i;o++){let c=w[o];h.set(c,e),e+=c.byteLength||c.length}return h}U.exports=async function*(w,v=512,h={}){typeof v=="object"&&(h=v,v=h.size);let{nopad:e,zeroPadding:o=!0}=h;e&&(o=!1);let i=[],c=0;for await(let u of w)if(c+=u.byteLength||u.length||1,i.push(u),c>=v){let s=p(i,c),t=0;for(;c>=v;)yield s.slice(t,t+v),c-=v,t+=v;i=[s.slice(t,s.length)]}c&&(yield p(i,o?v:c))}},{}],39:[function(m,U,A){(function(p){(function(){let{Transform:w}=m("readable-stream");class v extends w{constructor(e,o={}){super(o),typeof e=="object"&&(o=e,e=o.size),this.size=e||512;let{nopad:i,zeroPadding:c=!0}=o;this._zeroPadding=!i&&!!c,this._buffered=[],this._bufferedBytes=0}_transform(e,o,i){for(this._bufferedBytes+=e.length,this._buffered.push(e);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;let c=[];for(let u=0;u<this.size;){let s=this._buffered.shift();if(u+s.length<=this.size)c.push(s),u+=s.length;else{let t=this.size-u;c.push(s.slice(0,t)),u+=t,this._buffered.unshift(s.slice(t))}}this.push(p.concat(c,this.size))}i()}_flush(){if(this._bufferedBytes&&this._zeroPadding){let e=p.alloc(this.size-this._bufferedBytes);this._buffered.push(e),this.push(p.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(p.concat(this._buffered)),this._buffered=null);this.push(null)}}U.exports=v}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"readable-stream":228}],40:[function(m,U,A){(function(p,w){"use strict";function v(z,E){if(!z)throw new Error(E||"Assertion failed")}function h(z,E){z.super_=E;var j=function(){};j.prototype=E.prototype,z.prototype=new j,z.prototype.constructor=z}function e(z,E,j){return e.isBN(z)?z:(this.negative=0,this.words=null,this.length=0,this.red=null,void(z!==null&&((E==="le"||E==="be")&&(j=E,E=10),this._init(z||0,E||10,j||"be"))))}function o(z,E){var j=z.charCodeAt(E);return 48<=j&&57>=j?j-48:65<=j&&70>=j?j-55:97<=j&&102>=j?j-87:void v(!1,"Invalid character in "+z)}function i(z,E,j){var Z=o(z,j);return j-1>=E&&(Z|=o(z,j-1)<<4),Z}function c(z,E,j,Z){for(var oe=0,q=0,le=J(z.length,j),ge=E,Re;ge<le;ge++)Re=z.charCodeAt(ge)-48,oe*=Z,q=49<=Re?Re-49+10:17<=Re?Re-17+10:Re,v(0<=Re&&q<Z,"Invalid character"),oe+=q;return oe}function u(z,E){z.words=E.words,z.length=E.length,z.negative=E.negative,z.red=E.red}function s(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function t(z){for(var E=Array(z.bitLength()),j=0;j<E.length;j++){var Z=0|j/26,oe=j%26;E[j]=1&z.words[Z]>>>oe}return E}function r(z,E,j){j.negative=E.negative^z.negative;var Z=0|z.length+E.length;j.length=Z,Z=0|Z-1;var oe=0|z.words[0],q=0|E.words[0],le=oe*q,ge=67108863&le,Re=0|le/67108864;j.words[0]=ge;for(var ke=1;ke<Z;ke++){for(var De=Re>>>26,$e=67108863&Re,qe=J(ke,E.length-1),nt=F(0,ke-z.length+1),bt;nt<=qe;nt++)bt=0|ke-nt,oe=0|z.words[bt],q=0|E.words[nt],le=oe*q+$e,De+=0|le/67108864,$e=67108863&le;j.words[ke]=0|$e,Re=0|De}return Re===0?j.length--:j.words[ke]=0|Re,j._strip()}function a(z,E,j){j.negative=E.negative^z.negative,j.length=z.length+E.length;for(var Z=0,oe=0,q=0,le;q<j.length-1;q++){le=oe,oe=0;for(var ge=67108863&Z,Re=J(q,E.length-1),ke=F(0,q-z.length+1);ke<=Re;ke++){var De=q-ke,$e=0|z.words[De],qe=0|E.words[ke],nt=$e*qe,bt=67108863&nt;le=0|le+(0|nt/67108864),bt=0|bt+ge,ge=67108863&bt,le=0|le+(bt>>>26),oe+=le>>>26,le&=67108863}j.words[q]=ge,Z=le,le=oe}return Z===0?j.length--:j.words[q]=Z,j._strip()}function l(z,E,j){return a(z,E,j)}function f(z,E){this.x=z,this.y=E}function b(z,E){this.name=z,this.p=new e(E,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function $(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function L(z){if(typeof z=="string"){var E=e._prime(z);this.m=E.p,this.prime=E}else v(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function Y(z){L.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof p=="object"?p.exports=e:w.BN=e,e.BN=e,e.wordSize=26;var ee;try{ee=typeof window!="undefined"&&typeof window.Buffer!="undefined"?window.Buffer:m("buffer").Buffer}catch{}if(e.isBN=function(E){return E instanceof e||E!==null&&typeof E=="object"&&E.constructor.wordSize===e.wordSize&&Array.isArray(E.words)},e.max=function(E,j){return 0<E.cmp(j)?E:j},e.min=function(E,j){return 0>E.cmp(j)?E:j},e.prototype._init=function(E,j,Z){if(typeof E=="number")return this._initNumber(E,j,Z);if(typeof E=="object")return this._initArray(E,j,Z);j==="hex"&&(j=16),v(j===(0|j)&&2<=j&&36>=j),E=E.toString().replace(/\s+/g,"");var oe=0;E[0]==="-"&&(oe++,this.negative=1),oe<E.length&&(j===16?this._parseHex(E,oe,Z):(this._parseBase(E,j,oe),Z==="le"&&this._initArray(this.toArray(),j,Z)))},e.prototype._initNumber=function(E,j,Z){0>E&&(this.negative=1,E=-E),67108864>E?(this.words=[67108863&E],this.length=1):4503599627370496>E?(this.words=[67108863&E,67108863&E/67108864],this.length=2):(v(9007199254740992>E),this.words=[67108863&E,67108863&E/67108864,1],this.length=3),Z!=="le"||this._initArray(this.toArray(),j,Z)},e.prototype._initArray=function(E,j,Z){if(v(typeof E.length=="number"),0>=E.length)return this.words=[0],this.length=1,this;this.length=N(E.length/3),this.words=Array(this.length);for(var oe=0;oe<this.length;oe++)this.words[oe]=0;var q=0,le,ge;if(Z==="be")for(oe=E.length-1,le=0;0<=oe;oe-=3)ge=E[oe]|E[oe-1]<<8|E[oe-2]<<16,this.words[le]|=67108863&ge<<q,this.words[le+1]=67108863&ge>>>26-q,q+=24,26<=q&&(q-=26,le++);else if(Z==="le")for(oe=0,le=0;oe<E.length;oe+=3)ge=E[oe]|E[oe+1]<<8|E[oe+2]<<16,this.words[le]|=67108863&ge<<q,this.words[le+1]=67108863&ge>>>26-q,q+=24,26<=q&&(q-=26,le++);return this._strip()},e.prototype._parseHex=function(E,j,Z){this.length=N((E.length-j)/6),this.words=Array(this.length);for(var oe=0;oe<this.length;oe++)this.words[oe]=0;var q=0,le=0,ge;if(Z==="be")for(oe=E.length-1;oe>=j;oe-=2)ge=i(E,j,oe)<<q,this.words[le]|=67108863&ge,18<=q?(q-=18,le+=1,this.words[le]|=ge>>>26):q+=8;else{var Re=E.length-j;for(oe=Re%2==0?j+1:j;oe<E.length;oe+=2)ge=i(E,j,oe)<<q,this.words[le]|=67108863&ge,18<=q?(q-=18,le+=1,this.words[le]|=ge>>>26):q+=8}this._strip()},e.prototype._parseBase=function(E,j,Z){this.words=[0],this.length=1;for(var oe=0,q=1;67108863>=q;q*=j)oe++;oe--,q=0|q/j;for(var le=E.length-Z,ge=le%oe,Re=J(le,le-ge)+Z,ke=0,De=Z;De<Re;De+=oe)ke=c(E,De,De+oe,j),this.imuln(q),67108864>this.words[0]+ke?this.words[0]+=ke:this._iaddn(ke);if(ge!==0){var $e=1;for(ke=c(E,De,E.length,j),De=0;De<ge;De++)$e*=j;this.imuln($e),67108864>this.words[0]+ke?this.words[0]+=ke:this._iaddn(ke)}this._strip()},e.prototype.copy=function(E){E.words=Array(this.length);for(var j=0;j<this.length;j++)E.words[j]=this.words[j];E.length=this.length,E.negative=this.negative,E.red=this.red},e.prototype._move=function(E){u(E,this)},e.prototype.clone=function(){var E=new e(null);return this.copy(E),E},e.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=s}catch{e.prototype.inspect=s}else e.prototype.inspect=s;var ae=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],xe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(E,j){E=E||10,j=0|j||1;var Z;if(E===16||E==="hex"){Z="";for(var oe=0,q=0,le=0;le<this.length;le++){var ge=this.words[le],Re=(16777215&(ge<<oe|q)).toString(16);q=16777215&ge>>>24-oe,oe+=2,26<=oe&&(oe-=26,le--),Z=q!==0||le!==this.length-1?ae[6-Re.length]+Re+Z:Re+Z}for(q!==0&&(Z=q.toString(16)+Z);Z.length%j!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(E===(0|E)&&2<=E&&36>=E){var ke=fe[E],De=xe[E];Z="";var $e=this.clone();for($e.negative=0;!$e.isZero();){var qe=$e.modrn(De).toString(E);$e=$e.idivn(De),Z=$e.isZero()?qe+Z:ae[ke-qe.length]+qe+Z}for(this.isZero()&&(Z="0"+Z);Z.length%j!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}v(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:2<this.length&&v(!1,"Number can only safely store up to 53 bits"),this.negative===0?E:-E},e.prototype.toJSON=function(){return this.toString(16,2)},ee&&(e.prototype.toBuffer=function(E,j){return this.toArrayLike(ee,E,j)}),e.prototype.toArray=function(E,j){return this.toArrayLike(Array,E,j)};var se=function(E,j){return E.allocUnsafe?E.allocUnsafe(j):new E(j)};e.prototype.toArrayLike=function(E,j,Z){this._strip();var oe=this.byteLength(),q=Z||F(1,oe);v(oe<=q,"byte array longer than desired length"),v(0<q,"Requested array length <= 0");var le=se(E,q),ge=j==="le"?"LE":"BE";return this["_toArrayLike"+ge](le,oe),le},e.prototype._toArrayLikeLE=function(E,j){for(var Z=0,oe=0,q=0,le=0,ge;q<this.length;q++)ge=this.words[q]<<le|oe,E[Z++]=255&ge,Z<E.length&&(E[Z++]=255&ge>>8),Z<E.length&&(E[Z++]=255&ge>>16),le==6?(Z<E.length&&(E[Z++]=255&ge>>24),oe=0,le=0):(oe=ge>>>24,le+=2);if(Z<E.length)for(E[Z++]=oe;Z<E.length;)E[Z++]=0},e.prototype._toArrayLikeBE=function(E,j){for(var Z=E.length-1,oe=0,q=0,le=0,ge;q<this.length;q++)ge=this.words[q]<<le|oe,E[Z--]=255&ge,0<=Z&&(E[Z--]=255&ge>>8),0<=Z&&(E[Z--]=255&ge>>16),le==6?(0<=Z&&(E[Z--]=255&ge>>24),oe=0,le=0):(oe=ge>>>24,le+=2);if(0<=Z)for(E[Z--]=oe;0<=Z;)E[Z--]=0},e.prototype._countBits=M?function(E){return 32-M(E)}:function(E){var j=E,Z=0;return 4096<=j&&(Z+=13,j>>>=13),64<=j&&(Z+=7,j>>>=7),8<=j&&(Z+=4,j>>>=4),2<=j&&(Z+=2,j>>>=2),Z+j},e.prototype._zeroBits=function(E){if(E===0)return 26;var j=E,Z=0;return(8191&j)==0&&(Z+=13,j>>>=13),(127&j)==0&&(Z+=7,j>>>=7),(15&j)==0&&(Z+=4,j>>>=4),(3&j)==0&&(Z+=2,j>>>=2),(1&j)==0&&Z++,Z},e.prototype.bitLength=function(){var E=this.words[this.length-1],j=this._countBits(E);return 26*(this.length-1)+j},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,j=0,Z;j<this.length&&(Z=this._zeroBits(this.words[j]),E+=Z,Z===26);j++);return E},e.prototype.byteLength=function(){return N(this.bitLength()/8)},e.prototype.toTwos=function(E){return this.negative===0?this.clone():this.abs().inotn(E).iaddn(1)},e.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var j=0;j<E.length;j++)this.words[j]|=E.words[j];return this._strip()},e.prototype.ior=function(E){return v((this.negative|E.negative)==0),this.iuor(E)},e.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},e.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},e.prototype.iuand=function(E){var j;j=this.length>E.length?E:this;for(var Z=0;Z<j.length;Z++)this.words[Z]&=E.words[Z];return this.length=j.length,this._strip()},e.prototype.iand=function(E){return v((this.negative|E.negative)==0),this.iuand(E)},e.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},e.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},e.prototype.iuxor=function(E){var j,Z;this.length>E.length?(j=this,Z=E):(j=E,Z=this);for(var oe=0;oe<Z.length;oe++)this.words[oe]=j.words[oe]^Z.words[oe];if(this!==j)for(;oe<j.length;oe++)this.words[oe]=j.words[oe];return this.length=j.length,this._strip()},e.prototype.ixor=function(E){return v((this.negative|E.negative)==0),this.iuxor(E)},e.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},e.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},e.prototype.inotn=function(E){v(typeof E=="number"&&0<=E);var j=0|N(E/26),Z=E%26;this._expand(j),0<Z&&j--;for(var oe=0;oe<j;oe++)this.words[oe]=67108863&~this.words[oe];return 0<Z&&(this.words[oe]=~this.words[oe]&67108863>>26-Z),this._strip()},e.prototype.notn=function(E){return this.clone().inotn(E)},e.prototype.setn=function(E,j){v(typeof E=="number"&&0<=E);var Z=0|E/26,oe=E%26;return this._expand(Z+1),j?this.words[Z]|=1<<oe:this.words[Z]&=~(1<<oe),this._strip()},e.prototype.iadd=function(E){var j;if(this.negative!==0&&E.negative===0)return this.negative=0,j=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,j=this.isub(E),E.negative=1,j._normSign();var Z,oe;this.length>E.length?(Z=this,oe=E):(Z=E,oe=this);for(var q=0,le=0;le<oe.length;le++)j=(0|Z.words[le])+(0|oe.words[le])+q,this.words[le]=67108863&j,q=j>>>26;for(;q!==0&&le<Z.length;le++)j=(0|Z.words[le])+q,this.words[le]=67108863&j,q=j>>>26;if(this.length=Z.length,q!==0)this.words[this.length]=q,this.length++;else if(Z!==this)for(;le<Z.length;le++)this.words[le]=Z.words[le];return this},e.prototype.add=function(E){var j;return E.negative!==0&&this.negative===0?(E.negative=0,j=this.sub(E),E.negative^=1,j):E.negative===0&&this.negative!==0?(this.negative=0,j=E.sub(this),this.negative=1,j):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},e.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var j=this.iadd(E);return E.negative=1,j._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var Z=this.cmp(E);if(Z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var oe,q;0<Z?(oe=this,q=E):(oe=E,q=this);for(var le=0,ge=0;ge<q.length;ge++)j=(0|oe.words[ge])-(0|q.words[ge])+le,le=j>>26,this.words[ge]=67108863&j;for(;le!==0&&ge<oe.length;ge++)j=(0|oe.words[ge])+le,le=j>>26,this.words[ge]=67108863&j;if(le===0&&ge<oe.length&&oe!==this)for(;ge<oe.length;ge++)this.words[ge]=oe.words[ge];return this.length=F(this.length,ge),oe!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(E){return this.clone().isub(E)};var B=function(E,j,Z){var oe=E.words,q=j.words,le=Z.words,ge=0,Re=0|oe[0],ke=8191&Re,De=Re>>>13,$e=0|oe[1],qe=8191&$e,nt=$e>>>13,bt=0|oe[2],ct=8191&bt,Me=bt>>>13,Ge=0|oe[3],Ze=8191&Ge,ft=Ge>>>13,Mt=0|oe[4],ce=8191&Mt,G=Mt>>>13,te=0|oe[5],de=8191&te,_e=te>>>13,Pe=0|oe[6],ze=8191&Pe,Ue=Pe>>>13,yt=0|oe[7],mt=8191&yt,et=yt>>>13,Dt=0|oe[8],wt=8191&Dt,Lt=Dt>>>13,vn=0|oe[9],St=8191&vn,Wt=vn>>>13,Yt=0|q[0],Kt=8191&Yt,ln=Yt>>>13,_r=0|q[1],Jt=8191&_r,rn=_r>>>13,Xn=0|q[2],qt=8191&Xn,tn=Xn>>>13,Wn=0|q[3],on=8191&Wn,fn=Wn>>>13,ar=0|q[4],Xt=8191&ar,an=ar>>>13,Ir=0|q[5],en=8191&Ir,cn=Ir>>>13,Sr=0|q[6],Ht=8191&Sr,hn=Sr>>>13,sr=0|q[7],Vt=8191&sr,nn=sr>>>13,Cr=0|q[8],pn=8191&Cr,gn=Cr>>>13,Ke=0|q[9],ye=8191&Ke,He=Ke>>>13,Ye,Se,Je;Z.negative=E.negative^j.negative,Z.length=19,Ye=d(ke,Kt),Se=d(ke,ln),Se=0|Se+d(De,Kt),Je=d(De,ln);var lr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(lr>>>26),lr&=67108863,Ye=d(qe,Kt),Se=d(qe,ln),Se=0|Se+d(nt,Kt),Je=d(nt,ln),Ye=0|Ye+d(ke,Jt),Se=0|Se+d(ke,rn),Se=0|Se+d(De,Jt),Je=0|Je+d(De,rn);var mr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(mr>>>26),mr&=67108863,Ye=d(ct,Kt),Se=d(ct,ln),Se=0|Se+d(Me,Kt),Je=d(Me,ln),Ye=0|Ye+d(qe,Jt),Se=0|Se+d(qe,rn),Se=0|Se+d(nt,Jt),Je=0|Je+d(nt,rn),Ye=0|Ye+d(ke,qt),Se=0|Se+d(ke,tn),Se=0|Se+d(De,qt),Je=0|Je+d(De,tn);var Pr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Pr>>>26),Pr&=67108863,Ye=d(Ze,Kt),Se=d(Ze,ln),Se=0|Se+d(ft,Kt),Je=d(ft,ln),Ye=0|Ye+d(ct,Jt),Se=0|Se+d(ct,rn),Se=0|Se+d(Me,Jt),Je=0|Je+d(Me,rn),Ye=0|Ye+d(qe,qt),Se=0|Se+d(qe,tn),Se=0|Se+d(nt,qt),Je=0|Je+d(nt,tn),Ye=0|Ye+d(ke,on),Se=0|Se+d(ke,fn),Se=0|Se+d(De,on),Je=0|Je+d(De,fn);var $r=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+($r>>>26),$r&=67108863,Ye=d(ce,Kt),Se=d(ce,ln),Se=0|Se+d(G,Kt),Je=d(G,ln),Ye=0|Ye+d(Ze,Jt),Se=0|Se+d(Ze,rn),Se=0|Se+d(ft,Jt),Je=0|Je+d(ft,rn),Ye=0|Ye+d(ct,qt),Se=0|Se+d(ct,tn),Se=0|Se+d(Me,qt),Je=0|Je+d(Me,tn),Ye=0|Ye+d(qe,on),Se=0|Se+d(qe,fn),Se=0|Se+d(nt,on),Je=0|Je+d(nt,fn),Ye=0|Ye+d(ke,Xt),Se=0|Se+d(ke,an),Se=0|Se+d(De,Xt),Je=0|Je+d(De,an);var Fr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Fr>>>26),Fr&=67108863,Ye=d(de,Kt),Se=d(de,ln),Se=0|Se+d(_e,Kt),Je=d(_e,ln),Ye=0|Ye+d(ce,Jt),Se=0|Se+d(ce,rn),Se=0|Se+d(G,Jt),Je=0|Je+d(G,rn),Ye=0|Ye+d(Ze,qt),Se=0|Se+d(Ze,tn),Se=0|Se+d(ft,qt),Je=0|Je+d(ft,tn),Ye=0|Ye+d(ct,on),Se=0|Se+d(ct,fn),Se=0|Se+d(Me,on),Je=0|Je+d(Me,fn),Ye=0|Ye+d(qe,Xt),Se=0|Se+d(qe,an),Se=0|Se+d(nt,Xt),Je=0|Je+d(nt,an),Ye=0|Ye+d(ke,en),Se=0|Se+d(ke,cn),Se=0|Se+d(De,en),Je=0|Je+d(De,cn);var vr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(vr>>>26),vr&=67108863,Ye=d(ze,Kt),Se=d(ze,ln),Se=0|Se+d(Ue,Kt),Je=d(Ue,ln),Ye=0|Ye+d(de,Jt),Se=0|Se+d(de,rn),Se=0|Se+d(_e,Jt),Je=0|Je+d(_e,rn),Ye=0|Ye+d(ce,qt),Se=0|Se+d(ce,tn),Se=0|Se+d(G,qt),Je=0|Je+d(G,tn),Ye=0|Ye+d(Ze,on),Se=0|Se+d(Ze,fn),Se=0|Se+d(ft,on),Je=0|Je+d(ft,fn),Ye=0|Ye+d(ct,Xt),Se=0|Se+d(ct,an),Se=0|Se+d(Me,Xt),Je=0|Je+d(Me,an),Ye=0|Ye+d(qe,en),Se=0|Se+d(qe,cn),Se=0|Se+d(nt,en),Je=0|Je+d(nt,cn),Ye=0|Ye+d(ke,Ht),Se=0|Se+d(ke,hn),Se=0|Se+d(De,Ht),Je=0|Je+d(De,hn);var br=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(br>>>26),br&=67108863,Ye=d(mt,Kt),Se=d(mt,ln),Se=0|Se+d(et,Kt),Je=d(et,ln),Ye=0|Ye+d(ze,Jt),Se=0|Se+d(ze,rn),Se=0|Se+d(Ue,Jt),Je=0|Je+d(Ue,rn),Ye=0|Ye+d(de,qt),Se=0|Se+d(de,tn),Se=0|Se+d(_e,qt),Je=0|Je+d(_e,tn),Ye=0|Ye+d(ce,on),Se=0|Se+d(ce,fn),Se=0|Se+d(G,on),Je=0|Je+d(G,fn),Ye=0|Ye+d(Ze,Xt),Se=0|Se+d(Ze,an),Se=0|Se+d(ft,Xt),Je=0|Je+d(ft,an),Ye=0|Ye+d(ct,en),Se=0|Se+d(ct,cn),Se=0|Se+d(Me,en),Je=0|Je+d(Me,cn),Ye=0|Ye+d(qe,Ht),Se=0|Se+d(qe,hn),Se=0|Se+d(nt,Ht),Je=0|Je+d(nt,hn),Ye=0|Ye+d(ke,Vt),Se=0|Se+d(ke,nn),Se=0|Se+d(De,Vt),Je=0|Je+d(De,nn);var Zn=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Zn>>>26),Zn&=67108863,Ye=d(wt,Kt),Se=d(wt,ln),Se=0|Se+d(Lt,Kt),Je=d(Lt,ln),Ye=0|Ye+d(mt,Jt),Se=0|Se+d(mt,rn),Se=0|Se+d(et,Jt),Je=0|Je+d(et,rn),Ye=0|Ye+d(ze,qt),Se=0|Se+d(ze,tn),Se=0|Se+d(Ue,qt),Je=0|Je+d(Ue,tn),Ye=0|Ye+d(de,on),Se=0|Se+d(de,fn),Se=0|Se+d(_e,on),Je=0|Je+d(_e,fn),Ye=0|Ye+d(ce,Xt),Se=0|Se+d(ce,an),Se=0|Se+d(G,Xt),Je=0|Je+d(G,an),Ye=0|Ye+d(Ze,en),Se=0|Se+d(Ze,cn),Se=0|Se+d(ft,en),Je=0|Je+d(ft,cn),Ye=0|Ye+d(ct,Ht),Se=0|Se+d(ct,hn),Se=0|Se+d(Me,Ht),Je=0|Je+d(Me,hn),Ye=0|Ye+d(qe,Vt),Se=0|Se+d(qe,nn),Se=0|Se+d(nt,Vt),Je=0|Je+d(nt,nn),Ye=0|Ye+d(ke,pn),Se=0|Se+d(ke,gn),Se=0|Se+d(De,pn),Je=0|Je+d(De,gn);var yr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(yr>>>26),yr&=67108863,Ye=d(St,Kt),Se=d(St,ln),Se=0|Se+d(Wt,Kt),Je=d(Wt,ln),Ye=0|Ye+d(wt,Jt),Se=0|Se+d(wt,rn),Se=0|Se+d(Lt,Jt),Je=0|Je+d(Lt,rn),Ye=0|Ye+d(mt,qt),Se=0|Se+d(mt,tn),Se=0|Se+d(et,qt),Je=0|Je+d(et,tn),Ye=0|Ye+d(ze,on),Se=0|Se+d(ze,fn),Se=0|Se+d(Ue,on),Je=0|Je+d(Ue,fn),Ye=0|Ye+d(de,Xt),Se=0|Se+d(de,an),Se=0|Se+d(_e,Xt),Je=0|Je+d(_e,an),Ye=0|Ye+d(ce,en),Se=0|Se+d(ce,cn),Se=0|Se+d(G,en),Je=0|Je+d(G,cn),Ye=0|Ye+d(Ze,Ht),Se=0|Se+d(Ze,hn),Se=0|Se+d(ft,Ht),Je=0|Je+d(ft,hn),Ye=0|Ye+d(ct,Vt),Se=0|Se+d(ct,nn),Se=0|Se+d(Me,Vt),Je=0|Je+d(Me,nn),Ye=0|Ye+d(qe,pn),Se=0|Se+d(qe,gn),Se=0|Se+d(nt,pn),Je=0|Je+d(nt,gn),Ye=0|Ye+d(ke,ye),Se=0|Se+d(ke,He),Se=0|Se+d(De,ye),Je=0|Je+d(De,He);var dr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(dr>>>26),dr&=67108863,Ye=d(St,Jt),Se=d(St,rn),Se=0|Se+d(Wt,Jt),Je=d(Wt,rn),Ye=0|Ye+d(wt,qt),Se=0|Se+d(wt,tn),Se=0|Se+d(Lt,qt),Je=0|Je+d(Lt,tn),Ye=0|Ye+d(mt,on),Se=0|Se+d(mt,fn),Se=0|Se+d(et,on),Je=0|Je+d(et,fn),Ye=0|Ye+d(ze,Xt),Se=0|Se+d(ze,an),Se=0|Se+d(Ue,Xt),Je=0|Je+d(Ue,an),Ye=0|Ye+d(de,en),Se=0|Se+d(de,cn),Se=0|Se+d(_e,en),Je=0|Je+d(_e,cn),Ye=0|Ye+d(ce,Ht),Se=0|Se+d(ce,hn),Se=0|Se+d(G,Ht),Je=0|Je+d(G,hn),Ye=0|Ye+d(Ze,Vt),Se=0|Se+d(Ze,nn),Se=0|Se+d(ft,Vt),Je=0|Je+d(ft,nn),Ye=0|Ye+d(ct,pn),Se=0|Se+d(ct,gn),Se=0|Se+d(Me,pn),Je=0|Je+d(Me,gn),Ye=0|Ye+d(qe,ye),Se=0|Se+d(qe,He),Se=0|Se+d(nt,ye),Je=0|Je+d(nt,He);var fr=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(fr>>>26),fr&=67108863,Ye=d(St,qt),Se=d(St,tn),Se=0|Se+d(Wt,qt),Je=d(Wt,tn),Ye=0|Ye+d(wt,on),Se=0|Se+d(wt,fn),Se=0|Se+d(Lt,on),Je=0|Je+d(Lt,fn),Ye=0|Ye+d(mt,Xt),Se=0|Se+d(mt,an),Se=0|Se+d(et,Xt),Je=0|Je+d(et,an),Ye=0|Ye+d(ze,en),Se=0|Se+d(ze,cn),Se=0|Se+d(Ue,en),Je=0|Je+d(Ue,cn),Ye=0|Ye+d(de,Ht),Se=0|Se+d(de,hn),Se=0|Se+d(_e,Ht),Je=0|Je+d(_e,hn),Ye=0|Ye+d(ce,Vt),Se=0|Se+d(ce,nn),Se=0|Se+d(G,Vt),Je=0|Je+d(G,nn),Ye=0|Ye+d(Ze,pn),Se=0|Se+d(Ze,gn),Se=0|Se+d(ft,pn),Je=0|Je+d(ft,gn),Ye=0|Ye+d(ct,ye),Se=0|Se+d(ct,He),Se=0|Se+d(Me,ye),Je=0|Je+d(Me,He);var Qn=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Qn>>>26),Qn&=67108863,Ye=d(St,on),Se=d(St,fn),Se=0|Se+d(Wt,on),Je=d(Wt,fn),Ye=0|Ye+d(wt,Xt),Se=0|Se+d(wt,an),Se=0|Se+d(Lt,Xt),Je=0|Je+d(Lt,an),Ye=0|Ye+d(mt,en),Se=0|Se+d(mt,cn),Se=0|Se+d(et,en),Je=0|Je+d(et,cn),Ye=0|Ye+d(ze,Ht),Se=0|Se+d(ze,hn),Se=0|Se+d(Ue,Ht),Je=0|Je+d(Ue,hn),Ye=0|Ye+d(de,Vt),Se=0|Se+d(de,nn),Se=0|Se+d(_e,Vt),Je=0|Je+d(_e,nn),Ye=0|Ye+d(ce,pn),Se=0|Se+d(ce,gn),Se=0|Se+d(G,pn),Je=0|Je+d(G,gn),Ye=0|Ye+d(Ze,ye),Se=0|Se+d(Ze,He),Se=0|Se+d(ft,ye),Je=0|Je+d(ft,He);var Ut=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Ut>>>26),Ut&=67108863,Ye=d(St,Xt),Se=d(St,an),Se=0|Se+d(Wt,Xt),Je=d(Wt,an),Ye=0|Ye+d(wt,en),Se=0|Se+d(wt,cn),Se=0|Se+d(Lt,en),Je=0|Je+d(Lt,cn),Ye=0|Ye+d(mt,Ht),Se=0|Se+d(mt,hn),Se=0|Se+d(et,Ht),Je=0|Je+d(et,hn),Ye=0|Ye+d(ze,Vt),Se=0|Se+d(ze,nn),Se=0|Se+d(Ue,Vt),Je=0|Je+d(Ue,nn),Ye=0|Ye+d(de,pn),Se=0|Se+d(de,gn),Se=0|Se+d(_e,pn),Je=0|Je+d(_e,gn),Ye=0|Ye+d(ce,ye),Se=0|Se+d(ce,He),Se=0|Se+d(G,ye),Je=0|Je+d(G,He);var Te=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Te>>>26),Te&=67108863,Ye=d(St,en),Se=d(St,cn),Se=0|Se+d(Wt,en),Je=d(Wt,cn),Ye=0|Ye+d(wt,Ht),Se=0|Se+d(wt,hn),Se=0|Se+d(Lt,Ht),Je=0|Je+d(Lt,hn),Ye=0|Ye+d(mt,Vt),Se=0|Se+d(mt,nn),Se=0|Se+d(et,Vt),Je=0|Je+d(et,nn),Ye=0|Ye+d(ze,pn),Se=0|Se+d(ze,gn),Se=0|Se+d(Ue,pn),Je=0|Je+d(Ue,gn),Ye=0|Ye+d(de,ye),Se=0|Se+d(de,He),Se=0|Se+d(_e,ye),Je=0|Je+d(_e,He);var It=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(It>>>26),It&=67108863,Ye=d(St,Ht),Se=d(St,hn),Se=0|Se+d(Wt,Ht),Je=d(Wt,hn),Ye=0|Ye+d(wt,Vt),Se=0|Se+d(wt,nn),Se=0|Se+d(Lt,Vt),Je=0|Je+d(Lt,nn),Ye=0|Ye+d(mt,pn),Se=0|Se+d(mt,gn),Se=0|Se+d(et,pn),Je=0|Je+d(et,gn),Ye=0|Ye+d(ze,ye),Se=0|Se+d(ze,He),Se=0|Se+d(Ue,ye),Je=0|Je+d(Ue,He);var un=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(un>>>26),un&=67108863,Ye=d(St,Vt),Se=d(St,nn),Se=0|Se+d(Wt,Vt),Je=d(Wt,nn),Ye=0|Ye+d(wt,pn),Se=0|Se+d(wt,gn),Se=0|Se+d(Lt,pn),Je=0|Je+d(Lt,gn),Ye=0|Ye+d(mt,ye),Se=0|Se+d(mt,He),Se=0|Se+d(et,ye),Je=0|Je+d(et,He);var bn=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(bn>>>26),bn&=67108863,Ye=d(St,pn),Se=d(St,gn),Se=0|Se+d(Wt,pn),Je=d(Wt,gn),Ye=0|Ye+d(wt,ye),Se=0|Se+d(wt,He),Se=0|Se+d(Lt,ye),Je=0|Je+d(Lt,He);var Fn=0|(0|ge+Ye)+((8191&Se)<<13);ge=0|(0|Je+(Se>>>13))+(Fn>>>26),Fn&=67108863,Ye=d(St,ye),Se=d(St,He),Se=0|Se+d(Wt,ye),Je=d(Wt,He);var Pn=0|(0|ge+Ye)+((8191&Se)<<13);return ge=0|(0|Je+(Se>>>13))+(Pn>>>26),Pn&=67108863,le[0]=lr,le[1]=mr,le[2]=Pr,le[3]=$r,le[4]=Fr,le[5]=vr,le[6]=br,le[7]=Zn,le[8]=yr,le[9]=dr,le[10]=fr,le[11]=Qn,le[12]=Ut,le[13]=Te,le[14]=It,le[15]=un,le[16]=bn,le[17]=Fn,le[18]=Pn,ge!==0&&(le[19]=ge,Z.length++),Z};d||(B=r),e.prototype.mulTo=function(E,j){var Z=this.length+E.length,oe;return oe=this.length===10&&E.length===10?B(this,E,j):63>Z?r(this,E,j):1024>Z?a(this,E,j):l(this,E,j),oe},f.prototype.makeRBT=function(E){for(var j=Array(E),Z=e.prototype._countBits(E)-1,oe=0;oe<E;oe++)j[oe]=this.revBin(oe,Z,E);return j},f.prototype.revBin=function(E,j,Z){if(E===0||E===Z-1)return E;for(var oe=0,q=0;q<j;q++)oe|=(1&E)<<j-q-1,E>>=1;return oe},f.prototype.permute=function(E,j,Z,oe,q,le){for(var ge=0;ge<le;ge++)oe[ge]=j[E[ge]],q[ge]=Z[E[ge]]},f.prototype.transform=function(E,j,Z,oe,q,le){this.permute(le,E,j,Z,oe,q);for(var ge=1;ge<q;ge<<=1)for(var Re=ge<<1,ke=_(2*x/Re),De=T(2*x/Re),$e=0;$e<q;$e+=Re)for(var qe=ke,nt=De,bt=0;bt<ge;bt++){var ct=Z[$e+bt],Me=oe[$e+bt],Ge=Z[$e+bt+ge],Ze=oe[$e+bt+ge],ft=qe*Ge-nt*Ze;Ze=qe*Ze+nt*Ge,Ge=ft,Z[$e+bt]=ct+Ge,oe[$e+bt]=Me+Ze,Z[$e+bt+ge]=ct-Ge,oe[$e+bt+ge]=Me-Ze,bt!==Re&&(ft=ke*qe-De*nt,nt=ke*nt+De*qe,qe=ft)}},f.prototype.guessLen13b=function(E,j){var Z=1|F(j,E),oe=1&Z,q=0;for(Z=0|Z/2;Z;Z>>>=1)q++;return 1<<q+1+oe},f.prototype.conjugate=function(E,j,Z){if(!(1>=Z))for(var oe=0,q;oe<Z/2;oe++)q=E[oe],E[oe]=E[Z-oe-1],E[Z-oe-1]=q,q=j[oe],j[oe]=-j[Z-oe-1],j[Z-oe-1]=-q},f.prototype.normalize13b=function(E,j){for(var Z=0,oe=0,q;oe<j/2;oe++)q=8192*D(E[2*oe+1]/j)+D(E[2*oe]/j)+Z,E[oe]=67108863&q,Z=67108864>q?0:0|q/67108864;return E},f.prototype.convert13b=function(E,j,Z,oe){for(var q=0,le=0;le<j;le++)q+=0|E[le],Z[2*le]=8191&q,q>>>=13,Z[2*le+1]=8191&q,q>>>=13;for(le=2*j;le<oe;++le)Z[le]=0;v(q===0),v((-8192&q)==0)},f.prototype.stub=function(E){for(var j=Array(E),Z=0;Z<E;Z++)j[Z]=0;return j},f.prototype.mulp=function(E,j,Z){var oe=2*this.guessLen13b(E.length,j.length),q=this.makeRBT(oe),le=this.stub(oe),ge=Array(oe),Re=Array(oe),ke=Array(oe),De=Array(oe),$e=Array(oe),qe=Array(oe),nt=Z.words;nt.length=oe,this.convert13b(E.words,E.length,ge,oe),this.convert13b(j.words,j.length,De,oe),this.transform(ge,le,Re,ke,oe,q),this.transform(De,le,$e,qe,oe,q);for(var bt=0,ct;bt<oe;bt++)ct=Re[bt]*$e[bt]-ke[bt]*qe[bt],ke[bt]=Re[bt]*qe[bt]+ke[bt]*$e[bt],Re[bt]=ct;return this.conjugate(Re,ke,oe),this.transform(Re,ke,nt,le,oe,q),this.conjugate(nt,le,oe),this.normalize13b(nt,oe),Z.negative=E.negative^j.negative,Z.length=E.length+j.length,Z._strip()},e.prototype.mul=function(E){var j=new e(null);return j.words=Array(this.length+E.length),this.mulTo(E,j)},e.prototype.mulf=function(E){var j=new e(null);return j.words=Array(this.length+E.length),l(this,E,j)},e.prototype.imul=function(E){return this.clone().mulTo(E,this)},e.prototype.imuln=function(E){var j=0>E;j&&(E=-E),v(typeof E=="number"),v(67108864>E);for(var Z=0,oe=0;oe<this.length;oe++){var q=(0|this.words[oe])*E,le=(67108863&q)+(67108863&Z);Z>>=26,Z+=0|q/67108864,Z+=le>>>26,this.words[oe]=67108863&le}return Z!==0&&(this.words[oe]=Z,this.length++),j?this.ineg():this},e.prototype.muln=function(E){return this.clone().imuln(E)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(E){var j=t(E);if(j.length===0)return new e(1);for(var Z=this,oe=0;oe<j.length&&j[oe]===0;oe++,Z=Z.sqr());if(++oe<j.length)for(var q=Z.sqr();oe<j.length;oe++,q=q.sqr())j[oe]!==0&&(Z=Z.mul(q));return Z},e.prototype.iushln=function(E){v(typeof E=="number"&&0<=E);var j=E%26,Z=(E-j)/26,oe=67108863>>>26-j<<26-j,q;if(j!=0){var le=0;for(q=0;q<this.length;q++){var ge=this.words[q]&oe,Re=(0|this.words[q])-ge<<j;this.words[q]=Re|le,le=ge>>>26-j}le&&(this.words[q]=le,this.length++)}if(Z!==0){for(q=this.length-1;0<=q;q--)this.words[q+Z]=this.words[q];for(q=0;q<Z;q++)this.words[q]=0;this.length+=Z}return this._strip()},e.prototype.ishln=function(E){return v(this.negative===0),this.iushln(E)},e.prototype.iushrn=function(E,j,Z){v(typeof E=="number"&&0<=E);var oe;oe=j?(j-j%26)/26:0;var q=E%26,le=J((E-q)/26,this.length),ge=67108863^67108863>>>q<<q,Re=Z;if(oe-=le,oe=F(0,oe),Re){for(var ke=0;ke<le;ke++)Re.words[ke]=this.words[ke];Re.length=le}if(le!==0)if(this.length>le)for(this.length-=le,ke=0;ke<this.length;ke++)this.words[ke]=this.words[ke+le];else this.words[0]=0,this.length=1;var De=0;for(ke=this.length-1;0<=ke&&(De!==0||ke>=oe);ke--){var $e=0|this.words[ke];this.words[ke]=De<<26-q|$e>>>q,De=$e&ge}return Re&&De!==0&&(Re.words[Re.length++]=De),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(E,j,Z){return v(this.negative===0),this.iushrn(E,j,Z)},e.prototype.shln=function(E){return this.clone().ishln(E)},e.prototype.ushln=function(E){return this.clone().iushln(E)},e.prototype.shrn=function(E){return this.clone().ishrn(E)},e.prototype.ushrn=function(E){return this.clone().iushrn(E)},e.prototype.testn=function(E){v(typeof E=="number"&&0<=E);var j=E%26,Z=(E-j)/26,oe=1<<j;if(this.length<=Z)return!1;var q=this.words[Z];return!!(q&oe)},e.prototype.imaskn=function(E){v(typeof E=="number"&&0<=E);var j=E%26,Z=(E-j)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(j!=0&&Z++,this.length=J(Z,this.length),j!=0){var oe=67108863^67108863>>>j<<j;this.words[this.length-1]&=oe}return this._strip()},e.prototype.maskn=function(E){return this.clone().imaskn(E)},e.prototype.iaddn=function(E){return v(typeof E=="number"),v(67108864>E),0>E?this.isubn(-E):this.negative===0?this._iaddn(E):this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this)},e.prototype._iaddn=function(E){this.words[0]+=E;for(var j=0;j<this.length&&67108864<=this.words[j];j++)this.words[j]-=67108864,j==this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=F(this.length,j+1),this},e.prototype.isubn=function(E){if(v(typeof E=="number"),v(67108864>E),0>E)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&0>this.words[j];j++)this.words[j]+=67108864,this.words[j+1]-=1;return this._strip()},e.prototype.addn=function(E){return this.clone().iaddn(E)},e.prototype.subn=function(E){return this.clone().isubn(E)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(E,j,Z){var oe=E.length+Z,q;this._expand(oe);var le=0,ge;for(q=0;q<E.length;q++){ge=(0|this.words[q+Z])+le;var Re=(0|E.words[q])*j;ge-=67108863&Re,le=(ge>>26)-(0|Re/67108864),this.words[q+Z]=67108863&ge}for(;q<this.length-Z;q++)ge=(0|this.words[q+Z])+le,le=ge>>26,this.words[q+Z]=67108863&ge;if(le===0)return this._strip();for(v(le===-1),le=0,q=0;q<this.length;q++)ge=-(0|this.words[q])+le,le=ge>>26,this.words[q]=67108863&ge;return this.negative=1,this._strip()},e.prototype._wordDiv=function(E,j){var Z=this.length-E.length,oe=this.clone(),q=E,le=0|q.words[q.length-1],ge=this._countBits(le);Z=26-ge,Z!=0&&(q=q.ushln(Z),oe.iushln(Z),le=0|q.words[q.length-1]);var Re=oe.length-q.length,ke;if(j!=="mod"){ke=new e(null),ke.length=Re+1,ke.words=Array(ke.length);for(var De=0;De<ke.length;De++)ke.words[De]=0}var $e=oe.clone()._ishlnsubmul(q,1,Re);$e.negative===0&&(oe=$e,ke&&(ke.words[Re]=1));for(var qe=Re-1,nt;0<=qe;qe--){for(nt=67108864*(0|oe.words[q.length+qe])+(0|oe.words[q.length+qe-1]),nt=J(0|nt/le,67108863),oe._ishlnsubmul(q,nt,qe);oe.negative!==0;)nt--,oe.negative=0,oe._ishlnsubmul(q,1,qe),oe.isZero()||(oe.negative^=1);ke&&(ke.words[qe]=nt)}return ke&&ke._strip(),oe._strip(),j!=="div"&&Z!==0&&oe.iushrn(Z),{div:ke||null,mod:oe}},e.prototype.divmod=function(E,j,Z){if(v(!E.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var oe,q,le;return this.negative!==0&&E.negative===0?(le=this.neg().divmod(E,j),j!=="mod"&&(oe=le.div.neg()),j!=="div"&&(q=le.mod.neg(),Z&&q.negative!==0&&q.iadd(E)),{div:oe,mod:q}):this.negative===0&&E.negative!==0?(le=this.divmod(E.neg(),j),j!=="mod"&&(oe=le.div.neg()),{div:oe,mod:le.mod}):(this.negative&E.negative)==0?E.length>this.length||0>this.cmp(E)?{div:new e(0),mod:this}:E.length===1?j==="div"?{div:this.divn(E.words[0]),mod:null}:j==="mod"?{div:null,mod:new e(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new e(this.modrn(E.words[0]))}:this._wordDiv(E,j):(le=this.neg().divmod(E.neg(),j),j!=="div"&&(q=le.mod.neg(),Z&&q.negative!==0&&q.isub(E)),{div:le.div,mod:q})},e.prototype.div=function(E){return this.divmod(E,"div",!1).div},e.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},e.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},e.prototype.divRound=function(E){var j=this.divmod(E);if(j.mod.isZero())return j.div;var Z=j.div.negative===0?j.mod:j.mod.isub(E),oe=E.ushrn(1),q=E.andln(1),le=Z.cmp(oe);return 0>le||q===1&&le===0?j.div:j.div.negative===0?j.div.iaddn(1):j.div.isubn(1)},e.prototype.modrn=function(E){var j=0>E;j&&(E=-E),v(67108863>=E);for(var Z=67108864%E,oe=0,q=this.length-1;0<=q;q--)oe=(Z*oe+(0|this.words[q]))%E;return j?-oe:oe},e.prototype.modn=function(E){return this.modrn(E)},e.prototype.idivn=function(E){var j=0>E;j&&(E=-E),v(67108863>=E);for(var Z=0,oe=this.length-1,q;0<=oe;oe--)q=(0|this.words[oe])+67108864*Z,this.words[oe]=0|q/E,Z=q%E;return this._strip(),j?this.ineg():this},e.prototype.divn=function(E){return this.clone().idivn(E)},e.prototype.egcd=function(E){v(E.negative===0),v(!E.isZero());var j=this,Z=E.clone();j=j.negative===0?j.clone():j.umod(E);for(var oe=new e(1),q=new e(0),le=new e(0),ge=new e(1),Re=0;j.isEven()&&Z.isEven();)j.iushrn(1),Z.iushrn(1),++Re;for(var ke=Z.clone(),De=j.clone();!j.isZero();){for(var $e=0,qe=1;(j.words[0]&qe)==0&&26>$e;++$e,qe<<=1);if(0<$e)for(j.iushrn($e);0<$e--;)(oe.isOdd()||q.isOdd())&&(oe.iadd(ke),q.isub(De)),oe.iushrn(1),q.iushrn(1);for(var nt=0,bt=1;(Z.words[0]&bt)==0&&26>nt;++nt,bt<<=1);if(0<nt)for(Z.iushrn(nt);0<nt--;)(le.isOdd()||ge.isOdd())&&(le.iadd(ke),ge.isub(De)),le.iushrn(1),ge.iushrn(1);0<=j.cmp(Z)?(j.isub(Z),oe.isub(le),q.isub(ge)):(Z.isub(j),le.isub(oe),ge.isub(q))}return{a:le,b:ge,gcd:Z.iushln(Re)}},e.prototype._invmp=function(E){v(E.negative===0),v(!E.isZero());var j=this,Z=E.clone();j=j.negative===0?j.clone():j.umod(E);for(var oe=new e(1),q=new e(0),le=Z.clone();0<j.cmpn(1)&&0<Z.cmpn(1);){for(var ge=0,Re=1;(j.words[0]&Re)==0&&26>ge;++ge,Re<<=1);if(0<ge)for(j.iushrn(ge);0<ge--;)oe.isOdd()&&oe.iadd(le),oe.iushrn(1);for(var ke=0,De=1;(Z.words[0]&De)==0&&26>ke;++ke,De<<=1);if(0<ke)for(Z.iushrn(ke);0<ke--;)q.isOdd()&&q.iadd(le),q.iushrn(1);0<=j.cmp(Z)?(j.isub(Z),oe.isub(q)):(Z.isub(j),q.isub(oe))}var $e;return $e=j.cmpn(1)===0?oe:q,0>$e.cmpn(0)&&$e.iadd(E),$e},e.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var j=this.clone(),Z=E.clone();j.negative=0,Z.negative=0;for(var oe=0;j.isEven()&&Z.isEven();oe++)j.iushrn(1),Z.iushrn(1);do{for(;j.isEven();)j.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var q=j.cmp(Z);if(0>q){var le=j;j=Z,Z=le}else if(q===0||Z.cmpn(1)===0)break;j.isub(Z)}while(!0);return Z.iushln(oe)},e.prototype.invm=function(E){return this.egcd(E).a.umod(E)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(E){return this.words[0]&E},e.prototype.bincn=function(E){v(typeof E=="number");var j=E%26,Z=(E-j)/26,oe=1<<j;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=oe,this;for(var q=oe,le=Z,ge;q!==0&&le<this.length;le++)ge=0|this.words[le],ge+=q,q=ge>>>26,ge&=67108863,this.words[le]=ge;return q!==0&&(this.words[le]=q,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(E){var j=0>E;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;this._strip();var Z;if(1<this.length)Z=1;else{j&&(E=-E),v(67108863>=E,"Number is too big");var oe=0|this.words[0];Z=oe===E?0:oe<E?-1:1}return this.negative===0?Z:0|-Z},e.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var j=this.ucmp(E);return this.negative===0?j:0|-j},e.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var j=0,Z=this.length-1;0<=Z;Z--){var oe=0|this.words[Z],q=0|E.words[Z];if(oe!=q){oe<q?j=-1:oe>q&&(j=1);break}}return j},e.prototype.gtn=function(E){return this.cmpn(E)===1},e.prototype.gt=function(E){return this.cmp(E)===1},e.prototype.gten=function(E){return 0<=this.cmpn(E)},e.prototype.gte=function(E){return 0<=this.cmp(E)},e.prototype.ltn=function(E){return this.cmpn(E)===-1},e.prototype.lt=function(E){return this.cmp(E)===-1},e.prototype.lten=function(E){return 0>=this.cmpn(E)},e.prototype.lte=function(E){return 0>=this.cmp(E)},e.prototype.eqn=function(E){return this.cmpn(E)===0},e.prototype.eq=function(E){return this.cmp(E)===0},e.red=function(E){return new L(E)},e.prototype.toRed=function(E){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},e.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(E){return this.red=E,this},e.prototype.forceRed=function(E){return v(!this.red,"Already a number in reduction context"),this._forceRed(E)},e.prototype.redAdd=function(E){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},e.prototype.redIAdd=function(E){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},e.prototype.redSub=function(E){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},e.prototype.redISub=function(E){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},e.prototype.redShl=function(E){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},e.prototype.redMul=function(E){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},e.prototype.redIMul=function(E){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},e.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(E){return v(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var K={k256:null,p224:null,p192:null,p25519:null};b.prototype._tmp=function(){var E=new e(null);return E.words=Array(N(this.n/13)),E},b.prototype.ireduce=function(E){var j=E,Z;do this.split(j,this.tmp),j=this.imulK(j),j=j.iadd(this.tmp),Z=j.bitLength();while(Z>this.n);var oe=Z<this.n?-1:j.ucmp(this.p);return oe===0?(j.words[0]=0,j.length=1):0<oe?j.isub(this.p):j.strip===void 0?j._strip():j.strip(),j},b.prototype.split=function(E,j){E.iushrn(this.n,0,j)},b.prototype.imulK=function(E){return E.imul(this.k)},h(C,b),C.prototype.split=function(E,j){for(var Z=4194303,oe=J(E.length,9),q=0;q<oe;q++)j.words[q]=E.words[q];if(j.length=oe,9>=E.length)return E.words[0]=0,void(E.length=1);var le=E.words[9];for(j.words[j.length++]=le&Z,q=10;q<E.length;q++){var ge=0|E.words[q];E.words[q-10]=(ge&Z)<<4|le>>>22,le=ge}le>>>=22,E.words[q-10]=le,E.length-=le===0&&10<E.length?10:9},C.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var j=0,Z=0,oe;Z<E.length;Z++)oe=0|E.words[Z],j+=977*oe,E.words[Z]=67108863&j,j=64*oe+(0|j/67108864);return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},h($,b),h(W,b),h(R,b),R.prototype.imulK=function(E){for(var j=0,Z=0;Z<E.length;Z++){var oe=19*(0|E.words[Z])+j,q=67108863&oe;oe>>>=26,E.words[Z]=q,j=oe}return j!==0&&(E.words[E.length++]=j),E},e._prime=function(E){if(K[E])return K[E];var j;if(E==="k256")j=new C;else if(E==="p224")j=new $;else if(E==="p192")j=new W;else if(E==="p25519")j=new R;else throw new Error("Unknown prime "+E);return K[E]=j,j},L.prototype._verify1=function(E){v(E.negative===0,"red works only with positives"),v(E.red,"red works only with red numbers")},L.prototype._verify2=function(E,j){v((E.negative|j.negative)==0,"red works only with positives"),v(E.red&&E.red===j.red,"red works only with red numbers")},L.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(u(E,E.umod(this.m)._forceRed(this)),E)},L.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},L.prototype.add=function(E,j){this._verify2(E,j);var Z=E.add(j);return 0<=Z.cmp(this.m)&&Z.isub(this.m),Z._forceRed(this)},L.prototype.iadd=function(E,j){this._verify2(E,j);var Z=E.iadd(j);return 0<=Z.cmp(this.m)&&Z.isub(this.m),Z},L.prototype.sub=function(E,j){this._verify2(E,j);var Z=E.sub(j);return 0>Z.cmpn(0)&&Z.iadd(this.m),Z._forceRed(this)},L.prototype.isub=function(E,j){this._verify2(E,j);var Z=E.isub(j);return 0>Z.cmpn(0)&&Z.iadd(this.m),Z},L.prototype.shl=function(E,j){return this._verify1(E),this.imod(E.ushln(j))},L.prototype.imul=function(E,j){return this._verify2(E,j),this.imod(E.imul(j))},L.prototype.mul=function(E,j){return this._verify2(E,j),this.imod(E.mul(j))},L.prototype.isqr=function(E){return this.imul(E,E.clone())},L.prototype.sqr=function(E){return this.mul(E,E)},L.prototype.sqrt=function(E){if(E.isZero())return E.clone();var j=this.m.andln(3);if(v(j%2==1),j===3){var Z=this.m.add(new e(1)).iushrn(2);return this.pow(E,Z)}for(var oe=this.m.subn(1),q=0;!oe.isZero()&&oe.andln(1)===0;)q++,oe.iushrn(1);v(!oe.isZero());var le=new e(1).toRed(this),ge=le.redNeg(),Re=this.m.subn(1).iushrn(1),ke=this.m.bitLength();for(ke=new e(2*ke*ke).toRed(this);this.pow(ke,Re).cmp(ge)!==0;)ke.redIAdd(ge);for(var De=this.pow(ke,oe),$e=this.pow(E,oe.addn(1).iushrn(1)),qe=this.pow(E,oe),nt=q;qe.cmp(le)!==0;){for(var bt=qe,ct=0;bt.cmp(le)!==0;ct++)bt=bt.redSqr();v(ct<nt);var Me=this.pow(De,new e(1).iushln(nt-ct-1));$e=$e.redMul(Me),De=Me.redSqr(),qe=qe.redMul(De),nt=ct}return $e},L.prototype.invm=function(E){var j=E._invmp(this.m);return j.negative===0?this.imod(j):(j.negative=0,this.imod(j).redNeg())},L.prototype.pow=function(E,j){if(j.isZero())return new e(1).toRed(this);if(j.cmpn(1)===0)return E.clone();var Z=4,oe=Array(16);oe[0]=new e(1).toRed(this),oe[1]=E;for(var q=2;q<oe.length;q++)oe[q]=this.mul(oe[q-1],E);var le=oe[0],ge=0,Re=0,ke=j.bitLength()%26;for(ke===0&&(ke=26),q=j.length-1;0<=q;q--){for(var De=j.words[q],$e=ke-1,qe;0<=$e;$e--){if(qe=1&De>>$e,le!==oe[0]&&(le=this.sqr(le)),qe===0&&ge===0){Re=0;continue}ge<<=1,ge|=qe,Re++,(Re===4||q===0&&$e===0)&&(le=this.mul(le,oe[ge]),Re=0,ge=0)}ke=26}return le},L.prototype.convertTo=function(E){var j=E.umod(this.m);return j===E?j.clone():j},L.prototype.convertFrom=function(E){var j=E.clone();return j.red=null,j},e.mont=function(E){return new Y(E)},h(Y,L),Y.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},Y.prototype.convertFrom=function(E){var j=this.imod(E.mul(this.rinv));return j.red=null,j},Y.prototype.imul=function(E,j){if(E.isZero()||j.isZero())return E.words[0]=0,E.length=1,E;var Z=E.imul(j),oe=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=Z.isub(oe).iushrn(this.shift),le=q;return 0<=q.cmp(this.m)?le=q.isub(this.m):0>q.cmpn(0)&&(le=q.iadd(this.m)),le._forceRed(this)},Y.prototype.mul=function(E,j){if(E.isZero()||j.isZero())return new e(0)._forceRed(this);var Z=E.mul(j),oe=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=Z.isub(oe).iushrn(this.shift),le=q;return 0<=q.cmp(this.m)?le=q.isub(this.m):0>q.cmpn(0)&&(le=q.iadd(this.m)),le._forceRed(this)},Y.prototype.invm=function(E){var j=this.imod(E._invmp(this.m).mul(this.r2));return j._forceRed(this)}})(typeof U=="undefined"||U,this)},{buffer:42}],41:[function(m,U,A){function p(h){this.rand=h}var w;if(U.exports=function(e){return w||(w=new p(null)),w.generate(e)},U.exports.Rand=p,p.prototype.generate=function(e){return this._rand(e)},p.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var o=new Uint8Array(e),i=0;i<o.length;i++)o[i]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?p.prototype._rand=function(e){var o=new Uint8Array(e);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?p.prototype._rand=function(e){var o=new Uint8Array(e);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(p.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var v=m("crypto");if(typeof v.randomBytes!="function")throw new Error("Not supported");p.prototype._rand=function(e){return v.randomBytes(e)}}catch{}},{crypto:42}],42:[function(m,U,A){},{}],43:[function(m,U,A){function p(c){e.isBuffer(c)||(c=e.from(c));for(var u=0|c.length/4,s=Array(u),t=0;t<u;t++)s[t]=c.readUInt32BE(4*t);return s}function w(c){for(var u=0;u<c.length;c++)c[u]=0}function v(c,u,s,t,r){for(var a=s[0],l=s[1],f=s[2],b=s[3],C=c[0]^u[0],$=c[1]^u[1],W=c[2]^u[2],R=c[3]^u[3],L=4,Y=1,ee,ae,fe,xe;Y<r;Y++)ee=a[C>>>24]^l[255&$>>>16]^f[255&W>>>8]^b[255&R]^u[L++],ae=a[$>>>24]^l[255&W>>>16]^f[255&R>>>8]^b[255&C]^u[L++],fe=a[W>>>24]^l[255&R>>>16]^f[255&C>>>8]^b[255&$]^u[L++],xe=a[R>>>24]^l[255&C>>>16]^f[255&$>>>8]^b[255&W]^u[L++],C=ee,$=ae,W=fe,R=xe;return ee=(t[C>>>24]<<24|t[255&$>>>16]<<16|t[255&W>>>8]<<8|t[255&R])^u[L++],ae=(t[$>>>24]<<24|t[255&W>>>16]<<16|t[255&R>>>8]<<8|t[255&C])^u[L++],fe=(t[W>>>24]<<24|t[255&R>>>16]<<16|t[255&C>>>8]<<8|t[255&$])^u[L++],xe=(t[R>>>24]<<24|t[255&C>>>16]<<16|t[255&$>>>8]<<8|t[255&W])^u[L++],ee>>>=0,ae>>>=0,fe>>>=0,xe>>>=0,[ee,ae,fe,xe]}function h(c){this._key=p(c),this._reset()}var e=m("safe-buffer").Buffer,o=[0,1,2,4,8,16,32,64,128,27,54],i=(function(){for(var c=Array(256),u=0;256>u;u++)c[u]=128>u?u<<1:283^u<<1;for(var s=[],t=[],r=[[],[],[],[]],a=[[],[],[],[]],l=0,f=0,b=0,C;256>b;++b){C=f^f<<1^f<<2^f<<3^f<<4,C=99^(C>>>8^255&C),s[l]=C,t[C]=l;var $=c[l],W=c[$],R=c[W],L=257*c[C]^16843008*C;r[0][l]=L<<24|L>>>8,r[1][l]=L<<16|L>>>16,r[2][l]=L<<8|L>>>24,r[3][l]=L,L=16843009*R^65537*W^257*$^16843008*l,a[0][C]=L<<24|L>>>8,a[1][C]=L<<16|L>>>16,a[2][C]=L<<8|L>>>24,a[3][C]=L,l===0?l=f=1:(l=$^c[c[c[R^$]]],f^=c[c[f]])}return{SBOX:s,INV_SBOX:t,SUB_MIX:r,INV_SUB_MIX:a}})();h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var c=this._key,u=c.length,s=u+6,t=4*(s+1),r=[],a=0;a<u;a++)r[a]=c[a];for(a=u;a<t;a++){var l=r[a-1];a%u==0?(l=l<<8|l>>>24,l=i.SBOX[l>>>24]<<24|i.SBOX[255&l>>>16]<<16|i.SBOX[255&l>>>8]<<8|i.SBOX[255&l],l^=o[0|a/u]<<24):6<u&&a%u==4&&(l=i.SBOX[l>>>24]<<24|i.SBOX[255&l>>>16]<<16|i.SBOX[255&l>>>8]<<8|i.SBOX[255&l]),r[a]=r[a-u]^l}for(var f=[],b=0;b<t;b++){var C=t-b,$=r[C-(b%4?0:4)];f[b]=4>b||4>=C?$:i.INV_SUB_MIX[0][i.SBOX[$>>>24]]^i.INV_SUB_MIX[1][i.SBOX[255&$>>>16]]^i.INV_SUB_MIX[2][i.SBOX[255&$>>>8]]^i.INV_SUB_MIX[3][i.SBOX[255&$]]}this._nRounds=s,this._keySchedule=r,this._invKeySchedule=f},h.prototype.encryptBlockRaw=function(c){return c=p(c),v(c,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},h.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),s=e.allocUnsafe(16);return s.writeUInt32BE(u[0],0),s.writeUInt32BE(u[1],4),s.writeUInt32BE(u[2],8),s.writeUInt32BE(u[3],12),s},h.prototype.decryptBlock=function(c){c=p(c);var u=c[1];c[1]=c[3],c[3]=u;var s=v(c,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),t=e.allocUnsafe(16);return t.writeUInt32BE(s[0],0),t.writeUInt32BE(s[3],4),t.writeUInt32BE(s[2],8),t.writeUInt32BE(s[1],12),t},h.prototype.scrub=function(){w(this._keySchedule),w(this._invKeySchedule),w(this._key)},U.exports.AES=h},{"safe-buffer":235}],44:[function(m,U,A){function p(t,r){var a=0;t.length!==r.length&&a++;for(var l=J(t.length,r.length),f=0;f<l;++f)a+=t[f]^r[f];return a}function w(t,r,a){if(r.length===12)return t._finID=e.concat([r,e.from([0,0,0,1])]),e.concat([r,e.from([0,0,0,2])]);var l=new c(a),f=r.length,b=f%16;l.update(r),b&&(b=16-b,l.update(e.alloc(b,0))),l.update(e.alloc(8,0));var C=8*f,$=e.alloc(8);$.writeUIntBE(C,0,8),l.update($),t._finID=l.state;var W=e.from(t._finID);return s(W),W}function v(t,r,a,l){o.call(this);var f=e.alloc(4,0);this._cipher=new h.AES(r);var b=this._cipher.encryptBlock(f);this._ghash=new c(b),a=w(this,a,b),this._prev=e.from(a),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=l,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}var h=m("./aes"),e=m("safe-buffer").Buffer,o=m("cipher-base"),i=m("inherits"),c=m("./ghash"),u=m("buffer-xor"),s=m("./incr32");i(v,o),v.prototype._update=function(t){if(!this._called&&this._alen){var r=16-this._alen%16;16>r&&(r=e.alloc(r,0),this._ghash.update(r))}this._called=!0;var a=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(a),this._len+=t.length,a},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&p(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(r){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=r},v.prototype.setAAD=function(r){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(r),this._alen+=r.length},U.exports=v},{"./aes":43,"./ghash":48,"./incr32":49,"buffer-xor":75,"cipher-base":80,inherits:147,"safe-buffer":235}],45:[function(m,U,A){function p(){return Object.keys(h)}var w=m("./encrypter"),v=m("./decrypter"),h=m("./modes/list.json");A.createCipher=A.Cipher=w.createCipher,A.createCipheriv=A.Cipheriv=w.createCipheriv,A.createDecipher=A.Decipher=v.createDecipher,A.createDecipheriv=A.Decipheriv=v.createDecipheriv,A.listCiphers=A.getCiphers=p},{"./decrypter":46,"./encrypter":47,"./modes/list.json":57}],46:[function(m,U,A){function p(l,f,b){s.call(this),this._cache=new w,this._last=void 0,this._cipher=new t.AES(f),this._prev=i.from(b),this._mode=l,this._autopadding=!0}function w(){this.cache=i.allocUnsafe(0)}function v(l){var f=l[15];if(1>f||16<f)throw new Error("unable to decrypt data");for(var b=-1;++b<f;)if(l[b+(16-f)]!==f)throw new Error("unable to decrypt data");return f===16?void 0:l.slice(0,16-f)}function h(l,f,b){var C=c[l.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=i.from(b)),C.mode!=="GCM"&&b.length!==C.iv)throw new TypeError("invalid iv length "+b.length);if(typeof f=="string"&&(f=i.from(f)),f.length!==C.key/8)throw new TypeError("invalid key length "+f.length);return C.type==="stream"?new u(C.module,f,b,!0):C.type==="auth"?new o(C.module,f,b,!0):new p(C.module,f,b)}function e(l,f){var b=c[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var C=r(f,!1,b.key,b.iv);return h(l,C.key,C.iv)}var o=m("./authCipher"),i=m("safe-buffer").Buffer,c=m("./modes"),u=m("./streamCipher"),s=m("cipher-base"),t=m("./aes"),r=m("evp_bytestokey"),a=m("inherits");a(p,s),p.prototype._update=function(l){this._cache.add(l);for(var f=[],b,C;b=this._cache.get(this._autopadding);)C=this._mode.decrypt(this,b),f.push(C);return i.concat(f)},p.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return v(this._mode.decrypt(this,l));if(l)throw new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},w.prototype.add=function(l){this.cache=i.concat([this.cache,l])},w.prototype.get=function(l){var f;if(l){if(16<this.cache.length)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(16<=this.cache.length)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},w.prototype.flush=function(){if(this.cache.length)return this.cache},A.createDecipher=e,A.createDecipheriv=h},{"./aes":43,"./authCipher":44,"./modes":56,"./streamCipher":59,"cipher-base":80,evp_bytestokey:124,inherits:147,"safe-buffer":235}],47:[function(m,U,A){function p(l,f,b){u.call(this),this._cache=new w,this._cipher=new s.AES(f),this._prev=i.from(b),this._mode=l,this._autopadding=!0}function w(){this.cache=i.allocUnsafe(0)}function v(l,f,b){var C=e[l.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof f=="string"&&(f=i.from(f)),f.length!==C.key/8)throw new TypeError("invalid key length "+f.length);if(typeof b=="string"&&(b=i.from(b)),C.mode!=="GCM"&&b.length!==C.iv)throw new TypeError("invalid iv length "+b.length);return C.type==="stream"?new c(C.module,f,b):C.type==="auth"?new o(C.module,f,b):new p(C.module,f,b)}function h(l,f){var b=e[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var C=t(f,!1,b.key,b.iv);return v(l,C.key,C.iv)}var e=m("./modes"),o=m("./authCipher"),i=m("safe-buffer").Buffer,c=m("./streamCipher"),u=m("cipher-base"),s=m("./aes"),t=m("evp_bytestokey"),r=m("inherits");r(p,u),p.prototype._update=function(l){this._cache.add(l);for(var f=[],b,C;b=this._cache.get();)C=this._mode.encrypt(this,b),f.push(C);return i.concat(f)};var a=i.alloc(16,16);p.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return l=this._mode.encrypt(this,l),this._cipher.scrub(),l;if(!l.equals(a))throw this._cipher.scrub(),new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},w.prototype.add=function(l){this.cache=i.concat([this.cache,l])},w.prototype.get=function(){if(15<this.cache.length){var l=this.cache.slice(0,16);return this.cache=this.cache.slice(16),l}return null},w.prototype.flush=function(){for(var l=16-this.cache.length,f=i.allocUnsafe(l),b=-1;++b<l;)f.writeUInt8(l,b);return i.concat([this.cache,f])},A.createCipheriv=v,A.createCipher=h},{"./aes":43,"./authCipher":44,"./modes":56,"./streamCipher":59,"cipher-base":80,evp_bytestokey:124,inherits:147,"safe-buffer":235}],48:[function(m,U,A){function p(o){return[o.readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)]}function w(o){var i=h.allocUnsafe(16);return i.writeUInt32BE(o[0]>>>0,0),i.writeUInt32BE(o[1]>>>0,4),i.writeUInt32BE(o[2]>>>0,8),i.writeUInt32BE(o[3]>>>0,12),i}function v(o){this.h=o,this.state=h.alloc(16,0),this.cache=h.allocUnsafe(0)}var h=m("safe-buffer").Buffer,e=h.alloc(16,0);v.prototype.ghash=function(o){for(var i=-1;++i<o.length;)this.state[i]^=o[i];this._multiply()},v.prototype._multiply=function(){for(var o=p(this.h),i=[0,0,0,0],c=-1,u,s,t;128>++c;){for(s=(this.state[~~(c/8)]&1<<7-c%8)!=0,s&&(i[0]^=o[0],i[1]^=o[1],i[2]^=o[2],i[3]^=o[3]),t=(1&o[3])!=0,u=3;0<u;u--)o[u]=o[u]>>>1|(1&o[u-1])<<31;o[0]>>>=1,t&&(o[0]^=-520093696)}this.state=w(i)},v.prototype.update=function(o){this.cache=h.concat([this.cache,o]);for(var i;16<=this.cache.length;)i=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(i)},v.prototype.final=function(o,i){return this.cache.length&&this.ghash(h.concat([this.cache,e],16)),this.ghash(w([0,o,0,i])),this.state},U.exports=v},{"safe-buffer":235}],49:[function(m,U,A){function p(w){for(var v=w.length,h;v--;)if(h=w.readUInt8(v),h===255)w.writeUInt8(0,v);else{h++,w.writeUInt8(h,v);break}}U.exports=p},{}],50:[function(m,U,A){var p=m("buffer-xor");A.encrypt=function(w,v){var h=p(v,w._prev);return w._prev=w._cipher.encryptBlock(h),w._prev},A.decrypt=function(w,v){var h=w._prev;w._prev=v;var e=w._cipher.decryptBlock(v);return p(e,h)}},{"buffer-xor":75}],51:[function(m,U,A){function p(h,e,o){var i=e.length,c=v(e,h._cache);return h._cache=h._cache.slice(i),h._prev=w.concat([h._prev,o?e:c]),c}var w=m("safe-buffer").Buffer,v=m("buffer-xor");A.encrypt=function(h,e,o){for(var i=w.allocUnsafe(0),c;e.length;)if(h._cache.length===0&&(h._cache=h._cipher.encryptBlock(h._prev),h._prev=w.allocUnsafe(0)),h._cache.length<=e.length)c=h._cache.length,i=w.concat([i,p(h,e.slice(0,c),o)]),e=e.slice(c);else{i=w.concat([i,p(h,e,o)]);break}return i}},{"buffer-xor":75,"safe-buffer":235}],52:[function(m,U,A){function p(h,e,o){for(var i=-1,c=8,u=0,s,t,r;++i<c;)s=h._cipher.encryptBlock(h._prev),t=e&1<<7-i?128:0,r=s[0]^t,u+=(128&r)>>i%8,h._prev=w(h._prev,o?t:r);return u}function w(h,e){var o=h.length,i=-1,c=v.allocUnsafe(h.length);for(h=v.concat([h,v.from([e])]);++i<o;)c[i]=h[i]<<1|h[i+1]>>7;return c}var v=m("safe-buffer").Buffer;A.encrypt=function(h,e,o){for(var i=e.length,c=v.allocUnsafe(i),u=-1;++u<i;)c[u]=p(h,e[u],o);return c}},{"safe-buffer":235}],53:[function(m,U,A){function p(v,h,e){var o=v._cipher.encryptBlock(v._prev),i=o[0]^h;return v._prev=w.concat([v._prev.slice(1),w.from([e?h:i])]),i}var w=m("safe-buffer").Buffer;A.encrypt=function(v,h,e){for(var o=h.length,i=w.allocUnsafe(o),c=-1;++c<o;)i[c]=p(v,h[c],e);return i}},{"safe-buffer":235}],54:[function(m,U,A){function p(o){var i=o._cipher.encryptBlockRaw(o._prev);return h(o._prev),i}var w=m("buffer-xor"),v=m("safe-buffer").Buffer,h=m("../incr32"),e=16;A.encrypt=function(o,i){var c=N(i.length/e),u=o._cache.length;o._cache=v.concat([o._cache,v.allocUnsafe(c*e)]);for(var s=0;s<c;s++){var t=p(o),r=u+s*e;o._cache.writeUInt32BE(t[0],r+0),o._cache.writeUInt32BE(t[1],r+4),o._cache.writeUInt32BE(t[2],r+8),o._cache.writeUInt32BE(t[3],r+12)}var a=o._cache.slice(0,i.length);return o._cache=o._cache.slice(i.length),w(i,a)}},{"../incr32":49,"buffer-xor":75,"safe-buffer":235}],55:[function(m,U,A){A.encrypt=function(p,w){return p._cipher.encryptBlock(w)},A.decrypt=function(p,w){return p._cipher.decryptBlock(w)}},{}],56:[function(m,U,A){var p={ECB:m("./ecb"),CBC:m("./cbc"),CFB:m("./cfb"),CFB8:m("./cfb8"),CFB1:m("./cfb1"),OFB:m("./ofb"),CTR:m("./ctr"),GCM:m("./ctr")},w=m("./list.json");for(var v in w)w[v].module=p[w[v].mode];U.exports=w},{"./cbc":50,"./cfb":51,"./cfb1":52,"./cfb8":53,"./ctr":54,"./ecb":55,"./list.json":57,"./ofb":58}],57:[function(m,U,A){U.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],58:[function(m,U,A){(function(p){(function(){function w(h){return h._prev=h._cipher.encryptBlock(h._prev),h._prev}var v=m("buffer-xor");A.encrypt=function(h,e){for(;h._cache.length<e.length;)h._cache=p.concat([h._cache,w(h)]);var o=h._cache.slice(0,e.length);return h._cache=h._cache.slice(e.length),v(e,o)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"buffer-xor":75}],59:[function(m,U,A){function p(o,i,c,u){h.call(this),this._cipher=new w.AES(i),this._prev=v.from(c),this._cache=v.allocUnsafe(0),this._secCache=v.allocUnsafe(0),this._decrypt=u,this._mode=o}var w=m("./aes"),v=m("safe-buffer").Buffer,h=m("cipher-base"),e=m("inherits");e(p,h),p.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},p.prototype._final=function(){this._cipher.scrub()},U.exports=p},{"./aes":43,"cipher-base":80,inherits:147,"safe-buffer":235}],60:[function(m,U,A){function p(t,r){t=t.toLowerCase();var a,l;if(c[t])a=c[t].key,l=c[t].iv;else if(u[t])a=8*u[t].key,l=u[t].iv;else throw new TypeError("invalid suite type");var f=s(r,!1,a,l);return v(t,f.key,f.iv)}function w(t,r){t=t.toLowerCase();var a,l;if(c[t])a=c[t].key,l=c[t].iv;else if(u[t])a=8*u[t].key,l=u[t].iv;else throw new TypeError("invalid suite type");var f=s(r,!1,a,l);return h(t,f.key,f.iv)}function v(t,r,a){if(t=t.toLowerCase(),c[t])return i.createCipheriv(t,r,a);if(u[t])return new o({key:r,iv:a,mode:t});throw new TypeError("invalid suite type")}function h(t,r,a){if(t=t.toLowerCase(),c[t])return i.createDecipheriv(t,r,a);if(u[t])return new o({key:r,iv:a,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function e(){return Object.keys(u).concat(i.getCiphers())}var o=m("browserify-des"),i=m("browserify-aes/browser"),c=m("browserify-aes/modes"),u=m("browserify-des/modes"),s=m("evp_bytestokey");A.createCipher=A.Cipher=p,A.createCipheriv=A.Cipheriv=v,A.createDecipher=A.Decipher=w,A.createDecipheriv=A.Decipheriv=h,A.listCiphers=A.getCiphers=e},{"browserify-aes/browser":45,"browserify-aes/modes":56,"browserify-des":61,"browserify-des/modes":62,evp_bytestokey:124}],61:[function(m,U,A){function p(i){w.call(this);var c=i.mode.toLowerCase(),u=o[c],s;s=i.decrypt?"decrypt":"encrypt";var t=i.key;e.isBuffer(t)||(t=e.from(t)),(c==="des-ede"||c==="des-ede-cbc")&&(t=e.concat([t,t.slice(0,8)]));var r=i.iv;e.isBuffer(r)||(r=e.from(r)),this._des=u.create({key:t,iv:r,type:s})}var w=m("cipher-base"),v=m("des.js"),h=m("inherits"),e=m("safe-buffer").Buffer,o={"des-ede3-cbc":v.CBC.instantiate(v.EDE),"des-ede3":v.EDE,"des-ede-cbc":v.CBC.instantiate(v.EDE),"des-ede":v.EDE,"des-cbc":v.CBC.instantiate(v.DES),"des-ecb":v.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],U.exports=p,h(p,w),p.prototype._update=function(i){return e.from(this._des.update(i))},p.prototype._final=function(){return e.from(this._des.final())}},{"cipher-base":80,"des.js":93,inherits:147,"safe-buffer":235}],62:[function(m,U,A){A["des-ecb"]={key:8,iv:0},A["des-cbc"]=A.des={key:8,iv:8},A["des-ede3-cbc"]=A.des3={key:24,iv:8},A["des-ede3"]={key:24,iv:0},A["des-ede-cbc"]={key:16,iv:8},A["des-ede"]={key:16,iv:0}},{}],63:[function(m,U,A){(function(p){(function(){function w(i){var c=v(i),u=c.toRed(e.mont(i.modulus)).redPow(new e(i.publicExponent)).fromRed();return{blinder:u,unblinder:c.invm(i.modulus)}}function v(i){var c=i.modulus.byteLength(),u;do u=new e(o(c));while(0<=u.cmp(i.modulus)||!u.umod(i.prime1)||!u.umod(i.prime2));return u}function h(i,c){var u=w(c),s=c.modulus.byteLength(),t=new e(i).mul(u.blinder).umod(c.modulus),r=t.toRed(e.mont(c.prime1)),a=t.toRed(e.mont(c.prime2)),l=c.coefficient,f=c.prime1,b=c.prime2,C=r.redPow(c.exponent1).fromRed(),$=a.redPow(c.exponent2).fromRed(),W=C.isub($).imul(l).umod(f).imul(b);return $.iadd(W).imul(u.unblinder).umod(c.modulus).toArrayLike(p,"be",s)}var e=m("bn.js"),o=m("randombytes");h.getr=v,U.exports=h}).call(this)}).call(this,m("buffer").Buffer)},{"bn.js":40,buffer:76,randombytes:209}],64:[function(m,U,A){U.exports=m("./browser/algorithms.json")},{"./browser/algorithms.json":65}],65:[function(m,U,A){U.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],66:[function(m,U,A){U.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],67:[function(m,U,A){function p(r){i.Writable.call(this);var a=t[r];if(!a)throw new Error("Unknown message digest");this._hashType=a.hash,this._hash=o(a.hash),this._tag=a.id,this._signType=a.sign}function w(r){i.Writable.call(this);var a=t[r];if(!a)throw new Error("Unknown message digest");this._hash=o(a.hash),this._tag=a.id,this._signType=a.sign}function v(r){return new p(r)}function h(r){return new w(r)}var e=m("safe-buffer").Buffer,o=m("create-hash"),i=m("readable-stream"),c=m("inherits"),u=m("./sign"),s=m("./verify"),t=m("./algorithms.json");Object.keys(t).forEach(function(r){t[r].id=e.from(t[r].id,"hex"),t[r.toLowerCase()]=t[r]}),c(p,i.Writable),p.prototype._write=function(a,l,f){this._hash.update(a),f()},p.prototype.update=function(a,l){return typeof a=="string"&&(a=e.from(a,l)),this._hash.update(a),this},p.prototype.sign=function(a,l){this.end();var f=this._hash.digest(),b=u(f,a,this._hashType,this._signType,this._tag);return l?b.toString(l):b},c(w,i.Writable),w.prototype._write=function(a,l,f){this._hash.update(a),f()},w.prototype.update=function(a,l){return typeof a=="string"&&(a=e.from(a,l)),this._hash.update(a),this},w.prototype.verify=function(a,l,f){typeof l=="string"&&(l=e.from(l,f)),this.end();var b=this._hash.digest();return s(l,b,a,this._signType,this._tag)},U.exports={Sign:v,Verify:h,createSign:v,createVerify:h}},{"./algorithms.json":65,"./sign":68,"./verify":69,"create-hash":85,inherits:147,"readable-stream":228,"safe-buffer":235}],68:[function(m,U,A){function p(C,$,W,R,L){var Y=f($);if(Y.curve){if(R!=="ecdsa"&&R!=="ecdsa/rsa")throw new Error("wrong private key type");return w(C,Y)}if(Y.type==="dsa"){if(R!=="dsa")throw new Error("wrong private key type");return v(C,Y,W)}if(R!=="rsa"&&R!=="ecdsa/rsa")throw new Error("wrong private key type");C=s.concat([L,C]);for(var ee=Y.modulus.byteLength(),ae=[0,1];C.length+ae.length+1<ee;)ae.push(255);ae.push(0);for(var fe=-1;++fe<C.length;)ae.push(C[fe]);var xe=r(ae,Y);return xe}function w(C,$){var W=b[$.curve.join(".")];if(!W)throw new Error("unknown curve "+$.curve.join("."));var R=new a(W),L=R.keyFromPrivate($.privateKey),Y=L.sign(C);return s.from(Y.toDER())}function v(C,$,W){for(var R=$.params.priv_key,L=$.params.p,Y=$.params.q,ee=$.params.g,ae=new l(0),fe=o(C,Y).mod(Y),xe=!1,se=e(R,Y,C,W),B;xe===!1;)B=c(Y,se,W),ae=u(ee,B,L,Y),xe=B.invm(Y).imul(fe.add(R.mul(ae))).mod(Y),xe.cmpn(0)===0&&(xe=!1,ae=new l(0));return h(ae,xe)}function h(C,$){C=C.toArray(),$=$.toArray(),128&C[0]&&(C=[0].concat(C)),128&$[0]&&($=[0].concat($));var W=C.length+$.length+4,R=[48,W,2,C.length];return R=R.concat(C,[2,$.length],$),s.from(R)}function e(C,$,W,R){if(C=s.from(C.toArray()),C.length<$.byteLength()){var L=s.alloc($.byteLength()-C.length);C=s.concat([L,C])}var Y=W.length,ee=i(W,$),ae=s.alloc(Y);ae.fill(1);var fe=s.alloc(Y);return fe=t(R,fe).update(ae).update(s.from([0])).update(C).update(ee).digest(),ae=t(R,fe).update(ae).digest(),fe=t(R,fe).update(ae).update(s.from([1])).update(C).update(ee).digest(),ae=t(R,fe).update(ae).digest(),{k:fe,v:ae}}function o(C,$){var W=new l(C),R=(C.length<<3)-$.bitLength();return 0<R&&W.ishrn(R),W}function i(C,$){C=o(C,$),C=C.mod($);var W=s.from(C.toArray());if(W.length<$.byteLength()){var R=s.alloc($.byteLength()-W.length);W=s.concat([R,W])}return W}function c(C,$,W){var R,L;do{for(R=s.alloc(0);8*R.length<C.bitLength();)$.v=t(W,$.k).update($.v).digest(),R=s.concat([R,$.v]);L=o(R,C),$.k=t(W,$.k).update($.v).update(s.from([0])).digest(),$.v=t(W,$.k).update($.v).digest()}while(L.cmp(C)!==-1);return L}function u(C,$,W,R){return C.toRed(l.mont(W)).redPow($).fromRed().mod(R)}var s=m("safe-buffer").Buffer,t=m("create-hmac"),r=m("browserify-rsa"),a=m("elliptic").ec,l=m("bn.js"),f=m("parse-asn1"),b=m("./curves.json");U.exports=p,U.exports.getKey=e,U.exports.makeKey=c},{"./curves.json":66,"bn.js":40,"browserify-rsa":63,"create-hmac":87,elliptic:104,"parse-asn1":183,"safe-buffer":235}],69:[function(m,U,A){function p(s,t,r,a,l){var f=c(r);if(f.type==="ec"){if(a!=="ecdsa"&&a!=="ecdsa/rsa")throw new Error("wrong public key type");return w(s,t,f)}if(f.type==="dsa"){if(a!=="dsa")throw new Error("wrong public key type");return v(s,t,f)}if(a!=="rsa"&&a!=="ecdsa/rsa")throw new Error("wrong public key type");t=e.concat([l,t]);for(var b=f.modulus.byteLength(),C=[1],$=0;t.length+C.length+2<b;)C.push(255),$++;C.push(0);for(var W=-1;++W<t.length;)C.push(t[W]);C=e.from(C);var R=o.mont(f.modulus);s=new o(s).toRed(R),s=s.redPow(new o(f.publicExponent)),s=e.from(s.fromRed().toArray());var L=8>$?1:0;for(b=J(s.length,C.length),s.length!==C.length&&(L=1),W=-1;++W<b;)L|=s[W]^C[W];return L==0}function w(s,t,r){var a=u[r.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var l=new i(a),f=r.data.subjectPrivateKey.data;return l.verify(t,s,f)}function v(s,t,r){var a=r.data.p,l=r.data.q,f=r.data.g,b=r.data.pub_key,C=c.signature.decode(s,"der"),$=C.s,W=C.r;h($,l),h(W,l);var R=o.mont(a),L=$.invm(l),Y=f.toRed(R).redPow(new o(t).mul(L).mod(l)).fromRed().mul(b.toRed(R).redPow(W.mul(L).mod(l)).fromRed()).mod(a).mod(l);return Y.cmp(W)===0}function h(s,t){if(0>=s.cmpn(0))throw new Error("invalid sig");if(s.cmp(t)>=t)throw new Error("invalid sig")}var e=m("safe-buffer").Buffer,o=m("bn.js"),i=m("elliptic").ec,c=m("parse-asn1"),u=m("./curves.json");U.exports=p},{"./curves.json":66,"bn.js":40,elliptic:104,"parse-asn1":183,"safe-buffer":235}],70:[function(m,U,A){function p(e,o){for(var i in e)o[i]=e[i]}function w(e,o,i){return h(e,o,i)}var v=m("buffer"),h=v.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?U.exports=v:(p(v,A),A.Buffer=w),p(h,w),w.from=function(e,o,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return h(e,o,i)},w.alloc=function(e,o,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var c=h(e);return o===void 0?c.fill(0):typeof i=="string"?c.fill(o,i):c.fill(o),c},w.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return h(e)},w.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return v.SlowBuffer(e)}},{buffer:76}],71:[function(m,U,A){"use strict";function p($){if(!$)return"utf8";for(var W;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(W)return;$=(""+$).toLowerCase(),W=!0}}function w($){var W=p($);if(typeof W!="string"&&(b.isEncoding===C||!C($)))throw new Error("Unknown encoding: "+$);return W||$}function v($){this.encoding=w($);var W;switch(this.encoding){case"utf16le":this.text=s,this.end=t,W=4;break;case"utf8":this.fillLast=i,W=4;break;case"base64":this.text=r,this.end=a,W=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(W)}function h($){return 127>=$?0:$>>5==6?2:$>>4==14?3:$>>3==30?4:$>>6==2?-1:-2}function e($,W,R){var L=W.length-1;if(L<R)return 0;var Y=h(W[L]);return 0<=Y?(0<Y&&($.lastNeed=Y-1),Y):--L<R||Y===-2?0:(Y=h(W[L]),0<=Y?(0<Y&&($.lastNeed=Y-2),Y):--L<R||Y===-2?0:(Y=h(W[L]),0<=Y?(0<Y&&(Y===2?Y=0:$.lastNeed=Y-3),Y):0))}function o($,W,R){if((192&W[0])!=128)return $.lastNeed=0,"\uFFFD";if(1<$.lastNeed&&1<W.length){if((192&W[1])!=128)return $.lastNeed=1,"\uFFFD";if(2<$.lastNeed&&2<W.length&&(192&W[2])!=128)return $.lastNeed=2,"\uFFFD"}}function i($){var W=this.lastTotal-this.lastNeed,R=o(this,$,W);return R===void 0?this.lastNeed<=$.length?($.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):($.copy(this.lastChar,W,0,$.length),void(this.lastNeed-=$.length)):R}function c($,W){var R=e(this,$,W);if(!this.lastNeed)return $.toString("utf8",W);this.lastTotal=R;var L=$.length-(R-this.lastNeed);return $.copy(this.lastChar,0,L),$.toString("utf8",W,L)}function u($){var W=$&&$.length?this.write($):"";return this.lastNeed?W+"\uFFFD":W}function s($,W){if(($.length-W)%2==0){var R=$.toString("utf16le",W);if(R){var L=R.charCodeAt(R.length-1);if(55296<=L&&56319>=L)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",W,$.length-1)}function t($){var W=$&&$.length?this.write($):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return W+this.lastChar.toString("utf16le",0,R)}return W}function r($,W){var R=($.length-W)%3;return R==0?$.toString("base64",W):(this.lastNeed=3-R,this.lastTotal=3,R==1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",W,$.length-R))}function a($){var W=$&&$.length?this.write($):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function l($){return $.toString(this.encoding)}function f($){return $&&$.length?this.write($):""}var b=m("safe-buffer").Buffer,C=b.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};A.StringDecoder=v,v.prototype.write=function($){if($.length===0)return"";var W,R;if(this.lastNeed){if(W=this.fillLast($),W===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<$.length?W?W+this.text($,R):this.text($,R):W||""},v.prototype.end=u,v.prototype.text=c,v.prototype.fillLast=function($){return this.lastNeed<=$.length?($.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):($.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),void(this.lastNeed-=$.length))}},{"safe-buffer":70}],72:[function(m,U,A){(function(p){(function(){function w(v){if(typeof v!="number")throw new TypeError('"size" argument must be a number');if(0>v)throw new RangeError('"size" argument must not be negative');return p.allocUnsafe?p.allocUnsafe(v):new p(v)}U.exports=w}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],73:[function(m,U,A){(function(p){(function(){var w=m("buffer-fill"),v=m("buffer-alloc-unsafe");U.exports=function(e,o,i){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative');if(p.alloc)return p.alloc(e,o,i);var c=v(e);return e===0?c:o===void 0?w(c,0):(typeof i!="string"&&(i=void 0),w(c,o,i))}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"buffer-alloc-unsafe":72,"buffer-fill":74}],74:[function(m,U,A){(function(p){(function(){function w(i){return i.length===1&&256>i.charCodeAt(0)}function v(i,c,u,s){if(0>u||s>i.length)throw new RangeError("Out of range index");return u>>>=0,s=s===void 0?i.length:s>>>0,s>u&&i.fill(c,u,s),i}function h(i,c,u,s){if(0>u||s>i.length)throw new RangeError("Out of range index");if(s<=u)return i;u>>>=0,s=s===void 0?i.length:s>>>0;for(var t=u,r=c.length;t<=s-r;)c.copy(i,t),t+=r;return t!==s&&c.copy(i,t,0,s-t),i}function e(i,c,u,s,t){if(o)return i.fill(c,u,s,t);if(typeof c=="number")return v(i,c,u,s);if(typeof c=="string"){if(typeof u=="string"?(t=u,u=0,s=i.length):typeof s=="string"&&(t=s,s=i.length),t!==void 0&&typeof t!="string")throw new TypeError("encoding must be a string");if(t==="latin1"&&(t="binary"),typeof t=="string"&&!p.isEncoding(t))throw new TypeError("Unknown encoding: "+t);if(c==="")return v(i,0,u,s);if(w(c))return v(i,c.charCodeAt(0),u,s);c=new p(c,t)}return p.isBuffer(c)?h(i,c,u,s):v(i,0,u,s)}var o=(function(){try{if(!p.isEncoding("latin1"))return!1;var i=p.alloc?p.alloc(4):new p(4);return i.fill("ab","ucs2"),i.toString("hex")==="61006200"}catch{return!1}})();U.exports=e}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],75:[function(m,U,A){(function(p){(function(){U.exports=function(v,h){for(var e=J(v.length,h.length),o=new p(e),i=0;i<e;++i)o[i]=v[i]^h[i];return o}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],76:[function(m,U,A){(function(p){(function(){"use strict";function w(){try{var G=new Uint8Array(1);return G.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},G.foo()===42}catch{return!1}}function v(G){if(2147483647<G)throw new RangeError('The value "'+G+'" is invalid for option "size"');var te=new Uint8Array(G);return te.__proto__=h.prototype,te}function h(G,te,de){if(typeof G=="number"){if(typeof te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(G)}return e(G,te,de)}function e(G,te,de){if(typeof G=="string")return u(G,te);if(ArrayBuffer.isView(G))return s(G);if(G==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(ct(G,ArrayBuffer)||G&&ct(G.buffer,ArrayBuffer))return t(G,te,de);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _e=G.valueOf&&G.valueOf();if(_e!=null&&_e!==G)return h.from(_e,te,de);var Pe=r(G);if(Pe)return Pe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return h.from(G[Symbol.toPrimitive]("string"),te,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}function o(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(0>G)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function i(G,te,de){return o(G),0>=G||te===void 0?v(G):typeof de=="string"?v(G).fill(te,de):v(G).fill(te)}function c(G){return o(G),v(0>G?0:0|a(G))}function u(G,te){if((typeof te!="string"||te==="")&&(te="utf8"),!h.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var de=0|f(G,te),_e=v(de),Pe=_e.write(G,te);return Pe!==de&&(_e=_e.slice(0,Pe)),_e}function s(G){for(var te=0>G.length?0:0|a(G.length),de=v(te),_e=0;_e<te;_e+=1)de[_e]=255&G[_e];return de}function t(G,te,de){if(0>te||G.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<te+(de||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return _e=te===void 0&&de===void 0?new Uint8Array(G):de===void 0?new Uint8Array(G,te):new Uint8Array(G,te,de),_e.__proto__=h.prototype,_e}function r(G){if(h.isBuffer(G)){var te=0|a(G.length),de=v(te);return de.length===0||G.copy(de,0,0,te),de}return G.length===void 0?G.type==="Buffer"&&Array.isArray(G.data)?s(G.data):void 0:typeof G.length!="number"||Me(G.length)?v(0):s(G)}function a(G){if(G>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|G}function l(G){return+G!=G&&(G=0),h.alloc(+G)}function f(G,te){if(h.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||ct(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);var de=G.length,_e=2<arguments.length&&arguments[2]===!0;if(!_e&&de===0)return 0;for(var Pe=!1;;)switch(te){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return De(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return nt(G).length;default:if(Pe)return _e?-1:De(G).length;te=(""+te).toLowerCase(),Pe=!0}}function b(G,te,de){var _e=!1;if((te===void 0||0>te)&&(te=0),te>this.length||((de===void 0||de>this.length)&&(de=this.length),0>=de)||(de>>>=0,te>>>=0,de<=te))return"";for(G||(G="utf8");;)switch(G){case"hex":return E(this,te,de);case"utf8":case"utf-8":return se(this,te,de);case"ascii":return K(this,te,de);case"latin1":case"binary":return z(this,te,de);case"base64":return xe(this,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,te,de);default:if(_e)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),_e=!0}}function C(G,te,de){var _e=G[te];G[te]=G[de],G[de]=_e}function $(G,te,de,_e,Pe){if(G.length===0)return-1;if(typeof de=="string"?(_e=de,de=0):2147483647<de?de=2147483647:-2147483648>de&&(de=-2147483648),de=+de,Me(de)&&(de=Pe?0:G.length-1),0>de&&(de=G.length+de),de>=G.length){if(Pe)return-1;de=G.length-1}else if(0>de)if(Pe)de=0;else return-1;if(typeof te=="string"&&(te=h.from(te,_e)),h.isBuffer(te))return te.length===0?-1:W(G,te,de,_e,Pe);if(typeof te=="number")return te&=255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(G,te,de):Uint8Array.prototype.lastIndexOf.call(G,te,de):W(G,[te],de,_e,Pe);throw new TypeError("val must be string, number or Buffer")}function W(G,te,de,_e,Pe){function ze(vn,St){return Ue===1?vn[St]:vn.readUInt16BE(St*Ue)}var Ue=1,yt=G.length,mt=te.length;if(_e!==void 0&&(_e=(_e+"").toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(2>G.length||2>te.length)return-1;Ue=2,yt/=2,mt/=2,de/=2}var et;if(Pe){var Dt=-1;for(et=de;et<yt;et++)if(ze(G,et)!==ze(te,Dt===-1?0:et-Dt))Dt!==-1&&(et-=et-Dt),Dt=-1;else if(Dt===-1&&(Dt=et),et-Dt+1===mt)return Dt*Ue}else for(de+mt>yt&&(de=yt-mt),et=de;0<=et;et--){for(var wt=!0,Lt=0;Lt<mt;Lt++)if(ze(G,et+Lt)!==ze(te,Lt)){wt=!1;break}if(wt)return et}return-1}function R(G,te,de,_e){de=+de||0;var Pe=G.length-de;_e?(_e=+_e,_e>Pe&&(_e=Pe)):_e=Pe;var ze=te.length;_e>ze/2&&(_e=ze/2);for(var Ue=0,yt;Ue<_e;++Ue){if(yt=parseInt(te.substr(2*Ue,2),16),Me(yt))return Ue;G[de+Ue]=yt}return Ue}function L(G,te,de,_e){return bt(De(te,G.length-de),G,de,_e)}function Y(G,te,de,_e){return bt($e(te),G,de,_e)}function ee(G,te,de,_e){return Y(G,te,de,_e)}function ae(G,te,de,_e){return bt(nt(te),G,de,_e)}function fe(G,te,de,_e){return bt(qe(te,G.length-de),G,de,_e)}function xe(G,te,de){return te===0&&de===G.length?Ge.fromByteArray(G):Ge.fromByteArray(G.slice(te,de))}function se(G,te,de){de=J(G.length,de);for(var _e=[],Pe=te;Pe<de;){var ze=G[Pe],Ue=null,yt=239<ze?4:223<ze?3:191<ze?2:1;if(Pe+yt<=de){var mt,et,Dt,wt;yt===1?128>ze&&(Ue=ze):yt===2?(mt=G[Pe+1],(192&mt)==128&&(wt=(31&ze)<<6|63&mt,127<wt&&(Ue=wt))):yt===3?(mt=G[Pe+1],et=G[Pe+2],(192&mt)==128&&(192&et)==128&&(wt=(15&ze)<<12|(63&mt)<<6|63&et,2047<wt&&(55296>wt||57343<wt)&&(Ue=wt))):yt===4&&(mt=G[Pe+1],et=G[Pe+2],Dt=G[Pe+3],(192&mt)==128&&(192&et)==128&&(192&Dt)==128&&(wt=(15&ze)<<18|(63&mt)<<12|(63&et)<<6|63&Dt,65535<wt&&1114112>wt&&(Ue=wt)))}Ue===null?(Ue=65533,yt=1):65535<Ue&&(Ue-=65536,_e.push(55296|1023&Ue>>>10),Ue=56320|1023&Ue),_e.push(Ue),Pe+=yt}return B(_e)}function B(G){var te=G.length;if(te<=4096)return g.apply(String,G);for(var de="",_e=0;_e<te;)de+=g.apply(String,G.slice(_e,_e+=4096));return de}function K(G,te,de){var _e="";de=J(G.length,de);for(var Pe=te;Pe<de;++Pe)_e+=g(127&G[Pe]);return _e}function z(G,te,de){var _e="";de=J(G.length,de);for(var Pe=te;Pe<de;++Pe)_e+=g(G[Pe]);return _e}function E(G,te,de){var _e=G.length;(!te||0>te)&&(te=0),(!de||0>de||de>_e)&&(de=_e);for(var Pe="",ze=te;ze<de;++ze)Pe+=ke(G[ze]);return Pe}function j(G,te,de){for(var _e=G.slice(te,de),Pe="",ze=0;ze<_e.length;ze+=2)Pe+=g(_e[ze]+256*_e[ze+1]);return Pe}function Z(G,te,de){if(G%1!=0||0>G)throw new RangeError("offset is not uint");if(G+te>de)throw new RangeError("Trying to access beyond buffer length")}function oe(G,te,de,_e,Pe,ze){if(!h.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Pe||te<ze)throw new RangeError('"value" argument is out of bounds');if(de+_e>G.length)throw new RangeError("Index out of range")}function q(G,te,de,_e,Pe,ze){if(de+_e>G.length)throw new RangeError("Index out of range");if(0>de)throw new RangeError("Index out of range")}function le(G,te,de,_e,Pe){return te=+te,de>>>=0,Pe||q(G,te,de,4,34028234663852886e22,-34028234663852886e22),Ze.write(G,te,de,_e,23,4),de+4}function ge(G,te,de,_e,Pe){return te=+te,de>>>=0,Pe||q(G,te,de,8,17976931348623157e292,-17976931348623157e292),Ze.write(G,te,de,_e,52,8),de+8}function Re(G){if(G=G.split("=")[0],G=G.trim().replace(ce,""),2>G.length)return"";for(;G.length%4!=0;)G+="=";return G}function ke(G){return 16>G?"0"+G.toString(16):G.toString(16)}function De(G,te){te=te||1/0;for(var de=G.length,_e=null,Pe=[],ze=0,Ue;ze<de;++ze){if(Ue=G.charCodeAt(ze),55295<Ue&&57344>Ue){if(!_e){if(56319<Ue){-1<(te-=3)&&Pe.push(239,191,189);continue}else if(ze+1===de){-1<(te-=3)&&Pe.push(239,191,189);continue}_e=Ue;continue}if(56320>Ue){-1<(te-=3)&&Pe.push(239,191,189),_e=Ue;continue}Ue=(_e-55296<<10|Ue-56320)+65536}else _e&&-1<(te-=3)&&Pe.push(239,191,189);if(_e=null,128>Ue){if(0>(te-=1))break;Pe.push(Ue)}else if(2048>Ue){if(0>(te-=2))break;Pe.push(192|Ue>>6,128|63&Ue)}else if(65536>Ue){if(0>(te-=3))break;Pe.push(224|Ue>>12,128|63&Ue>>6,128|63&Ue)}else if(1114112>Ue){if(0>(te-=4))break;Pe.push(240|Ue>>18,128|63&Ue>>12,128|63&Ue>>6,128|63&Ue)}else throw new Error("Invalid code point")}return Pe}function $e(G){for(var te=[],de=0;de<G.length;++de)te.push(255&G.charCodeAt(de));return te}function qe(G,te){for(var de=[],_e=0,Pe,ze,Ue;_e<G.length&&!(0>(te-=2));++_e)Pe=G.charCodeAt(_e),ze=Pe>>8,Ue=Pe%256,de.push(Ue),de.push(ze);return de}function nt(G){return Ge.toByteArray(Re(G))}function bt(G,te,de,_e){for(var Pe=0;Pe<_e&&!(Pe+de>=te.length||Pe>=G.length);++Pe)te[Pe+de]=G[Pe];return Pe}function ct(G,te){return G instanceof te||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===te.name}function Me(G){return G!==G}var Ge=m("base64-js"),Ze=m("ieee754");A.Buffer=h,A.SlowBuffer=l,A.INSPECT_MAX_BYTES=50;var ft=2147483647;A.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=w(),h.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){return h.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){return h.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol!="undefined"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(G,te,de){return e(G,te,de)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(G,te,de){return i(G,te,de)},h.allocUnsafe=function(G){return c(G)},h.allocUnsafeSlow=function(G){return c(G)},h.isBuffer=function(te){return te!=null&&te._isBuffer===!0&&te!==h.prototype},h.compare=function(te,de){if(ct(te,Uint8Array)&&(te=h.from(te,te.offset,te.byteLength)),ct(de,Uint8Array)&&(de=h.from(de,de.offset,de.byteLength)),!h.isBuffer(te)||!h.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===de)return 0;for(var _e=te.length,Pe=de.length,ze=0,Ue=J(_e,Pe);ze<Ue;++ze)if(te[ze]!==de[ze]){_e=te[ze],Pe=de[ze];break}return _e<Pe?-1:Pe<_e?1:0},h.isEncoding=function(te){switch((te+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(te,de){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(te.length===0)return h.alloc(0);var _e;if(de===void 0)for(de=0,_e=0;_e<te.length;++_e)de+=te[_e].length;var Pe=h.allocUnsafe(de),ze=0;for(_e=0;_e<te.length;++_e){var Ue=te[_e];if(ct(Ue,Uint8Array)&&(Ue=h.from(Ue)),!h.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(Pe,ze),ze+=Ue.length}return Pe},h.byteLength=f,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<te;de+=2)C(this,de,de+1);return this},h.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<te;de+=4)C(this,de,de+3),C(this,de+1,de+2);return this},h.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<te;de+=8)C(this,de,de+7),C(this,de+1,de+6),C(this,de+2,de+5),C(this,de+3,de+4);return this},h.prototype.toString=function(){var te=this.length;return te===0?"":arguments.length===0?se(this,0,te):b.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(te){if(!h.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||h.compare(this,te)===0},h.prototype.inspect=function(){var te="",de=A.INSPECT_MAX_BYTES;return te=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(te+=" ... "),"<Buffer "+te+">"},h.prototype.compare=function(te,de,_e,Pe,ze){if(ct(te,Uint8Array)&&(te=h.from(te,te.offset,te.byteLength)),!h.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof te);if(de===void 0&&(de=0),_e===void 0&&(_e=te?te.length:0),Pe===void 0&&(Pe=0),ze===void 0&&(ze=this.length),0>de||_e>te.length||0>Pe||ze>this.length)throw new RangeError("out of range index");if(Pe>=ze&&de>=_e)return 0;if(Pe>=ze)return-1;if(de>=_e)return 1;if(de>>>=0,_e>>>=0,Pe>>>=0,ze>>>=0,this===te)return 0;for(var Ue=ze-Pe,yt=_e-de,mt=J(Ue,yt),et=this.slice(Pe,ze),Dt=te.slice(de,_e),wt=0;wt<mt;++wt)if(et[wt]!==Dt[wt]){Ue=et[wt],yt=Dt[wt];break}return Ue<yt?-1:yt<Ue?1:0},h.prototype.includes=function(te,de,_e){return this.indexOf(te,de,_e)!==-1},h.prototype.indexOf=function(te,de,_e){return $(this,te,de,_e,!0)},h.prototype.lastIndexOf=function(te,de,_e){return $(this,te,de,_e,!1)},h.prototype.write=function(te,de,_e,Pe){if(de===void 0)Pe="utf8",_e=this.length,de=0;else if(_e===void 0&&typeof de=="string")Pe=de,_e=this.length,de=0;else if(isFinite(de))de>>>=0,isFinite(_e)?(_e>>>=0,Pe===void 0&&(Pe="utf8")):(Pe=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ze=this.length-de;if((_e===void 0||_e>ze)&&(_e=ze),0<te.length&&(0>_e||0>de)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");for(var Ue=!1;;)switch(Pe){case"hex":return R(this,te,de,_e);case"utf8":case"utf-8":return L(this,te,de,_e);case"ascii":return Y(this,te,de,_e);case"latin1":case"binary":return ee(this,te,de,_e);case"base64":return ae(this,te,de,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,te,de,_e);default:if(Ue)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),Ue=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Mt=4096;h.prototype.slice=function(te,de){var _e=this.length;te=~~te,de=de===void 0?_e:~~de,0>te?(te+=_e,0>te&&(te=0)):te>_e&&(te=_e),0>de?(de+=_e,0>de&&(de=0)):de>_e&&(de=_e),de<te&&(de=te);var Pe=this.subarray(te,de);return Pe.__proto__=h.prototype,Pe},h.prototype.readUIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=this[te],ze=1,Ue=0;++Ue<de&&(ze*=256);)Pe+=this[te+Ue]*ze;return Pe},h.prototype.readUIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=this[te+--de],ze=1;0<de&&(ze*=256);)Pe+=this[te+--de]*ze;return Pe},h.prototype.readUInt8=function(te,de){return te>>>=0,de||Z(te,1,this.length),this[te]},h.prototype.readUInt16LE=function(te,de){return te>>>=0,de||Z(te,2,this.length),this[te]|this[te+1]<<8},h.prototype.readUInt16BE=function(te,de){return te>>>=0,de||Z(te,2,this.length),this[te]<<8|this[te+1]},h.prototype.readUInt32LE=function(te,de){return te>>>=0,de||Z(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},h.prototype.readUInt32BE=function(te,de){return te>>>=0,de||Z(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},h.prototype.readIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=this[te],ze=1,Ue=0;++Ue<de&&(ze*=256);)Pe+=this[te+Ue]*ze;return ze*=128,Pe>=ze&&(Pe-=k(2,8*de)),Pe},h.prototype.readIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||Z(te,de,this.length);for(var Pe=de,ze=1,Ue=this[te+--Pe];0<Pe&&(ze*=256);)Ue+=this[te+--Pe]*ze;return ze*=128,Ue>=ze&&(Ue-=k(2,8*de)),Ue},h.prototype.readInt8=function(te,de){return te>>>=0,de||Z(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},h.prototype.readInt16LE=function(te,de){te>>>=0,de||Z(te,2,this.length);var _e=this[te]|this[te+1]<<8;return 32768&_e?4294901760|_e:_e},h.prototype.readInt16BE=function(te,de){te>>>=0,de||Z(te,2,this.length);var _e=this[te+1]|this[te]<<8;return 32768&_e?4294901760|_e:_e},h.prototype.readInt32LE=function(te,de){return te>>>=0,de||Z(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},h.prototype.readInt32BE=function(te,de){return te>>>=0,de||Z(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},h.prototype.readFloatLE=function(te,de){return te>>>=0,de||Z(te,4,this.length),Ze.read(this,te,!0,23,4)},h.prototype.readFloatBE=function(te,de){return te>>>=0,de||Z(te,4,this.length),Ze.read(this,te,!1,23,4)},h.prototype.readDoubleLE=function(te,de){return te>>>=0,de||Z(te,8,this.length),Ze.read(this,te,!0,52,8)},h.prototype.readDoubleBE=function(te,de){return te>>>=0,de||Z(te,8,this.length),Ze.read(this,te,!1,52,8)},h.prototype.writeUIntLE=function(te,de,_e,Pe){if(te=+te,de>>>=0,_e>>>=0,!Pe){var ze=k(2,8*_e)-1;oe(this,te,de,_e,ze,0)}var Ue=1,yt=0;for(this[de]=255&te;++yt<_e&&(Ue*=256);)this[de+yt]=255&te/Ue;return de+_e},h.prototype.writeUIntBE=function(te,de,_e,Pe){if(te=+te,de>>>=0,_e>>>=0,!Pe){var ze=k(2,8*_e)-1;oe(this,te,de,_e,ze,0)}var Ue=_e-1,yt=1;for(this[de+Ue]=255&te;0<=--Ue&&(yt*=256);)this[de+Ue]=255&te/yt;return de+_e},h.prototype.writeUInt8=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,1,255,0),this[de]=255&te,de+1},h.prototype.writeUInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,65535,0),this[de]=255&te,this[de+1]=te>>>8,de+2},h.prototype.writeUInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,65535,0),this[de]=te>>>8,this[de+1]=255&te,de+2},h.prototype.writeUInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,4294967295,0),this[de+3]=te>>>24,this[de+2]=te>>>16,this[de+1]=te>>>8,this[de]=255&te,de+4},h.prototype.writeUInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,4294967295,0),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},h.prototype.writeIntLE=function(te,de,_e,Pe){if(te=+te,de>>>=0,!Pe){var ze=k(2,8*_e-1);oe(this,te,de,_e,ze-1,-ze)}var Ue=0,yt=1,mt=0;for(this[de]=255&te;++Ue<_e&&(yt*=256);)0>te&&mt===0&&this[de+Ue-1]!==0&&(mt=1),this[de+Ue]=255&(te/yt>>0)-mt;return de+_e},h.prototype.writeIntBE=function(te,de,_e,Pe){if(te=+te,de>>>=0,!Pe){var ze=k(2,8*_e-1);oe(this,te,de,_e,ze-1,-ze)}var Ue=_e-1,yt=1,mt=0;for(this[de+Ue]=255&te;0<=--Ue&&(yt*=256);)0>te&&mt===0&&this[de+Ue+1]!==0&&(mt=1),this[de+Ue]=255&(te/yt>>0)-mt;return de+_e},h.prototype.writeInt8=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,1,127,-128),0>te&&(te=255+te+1),this[de]=255&te,de+1},h.prototype.writeInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,32767,-32768),this[de]=255&te,this[de+1]=te>>>8,de+2},h.prototype.writeInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,2,32767,-32768),this[de]=te>>>8,this[de+1]=255&te,de+2},h.prototype.writeInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,2147483647,-2147483648),this[de]=255&te,this[de+1]=te>>>8,this[de+2]=te>>>16,this[de+3]=te>>>24,de+4},h.prototype.writeInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||oe(this,te,de,4,2147483647,-2147483648),0>te&&(te=4294967295+te+1),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},h.prototype.writeFloatLE=function(te,de,_e){return le(this,te,de,!0,_e)},h.prototype.writeFloatBE=function(te,de,_e){return le(this,te,de,!1,_e)},h.prototype.writeDoubleLE=function(te,de,_e){return ge(this,te,de,!0,_e)},h.prototype.writeDoubleBE=function(te,de,_e){return ge(this,te,de,!1,_e)},h.prototype.copy=function(te,de,_e,Pe){if(!h.isBuffer(te))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),Pe||Pe===0||(Pe=this.length),de>=te.length&&(de=te.length),de||(de=0),0<Pe&&Pe<_e&&(Pe=_e),Pe===_e||te.length===0||this.length===0)return 0;if(0>de)throw new RangeError("targetStart out of bounds");if(0>_e||_e>=this.length)throw new RangeError("Index out of range");if(0>Pe)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),te.length-de<Pe-_e&&(Pe=te.length-de+_e);var ze=Pe-_e;if(this===te&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(de,_e,Pe);else if(this===te&&_e<de&&de<Pe)for(var Ue=ze-1;0<=Ue;--Ue)te[Ue+de]=this[Ue+_e];else Uint8Array.prototype.set.call(te,this.subarray(_e,Pe),de);return ze},h.prototype.fill=function(te,de,_e,Pe){if(typeof te=="string"){if(typeof de=="string"?(Pe=de,de=0,_e=this.length):typeof _e=="string"&&(Pe=_e,_e=this.length),Pe!==void 0&&typeof Pe!="string")throw new TypeError("encoding must be a string");if(typeof Pe=="string"&&!h.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);if(te.length===1){var ze=te.charCodeAt(0);(Pe==="utf8"&&128>ze||Pe==="latin1")&&(te=ze)}}else typeof te=="number"&&(te&=255);if(0>de||this.length<de||this.length<_e)throw new RangeError("Out of range index");if(_e<=de)return this;de>>>=0,_e=_e===void 0?this.length:_e>>>0,te||(te=0);var Ue;if(typeof te=="number")for(Ue=de;Ue<_e;++Ue)this[Ue]=te;else{var yt=h.isBuffer(te)?te:h.from(te,Pe),mt=yt.length;if(mt===0)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Ue=0;Ue<_e-de;++Ue)this[Ue+de]=yt[Ue%mt]}return this};var ce=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,m("buffer").Buffer)},{"base64-js":23,buffer:76,ieee754:145}],77:[function(m,U,A){U.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],78:[function(m,U,A){let p=m("lru"),w=m("queue-microtask");class v{constructor(e,o){if(this.store=e,this.chunkLength=e.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new p(o)}put(e,o,i=()=>{}){return this.cache?(this.cache.remove(e),void this.store.put(e,o,i)):w(()=>i(new Error("CacheStore closed")))}get(e,o,i=()=>{}){if(typeof o=="function")return this.get(e,null,o);if(!this.cache)return w(()=>i(new Error("CacheStore closed")));o||(o={});let c=this.cache.get(e);if(c){let t=o.offset||0,r=o.length||c.length-t;return(t!==0||r!==c.length)&&(c=c.slice(t,r+t)),w(()=>i(null,c))}let u=this.inProgressGets.get(e),s=!!u;u||(u=[],this.inProgressGets.set(e,u)),u.push({opts:o,cb:i}),s||this.store.get(e,(t,r)=>{t||this.cache==null||this.cache.set(e,r);let a=this.inProgressGets.get(e);this.inProgressGets.delete(e);for(let{opts:l,cb:f}of a)if(t)f(t);else{let b=l.offset||0,C=l.length||r.length-b,$=r;(b!==0||C!==r.length)&&($=r.slice(b,C+b)),f(null,$)}})}close(e=()=>{}){return this.cache?(this.cache=null,void this.store.close(e)):w(()=>e(new Error("CacheStore closed")))}destroy(e=()=>{}){return this.cache?(this.cache=null,void this.store.destroy(e)):w(()=>e(new Error("CacheStore closed")))}}U.exports=v},{lru:156,"queue-microtask":206}],79:[function(m,U,A){let p=m("block-stream2"),w=m("readable-stream");class v extends w.Writable{constructor(e,o,i={}){if(super(i),!e||!e.put||!e.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(o=+o,!o)throw new Error("Second argument must be a chunk length");let c=i.zeroPadding!==void 0&&i.zeroPadding;this._blockstream=new p(o,{...i,zeroPadding:c}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=i.storeMaxOutstandingPuts||16;let u=0,s=t=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),e.put(u,t,r=>r?this.destroy(r):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(this._outstandingPuts===0&&typeof this._finalCb=="function"&&(this._finalCb(null),this._finalCb=null)))),u+=1)};this._blockstream.on("data",s).on("error",t=>{this.destroy(t)})}_write(e,o,i){this._blockstream.write(e,o,i)}_final(e){this._blockstream.end(),this._blockstream.once("end",()=>{this._outstandingPuts===0?e(null):this._finalCb=e})}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this.emit("close"))}}U.exports=v},{"block-stream2":39,"readable-stream":228}],80:[function(m,U,A){function p(o){v.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var w=m("safe-buffer").Buffer,v=m("stream").Transform,h=m("string_decoder").StringDecoder,e=m("inherits");e(p,v),p.prototype.update=function(o,i,c){typeof o=="string"&&(o=w.from(o,i));var u=this._update(o);return this.hashMode?this:(c&&(u=this._toString(u,c)),u)},p.prototype.setAutoPadding=function(){},p.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},p.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},p.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},p.prototype._transform=function(o,i,c){var u;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(s){u=s}finally{c(u)}},p.prototype._flush=function(o){var i;try{this.push(this.__final())}catch(c){i=c}o(i)},p.prototype._finalOrDigest=function(o){var i=this.__final()||w.alloc(0);return o&&(i=this._toString(i,o,!0)),i},p.prototype._toString=function(o,i,c){if(this._decoder||(this._decoder=new h(i),this._encoding=i),this._encoding!==i)throw new Error("can't switch encodings");var u=this._decoder.write(o);return c&&(u+=this._decoder.end()),u},U.exports=p},{inherits:147,"safe-buffer":235,stream:256,string_decoder:71}],81:[function(m,U,A){(function(p){(function(){var w=(function(){"use strict";function v(a,l){return l!=null&&a instanceof l}function h(a,l,f,b,C){function $(Y,ee){if(Y===null)return null;if(ee===0)return Y;var ae,fe;if(typeof Y!="object")return Y;if(v(Y,s))ae=new s;else if(v(Y,t))ae=new t;else if(v(Y,r))ae=new r(function(oe,q){Y.then(function(le){oe($(le,ee-1))},function(le){q($(le,ee-1))})});else if(h.__isArray(Y))ae=[];else if(h.__isRegExp(Y))ae=new RegExp(Y.source,u(Y)),Y.lastIndex&&(ae.lastIndex=Y.lastIndex);else if(h.__isDate(Y))ae=new Date(Y.getTime());else{if(L&&p.isBuffer(Y))return ae=p.allocUnsafe?p.allocUnsafe(Y.length):new p(Y.length),Y.copy(ae),ae;v(Y,Error)?ae=Object.create(Y):typeof b=="undefined"?(fe=Object.getPrototypeOf(Y),ae=Object.create(fe)):(ae=Object.create(b),fe=b)}if(l){var xe=W.indexOf(Y);if(xe!=-1)return R[xe];W.push(Y),R.push(ae)}for(var se in v(Y,s)&&Y.forEach(function(oe,q){var le=$(q,ee-1),ge=$(oe,ee-1);ae.set(le,ge)}),v(Y,t)&&Y.forEach(function(oe){var q=$(oe,ee-1);ae.add(q)}),Y){var B;fe&&(B=Object.getOwnPropertyDescriptor(fe,se)),!(B&&B.set==null)&&(ae[se]=$(Y[se],ee-1))}if(Object.getOwnPropertySymbols)for(var K=Object.getOwnPropertySymbols(Y),se=0;se<K.length;se++){var z=K[se],E=Object.getOwnPropertyDescriptor(Y,z);(!E||E.enumerable||C)&&(ae[z]=$(Y[z],ee-1),E.enumerable||Object.defineProperty(ae,z,{enumerable:!1}))}if(C)for(var j=Object.getOwnPropertyNames(Y),se=0;se<j.length;se++){var Z=j[se],E=Object.getOwnPropertyDescriptor(Y,Z);E&&E.enumerable||(ae[Z]=$(Y[Z],ee-1),Object.defineProperty(ae,Z,{enumerable:!1}))}return ae}typeof l=="object"&&(f=l.depth,b=l.prototype,C=l.includeNonEnumerable,l=l.circular);var W=[],R=[],L=typeof p!="undefined";return typeof l=="undefined"&&(l=!0),typeof f=="undefined"&&(f=1/0),$(a,f)}function e(a){return Object.prototype.toString.call(a)}function o(a){return typeof a=="object"&&e(a)==="[object Date]"}function i(a){return typeof a=="object"&&e(a)==="[object Array]"}function c(a){return typeof a=="object"&&e(a)==="[object RegExp]"}function u(a){var l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),l}var s;try{s=Map}catch{s=function(){}}var t;try{t=Set}catch{t=function(){}}var r;try{r=Promise}catch{r=function(){}}return h.clonePrototype=function(l){if(l===null)return null;var f=function(){};return f.prototype=l,new f},h.__objToStr=e,h.__isDate=o,h.__isArray=i,h.__isRegExp=c,h.__getRegExpFlags=u,h})();typeof U=="object"&&U.exports&&(U.exports=w)}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],82:[function(m,U,A){U.exports=function(){for(var w=navigator.hardwareConcurrency||1,v=[],h=0;h<w;h++)v.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return v}},{}],83:[function(m,U,A){(function(p){(function(){function w(i){this.curveType=o[i],this.curveType||(this.curveType={name:i}),this.curve=new h.ec(this.curveType.name),this.keys=void 0}function v(i,c,u){Array.isArray(i)||(i=i.toArray());var s=new p(i);if(u&&s.length<u){var t=new p(u-s.length);t.fill(0),s=p.concat([t,s])}return c?s.toString(c):s}var h=m("elliptic"),e=m("bn.js");U.exports=function(c){return new w(c)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,w.prototype.generateKeys=function(i,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,c)},w.prototype.computeSecret=function(i,c,u){c=c||"utf8",p.isBuffer(i)||(i=new p(i,c));var s=this.curve.keyFromPublic(i).getPublic(),t=s.mul(this.keys.getPrivate()).getX();return v(t,u,this.curveType.byteLength)},w.prototype.getPublicKey=function(i,c){var u=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),v(u,i)},w.prototype.getPrivateKey=function(i){return v(this.keys.getPrivate(),i)},w.prototype.setPublicKey=function(i,c){return c=c||"utf8",p.isBuffer(i)||(i=new p(i,c)),this.keys._importPublic(i),this},w.prototype.setPrivateKey=function(i,c){c=c||"utf8",p.isBuffer(i)||(i=new p(i,c));var u=new e(i);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,m("buffer").Buffer)},{"bn.js":84,buffer:76,elliptic:104}],84:[function(m,U,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],85:[function(m,U,A){"use strict";function p(i){o.call(this,"digest"),this._hash=i}var w=m("inherits"),v=m("md5.js"),h=m("ripemd160"),e=m("sha.js"),o=m("cipher-base");w(p,o),p.prototype._update=function(i){this._hash.update(i)},p.prototype._final=function(){return this._hash.digest()},U.exports=function(c){return c=c.toLowerCase(),c==="md5"?new v:c==="rmd160"||c==="ripemd160"?new h:new p(e(c))}},{"cipher-base":80,inherits:147,"md5.js":159,ripemd160:231,"sha.js":238}],86:[function(m,U,A){var p=m("md5.js");U.exports=function(w){return new p().update(w).digest()}},{"md5.js":159}],87:[function(m,U,A){"use strict";function p(s,t){h.call(this,"digest"),typeof t=="string"&&(t=e.from(t));var r=s==="sha512"||s==="sha384"?128:64;if(this._alg=s,this._key=t,t.length>r){var a=s==="rmd160"?new i:c(s);t=a.update(t).digest()}else t.length<r&&(t=e.concat([t,u],r));for(var l=this._ipad=e.allocUnsafe(r),f=this._opad=e.allocUnsafe(r),b=0;b<r;b++)l[b]=54^t[b],f[b]=92^t[b];this._hash=s==="rmd160"?new i:c(s),this._hash.update(l)}var w=m("inherits"),v=m("./legacy"),h=m("cipher-base"),e=m("safe-buffer").Buffer,o=m("create-hash/md5"),i=m("ripemd160"),c=m("sha.js"),u=e.alloc(128);w(p,h),p.prototype._update=function(s){this._hash.update(s)},p.prototype._final=function(){var s=this._hash.digest(),t=this._alg==="rmd160"?new i:c(this._alg);return t.update(this._opad).update(s).digest()},U.exports=function(t,r){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new p("rmd160",r):t==="md5"?new v(o,r):new p(t,r)}},{"./legacy":88,"cipher-base":80,"create-hash/md5":86,inherits:147,ripemd160:231,"safe-buffer":235,"sha.js":238}],88:[function(m,U,A){"use strict";function p(i,c){h.call(this,"digest"),typeof c=="string"&&(c=v.from(c)),this._alg=i,this._key=c,c.length>64?c=i(c):c.length<64&&(c=v.concat([c,e],64));for(var u=this._ipad=v.allocUnsafe(64),s=this._opad=v.allocUnsafe(64),t=0;t<64;t++)u[t]=54^c[t],s[t]=92^c[t];this._hash=[u]}var w=m("inherits"),v=m("safe-buffer").Buffer,h=m("cipher-base"),e=v.alloc(128),o=64;w(p,h),p.prototype._update=function(i){this._hash.push(i)},p.prototype._final=function(){var i=this._alg(v.concat(this._hash));return this._alg(v.concat([this._opad,i]))},U.exports=p},{"cipher-base":80,inherits:147,"safe-buffer":235}],89:[function(m,U,A){(function(p){(function(){function w(se,B,K){typeof B=="function"&&([B,K]=[K,B]),B=B?Object.assign({},B):{},h(se,B,(z,E,j)=>z?K(z):(B.singleFileTorrent=j,void o(E,B,K)))}function v(se,B,K){typeof B=="function"&&([B,K]=[K,B]),B=B?Object.assign({},B):{},h(se,B,K)}function h(se,B,K){function z(){R(se.map(q=>le=>{let ge={};if(u(q))ge.getStream=q.stream(),ge.length=q.size;else if(p.isBuffer(q))ge.getStream=[q],ge.length=q.length;else if(t(q))ge.getStream=r(q,ge),ge.length=0;else{if(typeof q=="string"){if(typeof ee!="function")throw new Error("filesystem paths do not work in the browser");let Re=1<Z||oe;return void ee(q,Re,le)}throw new Error("invalid input type")}ge.path=q[fe],le(null,ge)}),(q,le)=>q?K(q):(le=le.flat(),void K(null,le,oe)))}if(s(se)&&(se=Array.from(se)),Array.isArray(se)||(se=[se]),se.length===0)throw new Error("invalid input type");se.forEach(q=>{if(q==null)throw new Error(`invalid input type: ${q}`)}),se=se.map(q=>u(q)&&typeof q.path=="string"&&typeof ee=="function"?q.path:q),se.length!==1||typeof se[0]=="string"||se[0].name||(se[0].name=B.name);let E=null;se.forEach((q,le)=>{if(typeof q=="string")return;let ge=q.fullPath||q.name;ge||(ge=`Unknown File ${le+1}`,q.unknownName=!0),q[fe]=ge.split("/"),q[fe][0]||q[fe].shift(),2>q[fe].length?E=null:le===0&&1<se.length?E=q[fe][0]:q[fe][0]!==E&&(E=null)}),(B.filterJunkFiles===void 0||B.filterJunkFiles)&&(se=se.filter(q=>typeof q=="string"||!i(q[fe]))),E&&se.forEach(q=>{let le=(p.isBuffer(q)||t(q))&&!q[fe];typeof q=="string"||le||q[fe].shift()}),!B.name&&E&&(B.name=E),B.name||se.some(q=>typeof q=="string"?(B.name=b.basename(q),!0):!q.unknownName&&(B.name=q[fe][q[fe].length-1],!0)),B.name||(B.name=`Unnamed Torrent ${Date.now()}`);let Z=se.reduce((q,le)=>q+ +(typeof le=="string"),0),oe=se.length===1;if(se.length===1&&typeof se[0]=="string"){if(typeof ee!="function")throw new Error("filesystem paths do not work in the browser");C(se[0],(q,le)=>q?K(q):(oe=le,void z()))}else L(z)}async function e(se,B,K,z,E){let j=[],Z=0,oe=0,q=se.map($e=>$e.getStream),le=z.onProgress,ge=0,Re=0,ke=!1,De=l(W(q),B,{zeroPadding:!1});try{for await(let $e of De)await new Promise(qe=>{Z+=$e.length;let nt=Re;++Re,++ge<xe&&qe(),Y($e,bt=>{j[nt]=bt,--ge,oe+=$e.length,le&&le(oe,K),qe(),ke&&ge==0&&E(null,p.from(j.join(""),"hex"),Z)})});if(ge==0)return E(null,p.from(j.join(""),"hex"),Z);ke=!0}catch($e){E($e)}}function o(se,B,K){let z=B.announceList;z||(typeof B.announce=="string"?z=[[B.announce]]:Array.isArray(B.announce)&&(z=B.announce.map(oe=>[oe]))),z||(z=[]),globalThis.WEBTORRENT_ANNOUNCE&&(typeof globalThis.WEBTORRENT_ANNOUNCE=="string"?z.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(z=z.concat(globalThis.WEBTORRENT_ANNOUNCE.map(oe=>[oe])))),B.announce===void 0&&B.announceList===void 0&&(z=z.concat(U.exports.announceList)),typeof B.urlList=="string"&&(B.urlList=[B.urlList]);let E={info:{name:B.name},"creation date":N((+B.creationDate||Date.now())/1e3),encoding:"UTF-8"};z.length!==0&&(E.announce=z[0][0],E["announce-list"]=z),B.comment!==void 0&&(E.comment=B.comment),B.createdBy!==void 0&&(E["created by"]=B.createdBy),B.private!==void 0&&(E.info.private=+B.private),B.info!==void 0&&Object.assign(E.info,B.info),B.sslCert!==void 0&&(E.info["ssl-cert"]=B.sslCert),B.urlList!==void 0&&(E["url-list"]=B.urlList);let j=se.reduce(c,0),Z=B.pieceLength||f(j);E.info["piece length"]=Z,e(se,Z,j,B,(oe,q,le)=>oe?K(oe):(E.info.pieces=q,se.forEach(ge=>{delete ge.getStream}),B.singleFileTorrent?E.info.length=le:E.info.files=se,void K(null,a.encode(E))))}function i(se){let B=se[se.length-1];return B[0]==="."&&$.is(B)}function c(se,B){return se+B.length}function u(se){return typeof Blob!="undefined"&&se instanceof Blob}function s(se){return typeof FileList!="undefined"&&se instanceof FileList}function t(se){return typeof se=="object"&&se!=null&&typeof se.pipe=="function"}async function*r(se,B){for await(let K of se)B.length+=K.length,yield K}let a=m("bencode"),l=m("block-iterator"),f=m("piece-length"),b=m("path"),C=m("is-file"),$=m("junk"),W=m("join-async-iterator"),R=m("run-parallel"),L=m("queue-microtask"),Y=m("simple-sha1");m("fast-readable-async-iterator");let ee=m("./get-files"),ae=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],fe=Symbol("itemPath"),xe=5;U.exports=w,U.exports.parseInput=v,U.exports.announceList=ae,U.exports.isJunkPath=i}).call(this)}).call(this,m("buffer").Buffer)},{"./get-files":42,bencode:27,"block-iterator":38,buffer:76,"fast-readable-async-iterator":128,"is-file":42,"join-async-iterator":150,junk:151,path:185,"piece-length":192,"queue-microtask":206,"run-parallel":233,"simple-sha1":248}],90:[function(m,U,A){"use strict";A.randomBytes=A.rng=A.pseudoRandomBytes=A.prng=m("randombytes"),A.createHash=A.Hash=m("create-hash"),A.createHmac=A.Hmac=m("create-hmac");var p=m("browserify-sign/algos"),w=Object.keys(p),v=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(w);A.getHashes=function(){return v};var h=m("pbkdf2");A.pbkdf2=h.pbkdf2,A.pbkdf2Sync=h.pbkdf2Sync;var e=m("browserify-cipher");A.Cipher=e.Cipher,A.createCipher=e.createCipher,A.Cipheriv=e.Cipheriv,A.createCipheriv=e.createCipheriv,A.Decipher=e.Decipher,A.createDecipher=e.createDecipher,A.Decipheriv=e.Decipheriv,A.createDecipheriv=e.createDecipheriv,A.getCiphers=e.getCiphers,A.listCiphers=e.listCiphers;var o=m("diffie-hellman");A.DiffieHellmanGroup=o.DiffieHellmanGroup,A.createDiffieHellmanGroup=o.createDiffieHellmanGroup,A.getDiffieHellman=o.getDiffieHellman,A.createDiffieHellman=o.createDiffieHellman,A.DiffieHellman=o.DiffieHellman;var i=m("browserify-sign");A.createSign=i.createSign,A.Sign=i.Sign,A.createVerify=i.createVerify,A.Verify=i.Verify,A.createECDH=m("create-ecdh");var c=m("public-encrypt");A.publicEncrypt=c.publicEncrypt,A.privateEncrypt=c.privateEncrypt,A.publicDecrypt=c.publicDecrypt,A.privateDecrypt=c.privateDecrypt;var u=m("randomfill");A.randomFill=u.randomFill,A.randomFillSync=u.randomFillSync,A.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
https://github.com/crypto-browserify/crypto-browserify`)},A.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":60,"browserify-sign":67,"browserify-sign/algos":64,"create-ecdh":83,"create-hash":85,"create-hmac":87,"diffie-hellman":99,pbkdf2:186,"public-encrypt":194,randombytes:209,randomfill:210}],91:[function(m,U,A){(function(p){(function(){function w(){return!!(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function v(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+U.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;c.splice(1,0,u,"color: inherit");let s=0,t=0;c[0].replace(/%[a-zA-Z%]/g,r=>{r==="%%"||(s++,r==="%c"&&(t=s))}),c.splice(t,0,u)}function h(c){try{c?A.storage.setItem("debug",c):A.storage.removeItem("debug")}catch{}}function e(){let c;try{c=A.storage.getItem("debug")}catch{}return!c&&typeof p!="undefined"&&"env"in p&&(c=p.env.DEBUG),c}function o(){try{return localStorage}catch{}}A.formatArgs=v,A.save=h,A.load=e,A.useColors=w,A.storage=o(),A.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),A.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],A.log=console.debug||console.log||(()=>{}),U.exports=m("./common")(A);let{formatters:i}=U.exports;i.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}).call(this)}).call(this,m("_process"))},{"./common":92,_process:193}],92:[function(m,U,A){function p(w){function v(r){let a=0;for(let l=0;l<r.length;l++)a=(a<<5)-a+r.charCodeAt(l),a|=0;return h.colors[O(a)%h.colors.length]}function h(r){function a(...$){if(!a.enabled)return;let W=a,R=+new Date,L=R-(f||R);W.diff=L,W.prev=f,W.curr=R,f=R,$[0]=h.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");let Y=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,(ae,fe)=>{if(ae==="%%")return"%";Y++;let xe=h.formatters[fe];if(typeof xe=="function"){let se=$[Y];ae=xe.call(W,se),$.splice(Y,1),Y--}return ae}),h.formatArgs.call(W,$),(W.log||h.log).apply(W,$)}let l=null,f,b,C;return a.namespace=r,a.useColors=h.useColors(),a.color=h.selectColor(r),a.extend=e,a.destroy=h.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>l===null?(b!==h.namespaces&&(b=h.namespaces,C=h.enabled(r)),C):l,set:$=>{l=$}}),typeof h.init=="function"&&h.init(a),a}function e(r,a){let l=h(this.namespace+(typeof a=="undefined"?":":a)+r);return l.log=this.log,l}function o(r){h.save(r),h.namespaces=r,h.names=[],h.skips=[];let a,l=(typeof r=="string"?r:"").split(/[\s,]+/),f=l.length;for(a=0;a<f;a++)l[a]&&(r=l[a].replace(/\*/g,".*?"),r[0]==="-"?h.skips.push(new RegExp("^"+r.slice(1)+"$")):h.names.push(new RegExp("^"+r+"$")))}function i(){let r=[...h.names.map(u),...h.skips.map(u).map(a=>"-"+a)].join(",");return h.enable(""),r}function c(r){if(r[r.length-1]==="*")return!0;let a,l;for(a=0,l=h.skips.length;a<l;a++)if(h.skips[a].test(r))return!1;for(a=0,l=h.names.length;a<l;a++)if(h.names[a].test(r))return!0;return!1}function u(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}function s(r){return r instanceof Error?r.stack||r.message:r}function t(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return h.debug=h,h.default=h,h.coerce=s,h.disable=i,h.enable=o,h.enabled=c,h.humanize=m("ms"),h.destroy=t,Object.keys(w).forEach(r=>{h[r]=w[r]}),h.names=[],h.skips=[],h.formatters={},h.selectColor=v,h.enable(h.load()),h}U.exports=p},{ms:176}],93:[function(m,U,A){"use strict";A.utils=m("./des/utils"),A.Cipher=m("./des/cipher"),A.DES=m("./des/des"),A.CBC=m("./des/cbc"),A.EDE=m("./des/ede")},{"./des/cbc":94,"./des/cipher":95,"./des/des":96,"./des/ede":97,"./des/utils":98}],94:[function(m,U,A){"use strict";function p(o){v.equal(o.length,8,"Invalid IV length"),this.iv=Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=o[i]}function w(o){function i(t){o.call(this,t),this._cbcInit()}h(i,o);for(var c=Object.keys(e),u=0,s;u<c.length;u++)s=c[u],i.prototype[s]=e[s];return i.create=function(r){return new i(r)},i}var v=m("minimalistic-assert"),h=m("inherits"),e={};A.instantiate=w,e._cbcInit=function(){var i=new p(this.options.iv);this._cbcState=i},e._update=function(i,c,u,s){var t=this._cbcState,r=this.constructor.super_.prototype,a=t.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)a[l]^=i[c+l];r._update.call(this,a,0,u,s);for(var l=0;l<this.blockSize;l++)a[l]=u[s+l]}else{r._update.call(this,i,c,u,s);for(var l=0;l<this.blockSize;l++)u[s+l]^=a[l];for(var l=0;l<this.blockSize;l++)a[l]=i[c+l]}}},{inherits:147,"minimalistic-assert":168}],95:[function(m,U,A){"use strict";function p(v){this.options=v,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var w=m("minimalistic-assert");U.exports=p,p.prototype._init=function(){},p.prototype.update=function(h){return h.length===0?[]:this.type==="decrypt"?this._updateDecrypt(h):this._updateEncrypt(h)},p.prototype._buffer=function(h,e){for(var o=J(this.buffer.length-this.bufferOff,h.length-e),i=0;i<o;i++)this.buffer[this.bufferOff+i]=h[e+i];return this.bufferOff+=o,o},p.prototype._flushBuffer=function(h,e){return this._update(this.buffer,0,h,e),this.bufferOff=0,this.blockSize},p.prototype._updateEncrypt=function(h){var e=0,o=0,i=0|(this.bufferOff+h.length)/this.blockSize,c=Array(i*this.blockSize);this.bufferOff!==0&&(e+=this._buffer(h,e),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(c,o)));for(var u=h.length-(h.length-e)%this.blockSize;e<u;e+=this.blockSize)this._update(h,e,c,o),o+=this.blockSize;for(;e<h.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=h[e];return c},p.prototype._updateDecrypt=function(h){for(var e=0,o=0,i=N((this.bufferOff+h.length)/this.blockSize)-1,c=Array(i*this.blockSize);0<i;i--)e+=this._buffer(h,e),o+=this._flushBuffer(c,o);return e+=this._buffer(h,e),c},p.prototype.final=function(h){var e;h&&(e=this.update(h));var o;return o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),e?e.concat(o):o},p.prototype._pad=function(h,e){if(e===0)return!1;for(;e<h.length;)h[e++]=0;return!0},p.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var h=Array(this.blockSize);return this._update(this.buffer,0,h,0),h},p.prototype._unpad=function(h){return h},p.prototype._finalDecrypt=function(){w.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var h=Array(this.blockSize);return this._flushBuffer(h,0),this._unpad(h)}},{"minimalistic-assert":168}],96:[function(m,U,A){"use strict";function p(){this.tmp=[,,],this.keys=null}function w(c){o.call(this,c);var u=new p;this._desState=u,this.deriveKeys(u,c.key)}var v=m("minimalistic-assert"),h=m("inherits"),e=m("./utils"),o=m("./cipher");h(w,o),U.exports=w,w.create=function(u){return new w(u)};var i=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];w.prototype.deriveKeys=function(u,s){u.keys=Array(32),v.equal(s.length,this.blockSize,"Invalid key length");var t=e.readUInt32BE(s,0),r=e.readUInt32BE(s,4);e.pc1(t,r,u.tmp,0),t=u.tmp[0],r=u.tmp[1];for(var a=0,l;a<u.keys.length;a+=2)l=i[a>>>1],t=e.r28shl(t,l),r=e.r28shl(r,l),e.pc2(t,r,u.keys,a)},w.prototype._update=function(u,s,t,r){var a=this._desState,l=e.readUInt32BE(u,s),f=e.readUInt32BE(u,s+4);e.ip(l,f,a.tmp,0),l=a.tmp[0],f=a.tmp[1],this.type==="encrypt"?this._encrypt(a,l,f,a.tmp,0):this._decrypt(a,l,f,a.tmp,0),l=a.tmp[0],f=a.tmp[1],e.writeUInt32BE(t,l,r),e.writeUInt32BE(t,f,r+4)},w.prototype._pad=function(u,s){for(var t=u.length-s,r=s;r<u.length;r++)u[r]=t;return!0},w.prototype._unpad=function(u){for(var s=u[u.length-1],t=u.length-s;t<u.length;t++)v.equal(u[t],s);return u.slice(0,u.length-s)},w.prototype._encrypt=function(u,s,t,r,a){for(var l=s,f=t,b=0;b<u.keys.length;b+=2){var C=u.keys[b],$=u.keys[b+1];e.expand(f,u.tmp,0),C^=u.tmp[0],$^=u.tmp[1];var W=e.substitute(C,$),R=e.permute(W),L=f;f=(l^R)>>>0,l=L}e.rip(f,l,r,a)},w.prototype._decrypt=function(u,s,t,r,a){for(var l=t,f=s,b=u.keys.length-2;0<=b;b-=2){var C=u.keys[b],$=u.keys[b+1];e.expand(l,u.tmp,0),C^=u.tmp[0],$^=u.tmp[1];var W=e.substitute(C,$),R=e.permute(W),L=l;l=(f^R)>>>0,f=L}e.rip(l,f,r,a)}},{"./cipher":95,"./utils":98,inherits:147,"minimalistic-assert":168}],97:[function(m,U,A){"use strict";function p(i,c){v.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),s=c.slice(8,16),t=c.slice(16,24);this.ciphers=i==="encrypt"?[o.create({type:"encrypt",key:u}),o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:t})]:[o.create({type:"decrypt",key:t}),o.create({type:"encrypt",key:s}),o.create({type:"decrypt",key:u})]}function w(i){e.call(this,i);var c=new p(this.type,this.options.key);this._edeState=c}var v=m("minimalistic-assert"),h=m("inherits"),e=m("./cipher"),o=m("./des");h(w,e),U.exports=w,w.create=function(c){return new w(c)},w.prototype._update=function(c,u,s,t){var r=this._edeState;r.ciphers[0]._update(c,u,s,t),r.ciphers[1]._update(s,t,s,t),r.ciphers[2]._update(s,t,s,t)},w.prototype._pad=o.prototype._pad,w.prototype._unpad=o.prototype._unpad},{"./cipher":95,"./des":96,inherits:147,"minimalistic-assert":168}],98:[function(m,U,A){"use strict";A.readUInt32BE=function(e,o){var i=e[0+o]<<24|e[1+o]<<16|e[2+o]<<8|e[3+o];return i>>>0},A.writeUInt32BE=function(e,o,i){e[0+i]=o>>>24,e[1+i]=255&o>>>16,e[2+i]=255&o>>>8,e[3+i]=255&o},A.ip=function(e,o,i,c){for(var u=0,s=0,t=6;0<=t;t-=2){for(var r=0;24>=r;r+=8)u<<=1,u|=1&o>>>r+t;for(var r=0;24>=r;r+=8)u<<=1,u|=1&e>>>r+t}for(var t=6;0<=t;t-=2){for(var r=1;25>=r;r+=8)s<<=1,s|=1&o>>>r+t;for(var r=1;25>=r;r+=8)s<<=1,s|=1&e>>>r+t}i[c+0]=u>>>0,i[c+1]=s>>>0},A.rip=function(e,o,i,c){for(var u=0,s=0,t=0;4>t;t++)for(var r=24;0<=r;r-=8)u<<=1,u|=1&o>>>r+t,u<<=1,u|=1&e>>>r+t;for(var t=4;8>t;t++)for(var r=24;0<=r;r-=8)s<<=1,s|=1&o>>>r+t,s<<=1,s|=1&e>>>r+t;i[c+0]=u>>>0,i[c+1]=s>>>0},A.pc1=function(e,o,i,c){for(var u=0,s=0,t=7;5<=t;t--){for(var r=0;24>=r;r+=8)u<<=1,u|=1&o>>r+t;for(var r=0;24>=r;r+=8)u<<=1,u|=1&e>>r+t}for(var r=0;24>=r;r+=8)u<<=1,u|=1&o>>r+t;for(var t=1;3>=t;t++){for(var r=0;24>=r;r+=8)s<<=1,s|=1&o>>r+t;for(var r=0;24>=r;r+=8)s<<=1,s|=1&e>>r+t}for(var r=0;24>=r;r+=8)s<<=1,s|=1&e>>r+t;i[c+0]=u>>>0,i[c+1]=s>>>0},A.r28shl=function(e,o){return 268435455&e<<o|e>>>28-o};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];A.pc2=function(e,o,i,c){for(var u=0,s=0,t=p.length>>>1,r=0;r<t;r++)u<<=1,u|=1&e>>>p[r];for(var r=t;r<p.length;r++)s<<=1,s|=1&o>>>p[r];i[c+0]=u>>>0,i[c+1]=s>>>0},A.expand=function(e,o,i){var c=0,u=0;c=(1&e)<<5|e>>>27;for(var s=23;15<=s;s-=4)c<<=6,c|=63&e>>>s;for(var s=11;3<=s;s-=4)u|=63&e>>>s,u<<=6;u|=(31&e)<<1|e>>>31,o[i+0]=c>>>0,o[i+1]=u>>>0};var w=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];A.substitute=function(e,o){for(var i=0,c=0;4>c;c++){var u=63&e>>>18-6*c,s=w[64*c+u];i<<=4,i|=s}for(var c=0;4>c;c++){var u=63&o>>>18-6*c,s=w[256+64*c+u];i<<=4,i|=s}return i>>>0};var v=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];A.permute=function(e){for(var o=0,i=0;i<v.length;i++)o<<=1,o|=1&e>>>v[i];return o>>>0},A.padSplit=function(e,o,i){for(var c=e.toString(2);c.length<o;)c="0"+c;for(var u=[],s=0;s<o;s+=i)u.push(c.slice(s,s+i));return u.join(" ")}},{}],99:[function(m,U,A){(function(p){(function(){function w(c){var u=new p(e[c].prime,"hex"),s=new p(e[c].gen,"hex");return new o(u,s)}function v(c,u,s,t){return p.isBuffer(u)||i[u]===void 0?v(c,"binary",u,s):(u=u||"binary",t=t||"binary",s=s||new p([2]),p.isBuffer(s)||(s=new p(s,t)),typeof c=="number"?new o(h(c,s),s,!0):(p.isBuffer(c)||(c=new p(c,u)),new o(c,s,!0)))}var h=m("./lib/generatePrime"),e=m("./lib/primes.json"),o=m("./lib/dh"),i={binary:!0,hex:!0,base64:!0};A.DiffieHellmanGroup=A.createDiffieHellmanGroup=A.getDiffieHellman=w,A.createDiffieHellman=A.DiffieHellman=v}).call(this)}).call(this,m("buffer").Buffer)},{"./lib/dh":100,"./lib/generatePrime":101,"./lib/primes.json":102,buffer:76}],100:[function(m,U,A){(function(p){(function(){function w($,W){return W=W||"utf8",p.isBuffer($)||($=new p($,W)),this._pub=new i($),this}function v($,W){return W=W||"utf8",p.isBuffer($)||($=new p($,W)),this._priv=new i($),this}function h($,W){var R=W.toString("hex"),L=[R,$.toString(16)].join("_");if(L in C)return C[L];var Y=0;if($.isEven()||!f.simpleSieve||!f.fermatTest($)||!u.test($))return Y+=1,Y+=R==="02"||R==="05"?8:4,C[L]=Y,Y;u.test($.shrn(1))||(Y+=2);var ee;return R==="02"?$.mod(s).cmp(t)&&(Y+=8):R==="05"?(ee=$.mod(r),ee.cmp(a)&&ee.cmp(l)&&(Y+=8)):Y+=4,C[L]=Y,Y}function e($,W,R){this.setGenerator(W),this.__prime=new i($),this._prime=i.mont(this.__prime),this._primeLen=$.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=w,this.setPrivateKey=v):this._primeCode=8}function o($,W){var R=new p($.toArray());return W?R.toString(W):R}var i=m("bn.js"),c=m("miller-rabin"),u=new c,s=new i(24),t=new i(11),r=new i(10),a=new i(3),l=new i(7),f=m("./generatePrime"),b=m("randombytes");U.exports=e;var C={};Object.defineProperty(e.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=h(this.__prime,this.__gen)),this._primeCode}}),e.prototype.generateKeys=function(){return this._priv||(this._priv=new i(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},e.prototype.computeSecret=function($){$=new i($),$=$.toRed(this._prime);var W=$.redPow(this._priv).fromRed(),R=new p(W.toArray()),L=this.getPrime();if(R.length<L.length){var Y=new p(L.length-R.length);Y.fill(0),R=p.concat([Y,R])}return R},e.prototype.getPublicKey=function(W){return o(this._pub,W)},e.prototype.getPrivateKey=function(W){return o(this._priv,W)},e.prototype.getPrime=function($){return o(this.__prime,$)},e.prototype.getGenerator=function($){return o(this._gen,$)},e.prototype.setGenerator=function($,W){return W=W||"utf8",p.isBuffer($)||($=new p($,W)),this.__gen=$,this._gen=new i($),this}}).call(this)}).call(this,m("buffer").Buffer)},{"./generatePrime":101,"bn.js":103,buffer:76,"miller-rabin":162,randombytes:209}],101:[function(m,U,A){function p(){var Y=Math.sqrt;if(L!==null)return L;var ee=1048576,ae=[];ae[0]=2;for(var fe=1,xe=3,se;1048576>xe;xe+=2){se=N(Y(xe));for(var B=0;B<fe&&ae[B]<=se&&xe%ae[B]!=0;B++);fe!=B&&ae[B]<=se||(ae[fe++]=xe)}return L=ae,ae}function w(Y){for(var ee=p(),ae=0;ae<ee.length;ae++)if(Y.modn(ee[ae])===0)return Y.cmpn(ee[ae])===0;return!0}function v(Y){var ee=o.mont(Y);return t.toRed(ee).redPow(Y.subn(1)).fromRed().cmpn(1)===0}function h(Y,ee){if(16>Y)return ee===2||ee===5?new o([140,123]):new o([140,39]);ee=new o(ee);for(var ae,fe;;){for(ae=new o(e(N(Y/8)));ae.bitLength()>Y;)ae.ishrn(1);if(ae.isEven()&&ae.iadd(s),ae.testn(1)||ae.iadd(t),!ee.cmp(t))for(;ae.mod(i).cmp($);)ae.iadd(W);else if(!ee.cmp(r))for(;ae.mod(f).cmp(b);)ae.iadd(W);if(fe=ae.shrn(1),w(fe)&&w(ae)&&v(fe)&&v(ae)&&u.test(fe)&&u.test(ae))return ae}}var e=m("randombytes");U.exports=h,h.simpleSieve=w,h.fermatTest=v;var o=m("bn.js"),i=new o(24),c=m("miller-rabin"),u=new c,s=new o(1),t=new o(2),r=new o(5),a=new o(16),l=new o(8),f=new o(10),b=new o(3),C=new o(7),$=new o(11),W=new o(4),R=new o(12),L=null},{"bn.js":103,"miller-rabin":162,randombytes:209}],102:[function(m,U,A){U.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],103:[function(m,U,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],104:[function(m,U,A){"use strict";var p=A;p.version=m("../package.json").version,p.utils=m("./elliptic/utils"),p.rand=m("brorand"),p.curve=m("./elliptic/curve"),p.curves=m("./elliptic/curves"),p.ec=m("./elliptic/ec"),p.eddsa=m("./elliptic/eddsa")},{"../package.json":120,"./elliptic/curve":107,"./elliptic/curves":110,"./elliptic/ec":111,"./elliptic/eddsa":114,"./elliptic/utils":118,brorand:41}],105:[function(m,U,A){"use strict";function p(c,u){this.type=c,this.p=new v(u.p,16),this.red=u.prime?v.red(u.prime):v.mont(this.p),this.zero=new v(0).toRed(this.red),this.one=new v(1).toRed(this.red),this.two=new v(2).toRed(this.red),this.n=u.n&&new v(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var s=this.n&&this.p.div(this.n);!s||0<s.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function w(c,u){this.curve=c,this.type=u,this.precomputed=null}var v=m("bn.js"),h=m("../utils"),e=h.getNAF,o=h.getJSF,i=h.assert;U.exports=p,p.prototype.point=function(){throw new Error("Not implemented")},p.prototype.validate=function(){throw new Error("Not implemented")},p.prototype._fixedNafMul=function(u,s){i(u.precomputed);var t=u._getDoubles(),r=e(s,1,this._bitLength),a=(1<<t.step+1)-(t.step%2==0?2:1);a/=3;var l=[],f,b;for(f=0;f<r.length;f+=t.step){b=0;for(var C=f+t.step-1;C>=f;C--)b=(b<<1)+r[C];l.push(b)}for(var $=this.jpoint(null,null,null),W=this.jpoint(null,null,null),R=a;0<R;R--){for(f=0;f<l.length;f++)b=l[f],b===R?W=W.mixedAdd(t.points[f]):b===-R&&(W=W.mixedAdd(t.points[f].neg()));$=$.add(W)}return $.toP()},p.prototype._wnafMul=function(u,s){var t=4,r=u._getNAFPoints(t);t=r.wnd;for(var a=r.points,l=e(s,t,this._bitLength),f=this.jpoint(null,null,null),b=l.length-1;0<=b;b--){for(var C=0;0<=b&&l[b]===0;b--)C++;if(0<=b&&C++,f=f.dblp(C),0>b)break;var $=l[b];i($!==0),f=u.type==="affine"?0<$?f.mixedAdd(a[$-1>>1]):f.mixedAdd(a[-$-1>>1].neg()):0<$?f.add(a[$-1>>1]):f.add(a[-$-1>>1].neg())}return u.type==="affine"?f.toP():f},p.prototype._wnafMulAdd=function(u,s,t,r,a){var l=this._wnafT1,f=this._wnafT2,b=this._wnafT3,C=0,$,W,R;for($=0;$<r;$++){R=s[$];var L=R._getNAFPoints(u);l[$]=L.wnd,f[$]=L.points}for($=r-1;1<=$;$-=2){var Y=$-1,ee=$;if(l[Y]!==1||l[ee]!==1){b[Y]=e(t[Y],l[Y],this._bitLength),b[ee]=e(t[ee],l[ee],this._bitLength),C=F(b[Y].length,C),C=F(b[ee].length,C);continue}var ae=[s[Y],null,null,s[ee]];s[Y].y.cmp(s[ee].y)===0?(ae[1]=s[Y].add(s[ee]),ae[2]=s[Y].toJ().mixedAdd(s[ee].neg())):s[Y].y.cmp(s[ee].y.redNeg())===0?(ae[1]=s[Y].toJ().mixedAdd(s[ee]),ae[2]=s[Y].add(s[ee].neg())):(ae[1]=s[Y].toJ().mixedAdd(s[ee]),ae[2]=s[Y].toJ().mixedAdd(s[ee].neg()));var fe=[-3,-1,-5,-7,0,7,5,1,3],xe=o(t[Y],t[ee]);for(C=F(xe[0].length,C),b[Y]=Array(C),b[ee]=Array(C),W=0;W<C;W++){var se=0|xe[0][W],B=0|xe[1][W];b[Y][W]=fe[3*(se+1)+(B+1)],b[ee][W]=0,f[Y]=ae}}var K=this.jpoint(null,null,null),z=this._wnafT4;for($=C;0<=$;$--){for(var E=0,j;0<=$;){for(j=!0,W=0;W<r;W++)z[W]=0|b[W][$],z[W]!==0&&(j=!1);if(!j)break;E++,$--}if(0<=$&&E++,K=K.dblp(E),0>$)break;for(W=0;W<r;W++){var Z=z[W];Z!==0&&(0<Z?R=f[W][Z-1>>1]:0>Z&&(R=f[W][-Z-1>>1].neg()),K=R.type==="affine"?K.mixedAdd(R):K.add(R))}}for($=0;$<r;$++)f[$]=null;return a?K:K.toP()},p.BasePoint=w,w.prototype.eq=function(){throw new Error("Not implemented")},w.prototype.validate=function(){return this.curve.validate(this)},p.prototype.decodePoint=function(u,s){u=h.toArray(u,s);var t=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1==2*t){u[0]===6?i(u[u.length-1]%2==0):u[0]===7&&i(u[u.length-1]%2==1);var r=this.point(u.slice(1,1+t),u.slice(1+t,1+2*t));return r}if((u[0]===2||u[0]===3)&&u.length-1===t)return this.pointFromX(u.slice(1,1+t),u[0]===3);throw new Error("Unknown point format")},w.prototype.encodeCompressed=function(u){return this.encode(u,!0)},w.prototype._encode=function(u){var s=this.curve.p.byteLength(),t=this.getX().toArray("be",s);return u?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",s))},w.prototype.encode=function(u,s){return h.encode(this._encode(s),u)},w.prototype.precompute=function(u){if(this.precomputed)return this;var s={doubles:null,naf:null,beta:null};return s.naf=this._getNAFPoints(8),s.doubles=this._getDoubles(4,u),s.beta=this._getBeta(),this.precomputed=s,this},w.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var s=this.precomputed.doubles;return!!s&&s.points.length>=N((u.bitLength()+1)/s.step)},w.prototype._getDoubles=function(u,s){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],r=this,a=0;a<s;a+=u){for(var l=0;l<u;l++)r=r.dbl();t.push(r)}return{step:u,points:t}},w.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var s=[this],t=(1<<u)-1,r=t===1?null:this.dbl(),a=1;a<t;a++)s[a]=s[a-1].add(r);return{wnd:u,points:s}},w.prototype._getBeta=function(){return null},w.prototype.dblp=function(u){for(var s=this,t=0;t<u;t++)s=s.dbl();return s}},{"../utils":118,"bn.js":119}],106:[function(m,U,A){"use strict";function p(c){this.twisted=(0|c.a)!=1,this.mOneA=this.twisted&&(0|c.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",c),this.a=new h(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new h(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new h(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|c.c)==1}function w(c,u,s,t,r){o.BasePoint.call(this,c,"projective"),u===null&&s===null&&t===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new h(u,16),this.y=new h(s,16),this.z=t?new h(t,16):this.curve.one,this.t=r&&new h(r,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var v=m("../utils"),h=m("bn.js"),e=m("inherits"),o=m("./base"),i=v.assert;e(p,o),U.exports=p,p.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},p.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},p.prototype.jpoint=function(u,s,t,r){return this.point(u,s,t,r)},p.prototype.pointFromX=function(u,s){u=new h(u,16),u.red||(u=u.toRed(this.red));var t=u.redSqr(),r=this.c2.redSub(this.a.redMul(t)),a=this.one.redSub(this.c2.redMul(this.d).redMul(t)),l=r.redMul(a.redInvm()),f=l.redSqrt();if(f.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");var b=f.fromRed().isOdd();return(s&&!b||!s&&b)&&(f=f.redNeg()),this.point(u,f)},p.prototype.pointFromY=function(u,s){u=new h(u,16),u.red||(u=u.toRed(this.red));var t=u.redSqr(),r=t.redSub(this.c2),a=t.redMul(this.d).redMul(this.c2).redSub(this.a),l=r.redMul(a.redInvm());if(l.cmp(this.zero)===0){if(s)throw new Error("invalid point");return this.point(this.zero,u)}var f=l.redSqrt();if(f.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==s&&(f=f.redNeg()),this.point(f,u)},p.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var s=u.x.redSqr(),t=u.y.redSqr(),r=s.redMul(this.a).redAdd(t),a=this.c2.redMul(this.one.redAdd(this.d.redMul(s).redMul(t)));return r.cmp(a)===0},e(w,o.BasePoint),p.prototype.pointFromJSON=function(u){return w.fromJSON(this,u)},p.prototype.point=function(u,s,t,r){return new w(this,u,s,t,r)},w.fromJSON=function(u,s){return new w(u,s[0],s[1],s[2])},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},w.prototype._extDbl=function(){var u=this.x.redSqr(),s=this.y.redSqr(),t=this.z.redSqr();t=t.redIAdd(t);var r=this.curve._mulA(u),a=this.x.redAdd(this.y).redSqr().redISub(u).redISub(s),l=r.redAdd(s),f=l.redSub(t),b=r.redSub(s),C=a.redMul(f),$=l.redMul(b),W=a.redMul(b),R=f.redMul(l);return this.curve.point(C,$,R,W)},w.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),t=this.y.redSqr(),r,a,l,f,b,C;if(this.curve.twisted){f=this.curve._mulA(s);var $=f.redAdd(t);this.zOne?(r=u.redSub(s).redSub(t).redMul($.redSub(this.curve.two)),a=$.redMul(f.redSub(t)),l=$.redSqr().redSub($).redSub($)):(b=this.z.redSqr(),C=$.redSub(b).redISub(b),r=u.redSub(s).redISub(t).redMul(C),a=$.redMul(f.redSub(t)),l=$.redMul(C))}else f=s.redAdd(t),b=this.curve._mulC(this.z).redSqr(),C=f.redSub(b).redSub(b),r=this.curve._mulC(u.redISub(f)).redMul(C),a=this.curve._mulC(f).redMul(s.redISub(t)),l=f.redMul(C);return this.curve.point(r,a,l)},w.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},w.prototype._extAdd=function(u){var s=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),t=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),r=this.t.redMul(this.curve.dd).redMul(u.t),a=this.z.redMul(u.z.redAdd(u.z)),l=t.redSub(s),f=a.redSub(r),b=a.redAdd(r),C=t.redAdd(s),$=l.redMul(f),W=b.redMul(C),R=l.redMul(C),L=f.redMul(b);return this.curve.point($,W,L,R)},w.prototype._projAdd=function(u){var s=this.z.redMul(u.z),t=s.redSqr(),r=this.x.redMul(u.x),a=this.y.redMul(u.y),l=this.curve.d.redMul(r).redMul(a),f=t.redSub(l),b=t.redAdd(l),C=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(r).redISub(a),$=s.redMul(f).redMul(C),W,R;return this.curve.twisted?(W=s.redMul(b).redMul(a.redSub(this.curve._mulA(r))),R=f.redMul(b)):(W=s.redMul(b).redMul(a.redSub(r)),R=this.curve._mulC(f).redMul(b)),this.curve.point($,W,R)},w.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},w.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},w.prototype.mulAdd=function(u,s,t){return this.curve._wnafMulAdd(1,[this,s],[u,t],2,!1)},w.prototype.jmulAdd=function(u,s,t){return this.curve._wnafMulAdd(1,[this,s],[u,t],2,!0)},w.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},w.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()},w.prototype.getY=function(){return this.normalize(),this.y.fromRed()},w.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},w.prototype.eqXToP=function(u){var s=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(s)===0)return!0;for(var t=u.clone(),r=this.curve.redN.redMul(this.z);;){if(t.iadd(this.curve.n),0<=t.cmp(this.curve.p))return!1;if(s.redIAdd(r),this.x.cmp(s)===0)return!0}},w.prototype.toP=w.prototype.normalize,w.prototype.mixedAdd=w.prototype.add},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],107:[function(m,U,A){"use strict";var p=A;p.base=m("./base"),p.short=m("./short"),p.mont=m("./mont"),p.edwards=m("./edwards")},{"./base":105,"./edwards":106,"./mont":108,"./short":109}],108:[function(m,U,A){"use strict";function p(i){e.call(this,"mont",i),this.a=new v(i.a,16).toRed(this.red),this.b=new v(i.b,16).toRed(this.red),this.i4=new v(4).toRed(this.red).redInvm(),this.two=new v(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function w(i,c,u){e.BasePoint.call(this,i,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new v(c,16),this.z=new v(u,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var v=m("bn.js"),h=m("inherits"),e=m("./base"),o=m("../utils");h(p,e),U.exports=p,p.prototype.validate=function(c){var u=c.normalize().x,s=u.redSqr(),t=s.redMul(u).redAdd(s.redMul(this.a)).redAdd(u),r=t.redSqrt();return r.redSqr().cmp(t)===0},h(w,e.BasePoint),p.prototype.decodePoint=function(c,u){return this.point(o.toArray(c,u),1)},p.prototype.point=function(c,u){return new w(this,c,u)},p.prototype.pointFromJSON=function(c){return w.fromJSON(this,c)},w.prototype.precompute=function(){},w.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},w.fromJSON=function(c,u){return new w(c,u[0],u[1]||c.one)},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.z.cmpn(0)===0},w.prototype.dbl=function(){var c=this.x.redAdd(this.z),u=c.redSqr(),s=this.x.redSub(this.z),t=s.redSqr(),r=u.redSub(t),a=u.redMul(t),l=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(a,l)},w.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.diffAdd=function(c,u){var s=this.x.redAdd(this.z),t=this.x.redSub(this.z),r=c.x.redAdd(c.z),a=c.x.redSub(c.z),l=a.redMul(s),f=r.redMul(t),b=u.z.redMul(l.redAdd(f).redSqr()),C=u.x.redMul(l.redISub(f).redSqr());return this.curve.point(b,C)},w.prototype.mul=function(c){for(var u=c.clone(),s=this,t=this.curve.point(null,null),r=this,a=[];u.cmpn(0)!==0;u.iushrn(1))a.push(u.andln(1));for(var l=a.length-1;0<=l;l--)a[l]===0?(s=s.diffAdd(t,r),t=t.dbl()):(t=s.diffAdd(t,r),s=s.dbl());return t},w.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},w.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],109:[function(m,U,A){"use strict";function p(u){i.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function w(u,s,t,r){i.BasePoint.call(this,u,"affine"),s===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(s,16),this.y=new e(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function v(u,s,t,r){i.BasePoint.call(this,u,"jacobian"),s===null&&t===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(s,16),this.y=new e(t,16),this.z=new e(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var h=m("../utils"),e=m("bn.js"),o=m("inherits"),i=m("./base"),c=h.assert;o(p,i),U.exports=p,p.prototype._getEndomorphism=function(s){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var t,r;if(s.beta)t=new e(s.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);t=0>a[0].cmp(a[1])?a[0]:a[1],t=t.toRed(this.red)}if(s.lambda)r=new e(s.lambda,16);else{var l=this._getEndoRoots(this.n);this.g.mul(l[0]).x.cmp(this.g.x.redMul(t))===0?r=l[0]:(r=l[1],c(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var f;return f=s.basis?s.basis.map(function(b){return{a:new e(b.a,16),b:new e(b.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:f}}},p.prototype._getEndoRoots=function(s){var t=s===this.p?this.red:e.mont(s),r=new e(2).toRed(t).redInvm(),a=r.redNeg(),l=new e(3).toRed(t).redNeg().redSqrt().redMul(r),f=a.redAdd(l).fromRed(),b=a.redSub(l).fromRed();return[f,b]},p.prototype._getEndoBasis=function(s){for(var t=this.n.ushrn(I(this.n.bitLength()/2)),r=s,a=this.n.clone(),l=new e(1),f=new e(0),b=new e(0),C=new e(1),$=0,W,R,L,Y,ee,ae,fe,xe,se,B;r.cmpn(0)!==0;){B=a.div(r),xe=a.sub(B.mul(r)),se=b.sub(B.mul(l));var K=C.sub(B.mul(f));if(!L&&0>xe.cmp(t))W=fe.neg(),R=l,L=xe.neg(),Y=se;else if(L&&++$==2)break;fe=xe,a=r,r=xe,b=l,l=se,C=f,f=K}ee=xe.neg(),ae=se;var z=L.sqr().add(Y.sqr()),E=ee.sqr().add(ae.sqr());return 0<=E.cmp(z)&&(ee=W,ae=R),L.negative&&(L=L.neg(),Y=Y.neg()),ee.negative&&(ee=ee.neg(),ae=ae.neg()),[{a:L,b:Y},{a:ee,b:ae}]},p.prototype._endoSplit=function(s){var t=this.endo.basis,r=t[0],a=t[1],l=a.b.mul(s).divRound(this.n),f=r.b.neg().mul(s).divRound(this.n),b=l.mul(r.a),C=f.mul(a.a),$=l.mul(r.b),W=f.mul(a.b),R=s.sub(b).sub(C),L=$.add(W).neg();return{k1:R,k2:L}},p.prototype.pointFromX=function(s,t){s=new e(s,16),s.red||(s=s.toRed(this.red));var r=s.redSqr().redMul(s).redIAdd(s.redMul(this.a)).redIAdd(this.b),a=r.redSqrt();if(a.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var l=a.fromRed().isOdd();return(t&&!l||!t&&l)&&(a=a.redNeg()),this.point(s,a)},p.prototype.validate=function(s){if(s.inf)return!0;var t=s.x,r=s.y,a=this.a.redMul(t),l=t.redSqr().redMul(t).redIAdd(a).redIAdd(this.b);return r.redSqr().redISub(l).cmpn(0)===0},p.prototype._endoWnafMulAdd=function(s,t,r){for(var a=this._endoWnafT1,l=this._endoWnafT2,f=0;f<s.length;f++){var b=this._endoSplit(t[f]),C=s[f],$=C._getBeta();b.k1.negative&&(b.k1.ineg(),C=C.neg(!0)),b.k2.negative&&(b.k2.ineg(),$=$.neg(!0)),a[2*f]=C,a[2*f+1]=$,l[2*f]=b.k1,l[2*f+1]=b.k2}for(var W=this._wnafMulAdd(1,a,l,2*f,r),R=0;R<2*f;R++)a[R]=null,l[R]=null;return W},o(w,i.BasePoint),p.prototype.point=function(s,t,r){return new w(this,s,t,r)},p.prototype.pointFromJSON=function(s,t){return w.fromJSON(this,s,t)},w.prototype._getBeta=function(){if(this.curve.endo){var s=this.precomputed;if(s&&s.beta)return s.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(s){var r=this.curve,a=function(l){return r.point(l.x.redMul(r.endo.beta),l.y)};s.beta=t,t.precomputed={beta:null,naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(a)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(a)}}}return t}},w.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},w.fromJSON=function(s,t,r){function a(b){return s.point(b[0],b[1],r)}typeof t=="string"&&(t=JSON.parse(t));var l=s.point(t[0],t[1],r);if(!t[2])return l;var f=t[2];return l.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[l].concat(f.doubles.points.map(a))},naf:f.naf&&{wnd:f.naf.wnd,points:[l].concat(f.naf.points.map(a))}},l},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.inf},w.prototype.add=function(s){if(this.inf)return s;if(s.inf)return this;if(this.eq(s))return this.dbl();if(this.neg().eq(s))return this.curve.point(null,null);if(this.x.cmp(s.x)===0)return this.curve.point(null,null);var t=this.y.redSub(s.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(s.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(s.x),a=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,a)},w.prototype.dbl=function(){if(this.inf)return this;var s=this.y.redAdd(this.y);if(s.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),a=s.redInvm(),l=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(a),f=l.redSqr().redISub(this.x.redAdd(this.x)),b=l.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,b)},w.prototype.getX=function(){return this.x.fromRed()},w.prototype.getY=function(){return this.y.fromRed()},w.prototype.mul=function(s){return s=new e(s,16),this.isInfinity()?this:this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve.endo?this.curve._endoWnafMulAdd([this],[s]):this.curve._wnafMul(this,s)},w.prototype.mulAdd=function(s,t,r){var a=[this,t],l=[s,r];return this.curve.endo?this.curve._endoWnafMulAdd(a,l):this.curve._wnafMulAdd(1,a,l,2)},w.prototype.jmulAdd=function(s,t,r){var a=[this,t],l=[s,r];return this.curve.endo?this.curve._endoWnafMulAdd(a,l,!0):this.curve._wnafMulAdd(1,a,l,2,!0)},w.prototype.eq=function(s){return this===s||this.inf===s.inf&&(this.inf||this.x.cmp(s.x)===0&&this.y.cmp(s.y)===0)},w.prototype.neg=function(s){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(s&&this.precomputed){var r=this.precomputed,a=function(l){return l.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(a)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(a)}}}return t},w.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var s=this.curve.jpoint(this.x,this.y,this.curve.one);return s},o(v,i.BasePoint),p.prototype.jpoint=function(s,t,r){return new v(this,s,t,r)},v.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var s=this.z.redInvm(),t=s.redSqr(),r=this.x.redMul(t),a=this.y.redMul(t).redMul(s);return this.curve.point(r,a)},v.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},v.prototype.add=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var t=s.z.redSqr(),r=this.z.redSqr(),a=this.x.redMul(t),l=s.x.redMul(r),f=this.y.redMul(t.redMul(s.z)),b=s.y.redMul(r.redMul(this.z)),C=a.redSub(l),$=f.redSub(b);if(C.cmpn(0)===0)return $.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var W=C.redSqr(),R=W.redMul(C),L=a.redMul(W),Y=$.redSqr().redIAdd(R).redISub(L).redISub(L),ee=$.redMul(L.redISub(Y)).redISub(f.redMul(R)),ae=this.z.redMul(s.z).redMul(C);return this.curve.jpoint(Y,ee,ae)},v.prototype.mixedAdd=function(s){if(this.isInfinity())return s.toJ();if(s.isInfinity())return this;var t=this.z.redSqr(),r=this.x,a=s.x.redMul(t),l=this.y,f=s.y.redMul(t).redMul(this.z),b=r.redSub(a),C=l.redSub(f);if(b.cmpn(0)===0)return C.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var $=b.redSqr(),W=$.redMul(b),R=r.redMul($),L=C.redSqr().redIAdd(W).redISub(R).redISub(R),Y=C.redMul(R.redISub(L)).redISub(l.redMul(W)),ee=this.z.redMul(b);return this.curve.jpoint(L,Y,ee)},v.prototype.dblp=function(s){if(s===0)return this;if(this.isInfinity())return this;if(!s)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<s;t++)r=r.dbl();return r}var a=this.curve.a,l=this.curve.tinv,f=this.x,b=this.y,C=this.z,$=C.redSqr().redSqr(),W=b.redAdd(b);for(t=0;t<s;t++){var R=f.redSqr(),L=W.redSqr(),Y=L.redSqr(),ee=R.redAdd(R).redIAdd(R).redIAdd(a.redMul($)),ae=f.redMul(L),fe=ee.redSqr().redISub(ae.redAdd(ae)),xe=ae.redISub(fe),se=ee.redMul(xe);se=se.redIAdd(se).redISub(Y);var B=W.redMul(C);t+1<s&&($=$.redMul(Y)),f=fe,C=B,W=se}return this.curve.jpoint(f,W.redMul(l),C)},v.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},v.prototype._zeroDbl=function(){var s,t,r;if(this.zOne){var a=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),b=this.x.redAdd(l).redSqr().redISub(a).redISub(f);b=b.redIAdd(b);var C=a.redAdd(a).redIAdd(a),$=C.redSqr().redISub(b).redISub(b),W=f.redIAdd(f);W=W.redIAdd(W),W=W.redIAdd(W),s=$,t=C.redMul(b.redISub($)).redISub(W),r=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),L=this.y.redSqr(),Y=L.redSqr(),ee=this.x.redAdd(L).redSqr().redISub(R).redISub(Y);ee=ee.redIAdd(ee);var ae=R.redAdd(R).redIAdd(R),fe=ae.redSqr(),xe=Y.redIAdd(Y);xe=xe.redIAdd(xe),xe=xe.redIAdd(xe),s=fe.redISub(ee).redISub(ee),t=ae.redMul(ee.redISub(s)).redISub(xe),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(s,t,r)},v.prototype._threeDbl=function(){var s,t,r;if(this.zOne){var a=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),b=this.x.redAdd(l).redSqr().redISub(a).redISub(f);b=b.redIAdd(b);var C=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),$=C.redSqr().redISub(b).redISub(b);s=$;var W=f.redIAdd(f);W=W.redIAdd(W),W=W.redIAdd(W),t=C.redMul(b.redISub($)).redISub(W),r=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),L=this.y.redSqr(),Y=this.x.redMul(L),ee=this.x.redSub(R).redMul(this.x.redAdd(R));ee=ee.redAdd(ee).redIAdd(ee);var ae=Y.redIAdd(Y);ae=ae.redIAdd(ae);var fe=ae.redAdd(ae);s=ee.redSqr().redISub(fe),r=this.y.redAdd(this.z).redSqr().redISub(L).redISub(R);var xe=L.redSqr();xe=xe.redIAdd(xe),xe=xe.redIAdd(xe),xe=xe.redIAdd(xe),t=ee.redMul(ae.redISub(s)).redISub(xe)}return this.curve.jpoint(s,t,r)},v.prototype._dbl=function(){var s=this.curve.a,t=this.x,r=this.y,a=this.z,l=a.redSqr().redSqr(),f=t.redSqr(),b=r.redSqr(),C=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),$=t.redAdd(t);$=$.redIAdd($);var W=$.redMul(b),R=C.redSqr().redISub(W.redAdd(W)),L=W.redISub(R),Y=b.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var ee=C.redMul(L).redISub(Y),ae=r.redAdd(r).redMul(a);return this.curve.jpoint(R,ee,ae)},v.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var s=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),a=t.redSqr(),l=s.redAdd(s).redIAdd(s),f=l.redSqr(),b=this.x.redAdd(t).redSqr().redISub(s).redISub(a);b=b.redIAdd(b),b=b.redAdd(b).redIAdd(b),b=b.redISub(f);var C=b.redSqr(),$=a.redIAdd(a);$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var W=l.redIAdd(b).redSqr().redISub(f).redISub(C).redISub($),R=t.redMul(W);R=R.redIAdd(R),R=R.redIAdd(R);var L=this.x.redMul(C).redISub(R);L=L.redIAdd(L),L=L.redIAdd(L);var Y=this.y.redMul(W.redMul($.redISub(W)).redISub(b.redMul(C)));Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var ee=this.z.redAdd(b).redSqr().redISub(r).redISub(C);return this.curve.jpoint(L,Y,ee)},v.prototype.mul=function(s,t){return s=new e(s,t),this.curve._wnafMul(this,s)},v.prototype.eq=function(s){if(s.type==="affine")return this.eq(s.toJ());if(this===s)return!0;var t=this.z.redSqr(),r=s.z.redSqr();if(this.x.redMul(r).redISub(s.x.redMul(t)).cmpn(0)!==0)return!1;var a=t.redMul(this.z),l=r.redMul(s.z);return this.y.redMul(l).redISub(s.y.redMul(a)).cmpn(0)===0},v.prototype.eqXToP=function(s){var t=this.z.redSqr(),r=s.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var a=s.clone(),l=this.curve.redN.redMul(t);;){if(a.iadd(this.curve.n),0<=a.cmp(this.curve.p))return!1;if(r.redIAdd(l),this.x.cmp(r)===0)return!0}},v.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],110:[function(m,U,A){"use strict";function p(u){this.curve=u.type==="short"?new e.short(u):u.type==="edwards"?new e.edwards(u):new e.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function w(u,s){Object.defineProperty(v,u,{configurable:!0,enumerable:!0,get:function(){var t=new p(s);return Object.defineProperty(v,u,{configurable:!0,enumerable:!0,value:t}),t}})}var v=A,h=m("hash.js"),e=m("./curve"),o=m("./utils"),i=o.assert;v.PresetCurve=p,w("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:h.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),w("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:h.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),w("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:h.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),w("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:h.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),w("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:h.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),w("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["9"]}),w("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=m("./precomputed/secp256k1")}catch{c=void 0}w("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:h.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},{"./curve":107,"./precomputed/secp256k1":117,"./utils":118,"hash.js":131}],111:[function(m,U,A){"use strict";function p(s){return this instanceof p?(typeof s=="string"&&(i(Object.prototype.hasOwnProperty.call(e,s),"Unknown curve "+s),s=e[s]),s instanceof e.PresetCurve&&(s={curve:s}),this.curve=s.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=s.curve.g,this.g.precompute(s.curve.n.bitLength()+1),void(this.hash=s.hash||s.curve.hash)):new p(s)}var w=m("bn.js"),v=m("hmac-drbg"),h=m("../utils"),e=m("../curves"),o=m("brorand"),i=h.assert,c=m("./key"),u=m("./signature");U.exports=p,p.prototype.keyPair=function(t){return new c(this,t)},p.prototype.keyFromPrivate=function(t,r){return c.fromPrivate(this,t,r)},p.prototype.keyFromPublic=function(t,r){return c.fromPublic(this,t,r)},p.prototype.genKeyPair=function(t){t||(t={});for(var r=new v({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||o(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),a=this.n.byteLength(),l=this.n.sub(new w(2));;){var f=new w(r.generate(a));if(!(0<f.cmp(l)))return f.iaddn(1),this.keyFromPrivate(f)}},p.prototype._truncateToN=function(t,r){var a=8*t.byteLength()-this.n.bitLength();return 0<a&&(t=t.ushrn(a)),!r&&0<=t.cmp(this.n)?t.sub(this.n):t},p.prototype.sign=function(t,r,a,l){typeof a=="object"&&(l=a,a=null),l||(l={}),r=this.keyFromPrivate(r,a),t=this._truncateToN(new w(t,16));for(var f=this.n.byteLength(),b=r.getPrivate().toArray("be",f),C=t.toArray("be",f),$=new v({hash:this.hash,entropy:b,nonce:C,pers:l.pers,persEnc:l.persEnc||"utf8"}),W=this.n.sub(new w(1)),R=0,L;;R++)if(L=l.k?l.k(R):new w($.generate(this.n.byteLength())),L=this._truncateToN(L,!0),!(0>=L.cmpn(1)||0<=L.cmp(W))){var Y=this.g.mul(L);if(!Y.isInfinity()){var ee=Y.getX(),ae=ee.umod(this.n);if(ae.cmpn(0)!==0){var fe=L.invm(this.n).mul(ae.mul(r.getPrivate()).iadd(t));if(fe=fe.umod(this.n),fe.cmpn(0)!==0){var xe=(Y.getY().isOdd()?1:0)|(ee.cmp(ae)===0?0:2);return l.canonical&&0<fe.cmp(this.nh)&&(fe=this.n.sub(fe),xe^=1),new u({r:ae,s:fe,recoveryParam:xe})}}}}},p.prototype.verify=function(t,r,a,l){t=this._truncateToN(new w(t,16)),a=this.keyFromPublic(a,l),r=new u(r,"hex");var f=r.r,b=r.s;if(0>f.cmpn(1)||0<=f.cmp(this.n)||0>b.cmpn(1)||0<=b.cmp(this.n))return!1;var C=b.invm(this.n),$=C.mul(t).umod(this.n),W=C.mul(f).umod(this.n),R;return this.curve._maxwellTrick?(R=this.g.jmulAdd($,a.getPublic(),W),!R.isInfinity()&&R.eqXToP(f)):(R=this.g.mulAdd($,a.getPublic(),W),!R.isInfinity()&&R.getX().umod(this.n).cmp(f)===0)},p.prototype.recoverPubKey=function(s,t,r,a){i((3&r)===r,"The recovery param is more than two bits"),t=new u(t,a);var l=this.n,f=new w(s),b=t.r,C=t.s,$=1&r,W=r>>1;if(0<=b.cmp(this.curve.p.umod(this.curve.n))&&W)throw new Error("Unable to find sencond key candinate");b=W?this.curve.pointFromX(b.add(this.curve.n),$):this.curve.pointFromX(b,$);var R=t.r.invm(l),L=l.sub(f).mul(R).umod(l),Y=C.mul(R).umod(l);return this.g.mulAdd(L,b,Y)},p.prototype.getKeyRecoveryParam=function(s,t,r,a){if(t=new u(t,a),t.recoveryParam!==null)return t.recoveryParam;for(var l=0;4>l;l++){var f;try{f=this.recoverPubKey(s,t,l)}catch{continue}if(f.eq(r))return l}throw new Error("Unable to find valid recovery factor")}},{"../curves":110,"../utils":118,"./key":112,"./signature":113,"bn.js":119,brorand:41,"hmac-drbg":143}],112:[function(m,U,A){"use strict";function p(e,o){this.ec=e,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}var w=m("bn.js"),v=m("../utils"),h=v.assert;U.exports=p,p.fromPublic=function(o,i,c){return i instanceof p?i:new p(o,{pub:i,pubEnc:c})},p.fromPrivate=function(o,i,c){return i instanceof p?i:new p(o,{priv:i,privEnc:c})},p.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},p.prototype.getPublic=function(o,i){return typeof o=="string"&&(i=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,o):this.pub},p.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},p.prototype._importPrivate=function(o,i){this.priv=new w(o,i||16),this.priv=this.priv.umod(this.ec.curve.n)},p.prototype._importPublic=function(o,i){return o.x||o.y?(this.ec.curve.type==="mont"?h(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&h(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y))):void(this.pub=this.ec.curve.decodePoint(o,i))},p.prototype.derive=function(o){return o.validate()||h(o.validate(),"public point not validated"),o.mul(this.priv).getX()},p.prototype.sign=function(o,i,c){return this.ec.sign(o,this,i,c)},p.prototype.verify=function(o,i){return this.ec.verify(o,i,this)},p.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":118,"bn.js":119}],113:[function(m,U,A){"use strict";function p(u,s){return u instanceof p?u:void(this._importDER(u,s)||(c(u.r&&u.s,"Signature without r or s"),this.r=new o(u.r,16),this.s=new o(u.s,16),this.recoveryParam=u.recoveryParam===void 0?null:u.recoveryParam))}function w(){this.place=0}function v(u,s){var t=u[s.place++];if(!(128&t))return t;var r=15&t;if(r==0||4<r)return!1;for(var a=0,l=0,f=s.place;l<r;l++,f++)a<<=8,a|=u[f],a>>>=0;return!(127>=a)&&(s.place=f,a)}function h(u){for(var s=0,t=u.length-1;!u[s]&&!(128&u[s+1])&&s<t;)s++;return s===0?u:u.slice(s)}function e(u,s){if(128>s)return void u.push(s);var t=1+(Q(s)/we>>>3);for(u.push(128|t);--t;)u.push(255&s>>>(t<<3));u.push(s)}var o=m("bn.js"),i=m("../utils"),c=i.assert;U.exports=p,p.prototype._importDER=function(s,t){s=i.toArray(s,t);var r=new w;if(s[r.place++]!==48)return!1;var a=v(s,r);if(a===!1||a+r.place!==s.length||s[r.place++]!==2)return!1;var l=v(s,r);if(l===!1)return!1;var f=s.slice(r.place,l+r.place);if(r.place+=l,s[r.place++]!==2)return!1;var b=v(s,r);if(b===!1||s.length!==b+r.place)return!1;var C=s.slice(r.place,b+r.place);if(f[0]===0)if(128&f[1])f=f.slice(1);else return!1;if(C[0]===0)if(128&C[1])C=C.slice(1);else return!1;return this.r=new o(f),this.s=new o(C),this.recoveryParam=null,!0},p.prototype.toDER=function(s){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=h(t),r=h(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var a=[2];e(a,t.length),a=a.concat(t),a.push(2),e(a,r.length);var l=a.concat(r),f=[48];return e(f,l.length),f=f.concat(l),i.encode(f,s)}},{"../utils":118,"bn.js":119}],114:[function(m,U,A){"use strict";function p(u){return e(u==="ed25519","only tested with ed25519 so far"),this instanceof p?(u=v[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=N(u.n.bitLength()/8),void(this.hash=w.sha512)):new p(u)}var w=m("hash.js"),v=m("../curves"),h=m("../utils"),e=h.assert,o=h.parseBytes,i=m("./key"),c=m("./signature");U.exports=p,p.prototype.sign=function(s,t){s=o(s);var r=this.keyFromSecret(t),a=this.hashInt(r.messagePrefix(),s),l=this.g.mul(a),f=this.encodePoint(l),b=this.hashInt(f,r.pubBytes(),s).mul(r.priv()),C=a.add(b).umod(this.curve.n);return this.makeSignature({R:l,S:C,Rencoded:f})},p.prototype.verify=function(s,t,r){s=o(s),t=this.makeSignature(t);var a=this.keyFromPublic(r),l=this.hashInt(t.Rencoded(),a.pubBytes(),s),f=this.g.mul(t.S()),b=t.R().add(a.pub().mul(l));return b.eq(f)},p.prototype.hashInt=function(){for(var s=this.hash(),t=0;t<arguments.length;t++)s.update(arguments[t]);return h.intFromLE(s.digest()).umod(this.curve.n)},p.prototype.keyFromPublic=function(s){return i.fromPublic(this,s)},p.prototype.keyFromSecret=function(s){return i.fromSecret(this,s)},p.prototype.makeSignature=function(s){return s instanceof c?s:new c(this,s)},p.prototype.encodePoint=function(s){var t=s.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=s.getX().isOdd()?128:0,t},p.prototype.decodePoint=function(s){s=h.parseBytes(s);var t=s.length-1,r=s.slice(0,t).concat(-129&s[t]),a=(128&s[t])!=0,l=h.intFromLE(r);return this.curve.pointFromY(l,a)},p.prototype.encodeInt=function(s){return s.toArray("le",this.encodingLength)},p.prototype.decodeInt=function(s){return h.intFromLE(s)},p.prototype.isPoint=function(s){return s instanceof this.pointClass}},{"../curves":110,"../utils":118,"./key":115,"./signature":116,"hash.js":131}],115:[function(m,U,A){"use strict";function p(o,i){this.eddsa=o,this._secret=h(i.secret),o.isPoint(i.pub)?this._pub=i.pub:this._pubBytes=h(i.pub)}var w=m("../utils"),v=w.assert,h=w.parseBytes,e=w.cachedProperty;p.fromPublic=function(i,c){return c instanceof p?c:new p(i,{pub:c})},p.fromSecret=function(i,c){return c instanceof p?c:new p(i,{secret:c})},p.prototype.secret=function(){return this._secret},e(p,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),e(p,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),e(p,"privBytes",function(){var i=this.eddsa,c=this.hash(),u=i.encodingLength-1,s=c.slice(0,i.encodingLength);return s[0]&=248,s[u]&=127,s[u]|=64,s}),e(p,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),e(p,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),e(p,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),p.prototype.sign=function(i){return v(this._secret,"KeyPair can only verify"),this.eddsa.sign(i,this)},p.prototype.verify=function(i,c){return this.eddsa.verify(i,c,this)},p.prototype.getSecret=function(i){return v(this._secret,"KeyPair is public only"),w.encode(this.secret(),i)},p.prototype.getPublic=function(i){return w.encode(this.pubBytes(),i)},U.exports=p},{"../utils":118}],116:[function(m,U,A){"use strict";function p(i,c){this.eddsa=i,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(c={R:c.slice(0,i.encodingLength),S:c.slice(i.encodingLength)}),h(c.R&&c.S,"Signature without R or S"),i.isPoint(c.R)&&(this._R=c.R),c.S instanceof w&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}var w=m("bn.js"),v=m("../utils"),h=v.assert,e=v.cachedProperty,o=v.parseBytes;e(p,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),e(p,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),e(p,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),e(p,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),p.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},p.prototype.toHex=function(){return v.encode(this.toBytes(),"hex").toUpperCase()},U.exports=p},{"../utils":118,"bn.js":119}],117:[function(m,U,A){U.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],118:[function(m,U,A){"use strict";function p(s,t,r){var a=Array(F(s.bitLength(),r)+1);a.fill(0);for(var l=1<<t+1,f=s.clone(),b=0;b<a.length;b++){var C=f.andln(l-1),$;f.isOdd()?($=C>(l>>1)-1?(l>>1)-C:C,f.isubn($)):$=0,a[b]=$,f.iushrn(1)}return a}function w(s,t){var r=[[],[]];s=s.clone(),t=t.clone();for(var a=0,l=0,f;0<s.cmpn(-a)||0<t.cmpn(-l);){var b=3&s.andln(3)+a,C=3&t.andln(3)+l;b==3&&(b=-1),C===3&&(C=-1);var $;(1&b)==0?$=0:(f=7&s.andln(7)+a,$=(f===3||f===5)&&C===2?-b:b),r[0].push($);var W;(1&C)==0?W=0:(f=7&t.andln(7)+l,W=(f===3||f===5)&&b===2?-C:C),r[1].push(W),2*a===$+1&&(a=1-a),2*l===W+1&&(l=1-l),s.iushrn(1),t.iushrn(1)}return r}function v(s,t,r){var a="_"+t;s.prototype[t]=function(){return this[a]===void 0?this[a]=r.call(this):this[a]}}function h(s){return typeof s=="string"?o.toArray(s,"hex"):s}function e(s){return new i(s,"hex","le")}var o=A,i=m("bn.js"),c=m("minimalistic-assert"),u=m("minimalistic-crypto-utils");o.assert=c,o.toArray=u.toArray,o.zero2=u.zero2,o.toHex=u.toHex,o.encode=u.encode,o.getNAF=p,o.getJSF=w,o.cachedProperty=v,o.parseBytes=h,o.intFromLE=e},{"bn.js":119,"minimalistic-assert":168,"minimalistic-crypto-utils":169}],119:[function(m,U,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],120:[function(m,U,A){U.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],121:[function(m,U,A){(function(p){(function(){var w=m("once"),v=function(){},h=function(i){return i.setHeader&&typeof i.abort=="function"},e=function(i){return i.stdio&&Array.isArray(i.stdio)&&i.stdio.length===3},o=function(i,c,u){if(typeof c=="function")return o(i,null,c);c||(c={}),u=w(u||v);var s=i._writableState,t=i._readableState,r=c.readable||c.readable!==!1&&i.readable,a=c.writable||c.writable!==!1&&i.writable,l=!1,f=function(){i.writable||b()},b=function(){a=!1,r||u.call(i)},C=function(){r=!1,a||u.call(i)},$=function(ee){u.call(i,ee?new Error("exited with error code: "+ee):null)},W=function(ee){u.call(i,ee)},R=function(){p.nextTick(L)},L=function(){return l?void 0:r&&!(t&&t.ended&&!t.destroyed)?u.call(i,new Error("premature close")):a&&!(s&&s.ended&&!s.destroyed)?u.call(i,new Error("premature close")):void 0},Y=function(){i.req.on("finish",b)};return h(i)?(i.on("complete",b),i.on("abort",R),i.req?Y():i.on("request",Y)):a&&!s&&(i.on("end",f),i.on("close",f)),e(i)&&i.on("exit",$),i.on("end",C),i.on("finish",b),c.error!==!1&&i.on("error",W),i.on("close",R),function(){l=!0,i.removeListener("complete",b),i.removeListener("abort",R),i.removeListener("request",Y),i.req&&i.req.removeListener("finish",b),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",b),i.removeListener("exit",$),i.removeListener("end",C),i.removeListener("error",W),i.removeListener("close",R)}};U.exports=o}).call(this)}).call(this,m("_process"))},{_process:193,once:178}],122:[function(m,U,A){"use strict";function p(v,h){for(let e in h)Object.defineProperty(v,e,{value:h[e],enumerable:!0,configurable:!0});return v}function w(v,h,e){if(!v||typeof v=="string")throw new TypeError("Please pass an Error to err-code");e||(e={}),typeof h=="object"&&(e=h,h=""),h&&(e.code=h);try{return p(v,e)}catch{e.message=v.message,e.stack=v.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(v)),p(new i,e)}}U.exports=w},{}],123:[function(m,U,A){"use strict";function p(L){console&&console.warn&&console.warn(L)}function w(){w.init.call(this)}function v(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function h(L){return L._maxListeners===void 0?w.defaultMaxListeners:L._maxListeners}function e(L,Y,ee,ae){var fe,xe,se;if(v(ee),xe=L._events,xe===void 0?(xe=L._events=Object.create(null),L._eventsCount=0):(xe.newListener!==void 0&&(L.emit("newListener",Y,ee.listener?ee.listener:ee),xe=L._events),se=xe[Y]),se===void 0)se=xe[Y]=ee,++L._eventsCount;else if(typeof se=="function"?se=xe[Y]=ae?[ee,se]:[se,ee]:ae?se.unshift(ee):se.push(ee),fe=h(L),0<fe&&se.length>fe&&!se.warned){se.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+(Y+" listeners added. Use emitter.setMaxListeners() to increase limit"));B.name="MaxListenersExceededWarning",B.emitter=L,B.type=Y,B.count=se.length,p(B)}return L}function o(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(L,Y,ee){var ae={fired:!1,wrapFn:void 0,target:L,type:Y,listener:ee},fe=o.bind(ae);return fe.listener=ee,ae.wrapFn=fe,fe}function c(L,Y,ee){var ae=L._events;if(ae===void 0)return[];var fe=ae[Y];return fe===void 0?[]:typeof fe=="function"?ee?[fe.listener||fe]:[fe]:ee?r(fe):s(fe,fe.length)}function u(L){var Y=this._events;if(Y!==void 0){var ee=Y[L];if(typeof ee=="function")return 1;if(ee!==void 0)return ee.length}return 0}function s(L,Y){for(var ee=Array(Y),ae=0;ae<Y;++ae)ee[ae]=L[ae];return ee}function t(L,Y){for(;Y+1<L.length;Y++)L[Y]=L[Y+1];L.pop()}function r(L){for(var Y=Array(L.length),ee=0;ee<Y.length;++ee)Y[ee]=L[ee].listener||L[ee];return Y}function a(L,Y){return new Promise(function(ee,ae){function fe(se){L.removeListener(Y,xe),ae(se)}function xe(){typeof L.removeListener=="function"&&L.removeListener("error",fe),ee([].slice.call(arguments))}f(L,Y,xe,{once:!0}),Y!=="error"&&l(L,fe,{once:!0})})}function l(L,Y,ee){typeof L.on=="function"&&f(L,"error",Y,ee)}function f(L,Y,ee,ae){if(typeof L.on=="function")ae.once?L.once(Y,ee):L.on(Y,ee);else if(typeof L.addEventListener=="function")L.addEventListener(Y,function fe(xe){ae.once&&L.removeEventListener(Y,fe),ee(xe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}var b=typeof Reflect=="object"?Reflect:null,C=b&&typeof b.apply=="function"?b.apply:function(Y,ee,ae){return Function.prototype.apply.call(Y,ee,ae)},$;$=b&&typeof b.ownKeys=="function"?b.ownKeys:Object.getOwnPropertySymbols?function(Y){return Object.getOwnPropertyNames(Y).concat(Object.getOwnPropertySymbols(Y))}:function(Y){return Object.getOwnPropertyNames(Y)};var W=Number.isNaN||function(Y){return Y!==Y};U.exports=w,U.exports.once=a,w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var R=10;Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return R},set:function(L){if(typeof L!="number"||0>L||W(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");R=L}}),w.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(Y){if(typeof Y!="number"||0>Y||W(Y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Y+".");return this._maxListeners=Y,this},w.prototype.getMaxListeners=function(){return h(this)},w.prototype.emit=function(Y){for(var ee=[],ae=1;ae<arguments.length;ae++)ee.push(arguments[ae]);var fe=Y==="error",xe=this._events;if(xe!==void 0)fe=fe&&xe.error===void 0;else if(!fe)return!1;if(fe){var se;if(0<ee.length&&(se=ee[0]),se instanceof Error)throw se;var B=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw B.context=se,B}var K=xe[Y];if(K===void 0)return!1;if(typeof K=="function")C(K,this,ee);else for(var z=K.length,E=s(K,z),ae=0;ae<z;++ae)C(E[ae],this,ee);return!0},w.prototype.addListener=function(Y,ee){return e(this,Y,ee,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(Y,ee){return e(this,Y,ee,!0)},w.prototype.once=function(Y,ee){return v(ee),this.on(Y,i(this,Y,ee)),this},w.prototype.prependOnceListener=function(Y,ee){return v(ee),this.prependListener(Y,i(this,Y,ee)),this},w.prototype.removeListener=function(Y,ee){var ae,fe,xe,se,B;if(v(ee),fe=this._events,fe===void 0)return this;if(ae=fe[Y],ae===void 0)return this;if(ae===ee||ae.listener===ee)--this._eventsCount==0?this._events=Object.create(null):(delete fe[Y],fe.removeListener&&this.emit("removeListener",Y,ae.listener||ee));else if(typeof ae!="function"){for(xe=-1,se=ae.length-1;0<=se;se--)if(ae[se]===ee||ae[se].listener===ee){B=ae[se].listener,xe=se;break}if(0>xe)return this;xe===0?ae.shift():t(ae,xe),ae.length===1&&(fe[Y]=ae[0]),fe.removeListener!==void 0&&this.emit("removeListener",Y,B||ee)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(Y){var ee,ae,fe;if(ae=this._events,ae===void 0)return this;if(ae.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ae[Y]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete ae[Y]),this;if(arguments.length===0){var xe=Object.keys(ae),se;for(fe=0;fe<xe.length;++fe)se=xe[fe],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ee=ae[Y],typeof ee=="function")this.removeListener(Y,ee);else if(ee!==void 0)for(fe=ee.length-1;0<=fe;fe--)this.removeListener(Y,ee[fe]);return this},w.prototype.listeners=function(Y){return c(this,Y,!0)},w.prototype.rawListeners=function(Y){return c(this,Y,!1)},w.listenerCount=function(L,Y){return typeof L.listenerCount=="function"?L.listenerCount(Y):u.call(L,Y)},w.prototype.listenerCount=u,w.prototype.eventNames=function(){return 0<this._eventsCount?$(this._events):[]}},{}],124:[function(m,U,A){function p(h,e,o,i){if(w.isBuffer(h)||(h=w.from(h,"binary")),e&&(w.isBuffer(e)||(e=w.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=o/8,u=w.alloc(c),s=w.alloc(i||0),t=w.alloc(0),r;0<c||0<i;){r=new v,r.update(t),r.update(h),e&&r.update(e),t=r.digest();var a=0;if(0<c){var l=u.length-c;a=J(c,t.length),t.copy(u,l,0,a),c-=a}if(a<t.length&&0<i){var f=s.length-i,b=J(i,t.length-a);t.copy(s,f,a,a+b),i-=b}}return t.fill(0),{key:u,iv:s}}var w=m("safe-buffer").Buffer,v=m("md5.js");U.exports=p},{"md5.js":159,"safe-buffer":235}],125:[function(m,U,A){function p(e,o={}){return w.from(e.stream(),o)}let{Readable:w,Writable:v}=m("streamx");m("fast-readable-async-iterator");class h extends v{constructor(o,i={}){super(Object.assign({decodeStrings:!1},i)),this.chunks=[];let c=i.mimeType;this.once("close",()=>{let u=c==null?new Blob(this.chunks):new Blob(this.chunks,{type:c});o(u),this.emit("blob",u)})}_write(o,i){this.chunks.push(o),i()}}U.exports={BlobWriteStream:h,BlobReadStream:p}},{"fast-readable-async-iterator":128,streamx:264}],126:[function(m,U,A){U.exports=class{constructor(w){if(!(0<w)||(w-1&w)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(w),this.mask=w-1,this.top=0,this.btm=0,this.next=null}push(w){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=w,this.top=this.top+1&this.mask,!0)}shift(){let w=this.buffer[this.btm];if(w!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,w}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}},{}],127:[function(m,U,A){let p=m("./fixed-size");U.exports=class{constructor(v){this.hwm=v||16,this.head=new p(this.hwm),this.tail=this.head}push(v){if(!this.head.push(v)){let h=this.head;this.head=h.next=new p(2*this.head.buffer.length),this.head.push(v)}}shift(){let v=this.tail.shift();if(v===void 0&&this.tail.next){let h=this.tail.next;return this.tail.next=null,this.tail=h,this.tail.shift()}return v}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":126}],128:[function(m,U,A){typeof ReadableStream=="undefined"||ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=function(){let p=this.getReader(),w=p.read();return{next(){let v=w;return w=p.read(),v},return(){w.then(()=>p.releaseLock())},throw(v){throw this.return(),v},[Symbol.asyncIterator](){return this}}})},{}],129:[function(m,U,A){U.exports=function(){if(typeof globalThis=="undefined")return null;var w={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return w.RTCPeerConnection?w:null}},{}],130:[function(m,U,A){"use strict";function p(o,i){if(!v.isBuffer(o)&&typeof o!="string")throw new TypeError(i+" must be a string or a buffer")}function w(o){h.call(this),this._block=v.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var v=m("safe-buffer").Buffer,h=m("readable-stream").Transform,e=m("inherits");e(w,h),w.prototype._transform=function(o,i,c){var u=null;try{this.update(o,i)}catch(s){u=s}c(u)},w.prototype._flush=function(o){var i=null;try{this.push(this.digest())}catch(c){i=c}o(i)},w.prototype.update=function(o,i){if(p(o,"Data"),this._finalized)throw new Error("Digest already called");v.isBuffer(o)||(o=v.from(o,i));for(var c=this._block,u=0;this._blockOffset+o.length-u>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)c[s++]=o[u++];this._update(),this._blockOffset=0}for(;u<o.length;)c[this._blockOffset++]=o[u++];for(var t=0,r=8*o.length;0<r;++t)this._length[t]+=r,r=0|this._length[t]/4294967296,0<r&&(this._length[t]-=4294967296*r);return this},w.prototype._update=function(){throw new Error("_update is not implemented")},w.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var i=this._digest();o!==void 0&&(i=i.toString(o)),this._block.fill(0),this._blockOffset=0;for(var c=0;4>c;++c)this._length[c]=0;return i},w.prototype._digest=function(){throw new Error("_digest is not implemented")},U.exports=w},{inherits:147,"readable-stream":228,"safe-buffer":235}],131:[function(m,U,A){var p=A;p.utils=m("./hash/utils"),p.common=m("./hash/common"),p.sha=m("./hash/sha"),p.ripemd=m("./hash/ripemd"),p.hmac=m("./hash/hmac"),p.sha1=p.sha.sha1,p.sha256=p.sha.sha256,p.sha224=p.sha.sha224,p.sha384=p.sha.sha384,p.sha512=p.sha.sha512,p.ripemd160=p.ripemd.ripemd160},{"./hash/common":132,"./hash/hmac":133,"./hash/ripemd":134,"./hash/sha":135,"./hash/utils":142}],132:[function(m,U,A){"use strict";function p(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var w=m("./utils"),v=m("minimalistic-assert");A.BlockHash=p,p.prototype.update=function(e,o){if(e=w.toArray(e,o),this.pending=this.pending?this.pending.concat(e):e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=w.join32(e,0,e.length-i,this.endian);for(var c=0;c<e.length;c+=this._delta32)this._update(e,c,c+this._delta32)}return this},p.prototype.digest=function(e){return this.update(this._pad()),v(this.pending===null),this._digest(e)},p.prototype._pad=function(){var e=this.pendingTotal,o=this._delta8,i=o-(e+this.padLength)%o,c=Array(i+this.padLength);c[0]=128;for(var u=1;u<i;u++)c[u]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=255&e>>>24,c[u++]=255&e>>>16,c[u++]=255&e>>>8,c[u++]=255&e}else for(c[u++]=255&e,c[u++]=255&e>>>8,c[u++]=255&e>>>16,c[u++]=255&e>>>24,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,s=8;s<this.padLength;s++)c[u++]=0;return c}},{"./utils":142,"minimalistic-assert":168}],133:[function(m,U,A){"use strict";function p(h,e,o){return this instanceof p?(this.Hash=h,this.blockSize=h.blockSize/8,this.outSize=h.outSize/8,this.inner=null,this.outer=null,void this._init(w.toArray(e,o))):new p(h,e,o)}var w=m("./utils"),v=m("minimalistic-assert");U.exports=p,p.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),v(e.length<=this.blockSize);for(var o=e.length;o<this.blockSize;o++)e.push(0);for(o=0;o<e.length;o++)e[o]^=54;for(this.inner=new this.Hash().update(e),o=0;o<e.length;o++)e[o]^=106;this.outer=new this.Hash().update(e)},p.prototype.update=function(e,o){return this.inner.update(e,o),this},p.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":142,"minimalistic-assert":168}],134:[function(m,U,A){"use strict";function p(){return this instanceof p?(t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new p}function w(b,C,$,W){return 15>=b?C^$^W:31>=b?C&$|~C&W:47>=b?(C|~$)^W:63>=b?C&W|$&~W:C^($|~W)}function v(b){return 15>=b?0:31>=b?1518500249:47>=b?1859775393:63>=b?2400959708:2840853838}function h(b){return 15>=b?1352829926:31>=b?1548603684:47>=b?1836072691:63>=b?2053994217:0}var e=m("./utils"),o=m("./common"),i=e.rotl32,c=e.sum32,u=e.sum32_3,s=e.sum32_4,t=o.BlockHash;e.inherits(p,t),A.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(C,$){for(var W=this.h[0],R=this.h[1],L=this.h[2],Y=this.h[3],ee=this.h[4],ae=W,fe=R,xe=L,se=Y,B=ee,K=0,z;80>K;K++)z=c(i(s(W,w(K,R,L,Y),C[r[K]+$],v(K)),l[K]),ee),W=ee,ee=Y,Y=i(L,10),L=R,R=z,z=c(i(s(ae,w(79-K,fe,xe,se),C[a[K]+$],h(K)),f[K]),B),ae=B,B=se,se=i(xe,10),xe=fe,fe=z;z=u(this.h[1],L,se),this.h[1]=u(this.h[2],Y,B),this.h[2]=u(this.h[3],ee,ae),this.h[3]=u(this.h[4],W,fe),this.h[4]=u(this.h[0],R,xe),this.h[0]=z},p.prototype._digest=function(C){return C==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":132,"./utils":142}],135:[function(m,U,A){"use strict";A.sha1=m("./sha/1"),A.sha224=m("./sha/224"),A.sha256=m("./sha/256"),A.sha384=m("./sha/384"),A.sha512=m("./sha/512")},{"./sha/1":136,"./sha/224":137,"./sha/256":138,"./sha/384":139,"./sha/512":140}],136:[function(m,U,A){"use strict";function p(){return this instanceof p?(u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new p}var w=m("../utils"),v=m("../common"),h=m("./common"),e=w.rotl32,o=w.sum32,i=w.sum32_5,c=h.ft_1,u=v.BlockHash,s=[1518500249,1859775393,2400959708,3395469782];w.inherits(p,u),U.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(r,a){for(var l=this.W,f=0;16>f;f++)l[f]=r[a+f];for(;f<l.length;f++)l[f]=e(l[f-3]^l[f-8]^l[f-14]^l[f-16],1);var b=this.h[0],C=this.h[1],$=this.h[2],W=this.h[3],R=this.h[4];for(f=0;f<l.length;f++){var L=~~(f/20),Y=i(e(b,5),c(L,C,$,W),R,l[f],s[L]);R=W,W=$,$=e(C,30),C=b,b=Y}this.h[0]=o(this.h[0],b),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],$),this.h[3]=o(this.h[3],W),this.h[4]=o(this.h[4],R)},p.prototype._digest=function(r){return r==="hex"?w.toHex32(this.h,"big"):w.split32(this.h,"big")}},{"../common":132,"../utils":142,"./common":141}],137:[function(m,U,A){"use strict";function p(){return this instanceof p?(v.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new p}var w=m("../utils"),v=m("./256");w.inherits(p,v),U.exports=p,p.blockSize=512,p.outSize=224,p.hmacStrength=192,p.padLength=64,p.prototype._digest=function(e){return e==="hex"?w.toHex32(this.h.slice(0,7),"big"):w.split32(this.h.slice(0,7),"big")}},{"../utils":142,"./256":138}],138:[function(m,U,A){"use strict";function p(){return this instanceof p?(f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,void(this.W=Array(64))):new p}var w=m("../utils"),v=m("../common"),h=m("./common"),e=m("minimalistic-assert"),o=w.sum32,i=w.sum32_4,c=w.sum32_5,u=h.ch32,s=h.maj32,t=h.s0_256,r=h.s1_256,a=h.g0_256,l=h.g1_256,f=v.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];w.inherits(p,f),U.exports=p,p.blockSize=512,p.outSize=256,p.hmacStrength=192,p.padLength=64,p.prototype._update=function($,W){for(var R=this.W,L=0;16>L;L++)R[L]=$[W+L];for(;L<R.length;L++)R[L]=i(l(R[L-2]),R[L-7],a(R[L-15]),R[L-16]);var Y=this.h[0],ee=this.h[1],ae=this.h[2],fe=this.h[3],xe=this.h[4],se=this.h[5],B=this.h[6],K=this.h[7];for(e(this.k.length===R.length),L=0;L<R.length;L++){var z=c(K,r(xe),u(xe,se,B),this.k[L],R[L]),E=o(t(Y),s(Y,ee,ae));K=B,B=se,se=xe,xe=o(fe,z),fe=ae,ae=ee,ee=Y,Y=o(z,E)}this.h[0]=o(this.h[0],Y),this.h[1]=o(this.h[1],ee),this.h[2]=o(this.h[2],ae),this.h[3]=o(this.h[3],fe),this.h[4]=o(this.h[4],xe),this.h[5]=o(this.h[5],se),this.h[6]=o(this.h[6],B),this.h[7]=o(this.h[7],K)},p.prototype._digest=function($){return $==="hex"?w.toHex32(this.h,"big"):w.split32(this.h,"big")}},{"../common":132,"../utils":142,"./common":141,"minimalistic-assert":168}],139:[function(m,U,A){"use strict";function p(){return this instanceof p?(v.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new p}var w=m("../utils"),v=m("./512");w.inherits(p,v),U.exports=p,p.blockSize=1024,p.outSize=384,p.hmacStrength=192,p.padLength=128,p.prototype._digest=function(e){return e==="hex"?w.toHex32(this.h.slice(0,12),"big"):w.split32(this.h.slice(0,12),"big")}},{"../utils":142,"./512":140}],140:[function(m,U,A){"use strict";function p(){return this instanceof p?(B.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=K,void(this.W=Array(160))):new p}function w(z,E,j,Z,oe){var q=z&j^~z&oe;return 0>q&&(q+=4294967296),q}function v(z,E,j,Z,oe,q){var le=E&Z^~E&q;return 0>le&&(le+=4294967296),le}function h(z,E,j,Z,oe){var q=z&j^z&oe^j&oe;return 0>q&&(q+=4294967296),q}function e(z,E,j,Z,oe,q){var le=E&Z^E&q^Z&q;return 0>le&&(le+=4294967296),le}function o(z,E){var j=C(z,E,28),Z=C(E,z,2),oe=C(E,z,7),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function i(z,E){var j=$(z,E,28),Z=$(E,z,2),oe=$(E,z,7),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function c(z,E){var j=C(z,E,14),Z=C(z,E,18),oe=C(E,z,9),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function u(z,E){var j=$(z,E,14),Z=$(z,E,18),oe=$(E,z,9),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function s(z,E){var j=C(z,E,1),Z=C(z,E,8),oe=W(z,E,7),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function t(z,E){var j=$(z,E,1),Z=$(z,E,8),oe=R(z,E,7),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function r(z,E){var j=C(z,E,19),Z=C(E,z,29),oe=W(z,E,6),q=j^Z^oe;return 0>q&&(q+=4294967296),q}function a(z,E){var j=$(z,E,19),Z=$(E,z,29),oe=R(z,E,6),q=j^Z^oe;return 0>q&&(q+=4294967296),q}var l=m("../utils"),f=m("../common"),b=m("minimalistic-assert"),C=l.rotr64_hi,$=l.rotr64_lo,W=l.shr64_hi,R=l.shr64_lo,L=l.sum64,Y=l.sum64_hi,ee=l.sum64_lo,ae=l.sum64_4_hi,fe=l.sum64_4_lo,xe=l.sum64_5_hi,se=l.sum64_5_lo,B=f.BlockHash,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];l.inherits(p,B),U.exports=p,p.blockSize=1024,p.outSize=512,p.hmacStrength=192,p.padLength=128,p.prototype._prepareBlock=function(E,j){for(var Z=this.W,oe=0;32>oe;oe++)Z[oe]=E[j+oe];for(;oe<Z.length;oe+=2){var q=r(Z[oe-4],Z[oe-3]),le=a(Z[oe-4],Z[oe-3]),ge=Z[oe-14],Re=Z[oe-13],ke=s(Z[oe-30],Z[oe-29]),De=t(Z[oe-30],Z[oe-29]),$e=Z[oe-32],qe=Z[oe-31];Z[oe]=ae(q,le,ge,Re,ke,De,$e,qe),Z[oe+1]=fe(q,le,ge,Re,ke,De,$e,qe)}},p.prototype._update=function(E,j){this._prepareBlock(E,j);var Z=this.W,oe=this.h[0],q=this.h[1],le=this.h[2],ge=this.h[3],Re=this.h[4],ke=this.h[5],De=this.h[6],$e=this.h[7],qe=this.h[8],nt=this.h[9],bt=this.h[10],ct=this.h[11],Me=this.h[12],Ge=this.h[13],Ze=this.h[14],ft=this.h[15];b(this.k.length===Z.length);for(var Mt=0;Mt<Z.length;Mt+=2){var ce=Ze,G=ft,te=c(qe,nt),de=u(qe,nt),_e=w(qe,nt,bt,ct,Me,Ge),Pe=v(qe,nt,bt,ct,Me,Ge),ze=this.k[Mt],Ue=this.k[Mt+1],yt=Z[Mt],mt=Z[Mt+1],et=xe(ce,G,te,de,_e,Pe,ze,Ue,yt,mt),Dt=se(ce,G,te,de,_e,Pe,ze,Ue,yt,mt);ce=o(oe,q),G=i(oe,q),te=h(oe,q,le,ge,Re,ke),de=e(oe,q,le,ge,Re,ke);var wt=Y(ce,G,te,de),Lt=ee(ce,G,te,de);Ze=Me,ft=Ge,Me=bt,Ge=ct,bt=qe,ct=nt,qe=Y(De,$e,et,Dt),nt=ee($e,$e,et,Dt),De=Re,$e=ke,Re=le,ke=ge,le=oe,ge=q,oe=Y(et,Dt,wt,Lt),q=ee(et,Dt,wt,Lt)}L(this.h,0,oe,q),L(this.h,2,le,ge),L(this.h,4,Re,ke),L(this.h,6,De,$e),L(this.h,8,qe,nt),L(this.h,10,bt,ct),L(this.h,12,Me,Ge),L(this.h,14,Ze,ft)},p.prototype._digest=function(E){return E==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":132,"../utils":142,"minimalistic-assert":168}],141:[function(m,U,A){"use strict";function p(t,r,a,l){return t===0?w(r,a,l):t===1||t===3?h(r,a,l):t===2?v(r,a,l):void 0}function w(t,r,a){return t&r^~t&a}function v(t,r,a){return t&r^t&a^r&a}function h(t,r,a){return t^r^a}function e(t){return s(t,2)^s(t,13)^s(t,22)}function o(t){return s(t,6)^s(t,11)^s(t,25)}function i(t){return s(t,7)^s(t,18)^t>>>3}function c(t){return s(t,17)^s(t,19)^t>>>10}var u=m("../utils"),s=u.rotr32;A.ft_1=p,A.ch32=w,A.maj32=v,A.p32=h,A.s0_256=e,A.s1_256=o,A.g0_256=i,A.g1_256=c},{"../utils":142}],142:[function(m,U,A){"use strict";function p(K,z){return(64512&K.charCodeAt(z))==55296&&!(0>z||z+1>=K.length)&&(64512&K.charCodeAt(z+1))==56320}function w(K,z){if(Array.isArray(K))return K.slice();if(!K)return[];var E=[];if(typeof K!="string")for(Z=0;Z<K.length;Z++)E[Z]=0|K[Z];else if(z){if(z==="hex")for(K=K.replace(/[^a-z0-9]+/ig,""),K.length%2!=0&&(K="0"+K),Z=0;Z<K.length;Z+=2)E.push(parseInt(K[Z]+K[Z+1],16))}else for(var j=0,Z=0,oe;Z<K.length;Z++)oe=K.charCodeAt(Z),128>oe?E[j++]=oe:2048>oe?(E[j++]=192|oe>>6,E[j++]=128|63&oe):p(K,Z)?(oe=65536+((1023&oe)<<10)+(1023&K.charCodeAt(++Z)),E[j++]=240|oe>>18,E[j++]=128|63&oe>>12,E[j++]=128|63&oe>>6,E[j++]=128|63&oe):(E[j++]=224|oe>>12,E[j++]=128|63&oe>>6,E[j++]=128|63&oe);return E}function v(K){for(var z="",E=0;E<K.length;E++)z+=o(K[E].toString(16));return z}function h(K){var z=K>>>24|65280&K>>>8|16711680&K<<8|(255&K)<<24;return z>>>0}function e(K,z){for(var E="",j=0,Z;j<K.length;j++)Z=K[j],z==="little"&&(Z=h(Z)),E+=i(Z.toString(16));return E}function o(K){return K.length===1?"0"+K:K}function i(K){return K.length===7?"0"+K:K.length===6?"00"+K:K.length===5?"000"+K:K.length===4?"0000"+K:K.length===3?"00000"+K:K.length===2?"000000"+K:K.length===1?"0000000"+K:K}function c(K,z,E,j){var Z=E-z;se(Z%4==0);for(var oe=Array(Z/4),q=0,le=z;q<oe.length;q++,le+=4){var ge;ge=j==="big"?K[le]<<24|K[le+1]<<16|K[le+2]<<8|K[le+3]:K[le+3]<<24|K[le+2]<<16|K[le+1]<<8|K[le],oe[q]=ge>>>0}return oe}function u(K,z){for(var E=Array(4*K.length),j=0,Z=0,oe;j<K.length;j++,Z+=4)oe=K[j],z==="big"?(E[Z]=oe>>>24,E[Z+1]=255&oe>>>16,E[Z+2]=255&oe>>>8,E[Z+3]=255&oe):(E[Z+3]=oe>>>24,E[Z+2]=255&oe>>>16,E[Z+1]=255&oe>>>8,E[Z]=255&oe);return E}function s(K,z){return K>>>z|K<<32-z}function t(K,z){return K<<z|K>>>32-z}function r(K,z){return K+z>>>0}function a(K,z,E){return K+z+E>>>0}function l(K,z,E,j){return K+z+E+j>>>0}function f(K,z,E,j,Z){return K+z+E+j+Z>>>0}function b(K,z,E,j){var Z=K[z],oe=K[z+1],q=j+oe>>>0,le=(q<j?1:0)+E+Z;K[z]=le>>>0,K[z+1]=q}function C(K,z,E,j){var Z=z+j>>>0,oe=(Z<z?1:0)+K+E;return oe>>>0}function $(K,z,E,j){var Z=z+j;return Z>>>0}function W(K,z,E,j,Z,oe,q,le){var ge=0,Re=z;Re=Re+j>>>0,ge+=Re<z?1:0,Re=Re+oe>>>0,ge+=Re<oe?1:0,Re=Re+le>>>0,ge+=Re<le?1:0;var ke=K+E+Z+q+ge;return ke>>>0}function R(K,z,E,j,Z,oe,q,le){var ge=z+j+oe+le;return ge>>>0}function L(K,z,E,j,Z,oe,q,le,ge,Re){var ke=0,De=z;De=De+j>>>0,ke+=De<z?1:0,De=De+oe>>>0,ke+=De<oe?1:0,De=De+le>>>0,ke+=De<le?1:0,De=De+Re>>>0,ke+=De<Re?1:0;var $e=K+E+Z+q+ge+ke;return $e>>>0}function Y(K,z,E,j,Z,oe,q,le,ge,Re){var ke=z+j+oe+le+Re;return ke>>>0}function ee(K,z,E){var j=z<<32-E|K>>>E;return j>>>0}function ae(K,z,E){var j=K<<32-E|z>>>E;return j>>>0}function fe(K,z,E){return K>>>E}function xe(K,z,E){var j=K<<32-E|z>>>E;return j>>>0}var se=m("minimalistic-assert"),B=m("inherits");A.inherits=B,A.toArray=w,A.toHex=v,A.htonl=h,A.toHex32=e,A.zero2=o,A.zero8=i,A.join32=c,A.split32=u,A.rotr32=s,A.rotl32=t,A.sum32=r,A.sum32_3=a,A.sum32_4=l,A.sum32_5=f,A.sum64=b,A.sum64_hi=C,A.sum64_lo=$,A.sum64_4_hi=W,A.sum64_4_lo=R,A.sum64_5_hi=L,A.sum64_5_lo=Y,A.rotr64_hi=ee,A.rotr64_lo=ae,A.shr64_hi=fe,A.shr64_lo=xe},{inherits:147,"minimalistic-assert":168}],143:[function(m,U,A){"use strict";function p(e){if(!(this instanceof p))return new p(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=v.toArray(e.entropy,e.entropyEnc||"hex"),i=v.toArray(e.nonce,e.nonceEnc||"hex"),c=v.toArray(e.pers,e.persEnc||"hex");h(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,i,c)}var w=m("hash.js"),v=m("minimalistic-crypto-utils"),h=m("minimalistic-assert");U.exports=p,p.prototype._init=function(o,i,c){var u=o.concat(i).concat(c);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},p.prototype._hmac=function(){return new w.hmac(this.hash,this.K)},p.prototype._update=function(o){var i=this._hmac().update(this.V).update([0]);o&&(i=i.update(o)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},p.prototype.reseed=function(o,i,c,u){typeof i!="string"&&(u=c,c=i,i=null),o=v.toArray(o,i),c=v.toArray(c,u),h(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(c||[])),this._reseed=1},p.prototype.generate=function(o,i,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(u=c,c=i,i=null),c&&(c=v.toArray(c,u||"hex"),this._update(c));for(var s=[];s.length<o;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var t=s.slice(0,o);return this._update(c),this._reseed++,v.encode(t,i)}},{"hash.js":131,"minimalistic-assert":168,"minimalistic-crypto-utils":169}],144:[function(m,U,A){function p(o){if(typeof o=="string"&&(o=v.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}var w=m("http"),v=m("url"),h=U.exports;for(var e in w)w.hasOwnProperty(e)&&(h[e]=w[e]);h.request=function(o,i){return o=p(o),w.request.call(this,o,i)},h.get=function(o,i){return o=p(o),w.get.call(this,o,i)}},{http:257,url:274}],145:[function(m,U,A){A.read=function(p,w,v,h,e){var o=8*e-h-1,i=(1<<o)-1,c=i>>1,u=-7,s=v?e-1:0,t=v?-1:1,r=p[w+s],a,l;for(s+=t,a=r&(1<<-u)-1,r>>=-u,u+=o;0<u;a=256*a+p[w+s],s+=t,u-=8);for(l=a&(1<<-u)-1,a>>=-u,u+=h;0<u;l=256*l+p[w+s],s+=t,u-=8);if(a===0)a=1-c;else{if(a===i)return l?NaN:(r?-1:1)*(1/0);l+=k(2,h),a-=c}return(r?-1:1)*l*k(2,a-h)},A.write=function(p,w,v,h,e,o){var i=8*o-e-1,c=(1<<i)-1,u=c>>1,s=e===23?k(2,-24)-k(2,-77):0,t=h?0:o-1,r=h?1:-1,a=0>w||w===0&&0>1/w?1:0,l,f,b;for(w=O(w),isNaN(w)||w===1/0?(f=isNaN(w)?1:0,l=c):(l=I(Q(w)/we),1>w*(b=k(2,-l))&&(l--,b*=2),w+=1<=l+u?s/b:s*k(2,1-u),2<=w*b&&(l++,b/=2),l+u>=c?(f=0,l=c):1<=l+u?(f=(w*b-1)*k(2,e),l+=u):(f=w*k(2,u-1)*k(2,e),l=0));8<=e;p[v+t]=255&f,t+=r,f/=256,e-=8);for(l=l<<e|f,i+=e;0<i;p[v+t]=255&l,t+=r,l/=256,i-=8);p[v+t-r]|=128*a}},{}],146:[function(m,U,A){let p=m("queue-microtask");class w{constructor(h){if(this.store=h,this.chunkLength=h.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(h,e,o=()=>{}){this.mem[h]=e,this.store.put(h,e,i=>{this.mem[h]=null,o(i)})}get(h,e,o=()=>{}){if(typeof e=="function")return this.get(h,null,e);let i=this.mem[h];if(!i)return this.store.get(h,e,o);e||(e={});let c=e.offset||0,u=e.length||i.length-c;(c!==0||u!==i.length)&&(i=i.slice(c,u+c)),p(()=>o(null,i))}close(h=()=>{}){this.store.close(h)}destroy(h=()=>{}){this.store.destroy(h)}}U.exports=w},{"queue-microtask":206}],147:[function(m,U,A){U.exports=typeof Object.create=="function"?function(w,v){v&&(w.super_=v,w.prototype=Object.create(v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,v){if(v){w.super_=v;var h=function(){};h.prototype=v.prototype,w.prototype=new h,w.prototype.constructor=w}}},{}],148:[function(m,U,A){var p=127;U.exports=function(v){for(var h=0,e=v.length;h<e;++h)if(v.charCodeAt(h)>127)return!1;return!0}},{}],149:[function(m,U,A){function p(v){return!!v.constructor&&typeof v.constructor.isBuffer=="function"&&v.constructor.isBuffer(v)}function w(v){return typeof v.readFloatLE=="function"&&typeof v.slice=="function"&&p(v.slice(0,0))}U.exports=function(v){return v!=null&&(p(v)||w(v)||!!v._isBuffer)}},{}],150:[function(m,U,A){U.exports=async function*(p){for(let w of p)typeof w=="function"&&(w=w()),yield*w}},{}],151:[function(m,U,A){"use strict";let p=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"];A.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},A.regex=new RegExp(p.join("|")),A.is=w=>A.regex.test(w),A.not=w=>!A.is(w),A.default=U.exports},{}],152:[function(m,U,A){A.RateLimiter=m("./lib/rateLimiter"),A.TokenBucket=m("./lib/tokenBucket")},{"./lib/rateLimiter":154,"./lib/tokenBucket":155}],153:[function(m,U,A){(function(p){(function(){var w=function(){if(typeof p!="undefined"&&p.hrtime){var v=p.hrtime(),h=v[0],e=v[1];return 1e3*h+I(e/1e6)}return new Date().getTime()};U.exports=w}).call(this)}).call(this,m("_process"))},{_process:193}],154:[function(m,U,A){(function(p){(function(){var w=m("./tokenBucket"),v=m("./clock"),h=function(e,o,i){this.tokenBucket=new w(e,e,o,null),this.tokenBucket.content=e,this.curIntervalStart=v(),this.tokensThisInterval=0,this.fireImmediately=i};h.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,o){function i(t,r){return t?o(t,null):(c.tokensThisInterval+=e,void o(null,r))}if(e>this.tokenBucket.bucketSize)return p.nextTick(o.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var c=this,u=v();if((u<this.curIntervalStart||u-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=u,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)p.nextTick(o.bind(null,null,-1));else{var s=N(this.curIntervalStart+this.tokenBucket.interval-u);setTimeout(function(){c.tokenBucket.removeTokens(e,i)},s)}return!1}return this.tokenBucket.removeTokens(e,i)},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var o=v();if((o<this.curIntervalStart||o-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=o,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var i=this.tokenBucket.tryRemoveTokens(e);return i&&(this.tokensThisInterval+=e),i},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},U.exports=h}).call(this)}).call(this,m("_process"))},{"./clock":153,"./tokenBucket":155,_process:193}],155:[function(m,U,A){(function(p){(function(){var w=function(v,h,e,o){if(this.bucketSize=v,this.tokensPerInterval=h,typeof e=="string")switch(e){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+e)}else this.interval=e;this.parentBucket=o,this.content=0,this.lastDrip=+new Date};w.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(v,h){function e(){var i=N((v-o.content)*(o.interval/o.tokensPerInterval));return setTimeout(function(){o.removeTokens(v,h)},i),!1}var o=this;return this.bucketSize?v>this.bucketSize?(p.nextTick(h.bind(null,"Requested tokens "+v+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),v>this.content?e():this.parentBucket?this.parentBucket.removeTokens(v,function(i,c){return i?h(i,null):v>o.content?e():(o.content-=v,void h(null,J(c,o.content)))}):(this.content-=v,p.nextTick(h.bind(null,null,this.content)),!0)):(p.nextTick(h.bind(null,null,v,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(v){return!this.bucketSize||!(v>this.bucketSize)&&(this.drip(),!(v>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(v))&&(this.content-=v,!0)},drip:function(){if(!this.tokensPerInterval)return void(this.content=this.bucketSize);var v=+new Date,h=F(v-this.lastDrip,0);this.lastDrip=v;var e=h*(this.tokensPerInterval/this.interval);this.content=J(this.content+e,this.bucketSize)}},U.exports=w}).call(this)}).call(this,m("_process"))},{_process:193}],156:[function(m,U,A){function p(h){return this instanceof p?(typeof h=="number"&&(h={max:h}),!h&&(h={}),w.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=h.max||1e3,void(this.maxAge=h.maxAge||0)):new p(h)}var w=m("events"),v=m("inherits");U.exports=p,v(p,w.EventEmitter),Object.defineProperty(p.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),p.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},p.prototype.remove=function(h){if(typeof h!="string"&&(h=""+h),!!this.cache.hasOwnProperty(h)){var e=this.cache[h];return delete this.cache[h],this._unlink(h,e.prev,e.next),e.value}},p.prototype._unlink=function(h,e,o){this.length--,this.length===0?this.head=this.tail=null:this.head===h?(this.head=e,this.cache[this.head].next=null):this.tail===h?(this.tail=o,this.cache[this.tail].prev=null):(this.cache[e].next=o,this.cache[o].prev=e)},p.prototype.peek=function(h){if(this.cache.hasOwnProperty(h)){var e=this.cache[h];return this._checkAge(h,e)?e.value:void 0}},p.prototype.set=function(h,e){typeof h!="string"&&(h=""+h);var o;if(this.cache.hasOwnProperty(h)){if(o=this.cache[h],o.value=e,this.maxAge&&(o.modified=Date.now()),h===this.head)return e;this._unlink(h,o.prev,o.next)}else o={value:e,modified:0,next:null,prev:null},this.maxAge&&(o.modified=Date.now()),this.cache[h]=o,this.length===this.max&&this.evict();return this.length++,o.next=null,o.prev=this.head,this.head&&(this.cache[this.head].next=h),this.head=h,this.tail||(this.tail=h),e},p.prototype._checkAge=function(h,e){return!(this.maxAge&&Date.now()-e.modified>this.maxAge)||(this.remove(h),this.emit("evict",{key:h,value:e.value}),!1)},p.prototype.get=function(h){if(typeof h!="string"&&(h=""+h),!!this.cache.hasOwnProperty(h)){var e=this.cache[h];if(this._checkAge(h,e))return this.head!==h&&(h===this.tail?(this.tail=e.next,this.cache[this.tail].prev=null):this.cache[e.prev].next=e.next,this.cache[e.next].prev=e.prev,this.cache[this.head].next=h,e.prev=this.head,e.next=null,this.head=h),e.value}},p.prototype.evict=function(){if(this.tail){var h=this.tail,e=this.remove(this.tail);this.emit("evict",{key:h,value:e})}}},{events:123,inherits:147}],157:[function(m,U,A){(function(p){(function(){let w=m("unordered-array-remove"),{EventEmitter:v}=m("events"),h=m("debug")("lt_donthave");U.exports=()=>{class e extends v{constructor(i){super(),this._peerSupports=!1,this._wire=i}onExtendedHandshake(){this._peerSupports=!0}onMessage(i){let c;try{c=i.readUInt32BE()}catch{return}this._wire.peerPieces.get(c)&&(h("got donthave %d",c),this._wire.peerPieces.set(c,!1),this.emit("donthave",c),this._failRequests(c))}donthave(i){if(this._peerSupports){h("donthave %d",i);let c=p.alloc(4);c.writeUInt32BE(i),this._wire.extended("lt_donthave",c)}}_failRequests(i){let c=this._wire.requests;for(let u=0;u<c.length;u++){let s=c[u];s.piece===i&&(w(c,u),u-=1,this._wire._callback(s,new Error("peer sent donthave"),null))}}}return e.prototype.name="lt_donthave",e}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,debug:91,events:123,"unordered-array-remove":273}],158:[function(m,U,A){(function(p){(function(){function w(o){let i={},c=o.split("magnet:?")[1];(c&&0<=c.length?c.split("&"):[]).forEach(t=>{let r=t.split("=");if(r.length!==2)return;let a=r[0],l=r[1];a==="dn"&&(l=decodeURIComponent(l).replace(/\+/g," ")),(a==="tr"||a==="xs"||a==="as"||a==="ws")&&(l=decodeURIComponent(l)),a==="kt"&&(l=decodeURIComponent(l).split("+")),a==="ix"&&(l=+l),a==="so"&&(l=e.parse(decodeURIComponent(l).split(","))),i[a]?(!Array.isArray(i[a])&&(i[a]=[i[a]]),i[a].push(l)):i[a]=l});let s;return i.xt&&(Array.isArray(i.xt)?i.xt:[i.xt]).forEach(r=>{if(s=r.match(/^urn:btih:(.{40})/))i.infoHash=s[1].toLowerCase();else if(s=r.match(/^urn:btih:(.{32})/)){let a=h.decode(s[1]);i.infoHash=p.from(a,"binary").toString("hex")}else(s=r.match(/^urn:btmh:1220(.{64})/))&&(i.infoHashV2=s[1].toLowerCase())}),i.xs&&(Array.isArray(i.xs)?i.xs:[i.xs]).forEach(r=>{(s=r.match(/^urn:btpk:(.{64})/))&&(i.publicKey=s[1].toLowerCase())}),i.infoHash&&(i.infoHashBuffer=p.from(i.infoHash,"hex")),i.infoHashV2&&(i.infoHashV2Buffer=p.from(i.infoHashV2,"hex")),i.publicKey&&(i.publicKeyBuffer=p.from(i.publicKey,"hex")),i.dn&&(i.name=i.dn),i.kt&&(i.keywords=i.kt),i.announce=[],(typeof i.tr=="string"||Array.isArray(i.tr))&&(i.announce=i.announce.concat(i.tr)),i.urlList=[],(typeof i.as=="string"||Array.isArray(i.as))&&(i.urlList=i.urlList.concat(i.as)),(typeof i.ws=="string"||Array.isArray(i.ws))&&(i.urlList=i.urlList.concat(i.ws)),i.peerAddresses=[],(typeof i["x.pe"]=="string"||Array.isArray(i["x.pe"]))&&(i.peerAddresses=i.peerAddresses.concat(i["x.pe"])),i.announce=Array.from(new Set(i.announce)),i.urlList=Array.from(new Set(i.urlList)),i.peerAddresses=Array.from(new Set(i.peerAddresses)),i}function v(o){o=Object.assign({},o);let i=new Set;o.xt&&typeof o.xt=="string"&&i.add(o.xt),o.xt&&Array.isArray(o.xt)&&(i=new Set(o.xt)),o.infoHashBuffer&&i.add(`urn:btih:${o.infoHashBuffer.toString("hex")}`),o.infoHash&&i.add(`urn:btih:${o.infoHash}`),o.infoHashV2Buffer&&i.add(o.xt=`urn:btmh:1220${o.infoHashV2Buffer.toString("hex")}`),o.infoHashV2&&i.add(`urn:btmh:1220${o.infoHashV2}`);let c=Array.from(i);c.length===1&&(o.xt=c[0]),1<c.length&&(o.xt=c),o.publicKeyBuffer&&(o.xs=`urn:btpk:${o.publicKeyBuffer.toString("hex")}`),o.publicKey&&(o.xs=`urn:btpk:${o.publicKey}`),o.name&&(o.dn=o.name),o.keywords&&(o.kt=o.keywords),o.announce&&(o.tr=o.announce),o.urlList&&(o.ws=o.urlList,delete o.as),o.peerAddresses&&(o["x.pe"]=o.peerAddresses);let u="magnet:?";return Object.keys(o).filter(s=>s.length===2||s==="x.pe").forEach((s,t)=>{let r=Array.isArray(o[s])?o[s]:[o[s]];r.forEach((a,l)=>{(0<t||0<l)&&(s!=="kt"&&s!=="so"||l===0)&&(u+="&"),s==="dn"&&(a=encodeURIComponent(a).replace(/%20/g,"+")),(s==="tr"||s==="as"||s==="ws")&&(a=encodeURIComponent(a)),s!=="xs"||a.startsWith("urn:btpk:")||(a=encodeURIComponent(a)),s==="kt"&&(a=encodeURIComponent(a)),s==="so"||(s==="kt"&&0<l?u+=`+${a}`:u+=`${s}=${a}`)}),s==="so"&&(u+=`${s}=${e.compose(r)}`)}),u}U.exports=w,U.exports.decode=w,U.exports.encode=v;let h=m("thirty-two"),e=m("bep53-range")}).call(this)}).call(this,m("buffer").Buffer)},{"bep53-range":29,buffer:76,"thirty-two":266}],159:[function(m,U,A){"use strict";function p(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function w(t,r){return t<<r|t>>>32-r}function v(t,r,a,l,f,b,C){return 0|w(0|t+(r&a|~r&l)+f+b,C)+r}function h(t,r,a,l,f,b,C){return 0|w(0|t+(r&l|a&~l)+f+b,C)+r}function e(t,r,a,l,f,b,C){return 0|w(0|t+(r^a^l)+f+b,C)+r}function o(t,r,a,l,f,b,C){return 0|w(0|t+(a^(r|~l))+f+b,C)+r}var i=m("inherits"),c=m("hash-base"),u=m("safe-buffer").Buffer,s=Array(16);i(p,c),p.prototype._update=function(){for(var t=s,r=0;16>r;++r)t[r]=this._block.readInt32LE(4*r);var a=this._a,l=this._b,f=this._c,b=this._d;a=v(a,l,f,b,t[0],3614090360,7),b=v(b,a,l,f,t[1],3905402710,12),f=v(f,b,a,l,t[2],606105819,17),l=v(l,f,b,a,t[3],3250441966,22),a=v(a,l,f,b,t[4],4118548399,7),b=v(b,a,l,f,t[5],1200080426,12),f=v(f,b,a,l,t[6],2821735955,17),l=v(l,f,b,a,t[7],4249261313,22),a=v(a,l,f,b,t[8],1770035416,7),b=v(b,a,l,f,t[9],2336552879,12),f=v(f,b,a,l,t[10],4294925233,17),l=v(l,f,b,a,t[11],2304563134,22),a=v(a,l,f,b,t[12],1804603682,7),b=v(b,a,l,f,t[13],4254626195,12),f=v(f,b,a,l,t[14],2792965006,17),l=v(l,f,b,a,t[15],1236535329,22),a=h(a,l,f,b,t[1],4129170786,5),b=h(b,a,l,f,t[6],3225465664,9),f=h(f,b,a,l,t[11],643717713,14),l=h(l,f,b,a,t[0],3921069994,20),a=h(a,l,f,b,t[5],3593408605,5),b=h(b,a,l,f,t[10],38016083,9),f=h(f,b,a,l,t[15],3634488961,14),l=h(l,f,b,a,t[4],3889429448,20),a=h(a,l,f,b,t[9],568446438,5),b=h(b,a,l,f,t[14],3275163606,9),f=h(f,b,a,l,t[3],4107603335,14),l=h(l,f,b,a,t[8],1163531501,20),a=h(a,l,f,b,t[13],2850285829,5),b=h(b,a,l,f,t[2],4243563512,9),f=h(f,b,a,l,t[7],1735328473,14),l=h(l,f,b,a,t[12],2368359562,20),a=e(a,l,f,b,t[5],4294588738,4),b=e(b,a,l,f,t[8],2272392833,11),f=e(f,b,a,l,t[11],1839030562,16),l=e(l,f,b,a,t[14],4259657740,23),a=e(a,l,f,b,t[1],2763975236,4),b=e(b,a,l,f,t[4],1272893353,11),f=e(f,b,a,l,t[7],4139469664,16),l=e(l,f,b,a,t[10],3200236656,23),a=e(a,l,f,b,t[13],681279174,4),b=e(b,a,l,f,t[0],3936430074,11),f=e(f,b,a,l,t[3],3572445317,16),l=e(l,f,b,a,t[6],76029189,23),a=e(a,l,f,b,t[9],3654602809,4),b=e(b,a,l,f,t[12],3873151461,11),f=e(f,b,a,l,t[15],530742520,16),l=e(l,f,b,a,t[2],3299628645,23),a=o(a,l,f,b,t[0],4096336452,6),b=o(b,a,l,f,t[7],1126891415,10),f=o(f,b,a,l,t[14],2878612391,15),l=o(l,f,b,a,t[5],4237533241,21),a=o(a,l,f,b,t[12],1700485571,6),b=o(b,a,l,f,t[3],2399980690,10),f=o(f,b,a,l,t[10],4293915773,15),l=o(l,f,b,a,t[1],2240044497,21),a=o(a,l,f,b,t[8],1873313359,6),b=o(b,a,l,f,t[15],4264355552,10),f=o(f,b,a,l,t[6],2734768916,15),l=o(l,f,b,a,t[13],1309151649,21),a=o(a,l,f,b,t[4],4149444226,6),b=o(b,a,l,f,t[11],3174756917,10),f=o(f,b,a,l,t[2],718787259,15),l=o(l,f,b,a,t[9],3951481745,21),this._a=0|this._a+a,this._b=0|this._b+l,this._c=0|this._c+f,this._d=0|this._d+b},p.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=u.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},U.exports=p},{"hash-base":130,inherits:147,"safe-buffer":235}],160:[function(m,U,A){function p(s,t){var r=this;if(!(r instanceof p))return new p(s,t);if(!i)throw new Error("web browser lacks MediaSource support");t||(t={}),r._debug=t.debug,r._bufferDuration=t.bufferDuration||60,r._elem=s,r._mediaSource=new i,r._streams=[],r.detailedError=null,r._errorHandler=function(){r._elem.removeEventListener("error",r._errorHandler);var a=r._streams.slice();a.forEach(function(l){l.destroy(r._elem.error)})},r._elem.addEventListener("error",r._errorHandler),r._elem.src=window.URL.createObjectURL(r._mediaSource)}function w(s,t){var r=this;if(e.Writable.call(r),r._wrapper=s,r._elem=s._elem,r._mediaSource=s._mediaSource,r._allStreams=s._streams,r._allStreams.push(r),r._bufferDuration=s._bufferDuration,r._sourceBuffer=null,r._debugBuffers=[],r._openHandler=function(){r._onSourceOpen()},r._flowHandler=function(){r._flow()},r._errorHandler=function(a){r.destroyed||r.emit("error",a)},typeof t=="string")r._type=t,r._mediaSource.readyState==="open"?r._createSourceBuffer():r._mediaSource.addEventListener("sourceopen",r._openHandler);else if(t._sourceBuffer===null)t.destroy(),r._type=t._type,r._mediaSource.addEventListener("sourceopen",r._openHandler);else if(t._sourceBuffer)t.destroy(),r._type=t._type,r._sourceBuffer=t._sourceBuffer,r._debugBuffers=t._debugBuffers,r._sourceBuffer.addEventListener("updateend",r._flowHandler),r._sourceBuffer.addEventListener("error",r._errorHandler);else throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");r._elem.addEventListener("timeupdate",r._flowHandler),r.on("error",function(a){r._wrapper.error(a)}),r.on("finish",function(){if(!r.destroyed&&(r._finished=!0,r._allStreams.every(function(a){return a._finished}))){r._wrapper._dumpDebugData();try{r._mediaSource.endOfStream()}catch{}}})}function v(s,t){var r=document.createElement("a");r.href=window.URL.createObjectURL(new window.Blob(s)),r.download=t,r.click()}U.exports=p;var h=m("inherits"),e=m("readable-stream"),o=m("to-arraybuffer"),i=typeof window!="undefined"&&window.MediaSource,c=60;p.prototype.createWriteStream=function(s){var t=this;return new w(t,s)},p.prototype.error=function(s){var t=this;t.detailedError||(t.detailedError=s),t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(t._elem.src)}catch{}},p.prototype._dumpDebugData=function(){var s=this;s._debug&&(s._debug=!1,s._streams.forEach(function(t,r){v(t._debugBuffers,"mediasource-stream-"+r)}))},h(w,e.Writable),w.prototype._onSourceOpen=function(){var s=this;s.destroyed||(s._mediaSource.removeEventListener("sourceopen",s._openHandler),s._createSourceBuffer())},w.prototype.destroy=function(s){var t=this;t.destroyed||(t.destroyed=!0,t._allStreams.splice(t._allStreams.indexOf(t),1),t._mediaSource.removeEventListener("sourceopen",t._openHandler),t._elem.removeEventListener("timeupdate",t._flowHandler),t._sourceBuffer&&(t._sourceBuffer.removeEventListener("updateend",t._flowHandler),t._sourceBuffer.removeEventListener("error",t._errorHandler),t._mediaSource.readyState==="open"&&t._sourceBuffer.abort()),s&&t.emit("error",s),t.emit("close"))},w.prototype._createSourceBuffer=function(){var s=this;if(!s.destroyed){if(!i.isTypeSupported(s._type))s.destroy(new Error("The provided type is not supported"));else if(s._sourceBuffer=s._mediaSource.addSourceBuffer(s._type),s._sourceBuffer.addEventListener("updateend",s._flowHandler),s._sourceBuffer.addEventListener("error",s._errorHandler),s._cb){var t=s._cb;s._cb=null,t()}}},w.prototype._write=function(s,t,r){var a=this;if(!a.destroyed){if(!a._sourceBuffer)return void(a._cb=function(f){return f?r(f):void a._write(s,t,r)});if(a._sourceBuffer.updating)return r(new Error("Cannot append buffer while source buffer updating"));var l=o(s);a._wrapper._debug&&a._debugBuffers.push(l);try{a._sourceBuffer.appendBuffer(l)}catch(f){return void a.destroy(f)}a._cb=r}},w.prototype._flow=function(){var s=this;if(!(s.destroyed||!s._sourceBuffer||s._sourceBuffer.updating)&&!(s._mediaSource.readyState==="open"&&s._getBufferDuration()>s._bufferDuration)&&s._cb){var t=s._cb;s._cb=null,t()}};var u=0;w.prototype._getBufferDuration=function(){for(var s=this,t=s._sourceBuffer.buffered,r=s._elem.currentTime,a=-1,l=0;l<t.length;l++){var f=t.start(l),b=t.end(l)+0;if(f>r)break;(0<=a||r<=b)&&(a=b)}var C=a-r;return 0>C&&(C=0),C}},{inherits:147,"readable-stream":228,"to-arraybuffer":269}],161:[function(m,U,A){function p(v,h){if(!(this instanceof p))return new p(v,h);if(h||(h={}),this.chunkLength=+v,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+h.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=N(this.length/this.chunkLength)-1)}U.exports=p;let w=m("queue-microtask");p.prototype.put=function(v,h,e=()=>{}){if(this.closed)return w(()=>e(new Error("Storage is closed")));let o=v===this.lastChunkIndex;return o&&h.length!==this.lastChunkLength?w(()=>e(new Error("Last chunk length must be "+this.lastChunkLength))):o||h.length===this.chunkLength?(this.chunks[v]=h,void w(()=>e(null))):w(()=>e(new Error("Chunk length must be "+this.chunkLength)))},p.prototype.get=function(v,h,e=()=>{}){if(typeof h=="function")return this.get(v,null,h);if(this.closed)return w(()=>e(new Error("Storage is closed")));let o=this.chunks[v];if(!o){let u=new Error("Chunk not found");return u.notFound=!0,w(()=>e(u))}h||(h={});let i=h.offset||0,c=h.length||o.length-i;(i!==0||c!==o.length)&&(o=o.slice(i,c+i)),w(()=>e(null,o))},p.prototype.close=p.prototype.destroy=function(v=()=>{}){return this.closed?w(()=>v(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void w(()=>v(null)))}},{"queue-microtask":206}],162:[function(m,U,A){function p(h){this.rand=h||new v.Rand}var w=m("bn.js"),v=m("brorand");U.exports=p,p.create=function(e){return new p(e)},p.prototype._randbelow=function(e){var o=e.bitLength(),i=N(o/8);do var c=new w(this.rand.generate(i));while(0<=c.cmp(e));return c},p.prototype._randrange=function(e,o){var i=o.sub(e);return e.add(this._randbelow(i))},p.prototype.test=function(e,o,i){var c=e.bitLength(),u=w.mont(e),s=new w(1).toRed(u);o||(o=F(1,0|c/48));for(var t=e.subn(1),r=0;!t.testn(r);r++);for(var a=e.shrn(r),l=t.toRed(u),f=!0;0<o;o--){var b=this._randrange(new w(2),t);i&&i(b);var C=b.toRed(u).redPow(a);if(C.cmp(s)!==0&&C.cmp(l)!==0){for(var $=1;$<r;$++){if(C=C.redSqr(),C.cmp(s)===0)return!1;if(C.cmp(l)===0)break}if($===r)return!1}}return f},p.prototype.getDivisor=function(e,o){var i=e.bitLength(),c=w.mont(e),u=new w(1).toRed(c);o||(o=F(1,0|i/48));for(var s=e.subn(1),t=0;!s.testn(t);t++);for(var r=e.shrn(t),a=s.toRed(c);0<o;o--){var l=this._randrange(new w(2),s),f=e.gcd(l);if(f.cmpn(1)!==0)return f;var b=l.toRed(c).redPow(r);if(b.cmp(u)!==0&&b.cmp(a)!==0){for(var C=1;C<t;C++){if(b=b.redSqr(),b.cmp(u)===0)return b.fromRed().subn(1).gcd(e);if(b.cmp(a)===0)break}if(C===t)return b=b.redSqr(),b.fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":163,brorand:41}],163:[function(m,U,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],164:[function(m,U,A){"use strict";function p(){this._types=Object.create(null),this._extensions=Object.create(null);for(let w=0;w<arguments.length;w++)this.define(arguments[w]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}p.prototype.define=function(w,v){for(let h in w){let e=w[h].map(function(o){return o.toLowerCase()});h=h.toLowerCase();for(let o=0;o<e.length;o++){let i=e[o];if(i[0]!=="*"){if(!v&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+h+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+h+'".');this._types[i]=h}}if(v||!this._extensions[h]){let o=e[0];this._extensions[h]=o[0]==="*"?o.substr(1):o}}},p.prototype.getType=function(w){w=w+"";let v=w.replace(/^.*[/\\]/,"").toLowerCase(),h=v.replace(/^.*\./,"").toLowerCase(),e=v.length<w.length;return(h.length<v.length-1||!e)&&this._types[h]||null},p.prototype.getExtension=function(w){return w=/^\s*([^;\s]*)/.test(w)&&RegExp.$1,w&&this._extensions[w.toLowerCase()]||null},U.exports=p},{}],165:[function(m,U,A){"use strict";let p=m("./Mime");U.exports=new p(m("./types/standard"),m("./types/other"))},{"./Mime":164,"./types/other":166,"./types/standard":167}],166:[function(m,U,A){U.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],167:[function(m,U,A){U.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],168:[function(m,U,A){function p(w,v){if(!w)throw new Error(v||"Assertion failed")}U.exports=p,p.equal=function(v,h,e){if(v!=h)throw new Error(e||"Assertion failed: "+v+" != "+h)}},{}],169:[function(m,U,A){"use strict";function p(e,o){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e!="string"){for(var c=0;c<e.length;c++)i[c]=0|e[c];return i}if(o==="hex"){e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!=0&&(e="0"+e);for(var c=0;c<e.length;c+=2)i.push(parseInt(e[c]+e[c+1],16))}else for(var c=0;c<e.length;c++){var u=e.charCodeAt(c),s=u>>8,t=255&u;s?i.push(s,t):i.push(t)}return i}function w(e){return e.length===1?"0"+e:e}function v(e){for(var o="",i=0;i<e.length;i++)o+=w(e[i].toString(16));return o}var h=A;h.toArray=p,h.zero2=w,h.toHex=v,h.encode=function(o,i){return i==="hex"?v(o):o}},{}],170:[function(m,U,A){(function(p){(function(){function w(R,L,Y){for(var ee=L;ee<Y;ee++)R[ee]=0}function v(R,L,Y){L.writeUInt32BE(I((R.getTime()+20828448e5)/1e3),Y)}function h(R,L,Y){L.writeUIntBE(I((R.getTime()+20828448e5)/1e3),Y,6)}function e(R,L,Y){L.writeUInt16BE(I(R)%65536,Y),L.writeUInt16BE(I(256*(256*R))%65536,Y+2)}function o(R,L,Y){L[Y]=I(R)%256,L[Y+1]=I(256*R)%256}function i(R,L,Y){R||(R=[0,0,0,0,0,0,0,0,0]);for(var ee=0;ee<R.length;ee++)e(R[ee],L,Y+4*ee)}function c(R,L,Y){var ee=p.from(R,"utf8");ee.copy(L,Y),L[Y+ee.length]=0}function u(R){for(var L=Array(R.length/4),Y=0;Y<L.length;Y++)L[Y]=r(R,4*Y);return L}function s(R,L){return new Date(1e3*R.readUIntBE(L,6)-20828448e5)}function t(R,L){return new Date(1e3*R.readUInt32BE(L)-20828448e5)}function r(R,L){return R.readUInt16BE(L)+R.readUInt16BE(L+2)/65536}function a(R,L){return R[L]+R[L+1]/256}function l(R,L,Y){var ee;for(ee=0;ee<Y&&R[L+ee]!==0;ee++);return R.toString("utf8",L,L+ee)}var f=m("./index"),b=m("./descriptor"),C=m("uint64be"),$=20828448e5;A.fullBoxes={};var W=["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"];W.forEach(function(R){A.fullBoxes[R]=!0}),A.ftyp={},A.ftyp.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(A.ftyp.encodingLength(R));var ee=R.compatibleBrands||[];L.write(R.brand,0,4,"ascii"),L.writeUInt32BE(R.brandVersion,4);for(var ae=0;ae<ee.length;ae++)L.write(ee[ae],8+4*ae,4,"ascii");return A.ftyp.encode.bytes=8+4*ee.length,L},A.ftyp.decode=function(R,L){R=R.slice(L);for(var Y=R.toString("ascii",0,4),ee=R.readUInt32BE(4),ae=[],fe=8;fe<R.length;fe+=4)ae.push(R.toString("ascii",fe,fe+4));return{brand:Y,brandVersion:ee,compatibleBrands:ae}},A.ftyp.encodingLength=function(R){return 8+4*(R.compatibleBrands||[]).length},A.mvhd={},A.mvhd.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(96),v(R.ctime||new Date,L,0),v(R.mtime||new Date,L,4),L.writeUInt32BE(R.timeScale||0,8),L.writeUInt32BE(R.duration||0,12),e(R.preferredRate||0,L,16),o(R.preferredVolume||0,L,20),w(L,22,32),i(R.matrix,L,32),L.writeUInt32BE(R.previewTime||0,68),L.writeUInt32BE(R.previewDuration||0,72),L.writeUInt32BE(R.posterTime||0,76),L.writeUInt32BE(R.selectionTime||0,80),L.writeUInt32BE(R.selectionDuration||0,84),L.writeUInt32BE(R.currentTime||0,88),L.writeUInt32BE(R.nextTrackId||0,92),A.mvhd.encode.bytes=96,L},A.mvhd.decode=function(R,L){return R=R.slice(L),{ctime:t(R,0),mtime:t(R,4),timeScale:R.readUInt32BE(8),duration:R.readUInt32BE(12),preferredRate:r(R,16),preferredVolume:a(R,20),matrix:u(R.slice(32,68)),previewTime:R.readUInt32BE(68),previewDuration:R.readUInt32BE(72),posterTime:R.readUInt32BE(76),selectionTime:R.readUInt32BE(80),selectionDuration:R.readUInt32BE(84),currentTime:R.readUInt32BE(88),nextTrackId:R.readUInt32BE(92)}},A.mvhd.encodingLength=function(R){return 96},A.tkhd={},A.tkhd.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(80),v(R.ctime||new Date,L,0),v(R.mtime||new Date,L,4),L.writeUInt32BE(R.trackId||0,8),w(L,12,16),L.writeUInt32BE(R.duration||0,16),w(L,20,28),L.writeUInt16BE(R.layer||0,28),L.writeUInt16BE(R.alternateGroup||0,30),L.writeUInt16BE(R.volume||0,32),i(R.matrix,L,36),L.writeUInt32BE(R.trackWidth||0,72),L.writeUInt32BE(R.trackHeight||0,76),A.tkhd.encode.bytes=80,L},A.tkhd.decode=function(R,L){return R=R.slice(L),{ctime:t(R,0),mtime:t(R,4),trackId:R.readUInt32BE(8),duration:R.readUInt32BE(16),layer:R.readUInt16BE(28),alternateGroup:R.readUInt16BE(30),volume:R.readUInt16BE(32),matrix:u(R.slice(36,72)),trackWidth:R.readUInt32BE(72),trackHeight:R.readUInt32BE(76)}},A.tkhd.encodingLength=function(R){return 80},A.mdhd={},A.mdhd.encode=function(R,L,Y){return R.version===1?(L=L?L.slice(Y):p.alloc(32),h(R.ctime||new Date,L,0),h(R.mtime||new Date,L,8),L.writeUInt32BE(R.timeScale||0,16),L.writeUIntBE(R.duration||0,20,6),L.writeUInt16BE(R.language||0,28),L.writeUInt16BE(R.quality||0,30),A.mdhd.encode.bytes=32,L):(L=L?L.slice(Y):p.alloc(20),v(R.ctime||new Date,L,0),v(R.mtime||new Date,L,4),L.writeUInt32BE(R.timeScale||0,8),L.writeUInt32BE(R.duration||0,12),L.writeUInt16BE(R.language||0,16),L.writeUInt16BE(R.quality||0,18),A.mdhd.encode.bytes=20,L)},A.mdhd.decode=function(R,L,Y){R=R.slice(L);var ee=Y-L!=20;return ee?{ctime:s(R,0),mtime:s(R,8),timeScale:R.readUInt32BE(16),duration:R.readUIntBE(20,6),language:R.readUInt16BE(28),quality:R.readUInt16BE(30)}:{ctime:t(R,0),mtime:t(R,4),timeScale:R.readUInt32BE(8),duration:R.readUInt32BE(12),language:R.readUInt16BE(16),quality:R.readUInt16BE(18)}},A.mdhd.encodingLength=function(R){return R.version===1?32:20},A.vmhd={},A.vmhd.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(8),L.writeUInt16BE(R.graphicsMode||0,0);var ee=R.opcolor||[0,0,0];return L.writeUInt16BE(ee[0],2),L.writeUInt16BE(ee[1],4),L.writeUInt16BE(ee[2],6),A.vmhd.encode.bytes=8,L},A.vmhd.decode=function(R,L){return R=R.slice(L),{graphicsMode:R.readUInt16BE(0),opcolor:[R.readUInt16BE(2),R.readUInt16BE(4),R.readUInt16BE(6)]}},A.vmhd.encodingLength=function(R){return 8},A.smhd={},A.smhd.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(4),L.writeUInt16BE(R.balance||0,0),w(L,2,4),A.smhd.encode.bytes=4,L},A.smhd.decode=function(R,L){return R=R.slice(L),{balance:R.readUInt16BE(0)}},A.smhd.encodingLength=function(R){return 4},A.stsd={},A.stsd.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(A.stsd.encodingLength(R));var ee=R.entries||[];L.writeUInt32BE(ee.length,0);for(var ae=4,fe=0,xe;fe<ee.length;fe++)xe=ee[fe],f.encode(xe,L,ae),ae+=f.encode.bytes;return A.stsd.encode.bytes=ae,L},A.stsd.decode=function(R,L,Y){R=R.slice(L);for(var ee=R.readUInt32BE(0),ae=Array(ee),fe=4,xe=0,se;xe<ee;xe++)se=f.decode(R,fe,Y),ae[xe]=se,fe+=se.length;return{entries:ae}},A.stsd.encodingLength=function(R){var L=4;if(!R.entries)return L;for(var Y=0;Y<R.entries.length;Y++)L+=f.encodingLength(R.entries[Y]);return L},A.avc1=A.VisualSampleEntry={},A.VisualSampleEntry.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(A.VisualSampleEntry.encodingLength(R)),w(L,0,6),L.writeUInt16BE(R.dataReferenceIndex||0,6),w(L,8,24),L.writeUInt16BE(R.width||0,24),L.writeUInt16BE(R.height||0,26),L.writeUInt32BE(R.hResolution||4718592,28),L.writeUInt32BE(R.vResolution||4718592,32),w(L,36,40),L.writeUInt16BE(R.frameCount||1,40);var ee=R.compressorName||"",ae=J(ee.length,31);L.writeUInt8(ae,42),L.write(ee,43,ae,"utf8"),L.writeUInt16BE(R.depth||24,74),L.writeInt16BE(-1,76);var fe=78,xe=R.children||[];xe.forEach(function(se){f.encode(se,L,fe),fe+=f.encode.bytes}),A.VisualSampleEntry.encode.bytes=fe},A.VisualSampleEntry.decode=function(R,L,Y){R=R.slice(L);for(var ee=Y-L,ae=J(R.readUInt8(42),31),fe={dataReferenceIndex:R.readUInt16BE(6),width:R.readUInt16BE(24),height:R.readUInt16BE(26),hResolution:R.readUInt32BE(28),vResolution:R.readUInt32BE(32),frameCount:R.readUInt16BE(40),compressorName:R.toString("utf8",43,43+ae),depth:R.readUInt16BE(74),children:[]},xe=78;8<=ee-xe;){var se=f.decode(R,xe,ee);fe.children.push(se),fe[se.type]=se,xe+=se.length}return fe},A.VisualSampleEntry.encodingLength=function(R){var L=78,Y=R.children||[];return Y.forEach(function(ee){L+=f.encodingLength(ee)}),L},A.avcC={},A.avcC.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(R.buffer.length),R.buffer.copy(L),A.avcC.encode.bytes=R.buffer.length},A.avcC.decode=function(R,L,Y){return R=R.slice(L,Y),{mimeCodec:R.toString("hex",1,4),buffer:p.from(R)}},A.avcC.encodingLength=function(R){return R.buffer.length},A.mp4a=A.AudioSampleEntry={},A.AudioSampleEntry.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(A.AudioSampleEntry.encodingLength(R)),w(L,0,6),L.writeUInt16BE(R.dataReferenceIndex||0,6),w(L,8,16),L.writeUInt16BE(R.channelCount||2,16),L.writeUInt16BE(R.sampleSize||16,18),w(L,20,24),L.writeUInt32BE(R.sampleRate||0,24);var ee=28,ae=R.children||[];ae.forEach(function(fe){f.encode(fe,L,ee),ee+=f.encode.bytes}),A.AudioSampleEntry.encode.bytes=ee},A.AudioSampleEntry.decode=function(R,L,Y){R=R.slice(L,Y);for(var ee=Y-L,ae={dataReferenceIndex:R.readUInt16BE(6),channelCount:R.readUInt16BE(16),sampleSize:R.readUInt16BE(18),sampleRate:R.readUInt32BE(24),children:[]},fe=28;8<=ee-fe;){var xe=f.decode(R,fe,ee);ae.children.push(xe),ae[xe.type]=xe,fe+=xe.length}return ae},A.AudioSampleEntry.encodingLength=function(R){var L=28,Y=R.children||[];return Y.forEach(function(ee){L+=f.encodingLength(ee)}),L},A.esds={},A.esds.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(R.buffer.length),R.buffer.copy(L,0),A.esds.encode.bytes=R.buffer.length},A.esds.decode=function(R,L,Y){R=R.slice(L,Y);var ee=b.Descriptor.decode(R,0,R.length),ae=ee.tagName==="ESDescriptor"?ee:{},fe=ae.DecoderConfigDescriptor||{},xe=fe.oti||0,se=fe.DecoderSpecificInfo,B=se?(248&se.buffer.readUInt8(0))>>3:0,K=null;return xe&&(K=xe.toString(16),B&&(K+="."+B)),{mimeCodec:K,buffer:p.from(R.slice(0))}},A.esds.encodingLength=function(R){return R.buffer.length},A.stsz={},A.stsz.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.stsz.encodingLength(R)),L.writeUInt32BE(0,0),L.writeUInt32BE(ee.length,4);for(var ae=0;ae<ee.length;ae++)L.writeUInt32BE(ee[ae],4*ae+8);return A.stsz.encode.bytes=8+4*ee.length,L},A.stsz.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=R.readUInt32BE(4),ae=Array(ee),fe=0;fe<ee;fe++)ae[fe]=Y===0?R.readUInt32BE(4*fe+8):Y;return{entries:ae}},A.stsz.encodingLength=function(R){return 8+4*R.entries.length},A.stss=A.stco={},A.stco.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.stco.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0;ae<ee.length;ae++)L.writeUInt32BE(ee[ae],4*ae+4);return A.stco.encode.bytes=4+4*ee.length,L},A.stco.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=0;ae<Y;ae++)ee[ae]=R.readUInt32BE(4*ae+4);return{entries:ee}},A.stco.encodingLength=function(R){return 4+4*R.entries.length},A.co64={},A.co64.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.co64.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0;ae<ee.length;ae++)C.encode(ee[ae],L,8*ae+4);return A.co64.encode.bytes=4+8*ee.length,L},A.co64.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=0;ae<Y;ae++)ee[ae]=C.decode(R,8*ae+4);return{entries:ee}},A.co64.encodingLength=function(R){return 4+8*R.entries.length},A.stts={},A.stts.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.stts.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=8*ae+4,L.writeUInt32BE(ee[ae].count||0,fe),L.writeUInt32BE(ee[ae].duration||0,fe+4);return A.stts.encode.bytes=4+8*R.entries.length,L},A.stts.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=0,fe;ae<Y;ae++)fe=8*ae+4,ee[ae]={count:R.readUInt32BE(fe),duration:R.readUInt32BE(fe+4)};return{entries:ee}},A.stts.encodingLength=function(R){return 4+8*R.entries.length},A.ctts={},A.ctts.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.ctts.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=8*ae+4,L.writeUInt32BE(ee[ae].count||0,fe),L.writeUInt32BE(ee[ae].compositionOffset||0,fe+4);return A.ctts.encode.bytes=4+8*ee.length,L},A.ctts.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=0,fe;ae<Y;ae++)fe=8*ae+4,ee[ae]={count:R.readUInt32BE(fe),compositionOffset:R.readInt32BE(fe+4)};return{entries:ee}},A.ctts.encodingLength=function(R){return 4+8*R.entries.length},A.stsc={},A.stsc.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.stsc.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=12*ae+4,L.writeUInt32BE(ee[ae].firstChunk||0,fe),L.writeUInt32BE(ee[ae].samplesPerChunk||0,fe+4),L.writeUInt32BE(ee[ae].sampleDescriptionId||0,fe+8);return A.stsc.encode.bytes=4+12*ee.length,L},A.stsc.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=0,fe;ae<Y;ae++)fe=12*ae+4,ee[ae]={firstChunk:R.readUInt32BE(fe),samplesPerChunk:R.readUInt32BE(fe+4),sampleDescriptionId:R.readUInt32BE(fe+8)};return{entries:ee}},A.stsc.encodingLength=function(R){return 4+12*R.entries.length},A.dref={},A.dref.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(A.dref.encodingLength(R));var ee=R.entries||[];L.writeUInt32BE(ee.length,0);for(var ae=4,fe=0;fe<ee.length;fe++){var xe=ee[fe],se=(xe.buf?xe.buf.length:0)+4+4;L.writeUInt32BE(se,ae),ae+=4,L.write(xe.type,ae,4,"ascii"),ae+=4,xe.buf&&(xe.buf.copy(L,ae),ae+=xe.buf.length)}return A.dref.encode.bytes=ae,L},A.dref.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=4,fe=0;fe<Y;fe++){var xe=R.readUInt32BE(ae),se=R.toString("ascii",ae+4,ae+8),B=R.slice(ae+8,ae+xe);ae+=xe,ee[fe]={type:se,buf:B}}return{entries:ee}},A.dref.encodingLength=function(R){var L=4;if(!R.entries)return L;for(var Y=0,ee;Y<R.entries.length;Y++)ee=R.entries[Y].buf,L+=(ee?ee.length:0)+4+4;return L},A.elst={},A.elst.encode=function(R,L,Y){var ee=R.entries||[];L=L?L.slice(Y):p.alloc(A.elst.encodingLength(R)),L.writeUInt32BE(ee.length,0);for(var ae=0,fe;ae<ee.length;ae++)fe=12*ae+4,L.writeUInt32BE(ee[ae].trackDuration||0,fe),L.writeUInt32BE(ee[ae].mediaTime||0,fe+4),e(ee[ae].mediaRate||0,L,fe+8);return A.elst.encode.bytes=4+12*ee.length,L},A.elst.decode=function(R,L){R=R.slice(L);for(var Y=R.readUInt32BE(0),ee=Array(Y),ae=0,fe;ae<Y;ae++)fe=12*ae+4,ee[ae]={trackDuration:R.readUInt32BE(fe),mediaTime:R.readInt32BE(fe+4),mediaRate:r(R,fe+8)};return{entries:ee}},A.elst.encodingLength=function(R){return 4+12*R.entries.length},A.hdlr={},A.hdlr.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(A.hdlr.encodingLength(R));var ee=21+(R.name||"").length;return L.fill(0,0,ee),L.write(R.handlerType||"",4,4,"ascii"),c(R.name||"",L,20),A.hdlr.encode.bytes=ee,L},A.hdlr.decode=function(R,L,Y){return R=R.slice(L),{handlerType:R.toString("ascii",4,8),name:l(R,20,Y)}},A.hdlr.encodingLength=function(R){return 21+(R.name||"").length},A.mehd={},A.mehd.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(4),L.writeUInt32BE(R.fragmentDuration||0,0),A.mehd.encode.bytes=4,L},A.mehd.decode=function(R,L){return R=R.slice(L),{fragmentDuration:R.readUInt32BE(0)}},A.mehd.encodingLength=function(R){return 4},A.trex={},A.trex.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(20),L.writeUInt32BE(R.trackId||0,0),L.writeUInt32BE(R.defaultSampleDescriptionIndex||0,4),L.writeUInt32BE(R.defaultSampleDuration||0,8),L.writeUInt32BE(R.defaultSampleSize||0,12),L.writeUInt32BE(R.defaultSampleFlags||0,16),A.trex.encode.bytes=20,L},A.trex.decode=function(R,L){return R=R.slice(L),{trackId:R.readUInt32BE(0),defaultSampleDescriptionIndex:R.readUInt32BE(4),defaultSampleDuration:R.readUInt32BE(8),defaultSampleSize:R.readUInt32BE(12),defaultSampleFlags:R.readUInt32BE(16)}},A.trex.encodingLength=function(R){return 20},A.mfhd={},A.mfhd.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(4),L.writeUInt32BE(R.sequenceNumber||0,0),A.mfhd.encode.bytes=4,L},A.mfhd.decode=function(R,L){return{sequenceNumber:R.readUInt32BE(0)}},A.mfhd.encodingLength=function(R){return 4},A.tfhd={},A.tfhd.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(4),L.writeUInt32BE(R.trackId,0),A.tfhd.encode.bytes=4,L},A.tfhd.decode=function(R,L){},A.tfhd.encodingLength=function(R){return 4},A.tfdt={},A.tfdt.encode=function(R,L,Y){return L=L?L.slice(Y):p.alloc(4),L.writeUInt32BE(R.baseMediaDecodeTime||0,0),A.tfdt.encode.bytes=4,L},A.tfdt.decode=function(R,L){},A.tfdt.encodingLength=function(R){return 4},A.trun={},A.trun.encode=function(R,L,Y){L=L?L.slice(Y):p.alloc(8+16*R.entries.length),L.writeUInt32BE(R.entries.length,0),L.writeInt32BE(R.dataOffset,4);for(var ee=8,ae=0,fe;ae<R.entries.length;ae++)fe=R.entries[ae],L.writeUInt32BE(fe.sampleDuration,ee),ee+=4,L.writeUInt32BE(fe.sampleSize,ee),ee+=4,L.writeUInt32BE(fe.sampleFlags,ee),ee+=4,(R.version||0)===0?L.writeUInt32BE(fe.sampleCompositionTimeOffset,ee):L.writeInt32BE(fe.sampleCompositionTimeOffset,ee),ee+=4;A.trun.encode.bytes=ee},A.trun.decode=function(R,L){},A.trun.encodingLength=function(R){return 8+16*R.entries.length},A.mdat={},A.mdat.encode=function(R,L,Y){R.buffer?(R.buffer.copy(L,Y),A.mdat.encode.bytes=R.buffer.length):A.mdat.encode.bytes=A.mdat.encodingLength(R)},A.mdat.decode=function(R,L,Y){return{buffer:p.from(R.slice(L,Y))}},A.mdat.encodingLength=function(R){return R.buffer?R.buffer.length:R.contentLength}}).call(this)}).call(this,m("buffer").Buffer)},{"./descriptor":171,"./index":172,buffer:76,uint64be:272}],171:[function(m,U,A){(function(p){(function(){var w={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};A.Descriptor={},A.Descriptor.decode=function(v,h,e){var o=v.readUInt8(h),i=h+1,c=0,u;do u=v.readUInt8(i++),c=c<<7|127&u;while(128&u);var s=w[o],t;return t=A[s]?A[s].decode(v,i,e):{buffer:p.from(v.slice(i,i+c))},t.tag=o,t.tagName=s,t.length=i-h+c,t.contentsLen=c,t},A.DescriptorArray={},A.DescriptorArray.decode=function(v,h,e){for(var o=h,i={};o+2<=e;){var c=A.Descriptor.decode(v,o,e);o+=c.length;var u=w[c.tag]||"Descriptor"+c.tag;i[u]=c}return i},A.ESDescriptor={},A.ESDescriptor.decode=function(v,h,e){var o=v.readUInt8(h+2),i=h+3;if(128&o&&(i+=2),64&o){var c=v.readUInt8(i);i+=c+1}return 32&o&&(i+=2),A.DescriptorArray.decode(v,i,e)},A.DecoderConfigDescriptor={},A.DecoderConfigDescriptor.decode=function(v,h,e){var o=v.readUInt8(h),i=A.DescriptorArray.decode(v,h+13,e);return i.oti=o,i}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],172:[function(m,U,A){(function(p){(function(){var w=m("uint64be"),v=m("./boxes"),h=4294967295,e=A,o=A.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};e.encode=function(i,c,u){return e.encodingLength(i),u=u||0,c=c||p.alloc(i.length),e._encode(i,c,u)},e._encode=function(i,c,u){var s=i.type,t=i.length;t>h&&(t=1),c.writeUInt32BE(t,u),c.write(i.type,u+4,4,"ascii");var r=u+8;if(t===1&&(w.encode(i.length,c,r),r+=8),v.fullBoxes[s]&&(c.writeUInt32BE(i.flags||0,r),c.writeUInt8(i.version||0,r),r+=4),o[s]){var a=o[s];a.forEach(function(b){if(b.length===5){var C=i[b]||[];b=b.substr(0,4),C.forEach(function($){e._encode($,c,r),r+=e.encode.bytes})}else i[b]&&(e._encode(i[b],c,r),r+=e.encode.bytes)}),i.otherBoxes&&i.otherBoxes.forEach(function(b){e._encode(b,c,r),r+=e.encode.bytes})}else if(v[s]){var l=v[s].encode;l(i,c,r),r+=l.bytes}else if(i.buffer){var f=i.buffer;f.copy(c,r),r+=i.buffer.length}else throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");return e.encode.bytes=r-u,c},e.readHeaders=function(i,c,u){if(c=c||0,u=u||i.length,8>u-c)return 8;var s=i.readUInt32BE(c),t=i.toString("ascii",c+4,c+8),r=c+8;if(s===1){if(16>u-c)return 16;s=w.decode(i,r),r+=8}var a,l;return v.fullBoxes[t]&&(a=i.readUInt8(r),l=16777215&i.readUInt32BE(r),r+=4),{length:s,headersLen:r-c,contentLen:s-(r-c),type:t,version:a,flags:l}},e.decode=function(i,c,u){c=c||0,u=u||i.length;var s=e.readHeaders(i,c,u);if(!s||s.length>u-c)throw new Error("Data too short");return e.decodeWithoutHeaders(s,i,c+s.headersLen,c+s.length)},e.decodeWithoutHeaders=function(i,c,u,s){u=u||0,s=s||c.length;var t=i.type,r={};if(o[t]){r.otherBoxes=[];for(var a=o[t],l=u,f;8<=s-l;)if(f=e.decode(c,l,s),l+=f.length,0<=a.indexOf(f.type))r[f.type]=f;else if(0<=a.indexOf(f.type+"s")){var b=f.type+"s",C=r[b]=r[b]||[];C.push(f)}else r.otherBoxes.push(f)}else if(v[t]){var $=v[t].decode;r=$(c,u,s)}else r.buffer=p.from(c.slice(u,s));return r.length=i.length,r.contentLen=i.contentLen,r.type=i.type,r.version=i.version,r.flags=i.flags,r},e.encodingLength=function(i){var c=i.type,u=8;if(v.fullBoxes[c]&&(u+=4),o[c]){var s=o[c];s.forEach(function(t){if(t.length===5){var r=i[t]||[];t=t.substr(0,4),r.forEach(function(l){l.type=t,u+=e.encodingLength(l)})}else if(i[t]){var a=i[t];a.type=t,u+=e.encodingLength(a)}}),i.otherBoxes&&i.otherBoxes.forEach(function(t){u+=e.encodingLength(t)})}else if(v[c])u+=v[c].encodingLength(i);else if(i.buffer)u+=i.buffer.length;else throw new Error("Either `type` must be set to a known type (not'"+c+"') or `buffer` must be set");return u>h&&(u+=8),i.length=u,u}}).call(this)}).call(this,m("buffer").Buffer)},{"./boxes":170,buffer:76,uint64be:272}],173:[function(m,U,A){(function(p){(function(){var w=m("readable-stream"),v=m("next-event"),h=m("mp4-box-encoding"),e=p.alloc(0);class o extends w.Writable{constructor(u){super(u),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(u){this.destroyed||(this.destroyed=!0,u&&this.emit("error",u),this.emit("close"))}_write(u,s,t){if(!this.destroyed){for(var r=!this._str||!this._str._writableState.needDrain;u.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=u,void(this._writeCb=t);var a=u.length<this._missing?u.length:this._missing;if(this._buf?u.copy(this._buf,this._buf.length-this._missing):this._str&&(r=this._str.write(a===u.length?u:u.slice(0,a))),this._missing-=a,!this._missing){var l=this._buf,f=this._cb,b=this._str;this._buf=this._cb=this._str=this._ondrain=null,r=!0,this._ignoreEmpty=!1,b&&b.end(),f&&f(l)}u=a===u.length?e:u.slice(a)}return this._pending&&!this._missing?(this._writeBuffer=u,void(this._writeCb=t)):void(r?t():this._ondrain(t))}}_buffer(u,s){this._missing=u,this._buf=p.alloc(u),this._cb=s}_stream(u,s){return this._missing=u,this._str=new i(this),this._ondrain=v(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=s,this._str}_readBox(){let u=(s,t)=>{this._buffer(s,r=>{t=t?p.concat([t,r]):r;var a=h.readHeaders(t);typeof a=="number"?u(a-t.length,t):(this._pending++,this._headers=a,this.emit("box",a))})};u(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var u=this._headers;return this._headers=null,this._stream(u.contentLen,()=>{this._pending--,this._kick()})}decode(u){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var s=this._headers;this._headers=null,this._buffer(s.contentLen,t=>{var r=h.decodeWithoutHeaders(s,t);u(r),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var u=this._headers;this._headers=null,this._missing=u.contentLen,this._missing===0&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var u=this._writeCb,s=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(s,null,u)}}}class i extends w.PassThrough{constructor(u){super(),this._parent=u,this.destroyed=!1}destroy(u){this.destroyed||(this.destroyed=!0,this._parent.destroy(u),u&&this.emit("error",u),this.emit("close"))}}U.exports=o}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"mp4-box-encoding":172,"next-event":177,"readable-stream":228}],174:[function(m,U,A){(function(p){(function(){function w(){}var v=m("readable-stream"),h=m("mp4-box-encoding"),e=m("queue-microtask");class o extends v.Readable{constructor(u){super(u),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(u,s){this.mediaData(u,s)}mediaData(u,s){var t=new i(this);return this.box({type:"mdat",contentLength:u,encodeBufferLen:8,stream:t},s),t}box(u,s){if(s||(s=w),this.destroyed)return s(new Error("Encoder is destroyed"));var t;if(u.encodeBufferLen&&(t=p.alloc(u.encodeBufferLen)),u.stream)u.buffer=null,t=h.encode(u,t),this.push(t),this._stream=u.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",s),this._forward();else{t=h.encode(u,t);var r=this.push(t);if(r)return e(s);this._drain=s}}destroy(u){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var s=this._drain;this._drain=null,s(u)}u&&this.emit("error",u),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var u=this._stream.read();if(!u)return void(this._want=!!this._stream);if(!this.push(u))return}}_read(){if(!(this._reading||this.destroyed)){if(this._reading=!0,this._stream&&this._forward(),this._drain){var u=this._drain;this._drain=null,u()}this._reading=!1,this._finalized&&this.push(null)}}}class i extends v.PassThrough{constructor(u){super(),this._parent=u,this.destroyed=!1}destroy(u){this.destroyed||(this.destroyed=!0,this._parent.destroy(u),u&&this.emit("error",u),this.emit("close"))}}U.exports=o}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"mp4-box-encoding":172,"queue-microtask":206,"readable-stream":228}],175:[function(m,U,A){let p=m("./decode"),w=m("./encode");A.decode=v=>new p(v),A.encode=v=>new w(v)},{"./decode":173,"./encode":174}],176:[function(m,U,A){function p(t){if(t+="",!(100<t.length)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(r){var a=parseFloat(r[1]),l=(r[2]||"ms").toLowerCase();return l==="years"||l==="year"||l==="yrs"||l==="yr"||l==="y"?315576e5*a:l==="weeks"||l==="week"||l==="w"?6048e5*a:l==="days"||l==="day"||l==="d"?864e5*a:l==="hours"||l==="hour"||l==="hrs"||l==="hr"||l==="h"?36e5*a:l==="minutes"||l==="minute"||l==="mins"||l==="min"||l==="m"?6e4*a:l==="seconds"||l==="second"||l==="secs"||l==="sec"||l==="s"?1e3*a:l==="milliseconds"||l==="millisecond"||l==="msecs"||l==="msec"||l==="ms"?a:void 0}}}function w(t){var r=O(t);return 864e5<=r?D(t/864e5)+"d":36e5<=r?D(t/36e5)+"h":6e4<=r?D(t/6e4)+"m":1e3<=r?D(t/1e3)+"s":t+"ms"}function v(t){var r=O(t);return 864e5<=r?h(t,r,864e5,"day"):36e5<=r?h(t,r,36e5,"hour"):6e4<=r?h(t,r,6e4,"minute"):1e3<=r?h(t,r,1e3,"second"):t+" ms"}function h(t,r,a,l){var f=r>=1.5*a;return D(t/a)+" "+l+(f?"s":"")}var e=1e3,o=6e4,i=60*o,c=24*i,u=7*c,s=365.25*c;U.exports=function(t,r){r=r||{};var a=typeof t;if(a=="string"&&0<t.length)return p(t);if(a==="number"&&isFinite(t))return r.long?v(t):w(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],177:[function(m,U,A){function p(w,v){var h=null;return w.on(v,function(e){if(h){var o=h;h=null,o(e)}}),function(e){h=e}}U.exports=p},{}],178:[function(m,U,A){function p(h){var e=function(){return e.called?e.value:(e.called=!0,e.value=h.apply(this,arguments))};return e.called=!1,e}function w(h){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=h.apply(this,arguments)},o=h.name||"Function wrapped with `once`";return e.onceError=o+" shouldn't be called more than once",e.called=!1,e}var v=m("wrappy");U.exports=v(p),U.exports.strict=v(w),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})})},{wrappy:280}],179:[function(m,U,A){U.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],180:[function(m,U,A){"use strict";var p=m("asn1.js");A.certificate=m("./certificate");var w=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});A.RSAPrivateKey=w;var v=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});A.RSAPublicKey=v;var h=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e),this.key("subjectPublicKey").bitstr())});A.PublicKey=h;var e=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("subjectPrivateKey").octstr())});A.PrivateKey=o;var i=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});A.EncryptedPrivateKey=i;var c=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});A.DSAPrivateKey=c,A.DSAparam=p.define("DSAparam",function(){this.int()});var u=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(s),this.key("publicKey").optional().explicit(1).bitstr())});A.ECPrivateKey=u;var s=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});A.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":181,"asn1.js":8}],181:[function(m,U,A){"use strict";var p=m("asn1.js"),w=p.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),v=p.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),h=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),e=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())}),o=p.define("RelativeDistinguishedName",function(){this.setof(v)}),i=p.define("RDNSequence",function(){this.seqof(o)}),c=p.define("Name",function(){this.choice({rdnSequence:this.use(i)})}),u=p.define("Validity",function(){this.seq().obj(this.key("notBefore").use(w),this.key("notAfter").use(w))}),s=p.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),t=p.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(h),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(s).optional())}),r=p.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(t),this.key("signatureAlgorithm").use(h),this.key("signatureValue").bitstr())});U.exports=r},{"asn1.js":8}],182:[function(m,U,A){var p=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,w=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,v=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,h=m("evp_bytestokey"),e=m("browserify-aes"),o=m("safe-buffer").Buffer;U.exports=function(i,c){var u=i.toString(),s=u.match(p),t;if(s){var a="aes"+s[1],l=o.from(s[2],"hex"),f=o.from(s[3].replace(/[\r\n]/g,""),"base64"),b=h(c,l.slice(0,8),parseInt(s[1],10)).key,C=[],$=e.createDecipheriv(a,b,l);C.push($.update(f)),C.push($.final()),t=o.concat(C)}else{var r=u.match(v);t=o.from(r[2].replace(/[\r\n]/g,""),"base64")}var W=u.match(w)[1];return{tag:W,data:t}}},{"browserify-aes":45,evp_bytestokey:124,"safe-buffer":235}],183:[function(m,U,A){function p(u){var s;typeof u!="object"||c.isBuffer(u)||(s=u.passphrase,u=u.key),typeof u=="string"&&(u=c.from(u));var t=e(u,s),r=t.tag,a=t.data,l,f;switch(r){case"CERTIFICATE":f=v.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=v.PublicKey.decode(a,"der")),l=f.algorithm.algorithm.join("."),l){case"1.2.840.113549.1.1.1":return v.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=v.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+l)}case"ENCRYPTED PRIVATE KEY":a=v.EncryptedPrivateKey.decode(a,"der"),a=w(a,s);case"PRIVATE KEY":switch(f=v.PrivateKey.decode(a,"der"),l=f.algorithm.algorithm.join("."),l){case"1.2.840.113549.1.1.1":return v.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:v.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=v.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+l)}case"RSA PUBLIC KEY":return v.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return v.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:v.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return a=v.ECPrivateKey.decode(a,"der"),{curve:a.parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+r)}}function w(u,s){var t=u.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=h[u.algorithm.decrypt.cipher.algo.join(".")],l=u.algorithm.decrypt.cipher.iv,f=u.subjectPrivateKey,b=parseInt(a.split("-")[1],10)/8,C=i.pbkdf2Sync(s,t,r,b,"sha1"),$=o.createDecipheriv(a,C,l),W=[];return W.push($.update(f)),W.push($.final()),c.concat(W)}var v=m("./asn1"),h=m("./aesid.json"),e=m("./fixProc"),o=m("browserify-aes"),i=m("pbkdf2"),c=m("safe-buffer").Buffer;U.exports=p,p.signature=v.signature},{"./aesid.json":179,"./asn1":180,"./fixProc":182,"browserify-aes":45,pbkdf2:186,"safe-buffer":235}],184:[function(m,U,A){(function(p){(function(){function w($){if(typeof $=="string"&&/^(stream-)?magnet:/.test($)){let W=l($);if(!W.infoHash)throw new Error("Invalid torrent identifier");return W}if(typeof $=="string"&&(/^[a-f0-9]{40}$/i.test($)||/^[a-z2-7]{32}$/i.test($)))return l(`magnet:?xt=urn:btih:${$}`);if(p.isBuffer($)&&$.length===20)return l(`magnet:?xt=urn:btih:${$.toString("hex")}`);if(p.isBuffer($))return h($);if($&&$.infoHash)return $.infoHash=$.infoHash.toLowerCase(),$.announce||($.announce=[]),typeof $.announce=="string"&&($.announce=[$.announce]),$.urlList||($.urlList=[]),$;throw new Error("Invalid torrent identifier")}function v($,W,R){function L(ee){try{Y=w(ee)}catch(ae){return R(ae)}Y&&Y.infoHash?R(null,Y):R(new Error("Invalid torrent identifier"))}if(typeof W=="function")return v($,{},W);if(typeof R!="function")throw new Error("second argument must be a Function");let Y;try{Y=w($)}catch{}Y&&Y.infoHash?C(()=>{R(null,Y)}):o($)?t($,(ee,ae)=>ee?R(new Error(`Error converting Blob: ${ee.message}`)):void L(ae)):typeof a=="function"&&/^https?:/.test($)?(W=Object.assign({url:$,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},W),a.concat(W,(ee,ae,fe)=>ee?R(new Error(`Error downloading torrent: ${ee.message}`)):void L(fe))):typeof r.readFile=="function"&&typeof $=="string"?r.readFile($,(ee,ae)=>ee?R(new Error("Invalid torrent identifier")):void L(ae)):C(()=>{R(new Error("Invalid torrent identifier"))})}function h($){p.isBuffer($)&&($=s.decode($)),u($.info,"info"),u($.info["name.utf-8"]||$.info.name,"info.name"),u($.info["piece length"],"info['piece length']"),u($.info.pieces,"info.pieces"),$.info.files?$.info.files.forEach(Y=>{u(typeof Y.length=="number","info.files[0].length"),u(Y["path.utf-8"]||Y.path,"info.files[0].path")}):u(typeof $.info.length=="number","info.length");let W={info:$.info,infoBuffer:s.encode($.info),name:($.info["name.utf-8"]||$.info.name).toString(),announce:[]};W.infoHash=b.sync(W.infoBuffer),W.infoHashBuffer=p.from(W.infoHash,"hex"),$.info.private!==void 0&&(W.private=!!$.info.private),$["creation date"]&&(W.created=new Date(1e3*$["creation date"])),$["created by"]&&(W.createdBy=$["created by"].toString()),p.isBuffer($.comment)&&(W.comment=$.comment.toString()),Array.isArray($["announce-list"])&&0<$["announce-list"].length?$["announce-list"].forEach(Y=>{Y.forEach(ee=>{W.announce.push(ee.toString())})}):$.announce&&W.announce.push($.announce.toString()),p.isBuffer($["url-list"])&&($["url-list"]=0<$["url-list"].length?[$["url-list"]]:[]),W.urlList=($["url-list"]||[]).map(Y=>Y.toString()),W.announce=Array.from(new Set(W.announce)),W.urlList=Array.from(new Set(W.urlList));let R=$.info.files||[$.info];W.files=R.map((Y,ee)=>{let ae=[].concat(W.name,Y["path.utf-8"]||Y.path||[]).map(fe=>fe.toString());return{path:f.join.apply(null,[f.sep].concat(ae)).slice(1),name:ae[ae.length-1],length:Y.length,offset:R.slice(0,ee).reduce(i,0)}}),W.length=R.reduce(i,0);let L=W.files[W.files.length-1];return W.pieceLength=$.info["piece length"],W.lastPieceLength=(L.offset+L.length)%W.pieceLength||W.pieceLength,W.pieces=c($.info.pieces),W}function e($){let W={info:$.info};return W["announce-list"]=($.announce||[]).map(R=>(W.announce||(W.announce=R),R=p.from(R,"utf8"),[R])),W["url-list"]=$.urlList||[],$.private!==void 0&&(W.private=+$.private),$.created&&(W["creation date"]=0|$.created.getTime()/1e3),$.createdBy&&(W["created by"]=$.createdBy),$.comment&&(W.comment=$.comment),s.encode(W)}function o($){return typeof Blob!="undefined"&&$ instanceof Blob}function i($,W){return $+W.length}function c($){let W=[];for(let R=0;R<$.length;R+=20)W.push($.slice(R,R+20).toString("hex"));return W}function u($,W){if(!$)throw new Error(`Torrent is missing required field: ${W}`)}let s=m("bencode"),t=m("blob-to-buffer"),r=m("fs"),a=m("simple-get"),l=m("magnet-uri"),f=m("path"),b=m("simple-sha1"),C=m("queue-microtask");U.exports=w,U.exports.remote=v,U.exports.toMagnetURI=l.encode,U.exports.toTorrentFile=e,p.alloc(0)}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:76,fs:42,"magnet-uri":158,path:185,"queue-microtask":206,"simple-get":246,"simple-sha1":248}],185:[function(m,U,A){(function(p){(function(){"use strict";function w(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function v(o,i){for(var c="",u=0,s=-1,t=0,r=0,a;r<=o.length;++r){if(r<o.length)a=o.charCodeAt(r);else{if(a===47)break;a=47}if(a===47){if(!(s===r-1||t===1))if(s!==r-1&&t===2){if(2>c.length||u!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(2<c.length){var l=c.lastIndexOf("/");if(l!==c.length-1){l===-1?(c="",u=0):(c=c.slice(0,l),u=c.length-1-c.lastIndexOf("/")),s=r,t=0;continue}}else if(c.length===2||c.length===1){c="",u=0,s=r,t=0;continue}}i&&(0<c.length?c+="/..":c="..",u=2)}else 0<c.length?c+="/"+o.slice(s+1,r):c=o.slice(s+1,r),u=r-s-1;s=r,t=0}else a===46&&t!==-1?++t:t=-1}return c}function h(o,i){var c=i.dir||i.root,u=i.base||(i.name||"")+(i.ext||"");return c?c===i.root?c+u:c+o+u:u}var e={resolve:function(){for(var i="",c=!1,u=arguments.length-1,s;-1<=u&&!c;u--){var t;0<=u?t=arguments[u]:(s===void 0&&(s=p.cwd()),t=s),w(t),t.length!==0&&(i=t+"/"+i,c=t.charCodeAt(0)===47)}return i=v(i,!c),c?0<i.length?"/"+i:"/":0<i.length?i:"."},normalize:function(i){if(w(i),i.length===0)return".";var c=i.charCodeAt(0)===47,u=i.charCodeAt(i.length-1)===47;return i=v(i,!c),i.length!==0||c||(i="."),0<i.length&&u&&(i+="/"),c?"/"+i:i},isAbsolute:function(i){return w(i),0<i.length&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i=0,c,u;i<arguments.length;++i)u=arguments[i],w(u),0<u.length&&(c===void 0?c=u:c+="/"+u);return c===void 0?".":e.normalize(c)},relative:function(i,c){if(w(i),w(c),i===c||(i=e.resolve(i),c=e.resolve(c),i===c))return"";for(var u=1;u<i.length&&i.charCodeAt(u)===47;++u);for(var s=i.length,t=s-u,r=1;r<c.length&&c.charCodeAt(r)===47;++r);for(var a=c.length,l=a-r,f=t<l?t:l,b=-1,C=0;C<=f;++C){if(C===f){if(l>f){if(c.charCodeAt(r+C)===47)return c.slice(r+C+1);if(C===0)return c.slice(r+C)}else t>f&&(i.charCodeAt(u+C)===47?b=C:C===0&&(b=0));break}var $=i.charCodeAt(u+C),W=c.charCodeAt(r+C);if($!==W)break;$===47&&(b=C)}var R="";for(C=u+b+1;C<=s;++C)(C===s||i.charCodeAt(C)===47)&&(R+=R.length===0?"..":"/..");return 0<R.length?R+c.slice(r+b):(r+=b,c.charCodeAt(r)===47&&++r,c.slice(r))},_makeLong:function(i){return i},dirname:function(i){if(w(i),i.length===0)return".";for(var c=i.charCodeAt(0),u=c===47,s=-1,t=!0,r=i.length-1;1<=r;--r)if(c=i.charCodeAt(r),c!==47)t=!1;else if(!t){s=r;break}return s===-1?u?"/":".":u&&s===1?"//":i.slice(0,s)},basename:function(i,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');w(i);var u=0,s=-1,t=!0,r;if(c!==void 0&&0<c.length&&c.length<=i.length){if(c.length===i.length&&c===i)return"";var a=c.length-1,l=-1;for(r=i.length-1;0<=r;--r){var f=i.charCodeAt(r);if(f!==47)l===-1&&(t=!1,l=r+1),0<=a&&(f===c.charCodeAt(a)?--a==-1&&(s=r):(a=-1,s=l));else if(!t){u=r+1;break}}return u===s?s=l:s===-1&&(s=i.length),i.slice(u,s)}for(r=i.length-1;0<=r;--r)if(i.charCodeAt(r)!==47)s===-1&&(t=!1,s=r+1);else if(!t){u=r+1;break}return s===-1?"":i.slice(u,s)},extname:function(i){w(i);for(var c=-1,u=0,s=-1,t=!0,r=0,a=i.length-1,l;0<=a;--a){if(l=i.charCodeAt(a),l===47){if(!t){u=a+1;break}continue}s===-1&&(t=!1,s=a+1),l===46?c===-1?c=a:r!==1&&(r=1):c!==-1&&(r=-1)}return c===-1||s===-1||r===0||r===1&&c===s-1&&c===u+1?"":i.slice(c,s)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return h("/",i)},parse:function(i){w(i);var c={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return c;var u=i.charCodeAt(0),s=u===47,t;s?(c.root="/",t=1):t=0;for(var r=-1,a=0,l=-1,f=!0,b=i.length-1,C=0;b>=t;--b){if(u=i.charCodeAt(b),u===47){if(!f){a=b+1;break}continue}l===-1&&(f=!1,l=b+1),u===46?r===-1?r=b:C!==1&&(C=1):r!==-1&&(C=-1)}return r===-1||l===-1||C===0||C===1&&r===l-1&&r===a+1?l!==-1&&(a===0&&s?c.base=c.name=i.slice(1,l):c.base=c.name=i.slice(a,l)):(a===0&&s?(c.name=i.slice(1,r),c.base=i.slice(1,l)):(c.name=i.slice(a,r),c.base=i.slice(a,l)),c.ext=i.slice(r,l)),0<a?c.dir=i.slice(0,a-1):s&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};e.posix=e,U.exports=e}).call(this)}).call(this,m("_process"))},{_process:193}],186:[function(m,U,A){A.pbkdf2=m("./lib/async"),A.pbkdf2Sync=m("./lib/sync")},{"./lib/async":187,"./lib/sync":190}],187:[function(m,U,A){(function(p){(function(){function w(b){if(p.process&&!p.process.browser||!t||!t.importKey||!t.deriveBits)return Promise.resolve(!1);if(a[b]!==void 0)return a[b];l=l||o.alloc(8);var C=h(l,l,10,128,b).then(function(){return!0}).catch(function(){return!1});return a[b]=C,C}function v(){return f||(f=p.process&&p.process.nextTick?p.process.nextTick:p.queueMicrotask?p.queueMicrotask:p.setImmediate?p.setImmediate:p.setTimeout,f)}function h(b,C,$,W,R){return t.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return t.deriveBits({name:"PBKDF2",salt:C,iterations:$,hash:{name:R}},L,W<<3)}).then(function(L){return o.from(L)})}function e(b,C){b.then(function($){v()(function(){C(null,$)})},function($){v()(function(){C($)})})}var o=m("safe-buffer").Buffer,i=m("./precondition"),c=m("./default-encoding"),u=m("./sync"),s=m("./to-buffer"),t=p.crypto&&p.crypto.subtle,r={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},a=[],l,f;U.exports=function(b,C,$,W,R,L){typeof R=="function"&&(L=R,R=void 0),R=R||"sha1";var Y=r[R.toLowerCase()];if(!Y||typeof p.Promise!="function")return void v()(function(){var ee;try{ee=u(b,C,$,W,R)}catch(ae){return L(ae)}L(null,ee)});if(i($,W),b=s(b,c,"Password"),C=s(C,c,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");e(w(Y).then(function(ee){return ee?h(b,C,$,W,Y):u(b,C,$,W,R)}),L)}}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"./default-encoding":188,"./precondition":189,"./sync":190,"./to-buffer":191,"safe-buffer":235}],188:[function(m,U,A){(function(p,w){(function(){var v;if(w.process&&w.process.browser)v="utf-8";else if(w.process&&w.process.version){var h=parseInt(p.version.split(".")[0].slice(1),10);v=6<=h?"utf-8":"binary"}else v="utf-8";U.exports=v}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{_process:193}],189:[function(m,U,A){var p=k(2,30)-1;U.exports=function(w,v){if(typeof w!="number")throw new TypeError("Iterations not a number");if(0>w)throw new TypeError("Bad iterations");if(typeof v!="number")throw new TypeError("Key length not a number");if(0>v||1073741823<v||v!==v)throw new TypeError("Bad key length")}},{}],190:[function(m,U,A){function p(a,l,f){var b=w(a),C=a==="sha512"||a==="sha384"?128:64;l.length>C?l=b(l):l.length<C&&(l=i.concat([l,t],C));for(var $=i.allocUnsafe(C+r[a]),W=i.allocUnsafe(C+r[a]),R=0;R<C;R++)$[R]=54^l[R],W[R]=92^l[R];var L=i.allocUnsafe(C+f+4);$.copy(L,0,0,C),this.ipad1=L,this.ipad2=$,this.opad=W,this.alg=a,this.blocksize=C,this.hash=b,this.size=r[a]}function w(a){function l(b){return o(a).update(b).digest()}function f(b){return new e().update(b).digest()}return a==="rmd160"||a==="ripemd160"?f:a==="md5"?h:l}function v(a,l,f,b,C){c(f,b),a=s(a,u,"Password"),l=s(l,u,"Salt"),C=C||"sha1";var $=new p(C,a,l.length),W=i.allocUnsafe(b),R=i.allocUnsafe(l.length+4);l.copy(R,0,0,l.length);for(var L=0,Y=r[C],ee=N(b/Y),ae=1;ae<=ee;ae++){R.writeUInt32BE(ae,l.length);for(var fe=$.run(R,$.ipad1),xe=fe,se=1;se<f;se++){xe=$.run(xe,$.ipad2);for(var B=0;B<Y;B++)fe[B]^=xe[B]}fe.copy(W,L),L+=Y}return W}var h=m("create-hash/md5"),e=m("ripemd160"),o=m("sha.js"),i=m("safe-buffer").Buffer,c=m("./precondition"),u=m("./default-encoding"),s=m("./to-buffer"),t=i.alloc(128),r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};p.prototype.run=function(a,l){a.copy(l,this.blocksize);var f=this.hash(l);return f.copy(this.opad,this.blocksize),this.hash(this.opad)},U.exports=v},{"./default-encoding":188,"./precondition":189,"./to-buffer":191,"create-hash/md5":86,ripemd160:231,"safe-buffer":235,"sha.js":238}],191:[function(m,U,A){var p=m("safe-buffer").Buffer;U.exports=function(w,v,h){if(p.isBuffer(w))return w;if(typeof w=="string")return p.from(w,v);if(ArrayBuffer.isView(w))return p.from(w.buffer);throw new TypeError(h+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":235}],192:[function(m,U,A){function p(w){return F(16384,0|1<<Math.log2(1024>w?1:w/1024)+.5)}U.exports=p},{}],193:[function(m,U,A){function p(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function v(b){if(s===setTimeout)return setTimeout(b,0);if((s===p||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}function h(b){if(t===clearTimeout)return clearTimeout(b);if((t===w||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(b);try{return t(b)}catch{try{return t.call(null,b)}catch{return t.call(this,b)}}}function e(){a&&f&&(a=!1,f.length?r=f.concat(r):l=-1,r.length&&o())}function o(){if(!a){var b=v(e);a=!0;for(var C=r.length;C;){for(f=r,r=[];++l<C;)f&&f[l].run();l=-1,C=r.length}f=null,a=!1,h(b)}}function i(b,C){this.fun=b,this.array=C}function c(){}var u=U.exports={},s,t;(function(){try{s=typeof setTimeout=="function"?setTimeout:p}catch{s=p}try{t=typeof clearTimeout=="function"?clearTimeout:w}catch{t=w}})();var r=[],a=!1,l=-1,f;u.nextTick=function(b){var C=Array(arguments.length-1);if(1<arguments.length)for(var $=1;$<arguments.length;$++)C[$-1]=arguments[$];r.push(new i(b,C)),r.length!==1||a||v(o)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=c,u.addListener=c,u.once=c,u.off=c,u.removeListener=c,u.removeAllListeners=c,u.emit=c,u.prependListener=c,u.prependOnceListener=c,u.listeners=function(b){return[]},u.binding=function(b){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(b){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],194:[function(m,U,A){A.publicEncrypt=m("./publicEncrypt"),A.privateDecrypt=m("./privateDecrypt"),A.privateEncrypt=function(w,v){return A.publicEncrypt(w,v,!0)},A.publicDecrypt=function(w,v){return A.privateDecrypt(w,v,!0)}},{"./privateDecrypt":197,"./publicEncrypt":198}],195:[function(m,U,A){function p(h){var e=v.allocUnsafe(4);return e.writeUInt32BE(h,0),e}var w=m("create-hash"),v=m("safe-buffer").Buffer;U.exports=function(h,e){for(var o=v.alloc(0),i=0,c;o.length<e;)c=p(i++),o=v.concat([o,w("sha1").update(h).update(c).digest()]);return o.slice(0,e)}},{"create-hash":85,"safe-buffer":235}],196:[function(m,U,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],197:[function(m,U,A){function p(r,a){var l=r.modulus.byteLength(),f=u("sha1").update(t.alloc(0)).digest(),b=f.length;if(a[0]!==0)throw new Error("decryption error");var C=a.slice(1,b+1),$=a.slice(b+1),W=o(C,e($,b)),R=o($,e(W,l-b-1));if(v(f,R.slice(0,b)))throw new Error("decryption error");for(var L=b;R[L]===0;)L++;if(R[L++]!==1)throw new Error("decryption error");return R.slice(L)}function w(r,a,l){for(var f=a.slice(0,2),b=2,C=0;a[b++]!==0;)if(b>=a.length){C++;break}var $=a.slice(2,b-1);if((f.toString("hex")!=="0002"&&!l||f.toString("hex")!=="0001"&&l)&&C++,8>$.length&&C++,C)throw new Error("decryption error");return a.slice(b)}function v(r,a){r=t.from(r),a=t.from(a);var l=0,f=r.length;r.length!==a.length&&(l++,f=J(r.length,a.length));for(var b=-1;++b<f;)l+=r[b]^a[b];return l}var h=m("parse-asn1"),e=m("./mgf"),o=m("./xor"),i=m("bn.js"),c=m("browserify-rsa"),u=m("create-hash"),s=m("./withPublic"),t=m("safe-buffer").Buffer;U.exports=function(a,l,f){var b;b=a.padding?a.padding:f?1:4;var C=h(a),$=C.modulus.byteLength();if(l.length>$||0<=new i(l).cmp(C.modulus))throw new Error("decryption error");var W;W=f?s(new i(l),C):c(l,C);var R=t.alloc($-W.length);if(W=t.concat([R,W],$),b===4)return p(C,W);if(b===1)return w(C,W,f);if(b===3)return W;throw new Error("unknown padding")}},{"./mgf":195,"./withPublic":199,"./xor":200,"bn.js":196,"browserify-rsa":63,"create-hash":85,"parse-asn1":183,"safe-buffer":235}],198:[function(m,U,A){function p(a,l){var f=a.modulus.byteLength(),b=l.length,C=o("sha1").update(r.alloc(0)).digest(),$=C.length,W=2*$;if(b>f-W-2)throw new Error("message too long");var R=r.alloc(f-b-W-2),L=f-$-1,Y=e($),ee=c(r.concat([C,R,r.alloc(1,1),l],L),i(Y,L)),ae=c(Y,i(ee,$));return new u(r.concat([r.alloc(1),ae,ee],f))}function w(a,l,f){var b=l.length,C=a.modulus.byteLength();if(b>C-11)throw new Error("message too long");var $;return $=f?r.alloc(C-b-3,255):v(C-b-3),new u(r.concat([r.from([0,f?1:2]),$,r.alloc(1),l],C))}function v(a){for(var l=r.allocUnsafe(a),f=0,b=e(2*a),C=0,$;f<a;)C===b.length&&(b=e(2*a),C=0),$=b[C++],$&&(l[f++]=$);return l}var h=m("parse-asn1"),e=m("randombytes"),o=m("create-hash"),i=m("./mgf"),c=m("./xor"),u=m("bn.js"),s=m("./withPublic"),t=m("browserify-rsa"),r=m("safe-buffer").Buffer;U.exports=function(l,f,b){var C;C=l.padding?l.padding:b?1:4;var $=h(l),W;if(C===4)W=p($,f);else if(C===1)W=w($,f,b);else{if(C!==3)throw new Error("unknown padding");if(W=new u(f),0<=W.cmp($.modulus))throw new Error("data too long for modulus")}return b?t(W,$):s(W,$)}},{"./mgf":195,"./withPublic":199,"./xor":200,"bn.js":196,"browserify-rsa":63,"create-hash":85,"parse-asn1":183,randombytes:209,"safe-buffer":235}],199:[function(m,U,A){function p(h,e){return v.from(h.toRed(w.mont(e.modulus)).redPow(new w(e.publicExponent)).fromRed().toArray())}var w=m("bn.js"),v=m("safe-buffer").Buffer;U.exports=p},{"bn.js":196,"safe-buffer":235}],200:[function(m,U,A){U.exports=function(w,v){for(var h=w.length,e=-1;++e<h;)w[e]^=v[e];return w}},{}],201:[function(m,U,A){(function(p){(function(){var w=m("once"),v=m("end-of-stream"),h=m("fs"),e=function(){},o=/^v?\.0/.test(p.version),i=function(l){return typeof l=="function"},c=function(l){return!!o&&!!h&&(l instanceof(h.ReadStream||e)||l instanceof(h.WriteStream||e))&&i(l.close)},u=function(l){return l.setHeader&&i(l.abort)},s=function(l,f,b,C){C=w(C);var $=!1;l.on("close",function(){$=!0}),v(l,{readable:f,writable:b},function(R){return R?C(R):($=!0,void C())});var W=!1;return function(R){if(!$)return W?void 0:(W=!0,c(l)?l.close(e):u(l)?l.abort():i(l.destroy)?l.destroy():void C(R||new Error("stream was destroyed")))}},t=function(l){l()},r=function(l,f){return l.pipe(f)},a=function(){var l=Array.prototype.slice.call(arguments),f=i(l[l.length-1]||e)&&l.pop()||e;if(Array.isArray(l[0])&&(l=l[0]),2>l.length)throw new Error("pump requires two streams per minimum");var b=l.map(function($,W){var R=W<l.length-1,L=0<W;return s($,R,L,function(Y){C||(C=Y),Y&&b.forEach(t),R||(b.forEach(t),f(C))})}),C;return l.reduce(r)};U.exports=a}).call(this)}).call(this,m("_process"))},{_process:193,"end-of-stream":121,fs:42,once:178}],202:[function(m,U,A){(function(p){(function(){(function(w){function v(le){throw new RangeError(z[le])}function h(le,ge){for(var Re=le.length,ke=[];Re--;)ke[Re]=ge(le[Re]);return ke}function e(le,ge){var Re=le.split("@"),ke="";1<Re.length&&(ke=Re[0]+"@",le=Re[1]),le=le.replace(K,".");var De=le.split("."),$e=h(De,ge).join(".");return ke+$e}function o(le){for(var ge=[],Re=0,ke=le.length,De,$e;Re<ke;)De=le.charCodeAt(Re++),55296<=De&&56319>=De&&Re<ke?($e=le.charCodeAt(Re++),(64512&$e)==56320?ge.push(((1023&De)<<10)+(1023&$e)+65536):(ge.push(De),Re--)):ge.push(De);return ge}function i(le){return h(le,function(ge){var Re="";return 65535<ge&&(ge-=65536,Re+=Z(55296|1023&ge>>>10),ge=56320|1023&ge),Re+=Z(ge),Re}).join("")}function c(le){return 10>le-48?le-22:26>le-65?le-65:26>le-97?le-97:36}function u(le,ge){return le+22+75*(26>le)-((ge!=0)<<5)}function s(le,ge,Re){var ke=0;for(le=Re?j(le/700):le>>1,le+=j(le/ge);455<le;ke+=36)le=j(le/35);return j(ke+36*le/(le+38))}function t(le){var ge=[],Re=le.length,ke=0,De=128,$e=72,qe,nt,bt,ct,Me,Ge,Ze,ft,Mt,ce;for(nt=le.lastIndexOf("-"),0>nt&&(nt=0),bt=0;bt<nt;++bt)128<=le.charCodeAt(bt)&&v("not-basic"),ge.push(le.charCodeAt(bt));for(ct=0<nt?nt+1:0;ct<Re;){for(Me=ke,Ge=1,Ze=36;ct>=Re&&v("invalid-input"),ft=c(le.charCodeAt(ct++)),(36<=ft||ft>j((2147483647-ke)/Ge))&&v("overflow"),ke+=ft*Ge,Mt=Ze<=$e?1:Ze>=$e+26?26:Ze-$e,!(ft<Mt);Ze+=36)ce=36-Mt,Ge>j(2147483647/ce)&&v("overflow"),Ge*=ce;qe=ge.length+1,$e=s(ke-Me,qe,Me==0),j(ke/qe)>2147483647-De&&v("overflow"),De+=j(ke/qe),ke%=qe,ge.splice(ke++,0,De)}return i(ge)}function r(le){var ge=[],Re,ke,De,$e,qe,nt,bt,ct,Me,Ge,Ze,ft,Mt,ce,G;for(le=o(le),ft=le.length,Re=128,ke=0,qe=72,nt=0;nt<ft;++nt)Ze=le[nt],128>Ze&&ge.push(Z(Ze));for(De=$e=ge.length,$e&&ge.push("-");De<ft;){for(bt=2147483647,nt=0;nt<ft;++nt)Ze=le[nt],Ze>=Re&&Ze<bt&&(bt=Ze);for(Mt=De+1,bt-Re>j((2147483647-ke)/Mt)&&v("overflow"),ke+=(bt-Re)*Mt,Re=bt,nt=0;nt<ft;++nt)if(Ze=le[nt],Ze<Re&&2147483647<++ke&&v("overflow"),Ze==Re){for(ct=ke,Me=36;Ge=Me<=qe?1:Me>=qe+26?26:Me-qe,!(ct<Ge);Me+=36)G=ct-Ge,ce=36-Ge,ge.push(Z(u(Ge+G%ce,0))),ct=j(G/ce);ge.push(Z(u(ct,0))),qe=s(ke,Mt,De==$e),ke=0,++De}++ke,++Re}return ge.join("")}function a(le){return e(le,function(ge){return se.test(ge)?t(ge.slice(4).toLowerCase()):ge})}function l(le){return e(le,function(ge){return B.test(ge)?"xn--"+r(ge):ge})}var f=typeof A=="object"&&A&&!A.nodeType&&A,b=typeof U=="object"&&U&&!U.nodeType&&U,C=typeof p=="object"&&p;(C.global===C||C.window===C||C.self===C)&&(w=C);var $=2147483647,W=36,R=1,L=26,Y=38,ee=700,ae=72,fe=128,xe="-",se=/^xn--/,B=/[^\x20-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=35,j=I,Z=g,oe,q;if(oe={version:"1.4.1",ucs2:{decode:o,encode:i},decode:t,encode:r,toASCII:l,toUnicode:a},typeof pe=="function"&&typeof pe.amd=="object"&&pe.amd)pe("punycode",function(){return oe});else if(!(f&&b))w.punycode=oe;else if(U.exports==f)b.exports=oe;else for(q in oe)oe.hasOwnProperty(q)&&(f[q]=oe[q])})(this)}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],203:[function(m,U,A){"use strict";function p(v,h){return Object.prototype.hasOwnProperty.call(v,h)}U.exports=function(v,h,e,o){h=h||"&",e=e||"=";var i={};if(typeof v!="string"||v.length===0)return i;var c=/\+/g;v=v.split(h);var u=1e3;o&&typeof o.maxKeys=="number"&&(u=o.maxKeys);var s=v.length;0<u&&s>u&&(s=u);for(var t=0;t<s;++t){var r=v[t].replace(c,"%20"),a=r.indexOf(e),l,f,b,C;0<=a?(l=r.substr(0,a),f=r.substr(a+1)):(l=r,f=""),b=decodeURIComponent(l),C=decodeURIComponent(f),p(i,b)?w(i[b])?i[b].push(C):i[b]=[i[b],C]:i[b]=C}return i};var w=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"}},{}],204:[function(m,U,A){"use strict";function p(e,o){if(e.map)return e.map(o);for(var i=[],c=0;c<e.length;c++)i.push(o(e[c],c));return i}var w=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};U.exports=function(e,o,i,c){return o=o||"&",i=i||"=",e===null&&(e=void 0),typeof e=="object"?p(h(e),function(u){var s=encodeURIComponent(w(u))+i;return v(e[u])?p(e[u],function(t){return s+encodeURIComponent(w(t))}).join(o):s+encodeURIComponent(w(e[u]))}).join(o):c?encodeURIComponent(w(c))+i+encodeURIComponent(w(e)):""};var v=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},h=Object.keys||function(e){var o=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&o.push(i);return o}},{}],205:[function(m,U,A){"use strict";A.decode=A.parse=m("./decode"),A.encode=A.stringify=m("./encode")},{"./decode":203,"./encode":204}],206:[function(m,U,A){(function(p){(function(){let w;U.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window=="undefined"?p:window):v=>(w||(w=Promise.resolve())).then(v).catch(h=>setTimeout(()=>{throw h},0))}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],207:[function(m,U,A){U.exports=typeof queueMicrotask=="function"?queueMicrotask:p=>Promise.resolve().then(p)},{}],208:[function(m,U,A){var p=function(w){var v=0;return function(){if(v===w.length)return null;var h=w.length-v,e=0|Math.random()*h,o=w[v+e],i=w[v];return w[v]=o,w[v+e]=i,v++,o}};U.exports=p},{}],209:[function(m,U,A){(function(p,w){(function(){"use strict";function v(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}function h(u,s){if(u>4294967295)throw new RangeError("requested too many random bytes");var t=i.allocUnsafe(u);if(0<u)if(65536<u)for(var r=0;r<u;r+=65536)c.getRandomValues(t.slice(r,r+65536));else c.getRandomValues(t);return typeof s=="function"?p.nextTick(function(){s(null,t)}):t}var e=65536,o=4294967295,i=m("safe-buffer").Buffer,c=w.crypto||w.msCrypto;U.exports=c&&c.getRandomValues?h:v}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{_process:193,"safe-buffer":235}],210:[function(m,U,A){(function(p,w){(function(){"use strict";function v(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}function h(f,b){if(typeof f!="number"||f!==f)throw new TypeError("offset must be a number");if(4294967295<f||0>f)throw new TypeError("offset must be a uint32");if(f>r||f>b)throw new RangeError("offset out of range")}function e(f,b,C){if(typeof f!="number"||f!==f)throw new TypeError("size must be a number");if(4294967295<f||0>f)throw new TypeError("size must be a uint32");if(f+b>C||f>r)throw new RangeError("buffer too small")}function o(f,b,C,$){if(!t.isBuffer(f)&&!(f instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")$=b,b=0,C=f.length;else if(typeof C=="function")$=C,C=f.length-b;else if(typeof $!="function")throw new TypeError('"cb" argument must be a function');return h(b,f.length),e(C,b,f.length),i(f,b,C,$)}function i(f,b,C,$){if(p.browser){var W=f.buffer,R=new Uint8Array(W,b,C);return a.getRandomValues(R),$?void p.nextTick(function(){$(null,f)}):f}if($)return void s(C,function(Y,ee){return Y?$(Y):(ee.copy(f,b),void $(null,f))});var L=s(C);return L.copy(f,b),f}function c(f,b,C){if(typeof b=="undefined"&&(b=0),!t.isBuffer(f)&&!(f instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(b,f.length),C===void 0&&(C=f.length-b),e(C,b,f.length),i(f,b,C)}var u=m("safe-buffer"),s=m("randombytes"),t=u.Buffer,r=u.kMaxLength,a=w.crypto||w.msCrypto,l=k(2,32)-1;a&&a.getRandomValues||!p.browser?(A.randomFill=o,A.randomFillSync=c):(A.randomFill=v,A.randomFillSync=v)}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{_process:193,randombytes:209,"safe-buffer":235}],211:[function(m,U,A){"use strict";function p(i,c,u){if(typeof c!="string")throw new TypeError("argument str must be a string");var s=c.indexOf("=");if(s===-1)return-2;var t=c.slice(s+1).split(","),r=[];r.type=c.slice(0,s);for(var a=0;a<t.length;a++){var l=t[a].split("-"),f=parseInt(l[0],10),b=parseInt(l[1],10);isNaN(f)?(f=i-b,b=i-1):isNaN(b)&&(b=i-1),b>i-1&&(b=i-1),!(isNaN(f)||isNaN(b)||f>b||0>f)&&r.push({start:f,end:b})}return 1>r.length?-1:u&&u.combine?w(r):r}function w(i){for(var c=i.map(v).sort(o),u=0,s=1;s<c.length;s++){var t=c[s],r=c[u];t.start>r.end+1?c[++u]=t:t.end>r.end&&(r.end=t.end,r.index=J(r.index,t.index))}c.length=u+1;var a=c.sort(e).map(h);return a.type=i.type,a}function v(i,c){return{start:i.start,end:i.end,index:c}}function h(i){return{start:i.start,end:i.end}}function e(i,c){return i.index-c.index}function o(i,c){return i.start-c.start}U.exports=p},{}],212:[function(m,U,A){let{Writable:p,PassThrough:w}=m("readable-stream");class v extends p{constructor(e,o={}){super(o),this.destroyed=!1,this._queue=[],this._position=e||0,this._cb=null,this._buffer=null,this._out=null}_write(e,o,i){let c=!0;for(;;){if(this.destroyed)return;if(this._queue.length===0)return this._buffer=e,void(this._cb=i);this._buffer=null;var u=this._queue[0];let s=F(u.start-this._position,0),t=u.end-this._position;if(s>=e.length)return this._position+=e.length,i(null);let r;if(t>e.length){this._position+=e.length,r=s===0?e:e.slice(s),c=u.stream.write(r)&&c;break}this._position+=t,r=s===0&&t===e.length?e:e.slice(s,t),c=u.stream.write(r)&&c,u.last&&u.stream.end(),e=e.slice(t),this._queue.shift()}c?i(null):u.stream.once("drain",i.bind(null,null))}slice(e){if(this.destroyed)return null;Array.isArray(e)||(e=[e]);let o=new w;return e.forEach((i,c)=>{this._queue.push({start:i.start,end:i.end,stream:o,last:c===e.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),o}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e))}}U.exports=v},{"readable-stream":228}],213:[function(m,U,A){"use strict";function p(u){return parseInt(u,10)===u}function w(u){function s(){for(var a=Array(u),l=0;l<u;l++)a[l]=l;return a}function t(a){if(a===void 0){a=Array(u);for(var l=0;l<u;l++)a[l]=I(Math.random()*u)}else if(typeof a=="string")a=""+a,a=a.split("").map(function(R){return R.charCodeAt(0)%u});else if(Array.isArray(a)){if(!a.every(function(R){return typeof R=="number"&&R===(0|R)}))throw new TypeError("invalid seed key specified: not array of integers")}else throw new TypeError("invalid seed key specified");for(var f=a.length,b=s(),C=0,$=0;$<u;$++){C=(C+b[$]+a[$%f])%u;var W=b[$];b[$]=b[C],b[C]=W}return b}function r(a){this.s=t(a),this.i=0,this.j=0}return r.prototype.randomNative=function(){this.i=(this.i+1)%u,this.j=(this.j+this.s[this.i])%u;var a=this.s[this.i];this.s[this.i]=this.s[this.j],this.s[this.j]=a;var l=this.s[(this.s[this.i]+this.s[this.j])%u];return l},r.prototype.randomUInt32=function(){var a=this.randomByte(),l=this.randomByte(),f=this.randomByte(),b=this.randomByte();return 256*(256*(256*a+l)+f)+b},r.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},r.prototype.random=function(){var a,l;if(arguments.length===1)a=0,l=arguments[0];else if(arguments.length===2)a=arguments[0],l=arguments[1];else throw new TypeError("random takes one or two integer arguments");if(!p(a)||!p(l))throw new TypeError("random takes one or two integer arguments");return a+this.randomUInt32()%(l-a+1)},r.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},r.prototype.setState=function(a){var l=a.s,f=a.i,b=a.j;if(!(f===(0|f)&&0<=f&&f<u))throw new Error("state.i should be integer [0, "+(u-1)+"]");if(!(b===(0|b)&&0<=b&&b<u))throw new Error("state.j should be integer [0, "+(u-1)+"]");if(!Array.isArray(l)||l.length!==u)throw new Error("state should be array of length "+u);for(var C=0;C<u;C++)if(l.indexOf(C)===-1)throw new Error("state should be permutation of 0.."+(u-1)+": "+C+" is missing");this.i=f,this.j=b,this.s=l.slice()},r}function v(u){return 10>u?g(48+u):g(97+u-10)}function h(u){return parseInt(u,16)}var e=w(256);e.prototype.randomByte=e.prototype.randomNative;var o=w(16);o.prototype.randomByte=function(){var u=this.randomNative(),s=this.randomNative();return 16*u+s};var i=97,c=48;o.prototype.currentStateString=function(){var u=this.currentState(),s=v(u.i),t=v(u.j),r=s+t+u.s.map(v).join("");return r},o.prototype.setStateString=function(u){if(!u.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var s=h(u[0]),t=h(u[1]),r=u.split("").slice(2).map(h);this.setState({i:s,j:t,s:r})},e.RC4small=o,U.exports=e},{}],214:[function(m,U,A){"use strict";function p(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}function w(c,u,s){function t(a,l,f){return typeof u=="string"?u:u(a,l,f)}s||(s=Error);var r=(function(a){function l(f,b,C){return a.call(this,t(f,b,C))||this}return p(l,a),l})(s);r.prototype.name=s.name,r.prototype.code=c,i[c]=r}function v(c,u){if(Array.isArray(c)){var s=c.length;return c=c.map(function(t){return t+""}),2<s?"one of ".concat(u," ").concat(c.slice(0,s-1).join(", "),", or ")+c[s-1]:s===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}return"of ".concat(u," ").concat(c+"")}function h(c,u,s){return c.substr(!s||0>s?0:+s,u.length)===u}function e(c,u,s){return(s===void 0||s>c.length)&&(s=c.length),c.substring(s-u.length,s)===u}function o(c,u,s){return typeof s!="number"&&(s=0),!(s+u.length>c.length)&&c.indexOf(u,s)!==-1}var i={};w("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),w("ERR_INVALID_ARG_TYPE",function(c,u,s){var t;typeof u=="string"&&h(u,"not ")?(t="must not be",u=u.replace(/^not /,"")):t="must be";var r;if(e(c," argument"))r="The ".concat(c," ").concat(t," ").concat(v(u,"type"));else{var a=o(c,".")?"property":"argument";r='The "'.concat(c,'" ').concat(a," ").concat(t," ").concat(v(u,"type"))}return r+=". Received type ".concat(typeof s),r},TypeError),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),w("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),w("ERR_STREAM_PREMATURE_CLOSE","Premature close"),w("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),w("ERR_STREAM_WRITE_AFTER_END","write after end"),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.codes=i},{}],215:[function(m,U,A){(function(p){(function(){"use strict";function w(t){return this instanceof w?(o.call(this,t),i.call(this,t),this.allowHalfOpen=!0,void(t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v))))):new w(t)}function v(){this._writableState.ended||p.nextTick(h,this)}function h(t){t.end()}var e=Object.keys||function(t){var r=[];for(var a in t)r.push(a);return r};U.exports=w;var o=m("./_stream_readable"),i=m("./_stream_writable");m("inherits")(w,o);for(var c=e(i.prototype),u=0,s;u<c.length;u++)s=c[u],w.prototype[s]||(w.prototype[s]=i.prototype[s]);Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=r,this._writableState.destroyed=r)}})}).call(this)}).call(this,m("_process"))},{"./_stream_readable":217,"./_stream_writable":219,_process:193,inherits:147}],216:[function(m,U,A){"use strict";function p(v){return this instanceof p?void w.call(this,v):new p(v)}U.exports=p;var w=m("./_stream_transform");m("inherits")(p,w),p.prototype._transform=function(v,h,e){e(null,v)}},{"./_stream_transform":218,inherits:147}],217:[function(m,U,A){(function(p,w){(function(){"use strict";function v(ce){return j.from(ce)}function h(ce){return j.isBuffer(ce)||ce instanceof Z}function e(ce,G,te){return typeof ce.prependListener=="function"?ce.prependListener(G,te):void(ce._events&&ce._events[G]?Array.isArray(ce._events[G])?ce._events[G].unshift(te):ce._events[G]=[te,ce._events[G]]:ce.on(G,te))}function o(ce,G,te){B=B||m("./_stream_duplex"),ce=ce||{},typeof te!="boolean"&&(te=G instanceof B),this.objectMode=!!ce.objectMode,te&&(this.objectMode=this.objectMode||!!ce.readableObjectMode),this.highWaterMark=ke(this,ce,"readableHighWaterMark",te),this.buffer=new le,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.destroyed=!1,this.defaultEncoding=ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ce.encoding&&(!ct&&(ct=m("string_decoder/").StringDecoder),this.decoder=new ct(ce.encoding),this.encoding=ce.encoding)}function i(ce){if(B=B||m("./_stream_duplex"),!(this instanceof i))return new i(ce);var G=this instanceof B;this._readableState=new o(ce,this,G),this.readable=!0,ce&&(typeof ce.read=="function"&&(this._read=ce.read),typeof ce.destroy=="function"&&(this._destroy=ce.destroy)),E.call(this)}function c(ce,G,te,de,_e){q("readableAddChunk",G);var Pe=ce._readableState;if(G===null)Pe.reading=!1,a(ce,Pe);else{var ze;if(_e||(ze=s(Pe,G)),ze)Ze(ce,ze);else if(!(Pe.objectMode||G&&0<G.length))de||(Pe.reading=!1,b(ce,Pe));else if(typeof G=="string"||Pe.objectMode||Object.getPrototypeOf(G)===j.prototype||(G=v(G)),de)Pe.endEmitted?Ze(ce,new bt):u(ce,Pe,G,!0);else if(Pe.ended)Ze(ce,new qe);else{if(Pe.destroyed)return!1;Pe.reading=!1,Pe.decoder&&!te?(G=Pe.decoder.write(G),Pe.objectMode||G.length!==0?u(ce,Pe,G,!1):b(ce,Pe)):u(ce,Pe,G,!1)}}return!Pe.ended&&(Pe.length<Pe.highWaterMark||Pe.length===0)}function u(ce,G,te,de){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,ce.emit("data",te)):(G.length+=G.objectMode?1:te.length,de?G.buffer.unshift(te):G.buffer.push(te),G.needReadable&&l(ce)),b(ce,G)}function s(ce,G){var te;return h(G)||typeof G=="string"||G===void 0||ce.objectMode||(te=new $e("chunk",["string","Buffer","Uint8Array"],G)),te}function t(ce){return 1073741824<=ce?ce=1073741824:(ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++),ce}function r(ce,G){return 0>=ce||G.length===0&&G.ended?0:G.objectMode?1:ce===ce?(ce>G.highWaterMark&&(G.highWaterMark=t(ce)),ce<=G.length?ce:G.ended?G.length:(G.needReadable=!0,0)):G.flowing&&G.length?G.buffer.head.data.length:G.length}function a(ce,G){if(q("onEofChunk"),!G.ended){if(G.decoder){var te=G.decoder.end();te&&te.length&&(G.buffer.push(te),G.length+=G.objectMode?1:te.length)}G.ended=!0,G.sync?l(ce):(G.needReadable=!1,!G.emittedReadable&&(G.emittedReadable=!0,f(ce)))}}function l(ce){var G=ce._readableState;q("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(q("emitReadable",G.flowing),G.emittedReadable=!0,p.nextTick(f,ce))}function f(ce){var G=ce._readableState;q("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(ce.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,ee(ce)}function b(ce,G){G.readingMore||(G.readingMore=!0,p.nextTick(C,ce,G))}function C(ce,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var te=G.length;if(q("maybeReadMore read 0"),ce.read(0),te===G.length)break}G.readingMore=!1}function $(ce){return function(){var te=ce._readableState;q("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&z(ce,"data")&&(te.flowing=!0,ee(ce))}}function W(ce){var G=ce._readableState;G.readableListening=0<ce.listenerCount("readable"),G.resumeScheduled&&!G.paused?G.flowing=!0:0<ce.listenerCount("data")&&ce.resume()}function R(ce){q("readable nexttick read 0"),ce.read(0)}function L(ce,G){G.resumeScheduled||(G.resumeScheduled=!0,p.nextTick(Y,ce,G))}function Y(ce,G){q("resume",G.reading),G.reading||ce.read(0),G.resumeScheduled=!1,ce.emit("resume"),ee(ce),G.flowing&&!G.reading&&ce.read(0)}function ee(ce){var G=ce._readableState;for(q("flow",G.flowing);G.flowing&&ce.read()!==null;);}function ae(ce,G){if(G.length===0)return null;var te;return G.objectMode?te=G.buffer.shift():!ce||ce>=G.length?(te=G.decoder?G.buffer.join(""):G.buffer.length===1?G.buffer.first():G.buffer.concat(G.length),G.buffer.clear()):te=G.buffer.consume(ce,G.decoder),te}function fe(ce){var G=ce._readableState;q("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,p.nextTick(xe,G,ce))}function xe(ce,G){if(q("endReadableNT",ce.endEmitted,ce.length),!ce.endEmitted&&ce.length===0&&(ce.endEmitted=!0,G.readable=!1,G.emit("end"),ce.autoDestroy)){var te=G._writableState;(!te||te.autoDestroy&&te.finished)&&G.destroy()}}function se(ce,G){for(var te=0,de=ce.length;te<de;te++)if(ce[te]===G)return te;return-1}U.exports=i;var B;i.ReadableState=o;var K=m("events").EventEmitter,z=function(G,te){return G.listeners(te).length},E=m("./internal/streams/stream"),j=m("buffer").Buffer,Z=w.Uint8Array||function(){},oe=m("util"),q;q=oe&&oe.debuglog?oe.debuglog("stream"):function(){};var le=m("./internal/streams/buffer_list"),ge=m("./internal/streams/destroy"),Re=m("./internal/streams/state"),ke=Re.getHighWaterMark,De=m("../errors").codes,$e=De.ERR_INVALID_ARG_TYPE,qe=De.ERR_STREAM_PUSH_AFTER_EOF,nt=De.ERR_METHOD_NOT_IMPLEMENTED,bt=De.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ct,Me,Ge;m("inherits")(i,E);var Ze=ge.errorOrDestroy,ft=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),i.prototype.destroy=ge.destroy,i.prototype._undestroy=ge.undestroy,i.prototype._destroy=function(ce,G){G(ce)},i.prototype.push=function(ce,G){var te=this._readableState,de;return te.objectMode?de=!0:typeof ce=="string"&&(G=G||te.defaultEncoding,G!==te.encoding&&(ce=j.from(ce,G),G=""),de=!0),c(this,ce,G,!1,de)},i.prototype.unshift=function(ce){return c(this,ce,null,!0,!1)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(ce){ct||(ct=m("string_decoder/").StringDecoder);var G=new ct(ce);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,de="";te!==null;)de+=G.write(te.data),te=te.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var Mt=1073741824;i.prototype.read=function(ce){q("read",ce),ce=parseInt(ce,10);var G=this._readableState,te=ce;if(ce!==0&&(G.emittedReadable=!1),ce===0&&G.needReadable&&((G.highWaterMark===0?0<G.length:G.length>=G.highWaterMark)||G.ended))return q("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?fe(this):l(this),null;if(ce=r(ce,G),ce===0&&G.ended)return G.length===0&&fe(this),null;var de=G.needReadable;q("need readable",de),(G.length===0||G.length-ce<G.highWaterMark)&&(de=!0,q("length less than watermark",de)),G.ended||G.reading?(de=!1,q("reading or ended",de)):de&&(q("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,!G.reading&&(ce=r(te,G)));var _e;return _e=0<ce?ae(ce,G):null,_e===null?(G.needReadable=G.length<=G.highWaterMark,ce=0):(G.length-=ce,G.awaitDrain=0),G.length===0&&(!G.ended&&(G.needReadable=!0),te!==ce&&G.ended&&fe(this)),_e!==null&&this.emit("data",_e),_e},i.prototype._read=function(ce){Ze(this,new nt("_read()"))},i.prototype.pipe=function(ce,G){function te(Wt,Yt){q("onunpipe"),Wt===et&&Yt&&Yt.hasUnpiped===!1&&(Yt.hasUnpiped=!0,_e())}function de(){q("onend"),ce.end()}function _e(){q("cleanup"),ce.removeListener("close",Ue),ce.removeListener("finish",yt),ce.removeListener("drain",vn),ce.removeListener("error",ze),ce.removeListener("unpipe",te),et.removeListener("end",de),et.removeListener("end",mt),et.removeListener("data",Pe),St=!0,Dt.awaitDrain&&(!ce._writableState||ce._writableState.needDrain)&&vn()}function Pe(Wt){q("ondata");var Yt=ce.write(Wt);q("dest.write",Yt),Yt===!1&&((Dt.pipesCount===1&&Dt.pipes===ce||1<Dt.pipesCount&&se(Dt.pipes,ce)!==-1)&&!St&&(q("false write response, pause",Dt.awaitDrain),Dt.awaitDrain++),et.pause())}function ze(Wt){q("onerror",Wt),mt(),ce.removeListener("error",ze),z(ce,"error")===0&&Ze(ce,Wt)}function Ue(){ce.removeListener("finish",yt),mt()}function yt(){q("onfinish"),ce.removeListener("close",Ue),mt()}function mt(){q("unpipe"),et.unpipe(ce)}var et=this,Dt=this._readableState;switch(Dt.pipesCount){case 0:Dt.pipes=ce;break;case 1:Dt.pipes=[Dt.pipes,ce];break;default:Dt.pipes.push(ce)}Dt.pipesCount+=1,q("pipe count=%d opts=%j",Dt.pipesCount,G);var wt=(!G||G.end!==!1)&&ce!==p.stdout&&ce!==p.stderr,Lt=wt?de:mt;Dt.endEmitted?p.nextTick(Lt):et.once("end",Lt),ce.on("unpipe",te);var vn=$(et);ce.on("drain",vn);var St=!1;return et.on("data",Pe),e(ce,"error",ze),ce.once("close",Ue),ce.once("finish",yt),ce.emit("pipe",et),Dt.flowing||(q("pipe resume"),et.resume()),ce},i.prototype.unpipe=function(ce){var G=this._readableState,te={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return ce&&ce!==G.pipes?this:(ce||(ce=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,ce&&ce.emit("unpipe",this,te),this);if(!ce){var de=G.pipes,_e=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var Pe=0;Pe<_e;Pe++)de[Pe].emit("unpipe",this,{hasUnpiped:!1});return this}var ze=se(G.pipes,ce);return ze===-1?this:(G.pipes.splice(ze,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),ce.emit("unpipe",this,te),this)},i.prototype.on=function(ce,G){var te=E.prototype.on.call(this,ce,G),de=this._readableState;return ce==="data"?(de.readableListening=0<this.listenerCount("readable"),de.flowing!==!1&&this.resume()):ce=="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,q("on readable",de.length,de.reading),de.length?l(this):!de.reading&&p.nextTick(R,this)),te},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(ce,G){var te=E.prototype.removeListener.call(this,ce,G);return ce==="readable"&&p.nextTick(W,this),te},i.prototype.removeAllListeners=function(ce){var G=E.prototype.removeAllListeners.apply(this,arguments);return(ce==="readable"||ce===void 0)&&p.nextTick(W,this),G},i.prototype.resume=function(){var ce=this._readableState;return ce.flowing||(q("resume"),ce.flowing=!ce.readableListening,L(this,ce)),ce.paused=!1,this},i.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},i.prototype.wrap=function(ce){var G=this,te=this._readableState,de=!1;for(var _e in ce.on("end",function(){if(q("wrapped end"),te.decoder&&!te.ended){var ze=te.decoder.end();ze&&ze.length&&G.push(ze)}G.push(null)}),ce.on("data",function(ze){if(q("wrapped data"),te.decoder&&(ze=te.decoder.write(ze)),!(te.objectMode&&ze==null)&&(te.objectMode||ze&&ze.length)){var Ue=G.push(ze);Ue||(de=!0,ce.pause())}}),ce)this[_e]===void 0&&typeof ce[_e]=="function"&&(this[_e]=(function(Ue){return function(){return ce[Ue].apply(ce,arguments)}})(_e));for(var Pe=0;Pe<ft.length;Pe++)ce.on(ft[Pe],this.emit.bind(this,ft[Pe]));return this._read=function(ze){q("wrapped _read",ze),de&&(de=!1,ce.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return Me===void 0&&(Me=m("./internal/streams/async_iterator")),Me(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),i._fromList=ae,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(i.from=function(ce,G){return Ge===void 0&&(Ge=m("./internal/streams/from")),Ge(i,ce,G)})}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"../errors":214,"./_stream_duplex":215,"./internal/streams/async_iterator":220,"./internal/streams/buffer_list":221,"./internal/streams/destroy":222,"./internal/streams/from":224,"./internal/streams/state":226,"./internal/streams/stream":227,_process:193,buffer:76,events:123,inherits:147,"string_decoder/":265,util:42}],218:[function(m,U,A){"use strict";function p(t,r){var a=this._transformState;a.transforming=!1;var l=a.writecb;if(l===null)return this.emit("error",new i);a.writechunk=null,a.writecb=null,r!=null&&this.push(r),l(t);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function w(t){return this instanceof w?(s.call(this,t),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),void this.on("prefinish",v)):new w(t)}function v(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(r,a){h(t,r,a)})}function h(t,r,a){if(r)return t.emit("error",r);if(a!=null&&t.push(a),t._writableState.length)throw new u;if(t._transformState.transforming)throw new c;return t.push(null)}U.exports=w;var e=m("../errors").codes,o=e.ERR_METHOD_NOT_IMPLEMENTED,i=e.ERR_MULTIPLE_CALLBACK,c=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=e.ERR_TRANSFORM_WITH_LENGTH_0,s=m("./_stream_duplex");m("inherits")(w,s),w.prototype.push=function(t,r){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,r)},w.prototype._transform=function(t,r,a){a(new o("_transform()"))},w.prototype._write=function(t,r,a){var l=this._transformState;if(l.writecb=a,l.writechunk=t,l.writeencoding=r,!l.transforming){var f=this._readableState;(l.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},w.prototype._read=function(t){var r=this._transformState;r.writechunk===null||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},w.prototype._destroy=function(t,r){s.prototype._destroy.call(this,t,function(a){r(a)})}},{"../errors":214,"./_stream_duplex":215,inherits:147}],219:[function(m,U,A){(function(p,w){(function(){"use strict";function v(Me,Ge,Ze){this.chunk=Me,this.encoding=Ge,this.callback=Ze,this.next=null}function h(Me){var Ge=this;this.next=null,this.entry=null,this.finish=function(){xe(Ge,Me)}}function e(Me){return z.from(Me)}function o(Me){return z.isBuffer(Me)||Me instanceof E}function i(){}function c(Me,Ge,Ze){se=se||m("./_stream_duplex"),Me=Me||{},typeof Ze!="boolean"&&(Ze=Ge instanceof se),this.objectMode=!!Me.objectMode,Ze&&(this.objectMode=this.objectMode||!!Me.writableObjectMode),this.highWaterMark=oe(this,Me,"writableHighWaterMark",Ze),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ft=Me.decodeStrings===!1;this.decodeStrings=!ft,this.defaultEncoding=Me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Mt){C(Ge,Mt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Me.emitClose!==!1,this.autoDestroy=!!Me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function u(Me){se=se||m("./_stream_duplex");var Ge=this instanceof se;return Ge||ct.call(u,this)?(this._writableState=new c(Me,this,Ge),this.writable=!0,Me&&(typeof Me.write=="function"&&(this._write=Me.write),typeof Me.writev=="function"&&(this._writev=Me.writev),typeof Me.destroy=="function"&&(this._destroy=Me.destroy),typeof Me.final=="function"&&(this._final=Me.final)),void K.call(this)):new u(Me)}function s(Me,Ge){var Ze=new qe;bt(Me,Ze),p.nextTick(Ge,Ze)}function t(Me,Ge,Ze,ft){var Mt;return Ze===null?Mt=new $e:typeof Ze!="string"&&!Ge.objectMode&&(Mt=new le("chunk",["string","Buffer"],Ze)),!Mt||(bt(Me,Mt),p.nextTick(ft,Mt),!1)}function r(Me,Ge,Ze){return Me.objectMode||Me.decodeStrings===!1||typeof Ge!="string"||(Ge=z.from(Ge,Ze)),Ge}function a(Me,Ge,Ze,ft,Mt,ce){if(!Ze){var G=r(Ge,ft,Mt);ft!==G&&(Ze=!0,Mt="buffer",ft=G)}var te=Ge.objectMode?1:ft.length;Ge.length+=te;var de=Ge.length<Ge.highWaterMark;if(de||(Ge.needDrain=!0),Ge.writing||Ge.corked){var _e=Ge.lastBufferedRequest;Ge.lastBufferedRequest={chunk:ft,encoding:Mt,isBuf:Ze,callback:ce,next:null},_e?_e.next=Ge.lastBufferedRequest:Ge.bufferedRequest=Ge.lastBufferedRequest,Ge.bufferedRequestCount+=1}else l(Me,Ge,!1,te,ft,Mt,ce);return de}function l(Me,Ge,Ze,ft,Mt,ce,G){Ge.writelen=ft,Ge.writecb=G,Ge.writing=!0,Ge.sync=!0,Ge.destroyed?Ge.onwrite(new De("write")):Ze?Me._writev(Mt,Ge.onwrite):Me._write(Mt,ce,Ge.onwrite),Ge.sync=!1}function f(Me,Ge,Ze,ft,Mt){--Ge.pendingcb,Ze?(p.nextTick(Mt,ft),p.nextTick(ae,Me,Ge),Me._writableState.errorEmitted=!0,bt(Me,ft)):(Mt(ft),Me._writableState.errorEmitted=!0,bt(Me,ft),ae(Me,Ge))}function b(Me){Me.writing=!1,Me.writecb=null,Me.length-=Me.writelen,Me.writelen=0}function C(Me,Ge){var Ze=Me._writableState,ft=Ze.sync,Mt=Ze.writecb;if(typeof Mt!="function")throw new Re;if(b(Ze),Ge)f(Me,Ze,ft,Ge,Mt);else{var ce=L(Ze)||Me.destroyed;ce||Ze.corked||Ze.bufferProcessing||!Ze.bufferedRequest||R(Me,Ze),ft?p.nextTick($,Me,Ze,ce,Mt):$(Me,Ze,ce,Mt)}}function $(Me,Ge,Ze,ft){Ze||W(Me,Ge),Ge.pendingcb--,ft(),ae(Me,Ge)}function W(Me,Ge){Ge.length===0&&Ge.needDrain&&(Ge.needDrain=!1,Me.emit("drain"))}function R(Me,Ge){Ge.bufferProcessing=!0;var Ze=Ge.bufferedRequest;if(Me._writev&&Ze&&Ze.next){var ft=Ge.bufferedRequestCount,Mt=Array(ft),ce=Ge.corkedRequestsFree;ce.entry=Ze;for(var G=0,te=!0;Ze;)Mt[G]=Ze,Ze.isBuf||(te=!1),Ze=Ze.next,G+=1;Mt.allBuffers=te,l(Me,Ge,!0,Ge.length,Mt,"",ce.finish),Ge.pendingcb++,Ge.lastBufferedRequest=null,ce.next?(Ge.corkedRequestsFree=ce.next,ce.next=null):Ge.corkedRequestsFree=new h(Ge),Ge.bufferedRequestCount=0}else{for(;Ze;){var de=Ze.chunk,_e=Ze.encoding,Pe=Ze.callback,ze=Ge.objectMode?1:de.length;if(l(Me,Ge,!1,ze,de,_e,Pe),Ze=Ze.next,Ge.bufferedRequestCount--,Ge.writing)break}Ze===null&&(Ge.lastBufferedRequest=null)}Ge.bufferedRequest=Ze,Ge.bufferProcessing=!1}function L(Me){return Me.ending&&Me.length===0&&Me.bufferedRequest===null&&!Me.finished&&!Me.writing}function Y(Me,Ge){Me._final(function(Ze){Ge.pendingcb--,Ze&&bt(Me,Ze),Ge.prefinished=!0,Me.emit("prefinish"),ae(Me,Ge)})}function ee(Me,Ge){Ge.prefinished||Ge.finalCalled||(typeof Me._final!="function"||Ge.destroyed?(Ge.prefinished=!0,Me.emit("prefinish")):(Ge.pendingcb++,Ge.finalCalled=!0,p.nextTick(Y,Me,Ge)))}function ae(Me,Ge){var Ze=L(Ge);if(Ze&&(ee(Me,Ge),Ge.pendingcb===0&&(Ge.finished=!0,Me.emit("finish"),Ge.autoDestroy))){var ft=Me._readableState;(!ft||ft.autoDestroy&&ft.endEmitted)&&Me.destroy()}return Ze}function fe(Me,Ge,Ze){Ge.ending=!0,ae(Me,Ge),Ze&&(Ge.finished?p.nextTick(Ze):Me.once("finish",Ze)),Ge.ended=!0,Me.writable=!1}function xe(Me,Ge,Ze){var ft=Me.entry;for(Me.entry=null;ft;){var Mt=ft.callback;Ge.pendingcb--,Mt(Ze),ft=ft.next}Ge.corkedRequestsFree.next=Me}U.exports=u;var se;u.WritableState=c;var B={deprecate:m("util-deprecate")},K=m("./internal/streams/stream"),z=m("buffer").Buffer,E=w.Uint8Array||function(){},j=m("./internal/streams/destroy"),Z=m("./internal/streams/state"),oe=Z.getHighWaterMark,q=m("../errors").codes,le=q.ERR_INVALID_ARG_TYPE,ge=q.ERR_METHOD_NOT_IMPLEMENTED,Re=q.ERR_MULTIPLE_CALLBACK,ke=q.ERR_STREAM_CANNOT_PIPE,De=q.ERR_STREAM_DESTROYED,$e=q.ERR_STREAM_NULL_VALUES,qe=q.ERR_STREAM_WRITE_AFTER_END,nt=q.ERR_UNKNOWN_ENCODING,bt=j.errorOrDestroy;m("inherits")(u,K),c.prototype.getBuffer=function(){for(var Ge=this.bufferedRequest,Ze=[];Ge;)Ze.push(Ge),Ge=Ge.next;return Ze},(function(){try{Object.defineProperty(c.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ct;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ct=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(Ge){return!!ct.call(this,Ge)||this===u&&Ge&&Ge._writableState instanceof c}})):ct=function(Ge){return Ge instanceof this},u.prototype.pipe=function(){bt(this,new ke)},u.prototype.write=function(Me,Ge,Ze){var ft=this._writableState,Mt=!1,ce=!ft.objectMode&&o(Me);return ce&&!z.isBuffer(Me)&&(Me=e(Me)),typeof Ge=="function"&&(Ze=Ge,Ge=null),ce?Ge="buffer":!Ge&&(Ge=ft.defaultEncoding),typeof Ze!="function"&&(Ze=i),ft.ending?s(this,Ze):(ce||t(this,ft,Me,Ze))&&(ft.pendingcb++,Mt=a(this,ft,ce,Me,Ge,Ze)),Mt},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var Me=this._writableState;Me.corked&&(Me.corked--,!Me.writing&&!Me.corked&&!Me.bufferProcessing&&Me.bufferedRequest&&R(this,Me))},u.prototype.setDefaultEncoding=function(Ge){if(typeof Ge=="string"&&(Ge=Ge.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ge+"").toLowerCase())))throw new nt(Ge);return this._writableState.defaultEncoding=Ge,this},Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(Me,Ge,Ze){Ze(new ge("_write()"))},u.prototype._writev=null,u.prototype.end=function(Me,Ge,Ze){var ft=this._writableState;return typeof Me=="function"?(Ze=Me,Me=null,Ge=null):typeof Ge=="function"&&(Ze=Ge,Ge=null),Me!=null&&this.write(Me,Ge),ft.corked&&(ft.corked=1,this.uncork()),ft.ending||fe(this,ft,Ze),this},Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ge){this._writableState&&(this._writableState.destroyed=Ge)}}),u.prototype.destroy=j.destroy,u.prototype._undestroy=j.undestroy,u.prototype._destroy=function(Me,Ge){Ge(Me)}}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"../errors":214,"./_stream_duplex":215,"./internal/streams/destroy":222,"./internal/streams/state":226,"./internal/streams/stream":227,_process:193,buffer:76,inherits:147,"util-deprecate":277}],220:[function(m,U,A){(function(p){(function(){"use strict";function w(W,R,L){return R in W?Object.defineProperty(W,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):W[R]=L,W}function v(W,R){return{value:W,done:R}}function h(W){var R=W[c];if(R!==null){var L=W[l].read();L!==null&&(W[r]=null,W[c]=null,W[u]=null,R(v(L,!1)))}}function e(W){p.nextTick(h,W)}function o(W,R){return function(L,Y){W.then(function(){return R[t]?void L(v(void 0,!0)):void R[a](L,Y)},Y)}}var i=m("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),a=Symbol("handlePromise"),l=Symbol("stream"),f=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf(($={get stream(){return this[l]},next:function(){var R=this,L=this[s];if(L!==null)return Promise.reject(L);if(this[t])return Promise.resolve(v(void 0,!0));if(this[l].destroyed)return new Promise(function(fe,xe){p.nextTick(function(){R[s]?xe(R[s]):fe(v(void 0,!0))})});var Y=this[r],ee;if(Y)ee=new Promise(o(Y,this));else{var ae=this[l].read();if(ae!==null)return Promise.resolve(v(ae,!1));ee=new Promise(this[a])}return this[r]=ee,ee}},w($,Symbol.asyncIterator,function(){return this}),w($,"return",function(){var R=this;return new Promise(function(L,Y){R[l].destroy(null,function(ee){return ee?void Y(ee):void L(v(void 0,!0))})})}),$),f),C=function(R){var L=Object.create(b,(Y={},w(Y,l,{value:R,writable:!0}),w(Y,c,{value:null,writable:!0}),w(Y,u,{value:null,writable:!0}),w(Y,s,{value:null,writable:!0}),w(Y,t,{value:R._readableState.endEmitted,writable:!0}),w(Y,a,{value:function(ae,fe){var xe=L[l].read();xe?(L[r]=null,L[c]=null,L[u]=null,ae(v(xe,!1))):(L[c]=ae,L[u]=fe)},writable:!0}),Y)),Y;return L[r]=null,i(R,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ae=L[u];return ae!==null&&(L[r]=null,L[c]=null,L[u]=null,ae(ee)),void(L[s]=ee)}var fe=L[c];fe!==null&&(L[r]=null,L[c]=null,L[u]=null,fe(v(void 0,!0))),L[t]=!0}),R.on("readable",e.bind(null,L)),L},$;U.exports=C}).call(this)}).call(this,m("_process"))},{"./end-of-stream":223,_process:193}],221:[function(m,U,A){"use strict";function p(a,l){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(a);l&&(b=b.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),f.push.apply(f,b)}return f}function w(a){for(var l=1,f;l<arguments.length;l++)f=arguments[l]==null?{}:arguments[l],l%2?p(Object(f),!0).forEach(function(b){v(a,b,f[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):p(Object(f)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(f,b))});return a}function v(a,l,f){return l in a?Object.defineProperty(a,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[l]=f,a}function h(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function e(a,l){for(var f=0,b;f<l.length;f++)b=l[f],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}function o(a,l,f){return l&&e(a.prototype,l),f&&e(a,f),a}function i(a,l,f){u.prototype.copy.call(a,l,f)}var c=m("buffer"),u=c.Buffer,s=m("util"),t=s.inspect,r=t&&t.custom||"inspect";U.exports=(function(){function a(){h(this,a),this.head=null,this.tail=null,this.length=0}return o(a,[{key:"push",value:function(f){var b={data:f,next:null};0<this.length?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(f){var b={data:f,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var b=this.head,C=""+b.data;b=b.next;)C+=f+b.data;return C}},{key:"concat",value:function(f){if(this.length===0)return u.alloc(0);for(var b=u.allocUnsafe(f>>>0),C=this.head,$=0;C;)i(C.data,b,$),$+=C.data.length,C=C.next;return b}},{key:"consume",value:function(f,b){var C;return f<this.head.data.length?(C=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?C=this.shift():C=b?this._getString(f):this._getBuffer(f),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var b=this.head,C=1,$=b.data;for(f-=$.length;b=b.next;){var W=b.data,R=f>W.length?W.length:f;if($+=R===W.length?W:W.slice(0,f),f-=R,f===0){R===W.length?(++C,this.head=b.next?b.next:this.tail=null):(this.head=b,b.data=W.slice(R));break}++C}return this.length-=C,$}},{key:"_getBuffer",value:function(f){var b=u.allocUnsafe(f),C=this.head,$=1;for(C.data.copy(b),f-=C.data.length;C=C.next;){var W=C.data,R=f>W.length?W.length:f;if(W.copy(b,b.length-f,0,R),f-=R,f===0){R===W.length?(++$,this.head=C.next?C.next:this.tail=null):(this.head=C,C.data=W.slice(R));break}++$}return this.length-=$,b}},{key:r,value:function(f,b){return t(this,w({},b,{depth:0,customInspect:!1}))}}]),a})()},{buffer:76,util:42}],222:[function(m,U,A){(function(p){(function(){"use strict";function w(c,u){var s=this,t=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return t||r?(u?u(c):c&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,p.nextTick(o,this,c)):p.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(a){!u&&a?s._writableState?s._writableState.errorEmitted?p.nextTick(h,s):(s._writableState.errorEmitted=!0,p.nextTick(v,s,a)):p.nextTick(v,s,a):u?(p.nextTick(h,s),u(a)):p.nextTick(h,s)}),this)}function v(c,u){o(c,u),h(c)}function h(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(c,u){c.emit("error",u)}function i(c,u){var s=c._readableState,t=c._writableState;s&&s.autoDestroy||t&&t.autoDestroy?c.destroy(u):c.emit("error",u)}U.exports={destroy:w,undestroy:e,errorOrDestroy:i}}).call(this)}).call(this,m("_process"))},{_process:193}],223:[function(m,U,A){"use strict";function p(o){var i=!1;return function(){if(!i){i=!0;for(var c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];o.apply(this,u)}}}function w(){}function v(o){return o.setHeader&&typeof o.abort=="function"}function h(o,i,c){if(typeof i=="function")return h(o,null,i);i||(i={}),c=p(c||w);var u=i.readable||i.readable!==!1&&o.readable,s=i.writable||i.writable!==!1&&o.writable,t=function(){o.writable||a()},r=o._writableState&&o._writableState.finished,a=function(){s=!1,r=!0,u||c.call(o)},l=o._readableState&&o._readableState.endEmitted,f=function(){u=!1,l=!0,s||c.call(o)},b=function(R){c.call(o,R)},C=function(){var R;return u&&!l?(o._readableState&&o._readableState.ended||(R=new e),c.call(o,R)):s&&!r?(o._writableState&&o._writableState.ended||(R=new e),c.call(o,R)):void 0},$=function(){o.req.on("finish",a)};return v(o)?(o.on("complete",a),o.on("abort",C),o.req?$():o.on("request",$)):s&&!o._writableState&&(o.on("end",t),o.on("close",t)),o.on("end",f),o.on("finish",a),i.error!==!1&&o.on("error",b),o.on("close",C),function(){o.removeListener("complete",a),o.removeListener("abort",C),o.removeListener("request",$),o.req&&o.req.removeListener("finish",a),o.removeListener("end",t),o.removeListener("close",t),o.removeListener("finish",a),o.removeListener("end",f),o.removeListener("error",b),o.removeListener("close",C)}}var e=m("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;U.exports=h},{"../../../errors":214}],224:[function(m,U,A){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],225:[function(m,U,A){"use strict";function p(a){var l=!1;return function(){l||(l=!0,a.apply(void 0,arguments))}}function w(a){if(a)throw a}function v(a){return a.setHeader&&typeof a.abort=="function"}function h(a,l,f,b){b=p(b);var C=!1;a.on("close",function(){C=!0}),r===void 0&&(r=m("./end-of-stream")),r(a,{readable:l,writable:f},function(W){return W?b(W):(C=!0,void b())});var $=!1;return function(W){if(!C)return $?void 0:($=!0,v(a)?a.abort():typeof a.destroy=="function"?a.destroy():void b(W||new t("pipe")))}}function e(a){a()}function o(a,l){return a.pipe(l)}function i(a){return a.length&&typeof a[a.length-1]=="function"?a.pop():w}function c(){for(var a=arguments.length,l=Array(a),f=0;f<a;f++)l[f]=arguments[f];var b=i(l);if(Array.isArray(l[0])&&(l=l[0]),2>l.length)throw new s("streams");var C=l.map(function(W,R){var L=R<l.length-1,Y=0<R;return h(W,L,Y,function(ee){$||($=ee),ee&&C.forEach(e),L||(C.forEach(e),b($))})}),$;return l.reduce(o)}var u=m("../../../errors").codes,s=u.ERR_MISSING_ARGS,t=u.ERR_STREAM_DESTROYED,r;U.exports=c},{"../../../errors":214,"./end-of-stream":223}],226:[function(m,U,A){"use strict";function p(h,e,o){return h.highWaterMark==null?e?h[o]:null:h.highWaterMark}function w(h,e,o,i){var c=p(e,i,o);if(c!=null){if(!(isFinite(c)&&I(c)===c)||0>c){var u=i?o:"highWaterMark";throw new v(u,c)}return I(c)}return h.objectMode?16:16384}var v=m("../../../errors").codes.ERR_INVALID_OPT_VALUE;U.exports={getHighWaterMark:w}},{"../../../errors":214}],227:[function(m,U,A){U.exports=m("events").EventEmitter},{events:123}],228:[function(m,U,A){A=U.exports=m("./lib/_stream_readable.js"),A.Stream=A,A.Readable=A,A.Writable=m("./lib/_stream_writable.js"),A.Duplex=m("./lib/_stream_duplex.js"),A.Transform=m("./lib/_stream_transform.js"),A.PassThrough=m("./lib/_stream_passthrough.js"),A.finished=m("./lib/internal/streams/end-of-stream.js"),A.pipeline=m("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":215,"./lib/_stream_passthrough.js":216,"./lib/_stream_readable.js":217,"./lib/_stream_transform.js":218,"./lib/_stream_writable.js":219,"./lib/internal/streams/end-of-stream.js":223,"./lib/internal/streams/pipeline.js":225}],229:[function(m,U,A){function p(fe,xe,se,B){typeof se=="function"&&(B=se,se={}),se||(se={}),B||(B=()=>{}),e(fe),i(se),typeof xe=="string"&&(xe=document.querySelector(xe)),v(fe,K=>{if(xe.nodeName!==K.toUpperCase()){let z=r.extname(fe.name).toLowerCase();throw new Error(`Cannot render "${z}" inside a "${xe.nodeName.toLowerCase()}" element, expected "${K}"`)}return(K==="video"||K==="audio")&&c(xe,se),xe},se,B)}function w(fe,xe,se,B){function K(Z){return Z==="video"||Z==="audio"?z(Z):E(Z)}function z(Z){let oe=E(Z);return c(oe,se),xe.appendChild(oe),oe}function E(Z){let oe=document.createElement(Z);return xe.appendChild(oe),oe}function j(Z,oe){Z&&oe&&oe.remove(),B(Z,oe)}if(typeof se=="function"&&(B=se,se={}),se||(se={}),B||(B=()=>{}),e(fe),i(se),typeof xe=="string"&&(xe=document.querySelector(xe)),xe&&(xe.nodeName==="VIDEO"||xe.nodeName==="AUDIO"))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");v(fe,K,se,j)}function v(fe,xe,se,B){function K(){function $e(){u(`Use \`videostream\` package for ${fe.name}`),Me(),De.addEventListener("error",bt),De.addEventListener("loadstart",j),De.addEventListener("loadedmetadata",Z),new l(fe,De)}function qe(){u(`Use MediaSource API for ${fe.name}`),Me(),De.addEventListener("error",ct),De.addEventListener("loadstart",j),De.addEventListener("loadedmetadata",Z);let Ze=new t(De),ft=Ze.createWriteStream(o(fe.name));fe.createReadStream().pipe(ft),ke&&(De.currentTime=ke)}function nt(){u(`Use Blob URL for ${fe.name}`),Me(),De.addEventListener("error",ge),De.addEventListener("loadstart",j),De.addEventListener("loadedmetadata",Z),h(fe,(Ze,ft)=>Ze?ge(Ze):(De.src=ft,void(ke&&(De.currentTime=ke))))}function bt(Ze){u("videostream error: fallback to MediaSource API: %o",Ze.message||Ze),De.removeEventListener("error",bt),De.removeEventListener("loadedmetadata",Z),qe()}function ct(Ze){u("MediaSource API error: fallback to Blob URL: %o",Ze.message||Ze),z()&&(De.removeEventListener("error",ct),De.removeEventListener("loadedmetadata",Z),nt())}function Me(){De||(De=xe(Ge),De.addEventListener("progress",()=>{ke=De.currentTime}))}let Ge=b.includes(Re)?"video":"audio";ae?f.includes(Re)?$e():qe():nt()}function z(){return!(typeof fe.length=="number"&&fe.length>se.maxBlobLength)||(u("File length too large for Blob URL approach: %d (max: %d)",fe.length,se.maxBlobLength),ge(new Error(`File length too large for Blob URL approach: ${fe.length} (max: ${se.maxBlobLength})`)),!1)}function E($e){z()&&(De=xe($e),h(fe,(qe,nt)=>qe?ge(qe):(De.addEventListener("error",ge),De.addEventListener("loadstart",j),De.addEventListener("loadedmetadata",Z),void(De.src=nt))))}function j(){if(De.removeEventListener("loadstart",j),se.autoplay){let $e=De.play();typeof $e!="undefined"&&$e.catch(ge)}}function Z(){De.removeEventListener("loadedmetadata",Z),B(null,De)}function oe(){De=xe("img"),h(fe,($e,qe)=>$e?ge($e):(De.src=qe,De.alt=fe.name,void B(null,De)))}function q(){h(fe,($e,qe)=>$e?ge($e):(Re===".pdf"?(De=xe("object"),De.setAttribute("typemustmatch",!0),De.setAttribute("type","application/pdf"),De.setAttribute("data",qe)):(De=xe("iframe"),De.sandbox="allow-forms allow-scripts",De.src=qe),void B(null,De)))}function le(){function $e(){s(qe)?(u('File extension "%s" appears ascii, so will render.',Re),q()):(u('File extension "%s" appears non-ascii, will not render.',Re),B(new Error(`Unsupported file type "${Re}": Cannot append to DOM`)))}u('Unknown file extension "%s" - will attempt to render into iframe',Re);let qe="";fe.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",nt=>{qe+=nt}).on("end",$e).on("error",B)}function ge($e){$e.message=`Error rendering file "${fe.name}": ${$e.message}`,u($e.message),B($e)}let Re=r.extname(fe.name).toLowerCase(),ke=0,De;$.includes(Re)?K():W.includes(Re)?E("video"):R.includes(Re)?E("audio"):L.includes(Re)?oe():Y.includes(Re)?q():le()}function h(fe,xe){let se=r.extname(fe.name).toLowerCase();a(fe.createReadStream(),A.mime[se]).then(B=>xe(null,B),B=>xe(B))}function e(fe){if(fe==null)throw new Error("file cannot be null or undefined");if(typeof fe.name!="string")throw new Error("missing or invalid file.name property");if(typeof fe.createReadStream!="function")throw new Error("missing or invalid file.createReadStream property")}function o(fe){let xe=r.extname(fe).toLowerCase();return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[xe]}function i(fe){fe.autoplay==null&&(fe.autoplay=!1),fe.muted==null&&(fe.muted=!1),fe.controls==null&&(fe.controls=!0),fe.maxBlobLength==null&&(fe.maxBlobLength=ee)}function c(fe,xe){fe.autoplay=!!xe.autoplay,fe.muted=!!xe.muted,fe.controls=!!xe.controls}A.render=p,A.append=w,A.mime=m("./lib/mime.json");let u=m("debug")("render-media"),s=m("is-ascii"),t=m("mediasource"),r=m("path"),a=m("stream-to-blob-url"),l=m("videostream"),f=[".m4a",".m4b",".m4p",".m4v",".mp4"],b=[".m4v",".mkv",".mp4",".webm"],C=[".m4a",".m4b",".m4p",".mp3"],$=[].concat(b,C),W=[".mov",".ogv"],R=[".aac",".oga",".ogg",".wav",".flac"],L=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],Y=[".css",".html",".js",".md",".pdf",".srt",".txt"],ee=2e8,ae=typeof window!="undefined"&&window.MediaSource},{"./lib/mime.json":230,debug:91,"is-ascii":148,mediasource:160,path:185,"stream-to-blob-url":261,videostream:279}],230:[function(m,U,A){U.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],231:[function(m,U,A){"use strict";function p(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function w($,W){return $<<W|$>>>32-W}function v($,W,R,L,Y,ee,ae,fe){return 0|w(0|$+(W^R^L)+ee+ae,fe)+Y}function h($,W,R,L,Y,ee,ae,fe){return 0|w(0|$+(W&R|~W&L)+ee+ae,fe)+Y}function e($,W,R,L,Y,ee,ae,fe){return 0|w(0|$+((W|~R)^L)+ee+ae,fe)+Y}function o($,W,R,L,Y,ee,ae,fe){return 0|w(0|$+(W&L|R&~L)+ee+ae,fe)+Y}function i($,W,R,L,Y,ee,ae,fe){return 0|w(0|$+(W^(R|~L))+ee+ae,fe)+Y}var c=m("buffer").Buffer,u=m("inherits"),s=m("hash-base"),t=Array(16),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],b=[0,1518500249,1859775393,2400959708,2840853838],C=[1352829926,1548603684,1836072691,2053994217,0];u(p,s),p.prototype._update=function(){for(var $=t,W=0;16>W;++W)$[W]=this._block.readInt32LE(4*W);for(var R=0|this._a,L=0|this._b,Y=0|this._c,ee=0|this._d,ae=0|this._e,fe=0|this._a,xe=0|this._b,se=0|this._c,B=0|this._d,K=0|this._e,z=0;80>z;z+=1){var E,j;16>z?(E=v(R,L,Y,ee,ae,$[r[z]],b[0],l[z]),j=i(fe,xe,se,B,K,$[a[z]],C[0],f[z])):32>z?(E=h(R,L,Y,ee,ae,$[r[z]],b[1],l[z]),j=o(fe,xe,se,B,K,$[a[z]],C[1],f[z])):48>z?(E=e(R,L,Y,ee,ae,$[r[z]],b[2],l[z]),j=e(fe,xe,se,B,K,$[a[z]],C[2],f[z])):64>z?(E=o(R,L,Y,ee,ae,$[r[z]],b[3],l[z]),j=h(fe,xe,se,B,K,$[a[z]],C[3],f[z])):(E=i(R,L,Y,ee,ae,$[r[z]],b[4],l[z]),j=v(fe,xe,se,B,K,$[a[z]],C[4],f[z])),R=ae,ae=ee,ee=w(Y,10),Y=L,L=E,fe=K,K=B,B=w(se,10),se=xe,xe=j}var Z=0|this._b+Y+B;this._b=0|this._c+ee+K,this._c=0|this._d+ae+fe,this._d=0|this._e+R+xe,this._e=0|this._a+L+se,this._a=Z},p.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=c.alloc?c.alloc(20):new c(20);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$.writeInt32LE(this._e,16),$},U.exports=p},{buffer:76,"hash-base":130,inherits:147}],232:[function(m,U,A){function p(v,h,e){function o(f){function b(){e&&e(f,u),e=null}c?w(b):b()}function i(f,b,C){if(u[f]=C,b&&(a=!0),--t==0||b)o(b);else if(!a&&l<s){let $;r?($=r[l],l+=1,v[$](function(W,R){i($,W,R)})):($=l,l+=1,v[$](function(W,R){i($,W,R)}))}}if(typeof h!="number")throw new Error("second argument must be a Number");let c=!0,u,s,t,r,a,l;Array.isArray(v)?(u=[],t=s=v.length):(r=Object.keys(v),u={},t=s=r.length),l=h,t?r?r.some(function(f,b){return v[f](function(C,$){i(f,C,$)}),b===h-1}):v.some(function(f,b){return f(function(C,$){i(b,C,$)}),b===h-1}):o(null),c=!1}U.exports=p;let w=m("queue-microtask")},{"queue-microtask":206}],233:[function(m,U,A){function p(v,h){function e(t){function r(){h&&h(t,c),h=null}i?w(r):r()}function o(t,r,a){c[t]=a,(--u==0||r)&&e(r)}let i=!0,c,u,s;Array.isArray(v)?(c=[],u=v.length):(s=Object.keys(v),c={},u=s.length),u?s?s.forEach(function(t){v[t](function(r,a){o(t,r,a)})}):v.forEach(function(t,r){t(function(a,l){o(r,a,l)})}):e(null),i=!1}U.exports=p;let w=m("queue-microtask")},{"queue-microtask":206}],234:[function(m,U,A){(function(w,v){typeof A=="object"&&typeof U=="object"?U.exports=v():typeof pe=="function"&&pe.amd?pe([],v):typeof A=="object"?A.Rusha=v():w.Rusha=v()})(typeof self=="undefined"?this:self,function(){return(function(p){function w(h){if(v[h])return v[h].exports;var e=v[h]={i:h,l:!1,exports:{}};return p[h].call(e.exports,e,e.exports,w),e.l=!0,e.exports}var v={};return w.m=p,w.c=v,w.d=function(h,e,o){w.o(h,e)||Object.defineProperty(h,e,{configurable:!1,enumerable:!0,get:o})},w.n=function(h){var e=h&&h.__esModule?function(){return h.default}:function(){return h};return w.d(e,"a",e),e},w.o=function(h,e){return Object.prototype.hasOwnProperty.call(h,e)},w.p="",w(w.s=3)})([function(p,w,v){function h(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}var e=v(5),o=v(1),i=o.toHex,c=o.ceilHeapSize,u=v(6),s=function(f){for(f+=9;0<f%64;f+=1);return f},t=function(f,b){var C=new Uint8Array(f.buffer),$=b%4,W=b-$;switch($){case 0:C[W+3]=0;case 1:C[W+2]=0;case 2:C[W+1]=0;case 3:C[W+0]=0}for(var R=(b>>2)+1;R<f.length;R++)f[R]=0},r=function(f,b,C){f[b>>2]|=128<<24-(b%4<<3),f[(-16&(b>>2)+2)+14]=0|C/536870912,f[(-16&(b>>2)+2)+15]=C<<3},a=function(f,b){var C=new Int32Array(f,b+320,5),$=new Int32Array(5),W=new DataView($.buffer);return W.setInt32(0,C[0],!1),W.setInt32(4,C[1],!1),W.setInt32(8,C[2],!1),W.setInt32(12,C[3],!1),W.setInt32(16,C[4],!1),$},l=(function(){function f(b){if(h(this,f),b=b||65536,0<b%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=b,this._padMaxChunkLen=s(b),this._heap=new ArrayBuffer(c(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new e({Int32Array},{},this._heap)}return f.prototype._initState=function(C,$){this._offset=0;var W=new Int32Array(C,$+320,5);W[0]=1732584193,W[1]=-271733879,W[2]=-1732584194,W[3]=271733878,W[4]=-1009589776},f.prototype._padChunk=function(C,$){var W=s(C),R=new Int32Array(this._heap,0,W>>2);return t(R,C),r(R,C,$),W},f.prototype._write=function(C,$,W,R){u(C,this._h8,this._h32,$,W,R||0)},f.prototype._coreCall=function(C,$,W,R,L){var Y=W;this._write(C,$,W),L&&(Y=this._padChunk(W,R)),this._core.hash(Y,this._padMaxChunkLen)},f.prototype.rawDigest=function(C){var $=C.byteLength||C.length||C.size||0;this._initState(this._heap,this._padMaxChunkLen);var W=0,R=this._maxChunkLen;for(W=0;$>W+R;W+=R)this._coreCall(C,W,R,$,!1);return this._coreCall(C,W,$-W,$,!0),a(this._heap,this._padMaxChunkLen)},f.prototype.digest=function(C){return i(this.rawDigest(C).buffer)},f.prototype.digestFromString=function(C){return this.digest(C)},f.prototype.digestFromBuffer=function(C){return this.digest(C)},f.prototype.digestFromArrayBuffer=function(C){return this.digest(C)},f.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},f.prototype.append=function(C){var $=0,W=C.byteLength||C.length||C.size||0,R=this._offset%this._maxChunkLen,L=void 0;for(this._offset+=W;$<W;)L=J(W-$,this._maxChunkLen-R),this._write(C,$,L,R),R+=L,$+=L,R===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),R=0);return this},f.prototype.getState=function(){var C=this._offset%this._maxChunkLen,$=void 0;if(C)$=this._heap.slice(0);else{var W=new Int32Array(this._heap,this._padMaxChunkLen+320,5);$=W.buffer.slice(W.byteOffset,W.byteOffset+W.byteLength)}return{offset:this._offset,heap:$}},f.prototype.setState=function(C){if(this._offset=C.offset,C.heap.byteLength===20){var $=new Int32Array(this._heap,this._padMaxChunkLen+320,5);$.set(new Int32Array(C.heap))}else this._h32.set(new Int32Array(C.heap));return this},f.prototype.rawEnd=function(){var C=this._offset,$=C%this._maxChunkLen,W=this._padChunk($,C);this._core.hash(W,this._padMaxChunkLen);var R=a(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),R},f.prototype.end=function(){return i(this.rawEnd().buffer)},f})();p.exports=l,p.exports._core=e},function(p,w){for(var v=Array(256),h=0;256>h;h++)v[h]=(16>h?"0":"")+h.toString(16);p.exports.toHex=function(e){for(var o=new Uint8Array(e),i=Array(e.byteLength),c=0;c<i.length;c++)i[c]=v[o[c]];return i.join("")},p.exports.ceilHeapSize=function(e){var o=0;if(65536>=e)return 65536;if(16777216>e)for(o=1;o<e;o<<=1);else for(o=16777216;o<e;o+=16777216);return o},p.exports.isDedicatedWorkerScope=function(e){var o="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,i="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,c="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return o&&!i&&!c}},function(p,w,v){p.exports=function(){var h=v(0),e=function(c,u,s){try{return s(null,c.digest(u))}catch(t){return s(t)}},o=function(c,u,s,t,r){var a=new self.FileReader;a.onloadend=function(){if(a.error)return r(a.error);var f=a.result;u+=a.result.byteLength;try{c.append(f)}catch(b){return void r(b)}u<t.size?o(c,u,s,t,r):r(null,c.end())},a.readAsArrayBuffer(t.slice(u,u+s))},i=!0;return self.onmessage=function(c){if(i){var u=c.data.data,s=c.data.file,t=c.data.id;if(typeof t!="undefined"&&(s||u)){var r=c.data.blockSize||4194304,a=new h(r);a.resetState();var l=function(f,b){f?self.postMessage({id:t,error:f.name}):self.postMessage({id:t,hash:b})};u&&e(a,u,l),s&&o(a,0,r,s,l)}}},function(){i=!1}}},function(p,w,v){var h=v(4),e=v(0),o=v(7),i=v(2),c=v(1),u=c.isDedicatedWorkerScope,s=typeof self!="undefined"&&u(self);e.disableWorkerBehaviour=s?i():function(){},e.createWorker=function(){var t=h(2),r=t.terminate;return t.terminate=function(){URL.revokeObjectURL(t.objectURL),r.call(t)},t},e.createHash=o,p.exports=e},function(p,w,v){function h(t){function r(f){if(a[f])return a[f].exports;var b=a[f]={i:f,l:!1,exports:{}};return t[f].call(b.exports,b,b.exports,r),b.l=!0,b.exports}var a={};r.m=t,r.c=a,r.i=function(f){return f},r.d=function(f,b,C){r.o(f,b)||Object.defineProperty(f,b,{configurable:!1,enumerable:!0,get:C})},r.r=function(f){Object.defineProperty(f,"__esModule",{value:!0})},r.n=function(f){var b=f&&f.__esModule?function(){return f.default}:function(){return f};return r.d(b,"a",b),b},r.o=function(f,b){return Object.prototype.hasOwnProperty.call(f,b)},r.p="/",r.oe=function(f){throw console.error(f),f};var l=r(r.s=ENTRY_MODULE);return l.default||l}function e(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,r,a){var l={};l[a]=[];var f=r.toString(),b=f.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!b)return l;for(var C=b[1],$=new RegExp("(\\\\n|\\W)"+e(C)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g"),W;W=$.exec(f);)W[3]!=="dll-reference"&&l[a].push(W[3]);for($=new RegExp("\\("+e(C)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");W=$.exec(f);)t[W[2]]||(l[a].push(W[1]),t[W[2]]=v(W[1]).m),l[W[2]]=l[W[2]]||[],l[W[2]].push(W[4]);return l}function i(t){var r=Object.keys(t);return r.reduce(function(a,l){return a||0<t[l].length},!1)}function c(t,r){for(var a={main:[r]},l={main:[]},f={main:{}};i(a);)for(var b=Object.keys(a),C=0;C<b.length;C++){var $=b[C],W=a[$],R=W.pop();if(f[$]=f[$]||{},!f[$][R]&&t[$][R]){f[$][R]=!0,l[$]=l[$]||[],l[$].push(R);for(var L=o(t,t[$][R],$),Y=Object.keys(L),ee=0;ee<Y.length;ee++)a[Y[ee]]=a[Y[ee]]||[],a[Y[ee]]=a[Y[ee]].concat(L[Y[ee]])}}return l}var u="[\\.|\\-|\\+|\\w|/|@]+",s="\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";p.exports=function(t,r){r=r||{};var a={main:v.m},l=r.all?{main:Object.keys(a)}:c(a,t),f="";Object.keys(l).filter(function(R){return R!=="main"}).forEach(function(R){for(var L=0;l[R][L];)L++;l[R].push(L),a[R][L]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",f=f+"var "+R+" = ("+h.toString().replace("ENTRY_MODULE",JSON.stringify(L))+")({"+l[R].map(function(Y){return""+JSON.stringify(Y)+": "+a[R][Y].toString()}).join(",")+`});
`}),f=f+"("+h.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+l.main.map(function(R){return""+JSON.stringify(R)+": "+a.main[R].toString()}).join(",")+"})(self);";var b=new window.Blob([f],{type:"text/javascript"});if(r.bare)return b;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,$=C.createObjectURL(b),W=new window.Worker($);return W.objectURL=$,W}},function(p,w){p.exports=function(h,e,o){function i(u,s){u|=0,s|=0;var t=0,r=0,a=0,l=0,f=0,b=0,C=0,$=0,W=0,R=0,L=0,Y=0,ee=0,ae=0;for(a=0|c[s+320>>2],f=0|c[s+324>>2],C=0|c[s+328>>2],W=0|c[s+332>>2],L=0|c[s+336>>2],t=0;(0|t)<(0|u);t=0|t+64){for(l=a,b=f,$=C,R=W,Y=L,r=0;64>(0|r);r=0|r+4)ae=0|c[t+r>>2],ee=0|(0|(a<<5|a>>>27)+(f&C|~f&W))+(0|(0|ae+L)+1518500249),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,c[u+r>>2]=ae;for(r=0|u+64;(0|r)<(0|u+80);r=0|r+4)ae=(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])<<1|(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f&C|~f&W))+(0|(0|ae+L)+1518500249),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,c[r>>2]=ae;for(r=0|u+80;(0|r)<(0|u+160);r=0|r+4)ae=(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])<<1|(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f^C^W))+(0|(0|ae+L)+1859775393),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,c[r>>2]=ae;for(r=0|u+160;(0|r)<(0|u+240);r=0|r+4)ae=(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])<<1|(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f&C|f&W|C&W))+(0|(0|ae+L)-1894007588),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,c[r>>2]=ae;for(r=0|u+240;(0|r)<(0|u+320);r=0|r+4)ae=(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])<<1|(c[r-12>>2]^c[r-32>>2]^c[r-56>>2]^c[r-64>>2])>>>31,ee=0|(0|(a<<5|a>>>27)+(f^C^W))+(0|(0|ae+L)-899497514),L=W,W=C,C=f<<30|f>>>2,f=a,a=ee,c[r>>2]=ae;a=0|a+l,f=0|f+b,C=0|C+$,W=0|W+R,L=0|L+Y}c[s+320>>2]=a,c[s+324>>2]=f,c[s+328>>2]=C,c[s+332>>2]=W,c[s+336>>2]=L}var c=new h.Int32Array(o);return{hash:i}}},function(p,w){var v=this,h=void 0;typeof self!="undefined"&&typeof self.FileReaderSync!="undefined"&&(h=new self.FileReaderSync);var e=function(c,u,s,t,r,a){var l=a%4,f=(r+l)%4,b=r-f,C;switch(l){case 0:u[a]=c.charCodeAt(t+3);case 1:u[0|a+1-(l<<1)]=c.charCodeAt(t+2);case 2:u[0|a+2-(l<<1)]=c.charCodeAt(t+1);case 3:u[0|a+3-(l<<1)]=c.charCodeAt(t)}if(!(r<f+(4-l))){for(C=4-l;C<b;C=0|C+4)s[a+C>>2]=c.charCodeAt(t+C)<<24|c.charCodeAt(t+C+1)<<16|c.charCodeAt(t+C+2)<<8|c.charCodeAt(t+C+3);switch(f){case 3:u[0|a+b+1]=c.charCodeAt(t+b+2);case 2:u[0|a+b+2]=c.charCodeAt(t+b+1);case 1:u[0|a+b+3]=c.charCodeAt(t+b)}}},o=function(c,u,s,t,r,a){var l=a%4,f=(r+l)%4,b=r-f,C;switch(l){case 0:u[a]=c[t+3];case 1:u[0|a+1-(l<<1)]=c[t+2];case 2:u[0|a+2-(l<<1)]=c[t+1];case 3:u[0|a+3-(l<<1)]=c[t]}if(!(r<f+(4-l))){for(C=4-l;C<b;C=0|C+4)s[0|a+C>>2]=c[t+C]<<24|c[t+C+1]<<16|c[t+C+2]<<8|c[t+C+3];switch(f){case 3:u[0|a+b+1]=c[t+b+2];case 2:u[0|a+b+2]=c[t+b+1];case 1:u[0|a+b+3]=c[t+b]}}},i=function(c,u,s,t,r,a){var l=void 0,f=a%4,b=(r+f)%4,C=r-b,$=new Uint8Array(h.readAsArrayBuffer(c.slice(t,t+r)));switch(f){case 0:u[a]=$[3];case 1:u[0|a+1-(f<<1)]=$[2];case 2:u[0|a+2-(f<<1)]=$[1];case 3:u[0|a+3-(f<<1)]=$[0]}if(!(r<b+(4-f))){for(l=4-f;l<C;l=0|l+4)s[0|a+l>>2]=$[l]<<24|$[l+1]<<16|$[l+2]<<8|$[l+3];switch(b){case 3:u[0|a+C+1]=$[C+2];case 2:u[0|a+C+2]=$[C+1];case 1:u[0|a+C+3]=$[C]}}};p.exports=function(c,u,s,t,r,a){if(typeof c=="string")return e(c,u,s,t,r,a);if(c instanceof Array||v&&v.Buffer&&v.Buffer.isBuffer(c))return o(c,u,s,t,r,a);if(c instanceof ArrayBuffer)return o(new Uint8Array(c),u,s,t,r,a);if(c.buffer instanceof ArrayBuffer)return o(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),u,s,t,r,a);if(c instanceof Blob)return i(c,u,s,t,r,a);throw new Error("Unsupported data type.")}},function(p,w,v){function h(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}var e=(function(){function s(t,r){for(var a=0,l;a<r.length;a++)l=r[a],l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}return function(t,r,a){return r&&s(t.prototype,r),a&&s(t,a),t}})(),o=v(0),i=v(1),c=i.toHex,u=(function(){function s(){h(this,s),this._rusha=new o,this._rusha.resetState()}return s.prototype.update=function(r){return this._rusha.append(r),this},s.prototype.digest=function(r){var a=this._rusha.rawEnd().buffer;if(!r)return a;if(r==="hex")return c(a);throw new Error("unsupported digest encoding")},e(s,[{key:"state",get:function(){return this._rusha.getState()},set:function(t){this._rusha.setState(t)}}]),s})();p.exports=function(){return new u}}])})},{}],235:[function(m,U,A){function p(e,o){for(var i in e)o[i]=e[i]}function w(e,o,i){return h(e,o,i)}var v=m("buffer"),h=v.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?U.exports=v:(p(v,A),A.Buffer=w),w.prototype=Object.create(h.prototype),p(h,w),w.from=function(e,o,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return h(e,o,i)},w.alloc=function(e,o,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var c=h(e);return o===void 0?c.fill(0):typeof i=="string"?c.fill(o,i):c.fill(o),c},w.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return h(e)},w.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return v.SlowBuffer(e)}},{buffer:76}],236:[function(m,U,A){(function(p){(function(){"use strict";var w=m("buffer"),v=w.Buffer,h={},e;for(e in w)w.hasOwnProperty(e)&&e!=="SlowBuffer"&&e!=="Buffer"&&(h[e]=w[e]);var o=h.Buffer={};for(e in v)v.hasOwnProperty(e)&&e!=="allocUnsafe"&&e!=="allocUnsafeSlow"&&(o[e]=v[e]);if(h.Buffer.prototype=v.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(i,c,u){if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof i);if(i&&typeof i.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);return v(i,c,u)}),o.alloc||(o.alloc=function(i,c,u){if(typeof i!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof i);if(0>i||2147483648<=i)throw new RangeError('The value "'+i+'" is invalid for option "size"');var s=v(i);return c&&c.length!==0?typeof u=="string"?s.fill(c,u):s.fill(c):s.fill(0),s}),!h.kStringMaxLength)try{h.kStringMaxLength=p.binding("buffer").kStringMaxLength}catch{}h.constants||(h.constants={MAX_LENGTH:h.kMaxLength},h.kStringMaxLength&&(h.constants.MAX_STRING_LENGTH=h.kStringMaxLength)),U.exports=h}).call(this)}).call(this,m("_process"))},{_process:193,buffer:76}],237:[function(m,U,A){function p(v,h){this._block=w.alloc(v),this._finalSize=h,this._blockSize=v,this._len=0}var w=m("safe-buffer").Buffer;p.prototype.update=function(v,h){typeof v=="string"&&(h=h||"utf8",v=w.from(v,h));for(var e=this._block,o=this._blockSize,i=v.length,c=this._len,u=0;u<i;){for(var s=c%o,t=J(i-u,o-s),r=0;r<t;r++)e[s+r]=v[u+r];c+=t,u+=t,c%o==0&&this._update(e)}return this._len+=i,this},p.prototype.digest=function(v){var h=this._len%this._blockSize;this._block[h]=128,this._block.fill(0,h+1),h>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(4294967295>=e)this._block.writeUInt32BE(e,this._blockSize-4);else{var o=(4294967295&e)>>>0,i=(e-o)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var c=this._hash();return v?c.toString(v):c},p.prototype._update=function(){throw new Error("_update must be implemented by subclass")},U.exports=p},{"safe-buffer":235}],238:[function(m,U,p){var p=U.exports=function(v){v=v.toLowerCase();var h=p[v];if(!h)throw new Error(v+" is not supported (we accept pull requests)");return new h};p.sha=m("./sha"),p.sha1=m("./sha1"),p.sha224=m("./sha224"),p.sha256=m("./sha256"),p.sha384=m("./sha384"),p.sha512=m("./sha512")},{"./sha":239,"./sha1":240,"./sha224":241,"./sha256":242,"./sha384":243,"./sha512":244}],239:[function(m,U,A){function p(){this.init(),this._w=u,o.call(this,64,56)}function w(s){return s<<5|s>>>27}function v(s){return s<<30|s>>>2}function h(s,t,r,a){return s===0?t&r|~t&a:s===2?t&r|t&a|r&a:t^r^a}var e=m("inherits"),o=m("./hash"),i=m("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],u=Array(80);e(p,o),p.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},p.prototype._update=function(s){for(var t=this._w,r=0|this._a,a=0|this._b,l=0|this._c,f=0|this._d,b=0|this._e,C=0;16>C;++C)t[C]=s.readInt32BE(4*C);for(;80>C;++C)t[C]=t[C-3]^t[C-8]^t[C-14]^t[C-16];for(var $=0;80>$;++$){var W=~~($/20),R=0|w(r)+h(W,a,l,f)+b+t[$]+c[W];b=f,f=l,l=v(a),a=r,r=R}this._a=0|r+this._a,this._b=0|a+this._b,this._c=0|l+this._c,this._d=0|f+this._d,this._e=0|b+this._e},p.prototype._hash=function(){var s=i.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],240:[function(m,U,A){function p(){this.init(),this._w=s,i.call(this,64,56)}function w(t){return t<<1|t>>>31}function v(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function e(t,r,a,l){return t===0?r&a|~r&l:t===2?r&a|r&l|a&l:r^a^l}var o=m("inherits"),i=m("./hash"),c=m("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);o(p,i),p.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},p.prototype._update=function(t){for(var r=this._w,a=0|this._a,l=0|this._b,f=0|this._c,b=0|this._d,C=0|this._e,$=0;16>$;++$)r[$]=t.readInt32BE(4*$);for(;80>$;++$)r[$]=w(r[$-3]^r[$-8]^r[$-14]^r[$-16]);for(var W=0;80>W;++W){var R=~~(W/20),L=0|v(a)+e(R,l,f,b)+C+r[W]+u[R];C=b,b=f,f=h(l),l=a,a=L}this._a=0|a+this._a,this._b=0|l+this._b,this._c=0|f+this._c,this._d=0|b+this._d,this._e=0|C+this._e},p.prototype._hash=function(){var t=c.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],241:[function(m,U,A){function p(){this.init(),this._w=o,h.call(this,64,56)}var w=m("inherits"),v=m("./sha256"),h=m("./hash"),e=m("safe-buffer").Buffer,o=Array(64);w(p,v),p.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},p.prototype._hash=function(){var i=e.allocUnsafe(28);return i.writeInt32BE(this._a,0),i.writeInt32BE(this._b,4),i.writeInt32BE(this._c,8),i.writeInt32BE(this._d,12),i.writeInt32BE(this._e,16),i.writeInt32BE(this._f,20),i.writeInt32BE(this._g,24),i},U.exports=p},{"./hash":237,"./sha256":242,inherits:147,"safe-buffer":235}],242:[function(m,U,A){function p(){this.init(),this._w=r,u.call(this,64,56)}function w(a,l,f){return f^a&(l^f)}function v(a,l,f){return a&l|f&(a|l)}function h(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function e(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function o(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function i(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}var c=m("inherits"),u=m("./hash"),s=m("safe-buffer").Buffer,t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=Array(64);c(p,u),p.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},p.prototype._update=function(a){for(var l=this._w,f=0|this._a,b=0|this._b,C=0|this._c,$=0|this._d,W=0|this._e,R=0|this._f,L=0|this._g,Y=0|this._h,ee=0;16>ee;++ee)l[ee]=a.readInt32BE(4*ee);for(;64>ee;++ee)l[ee]=0|i(l[ee-2])+l[ee-7]+o(l[ee-15])+l[ee-16];for(var ae=0;64>ae;++ae){var fe=0|Y+e(W)+w(W,R,L)+t[ae]+l[ae],xe=0|h(f)+v(f,b,C);Y=L,L=R,R=W,W=0|$+fe,$=C,C=b,b=f,f=0|fe+xe}this._a=0|f+this._a,this._b=0|b+this._b,this._c=0|C+this._c,this._d=0|$+this._d,this._e=0|W+this._e,this._f=0|R+this._f,this._g=0|L+this._g,this._h=0|Y+this._h},p.prototype._hash=function(){var a=s.allocUnsafe(32);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a.writeInt32BE(this._h,28),a},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],243:[function(m,U,A){function p(){this.init(),this._w=o,h.call(this,128,112)}var w=m("inherits"),v=m("./sha512"),h=m("./hash"),e=m("safe-buffer").Buffer,o=Array(160);w(p,v),p.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},p.prototype._hash=function(){function i(u,s,t){c.writeInt32BE(u,t),c.writeInt32BE(s,t+4)}var c=e.allocUnsafe(48);return i(this._ah,this._al,0),i(this._bh,this._bl,8),i(this._ch,this._cl,16),i(this._dh,this._dl,24),i(this._eh,this._el,32),i(this._fh,this._fl,40),c},U.exports=p},{"./hash":237,"./sha512":244,inherits:147,"safe-buffer":235}],244:[function(m,U,A){function p(){this.init(),this._w=f,r.call(this,128,112)}function w(b,C,$){return $^b&(C^$)}function v(b,C,$){return b&C|$&(b|C)}function h(b,C){return(b>>>28|C<<4)^(C>>>2|b<<30)^(C>>>7|b<<25)}function e(b,C){return(b>>>14|C<<18)^(b>>>18|C<<14)^(C>>>9|b<<23)}function o(b,C){return(b>>>1|C<<31)^(b>>>8|C<<24)^b>>>7}function i(b,C){return(b>>>1|C<<31)^(b>>>8|C<<24)^(b>>>7|C<<25)}function c(b,C){return(b>>>19|C<<13)^(C>>>29|b<<3)^b>>>6}function u(b,C){return(b>>>19|C<<13)^(C>>>29|b<<3)^(b>>>6|C<<26)}function s(b,C){return b>>>0<C>>>0?1:0}var t=m("inherits"),r=m("./hash"),a=m("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f=Array(160);t(p,r),p.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},p.prototype._update=function(b){for(var C=this._w,$=0|this._ah,W=0|this._bh,R=0|this._ch,L=0|this._dh,Y=0|this._eh,ee=0|this._fh,ae=0|this._gh,fe=0|this._hh,xe=0|this._al,se=0|this._bl,B=0|this._cl,K=0|this._dl,z=0|this._el,E=0|this._fl,j=0|this._gl,Z=0|this._hl,oe=0;32>oe;oe+=2)C[oe]=b.readInt32BE(4*oe),C[oe+1]=b.readInt32BE(4*oe+4);for(;160>oe;oe+=2){var q=C[oe-30],le=C[oe-30+1],ge=o(q,le),Re=i(le,q);q=C[oe-4],le=C[oe-4+1];var ke=c(q,le),De=u(le,q),$e=C[oe-14],qe=C[oe-14+1],nt=C[oe-32],bt=C[oe-32+1],ct=0|Re+qe,Me=0|ge+$e+s(ct,Re);ct=0|ct+De,Me=0|Me+ke+s(ct,De),ct=0|ct+bt,Me=0|Me+nt+s(ct,bt),C[oe]=Me,C[oe+1]=ct}for(var Ge=0;160>Ge;Ge+=2){Me=C[Ge],ct=C[Ge+1];var Ze=v($,W,R),ft=v(xe,se,B),Mt=h($,xe),ce=h(xe,$),G=e(Y,z),te=e(z,Y),de=l[Ge],_e=l[Ge+1],Pe=w(Y,ee,ae),ze=w(z,E,j),Ue=0|Z+te,yt=0|fe+G+s(Ue,Z);Ue=0|Ue+ze,yt=0|yt+Pe+s(Ue,ze),Ue=0|Ue+_e,yt=0|yt+de+s(Ue,_e),Ue=0|Ue+ct,yt=0|yt+Me+s(Ue,ct);var mt=0|ce+ft,et=0|Mt+Ze+s(mt,ce);fe=ae,Z=j,ae=ee,j=E,ee=Y,E=z,z=0|K+Ue,Y=0|L+yt+s(z,K),L=R,K=B,R=W,B=se,W=$,se=xe,xe=0|Ue+mt,$=0|yt+et+s(xe,Ue)}this._al=0|this._al+xe,this._bl=0|this._bl+se,this._cl=0|this._cl+B,this._dl=0|this._dl+K,this._el=0|this._el+z,this._fl=0|this._fl+E,this._gl=0|this._gl+j,this._hl=0|this._hl+Z,this._ah=0|this._ah+$+s(this._al,xe),this._bh=0|this._bh+W+s(this._bl,se),this._ch=0|this._ch+R+s(this._cl,B),this._dh=0|this._dh+L+s(this._dl,K),this._eh=0|this._eh+Y+s(this._el,z),this._fh=0|this._fh+ee+s(this._fl,E),this._gh=0|this._gh+ae+s(this._gl,j),this._hh=0|this._hh+fe+s(this._hl,Z)},p.prototype._hash=function(){function b($,W,R){C.writeInt32BE($,R),C.writeInt32BE(W,R+4)}var C=a.allocUnsafe(64);return b(this._ah,this._al,0),b(this._bh,this._bl,8),b(this._ch,this._cl,16),b(this._dh,this._dl,24),b(this._eh,this._el,32),b(this._fh,this._fl,40),b(this._gh,this._gl,48),b(this._hh,this._hl,56),C},U.exports=p},{"./hash":237,inherits:147,"safe-buffer":235}],245:[function(m,U,A){(function(p){(function(){U.exports=function(w,v){var h=[];w.on("data",function(e){h.push(e)}),w.once("end",function(){v&&v(null,p.concat(h)),v=null}),w.once("error",function(e){v&&v(e),v=null})}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],246:[function(m,U,A){(function(p){(function(){function w(t,r){if(t=Object.assign({maxRedirects:10},typeof t=="string"?{url:t}:t),r=i(r),t.url){let{hostname:$,port:W,protocol:R,auth:L,path:Y}=u.parse(t.url);delete t.url,$||W||R||L?Object.assign(t,{hostname:$,port:W,protocol:R,auth:L,path:Y}):t.path=Y}let a={"accept-encoding":"gzip, deflate"};t.headers&&Object.keys(t.headers).forEach($=>a[$.toLowerCase()]=t.headers[$]),t.headers=a;let l;t.body?l=t.json&&!s(t.body)?JSON.stringify(t.body):t.body:t.form&&(l=typeof t.form=="string"?t.form:c.stringify(t.form),t.headers["content-type"]="application/x-www-form-urlencoded"),l&&(!t.method&&(t.method="POST"),!s(l)&&(t.headers["content-length"]=p.byteLength(l)),t.json&&!t.form&&(t.headers["content-type"]="application/json")),delete t.body,delete t.form,t.json&&(t.headers.accept="application/json"),t.method&&(t.method=t.method.toUpperCase());let f=t.hostname,b=t.protocol==="https:"?o:e,C=b.request(t,$=>{if(t.followRedirects!==!1&&300<=$.statusCode&&400>$.statusCode&&$.headers.location){t.url=$.headers.location,delete t.headers.host,$.resume();let R=u.parse(t.url).hostname;return R!==null&&R!==f&&(delete t.headers.cookie,delete t.headers.authorization),t.method==="POST"&&[301,302].includes($.statusCode)&&(t.method="GET",delete t.headers["content-length"],delete t.headers["content-type"]),t.maxRedirects--==0?r(new Error("too many redirects")):w(t,r)}let W=typeof h=="function"&&t.method!=="HEAD";r(null,W?h($):$)});return C.on("timeout",()=>{C.abort(),r(new Error("Request timed out"))}),C.on("error",r),s(l)?l.on("error",r).pipe(C):C.end(l),C}U.exports=w;let v=m("simple-concat"),h=m("decompress-response"),e=m("http"),o=m("https"),i=m("once"),c=m("querystring"),u=m("url"),s=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";w.concat=(t,r)=>w(t,(a,l)=>a?r(a):void v(l,(f,b)=>{if(f)return r(f);if(t.json)try{b=JSON.parse(b.toString())}catch(C){return r(C,l,b)}r(null,l,b)})),["get","post","put","patch","head","delete"].forEach(t=>{w[t]=(r,a)=>(typeof r=="string"&&(r={url:r}),w(Object.assign({method:t.toUpperCase()},r),a))})}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,"decompress-response":42,http:257,https:144,once:178,querystring:205,"simple-concat":245,url:274}],247:[function(m,U,A){function p(l){return l.replace(/a=ice-options:trickle\s\n/g,"")}function w(l){console.warn(l)}let v=m("debug")("simple-peer"),h=m("get-browser-rtc"),e=m("randombytes"),o=m("readable-stream"),i=m("queue-microtask"),c=m("err-code"),{Buffer:u}=m("buffer"),s=65536,t=5e3,r=5e3;class a extends o.Duplex{constructor(f){if(f=Object.assign({allowHalfOpen:!1},f),super(f),this._id=e(4).toString("hex").slice(0,7),this._debug("new peer %o",f),this.channelName=f.initiator?f.channelName||e(20).toString("hex"):null,this.initiator=f.initiator||!1,this.channelConfig=f.channelConfig||a.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},a.config,f.config),this.offerOptions=f.offerOptions||{},this.answerOptions=f.answerOptions||{},this.sdpTransform=f.sdpTransform||(b=>b),this.streams=f.streams||(f.stream?[f.stream]:[]),this.trickle=f.trickle===void 0||f.trickle,this.allowHalfTrickle=f.allowHalfTrickle!==void 0&&f.allowHalfTrickle,this.iceCompleteTimeout=f.iceCompleteTimeout||t,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=f.wrtc&&typeof f.wrtc=="object"?f.wrtc:h(),!this._wrtc)throw c(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(b){return void this.destroy(c(b,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=b=>{this._onIceCandidate(b)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(b=>{this.destroy(c(b,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=b=>{this._setupData(b)},this.streams&&this.streams.forEach(b=>{this.addStream(b)}),this._pc.ontrack=b=>{this._onTrack(b)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(f){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof f=="string")try{f=JSON.parse(f)}catch{f={}}this._debug("signal()"),f.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),f.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(f.transceiverRequest.kind,f.transceiverRequest.init)),f.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(f.candidate):this._pendingCandidates.push(f.candidate)),f.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(f)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(b=>{this._addIceCandidate(b)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(b=>{this.destroy(c(b,"ERR_SET_REMOTE_DESCRIPTION"))}),f.sdp||f.candidate||f.renegotiate||f.transceiverRequest||this.destroy(c(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(f){let b=new this._wrtc.RTCIceCandidate(f);this._pc.addIceCandidate(b).catch(C=>{!b.address||b.address.endsWith(".local")?w("Ignoring unsupported ICE candidate."):this.destroy(c(C,"ERR_ADD_ICE_CANDIDATE"))})}send(f){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(f)}}addTransceiver(f,b){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(f,b),this._needsNegotiation()}catch(C){this.destroy(c(C,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:f,init:b}})}}addStream(f){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),f.getTracks().forEach(b=>{this.addTrack(b,f)})}}addTrack(f,b){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let C=this._senderMap.get(f)||new Map,$=C.get(b);if(!$)$=this._pc.addTrack(f,b),C.set(b,$),this._senderMap.set(f,C),this._needsNegotiation();else throw $.removed?c(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):c(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(f,b,C){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let $=this._senderMap.get(f),W=$?$.get(C):null;if(!W)throw c(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");b&&this._senderMap.set(b,$),W.replaceTrack==null?this.destroy(c(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):W.replaceTrack(b)}removeTrack(f,b){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let C=this._senderMap.get(f),$=C?C.get(b):null;if(!$)throw c(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{$.removed=!0,this._pc.removeTrack($)}catch(W){W.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push($):this.destroy(c(W,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(f){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),f.getTracks().forEach(b=>{this.removeTrack(b,f)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(f){this._destroy(f,()=>{})}_destroy(f,b){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",f&&(f.message||f)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",f&&(f.message||f)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,f&&this.emit("error",f),this.emit("close"),b()}))}_setupData(f){if(!f.channel)return this.destroy(c(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=f.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=s),this.channelName=this._channel.label,this._channel.onmessage=C=>{this._onChannelMessage(C)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=C=>{let $=C.error instanceof Error?C.error:new Error(`Datachannel error: ${C.message} ${C.filename}:${C.lineno}:${C.colno}`);this.destroy(c($,"ERR_DATA_CHANNEL"))};let b=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(b&&this._onChannelClose(),b=!0):b=!1},r)}_read(){}_write(f,b,C){if(this.destroyed)return C(c(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(f)}catch($){return this.destroy(c($,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>s?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=C):C(null)}else this._debug("write before connect"),this._chunk=f,this._cb=C}_onFinish(){if(!this.destroyed){let f=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?f():this.once("connect",f)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(f=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(f.sdp=p(f.sdp)),f.sdp=this.sdpTransform(f.sdp);let b=()=>{if(!this.destroyed){let W=this._pc.localDescription||f;this._debug("signal"),this.emit("signal",{type:W.type,sdp:W.sdp})}},C=()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))},$=W=>{this.destroy(c(W,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(f).then(C).catch($)}).catch(f=>{this.destroy(c(f,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(f=>{f.mid||!f.sender.track||f.requested||(f.requested=!0,this.addTransceiver(f.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(f=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(f.sdp=p(f.sdp)),f.sdp=this.sdpTransform(f.sdp);let b=()=>{if(!this.destroyed){let W=this._pc.localDescription||f;this._debug("signal"),this.emit("signal",{type:W.type,sdp:W.sdp}),this.initiator||this._requestMissingTransceivers()}},C=()=>{this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))},$=W=>{this.destroy(c(W,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(f).then(C).catch($)}).catch(f=>{this.destroy(c(f,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(c(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let f=this._pc.iceConnectionState,b=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",f,b),this.emit("iceStateChange",f,b),(f==="connected"||f==="completed")&&(this._pcReady=!0,this._maybeReady()),f==="failed"&&this.destroy(c(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),f==="closed"&&this.destroy(c(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(f){let b=C=>(Object.prototype.toString.call(C.values)==="[object Array]"&&C.values.forEach($=>{Object.assign(C,$)}),C);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(C=>{let $=[];C.forEach(W=>{$.push(b(W))}),f(null,$)},C=>f(C)):0<this._pc.getStats.length?this._pc.getStats(C=>{if(this.destroyed)return;let $=[];C.result().forEach(W=>{let R={};W.names().forEach(L=>{R[L]=W.stat(L)}),R.id=W.id,R.type=W.type,R.timestamp=W.timestamp,$.push(b(R))}),f(null,$)},C=>f(C)):f(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let f=()=>{this.destroyed||this.getStats((b,C)=>{if(this.destroyed)return;b&&(C=[]);let $={},W={},R={},L=!1;C.forEach(ee=>{(ee.type==="remotecandidate"||ee.type==="remote-candidate")&&($[ee.id]=ee),(ee.type==="localcandidate"||ee.type==="local-candidate")&&(W[ee.id]=ee),(ee.type==="candidatepair"||ee.type==="candidate-pair")&&(R[ee.id]=ee)});let Y=ee=>{L=!0;let ae=W[ee.localCandidateId];ae&&(ae.ip||ae.address)?(this.localAddress=ae.ip||ae.address,this.localPort=+ae.port):ae&&ae.ipAddress?(this.localAddress=ae.ipAddress,this.localPort=+ae.portNumber):typeof ee.googLocalAddress=="string"&&(ae=ee.googLocalAddress.split(":"),this.localAddress=ae[0],this.localPort=+ae[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let fe=$[ee.remoteCandidateId];fe&&(fe.ip||fe.address)?(this.remoteAddress=fe.ip||fe.address,this.remotePort=+fe.port):fe&&fe.ipAddress?(this.remoteAddress=fe.ipAddress,this.remotePort=+fe.portNumber):typeof ee.googRemoteAddress=="string"&&(fe=ee.googRemoteAddress.split(":"),this.remoteAddress=fe[0],this.remotePort=+fe[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(C.forEach(ee=>{ee.type==="transport"&&ee.selectedCandidatePairId&&Y(R[ee.selectedCandidatePairId]),(ee.type==="googCandidatePair"&&ee.googActiveConnection==="true"||(ee.type==="candidatepair"||ee.type==="candidate-pair")&&ee.selected)&&Y(ee)}),!L&&(!Object.keys(R).length||Object.keys(W).length))return void setTimeout(f,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(ae){return this.destroy(c(ae,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let ee=this._cb;this._cb=null,ee(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};f()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>s)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(f=>{this._pc.removeTrack(f),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(f){this.destroyed||(f.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:f.candidate.candidate,sdpMLineIndex:f.candidate.sdpMLineIndex,sdpMid:f.candidate.sdpMid}}):!f.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),f.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(f){if(this.destroyed)return;let b=f.data;b instanceof ArrayBuffer&&(b=u.from(b)),this.push(b)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let f=this._cb;this._cb=null,f(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(f){this.destroyed||f.streams.forEach(b=>{this._debug("on track"),this.emit("track",f.track,b),this._remoteTracks.push({track:f.track,stream:b}),this._remoteStreams.some(C=>C.id===b.id)||(this._remoteStreams.push(b),i(()=>{this._debug("on stream"),this.emit("stream",b)}))})}_debug(){let f=[].slice.call(arguments);f[0]="["+this._id+"] "+f[0],v.apply(null,f)}}a.WEBRTC_SUPPORT=!!h(),a.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},a.channelConfig={},U.exports=a},{buffer:76,debug:91,"err-code":122,"get-browser-rtc":129,"queue-microtask":206,randombytes:209,"readable-stream":228}],248:[function(m,U,A){function p(t){return i.digest(t)}function w(t,r){return s?(typeof t=="string"&&(t=v(t)),void s.digest({name:"sha-1"},t).then(function(l){r(h(new Uint8Array(l)))},function(){r(p(t))})):void(typeof window=="undefined"?queueMicrotask(()=>r(p(t))):o(t,function(l,f){return l?void r(p(t)):void r(f)}))}function v(t){let r=t.length,a=new Uint8Array(r);for(let l=0;l<r;l++)a[l]=t.charCodeAt(l);return a}function h(t){let r=t.length,a=[];for(let l=0;l<r;l++){let f=t[l];a.push((f>>>4).toString(16)),a.push((15&f).toString(16))}return a.join("")}let e=m("rusha"),o=m("./rusha-worker-sha1"),i=new e,c=typeof window=="undefined"?self:window,u=c.crypto||c.msCrypto||{},s=u.subtle||u.webkitSubtle;try{s.digest({name:"sha-1"},new Uint8Array).catch(function(){s=!1})}catch{s=!1}U.exports=w,U.exports.sync=p},{"./rusha-worker-sha1":249,rusha:234}],249:[function(m,U,A){function p(){h=v.createWorker(),e=1,o={},h.onmessage=function(c){let u=c.data.id,s=o[u];delete o[u],c.data.error==null?s(null,c.data.hash):s(new Error("Rusha worker error: "+c.data.error))}}function w(i,c){h||p(),o[e]=c,h.postMessage({id:e,data:i}),e+=1}let v=m("rusha"),h,e,o;U.exports=w},{rusha:234}],250:[function(m,U,A){(function(p){(function(){let w=m("debug")("simple-websocket"),v=m("randombytes"),h=m("readable-stream"),e=m("queue-microtask"),o=m("ws"),i=typeof o=="function"?o:WebSocket,c=65536;class u extends h.Duplex{constructor(t={}){if(typeof t=="string"&&(t={url:t}),t=Object.assign({allowHalfOpen:!1},t),super(t),t.url==null&&t.socket==null)throw new Error("Missing required `url` or `socket` option");if(t.url!=null&&t.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=v(4).toString("hex").slice(0,7),this._debug("new websocket: %o",t),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,t.socket)this.url=t.socket.url,this._ws=t.socket,this.connected=t.socket.readyState===i.OPEN;else{this.url=t.url;try{this._ws=typeof o=="function"?new i(t.url,null,{...t,encoding:void 0}):new i(t.url)}catch(r){return void e(()=>this.destroy(r))}}this._ws.binaryType="arraybuffer",t.socket&&this.connected?e(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=r=>this._handleMessage(r),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=r=>this._handleError(r),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(t){this._ws.send(t)}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){let a=this._ws,l=()=>{a.onclose=null};if(a.readyState===i.CLOSED)l();else try{a.onclose=l,a.close()}catch{l()}a.onopen=null,a.onmessage=null,a.onerror=()=>{}}this._ws=null,t&&this.emit("error",t),this.emit("close"),r()}}_read(){}_write(t,r,a){if(this.destroyed)return a(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(t)}catch(l){return this.destroy(l)}typeof o!="function"&&this._ws.bufferedAmount>c?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=a):a(null)}else this._debug("write before connect"),this._chunk=t,this._cb=a}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(r){return this.destroy(r)}this._chunk=null,this._debug('sent chunk from "write before connect"');let t=this._cb;this._cb=null,t(null)}typeof o!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=p.from(r)),this.push(r)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(t){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){let t=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?t():this.once("connect",t)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>c)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);let t=this._cb;this._cb=null,t(null)}}_debug(){let t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],w.apply(null,t)}}u.WEBSOCKET_SUPPORT=!!i,U.exports=u}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,debug:91,"queue-microtask":206,randombytes:209,"readable-stream":228,ws:42}],251:[function(m,U,A){let p=m("./lib/throttle"),w=m("./lib/throttle-group");U.exports={Throttle:p,ThrottleGroup:w}},{"./lib/throttle":253,"./lib/throttle-group":252}],252:[function(m,U,A){var p=Number.isInteger;let{TokenBucket:w}=m("limiter"),v=m("./throttle");class h{constructor(o={}){if(typeof o!="object")throw new Error("Options must be an object");this.throttles=[],this.setEnabled(o.enabled),this.setRate(o.rate,o.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(o=!0){if(typeof o!="boolean")throw new Error("Enabled must be a boolean");this._enabled=o;for(let i of this.throttles)i.setEnabled(o)}setRate(o,i=null){if(!p(o)||0>o)throw new Error("Rate must be an integer bigger than zero");if(o=parseInt(o),i&&(typeof i!="number"||0>=i))throw new Error("Chunksize must be bigger than zero");if(i=i||F(parseInt(o/10),1),i=parseInt(i),0<o&&i>o)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new w(o,o,"second",null)),this.bucket.bucketSize=o,this.bucket.tokensPerInterval=o,this.chunksize=i}setChunksize(o){if(!p(o)||0>=o)throw new Error("Chunk size must be an integer bigger than zero");let i=this.getRate();if(o=parseInt(o),0<i&&o>i)throw new Error("Chunk size must be smaller than rate");this.chunksize=o}throttle(o={}){if(typeof o!="object")throw new Error("Options must be an object");return new v({...o,group:this})}destroy(){for(let o of this.throttles)o.destroy();this.throttles=[]}_addThrottle(o){if(!(o instanceof v))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(o)}_removeThrottle(o){let i=this.throttles.indexOf(o);-1<i&&this.throttles.splice(i,1)}}U.exports=h},{"./throttle":253,limiter:152}],253:[function(m,U,A){let{EventEmitter:p}=m("events"),{Transform:w}=m("streamx"),{wait:v}=m("./utils");class h extends w{constructor(i={}){if(super(),typeof i!="object")throw new Error("Options must be an object");let c=Object.assign({},i);if(c.group&&!(c.group instanceof e))throw new Error("Group must be an instanece of ThrottleGroup");c.group||(c.group=new e(c)),this._setEnabled(c.enabled||c.group.enabled),this._group=c.group,this._emitter=new p,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(i=!0){if(typeof i!="boolean")throw new Error("Enabled must be a boolean");this._enabled=i}setEnabled(i){this._setEnabled(i),this._enabled?this._emitter.emit("enabled"):this._emitter.emit("disabled")}_transform(i,c){this._processChunk(i,c)}async _waitForTokens(i){return new Promise((c,u)=>{function s(a){if(r._emitter.removeListener("disabled",s),r._emitter.removeListener("destroyed",s),!t)return t=!0,a?u(a):void c()}let t=!1,r=this;this._emitter.once("disabled",s),this._emitter.once("destroyed",s),this._group.bucket.removeTokens(i,s)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(i,c){if(!this._areBothEnabled())return c(null,i);let u=0,s=this._group.getChunksize(),t=i.slice(u,u+s);for(;0<t.length;){if(this._areBothEnabled())try{for(;this._group.getRate()===0&&!this._destroyed&&this._areBothEnabled();)if(await v(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(t.length)&&(await this._waitForTokens(t.length),this._destroyed))return}catch(r){return c(r)}this.push(t),u+=s,s=this._areBothEnabled()?this._group.getChunksize():i.length-u,t=i.slice(u,u+s)}return c()}destroy(...i){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...i)}}U.exports=h;let e=m("./throttle-group")},{"./throttle-group":252,"./utils":254,events:123,streamx:264}],254:[function(m,U,A){function p(w){return new Promise(v=>setTimeout(v,w))}U.exports={wait:p}},{}],255:[function(m,U,A){var p=1,w=65535,v=4,h=function(){p=p+1&w},e;U.exports=function(o){e||(e=setInterval(h,0|1e3/v),e.unref&&e.unref());var i=v*(o||5),c=[0],u=1,s=p-1&w;return function(t){var r=p-s&w;for(r>i&&(r=i),s=p;r--;)u===i&&(u=0),c[u]=c[u===0?i-1:u-1],u++;t&&(c[u-1]+=t);var a=c[u-1],l=c.length<i?0:c[u===i?0:u];return c.length<v?a:(a-l)*v/c.length}}},{}],256:[function(m,U,A){function p(){w.call(this)}U.exports=p;var w=m("events").EventEmitter,v=m("inherits");v(p,w),p.Readable=m("readable-stream/lib/_stream_readable.js"),p.Writable=m("readable-stream/lib/_stream_writable.js"),p.Duplex=m("readable-stream/lib/_stream_duplex.js"),p.Transform=m("readable-stream/lib/_stream_transform.js"),p.PassThrough=m("readable-stream/lib/_stream_passthrough.js"),p.finished=m("readable-stream/lib/internal/streams/end-of-stream.js"),p.pipeline=m("readable-stream/lib/internal/streams/pipeline.js"),p.Stream=p,p.prototype.pipe=function(h,e){function o(l){h.writable&&h.write(l)===!1&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}function c(){a||(a=!0,h.end())}function u(){a||(a=!0,typeof h.destroy=="function"&&h.destroy())}function s(l){if(t(),w.listenerCount(this,"error")===0)throw l}function t(){r.removeListener("data",o),h.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",s),h.removeListener("error",s),r.removeListener("end",t),r.removeListener("close",t),h.removeListener("close",t)}var r=this;r.on("data",o),h.on("drain",i),h._isStdio||e&&e.end===!1||(r.on("end",c),r.on("close",u));var a=!1;return r.on("error",s),h.on("error",s),r.on("end",t),r.on("close",t),h.on("close",t),h.emit("pipe",r),h}},{events:123,inherits:147,"readable-stream/lib/_stream_duplex.js":215,"readable-stream/lib/_stream_passthrough.js":216,"readable-stream/lib/_stream_readable.js":217,"readable-stream/lib/_stream_transform.js":218,"readable-stream/lib/_stream_writable.js":219,"readable-stream/lib/internal/streams/end-of-stream.js":223,"readable-stream/lib/internal/streams/pipeline.js":225}],257:[function(m,U,A){(function(p){(function(){var w=m("./lib/request"),v=m("./lib/response"),h=m("xtend"),e=m("builtin-status-codes"),o=m("url"),i=A;i.request=function(c,u){c=typeof c=="string"?o.parse(c):h(c);var s=p.location.protocol.search(/^https?:$/)===-1?"http:":"",t=c.protocol||s,r=c.hostname||c.host,a=c.port,l=c.path||"/";r&&r.indexOf(":")!==-1&&(r="["+r+"]"),c.url=(r?t+"//"+r:"")+(a?":"+a:"")+l,c.method=(c.method||"GET").toUpperCase(),c.headers=c.headers||{};var f=new w(c);return u&&f.on("response",u),f},i.get=function(u,s){var t=i.request(u,s);return t.end(),t},i.ClientRequest=w,i.IncomingMessage=v.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=e,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{"./lib/request":259,"./lib/response":260,"builtin-status-codes":77,url:274,xtend:281}],258:[function(m,U,A){(function(p){(function(){function w(){if(e!==void 0)return e;if(p.XMLHttpRequest){e=new p.XMLHttpRequest;try{e.open("GET",p.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function v(o){var i=w();if(!i)return!1;try{return i.responseType=o,i.responseType===o}catch{}return!1}function h(o){return typeof o=="function"}A.fetch=h(p.fetch)&&h(p.ReadableStream),A.writableStream=h(p.WritableStream),A.abortController=h(p.AbortController);var e;A.arraybuffer=A.fetch||v("arraybuffer"),A.msstream=!A.fetch&&v("ms-stream"),A.mozchunkedarraybuffer=!A.fetch&&v("moz-chunked-arraybuffer"),A.overrideMimeType=A.fetch||!!w()&&h(w().overrideMimeType),e=null}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],259:[function(m,U,A){(function(p,w,v){(function(){function h(l,f){return o.fetch&&f?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&l?"arraybuffer":"text"}function e(l){try{var f=l.status;return f!==null&&f!==0}catch{return!1}}var o=m("./capability"),i=m("inherits"),c=m("./response"),u=m("readable-stream"),s=c.IncomingMessage,t=c.readyStates,r=U.exports=function(l){var f=this;u.Writable.call(f),f._opts=l,f._body=[],f._headers={},l.auth&&f.setHeader("Authorization","Basic "+v.from(l.auth).toString("base64")),Object.keys(l.headers).forEach(function($){f.setHeader($,l.headers[$])});var b=!0,C;if(l.mode==="disable-fetch"||"requestTimeout"in l&&!o.abortController)b=!1,C=!0;else if(l.mode==="prefer-streaming")C=!1;else if(l.mode==="allow-wrong-content-type")C=!o.overrideMimeType;else if(!l.mode||l.mode==="default"||l.mode==="prefer-fast")C=!0;else throw new Error("Invalid value for opts.mode");f._mode=h(C,b),f._fetchTimer=null,f._socketTimeout=null,f._socketTimer=null,f.on("finish",function(){f._onFinish()})};i(r,u.Writable),r.prototype.setHeader=function(l,f){var b=this,C=l.toLowerCase();a.indexOf(C)!==-1||(b._headers[C]={name:l,value:f})},r.prototype.getHeader=function(l){var f=this._headers[l.toLowerCase()];return f?f.value:null},r.prototype.removeHeader=function(l){var f=this;delete f._headers[l.toLowerCase()]},r.prototype._onFinish=function(){var l=this;if(!l._destroyed){var f=l._opts;"timeout"in f&&f.timeout!==0&&l.setTimeout(f.timeout);var b=l._headers,C=null;f.method!=="GET"&&f.method!=="HEAD"&&(C=new Blob(l._body,{type:(b["content-type"]||{}).value||""}));var $=[];if(Object.keys(b).forEach(function(Y){var ee=b[Y].name,ae=b[Y].value;Array.isArray(ae)?ae.forEach(function(fe){$.push([ee,fe])}):$.push([ee,ae])}),l._mode==="fetch"){var W=null;if(o.abortController){var R=new AbortController;W=R.signal,l._fetchAbortController=R,"requestTimeout"in f&&f.requestTimeout!==0&&(l._fetchTimer=w.setTimeout(function(){l.emit("requestTimeout"),l._fetchAbortController&&l._fetchAbortController.abort()},f.requestTimeout))}w.fetch(l._opts.url,{method:l._opts.method,headers:$,body:C||void 0,mode:"cors",credentials:f.withCredentials?"include":"same-origin",signal:W}).then(function(Y){l._fetchResponse=Y,l._resetTimers(!1),l._connect()},function(Y){l._resetTimers(!0),l._destroyed||l.emit("error",Y)})}else{var L=l._xhr=new w.XMLHttpRequest;try{L.open(l._opts.method,l._opts.url,!0)}catch(Y){return void p.nextTick(function(){l.emit("error",Y)})}"responseType"in L&&(L.responseType=l._mode),"withCredentials"in L&&(L.withCredentials=!!f.withCredentials),l._mode==="text"&&"overrideMimeType"in L&&L.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in f&&(L.timeout=f.requestTimeout,L.ontimeout=function(){l.emit("requestTimeout")}),$.forEach(function(Y){L.setRequestHeader(Y[0],Y[1])}),l._response=null,L.onreadystatechange=function(){switch(L.readyState){case t.LOADING:case t.DONE:l._onXHRProgress()}},l._mode==="moz-chunked-arraybuffer"&&(L.onprogress=function(){l._onXHRProgress()}),L.onerror=function(){l._destroyed||(l._resetTimers(!0),l.emit("error",new Error("XHR error")))};try{L.send(C)}catch(Y){return void p.nextTick(function(){l.emit("error",Y)})}}}},r.prototype._onXHRProgress=function(){var l=this;l._resetTimers(!1),!e(l._xhr)||l._destroyed||(!l._response&&l._connect(),l._response._onXHRProgress(l._resetTimers.bind(l)))},r.prototype._connect=function(){var l=this;l._destroyed||(l._response=new s(l._xhr,l._fetchResponse,l._mode,l._resetTimers.bind(l)),l._response.on("error",function(f){l.emit("error",f)}),l.emit("response",l._response))},r.prototype._write=function(l,f,b){var C=this;C._body.push(l),b()},r.prototype._resetTimers=function(l){var f=this;w.clearTimeout(f._socketTimer),f._socketTimer=null,l?(w.clearTimeout(f._fetchTimer),f._fetchTimer=null):f._socketTimeout&&(f._socketTimer=w.setTimeout(function(){f.emit("timeout")},f._socketTimeout))},r.prototype.abort=r.prototype.destroy=function(l){var f=this;f._destroyed=!0,f._resetTimers(!0),f._response&&(f._response._destroyed=!0),f._xhr?f._xhr.abort():f._fetchAbortController&&f._fetchAbortController.abort(),l&&f.emit("error",l)},r.prototype.end=function(l,f,b){var C=this;typeof l=="function"&&(b=l,l=void 0),u.Writable.prototype.end.call(C,l,f,b)},r.prototype.setTimeout=function(l,f){var b=this;f&&b.once("timeout",f),b._socketTimeout=l,b._resetTimers(!1)},r.prototype.flushHeaders=function(){},r.prototype.setNoDelay=function(){},r.prototype.setSocketKeepAlive=function(){};var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global,m("buffer").Buffer)},{"./capability":258,"./response":260,_process:193,buffer:76,inherits:147,"readable-stream":228}],260:[function(m,U,A){(function(p,w,v){(function(){var h=m("./capability"),e=m("inherits"),o=m("readable-stream"),i=A.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=A.IncomingMessage=function(u,s,t,r){var a=this;if(o.Readable.call(a),a._mode=t,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){p.nextTick(function(){a.emit("close")})}),t==="fetch"){let R=function(){f.read().then(function(L){if(!a._destroyed)return r(L.done),L.done?void a.push(null):(a.push(v.from(L.value)),void R())}).catch(function(L){r(!0),a._destroyed||a.emit("error",L)})};var W=R;if(a._fetchResponse=s,a.url=s.url,a.statusCode=s.status,a.statusMessage=s.statusText,s.headers.forEach(function(L,Y){a.headers[Y.toLowerCase()]=L,a.rawHeaders.push(Y,L)}),h.writableStream){var l=new WritableStream({write:function(L){return r(!1),new Promise(function(Y,ee){a._destroyed?ee():a.push(v.from(L))?Y():a._resumeFetch=Y})},close:function(){r(!0),a._destroyed||a.push(null)},abort:function(L){r(!0),a._destroyed||a.emit("error",L)}});try{return void s.body.pipeTo(l).catch(function(L){r(!0),a._destroyed||a.emit("error",L)})}catch{}}var f=s.body.getReader();R()}else{a._xhr=u,a._pos=0,a.url=u.responseURL,a.statusCode=u.status,a.statusMessage=u.statusText;var b=u.getAllResponseHeaders().split(/\r?\n/);if(b.forEach(function(R){var L=R.match(/^([^:]+):\s*(.*)/);if(L){var Y=L[1].toLowerCase();Y==="set-cookie"?(a.headers[Y]===void 0&&(a.headers[Y]=[]),a.headers[Y].push(L[2])):a.headers[Y]===void 0?a.headers[Y]=L[2]:a.headers[Y]+=", "+L[2],a.rawHeaders.push(L[1],L[2])}}),a._charset="x-user-defined",!h.overrideMimeType){var C=a.rawHeaders["mime-type"];if(C){var $=C.match(/;\s*charset=([^;])(;|$)/);$&&(a._charset=$[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};e(c,o.Readable),c.prototype._read=function(){var u=this,s=u._resumeFetch;s&&(u._resumeFetch=null,s())},c.prototype._onXHRProgress=function(u){var s=this,t=s._xhr,r=null;switch(s._mode){case"text":if(r=t.responseText,r.length>s._pos){var a=r.substr(s._pos);if(s._charset==="x-user-defined"){for(var l=v.alloc(a.length),f=0;f<a.length;f++)l[f]=255&a.charCodeAt(f);s.push(l)}else s.push(a,s._charset);s._pos=r.length}break;case"arraybuffer":if(t.readyState!==i.DONE||!t.response)break;r=t.response,s.push(v.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==i.LOADING||!r)break;s.push(v.from(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==i.LOADING)break;var b=new w.MSStreamReader;b.onprogress=function(){b.result.byteLength>s._pos&&(s.push(v.from(new Uint8Array(b.result.slice(s._pos)))),s._pos=b.result.byteLength)},b.onload=function(){u(!0),s.push(null)},b.readAsArrayBuffer(r)}s._xhr.readyState===i.DONE&&s._mode!=="ms-stream"&&(u(!0),s.push(null))}}).call(this)}).call(this,m("_process"),typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global,m("buffer").Buffer)},{"./capability":258,_process:193,buffer:76,inherits:147,"readable-stream":228}],261:[function(m,U,A){async function p(v,h){let e=await w(v,h);return URL.createObjectURL(e)}U.exports=p;let w=m("stream-to-blob")},{"stream-to-blob":262}],262:[function(m,U,A){function p(w,v){if(v!=null&&typeof v!="string")throw new Error("Invalid mimetype, expected string.");return new Promise((h,e)=>{let o=[];w.on("data",i=>o.push(i)).once("end",()=>{let i=v==null?new Blob(o):new Blob(o,{type:v});h(i)}).once("error",e)})}U.exports=p},{}],263:[function(m,U,A){(function(p){(function(){var w=m("once");U.exports=function(h,e,o){o=w(o);var i=p.alloc(e),c=0;h.on("data",function(u){u.copy(i,c),c+=u.length}).on("end",function(){o(null,i)}).on("error",o)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76,once:178}],264:[function(m,U,A){function p(){this.stream._duplexState|=Re,(this.stream._duplexState&Ge)==0?this.updateNextTick():this.drain()}function w(Ut){let Te=this.stream;Ut&&Te.destroy(Ut),(Te._duplexState&ar)==0&&(Te._duplexState|=St,Te.emit("finish")),(Te._duplexState&an)===fn&&(Te._duplexState|=K),Te._duplexState&=ln,this.update()}function v(Ut){let Te=this.stream;Ut||this.error===Y||(Ut=this.error),Ut&&Te.emit("error",Ut),Te._duplexState|=z,Te.emit("close");let It=Te._readableState,un=Te._writableState;It!==null&&It.pipeline!==null&&It.pipeline.done(Te,Ut),un!==null&&un.pipeline!==null&&un.pipeline.done(Te,Ut)}function h(Ut){let Te=this.stream;Ut&&Te.destroy(Ut),Te._duplexState&=ln,(Te._duplexState&ye)===vn&&(Te._duplexState&=Xn,(Te._duplexState&Wt)===Wt&&Te.emit("drain")),(Te._duplexState&wt)==0&&this.update()}function e(Ut){Ut&&this.stream.destroy(Ut),this.stream._duplexState&=ce,(this.stream._duplexState&q)==0&&this.update()}function o(){this.stream._duplexState&=mt,this.update()}function i(){this.stream._duplexState&=tn,this.update()}function c(Ut){let Te=this.stream;Ut&&Te.destroy(Ut),(Te._duplexState&K)==0&&((Te._duplexState&Ht)==0&&(Te._duplexState|=oe),(Te._duplexState&pn)==0&&(Te._duplexState|=Dt),Te.emit("open")),Te._duplexState&=on,Te._writableState!==null&&Te._writableState.update(),Te._readableState!==null&&Te._readableState.update()}function u(Ut,Te){Te!=null&&this.push(Te),this._writableState.afterWrite(Ut)}function s(Ut,Te){let It=this._transformState.afterFinal;return Ut?It(Ut):(Te!=null&&this.push(Te),this.push(null),void It(null))}function t(...Ut){return new Promise((Te,It)=>r(...Ut,un=>un?It(un):void Te()))}function r(Ut,...Te){function It(Cn,Er,Jr,_i){function _o(){return Er&&Cn._readableState&&!Cn._readableState.ended||Jr&&Cn._writableState&&!Cn._writableState.ended?_i(ee):void 0}Cn.on("error",_i),Cn.on("close",_o)}function un(Cn){if(Cn&&!cr){cr=Cn;for(let Er of bn)Er.destroy(Cn)}}let bn=Array.isArray(Ut)?[...Ut,...Te]:[Ut,...Te],Fn=bn.length&&typeof bn[bn.length-1]=="function"?bn.pop():null;if(2>bn.length)throw new Error("Pipeline requires at least 2 streams");let Pn=bn[0],rr=null,cr=null;for(let Cn=1;Cn<bn.length;Cn++)rr=bn[Cn],l(Pn)?Pn.pipe(rr,un):(It(Pn,!0,1<Cn,un),Pn.pipe(rr)),Pn=rr;if(Fn){let Cn=!1;rr.on("finish",()=>{Cn=!0}),rr.on("error",Er=>{cr=cr||Er}),rr.on("close",()=>Fn(cr||(Cn?null:ee)))}return rr}function a(Ut){return!!Ut._readableState||!!Ut._writableState}function l(Ut){return typeof Ut._duplexState=="number"&&a(Ut)}function f(Ut){return Ut._readableState&&Ut._readableState.error||Ut._writableState&&Ut._writableState.error}function b(Ut){return l(Ut)&&Ut.readable}function C(Ut){return typeof Ut=="object"&&Ut!==null&&typeof Ut.byteLength=="number"}function $(Ut){return C(Ut)?Ut.byteLength:1024}function W(){}function R(){this.destroy(new Error("Stream aborted."))}let{EventEmitter:L}=m("events"),Y=new Error("Stream was destroyed"),ee=new Error("Premature close"),ae=m("queue-tick"),fe=m("fast-fifo"),xe=67108863,se=1,B=2,K=4,z=8,E=xe^se,j=xe^B,Z=16,oe=32,q=64,le=128,ge=256,Re=512,ke=1024,De=2048,$e=4096,qe=8192,nt=16384,bt=32784,ct=65536,Me=ge|Re,Ge=Z|q,Ze=Z|q|ct,ft=oe|Z,Mt=$e|le,ce=xe^Z,G=xe^oe,te=xe^(oe|ct),de=xe^q,_e=xe^ct,Pe=xe^ge,ze=xe^(le|qe),Ue=xe^ke,yt=xe^Me,mt=xe^bt,et=131072,Dt=262144,wt=524288,Lt=1048576,vn=2097152,St=4194304,Wt=8388608,Yt=16908288,Kt=33554432,ln=xe^et,_r=xe^wt,Jt=xe^Dt,rn=xe^Kt,Xn=xe^vn,qt=xe^Lt,tn=xe^Yt,Wn=Z|et,on=xe^Wn,fn=nt|St,ar=K|z|B,Xt=ar|se,an=ar|fn,Ir=Jt&G,en=Yt|bt,cn=en&on,Sr=Xt|cn,Ht=Xt|ke|nt,hn=Xt|nt|le,sr=Xt|ke|le,Vt=Xt|$e|le|qe,nn=Xt|Z|ke|nt|ct,Cr=ar|ke|nt,pn=Xt|Kt|St,gn=Lt|vn,Ke=Lt|et,ye=Lt|vn|Xt|et,He=Xt|et|Lt,Ye=Dt|et,Se=et|wt,Je=Xt|Kt|Ke|St,lr=vn|ar|Kt|St,mr=Symbol.asyncIterator||Symbol("asyncIterator");class Pr{constructor(Te,{highWaterMark:It=16384,map:un=null,mapWritable:bn,byteLength:Fn,byteLengthWritable:Pn}={}){this.stream=Te,this.queue=new fe,this.highWaterMark=It,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Pn||Fn||$,this.map=bn||un,this.afterWrite=h.bind(this),this.afterUpdateNextTick=i.bind(this)}get ended(){return(this.stream._duplexState&St)!=0}push(Te){return this.map!==null&&(Te=this.map(Te)),this.buffered+=this.byteLength(Te),this.queue.push(Te),this.buffered<this.highWaterMark?(this.stream._duplexState|=Lt,!0):(this.stream._duplexState|=gn,!1)}shift(){let Te=this.queue.shift(),It=this.stream;return this.buffered-=this.byteLength(Te),this.buffered===0&&(It._duplexState&=qt),Te}end(Te){typeof Te=="function"?this.stream.once("finish",Te):Te!=null&&this.push(Te),this.stream._duplexState=(this.stream._duplexState|Kt)&Jt}autoBatch(Te,It){let un=[],bn=this.stream;for(un.push(Te);(bn._duplexState&He)===Ke;)un.push(bn._writableState.shift());return(bn._duplexState&Xt)==0?void bn._writev(un,It):It(null)}update(){let Te=this.stream;for(;(Te._duplexState&He)===Lt;){let It=this.shift();Te._duplexState|=Se,Te._write(It,this.afterWrite),Te._duplexState&=_r}(Te._duplexState&Ye)==0&&this.updateNonPrimary()}updateNonPrimary(){let Te=this.stream;return(Te._duplexState&Je)===Kt?(Te._duplexState=(Te._duplexState|et)&rn,void Te._final(w.bind(this))):(Te._duplexState&ar)===K?void((Te._duplexState&en)==0&&(Te._duplexState|=Wn,Te._destroy(v.bind(this)))):void((Te._duplexState&Sr)===se&&(Te._duplexState=(Te._duplexState|Wn)&E,Te._open(c.bind(this))))}updateNextTick(){(this.stream._duplexState&Yt)!=0||(this.stream._duplexState|=Yt,ae(this.afterUpdateNextTick))}}class $r{constructor(Te,{highWaterMark:It=16384,map:un=null,mapReadable:bn,byteLength:Fn,byteLengthReadable:Pn}={}){this.stream=Te,this.queue=new fe,this.highWaterMark=It,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Pn||Fn||$,this.map=bn||un,this.pipeTo=null,this.afterRead=e.bind(this),this.afterUpdateNextTick=o.bind(this)}get ended(){return(this.stream._duplexState&nt)!=0}pipe(Te,It){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof It!="function"&&(It=null),this.stream._duplexState|=Re,this.pipeTo=Te,this.pipeline=new vr(this.stream,Te,It),It&&this.stream.on("error",W),l(Te))Te._writableState.pipeline=this.pipeline,It&&Te.on("error",W),Te.on("finish",this.pipeline.finished.bind(this.pipeline));else{let un=this.pipeline.done.bind(this.pipeline,Te),bn=this.pipeline.done.bind(this.pipeline,Te,null);Te.on("error",un),Te.on("close",bn),Te.on("finish",this.pipeline.finished.bind(this.pipeline))}Te.on("drain",p.bind(this)),this.stream.emit("piping",Te),Te.emit("pipe",this.stream)}push(Te){let It=this.stream;return Te===null?(this.highWaterMark=0,It._duplexState=(It._duplexState|ke)&te,!1):(this.map!==null&&(Te=this.map(Te)),this.buffered+=this.byteLength(Te),this.queue.push(Te),It._duplexState=(It._duplexState|le)&_e,this.buffered<this.highWaterMark)}shift(){let Te=this.queue.shift();return this.buffered-=this.byteLength(Te),this.buffered===0&&(this.stream._duplexState&=ze),Te}unshift(Te){let It,un=[];for(;(It=this.queue.shift())!==void 0;)un.push(It);this.push(Te);for(let bn=0;bn<un.length;bn++)this.queue.push(un[bn])}read(){let Te=this.stream;if((Te._duplexState&hn)===le){let It=this.shift();return this.pipeTo!==null&&this.pipeTo.write(It)===!1&&(Te._duplexState&=yt),(Te._duplexState&De)!=0&&Te.emit("data",It),It}return null}drain(){for(let Te=this.stream;(Te._duplexState&hn)===le&&(Te._duplexState&Me)!=0;){let It=this.shift();this.pipeTo!==null&&this.pipeTo.write(It)===!1&&(Te._duplexState&=yt),(Te._duplexState&De)!=0&&Te.emit("data",It)}}update(){let Te=this.stream;for(this.drain();this.buffered<this.highWaterMark&&(Te._duplexState&nn)==0;)Te._duplexState|=Ze,Te._read(this.afterRead),Te._duplexState&=de,(Te._duplexState&Z)==0&&this.drain();(Te._duplexState&Vt)===Mt&&(Te._duplexState|=qe,Te.emit("readable")),(Te._duplexState&ft)==0&&this.updateNonPrimary()}updateNonPrimary(){let Te=this.stream;return(Te._duplexState&sr)===ke&&(Te._duplexState=(Te._duplexState|nt)&Ue,Te.emit("end"),(Te._duplexState&an)===fn&&(Te._duplexState|=K),this.pipeTo!==null&&this.pipeTo.end()),(Te._duplexState&ar)===K?void((Te._duplexState&en)==0&&(Te._duplexState|=Wn,Te._destroy(v.bind(this)))):void((Te._duplexState&Sr)===se&&(Te._duplexState=(Te._duplexState|Wn)&E,Te._open(c.bind(this))))}updateNextTick(){(this.stream._duplexState&bt)!=0||(this.stream._duplexState|=bt,ae(this.afterUpdateNextTick))}}class Fr{constructor(Te){this.data=null,this.afterTransform=u.bind(Te),this.afterFinal=null}}class vr{constructor(Te,It,un){this.from=Te,this.to=It,this.afterPipe=un,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(Te,It){return It&&(this.error=It),Te===this.to&&(this.to=null,this.from!==null)?void((this.from._duplexState&nt)!=0&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):Te===this.from&&(this.from=null,this.to!==null)?void((Te._duplexState&nt)==0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(this.afterPipe!==null&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class br extends L{constructor(Te){super(),this._duplexState=0,this._readableState=null,this._writableState=null,Te&&(Te.open&&(this._open=Te.open),Te.destroy&&(this._destroy=Te.destroy),Te.predestroy&&(this._predestroy=Te.predestroy),Te.signal&&Te.signal.addEventListener("abort",R.bind(this)))}_open(Te){Te(null)}_destroy(Te){Te(null)}_predestroy(){}get readable(){return this._readableState!==null||void 0}get writable(){return this._writableState!==null||void 0}get destroyed(){return(this._duplexState&z)!=0}get destroying(){return(this._duplexState&ar)!=0}destroy(Te){(this._duplexState&ar)==0&&(!Te&&(Te=Y),this._duplexState=(this._duplexState|K)&Ir,this._readableState!==null&&(this._readableState.error=Te),this._writableState!==null&&(this._writableState.error=Te),this._duplexState|=B,this._predestroy(),this._duplexState&=j,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(Te,It){return this._readableState!==null&&(Te==="data"&&(this._duplexState|=De|ge,this._readableState.updateNextTick()),Te==="readable"&&(this._duplexState|=$e,this._readableState.updateNextTick())),this._writableState!==null&&Te==="drain"&&(this._duplexState|=Wt,this._writableState.updateNextTick()),super.on(Te,It)}}class Zn extends br{constructor(Te){super(Te),this._duplexState|=se|St,this._readableState=new $r(this,Te),Te&&(Te.read&&(this._read=Te.read),Te.eagerOpen&&this.resume().pause())}_read(Te){Te(null)}pipe(Te,It){return this._readableState.pipe(Te,It),this._readableState.updateNextTick(),Te}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(Te){return this._readableState.updateNextTick(),this._readableState.push(Te)}unshift(Te){return this._readableState.updateNextTick(),this._readableState.unshift(Te)}resume(){return this._duplexState|=ge,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Pe,this}static _fromAsyncIterator(Te,It){function un(Pn){Pn.done?Fn.push(null):Fn.push(Pn.value)}let bn,Fn=new Zn({...It,read(Pn){Te.next().then(un).then(Pn.bind(null,null)).catch(Pn)},predestroy(){bn=Te.return()},destroy(Pn){return bn?void bn.then(Pn.bind(null,null)).catch(Pn):Pn(null)}});return Fn}static from(Te,It){if(b(Te))return Te;if(Te[mr])return this._fromAsyncIterator(Te[mr](),It);Array.isArray(Te)||(Te=Te===void 0?[]:[Te]);let un=0;return new Zn({...It,read(bn){this.push(un===Te.length?null:Te[un++]),bn(null)}})}static isBackpressured(Te){return(Te._duplexState&Cr)!=0||Te._readableState.buffered>=Te._readableState.highWaterMark}static isPaused(Te){return(Te._duplexState&ge)==0}[mr](){function Te(){rr!==null&&un(Fn.read())}function It(){rr!==null&&un(null)}function un(Cn){cr===null||(Pn?cr(Pn):Cn===null&&(Fn._duplexState&nt)==0?cr(Y):rr({value:Cn,done:Cn==null}),cr=rr=null)}function bn(Cn){return Fn.destroy(Cn),new Promise((Er,Jr)=>Fn._duplexState&z?Er({value:void 0,done:!0}):void Fn.once("close",function(){Cn?Jr(Cn):Er({value:void 0,done:!0})}))}let Fn=this,Pn=null,rr=null,cr=null;return this.on("error",Cn=>{Pn=Cn}),this.on("readable",Te),this.on("close",It),{[mr](){return this},next(){return new Promise(function(Cn,Er){rr=Cn,cr=Er;let Jr=Fn.read();Jr===null?(Fn._duplexState&z)!=0&&un(null):un(Jr)})},return(){return bn(null)},throw(Cn){return bn(Cn)}}}}class yr extends br{constructor(Te){super(Te),this._duplexState|=se|nt,this._writableState=new Pr(this,Te),Te&&(Te.writev&&(this._writev=Te.writev),Te.write&&(this._write=Te.write),Te.final&&(this._final=Te.final))}_writev(Te,It){It(null)}_write(Te,It){this._writableState.autoBatch(Te,It)}_final(Te){Te(null)}static isBackpressured(Te){return(Te._duplexState&lr)!=0}write(Te){return this._writableState.updateNextTick(),this._writableState.push(Te)}end(Te){return this._writableState.updateNextTick(),this._writableState.end(Te),this}}class dr extends Zn{constructor(Te){super(Te),this._duplexState=se,this._writableState=new Pr(this,Te),Te&&(Te.writev&&(this._writev=Te.writev),Te.write&&(this._write=Te.write),Te.final&&(this._final=Te.final))}_writev(Te,It){It(null)}_write(Te,It){this._writableState.autoBatch(Te,It)}_final(Te){Te(null)}write(Te){return this._writableState.updateNextTick(),this._writableState.push(Te)}end(Te){return this._writableState.updateNextTick(),this._writableState.end(Te),this}}class fr extends dr{constructor(Te){super(Te),this._transformState=new Fr(this),Te&&(Te.transform&&(this._transform=Te.transform),Te.flush&&(this._flush=Te.flush))}_write(Te,It){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=Te:this._transform(Te,this._transformState.afterTransform)}_read(Te){if(this._transformState.data!==null){let It=this._transformState.data;this._transformState.data=null,Te(null),this._transform(It,this._transformState.afterTransform)}else Te(null)}_transform(Te,It){It(null,Te)}_flush(Te){Te(null)}_final(Te){this._transformState.afterFinal=Te,this._flush(s.bind(this))}}class Qn extends fr{}U.exports={pipeline:r,pipelinePromise:t,isStream:a,isStreamx:l,getStreamError:f,Stream:br,Writable:yr,Readable:Zn,Duplex:dr,Transform:fr,PassThrough:Qn}},{events:123,"fast-fifo":127,"queue-tick":207}],265:[function(m,U,A){arguments[4][71][0].apply(A,arguments)},{dup:71,"safe-buffer":235}],266:[function(m,U,A){var p=m("./thirty-two");A.encode=p.encode,A.decode=p.decode},{"./thirty-two":267}],267:[function(m,U,A){(function(p){(function(){"use strict";function w(e){var o=I(e.length/5);return e.length%5==0?o:o+1}var v="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",h=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];A.encode=function(e){p.isBuffer(e)||(e=new p(e));for(var o=0,i=0,c=0,u=0,s=new p(8*w(e));o<e.length;){var t=e[o];3<c?(u=t&255>>c,c=(c+5)%8,u=u<<c|(o+1<e.length?e[o+1]:0)>>8-c,o++):(u=31&t>>8-(c+5),c=(c+5)%8,c===0&&o++),s[i]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(u),i++}for(o=i;o<s.length;o++)s[o]=61;return s},A.decode=function(e){var o=0,i=0,c=0,u;p.isBuffer(e)||(e=new p(e));for(var s=new p(N(5*e.length/8)),t=0;t<e.length&&e[t]!==61;t++){var r=e[t]-48;if(r<h.length)i=h[r],3>=o?(o=(o+5)%8,o===0?(u|=i,s[c]=u,c++,u=0):u|=255&i<<8-o):(o=(o+5)%8,u|=255&i>>>o,s[c]=u,c++,u=255&i<<8-o);else throw new Error("Invalid input - it is not base32 encoded string")}return s.slice(0,c)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],268:[function(m,U,A){function p(e){return 65535&(+Date.now()-e)/h}let w=65535,v=10,h=1e3/v;U.exports=function(e){let o=+Date.now(),i=v*(e||5),c=[0],u=1,s=p(o)-1&w;return function(t){let r=p(o),a=r-s&w;for(a>i&&(a=i),s=r;a--;)u===i&&(u=0),c[u]=c[u==0?i-1:u-1],u++;t&&(c[u-1]+=t);let l=c[u-1],f=c.length<i?0:c[u===i?0:u];return c.length<v?l:(l-f)*v/c.length}}},{}],269:[function(m,U,A){var p=m("buffer").Buffer;U.exports=function(w){if(w instanceof Uint8Array){if(w.byteOffset===0&&w.byteLength===w.buffer.byteLength)return w.buffer;if(typeof w.buffer.slice=="function")return w.buffer.slice(w.byteOffset,w.byteOffset+w.byteLength)}if(p.isBuffer(w)){for(var v=new Uint8Array(w.length),h=w.length,e=0;e<h;e++)v[e]=w[e];return v.buffer}throw new Error("Argument must be a Buffer")}},{buffer:76}],270:[function(m,U,A){(function(p){(function(){let w=m("debug")("torrent-discovery"),v=m("bittorrent-dht/client"),h=m("events").EventEmitter,e=m("run-parallel"),o=m("bittorrent-tracker/client"),i=m("bittorrent-lsd");class c extends h{constructor(s){if(super(),!s.peerId)throw new Error("Option `peerId` is required");if(!s.infoHash)throw new Error("Option `infoHash` is required");if(!p.browser&&!s.port)throw new Error("Option `port` is required");this.peerId=typeof s.peerId=="string"?s.peerId:s.peerId.toString("hex"),this.infoHash=typeof s.infoHash=="string"?s.infoHash.toLowerCase():s.infoHash.toString("hex"),this._port=s.port,this._userAgent=s.userAgent,this.destroyed=!1,this._announce=s.announce||[],this._intervalMs=s.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=r=>{this.emit("warning",r)},this._onError=r=>{this.emit("error",r)},this._onDHTPeer=(r,a)=>{a.toString("hex")!==this.infoHash||this.emit("peer",`${r.host}:${r.port}`,"dht")},this._onTrackerPeer=r=>{this.emit("peer",r,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(r,a)=>{this.emit("peer",r,"lsd")};let t=(r,a)=>{let l=new v(a);return l.on("warning",this._onWarning),l.on("error",this._onError),l.listen(r),this._internalDHT=!0,l};s.tracker===!1?this.tracker=null:s.tracker&&typeof s.tracker=="object"?(this._trackerOpts=Object.assign({},s.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=s.dht===!1||typeof v!="function"?null:s.dht&&typeof s.dht.addNode=="function"?s.dht:s.dht&&typeof s.dht=="object"?t(s.dhtPort,s.dht):t(s.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=s.lsd===!1||typeof i!="function"?null:this._createLSD()}updatePort(s){s===this._port||(this._port=s,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(s){this.tracker&&this.tracker.complete(s)}destroy(s){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);let t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(r=>{this.tracker.destroy(r)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(r=>{this.dht.destroy(r)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),t.push(r=>{this.lsd.destroy(r)})),e(t,s),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){let s=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new o(s);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(w("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,s=>{this._dhtAnnouncing=!1,w("dht announce complete"),s&&this.emit("warning",s),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+I(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){let s=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),t=new i(s);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onLSDPeer),t.start(),t}}U.exports=c}).call(this)}).call(this,m("_process"))},{_process:193,"bittorrent-dht/client":42,"bittorrent-lsd":42,"bittorrent-tracker/client":33,debug:91,events:123,"run-parallel":233}],271:[function(m,U,A){(function(p){(function(){class v{constructor(e){this.length=e,this.missing=e,this.sources=null,this._chunks=N(e/16384),this._remainder=e%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(e){return e===this._chunks-1?this._remainder:16384}chunkLengthRemaining(e){return this.length-e*16384}chunkOffset(e){return e*16384}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let e=this._reservations;for(;this._cancellations.length;)e=J(e,this._cancellations.pop());return this._reservations=this._chunks,e}return-1}cancel(e){this.init()&&this._cancellations.push(e)}cancelRemaining(e){this.init()&&(this._reservations=e)}get(e){return this.init()?this._buffer[e]:null}set(e,o,i){if(!this.init())return!1;let c=o.length,u=N(c/16384);for(let s=0;s<u;s++)if(!this._buffer[e+s]){let t=s*16384,r=o.slice(t,t+16384);this._buffered++,this._buffer[e+s]=r,this.missing-=r.length,this.sources.includes(i)||this.sources.push(i)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;let e=p.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,e}init(){return!this._flushed&&(!!this._buffer||(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],!0))}}Object.defineProperty(v,"BLOCK_LENGTH",{value:16384}),U.exports=v}).call(this)}).call(this,m("buffer").Buffer)},{buffer:76}],272:[function(m,U,A){var p=m("buffer-alloc"),w=k(2,32);A.encodingLength=function(){return 8},A.encode=function(v,h,e){h||(h=p(8)),e||(e=0);var o=I(v/w),i=v-o*w;return h.writeUInt32BE(o,e),h.writeUInt32BE(i,e+4),h},A.decode=function(v,h){h||(h=0);var e=v.readUInt32BE(h),o=v.readUInt32BE(h+4);return e*w+o},A.encode.bytes=8,A.decode.bytes=8},{"buffer-alloc":73}],273:[function(m,U,A){function p(w,v){if(!(v>=w.length||0>v)){var h=w.pop();if(v<w.length){var e=w[v];return w[v]=h,e}return h}}U.exports=p},{}],274:[function(m,U,A){"use strict";function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function w(ee,ae,fe){if(ee&&i.isObject(ee)&&ee instanceof p)return ee;var xe=new p;return xe.parse(ee,ae,fe),xe}function v(ee){return i.isString(ee)&&(ee=w(ee)),ee instanceof p?ee.format():p.prototype.format.call(ee)}function h(ee,ae){return w(ee,!1,!0).resolve(ae)}function e(ee,ae){return ee?w(ee,!1,!0).resolveObject(ae):ae}var o=m("punycode"),i=m("./util");A.parse=w,A.resolve=h,A.resolveObject=e,A.format=v,A.Url=p;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(t),a=["'"].concat(r),l=["%","/","?",";","#"].concat(a),f=["/","?","#"],b=255,C=/^[+a-z0-9A-Z_-]{0,63}$/,$=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,W={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y=m("querystring");p.prototype.parse=function(ee,ae,fe){if(!i.isString(ee))throw new TypeError("Parameter 'url' must be a string, not "+typeof ee);var xe=ee.indexOf("?"),se=xe!==-1&&xe<ee.indexOf("#")?"?":"#",B=ee.split(se),K=/\\/g;B[0]=B[0].replace(K,"/"),ee=B.join(se);var z=ee;if(z=z.trim(),!fe&&ee.split("#").length===1){var E=s.exec(z);if(E)return this.path=z,this.href=z,this.pathname=E[1],E[2]?(this.search=E[2],this.query=ae?Y.parse(this.search.substr(1)):this.search.substr(1)):ae&&(this.search="",this.query={}),this}var j=c.exec(z);if(j){j=j[0];var Z=j.toLowerCase();this.protocol=Z,z=z.substr(j.length)}if(fe||j||z.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=z.substr(0,2)==="//";oe&&!(j&&R[j])&&(z=z.substr(2),this.slashes=!0)}if(!R[j]&&(oe||j&&!L[j])){for(var q=-1,le=0,ge;le<f.length;le++)ge=z.indexOf(f[le]),ge!==-1&&(q===-1||ge<q)&&(q=ge);var Re,ke;ke=q===-1?z.lastIndexOf("@"):z.lastIndexOf("@",q),ke!==-1&&(Re=z.slice(0,ke),z=z.slice(ke+1),this.auth=decodeURIComponent(Re)),q=-1;for(var le=0,ge;le<l.length;le++)ge=z.indexOf(l[le]),ge!==-1&&(q===-1||ge<q)&&(q=ge);q===-1&&(q=z.length),this.host=z.slice(0,q),z=z.slice(q),this.parseHost(),this.hostname=this.hostname||"";var De=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!De){for(var $e=this.hostname.split(/\./),le=0,qe=$e.length,nt;le<qe;le++)if(nt=$e[le],nt&&!nt.match(C)){for(var bt="",ct=0,Me=nt.length;ct<Me;ct++)bt+=127<nt.charCodeAt(ct)?"x":nt[ct];if(!bt.match(C)){var Ge=$e.slice(0,le),Ze=$e.slice(le+1),ft=nt.match($);ft&&(Ge.push(ft[1]),Ze.unshift(ft[2])),Ze.length&&(z="/"+Ze.join(".")+z),this.hostname=Ge.join(".");break}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),De||(this.hostname=o.toASCII(this.hostname));var Mt=this.port?":"+this.port:"",ce=this.hostname||"";this.host=ce+Mt,this.href+=this.host,De&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),z[0]!=="/"&&(z="/"+z))}if(!W[Z]){for(var le=0,qe=a.length,G;le<qe;le++)if(G=a[le],z.indexOf(G)!==-1){var te=encodeURIComponent(G);te===G&&(te=escape(G)),z=z.split(G).join(te)}}var de=z.indexOf("#");de!==-1&&(this.hash=z.substr(de),z=z.slice(0,de));var _e=z.indexOf("?");if(_e===-1?ae&&(this.search="",this.query={}):(this.search=z.substr(_e),this.query=z.substr(_e+1),ae&&(this.query=Y.parse(this.query)),z=z.slice(0,_e)),z&&(this.pathname=z),L[Z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Mt=this.pathname||"",Pe=this.search||"";this.path=Mt+Pe}return this.href=this.format(),this},p.prototype.format=function(){var ee=this.auth||"";ee&&(ee=encodeURIComponent(ee),ee=ee.replace(/%3A/i,":"),ee+="@");var ae=this.protocol||"",fe=this.pathname||"",xe=this.hash||"",se=!1,B="";this.host?se=ee+this.host:this.hostname&&(se=ee+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(se+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(B=Y.stringify(this.query));var K=this.search||B&&"?"+B||"";return ae&&ae.substr(-1)!==":"&&(ae+=":"),this.slashes||(!ae||L[ae])&&se!==!1?(se="//"+(se||""),fe&&fe.charAt(0)!=="/"&&(fe="/"+fe)):!se&&(se=""),xe&&xe.charAt(0)!=="#"&&(xe="#"+xe),K&&K.charAt(0)!=="?"&&(K="?"+K),fe=fe.replace(/[?#]/g,function(z){return encodeURIComponent(z)}),K=K.replace("#","%23"),ae+se+fe+K+xe},p.prototype.resolve=function(ee){return this.resolveObject(w(ee,!1,!0)).format()},p.prototype.resolveObject=function(ee){if(i.isString(ee)){var ae=new p;ae.parse(ee,!1,!0),ee=ae}for(var fe=new p,xe=Object.keys(this),se=0,B;se<xe.length;se++)B=xe[se],fe[B]=this[B];if(fe.hash=ee.hash,ee.href==="")return fe.href=fe.format(),fe;if(ee.slashes&&!ee.protocol){for(var K=Object.keys(ee),z=0,E;z<K.length;z++)E=K[z],E!=="protocol"&&(fe[E]=ee[E]);return L[fe.protocol]&&fe.hostname&&!fe.pathname&&(fe.path=fe.pathname="/"),fe.href=fe.format(),fe}if(ee.protocol&&ee.protocol!==fe.protocol){if(!L[ee.protocol]){for(var j=Object.keys(ee),Z=0,oe;Z<j.length;Z++)oe=j[Z],fe[oe]=ee[oe];return fe.href=fe.format(),fe}if(fe.protocol=ee.protocol,!ee.host&&!R[ee.protocol]){for(var qe=(ee.pathname||"").split("/");qe.length&&!(ee.host=qe.shift()););ee.host||(ee.host=""),ee.hostname||(ee.hostname=""),qe[0]!==""&&qe.unshift(""),2>qe.length&&qe.unshift(""),fe.pathname=qe.join("/")}else fe.pathname=ee.pathname;if(fe.search=ee.search,fe.query=ee.query,fe.host=ee.host||"",fe.auth=ee.auth,fe.hostname=ee.hostname||ee.host,fe.port=ee.port,fe.pathname||fe.search){var q=fe.pathname||"",le=fe.search||"";fe.path=q+le}return fe.slashes=fe.slashes||ee.slashes,fe.href=fe.format(),fe}var ge=fe.pathname&&fe.pathname.charAt(0)==="/",Re=ee.host||ee.pathname&&ee.pathname.charAt(0)==="/",ke=Re||ge||fe.host&&ee.pathname,De=ke,$e=fe.pathname&&fe.pathname.split("/")||[],qe=ee.pathname&&ee.pathname.split("/")||[],nt=fe.protocol&&!L[fe.protocol];if(nt&&(fe.hostname="",fe.port=null,fe.host&&($e[0]===""?$e[0]=fe.host:$e.unshift(fe.host)),fe.host="",ee.protocol&&(ee.hostname=null,ee.port=null,ee.host&&(qe[0]===""?qe[0]=ee.host:qe.unshift(ee.host)),ee.host=null),ke=ke&&(qe[0]===""||$e[0]==="")),Re)fe.host=ee.host||ee.host===""?ee.host:fe.host,fe.hostname=ee.hostname||ee.hostname===""?ee.hostname:fe.hostname,fe.search=ee.search,fe.query=ee.query,$e=qe;else if(qe.length)$e||($e=[]),$e.pop(),$e=$e.concat(qe),fe.search=ee.search,fe.query=ee.query;else if(!i.isNullOrUndefined(ee.search)){if(nt){fe.hostname=fe.host=$e.shift();var bt=!!(fe.host&&0<fe.host.indexOf("@"))&&fe.host.split("@");bt&&(fe.auth=bt.shift(),fe.host=fe.hostname=bt.shift())}return fe.search=ee.search,fe.query=ee.query,i.isNull(fe.pathname)&&i.isNull(fe.search)||(fe.path=(fe.pathname?fe.pathname:"")+(fe.search?fe.search:"")),fe.href=fe.format(),fe}if(!$e.length)return fe.pathname=null,fe.path=fe.search?"/"+fe.search:null,fe.href=fe.format(),fe;for(var ct=$e.slice(-1)[0],Me=(fe.host||ee.host||1<$e.length)&&(ct==="."||ct==="..")||ct==="",Ge=0,Ze=$e.length;0<=Ze;Ze--)ct=$e[Ze],ct==="."?$e.splice(Ze,1):ct===".."?($e.splice(Ze,1),Ge++):Ge&&($e.splice(Ze,1),Ge--);if(!ke&&!De)for(;Ge--;Ge)$e.unshift("..");ke&&$e[0]!==""&&(!$e[0]||$e[0].charAt(0)!=="/")&&$e.unshift(""),Me&&$e.join("/").substr(-1)!=="/"&&$e.push("");var ft=$e[0]===""||$e[0]&&$e[0].charAt(0)==="/";if(nt){fe.hostname=fe.host=ft?"":$e.length?$e.shift():"";var bt=!!(fe.host&&0<fe.host.indexOf("@"))&&fe.host.split("@");bt&&(fe.auth=bt.shift(),fe.host=fe.hostname=bt.shift())}return ke=ke||fe.host&&$e.length,ke&&!ft&&$e.unshift(""),$e.length?fe.pathname=$e.join("/"):(fe.pathname=null,fe.path=null),i.isNull(fe.pathname)&&i.isNull(fe.search)||(fe.path=(fe.pathname?fe.pathname:"")+(fe.search?fe.search:"")),fe.auth=ee.auth||fe.auth,fe.slashes=fe.slashes||ee.slashes,fe.href=fe.format(),fe},p.prototype.parseHost=function(){var ee=this.host,ae=u.exec(ee);ae&&(ae=ae[0],ae!==":"&&(this.port=ae.substr(1)),ee=ee.substr(0,ee.length-ae.length)),ee&&(this.hostname=ee)}},{"./util":275,punycode:202,querystring:205}],275:[function(m,U,A){"use strict";U.exports={isString:function(p){return typeof p=="string"},isObject:function(p){return typeof p=="object"&&p!==null},isNull:function(p){return p===null},isNullOrUndefined:function(p){return p==null}}},{}],276:[function(m,U,A){(function(p){(function(){let{EventEmitter:w}=m("events"),v=m("bencode"),h=m("bitfield").default,e=m("debug")("ut_metadata"),o=m("simple-sha1"),i=1e7,c=1e3,u=16384;U.exports=s=>{class t extends w{constructor(a){super(),this._wire=a,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new h(0,{grow:c}),p.isBuffer(s)&&this.setMetadata(s)}onHandshake(a,l,f){this._infoHash=a}onExtendedHandshake(a){return a.m&&a.m.ut_metadata?a.metadata_size?typeof a.metadata_size!="number"||i<a.metadata_size||0>=a.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=a.metadata_size,this._numPieces=N(this._metadataSize/u),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(a){let l,f;try{let b=a.toString(),C=b.indexOf("ee")+2;l=v.decode(b.substring(0,C)),f=a.slice(C)}catch{return}switch(l.msg_type){case 0:this._onRequest(l.piece);break;case 1:this._onData(l.piece,f,l.total_size);break;case 2:this._onReject(l.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(a){if(this._metadataComplete)return!0;e("set metadata");try{let l=v.decode(a).info;l&&(a=v.encode(l))}catch{}return!(this._infoHash&&this._infoHash!==o.sync(a))&&(this.cancel(),this.metadata=a,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",v.encode({info:v.decode(this.metadata)})),!0)}_send(a,l){let f=v.encode(a);p.isBuffer(l)&&(f=p.concat([f,l])),this._wire.extended("ut_metadata",f)}_request(a){this._send({msg_type:0,piece:a})}_data(a,l,f){let b={msg_type:1,piece:a};typeof f=="number"&&(b.total_size=f),this._send(b,l)}_reject(a){this._send({msg_type:2,piece:a})}_onRequest(a){if(!this._metadataComplete)return void this._reject(a);let l=a*u,f=l+u;f>this._metadataSize&&(f=this._metadataSize);let b=this.metadata.slice(l,f);this._data(a,b,this._metadataSize)}_onData(a,l,f){l.length>u||!this._fetching||(l.copy(this.metadata,a*u),this._bitfield.set(a),this._checkDone())}_onReject(a){0<this._remainingRejects&&this._fetching?(this._request(a),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=p.alloc(this._metadataSize);for(let a=0;a<this._numPieces;a++)this._request(a)}}_checkDone(){let a=!0;for(let l=0;l<this._numPieces;l++)if(!this._bitfield.get(l)){a=!1;break}a&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new h(0,{grow:c}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return t.prototype.name="ut_metadata",t}}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,bitfield:31,buffer:76,debug:91,events:123,"simple-sha1":248}],277:[function(m,U,A){(function(p){(function(){function w(h,e){function o(){if(!i){if(v("throwDeprecation"))throw new Error(e);v("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return h.apply(this,arguments)}if(v("noDeprecation"))return h;var i=!1;return o}function v(h){try{if(!p.localStorage)return!1}catch{return!1}var e=p.localStorage[h];return e!=null&&(e+"").toLowerCase()==="true"}U.exports=w}).call(this)}).call(this,typeof global=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:global)},{}],278:[function(m,U,A){(function(p){(function(){function w(){return{version:0,flags:0,entries:[]}}let v=m("binary-search"),h=m("events"),e=m("mp4-stream"),o=m("mp4-box-encoding"),i=m("range-slice-stream"),c=4096;class u extends h{constructor(a){super(),this._tracks=[],this._file=a,this._decoder=null,this._findMoov(0)}_findMoov(a){this._decoder&&this._decoder.destroy();let l=0;this._decoder=e.decode();let f=this._file.createReadStream({start:a});f.pipe(this._decoder);let b=C=>{C.type==="moov"?(this._decoder.removeListener("box",b),this._decoder.decode($=>{f.destroy();try{this._processMoov($)}catch(W){W.message=`Cannot parse mp4 file: ${W.message}`,this.emit("error",W)}})):C.length<c?(l+=C.length,this._decoder.ignore()):(this._decoder.removeListener("box",b),l+=C.length,f.destroy(),this._decoder.destroy(),this._findMoov(a+l))};this._decoder.on("box",b)}_processMoov(a){let l=a.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let $=0;$<l.length;$++){let W=l[$],R=W.mdia.minf.stbl,L=R.stsd.entries[0],Y=W.mdia.hdlr.handlerType,ee,ae;if(Y==="vide"&&L.type==="avc1"){if(this._hasVideo)continue;this._hasVideo=!0,ee="avc1",L.avcC&&(ee+=`.${L.avcC.mimeCodec}`),ae=`video/mp4; codecs="${ee}"`}else if(Y==="soun"&&L.type==="mp4a"){if(this._hasAudio)continue;this._hasAudio=!0,ee="mp4a",L.esds&&L.esds.mimeCodec&&(ee+=`.${L.esds.mimeCodec}`),ae=`audio/mp4; codecs="${ee}"`}else continue;let fe=[],xe=0,se=0,B=0,K=0,z=0,E=0,j=new s(R.stts.entries),Z=null;R.ctts&&(Z=new s(R.ctts.entries));for(let le=0;;){var f=R.stsc.entries[z];let ge=R.stsz.entries[xe],Re=j.value.duration,ke=Z?Z.value.compositionOffset:0,De=!0;R.stss&&(De=R.stss.entries[le]===xe+1);let $e=R.stco||R.co64;if(fe.push({size:ge,duration:Re,dts:E,presentationOffset:ke,sync:De,offset:K+$e.entries[B]}),xe++,xe>=R.stsz.entries.length)break;if(se++,K+=ge,se>=f.samplesPerChunk){se=0,K=0,B++;let qe=R.stsc.entries[z+1];qe&&B+1>=qe.firstChunk&&z++}E+=Re,j.inc(),Z&&Z.inc(),De&&le++}W.mdia.mdhd.duration=0,W.tkhd.duration=0;let oe=f.sampleDescriptionId,q={type:"moov",mvhd:a.mvhd,traks:[{tkhd:W.tkhd,mdia:{mdhd:W.mdia.mdhd,hdlr:W.mdia.hdlr,elng:W.mdia.elng,minf:{vmhd:W.mdia.minf.vmhd,smhd:W.mdia.minf.smhd,dinf:W.mdia.minf.dinf,stbl:{stsd:R.stsd,stts:w(),ctts:w(),stsc:w(),stsz:w(),stco:w(),stss:w()}}}}],mvex:{mehd:{fragmentDuration:a.mvhd.duration},trexs:[{trackId:W.tkhd.trackId,defaultSampleDescriptionIndex:oe,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}};this._tracks.push({fragmentSequence:1,trackId:W.tkhd.trackId,timeScale:W.mdia.mdhd.timeScale,samples:fe,currSample:null,currTime:null,moov:q,mime:ae})}if(this._tracks.length===0)return void this.emit("error",new Error("no playable tracks"));a.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};let b=o.encode(this._ftyp),C=this._tracks.map($=>{let W=o.encode($.moov);return{mime:$.mime,init:p.concat([b,W])}});this.emit("ready",C)}seek(a){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let l=-1;if(this._tracks.map((f,b)=>{f.outStream&&f.outStream.destroy(),f.inStream&&(f.inStream.destroy(),f.inStream=null);let C=f.outStream=e.encode(),$=this._generateFragment(b,a);if(!$)return C.finalize();(l===-1||$.ranges[0].start<l)&&(l=$.ranges[0].start);let W=R=>{C.destroyed||C.box(R.moof,L=>{if(L)return this.emit("error",L);C.destroyed||f.inStream.slice(R.ranges).pipe(C.mediaData(R.length,ee=>{if(ee)return this.emit("error",ee);if(!C.destroyed){let ae=this._generateFragment(b);return ae?void W(ae):C.finalize()}}))})};W($)}),0<=l){let f=this._fileStream=this._file.createReadStream({start:l});this._tracks.forEach(b=>{b.inStream=new i(l,{highWaterMark:1e7}),f.pipe(b.inStream)})}return this._tracks.map(f=>f.outStream)}_findSampleBefore(a,l){let f=this._tracks[a],b=I(f.timeScale*l),C=v(f.samples,b,($,W)=>$.dts+$.presentationOffset-W);for(C===-1?C=0:0>C&&(C=-C-2);!f.samples[C].sync;)C--;return C}_generateFragment(a,l){let f=this._tracks[a],b;if(b=l===void 0?f.currSample:this._findSampleBefore(a,l),b>=f.samples.length)return null;let C=f.samples[b].dts,$=0,W=[];for(var R=b;R<f.samples.length;R++){let L=f.samples[R];if(L.sync&&L.dts-C>=f.timeScale*t)break;$+=L.size;let Y=W.length-1;0>Y||W[Y].end!==L.offset?W.push({start:L.offset,end:L.offset+L.size}):W[Y].end+=L.size}return f.currSample=R,{moof:this._generateMoof(a,b,R),ranges:W,length:$}}_generateMoof(a,l,f){let b=this._tracks[a],C=[],$=0;for(let R=l;R<f;R++){let L=b.samples[R];0>L.presentationOffset&&($=1),C.push({sampleDuration:L.duration,sampleSize:L.size,sampleFlags:L.sync?33554432:16842752,sampleCompositionTimeOffset:L.presentationOffset})}let W={type:"moof",mfhd:{sequenceNumber:b.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:b.trackId},tfdt:{baseMediaDecodeTime:b.samples[l].dts},trun:{flags:3841,dataOffset:8,entries:C,version:$}}]};return W.trafs[0].trun.dataOffset+=o.encodingLength(W),W}}class s{constructor(a,l){this._entries=a,this._countName=l||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}let t=1;U.exports=u}).call(this)}).call(this,m("buffer").Buffer)},{"binary-search":30,buffer:76,events:123,"mp4-box-encoding":172,"mp4-stream":175,"range-slice-stream":212}],279:[function(m,U,A){function p(e,o,i={}){return this instanceof p?(this.detailedError=null,this._elem=o,this._elemWrapper=new w(o),this._waitingFired=!1,this._trackMeta=null,this._file=e,this._tracks=null,this._elem.preload!=="none"&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},o.autoplay&&(o.preload="auto"),o.addEventListener("waiting",this._onWaiting),void o.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new p(e,o,i))}let w=m("mediasource"),v=m("pump"),h=m("./mp4-remuxer");p.prototype={_createMuxer(){this._muxer=new h(this._file),this._muxer.on("ready",e=>{this._tracks=e.map(o=>{let i=this._elemWrapper.createWriteStream(o.mime);i.on("error",u=>{this._elemWrapper.error(u)});let c={muxed:null,mediaSource:i,initFlushed:!1,onInitFlushed:null};return i.write(o.init,u=>{c.initFlushed=!0,c.onInitFlushed&&c.onInitFlushed(u)}),c}),(this._waitingFired||this._elem.preload==="auto")&&this._pump()}),this._muxer.on("error",e=>{this._elemWrapper.error(e)})},_pump(){let e=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((o,i)=>{let c=()=>{o.muxed&&(o.muxed.destroy(),o.mediaSource=this._elemWrapper.createWriteStream(o.mediaSource),o.mediaSource.on("error",u=>{this._elemWrapper.error(u)})),o.muxed=e[i],v(o.muxed,o.mediaSource)};o.initFlushed?c():o.onInitFlushed=u=>u?void this._elemWrapper.error(u):void c()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(e=>{e.muxed&&e.muxed.destroy()}),this._elem.src="")}},U.exports=p},{"./mp4-remuxer":278,mediasource:160,pump:201}],280:[function(m,U,A){function p(w,v){function h(){for(var e=Array(arguments.length),o=0;o<e.length;o++)e[o]=arguments[o];var i=w.apply(this,e),c=e[e.length-1];return typeof i=="function"&&i!==c&&Object.keys(c).forEach(function(u){i[u]=c[u]}),i}if(w&&v)return p(w)(v);if(typeof w!="function")throw new TypeError("need wrapper function");return Object.keys(w).forEach(function(e){h[e]=w[e]}),h}U.exports=p},{}],281:[function(m,U,A){function p(){for(var v={},h=0,e;h<arguments.length;h++)for(var o in e=arguments[h],e)w.call(e,o)&&(v[o]=e[o]);return v}U.exports=p;var w=Object.prototype.hasOwnProperty},{}],282:[function(m,U,A){U.exports={version:"1.9.7"}},{}],283:[function(m,U,A){(function(p){(function(){function w(xe){return typeof xe=="object"&&xe!=null&&typeof xe.pipe=="function"}function v(xe){return typeof FileList!="undefined"&&xe instanceof FileList}let h=m("events"),e=m("path"),o=m("simple-concat"),i=m("create-torrent"),c=m("debug"),u=m("bittorrent-dht/client"),s=m("load-ip-set"),t=m("run-parallel"),r=m("parse-torrent"),a=m("simple-peer"),l=m("queue-microtask"),f=m("randombytes"),b=m("simple-sha1"),C=m("throughput"),{ThrottleGroup:$}=m("speed-limiter"),W=m("./lib/conn-pool.js"),R=m("./lib/torrent.js"),{version:L}=m("./package.json"),Y=c("webtorrent"),ee=L.replace(/\d*./g,xe=>`0${xe%100}`.slice(-2)).slice(0,4),ae=`-WW${ee}-`;class fe extends h{constructor(se={}){super(),this.peerId=typeof se.peerId=="string"?se.peerId:p.isBuffer(se.peerId)?se.peerId.toString("hex"):p.from(ae+f(9).toString("base64")).toString("hex"),this.peerIdBuffer=p.from(this.peerId,"hex"),this.nodeId=typeof se.nodeId=="string"?se.nodeId:p.isBuffer(se.nodeId)?se.nodeId.toString("hex"):f(20).toString("hex"),this.nodeIdBuffer=p.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=se.torrentPort||0,this.dhtPort=se.dhtPort||0,this.tracker=se.tracker===void 0?{}:se.tracker,this.lsd=se.lsd!==!1,this.torrents=[],this.maxConns=+se.maxConns||55,this.utp=fe.UTP_SUPPORT&&se.utp!==!1,this._downloadLimit=F(typeof se.downloadLimit=="number"?se.downloadLimit:-1,-1),this._uploadLimit=F(typeof se.uploadLimit=="number"?se.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,se.secure===!0&&m("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new $({rate:F(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new $({rate:F(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&(typeof this.tracker!="object"&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),typeof W=="function"?this._connPool=new W(this):l(()=>{this._onListening()}),this._downloadSpeed=C(),this._uploadSpeed=C(),se.dht!==!1&&typeof u=="function"?(this.dht=new u(Object.assign({},{nodeId:this.nodeId},se.dht)),this.dht.once("error",K=>{this._destroy(K)}),this.dht.once("listening",()=>{let K=this.dht.address();K&&(this.dhtPort=K.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=se.webSeeds!==!1;let B=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};typeof s=="function"&&se.blocklist!=null?s(se.blocklist,{headers:{"user-agent":`WebTorrent/${L} (https://webtorrent.io)`}},(K,z)=>K?console.error(`Failed to load blocklist: ${K.message}`):(this.blocked=z,void B())):l(B)}loadWorker(se,B=()=>{}){if(!(se instanceof ServiceWorker))throw new Error("Invalid worker registration");if(se.state!=="activated")throw new Error("Worker isn't activated");let K=2e4;this.serviceWorker=se,navigator.serviceWorker.addEventListener("message",z=>{let{data:E}=z;if(!E.type||!E.type==="webtorrent"||!E.url)return null;let[j,...Z]=E.url.slice(E.url.indexOf(E.scope+"webtorrent/")+11+E.scope.length).split("/");if(Z=decodeURI(Z.join("/")),!j||!Z)return null;let[oe]=z.ports,q=this.get(j)&&this.get(j).files.find($e=>$e.path===Z);if(!q)return null;let[le,ge,Re]=q._serve(E),ke=ge&&ge[Symbol.asyncIterator](),De=()=>{oe.onmessage=null,ge&&ge.destroy(),Re&&Re.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};oe.onmessage=async $e=>{if($e.data){let qe;try{qe=(await ke.next()).value}catch{}oe.postMessage(qe),qe||De(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),K))}else De()},this.workerPortCount++,oe.postMessage(le)}),fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/cancel/`).then(z=>{z.body.cancel()}),B(null,this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){let se=this.torrents.filter(z=>z.progress!==1),B=se.reduce((z,E)=>z+E.downloaded,0),K=se.reduce((z,E)=>z+(E.length||0),0)||1;return B/K}get ratio(){let se=this.torrents.reduce((K,z)=>K+z.uploaded,0),B=this.torrents.reduce((K,z)=>K+z.received,0)||1;return se/B}get(se){if(se instanceof R){if(this.torrents.includes(se))return se}else{let B;try{B=r(se)}catch{}if(!B)return null;if(!B.infoHash)throw new Error("Invalid torrent identifier");for(let K of this.torrents)if(K.infoHash===B.infoHash)return K}return null}add(se,B={},K=()=>{}){function z(){Z.removeListener("_infoHash",E),Z.removeListener("ready",j),Z.removeListener("close",z)}if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,K]=[{},B]);let E=()=>{if(!this.destroyed){for(let oe of this.torrents)if(oe.infoHash===Z.infoHash&&oe!==Z)return Z._destroy(new Error(`Cannot add duplicate torrent ${Z.infoHash}`)),void K(oe)}},j=()=>{this.destroyed||(K(Z),this.emit("torrent",Z))};this._debug("add"),B=B?Object.assign({},B):{};let Z=new R(se,this,B);return this.torrents.push(Z),Z.once("_infoHash",E),Z.once("ready",j),Z.once("close",z),Z}seed(se,B,K){if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,K]=[{},B]),this._debug("seed"),B=B?Object.assign({},B):{},B.skipVerify=!0;let z=typeof se=="string";z&&(B.path=e.dirname(se)),B.createdBy||(B.createdBy=`WebTorrent/${ee}`);let E=q=>{let le=[ge=>z||B.preloadedStore?ge():void q.load(oe,ge)];this.dht&&le.push(ge=>{q.once("dhtAnnounce",ge)}),t(le,ge=>this.destroyed?void 0:ge?q._destroy(ge):void j(q))},j=q=>{this._debug("on seed"),typeof K=="function"&&K(q),q.emit("seed"),this.emit("seed",q)},Z=this.add(null,B,E),oe;return v(se)?se=Array.from(se):!Array.isArray(se)&&(se=[se]),t(se.map(q=>le=>{!B.preloadedStore&&w(q)?o(q,(ge,Re)=>ge?le(ge):(Re.name=q.name,void le(null,Re))):le(null,q)}),(q,le)=>this.destroyed?void 0:q?Z._destroy(q):void i.parseInput(le,B,(ge,Re)=>this.destroyed?void 0:ge?Z._destroy(ge):(oe=Re.map(ke=>ke.getStream),void i(le,B,(ke,De)=>{if(!this.destroyed){if(ke)return Z._destroy(ke);let $e=this.get(De);$e?(console.warn("A torrent with the same id is already being seeded"),Z._destroy(),typeof K=="function"&&K($e)):Z._onTorrentId(De)}})))),Z}remove(se,B,K){if(typeof B=="function")return this.remove(se,null,B);if(this._debug("remove"),!this.get(se))throw new Error(`No torrent with id ${se}`);this._remove(se,B,K)}_remove(se,B,K){if(typeof B=="function")return this._remove(se,null,B);let z=this.get(se);z&&(this.torrents.splice(this.torrents.indexOf(z),1),z.destroy(B,K),this.dht&&this.dht._tables.remove(z.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(se){return se=+se,!(isNaN(se)||!isFinite(se)||-1>se)&&(this._downloadLimit=se,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(se){return se=+se,!(isNaN(se)||!isFinite(se)||-1>se)&&(this._uploadLimit=se,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(se){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,se)}_destroy(se,B){this._debug("client destroy"),this.destroyed=!0;let K=this.torrents.map(z=>E=>{z.destroy(E)});this._connPool&&K.push(z=>{this._connPool.destroy(z)}),this.dht&&K.push(z=>{this.dht.destroy(z)}),t(K,B),se&&this.emit("error",se),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){let se=this._connPool.tcpServer.address();se&&(this.torrentPort=se.port)}this.emit("listening")}_debug(){let se=[].slice.call(arguments);se[0]=`[${this._debugId}] ${se[0]}`,Y(...se)}_getByHash(se){for(let B of this.torrents)if(B.infoHashHash||(B.infoHashHash=b.sync(p.from("72657132"+B.infoHash,"hex"))),se===B.infoHashHash)return B;return null}}fe.WEBRTC_SUPPORT=a.WEBRTC_SUPPORT,fe.UTP_SUPPORT=W.UTP_SUPPORT,fe.VERSION=L,U.exports=fe}).call(this)}).call(this,m("buffer").Buffer)},{"./lib/conn-pool.js":42,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":282,"bittorrent-dht/client":42,buffer:76,"create-torrent":89,debug:91,events:123,"load-ip-set":42,"parse-torrent":184,path:185,"queue-microtask":206,randombytes:209,"run-parallel":233,"simple-concat":245,"simple-peer":247,"simple-sha1":248,"speed-limiter":251,throughput:268}]},{},[283])(283)})});var tu=ta(Wc(),1),Hd=ta(Yc(),1),Ud=ta(Xc(),1);(function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])})();(function(){"use strict";var we=angular.module("ui.grid.autoResize",["ui.grid"]);we.directive("uiGridAutoResize",["gridUtil",function(Q){return{require:"uiGrid",scope:!1,link:function(k,O,I,D){var T;function _(){return{width:Q.elementWidth(O),height:Q.elementHeight(O)}}function x(d,M,g,F){O[0].offsetParent!==null&&(D.grid.gridWidth=g,D.grid.gridHeight=F,D.grid.queueGridRefresh().then(function(){D.grid.api.core.raise.gridDimensionChanged(M,d,F,g)}))}T=Q.debounce(x,400),k.$watchCollection(_,function(d,M){angular.equals(d,M)||T(M.width,M.height,d.width,d.height)})}}}])})();(function(){"use strict";var we=angular.module("ui.grid.cellNav",["ui.grid"]);we.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),we.factory("uiGridCellNavFactory",["uiGridCellNavConstants","GridRowColumn",function(Q,k){var O=function(D,T,_,x){this.rows=D.visibleRowCache,this.columns=T.visibleColumnCache,this.leftColumns=_?_.visibleColumnCache:[],this.rightColumns=x?x.visibleColumnCache:[],this.bodyContainer=D};return O.prototype.getFocusableCols=function(){var I=this.leftColumns.concat(this.columns,this.rightColumns);return I.filter(function(D){return D.colDef.allowCellFocus})},O.prototype.getFocusableRows=function(){return this.rows.filter(function(I){return I.allowCellFocus!==!1})},O.prototype.getNextRowCol=function(I,D,T){switch(I){case Q.direction.LEFT:return this.getRowColLeft(D,T);case Q.direction.RIGHT:return this.getRowColRight(D,T);case Q.direction.UP:return this.getRowColUp(D,T);case Q.direction.DOWN:return this.getRowColDown(D,T);case Q.direction.PG_UP:return this.getRowColPageUp(D,T);case Q.direction.PG_DOWN:return this.getRowColPageDown(D,T)}},O.prototype.initializeSelection=function(){var I=this.getFocusableCols(),D=this.getFocusableRows();return I.length===0||D.length===0?null:new k(D[0],I[0])},O.prototype.getRowColLeft=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),x=T.indexOf(D),d=_.indexOf(I);x===-1&&(x=1);var M=x===0?T.length-1:x-1;return M>=x?d===0?new k(I,T[M]):new k(_[d-1],T[M]):new k(I,T[M])},O.prototype.getRowColRight=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),x=T.indexOf(D),d=_.indexOf(I);x===-1&&(x=0);var M=x===T.length-1?0:x+1;return M<=x?d===_.length-1?new k(I,T[M]):new k(_[d+1],T[M]):new k(I,T[M])},O.prototype.getRowColDown=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),x=T.indexOf(D),d=_.indexOf(I);return x===-1&&(x=0),d===_.length-1?new k(I,T[x]):new k(_[d+1],T[x])},O.prototype.getRowColPageDown=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),x=T.indexOf(D),d=_.indexOf(I);x===-1&&(x=0);var M=this.bodyContainer.minRowsToRender();return d>=_.length-M?new k(_[_.length-1],T[x]):new k(_[d+M],T[x])},O.prototype.getRowColUp=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),x=T.indexOf(D),d=_.indexOf(I);return x===-1&&(x=0),d===0?new k(I,T[x]):new k(_[d-1],T[x])},O.prototype.getRowColPageUp=function(I,D){var T=this.getFocusableCols(),_=this.getFocusableRows(),x=T.indexOf(D),d=_.indexOf(I);x===-1&&(x=0);var M=this.bodyContainer.minRowsToRender();return d-M<0?new k(_[0],T[x]):new k(_[d-M],T[x])},O}]),we.service("uiGridCellNavService",["uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory",function(Q,k,O,I){var D={initializeGrid:function(T){T.registerColumnBuilder(D.cellNavColumnBuilder),T.cellNav={},T.cellNav.lastRowCol=null,T.cellNav.focusedCells=[],D.defaultGridOptions(T.options);var _={events:{cellNav:{navigate:function(x,d){},viewPortKeyDown:function(x,d){},viewPortKeyPress:function(x,d){}}},methods:{cellNav:{scrollToFocus:function(x,d){return D.scrollToFocus(T,x,d)},getFocusedCell:function(){return T.cellNav.lastRowCol},getCurrentSelection:function(){return T.cellNav.focusedCells},rowColSelectIndex:function(x){for(var d=-1,M=0;M<T.cellNav.focusedCells.length;M++)if(T.cellNav.focusedCells[M].col.uid===x.col.uid&&T.cellNav.focusedCells[M].row.uid===x.row.uid){d=M;break}return d}}}};T.api.registerEventsFromObject(_.events),T.api.registerMethodsFromObject(_.methods)},defaultGridOptions:function(T){T.modifierKeysToMultiSelectCells=T.modifierKeysToMultiSelectCells===!0,T.keyDownOverrides=T.keyDownOverrides||[]},decorateRenderContainers:function(T){var _=T.hasRightContainer()?T.renderContainers.right:null,x=T.hasLeftContainer()?T.renderContainers.left:null;x!==null&&(T.renderContainers.left.cellNav=new I(T.renderContainers.body,x,_,T.renderContainers.body)),_!==null&&(T.renderContainers.right.cellNav=new I(T.renderContainers.body,_,T.renderContainers.body,x)),T.renderContainers.body.cellNav=new I(T.renderContainers.body,T.renderContainers.body,x,_)},getDirection:function(T){return T.keyCode===Q.keymap.LEFT||T.keyCode===Q.keymap.TAB&&T.shiftKey?k.direction.LEFT:T.keyCode===Q.keymap.RIGHT||T.keyCode===Q.keymap.TAB?k.direction.RIGHT:T.keyCode===Q.keymap.UP||T.keyCode===Q.keymap.ENTER&&T.shiftKey?k.direction.UP:T.keyCode===Q.keymap.PG_UP?k.direction.PG_UP:T.keyCode===Q.keymap.DOWN||T.keyCode===Q.keymap.ENTER&&!(T.ctrlKey||T.altKey)?k.direction.DOWN:T.keyCode===Q.keymap.PG_DOWN?k.direction.PG_DOWN:null},cellNavColumnBuilder:function(T,_,x){var d=[];return T.allowCellFocus=T.allowCellFocus===void 0?!0:T.allowCellFocus,O.all(d)},scrollToFocus:function(T,_,x){var d=null,M=null;return typeof _!="undefined"&&_!==null&&(d=T.getRow(_)),typeof x!="undefined"&&x!==null&&(M=T.getColumn(x.name?x.name:x.field)),T.api.core.scrollToIfNecessary(d,M).then(function(){var g={row:d,col:M};d!==null&&M!==null&&T.cellNav.broadcastCellNav(g,null,null)})},getLeftWidth:function(T,_){var x=0;if(!_)return x;var d=T.renderContainers.body.visibleColumnCache.indexOf(_);T.renderContainers.body.visibleColumnCache.forEach(function(g,F){F<d&&(x+=g.drawnWidth)});var M=d===0?0:(d+1)/T.renderContainers.body.visibleColumnCache.length;return x+=_.drawnWidth*M,x}};return D}]),we.directive("uiGridCellnav",["uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$compile","i18nService",function(Q,k,O,I,D,T){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(_,x,d,M){var g=_,F=M.grid;Q.initializeGrid(F),M.cellNav={},M.cellNav.makeRowCol=function(N){return N instanceof I||(N=new I(N.row,N.col)),N},M.cellNav.getActiveCell=function(){var N=x[0].getElementsByClassName("ui-grid-cell-focus");if(N.length>0)return N[0]},M.cellNav.broadcastCellNav=F.cellNav.broadcastCellNav=function(N,J,pe){J=!(J===void 0||!J),N=M.cellNav.makeRowCol(N),M.cellNav.broadcastFocus(N,J,pe),g.$broadcast(k.CELL_NAV_EVENT,N,J,pe)},M.cellNav.clearFocus=F.cellNav.clearFocus=function(){F.cellNav.focusedCells=[],g.$broadcast(k.CELL_NAV_EVENT)},M.cellNav.broadcastFocus=function(N,J,pe){J=!(J===void 0||!J),N=M.cellNav.makeRowCol(N);var m=N.row,U=N.col,A=M.grid.api.cellNav.rowColSelectIndex(N);if(F.cellNav.lastRowCol===null||A===-1||F.cellNav.lastRowCol.col===U&&F.cellNav.lastRowCol.row===m){var p=new I(m,U);(F.cellNav.lastRowCol===null||F.cellNav.lastRowCol.row!==p.row||F.cellNav.lastRowCol.col!==p.col||F.options.enableCellEditOnFocus)&&(F.api.cellNav.raise.navigate(p,F.cellNav.lastRowCol,pe),F.cellNav.lastRowCol=p),M.grid.options.modifierKeysToMultiSelectCells&&J?F.cellNav.focusedCells.push(N):F.cellNav.focusedCells=[N]}else F.options.modifierKeysToMultiSelectCells&&J&&A>=0&&F.cellNav.focusedCells.splice(A,1)},M.cellNav.handleKeyDown=function(N){var J=Q.getDirection(N);if(J===null)return null;var pe="body";N.uiGridTargetRenderContainerId&&(pe=N.uiGridTargetRenderContainerId);var m=M.grid.api.cellNav.getFocusedCell();if(m){var U=M.grid.renderContainers[pe].cellNav.getNextRowCol(J,m.row,m.col),A=M.grid.renderContainers[pe].cellNav.getFocusableCols(),p=M.grid.api.cellNav.rowColSelectIndex(U);return J===k.direction.LEFT&&U.col===A[A.length-1]&&U.row===m.row&&N.keyCode===O.keymap.TAB&&N.shiftKey||J===k.direction.RIGHT&&U.col===A[0]&&U.row===m.row&&N.keyCode===O.keymap.TAB&&!N.shiftKey?(F.cellNav.focusedCells.splice(p,1),M.cellNav.clearFocus(),!0):(F.scrollToIfNecessary(U.row,U.col).then(function(){M.cellNav.broadcastCellNav(U,null,N)}),N.stopPropagation(),N.preventDefault(),!1)}}},post:function(_,x,d,M){var g=M.grid,F=!0;try{angular.module("ngAria")}catch{F=!1}function N(){var J='<div id="'+g.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',pe=D(J)(_);x.prepend(pe),_.$on(k.CELL_NAV_EVENT,function(m,U,A,p){if(p&&p.type==="focus")return;function w(u){u!==pe.text().trim()&&(pe[0].style.clip="rect(0px,0px,0px,0px)",pe[0].innerHTML="",pe[0].style.visibility="hidden",pe[0].style.visibility="visible",u!==""&&(pe[0].style.clip="auto",pe[0].appendChild(document.createTextNode(u+" ")),pe[0].style.visibility="hidden",pe[0].style.visibility="visible"))}function v(u){return", "+T.getSafeText("headerCell.aria.column")+" "+u.displayName}function h(u){var s="";return u.col.field==="selectionRowHeaderCol"&&(s=(u.row.isSelected?T.getSafeText("search.aria.selected"):T.getSafeText("search.aria.notSelected"))+", "),s+g.getCellDisplayValue(u.row,u.col)}for(var e=[],o=g.api.cellNav.getCurrentSelection(),i=0;i<o.length;i++){var c=h(o[i])+v(o[i].col);e.push(c)}w(e.toString())})}F&&N()}}}}}]),we.directive("uiGridRenderContainer",["$timeout","gridUtil","uiGridCellNavService","$compile","uiGridCellNavConstants",function(Q,k,O,I,D){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(T,_,x,d){var M=d[0],g=d[1],F=d[2];if(M.grid.api.cellNav){var N=g.containerId,J=M.grid;if(O.decorateRenderContainers(J),N==="body"){M.grid.options.modifierKeysToMultiSelectCells?_.attr("aria-multiselectable",!0):_.attr("aria-multiselectable",!1);var pe=I('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+J.id+"-aria-speakable "+J.id+'-grid-container" aria-owns="'+J.id+'-grid-container"></div>')(T);_.append(pe),pe.on("focus",function(U){U.uiGridTargetRenderContainerId=N;var A=M.grid.api.cellNav.getFocusedCell();A===null&&(A=M.grid.renderContainers[N].cellNav.getNextRowCol(D.direction.DOWN,null,null),A.row&&A.col&&M.cellNav.broadcastCellNav(A))}),F.setAriaActivedescendant=function(U){_.attr("aria-activedescendant",U)},F.removeAriaActivedescendant=function(U){_.attr("aria-activedescendant")===U&&_.attr("aria-activedescendant","")},M.focus=function(){k.focus.byElement(pe[0])};var m=null;pe.on("keydown",function(U){U.uiGridTargetRenderContainerId=N;var A=M.grid.api.cellNav.getFocusedCell(),p=M.grid.options.keyDownOverrides.some(function(v){return Object.keys(v).every(function(h){return v[h]===U[h]})}),w=p?null:M.cellNav.handleKeyDown(U);w===null&&(M.grid.api.cellNav.raise.viewPortKeyDown(U,A,M.cellNav.handleKeyDown),m=A)}),pe.on("keypress",function(U){m&&(Q(function(){M.grid.api.cellNav.raise.viewPortKeyPress(U,m)},4),m=null)}),T.$on("$destroy",function(){pe.off()})}}}}}}}]),we.directive("uiGridViewport",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(Q,k,O,I){},post:function(Q,k,O,I){var D=I[0],T=I[1];if(D.grid.api.cellNav){var _=T.containerId;if(_==="body"){var x=D.grid;x.api.core.on.scrollBegin(Q,function(){var d=D.grid.api.cellNav.getFocusedCell();d!==null&&T.colContainer.containsColumn(d.col)&&D.cellNav.clearFocus()}),x.api.core.on.scrollEnd(Q,function(d){var M=D.grid.api.cellNav.getFocusedCell();M!==null&&T.colContainer.containsColumn(M.col)&&D.cellNav.broadcastCellNav(M)}),x.api.cellNav.on.navigate(Q,function(){D.focus()})}}}}}}}),we.directive("uiGridCell",["uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(Q,k,O){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(I,D,T,_){var x=_[0],d=_[1];if(!x.grid.api.cellNav||!I.col.colDef.allowCellFocus)return;var M=x.grid;I.focused=!1,D.attr("tabindex",-1),D.find("div").on("click",function(m){x.cellNav.broadcastCellNav(new O(I.row,I.col),m.ctrlKey||m.metaKey,m),m.stopPropagation(),I.$apply()}),D.on("mousedown",g),x.grid.api.edit&&(x.grid.api.edit.on.beginCellEdit(I,function(){D.off("mousedown",g)}),x.grid.api.edit.on.afterCellEdit(I,function(){D.on("mousedown",g)}),x.grid.api.edit.on.cancelCellEdit(I,function(){D.on("mousedown",g)})),N();function g(m){m.preventDefault()}D.on("focus",function(m){x.cellNav.broadcastCellNav(new O(I.row,I.col),!1,m),m.stopPropagation(),I.$apply()}),I.$on(Q.CELL_NAV_EVENT,N);var F=x.grid.registerDataChangeCallback(function(m){pe(),I.$applyAsync(N)},[k.dataChange.ROW]);function N(){var m=M.cellNav.focusedCells.some(function(U,A){return U.row===I.row&&U.col===I.col});m?J():pe()}function J(){if(!I.focused){var m=D.find("div");m.addClass("ui-grid-cell-focus"),D.attr("aria-selected",!0),d.setAriaActivedescendant(D.attr("id")),I.focused=!0}}function pe(){if(I.focused){var m=D.find("div");m.removeClass("ui-grid-cell-focus"),D.attr("aria-selected",!1),d.removeAriaActivedescendant(D.attr("id")),I.focused=!1}}I.$on("$destroy",function(){F(),D.find("div").off(),D.off()})}}}])})();(function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["\xA4","\u060B","Ar","\u0243","\u0E3F","B/.","Br","Bs.","Bs.F.","GH\u20B5","\xA2","c","Ch.","\u20A1","C$","D","\u0434\u0435\u043D","\u062F\u062C",".\u062F.\u0628","\u062F.\u0639","JD","\u062F.\u0643","\u0644.\u062F","\u0434\u0438\u043D","\u062F.\u062A","\u062F.\u0645.","\u062F.\u0625","Db","$","\u20AB","Esc","\u20AC","\u0192","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","\u20B2","h","\u20B4","\u20AD","K\u010D","kr","kn","MK","ZK","Kz","K","L","Le","\u043B\u0432","E","lp","M","KM","MT","\u20A5","Nfk","\u20A6","Nu.","UM","T$","MOP$","\u20B1","Pt.","\xA3","\u062C.\u0645.","LL","LS","P","Q","q","R","R$","\u0631.\u0639.","\u0631.\u0642","\u0631.\u0633","\u17DB","RM","p","Rf.","\u20B9","\u20A8","SRe","Rp","\u20AA","Ksh","Sh.So.","USh","S/","SDR","\u0441\u043E\u043C","\u09F3	","WS$","\u20AE","VT","\u20A9","\xA5","z\u0142"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1,WHEN_NEEDED:2}})})();angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(we,Q,k,O){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(I,D,T,_){function x(){var g=I.col.compiledElementFn;g(I,function(F,N){D.append(F)})}if(_&&I.col.compiledElementFn)x();else if(_&&!I.col.compiledElementFn)I.col.getCompiledElementFn().then(function(g){g(I,function(F,N){D.append(F)})}).catch(angular.noop);else{var d=I.col.cellTemplate.replace(O.MODEL_COL_FIELD,"row.entity."+k.preEval(I.col.field)).replace(O.COL_FIELD,"grid.getCellValue(row, col)"),M=we(d)(I);D.append(M)}},post:function(I,D){var T=I.col.getColClass(!1),_;D.addClass(T);function x(N){var J=D;_&&(J.removeClass(_),_=null),angular.isFunction(I.col.cellClass)?_=I.col.cellClass(I.grid,I.row,I.col,I.rowRenderIndex,I.colRenderIndex):_=I.col.cellClass,J.addClass(_)}I.col.cellClass&&x();var d=I.grid.registerDataChangeCallback(x,[O.dataChange.COLUMN,O.dataChange.EDIT]);function M(N,J){if(N!==J){(_||I.col.cellClass)&&x();var pe=I.col.getColClass(!1);pe!==T&&(D.removeClass(T),D.addClass(pe),T=pe)}}var g=I.$watch("row",M);function F(){d(),g()}I.$on("$destroy",F),D.on("$destroy",F)}}}}}]);(function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(we,Q,k){var O={initialize:function(I,D){I.grid=D.grid,D.columnMenuScope=I,I.menuShown=!1},setColMenuItemWatch:function(I){var D=I.$watch("col.menuItems",function(T){typeof T!="undefined"&&T&&angular.isArray(T)?(T.forEach(function(_){(typeof _.context=="undefined"||!_.context)&&(_.context={}),_.context.col=I.col}),I.menuItems=I.defaultMenuItems.concat(T)):I.menuItems=I.defaultMenuItems});I.$on("$destroy",D)},getGridOption:function(I,D){return typeof I.grid!="undefined"&&I.grid&&I.grid.options&&I.grid.options[D]},sortable:function(I){return!!(this.getGridOption(I,"enableSorting")&&typeof I.col!="undefined"&&I.col&&I.col.enableSorting)},isActiveSort:function(I,D){return typeof I.col!="undefined"&&typeof I.col.sort!="undefined"&&typeof I.col.sort.direction!="undefined"&&I.col.sort.direction===D},suppressRemoveSort:function(I){return!!(I.col&&I.col.suppressRemoveSort)},hideable:function(I){return!!(this.getGridOption(I,"enableHiding")&&typeof I.col!="undefined"&&I.col&&(I.col.colDef&&I.col.colDef.enableHiding!==!1||!I.col.colDef)||!this.getGridOption(I,"enableHiding")&&I.col&&I.col.colDef&&I.col.colDef.enableHiding)},getDefaultMenuItems:function(I){return[{title:function(){return we.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(D){D.stopPropagation(),I.sortColumn(D,Q.ASC)},shown:function(){return O.sortable(I)},active:function(){return O.isActiveSort(I,Q.ASC)}},{title:function(){return we.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(D){D.stopPropagation(),I.sortColumn(D,Q.DESC)},shown:function(){return O.sortable(I)},active:function(){return O.isActiveSort(I,Q.DESC)}},{title:function(){return we.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(D){D.stopPropagation(),I.unsortColumn()},shown:function(){return O.sortable(I)&&typeof I.col!="undefined"&&typeof I.col.sort!="undefined"&&typeof I.col.sort.direction!="undefined"&&I.col.sort.direction!==null&&!O.suppressRemoveSort(I)}},{title:function(){return we.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return O.hideable(I)},action:function(D){D.stopPropagation(),I.hideColumn()}}]},getColumnElementPosition:function(I,D,T){var _={};return _.left=T[0].offsetLeft,_.top=T[0].offsetTop,_.parentLeft=T[0].offsetParent.offsetLeft,_.offset=0,D.grid.options.offsetLeft&&(_.offset=D.grid.options.offsetLeft),_.height=k.elementHeight(T,!0),_.width=k.elementWidth(T,!0),_},repositionMenu:function(I,D,T,_,x){var d=_[0].querySelectorAll(".ui-grid-menu"),M=k.closestElm(x,".ui-grid-render-container"),g=M.getBoundingClientRect().left-I.grid.element[0].getBoundingClientRect().left,F=M.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,N=k.elementWidth(d,!0),J=D.lastMenuPaddingRight?D.lastMenuPaddingRight:I.lastMenuPaddingRight?I.lastMenuPaddingRight:10;if(d.length!==0){var pe=d[0].querySelectorAll(".ui-grid-menu-mid");pe.length!==0&&(J=parseInt(k.getStyles(angular.element(d)[0]).paddingRight,10),I.lastMenuPaddingRight=J,D.lastMenuPaddingRight=J)}var m=T.left+g-F+T.parentLeft+T.width+J;m<T.offset+N&&(m=Math.max(T.left-F+T.parentLeft-J+N,T.offset+N)),_.css("left",m+"px"),_.css("top",T.top+T.height+"px")}};return O}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(we,Q,k,O,I){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(D,T,_,x){O.initialize(D,x),D.defaultMenuItems=O.getDefaultMenuItems(D),D.menuItems=D.defaultMenuItems,O.setColMenuItemWatch(D);function d(F){D.col&&(D.col.menuShown=F)}D.showMenu=function(F,N,J){d(!1),D.col=F,d(!0);var pe=O.getColumnElementPosition(D,F,N);D.menuShown?(D.colElement=N,D.colElementPosition=pe,D.hideThenShow=!0,D.$broadcast("hide-menu",{originalEvent:J})):(D.menuShown=!0,D.colElement=N,D.colElementPosition=pe,D.$broadcast("show-menu",{originalEvent:J}))},D.hideMenu=function(F){D.menuShown=!1,d(!1),F||D.$broadcast("hide-menu")},D.$on("menu-hidden",function(){var F=angular.element(T[0].querySelector(".ui-grid-menu-items"))[0];T[0].removeAttribute("style"),D.hideThenShow?(delete D.hideThenShow,D.$broadcast("show-menu"),D.menuShown=!0):(D.hideMenu(!0),D.col&&D.col.visible&&Q.focus.bySelector(I,".ui-grid-header-cell."+D.col.getColClass()+" .ui-grid-column-menu-button",D.col.grid,!1).catch(angular.noop)),F&&(F.onkeydown=null,angular.forEach(F.children,function(J){J.onkeydown=null}))}),D.$on("menu-shown",function(){we(function(){O.repositionMenu(D,D.col,D.colElementPosition,T,D.colElement);var F=D.menuItems.some(function(N){return N.shown()});F&&Q.focus.bySelector(I,".ui-grid-menu-items .ui-grid-menu-item:not(.ng-hide)",!0).catch(angular.noop),delete D.colElementPosition,delete D.columnElement,M()})}),D.sortColumn=function(F,N){F.stopPropagation(),D.grid.sortColumn(D.col,N,!0).then(function(){D.grid.refresh(),D.hideMenu()}).catch(angular.noop)},D.unsortColumn=function(){D.col.unsort(),D.grid.refresh(),D.hideMenu()};function M(){var F=angular.element(T[0].querySelector(".ui-grid-menu-items"))[0],N,J=[];F&&(F.onkeydown=function(U){U.keyCode===k.keymap.ESC&&(U.preventDefault(),D.hideMenu())},N=F.querySelectorAll(".ui-grid-menu-item:not(.ng-hide)"),angular.forEach(N,function(U){U.offsetParent!==null&&this.push(U)},J),J.length&&(J.length===1?J[0].onkeydown=function(U){pe(U,!0)}:(J[0].onkeydown=function(U){pe(U,!1,U.shiftKey,J.length-1)},J[J.length-1].onkeydown=function(U){pe(U,!1,!U.shiftKey,0)})));function pe(m,U,A,p){m.keyCode===k.keymap.TAB&&(U?m.preventDefault():A&&(m.preventDefault(),J[p].focus()))}}var g=function(){we(function(){var F=function(){return Q.focus.byId("grid-menu",D.grid)},N;D.grid.columns.some(function(m,U){if(angular.equals(m,D.col))return N=U,!0});var J;if(D.grid.columns.some(function(m,U){if(m.visible)if(U<N)J=m;else{if(U>N&&!J)return J=m,!0;if(U>N&&J)return!0}else return!1}),J){var pe=J.getColClass();Q.focus.bySelector(I,".ui-grid-header-cell."+pe+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(m){if(m!=="canceled")return F()}).catch(angular.noop)}else F()})};D.hideColumn=function(){D.col.colDef.visible=!1,D.col.visible=!1,D.grid.queueGridRefresh(),D.hideMenu(),D.grid.api.core.notifyDataChange(k.dataChange.COLUMN),D.grid.api.core.raise.columnVisibilityChanged(D.col),g()}},controller:["$scope",function(D){var T=this;D.$watch("menuItems",function(_){T.menuItems=_})}]}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(we,Q,k,O){return{compile:function(){return{pre:function(I,D){I.col.updateFilters=function(T){if(D.children().remove(),T){var _=I.col.filterHeaderTemplate;_===void 0&&I.col.providedFilterHeaderTemplate!==""?I.col.filterHeaderTemplatePromise&&I.col.filterHeaderTemplatePromise.then(function(){_=I.col.filterHeaderTemplate,D.append(we(_)(I))}):D.append(we(_)(I))}},I.$on("$destroy",function(){delete I.col.filterable,delete I.col.updateFilters})},post:function(I,D){I.aria=k.getSafeText("headerCell.aria"),I.removeFilter=function(T,_){T.term=null,O.focus.bySelector(D,".ui-grid-filter-input-"+_)}}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(we,Q,k,O){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(D,T){var _=D.col.footerCellTemplate;_===void 0&&D.col.providedFooterCellTemplate!==""?D.col.footerCellTemplatePromise&&D.col.footerCellTemplatePromise.then(function(){_=D.col.footerCellTemplate,T.append(O(_)(D))}):T.append(O(_)(D))},post:function(D,T,_,x){D.grid=x.grid;var d=D.col.getColClass(!1);T.addClass(d);var M,g=function(){var N=T;M&&(N.removeClass(M),M=null),angular.isFunction(D.col.footerCellClass)?M=D.col.footerCellClass(D.grid,D.row,D.col,D.rowRenderIndex,D.colRenderIndex):M=D.col.footerCellClass,N.addClass(M)};D.col.footerCellClass&&g(),D.col.updateAggregationValue();var F=D.grid.registerDataChangeCallback(g,[k.dataChange.COLUMN]);D.grid.api.core.on.rowsRendered(D,D.col.updateAggregationValue),D.grid.api.core.on.rowsRendered(D,g),D.$on("$destroy",F)}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(we,Q,k,O,I){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(D,T){return{pre:function(_,x,d,M){var g=M[0],F=M[1];_.grid=g.grid,_.colContainer=F.colContainer,F.footer=x;var N=_.grid.options.footerTemplate;O.getTemplate(N).then(function(J){var pe=angular.element(J),m=Q(pe)(_);if(x.append(m),F){var U=x[0].getElementsByClassName("ui-grid-footer-viewport")[0];U&&(F.footerViewport=U)}}).catch(angular.noop)},post:function(_,x,d,M){var g=M[0],F=M[1],N=g.grid;O.disableAnimations(x),F.footer=x;var J=x[0].getElementsByClassName("ui-grid-footer-viewport")[0];J&&(F.footerViewport=J)}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil",function(we,Q,k,O){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(I,D,T,_){I.grid=_.grid;var x=I.grid.options.gridFooterTemplate;O.getTemplate(x).then(function(d){var M=angular.element(d),g=Q(M)(I);D.append(g)}).catch(angular.noop)}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService","$rootScope",function(we,Q,k,O,I,D,T,_,x){var d=500,M=500;return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(g,F){var N=g.col.headerCellTemplate;N===void 0&&g.col.providedHeaderCellTemplate!==""?g.col.headerCellTemplatePromise&&g.col.headerCellTemplatePromise.then(function(){N=g.col.headerCellTemplate,F.append(we(N)(g))}):F.append(we(N)(g))},post:function(g,F,N,J){var pe=J[0],m=J[1];g.i18n={headerCell:_.getSafeText("headerCell"),sort:_.getSafeText("sort")},g.isSortPriorityVisible=function(){return g.col&&g.col.sort&&angular.isNumber(g.col.sort.priority)&&g.grid.columns.some(function(i,c){return angular.isNumber(i.sort.priority)&&i!==g.col})},g.getSortDirectionAriaLabel=function(){var i=g.col,c=i.sort&&i.sort.direction===D.ASC?g.i18n.sort.ascending:i.sort&&i.sort.direction===D.DESC?g.i18n.sort.descending:g.i18n.sort.none;return g.isSortPriorityVisible()&&(c=c+". "+g.i18n.headerCell.priority+" "+(i.sort.priority+1)),c},g.grid=pe.grid,g.renderContainer=pe.grid.renderContainers[m.containerId];var U=g.col.getColClass(!1);F.addClass(U),g.menuShown=!1,g.col.menuShown=!1,g.asc=D.ASC,g.desc=D.DESC;var A=angular.element(F[0].querySelectorAll(".ui-grid-cell-contents")),p,w,v=[];g.downFn=function(i){i.stopPropagation(),typeof i.originalEvent!="undefined"&&i.originalEvent!==void 0&&(i=i.originalEvent),!(i.button&&i.button!==0)&&(w=i.pageX,g.mousedownStartTime=new Date().getTime(),g.mousedownTimeout=Q(function(){},d),g.mousedownTimeout.then(function(){g.colMenu&&pe.columnMenuScope.showMenu(g.col,F,i)}).catch(angular.noop),pe.fireEvent(D.events.COLUMN_HEADER_CLICK,{event:i,columnName:g.col.colDef.name}),g.offAllEvents(),i.type==="touchstart"?(O.on("touchend",g.upFn),O.on("touchmove",g.moveFn)):i.type==="mousedown"&&(O.on("mouseup",g.upFn),O.on("mousemove",g.moveFn)))},g.upFn=function(i){i.stopPropagation(),Q.cancel(g.mousedownTimeout),g.offAllEvents(),g.onDownEvents(i.type);var c=new Date().getTime(),u=c-g.mousedownStartTime;u>d||g.sortable&&g.handleClick(i)},g.handleKeyDown=function(i){(i.keyCode===32||i.keyCode===13)&&(i.preventDefault(),g.handleClick(i))},g.moveFn=function(i){var c=i.pageX-w;c!==0&&(Q.cancel(g.mousedownTimeout),g.offAllEvents(),g.onDownEvents(i.type))},g.clickFn=function(i){i.stopPropagation(),A.off("click",g.clickFn)},g.offAllEvents=function(){A.off("touchstart",g.downFn),A.off("mousedown",g.downFn),O.off("touchend",g.upFn),O.off("mouseup",g.upFn),O.off("touchmove",g.moveFn),O.off("mousemove",g.moveFn),A.off("click",g.clickFn)},g.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":A.on("click",g.clickFn),A.on("touchstart",g.downFn),Q(function(){A.on("mousedown",g.downFn)},M);break;case"mousemove":case"mouseup":A.on("click",g.clickFn),A.on("mousedown",g.downFn),Q(function(){A.on("touchstart",g.downFn)},M);break;default:A.on("click",g.clickFn),A.on("touchstart",g.downFn),A.on("mousedown",g.downFn)}};var h=function(i){i&&(typeof g.col.updateFilters!="undefined"&&g.col.updateFilters(g.col.filterable),g.col.filterable?(g.col.filters.forEach(function(c,u){v.push(g.$watch("col.filters["+u+"].term",function(s,t){s!==t&&(pe.grid.api.core.raise.filterChanged(g.col),pe.grid.api.core.notifyDataChange(D.dataChange.COLUMN),pe.grid.queueGridRefresh())}))}),g.$on("$destroy",function(){v.forEach(function(c){c()})})):v.forEach(function(c){c()}))},e=function(){var i=F;p&&(i.removeClass(p),p=null),angular.isFunction(g.col.headerCellClass)?p=g.col.headerCellClass(g.grid,g.row,g.col,g.rowRenderIndex,g.colRenderIndex):p=g.col.headerCellClass,i.addClass(p),g.$applyAsync(function(){var u=g.grid.renderContainers.right&&g.grid.renderContainers.right.visibleColumnCache.length?g.grid.renderContainers.right:g.grid.renderContainers.body;g.isLastCol=pe.grid.options&&pe.grid.options.enableGridMenu&&g.col===u.visibleColumnCache[u.visibleColumnCache.length-1]}),g.sortable=!!g.col.enableSorting;var c=g.col.filterable;g.col.filterable=!!(pe.grid.options.enableFiltering&&g.col.enableFiltering),h(c!==g.col.filterable),g.colMenu=g.col.grid.options&&g.col.grid.options.enableColumnMenus!==!1&&g.col.colDef&&g.col.colDef.enableColumnMenu!==!1,g.offAllEvents(),(g.sortable||g.colMenu)&&(g.onDownEvents(),g.$on("$destroy",function(){g.offAllEvents()}))};e(),g.col.filterContainer==="columnMenu"&&g.col.filterable&&x.$on("menu-shown",function(){g.$applyAsync(function(){h(g.col.filterable)})});var o=g.grid.registerDataChangeCallback(e,[D.dataChange.COLUMN]);g.$on("$destroy",o),g.handleClick=function(i){pe.grid.sortColumn(g.col,i.shiftKey).then(function(){pe.columnMenuScope&&pe.columnMenuScope.hideMenu(),pe.grid.refresh()}).catch(angular.noop)},g.headerCellArrowKeyDown=function(i){(i.keyCode===D.keymap.SPACE||i.keyCode===D.keymap.ENTER)&&(i.preventDefault(),g.toggleMenu(i))},g.toggleMenu=function(i){i.stopPropagation(),pe.columnMenuScope.menuShown&&pe.columnMenuScope.col===g.col?pe.columnMenuScope.hideMenu():pe.columnMenuScope.showMenu(g.col,F)}}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(we,Q,k,O,I,D){var T="ui-grid/ui-grid-header",_="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(x,d,M,g){var F=g[0],N=g[1];x.grid=F.grid,x.colContainer=N.colContainer,pe();var J;x.grid.options.showHeader?J=x.grid.options.headerTemplate?x.grid.options.headerTemplate:T:J=_,O.getTemplate(J).then(function(U){var A=angular.element(U),p=Q(A)(x);if(d.replaceWith(p),d=p,pe(),N){var w=d[0].getElementsByClassName("ui-grid-header-viewport")[0];w&&(N.headerViewport=w,angular.element(w).on("scroll",m),x.$on("$destroy",function(){angular.element(w).off("scroll",m)}))}x.grid.queueRefresh()}).catch(angular.noop);function pe(){N.header=N.colContainer.header=d;var U=d[0].getElementsByClassName("ui-grid-header-canvas");U.length>0?N.headerCanvas=N.colContainer.headerCanvas=U[0]:N.headerCanvas=null}function m(){if(!F.grid.isScrollingHorizontally){var U=O.normalizeScrollLeft(N.headerViewport,F.grid),A=N.colContainer.scrollHorizontal(U),p=new D(F.grid,null,N.colContainer,D.Sources.ViewPortScroll);p.newScrollLeft=U,A>-1&&(p.x={percentage:A}),F.grid.scrollContainers(null,p)}}},post:function(x,d,M,g){var F=g[0],N=g[1],J=F.grid;O.disableAnimations(d);function pe(){var U=N.colContainer.visibleColumnCache,A="",p=0;return U.forEach(function(w){A=A+w.getColClassDefinition(),p+=w.drawnWidth}),N.colContainer.canvasWidth=p,A}N.header=d;var m=d[0].getElementsByClassName("ui-grid-header-viewport")[0];m&&(N.headerViewport=m),F&&F.grid.registerStyleComputation({priority:15,func:pe})}}}}}])})();(function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(we,Q,k){var O={initialize:function(I,D){D.gridMenuScope=I,I.grid=D,I.registeredMenuItems=[],I.$on("$destroy",function(){I.grid&&I.grid.gridMenuScope&&(I.grid.gridMenuScope=null),I.grid&&(I.grid=null),I.registeredMenuItems&&(I.registeredMenuItems=null)}),I.registeredMenuItems=[],D.api.registerMethod("core","addToGridMenu",O.addToGridMenu),D.api.registerMethod("core","removeFromGridMenu",O.removeFromGridMenu)},addToGridMenu:function(I,D){angular.isArray(D)?I.gridMenuScope?(I.gridMenuScope.registeredMenuItems=I.gridMenuScope.registeredMenuItems?I.gridMenuScope.registeredMenuItems:[],I.gridMenuScope.registeredMenuItems=I.gridMenuScope.registeredMenuItems.concat(D)):we.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):we.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(I,D){var T=-1;I&&I.gridMenuScope&&I.gridMenuScope.registeredMenuItems.forEach(function(_,x){_.id===D&&(T>-1?we.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):T=x)}),T>-1&&I.gridMenuScope.registeredMenuItems.splice(T,1)},getMenuItems:function(I){var D=[];I.grid.options.gridMenuCustomItems&&(angular.isArray(I.grid.options.gridMenuCustomItems)?D=D.concat(I.grid.options.gridMenuCustomItems):we.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var T=[{title:Q.getSafeText("gridMenu.clearAllFilters"),action:function(_){I.grid.clearAllFilters()},shown:function(){return I.grid.options.enableFiltering},order:100}];return D=D.concat(T),D=D.concat(I.registeredMenuItems),I.grid.options.gridMenuShowHideColumns!==!1&&(D=D.concat(O.showHideColumns(I))),D.sort(function(_,x){return _.order-x.order}),D},showHideColumns:function(I){var D=[];if(!I.grid.options.columnDefs||I.grid.options.columnDefs.length===0||I.grid.columns.length===0)return D;function T(x){return x.visible===!0||x.visible===void 0}function _(x){return T(x)?"ui-grid-icon-ok":"ui-grid-icon-cancel"}return I.grid.options.gridMenuTitleFilter=I.grid.options.gridMenuTitleFilter?I.grid.options.gridMenuTitleFilter:function(x){return x},I.grid.options.columnDefs.forEach(function(x,d){if(I.grid.options.enableHiding!==!1&&x.enableHiding!==!1||x.enableHiding){var M={icon:_(x),action:function(g){g.stopPropagation(),O.toggleColumnVisibility(this.context.gridCol),g.target&&g.target.firstChild&&(angular.element(g.target)[0].nodeName==="I"?g.target.className=_(this.context.gridCol.colDef):g.target.firstChild.className=_(this.context.gridCol.colDef))},shown:function(){return this.context.gridCol.colDef.enableHiding!==!1},context:{gridCol:I.grid.getColumn(x.name||x.field)},leaveOpen:!0,order:301+d};O.setMenuItemTitle(M,x,I.grid),D.push(M)}}),D.length&&D.unshift({title:Q.getSafeText("gridMenu.columns"),order:300,templateUrl:"ui-grid/ui-grid-menu-header-item"}),D},setMenuItemTitle:function(I,D,T){var _=T.options.gridMenuTitleFilter(D.displayName||we.readableColumnName(D.name)||D.field);typeof _=="string"?I.title=_:_.then?(I.title="",_.then(function(x){I.title=x},function(x){I.title=x}).catch(angular.noop)):(we.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),I.title="badconfig")},toggleColumnVisibility:function(I){I.colDef.visible=!(I.colDef.visible===!0||I.colDef.visible===void 0),I.grid.refresh(),I.grid.api.core.notifyDataChange(k.dataChange.COLUMN),I.grid.api.core.raise.columnVisibilityChanged(I)}};return O}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(we,Q,k,O){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(I,D,T,_){var x=_[0];I.i18n={aria:O.getSafeText("gridMenu.aria")},k.initialize(I,x.grid),I.shown=!1,I.toggleOnKeydown=function(d){(d.keyCode===Q.keymap.ENTER||d.keyCode===Q.keymap.SPACE||d.keyCode===Q.keymap.ESC&&I.shown)&&I.toggleMenu()},I.toggleMenu=function(){I.shown?(I.$broadcast("hide-menu"),I.shown=!1):(I.menuItems=k.getMenuItems(I),I.$broadcast("show-menu"),I.shown=!0)},I.$on("menu-hidden",function(){I.shown=!1,we.focus.bySelector(D,".ui-grid-icon-container")})}}}])})();(function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(we,Q,k,O,I,D,T){return{priority:0,scope:{menuItems:"=",autoHide:"=?",col:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(_,x,d,M){if(_.dynamicStyles="",M&&M.grid&&M.grid.options&&M.grid.options.gridMenuTemplate){var g=M.grid.options.gridMenuTemplate;I.getTemplate(g).then(function(J){var pe=angular.element(J),m=we(pe)(_);x.replaceWith(m)}).catch(angular.noop)}var F=function(J){var pe=J-M.grid.headerHeight-20;_.dynamicStyles=[".grid"+M.grid.id+" .ui-grid-menu-mid {","max-height: "+pe+"px;","}"].join(" ")};M&&(F(M.grid.gridHeight),M.grid.api.core.on.gridDimensionChanged(_,function(J,pe,m,U){F(m)})),_.i18n={close:T.getSafeText("columnMenu.close")},_.showMenu=function(J,pe){_.shown?_.shownMid||(_.shownMid=!0,_.$emit("menu-shown")):(_.shown=!0,Q(function(){_.shownMid=!0,_.$emit("menu-shown")}));var m="click";pe&&pe.originalEvent&&pe.originalEvent.type&&pe.originalEvent.type==="touchstart"&&(m=pe.originalEvent.type),angular.element(document).off("click touchstart",N),Q(function(){angular.element(document).on(m,N)})},_.hideMenu=function(J){_.shown&&(_.shownMid=!1,Q(function(){_.shownMid||(_.shown=!1,_.$emit("menu-hidden"))},40)),angular.element(document).off("click touchstart",N)},_.$on("hide-menu",function(J,pe){_.hideMenu(J,pe)}),_.$on("show-menu",function(J,pe){_.showMenu(J,pe)});var N=function(J){if(_.shown){var pe=M&&M.grid&&M.grid.options?M.grid.options.disableGridMenuHideOnScroll:null;if(J.type!=="scroll"||!pe){if(_.col&&_.col.filterContainer==="columnMenu"){var m=document.querySelector(".ui-grid-column-menu").querySelector("[ui-grid-filter]");if(m&&m.contains(J.target))return!1}_.$apply(function(){_.hideMenu()})}}};_.checkKeyDown=function(J){var pe=function(p){p.focus(),J.preventDefault()};if(J.keyCode===D.keymap.ESC)_.hideMenu();else if(J.keyCode===D.keymap.TAB){var m,U,A=x[0].querySelectorAll("button:not(.ng-hide)");A.length>0&&(m=A[0],U=A[A.length-1],J.target.parentElement.id===U.parentElement.id&&!J.shiftKey?pe(m):J.target.parentElement.id===m.parentElement.id&&J.shiftKey&&pe(U))}},(typeof _.autoHide=="undefined"||_.autoHide===void 0)&&(_.autoHide=!0),_.autoHide&&angular.element(k).on("resize",N),_.$on("$destroy",function(){angular.element(k).off("resize",N),angular.element(document).off("click touchstart",N)}),M&&_.$on("$destroy",M.grid.api.core.on.scrollBegin(_,N)),_.$on("$destroy",_.$on(D.events.ITEM_DRAGGING,N))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(we,Q,k){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(O,I){O.templateUrl&&we.getTemplate(O.templateUrl).then(function(D){var T=angular.element(D),_=Q(T)(O);I.replaceWith(_)}).catch(angular.noop)},post:function(O,I,D,T){var _=T[0];(typeof O.shown=="undefined"||O.shown===null)&&(O.shown=function(){return!0}),O.itemShown=function(){var x={};return O.context&&(x.context=O.context),typeof _!="undefined"&&_&&(x.grid=_.grid),O.shown.call(x)},O.itemAction=function(x,d){if(x.stopPropagation(),typeof O.action=="function"){var M={};if(O.context&&(M.context=O.context),typeof _!="undefined"&&_&&(M.grid=_.grid),O.action.call(M,x,d),!O.leaveOpen)O.$emit("hide-menu");else{var g=x.target.parentElement;angular.element(x.target)[0].nodeName==="I"&&(g=g.parentElement),we.focus.bySelector(g,"button[type=button]",!0)}}},O.label=function(){var x=O.name;return typeof O.name=="function"&&(x=O.name.call()),x},O.i18n=k.get()}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(Q){var k="uiGridOneBind",O=(Q.aria?k+"Aria":k)+(Q.directiveName?Q.directiveName:Q.tag);we.directive(O,["gridUtil",function(I){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(D,T,_,x){var d=function(g){var F;if(D.grid)F=D.grid;else if(D.col&&D.col.grid)F=D.col.grid;else if(!x.some(function(J){if(J&&J.grid)return F=J.grid,!0}))throw I.logError("["+O+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+g),new Error("No valid grid could be found");if(F){var N=new RegExp(F.id.toString());N.test(g)||(g=F.id.toString()+"-"+g)}return g},M=D.$watch(_[O],function(g){if(g){if(Q.appendGridId){var F=null;angular.forEach(g.split(" "),function(pe){F=(F?F+" ":"")+d(pe)}),g=F}switch(Q.method){case"attr":Q.aria?T[Q.method]("aria-"+Q.tag.toLowerCase(),g):T[Q.method](Q.tag.toLowerCase(),g);break;case"addClass":if(angular.isObject(g)&&!angular.isArray(g)){var N=[],J=!1;if(angular.forEach(g,function(pe,m){pe!==null&&typeof pe!="undefined"&&(J=!0,pe&&N.push(m))}),!J)return;g=N}if(g)T.addClass(angular.isArray(g)?g.join(" "):g);else return;break;default:T[Q.method](g);break}M()}},!0)}}}])})})();(function(){"use strict";var we=angular.module("ui.grid");we.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(Q,k,O,I,D){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(_,x,d,M){var g,F,N=M[0],J=M[1],pe=_.grid=N.grid;if(!_.rowContainerName)throw new Error("No row render container name specified");if(!_.colContainerName)throw new Error("No column render container name specified");if(!pe.renderContainers[_.rowContainerName])throw new Error('Row render container "'+_.rowContainerName+'" is not registered.');if(!pe.renderContainers[_.colContainerName])throw new Error('Column render container "'+_.colContainerName+'" is not registered.');g=_.rowContainer=pe.renderContainers[_.rowContainerName],F=_.colContainer=pe.renderContainers[_.colContainerName],J.containerId=_.containerId,J.rowContainer=g,J.colContainer=F},post:function(_,x,d,M){var g=M[0],F=M[1],N=g.grid,J=F.rowContainer,pe=F.colContainer,m=null,U=null,A=N.renderContainers[_.containerId];x.addClass("ui-grid-render-container-"+_.containerId),I.on.mousewheel(x,function(w){var v=new D(N,J,pe,D.Sources.RenderContainerMouseWheel);if(w.deltaY!==0){var h=w.deltaY*-1*w.deltaFactor;m=F.viewport[0].scrollTop,v.verticalScrollLength=J.getVerticalScrollLength();var e=(m+h)/v.verticalScrollLength;e>=1&&m<v.verticalScrollLength&&(F.viewport[0].scrollTop=v.verticalScrollLength),e<0?e=0:e>1&&(e=1),v.y={percentage:e,pixels:h}}if(w.deltaX!==0){var o=w.deltaX*w.deltaFactor;U=I.normalizeScrollLeft(F.viewport,N),v.horizontalScrollLength=pe.getCanvasWidth()-pe.getViewportWidth();var i=(U+o)/v.horizontalScrollLength;i<0?i=0:i>1&&(i=1),v.x={percentage:i,pixels:o}}w.deltaY!==0&&(v.atTop(m)||v.atBottom(m))||w.deltaX!==0&&(v.atLeft(U)||v.atRight(U))||(w.preventDefault(),w.stopPropagation(),v.fireThrottledScrollingEvent("",v))}),x.bind("$destroy",function(){x.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(w){x.unbind(w)})});function p(){var w="",v=pe.canvasWidth,h=pe.getViewportWidth(),e=J.getCanvasHeight(),o=J.getViewportHeight();pe.needsHScrollbarPlaceholder()&&(o-=N.scrollbarHeight);var i,c;if(i=c=pe.getHeaderViewportWidth(),w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-header-canvas { width: "+(v+N.scrollbarWidth)+"px; }",A.explicitHeaderCanvasHeight){var u=document.querySelector(".grid"+g.grid.id+" .ui-grid-render-container-body .ui-grid-header-canvas");u&&(A.explicitHeaderCanvasHeight=u.offsetHeight),w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-header-canvas { height: "+A.explicitHeaderCanvasHeight+"px; }"}else w+=`
 .grid`+g.grid.id+" .ui-grid-render-container-"+_.containerId+" .ui-grid-footer-viewport { width: "+c+"px; }",w}g.grid.registerStyleComputation({priority:6,func:p})}}}}}]),we.controller("uiGridRenderContainer",["$scope","gridUtil",function(Q,k){}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridRow",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(we,Q,k,O){var I=O[0],D=O[1];we.grid=I.grid,we.colContainer=D.colContainer;var T,_;function x(){we.row.getRowTemplateFn.then(function(d){var M=we.$new();d(M,function(g,F){T&&(T.remove(),_.$destroy()),Q.empty().append(g),T=g,_=M})}).catch(angular.noop)}x(),we.$watch("row.getRowTemplateFn",function(d,M){d!==M&&x()})},post:function(we,Q){we.row.element=Q}}}}})})();(function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(we,Q){return{link:function(k,O){var I=Q(O.text(),!0);I&&k.$watch(I,function(D){for(var T=0;T<O.length;T++)O[T].textContent=D})}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent",function(we,Q){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(k,O,I,D){var T=D[0],_=D[1];k.containerCtrl=_;var x=_.rowContainer,d=_.colContainer,M=T.grid;k.grid=T.grid,k.rowContainer=_.rowContainer,k.colContainer=_.colContainer,_.viewport=O,M&&M.options&&M.options.customScroller?M.options.customScroller(O,F):O.on("scroll",F);var g=!1;function F(){var U=O[0].scrollTop,A=we.normalizeScrollLeft(O,M),p=x.scrollVertical(U),w=d.scrollHorizontal(A),v=new Q(M,x,d,Q.Sources.ViewPortScroll);v.newScrollLeft=A,v.newScrollTop=U,w>-1&&(v.x={percentage:w}),p>-1&&(v.y={percentage:p}),M.scrollContainers(k.$parent.containerId,v)}k.$parent.bindScrollVertical&&M.addVerticalScrollSync(k.$parent.containerId,N),k.$parent.bindScrollHorizontal&&(M.addHorizontalScrollSync(k.$parent.containerId,J),M.addHorizontalScrollSync(k.$parent.containerId+"header",pe),M.addHorizontalScrollSync(k.$parent.containerId+"footer",m));function N(U){_.prevScrollArgs=U,O[0].scrollTop=U.getNewScrollTop(x,_.viewport)}function J(U){_.prevScrollArgs=U;var A=U.getNewScrollLeft(d,_.viewport);O[0].scrollLeft=we.denormalizeScrollLeft(_.viewport,A,M)}function pe(U){var A=U.getNewScrollLeft(d,_.viewport);_.headerViewport&&(_.headerViewport.scrollLeft=we.denormalizeScrollLeft(_.viewport,A,M))}function m(U){var A=U.getNewScrollLeft(d,_.viewport);_.footerViewport&&(_.footerViewport.scrollLeft=we.denormalizeScrollLeft(_.viewport,A,M))}k.$on("$destroy",function(){O.off()})},controller:["$scope",function(k){this.rowStyle=function(){var O=k.rowContainer,I=k.colContainer,D={};if(O.currentTopRow!==0){var T="translateY("+O.currentTopRow*O.grid.options.rowHeight+"px)";D.transform=T,D["-webkit-transform"]=T,D["-ms-transform"]=T}return I.currentFirstColumn!==0&&(I.grid.isRTL()?D["margin-right"]=I.columnOffset+"px":D["margin-left"]=I.columnOffset+"px"),D}}]}}])})();(function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(Q,k,O){Q.$watch(O.uiGridVisible,function(I){k[I?"removeClass":"addClass"]("ui-grid-invisible")})}})})();(function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(Q,k,O,I,D,T,_,x,d){var M=this,g=[];M.grid=_.createGrid(Q.uiGrid),M.grid.appScope=M.grid.appScope||Q.$parent,k.addClass("grid"+M.grid.id),M.grid.rtl=I.getStyles(k[0]).direction==="rtl",Q.grid=M.grid,O.uiGridColumns&&g.push(O.$observe("uiGridColumns",function(U){M.grid.options.columnDefs=angular.isString(U)?angular.fromJson(U):U,M.grid.buildColumns().then(function(){M.grid.preCompileCellTemplates(),M.grid.refreshCanvas(!0)}).catch(angular.noop)}));function F(U){return U?U.length:0}M.grid.options.fastWatch?(M.uiGrid=Q.uiGrid,angular.isString(Q.uiGrid.data)?(g.push(Q.$parent.$watch(Q.uiGrid.data,pe)),g.push(Q.$parent.$watch(function(){if(M.grid.appScope[Q.uiGrid.data])return M.grid.appScope[Q.uiGrid.data].length},pe))):(g.push(Q.$parent.$watch(function(){return Q.uiGrid.data},pe)),g.push(Q.$parent.$watch(function(){return F(Q.uiGrid.data)},function(){pe(Q.uiGrid.data)}))),g.push(Q.$parent.$watch(function(){return Q.uiGrid.columnDefs},N)),g.push(Q.$parent.$watch(function(){return F(Q.uiGrid.columnDefs)},function(){N(Q.uiGrid.columnDefs)}))):(angular.isString(Q.uiGrid.data)?g.push(Q.$parent.$watchCollection(Q.uiGrid.data,pe)):g.push(Q.$parent.$watchCollection(function(){return Q.uiGrid.data},pe)),g.push(Q.$parent.$watchCollection(function(){return Q.uiGrid.columnDefs},N)));function N(U,A){U&&U!==A&&(M.grid.options.columnDefs=Q.uiGrid.columnDefs,M.grid.callDataChangeCallbacks(T.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}var J;function pe(U){var A=[];if(M.grid.options.fastWatch&&(angular.isString(Q.uiGrid.data)?U=M.grid.appScope.$eval(Q.uiGrid.data):U=Q.uiGrid.data),J=U,U){var p=M.grid.columns.length>(M.grid.rowHeaderColumns?M.grid.rowHeaderColumns.length:0);!p&&!O.uiGridColumns&&M.grid.options.columnDefs.length===0&&U.length>0&&M.grid.buildColumnDefsFromData(U),!p&&(M.grid.options.columnDefs.length>0||U.length>0)&&A.push(M.grid.buildColumns().then(function(){M.grid.preCompileCellTemplates()}).catch(angular.noop)),D.all(A).then(function(){M.grid.modifyRows(J).then(function(){M.grid.redrawInPlace(!0),Q.$evalAsync(function(){M.grid.refreshCanvas(!0),M.grid.callDataChangeCallbacks(T.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}var m=Q.$watch(function(){return M.grid.styleComputations},function(){M.grid.refreshCanvas(!0)});Q.$on("$destroy",function(){g.forEach(function(U){U()}),m()}),M.fireEvent=function(U,A){A=A||{},angular.isUndefined(A.grid)&&(A.grid=M.grid),Q.$broadcast(U,A)},M.innerCompile=function(A){d(A)(Q)}}]),angular.module("ui.grid").directive("uiGrid",we),we.$inject=["$window","gridUtil","uiGridConstants"];function we(Q,k,O){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(I,D,T,_){var x=_.grid;_.scrollbars=[],x.element=D;var d=100,M=20,g=0;N(),J(),x.renderingComplete(),F();function F(){D[0].offsetWidth<=0&&g<M?(setTimeout(F,d),g++):I.$applyAsync(J)}function N(){var U,A;angular.element(Q).on("resize",m),D.on("$destroy",function(){angular.element(Q).off("resize",m),U(),A()}),U=I.$watch(function(){return x.hasLeftContainer()},function(p,w){p!==w&&x.refreshCanvas(!0)}),A=I.$watch(function(){return x.hasRightContainer()},function(p,w){p!==w&&x.refreshCanvas(!0)})}function J(){x.gridWidth=I.gridWidth=k.elementWidth(D),x.canvasWidth=_.grid.gridWidth,x.gridHeight=I.gridHeight=k.elementHeight(D),x.gridHeight-x.scrollbarHeight<=x.options.rowHeight&&x.options.enableMinHeightCheck&&pe(),x.refreshCanvas(!0)}function pe(){var U=x.options.minRowsToShow*x.options.rowHeight,A=x.options.showHeader?x.options.headerRowHeight:0,p=x.calcFooterHeight(),w=0;x.options.enableHorizontalScrollbar===O.scrollbars.ALWAYS&&(w=k.getScrollbarWidth());var v=0;if(angular.forEach(x.options.columnDefs,function(i){i.hasOwnProperty("filter")?v<1&&(v=1):i.hasOwnProperty("filters")&&v<i.filters.length&&(v=i.filters.length)}),x.options.enableFiltering&&!v){var h=x.options.columnDefs.length&&x.options.columnDefs.every(function(i){return i.enableFiltering===!1});h||(v=1)}var e=v*A,o=A+U+p+w+e;D.css("height",o+"px"),x.gridHeight=I.gridHeight=k.elementHeight(D)}function m(){k.isVisible(D)&&(x.gridWidth=I.gridWidth=k.elementWidth(D),x.gridHeight=I.gridHeight=k.elementHeight(D),x.refreshCanvas(!0))}}}}}}})();(function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(we){return{restrict:"EA",replace:!0,template:`<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="'body'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>`,scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(k,O,I,D){var T=D.grid,_=0;O.addClass("ui-grid-pinned-container-"+k.side),(k.side==="left"||k.side==="right")&&(T.renderContainers[k.side].getViewportWidth=x);function x(){var g=this,F=0;g.visibleColumnCache.forEach(function(J){F+=J.drawnWidth});var N=g.getViewportAdjustment();return F=F+N.width,F}function d(){if(k.side==="left"||k.side==="right"){for(var g=T.renderContainers[k.side].visibleColumnCache,F=0,N=0;N<g.length;N++){var J=g[N];F+=J.drawnWidth||J.width||0}return F}}function M(){var g="";return(k.side==="left"||k.side==="right")&&(_=d(),O.attr("style",null),g+=".grid"+T.id+" .ui-grid-pinned-container-"+k.side+", .grid"+T.id+" .ui-grid-pinned-container-"+k.side+" .ui-grid-render-container-"+k.side+" .ui-grid-viewport { width: "+_+"px; } "),g}T.renderContainers.body.registerViewportAdjuster(function(g){return _=d(),g.width-=_,g.side=k.side,g}),T.registerStyleComputation({priority:15,func:M})}}}}}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu",column:"Column"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},selection:{aria:{row:"Row"},selectAll:"Select All",displayName:"Row Selection Checkbox"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),Q}])}])})();(function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(we,Q,k,O,I,D,T,_,x,d,M,g,F,N){var J=function(e){var o=this;if(e!==void 0&&typeof e.id!="undefined"&&e.id){if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.')}else throw new Error("No ID provided. An ID must be given when creating a grid.");o.id=e.id,delete e.id,o.options=D.initialize(e),o.appScope=o.options.appScopeProvider,o.headerHeight=o.options.headerRowHeight,o.footerHeight=o.calcFooterHeight(),o.columnFooterHeight=o.calcColumnFooterHeight(),o.rtl=!1,o.gridHeight=0,o.gridWidth=0,o.columnBuilders=[],o.rowBuilders=[],o.rowsProcessors=[],o.columnsProcessors=[],o.styleComputations=[],o.viewportAdjusters=[],o.rowHeaderColumns=[],o.dataChangeCallbacks={},o.verticalScrollSyncCallBackFns={},o.horizontalScrollSyncCallBackFns={},o.renderContainers={},o.renderContainers.body=new g("body",o),o.cellValueGetterCache={},o.getRowTemplateFn=null,o.rows=[],o.columns=[],o.isScrollingVertically=!1,o.isScrollingHorizontally=!1,o.scrollDirection=I.scrollDirection.NONE,o.disableScrolling=!1;function i(a){o.isScrollingVertically=!1,o.api.core.raise.scrollEnd(a),o.scrollDirection=I.scrollDirection.NONE}var c=O.debounce(i,o.options.scrollDebounce),u=O.debounce(i,0);function s(a){o.isScrollingHorizontally=!1,o.api.core.raise.scrollEnd(a),o.scrollDirection=I.scrollDirection.NONE}var t=O.debounce(s,o.options.scrollDebounce),r=O.debounce(s,0);o.flagScrollingVertically=function(a){!o.isScrollingVertically&&!o.isScrollingHorizontally&&o.api.core.raise.scrollBegin(a),o.isScrollingVertically=!0,o.options.scrollDebounce===0||!a.withDelay?u(a):c(a)},o.flagScrollingHorizontally=function(a){!o.isScrollingVertically&&!o.isScrollingHorizontally&&o.api.core.raise.scrollBegin(a),o.isScrollingHorizontally=!0,o.options.scrollDebounce===0||!a.withDelay?r(a):t(a)},o.scrollbarHeight=0,o.scrollbarWidth=0,o.options.enableHorizontalScrollbar!==I.scrollbars.NEVER&&(o.scrollbarHeight=O.getScrollbarWidth()),o.options.enableVerticalScrollbar!==I.scrollbars.NEVER&&(o.scrollbarWidth=O.getScrollbarWidth()),o.api=new x(o),o.api.registerMethod("core","refresh",this.refresh),o.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),o.api.registerMethod("core","refreshRows",this.refreshRows),o.api.registerMethod("core","queueRefresh",this.queueRefresh),o.api.registerMethod("core","handleWindowResize",this.handleWindowResize),o.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),o.api.registerMethod("core","scrollToIfNecessary",function(a,l){return o.scrollToIfNecessary(a,l)}),o.api.registerMethod("core","scrollTo",function(a,l){return o.scrollTo(a,l)}),o.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),o.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),o.api.registerMethod("core","sortHandleNulls",d.handleNulls),o.api.registerEvent("core","sortChanged"),o.api.registerEvent("core","columnVisibilityChanged"),o.api.registerMethod("core","notifyDataChange",this.notifyDataChange),o.api.registerMethod("core","clearAllFilters",this.clearAllFilters),o.registerDataChangeCallback(o.columnRefreshCallback,[I.dataChange.COLUMN]),o.registerDataChangeCallback(o.processRowsCallback,[I.dataChange.EDIT]),o.registerDataChangeCallback(o.updateFooterHeightCallback,[I.dataChange.OPTIONS]),o.registerStyleComputation({priority:10,func:o.getFooterStyles})};J.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var h=0;return this.options.showGridFooter&&(h+=this.options.gridFooterHeight),h+=this.calcColumnFooterHeight(),h},J.prototype.calcColumnFooterHeight=function(){var h=0;return this.options.showColumnFooter&&(h+=this.options.columnFooterHeight),h},J.prototype.getFooterStyles=function(){var h=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return h+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }",h},J.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},J.prototype.isRTL=function(){return this.rtl},J.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},J.prototype.buildColumnDefsFromData=function(h){this.options.columnDefs=O.getColumnsFromData(h,this.options.excludeProperties)},J.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},J.prototype.registerDataChangeCallback=function(e,o,i){var c=this,u=O.nextUid();return o||(o=[I.dataChange.ALL]),Array.isArray(o)||O.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+o),this.dataChangeCallbacks[u]={callback:e,types:o,_this:i},function(){delete c.dataChangeCallbacks[u]}},J.prototype.callDataChangeCallbacks=function(e,o){angular.forEach(this.dataChangeCallbacks,function(i,c){(i.types.indexOf(I.dataChange.ALL)!==-1||i.types.indexOf(e)!==-1||e===I.dataChange.ALL)&&(i._this?i.callback.apply(i._this,this,o):i.callback(this,o))},this)},J.prototype.notifyDataChange=function(e){var o=I.dataChange;e===o.ALL||e===o.COLUMN||e===o.EDIT||e===o.ROW||e===o.OPTIONS?this.callDataChangeCallbacks(e):O.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},J.prototype.columnRefreshCallback=function(e,o){e.buildColumns(o),e.queueGridRefresh()},J.prototype.processRowsCallback=function(e){e.queueGridRefresh()},J.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},J.prototype.getColumn=function(e){return pe(this.columns,function(o){return o.colDef.name===e})},J.prototype.getColDef=function(e){return pe(this.options.columnDefs,function(o){return o.name===e})},J.prototype.assignTypes=function(){var h=this;h.options.columnDefs.forEach(function(e,o){if(!e.type){var i=new T(e,o,h),c=h.rows.length>0?h.rows[0]:null;c?e.type=O.guessType(h.getCellValue(c,i)):e.type="string"}})},J.prototype.isRowHeaderColumn=function(e){return this.rowHeaderColumns.indexOf(e)!==-1},J.prototype.addRowHeaderColumn=function(e,o,i){var c=this;o===void 0&&(o=0);var u=new T(e,O.nextUid(),c);u.isRowHeader=!0,c.isRTL()?(c.createRightContainer(),u.renderContainer="right"):(c.createLeftContainer(),u.renderContainer="left"),c.columnBuilders[0](e,u,c.options).then(function(){u.enableFiltering=!1,u.enableSorting=!1,u.enableHiding=!1,u.headerPriority=o,c.rowHeaderColumns.push(u),c.rowHeaderColumns=c.rowHeaderColumns.sort(function(s,t){return s.headerPriority-t.headerPriority}),i||c.buildColumns().then(function(){c.preCompileCellTemplates(),c.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},J.prototype.getOnlyDataColumns=function(){var e=this,o=[];return e.columns.forEach(function(i){e.rowHeaderColumns.indexOf(i)===-1&&o.push(i)}),o},J.prototype.buildColumns=function(e){var o={orderByColumnDefs:!1};angular.extend(o,e);var i=this,c=[],u=i.rowHeaderColumns.length,s;for(s=0;s<i.columns.length;s++)i.getColDef(i.columns[s].name)||(i.columns.splice(s,1),s--);for(var t=i.rowHeaderColumns.length-1;t>=0;t--)i.columns.unshift(i.rowHeaderColumns[t]);if(i.options.columnDefs.forEach(function(l,f){i.preprocessColDef(l);var b=i.getColumn(l.name);b?b.updateColumnDef(l,!1):(b=new T(l,O.nextUid(),i),i.columns.splice(f+u,0,b)),i.columnBuilders.forEach(function(C){c.push(C.call(i,l,b,i.options))})}),o.orderByColumnDefs){var r=i.columns.slice(0),a=Math.min(i.options.columnDefs.length,i.columns.length);for(s=0;s<a;s++)i.columns[s+u].name!==i.options.columnDefs[s].name?r[s+u]=i.getColumn(i.options.columnDefs[s].name):r[s+u]=i.columns[s+u];i.columns.length=0,Array.prototype.splice.apply(i.columns,[0,0].concat(r))}return we.all(c).then(function(){i.rows.length>0&&i.assignTypes(),o.preCompileCellTemplates&&i.preCompileCellTemplates()}).catch(angular.noop)},J.prototype.preCompileCellTemplate=function(h){var e=this,o=h.cellTemplate.replace(I.MODEL_COL_FIELD,e.getQualifiedColField(h));o=o.replace(I.COL_FIELD,"grid.getCellValue(row, col)"),h.compiledElementFn=Q(o),h.compiledElementFnDefer&&h.compiledElementFnDefer.resolve(h.compiledElementFn)},J.prototype.preCompileCellTemplates=function(){var h=this;h.columns.forEach(function(e){e.cellTemplate?h.preCompileCellTemplate(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){h.preCompileCellTemplate(e)}).catch(angular.noop)})},J.prototype.getQualifiedColField=function(h){var e="row.entity";return h.field===I.ENTITY_BINDING?e:O.preEval(e+"."+h.field)},J.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new g("left",this,{disableColumnOffset:!0}))},J.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new g("right",this,{disableColumnOffset:!0}))},J.prototype.hasLeftContainer=function(){return this.renderContainers.left!==void 0},J.prototype.hasRightContainer=function(){return this.renderContainers.right!==void 0},J.prototype.preprocessColDef=function(e){var o=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(e.name===void 0&&e.field!==void 0){for(var i=e.field,c=2;o.getColumn(i);)i=e.field+c.toString(),c++;e.name=i}},J.prototype.newInN=function(e,o,i,c){for(var u=this,s=[],t=0;t<o.length;t++){for(var r=c?o[t][c]:o[t],a=!1,l=0;l<e.length;l++){var f=i?e[l][i]:e[l];if(u.options.rowEquality(r,f)){a=!0;break}}a||s.push(r)}return s};var pe=function(h,e){if(h&&h.length){if(angular.isFunction(h.find))return h.find(e)||null;var o=null;return h.every(function(i){return e(i)?(o=i,!1):!0}),o}return null};J.prototype.getRow=function(e,o){var i=this;return o=o==null?this.rows:o,pe(o,function(c){return i.options.rowEquality(c.entity,e)})},J.prototype.getRowsByKey=function(e,o,i,c){if(o==null)return null;c=c==null?this.rows:c;var u=e?function(s){return s.entity!=null&&s.entity.hasOwnProperty(o)&&s.entity[o]===i}:function(s){return s.hasOwnProperty(o)&&s[o]===i};return c.filter(u)},J.prototype.findRowByKey=function(e,o,i,c){var u=null;if(o!=null){c=c==null?this.rows:c;var s=e?function(t){return t.entity!=null&&t.entity.hasOwnProperty(o)&&t.entity[o]===i?(u=t,!1):!0}:function(t){return t.hasOwnProperty(o)&&t[o]===i?(u=t,!1):!0};c.every(s)}return u},J.prototype.modifyRows=function(e){var o=this,i=o.rows.slice(0),c=o.rowHashMap||o.createRowHashMap(),u=!0;o.rowHashMap=o.createRowHashMap(),o.rows.length=0,e.forEach(function(r,a){var l,f;o.options.enableRowHashing?f=c.get(r):f=o.getRow(r,i),f&&(l=f,l.entity=r,l.index!==a&&(l.index=a)),l||(l=o.processRowBuilders(new _(r,a,o))),o.rows.push(l),o.rowHashMap.put(r,l),l.isSelected||(u=!1)}),o.selection&&o.rows.length&&(o.selection.selectAll=u),o.assignTypes();var s=we.when(o.processRowsProcessors(o.rows)).then(function(r){return o.setVisibleRows(r)}).catch(angular.noop),t=we.when(o.processColumnsProcessors(o.columns)).then(function(r){return o.setVisibleColumns(r)}).catch(angular.noop);return we.all([s,t])},J.prototype.addRows=function(e){for(var o=this,i=o.rows.length,c=0;c<e.length;c++){var u=o.processRowBuilders(new _(e[c],c+i,o));if(o.options.enableRowHashing){var s=o.rowHashMap.get(u.entity);s&&(s.row=u)}o.rows.push(u)}},J.prototype.processRowBuilders=function(e){var o=this;return o.rowBuilders.forEach(function(i){i.call(o,e,o.options)}),e},J.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},J.prototype.registerRowsProcessor=function(e,o){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:o}),this.rowsProcessors.sort(function(c,u){return c.priority-u.priority})},J.prototype.removeRowsProcessor=function(e){var o=-1;this.rowsProcessors.forEach(function(i,c){i.processor===e&&(o=c)}),o!==-1&&this.rowsProcessors.splice(o,1)},J.prototype.processRowsProcessors=function(e){var o=this,i=e.slice(0);if(o.rowsProcessors.length===0)return we.when(i);var c=0,u=we.defer();function s(t,r){var a=o.rowsProcessors[t].processor;return we.when(a.call(o,r,o.columns)).then(function(f){if(!f)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(f))throw"Processor at index "+t+" did not return an array";if(t++,t<=o.rowsProcessors.length-1)return s(t,f);u.resolve(f)}).catch(function(l){throw l})}return s(0,i),u.promise},J.prototype.setVisibleRows=function(e){var o=this;for(var i in o.renderContainers){var c=o.renderContainers[i];c.canvasHeightShouldUpdate=!0,typeof c.visibleRowCache=="undefined"?c.visibleRowCache=[]:c.visibleRowCache.length=0}for(var u=0;u<e.length;u++){var s=e[u],t=typeof s.renderContainer!="undefined"&&s.renderContainer?s.renderContainer:"body";s.visible&&o.renderContainers[t].visibleRowCache.push(s)}o.api.core.raise.rowsVisibleChanged(this.api),o.api.core.raise.rowsRendered(this.api)},J.prototype.registerColumnsProcessor=function(e,o){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:o}),this.columnsProcessors.sort(function(c,u){return c.priority-u.priority})},J.prototype.removeColumnsProcessor=function(e){var o=this.columnsProcessors.indexOf(e);typeof o!="undefined"&&o!==void 0&&this.columnsProcessors.splice(o,1)},J.prototype.processColumnsProcessors=function(e){var o=this,i=e.slice(0);if(o.columnsProcessors.length===0)return we.when(i);var c=we.defer();function u(s,t){var r=o.columnsProcessors[s].processor;return we.when(r.call(o,t,o.rows)).then(function(l){if(!l)throw"Processor at index "+s+" did not return a set of renderable rows";if(!angular.isArray(l))throw"Processor at index "+s+" did not return an array";if(s++,s<=o.columnsProcessors.length-1)return u(s,i);c.resolve(i)}).catch(angular.noop)}return u(0,i),c.promise},J.prototype.setVisibleColumns=function(e){var o=this;for(var i in o.renderContainers){var c=o.renderContainers[i];c.visibleColumnCache.length=0}for(var u=0;u<e.length;u++){var s=e[u];s.visible&&(typeof s.renderContainer!="undefined"&&s.renderContainer?o.renderContainers[s.renderContainer].visibleColumnCache.push(s):o.renderContainers.body.visibleColumnCache.push(s))}},J.prototype.handleWindowResize=function(e){var o=this;return o.gridWidth=O.elementWidth(o.element),o.gridHeight=O.elementHeight(o.element),o.queueRefresh()},J.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&F.cancel(e.refreshCanceller),e.refreshCanceller=F(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},J.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&F.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=F(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},J.prototype.updateCanvasHeight=function(){var e=this;for(var o in e.renderContainers)if(e.renderContainers.hasOwnProperty(o)){var i=e.renderContainers[o];i.canvasHeightShouldUpdate=!0}},J.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(o,i){return o.priority===null?1:i.priority===null?-1:o.priority===null&&i.priority===null?0:o.priority-i.priority}).forEach(function(o){var i=o.func.call(e);angular.isString(i)&&(e.customStyles+=`
`+i)})},J.prototype.minColumnsToRender=function(){var e=this,o=this.getViewportWidth(),i=0,c=0;return e.columns.forEach(function(u,s){if(c<o)c+=u.drawnWidth,i++;else{for(var t=0,r=s;r>=s-i;r--)t+=e.columns[r].drawnWidth;t<o&&i++}}),i},J.prototype.getBodyHeight=function(){return this.getViewportHeight()},J.prototype.getViewportHeight=function(){var e=this,o=this.gridHeight-this.headerHeight-this.footerHeight,i=e.getViewportAdjustment();return o=o+i.height,o>0?o:0},J.prototype.getViewportWidth=function(){var e=this,o=this.gridWidth,i=e.getViewportAdjustment();return o=o+i.width,o},J.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},J.prototype.addVerticalScrollSync=function(h,e){this.verticalScrollSyncCallBackFns[h]=e},J.prototype.addHorizontalScrollSync=function(h,e){this.horizontalScrollSyncCallBackFns[h]=e},J.prototype.scrollContainers=function(h,e){if(e.y){var o=["body","left","right"];this.flagScrollingVertically(e),h==="body"?o=["left","right"]:h==="left"?o=["body","right"]:h==="right"&&(o=["body","left"]);for(var i=0;i<o.length;i++){var c=o[i];this.verticalScrollSyncCallBackFns[c]&&this.verticalScrollSyncCallBackFns[c](e)}}if(e.x){var u=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(e),h==="body"&&(u=["bodyheader","bodyfooter"]);for(var s=0;s<u.length;s++){var t=u[s];this.horizontalScrollSyncCallBackFns[t]&&this.horizontalScrollSyncCallBackFns[t](e)}}},J.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},J.prototype.removeViewportAdjuster=function(e){var o=this.viewportAdjusters.indexOf(e);typeof o!="undefined"&&o!==void 0&&this.viewportAdjusters.splice(o,1)},J.prototype.getViewportAdjustment=function(){var e=this,o={height:0,width:0};return e.viewportAdjusters.forEach(function(i){o=i.call(this,o)}),o},J.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},J.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},J.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},J.prototype.searchRows=function(e){return M.search(this,e,this.columns)},J.prototype.sortByColumn=function(e){return d.sort(this,e,this.columns)},J.prototype.getCellValue=function(e,o){return typeof e.entity["$$"+o.uid]!="undefined"?e.entity["$$"+o.uid].rendered:this.options.flatEntityAccess&&typeof o.field!="undefined"?e.entity[o.field]:(o.cellValueGetterCache||(o.cellValueGetterCache=k(e.getEntityQualifiedColField(o))),o.cellValueGetterCache(e))},J.prototype.getCellDisplayValue=function(e,o){if(!o.cellDisplayGetterCache){var i=o.cellFilter?" | "+o.cellFilter:"";if(typeof e.entity["$$"+o.uid]!="undefined")o.cellDisplayGetterCache=k(e.entity["$$"+o.uid].rendered+i);else if(this.options.flatEntityAccess&&typeof o.field!="undefined"){var c=o.field.replace(/(')|(\\)/g,"\\$&");o.cellDisplayGetterCache=k("entity['"+c+"']"+i)}else o.cellDisplayGetterCache=k(e.getEntityQualifiedColField(o)+i)}var u=angular.extend({},e,{col:o});return o.cellDisplayGetterCache(u)},J.prototype.getNextColumnSortPriority=function(){var e=this,o=0;return e.columns.forEach(function(i){i.sort&&i.sort.priority!==void 0&&i.sort.priority>=o&&(o=i.sort.priority+1)}),o},J.prototype.resetColumnSorting=function(e){var o=this;o.columns.forEach(function(i){i!==e&&!i.suppressRemoveSort&&(i.sort={})})},J.prototype.getColumnSorting=function(){var e=this,o=[],i;return i=e.columns.slice(0),i.sort(d.prioritySort).forEach(function(c){c.sort&&typeof c.sort.direction!="undefined"&&c.sort.direction&&(c.sort.direction===I.ASC||c.sort.direction===I.DESC)&&o.push(c)}),o},J.prototype.sortColumn=function(e,o,i){var c=this,u=null;if(typeof e=="undefined"||!e)throw new Error("No column parameter provided");if(typeof o=="boolean"?i=o:u=o,!i||c.options&&c.options.suppressMultiSort?(c.resetColumnSorting(e),e.sort.priority=void 0,e.sort.priority=c.getNextColumnSortPriority()):e.sort.priority===void 0&&(e.sort.priority=c.getNextColumnSortPriority()),u)e.sort.direction=u;else{var s=e.sortDirectionCycle.indexOf(e.sort&&e.sort.direction?e.sort.direction:null);s=(s+1)%e.sortDirectionCycle.length,e.colDef&&e.suppressRemoveSort&&!e.sortDirectionCycle[s]&&(s=(s+1)%e.sortDirectionCycle.length),e.sortDirectionCycle[s]?e.sort.direction=e.sortDirectionCycle[s]:m(e,c)}return c.api.core.raise.sortChanged(c,c.getColumnSorting()),we.when(e)};var m=function(e,o){o.columns.forEach(function(i){i.sort&&i.sort.priority!==void 0&&i.sort.priority>e.sort.priority&&(i.sort.priority-=1)}),e.sort={}};J.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},J.prototype.createRowHashMap=function(){var e=this,o=new v;return o.grid=e,o},J.prototype.refresh=function(e){var o=this,i=o.processRowsProcessors(o.rows).then(function(u){o.setVisibleRows(u)}).catch(angular.noop),c=o.processColumnsProcessors(o.columns).then(function(u){o.setVisibleColumns(u)}).catch(angular.noop);return we.all([i,c]).then(function(){o.refreshCanvas(!0),o.redrawInPlace(e)}).catch(angular.noop)},J.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(o){e.setVisibleRows(o),e.redrawInPlace(),e.refreshCanvas(!0)}).catch(angular.noop)},J.prototype.refreshCanvas=function(h){var e=this,o=we.defer(),i=[];for(var c in e.renderContainers)if(e.renderContainers.hasOwnProperty(c)){var u=e.renderContainers[c];if(u.canvasWidth===null||isNaN(u.canvasWidth))continue;(u.header||u.headerCanvas)&&(u.explicitHeaderHeight=u.explicitHeaderHeight||null,u.explicitHeaderCanvasHeight=u.explicitHeaderCanvasHeight||null,i.push(u))}return h&&e.buildStyles(),i.length>0?F(function(){var s=!1,t=0,r=0,a,l,f=function(L,Y){return L!==Y&&(s=!0),Y};for(a=0;a<i.length;a++)if(l=i[a],!(l.canvasWidth===null||isNaN(l.canvasWidth))){if(l.header){var b=l.headerHeight=f(l.headerHeight,O.outerElementHeight(l.header)),C=O.getBorderSize(l.header,"top"),$=O.getBorderSize(l.header,"bottom"),W=parseInt(b-C-$,10);W=W<0?0:W,l.innerHeaderHeight=W,!l.explicitHeaderHeight&&W>t&&(t=W)}if(l.headerCanvas){var R=l.headerCanvasHeight=f(l.headerCanvasHeight,parseInt(O.outerElementHeight(l.headerCanvas),10));!l.explicitHeaderCanvasHeight&&R>r&&(r=R)}}for(a=0;a<i.length;a++)l=i[a],t>0&&typeof l.headerHeight!="undefined"&&l.headerHeight!==null&&(l.explicitHeaderHeight||l.headerHeight<t)&&(l.explicitHeaderHeight=f(l.explicitHeaderHeight,t)),r>0&&typeof l.headerCanvasHeight!="undefined"&&l.headerCanvasHeight!==null&&(l.explicitHeaderCanvasHeight||l.headerCanvasHeight<r)&&(l.explicitHeaderCanvasHeight=f(l.explicitHeaderCanvasHeight,r));h&&s&&e.buildStyles(),o.resolve()}):F(function(){o.resolve()}),o.promise};function U(h,e){return h||e>0?e:null}J.prototype.redrawInPlace=function(e){var o=this;for(var i in o.renderContainers){var c=o.renderContainers[i],u=U(e,c.prevScrollTop),s=U(e,c.prevScrollLeft),t=e||u>0?null:c.prevScrolltopPercentage;c.adjustRows(u,t),c.adjustColumns(s)}},J.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},J.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0};function A(h,e){var o=h/e;return o<=1?o:1}function p(h,e,o){var i=A(h,e);if(i!==o)return{percentage:A(h,e)}}function w(h,e,o){var i=h/e;if(i=i>1?1:i,i!==o)return{percentage:i}}J.prototype.scrollToIfNecessary=function(h,e){var o=this,i=new N(o,"uiGrid.scrollToIfNecessary"),c=o.renderContainers.body.visibleRowCache,u=o.renderContainers.body.visibleColumnCache,s=o.renderContainers.body.prevScrollTop;s=s<0?0:s;var t=o.renderContainers.body.prevScrollLeft,r=o.renderContainers.body.prevScrollTop+o.gridHeight-o.renderContainers.body.headerHeight-o.footerHeight-o.scrollbarHeight,a=o.renderContainers.body.prevScrollLeft+Math.ceil(o.renderContainers.body.getViewportWidth());if(h!==null){var l=c.indexOf(h),f=o.renderContainers.body.getCanvasHeight()-o.renderContainers.body.getViewportHeight(),b=l*o.options.rowHeight;b=b<0?0:b;var C;b<Math.floor(s)?(C=o.renderContainers.body.prevScrollTop-(s-b),e&&e.colDef&&e.colDef.enableCellEditOnFocus&&(C=C-o.footerHeight-o.scrollbarHeight),i.y=p(C,f,o.renderContainers.body.prevScrolltopPercentage)):b+o.options.rowHeight>Math.ceil(r)&&(C=b+o.options.rowHeight-r+o.renderContainers.body.prevScrollTop,i.y=p(C,f,o.renderContainers.body.prevScrolltopPercentage))}if(e!==null){for(var $=u.indexOf(e),W=o.renderContainers.body.getCanvasWidth()-o.renderContainers.body.getViewportWidth(),R=0,L=0;L<$;L++){var Y=u[L];R+=Y.drawnWidth}R=R<0?0:R;var ee=R+e.drawnWidth;ee=ee<0?0:ee;var ae;R<t?(ae=o.renderContainers.body.prevScrollLeft-(t-R),i.x=w(ae,W,o.renderContainers.body.prevScrollleftPercentage)):ee>a&&(ae=ee-a+o.renderContainers.body.prevScrollLeft,i.x=w(ae,W,o.renderContainers.body.prevScrollleftPercentage))}var fe=we.defer();if(i.y||i.x){i.withDelay=!1,o.scrollContainers("",i);var xe=o.api.core.on.scrollEnd(null,function(){fe.resolve(i),xe()})}else fe.resolve();return fe.promise},J.prototype.scrollTo=function(h,e){var o=null,i=null;return h!==null&&typeof h!="undefined"&&(o=this.getRow(h)),e!==null&&typeof e!="undefined"&&(i=this.getColumn(e.name?e.name:e.field)),this.scrollToIfNecessary(o,i)},J.prototype.clearAllFilters=function(e,o,i){if(e===void 0&&(e=!0),o===void 0&&(o=!1),i===void 0&&(i=!1),this.columns.forEach(function(c){c.filters.forEach(function(u){u.term=void 0,o&&(u.condition=void 0),i&&(u.flags=void 0)})}),e)return this.refreshRows()};function v(){}return v.prototype={put:function(h,e){this[this.grid.options.rowIdentity(h)]=e},get:function(h){return this[this.grid.options.rowIdentity(h)]},remove:function(h){var e=this[h=this.grid.options.rowIdentity(h)];return delete this[h],e}},J}])})();(function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow",function(we,Q,k,O,I){var D=function(x){this.grid=x,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",I.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",I.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};D.prototype.suppressEvents=function(_,x){var d=this,M=angular.isArray(_)?_:[_],g=d.listeners.filter(function(F){return M.some(function(N){return F.handler===N})});g.forEach(function(F){F.dereg()}),x(),g.forEach(function(F){F.dereg=T(F.eventId,F.handler,d.grid,F._this)})},D.prototype.registerEvent=function(_,x){var d=this;d[_]||(d[_]={});var M=d[_];M.on||(M.on={},M.raise={});var g=d.grid.id+_+x;M.raise[x]=function(){Q.$emit.apply(Q,[g].concat(Array.prototype.slice.call(arguments)))},M.on[x]=function(F,N,J){if(F!==null&&typeof F.$on=="undefined"){k.logError("asked to listen on "+_+".on."+x+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");return}var pe=T(g,N,d.grid,J),m={handler:N,dereg:pe,eventId:g,scope:F,_this:J};d.listeners.push(m);var U=function(){m.dereg();var A=d.listeners.indexOf(m);d.listeners.splice(A,1)};return F&&F.$on("$destroy",function(){U()}),U}};function T(_,x,d,M){return Q.$on(_,function(g){var F=Array.prototype.slice.call(arguments);F.splice(0,1),x.apply(M||d.api,F)})}return D.prototype.registerEventsFromObject=function(_){var x=this,d=[];angular.forEach(_,function(M,g){var F={name:g,events:[]};angular.forEach(M,function(N,J){F.events.push(J)}),d.push(F)}),d.forEach(function(M){M.events.forEach(function(g){x.registerEvent(M.name,g)})})},D.prototype.registerMethod=function(_,x,d,M){this[_]||(this[_]={});var g=this[_];g[x]=k.createBoundedWrapper(M||this.grid,d)},D.prototype.registerMethodsFromObject=function(_,x){var d=this,M=[];angular.forEach(_,function(g,F){var N={name:F,methods:[]};angular.forEach(g,function(J,pe){N.methods.push({name:pe,fn:J})}),M.push(N)}),M.forEach(function(g){g.methods.forEach(function(F){d.registerMethod(g.name,F.name,F.fn,x)})})},D}])})();(function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(we,Q,k){function O(D,T,_){var x=this;x.grid=_,x.uid=T,x.updateColumnDef(D,!0),x.aggregationValue=void 0,x.updateAggregationValue=function(){if(!x.aggregationType){x.aggregationValue=void 0;return}var d=0,M=x.grid.getVisibleRows(),g=function(){var F=[];return M.forEach(function(N){var J=x.grid.getCellValue(N,x),pe=Number(J);isNaN(pe)||F.push(pe)}),F};angular.isFunction(x.aggregationType)?x.aggregationValue=x.aggregationType(M,x):x.aggregationType===Q.aggregationTypes.count?x.aggregationValue=x.grid.getVisibleRowCount():x.aggregationType===Q.aggregationTypes.sum?(g().forEach(function(F){d+=F}),x.aggregationValue=d):x.aggregationType===Q.aggregationTypes.avg?(g().forEach(function(F){d+=F}),d=d/g().length,x.aggregationValue=d):x.aggregationType===Q.aggregationTypes.min?x.aggregationValue=Math.min.apply(null,g()):x.aggregationType===Q.aggregationTypes.max?x.aggregationValue=Math.max.apply(null,g()):x.aggregationValue="\xA0"},this.getAggregationValue=function(){return x.aggregationValue}}O.prototype.hideColumn=function(){this.colDef.visible=!1},O.prototype.setPropertyOrDefault=function(D,T,_){var x=this;typeof D[T]!="undefined"&&D[T]?x[T]=D[T]:typeof x[T]!="undefined"?x[T]=x[T]:x[T]=_||{}};function I(D){return D.displayName===void 0?we.readableColumnName(D.name):D.displayName}return O.prototype.updateColumnDef=function(D,T){var _=this;if(_.colDef=D,D.name===void 0)throw new Error("colDef.name is required for column at index "+_.grid.options.columnDefs.indexOf(D));if(_.displayName=I(D),!angular.isNumber(_.width)||!_.hasCustomWidth||D.allowCustomWidthOverride){var x=D.width,d="Cannot parse column width '"+x+"' for column named '"+D.name+"'";if(_.hasCustomWidth=!1,!angular.isString(x)&&!angular.isNumber(x))_.width="*";else if(angular.isString(x))if(we.endsWith(x,"%")){var M=x.replace(/%/g,""),g=parseInt(M,10);if(isNaN(g))throw new Error(d);_.width=x}else if(x.match(/^(\d+)$/))_.width=parseInt(x.match(/^(\d+)$/)[1],10);else if(x.match(/^\*+$/))_.width=x;else throw new Error(d);else _.width=x}function F(J){return angular.isString(J)||angular.isNumber(J)}["minWidth","maxWidth"].forEach(function(J){var pe=D[J],m="Cannot parse column "+J+" '"+pe+"' for column named '"+D.name+"'";if(J==="minWidth"&&!F(pe)&&angular.isDefined(_.grid.options.minimumColumnSize)&&(pe=_.grid.options.minimumColumnSize),!F(pe))_[J]=J==="minWidth"?30:9e3;else if(angular.isString(pe))if(pe.match(/^(\d+)$/))_[J]=parseInt(pe.match(/^(\d+)$/)[1],10);else throw new Error(m);else _[J]=pe}),_.field=D.field===void 0?D.name:D.field,typeof _.field!="string"&&we.logError("Field is not a string, this is likely to break the code, Field is: "+_.field),_.name=D.name,_.displayName=I(D),_.aggregationType=angular.isDefined(D.aggregationType)?D.aggregationType:null,_.footerCellTemplate=angular.isDefined(D.footerCellTemplate)?D.footerCellTemplate:null,typeof D.cellTooltip=="undefined"||D.cellTooltip===!1?_.cellTooltip=!1:D.cellTooltip===!0?_.cellTooltip=function(J,pe){return _.grid.getCellValue(J,pe)}:typeof D.cellTooltip=="function"?_.cellTooltip=D.cellTooltip:_.cellTooltip=function(J,pe){return pe.colDef.cellTooltip},typeof D.headerTooltip=="undefined"||D.headerTooltip===!1?_.headerTooltip=!1:D.headerTooltip===!0?_.headerTooltip=function(J){return J.displayName}:typeof D.headerTooltip=="function"?_.headerTooltip=D.headerTooltip:_.headerTooltip=function(J){return J.colDef.headerTooltip},_.footerCellClass=D.footerCellClass,_.cellClass=D.cellClass,_.headerCellClass=D.headerCellClass,_.cellFilter=D.cellFilter?D.cellFilter:"",_.sortCellFiltered=!!D.sortCellFiltered,_.filterCellFiltered=!!D.filterCellFiltered,_.headerCellFilter=D.headerCellFilter?D.headerCellFilter:"",_.footerCellFilter=D.footerCellFilter?D.footerCellFilter:"",_.visible=we.isNullOrUndefined(D.visible)||D.visible,_.headerClass=D.headerClass,_.enableSorting=typeof D.enableSorting!="undefined"?D.enableSorting:_.grid.options.enableSorting,_.sortingAlgorithm=D.sortingAlgorithm,_.sortDirectionCycle=typeof D.sortDirectionCycle!="undefined"?D.sortDirectionCycle:[null,Q.ASC,Q.DESC],typeof _.suppressRemoveSort=="undefined"&&(_.suppressRemoveSort=typeof D.suppressRemoveSort!="undefined"?D.suppressRemoveSort:!1),_.enableFiltering=typeof D.enableFiltering!="undefined"?D.enableFiltering:!0,_.filterContainer=typeof D.filterContainer!="undefined"?D.filterContainer:_.grid.options.filterContainer,_.setPropertyOrDefault(D,"menuItems",[]),T&&_.setPropertyOrDefault(D,"sort"),_.setPropertyOrDefault(D,"defaultSort");var N=[];D.filter?N.push(D.filter):D.filters?N=D.filters:N.push({}),T?(_.setPropertyOrDefault(D,"filter"),_.setPropertyOrDefault(D,"extraStyle"),_.setPropertyOrDefault(D,"filters",N)):_.filters.length===N.length&&_.filters.forEach(function(J,pe){typeof N[pe].placeholder!="undefined"&&(J.placeholder=N[pe].placeholder),typeof N[pe].ariaLabel!="undefined"&&(J.ariaLabel=N[pe].ariaLabel),typeof N[pe].flags!="undefined"&&(J.flags=N[pe].flags),typeof N[pe].type!="undefined"&&(J.type=N[pe].type),typeof N[pe].selectOptions!="undefined"&&(J.selectOptions=N[pe].selectOptions)})},O.prototype.unsort=function(){var D=this.sort.priority;this.grid.columns.forEach(function(T){T.sort&&T.sort.priority!==void 0&&T.sort.priority>D&&(T.sort.priority-=1)}),this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},O.prototype.getColClass=function(D){var T=Q.COL_CLASS_PREFIX+this.uid;return D?"."+T:T},O.prototype.isPinnedLeft=function(){return this.renderContainer==="left"},O.prototype.isPinnedRight=function(){return this.renderContainer==="right"},O.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},O.prototype.getRenderContainer=function(){var T=this,_=T.renderContainer;return(_===null||_===""||_===void 0)&&(_="body"),T.grid.renderContainers[_]},O.prototype.showColumn=function(){this.colDef.visible=!0},O.prototype.getAggregationText=function(){var D=this;if(D.colDef.aggregationHideLabel)return"";if(D.colDef.aggregationLabel)return D.colDef.aggregationLabel;switch(D.colDef.aggregationType){case Q.aggregationTypes.count:return k.getSafeText("aggregation.count");case Q.aggregationTypes.sum:return k.getSafeText("aggregation.sum");case Q.aggregationTypes.avg:return k.getSafeText("aggregation.avg");case Q.aggregationTypes.min:return k.getSafeText("aggregation.min");case Q.aggregationTypes.max:return k.getSafeText("aggregation.max");default:return""}},O.prototype.getCellTemplate=function(){var D=this;return D.cellTemplatePromise},O.prototype.getCompiledElementFn=function(){var D=this;return D.compiledElementFnDefer.promise},O}])})();(function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(we,Q){return{initialize:function(k){return k.onRegisterApi=k.onRegisterApi||angular.noop(),k.data=k.data||[],k.columnDefs=k.columnDefs||[],k.excludeProperties=k.excludeProperties||["$$hashKey"],k.enableRowHashing=k.enableRowHashing!==!1,k.rowIdentity=k.rowIdentity||function(I){return we.hashKey(I)},k.getRowIdentity=k.getRowIdentity||function(I){return I.$$hashKey},k.flatEntityAccess=k.flatEntityAccess===!0,k.showHeader=typeof k.showHeader!="undefined"?k.showHeader:!0,k.showHeader?k.headerRowHeight=typeof k.headerRowHeight!="undefined"?k.headerRowHeight:30:k.headerRowHeight=0,typeof k.rowHeight=="string"?k.rowHeight=parseInt(k.rowHeight)||30:k.rowHeight=k.rowHeight||30,k.minRowsToShow=typeof k.minRowsToShow!="undefined"?k.minRowsToShow:10,k.showGridFooter=k.showGridFooter===!0,k.showColumnFooter=k.showColumnFooter===!0,k.columnFooterHeight=typeof k.columnFooterHeight!="undefined"?k.columnFooterHeight:30,k.gridFooterHeight=typeof k.gridFooterHeight!="undefined"?k.gridFooterHeight:30,k.columnWidth=typeof k.columnWidth!="undefined"?k.columnWidth:50,k.maxVisibleColumnCount=typeof k.maxVisibleColumnCount!="undefined"?k.maxVisibleColumnCount:200,k.virtualizationThreshold=typeof k.virtualizationThreshold!="undefined"?k.virtualizationThreshold:20,k.columnVirtualizationThreshold=typeof k.columnVirtualizationThreshold!="undefined"?k.columnVirtualizationThreshold:10,k.excessRows=typeof k.excessRows!="undefined"?k.excessRows:4,k.scrollThreshold=typeof k.scrollThreshold!="undefined"?k.scrollThreshold:4,k.excessColumns=typeof k.excessColumns!="undefined"?k.excessColumns:4,k.aggregationCalcThrottle=typeof k.aggregationCalcThrottle!="undefined"?k.aggregationCalcThrottle:500,k.wheelScrollThrottle=typeof k.wheelScrollThrottle!="undefined"?k.wheelScrollThrottle:70,k.scrollDebounce=typeof k.scrollDebounce!="undefined"?k.scrollDebounce:300,k.enableHiding=k.enableHiding!==!1,k.enableSorting=k.enableSorting!==!1,k.suppressMultiSort=k.suppressMultiSort===!0,k.enableFiltering=k.enableFiltering===!0,k.filterContainer=typeof k.filterContainer!="undefined"?k.filterContainer:"headerCell",k.enableColumnMenus=k.enableColumnMenus!==!1,k.enableVerticalScrollbar=typeof k.enableVerticalScrollbar!="undefined"?k.enableVerticalScrollbar:Q.scrollbars.ALWAYS,k.enableHorizontalScrollbar=typeof k.enableHorizontalScrollbar!="undefined"?k.enableHorizontalScrollbar:Q.scrollbars.ALWAYS,k.enableMinHeightCheck=k.enableMinHeightCheck!==!1,k.minimumColumnSize=typeof k.minimumColumnSize!="undefined"?k.minimumColumnSize:30,k.rowEquality=k.rowEquality||function(O,I){return O===I},k.headerTemplate=k.headerTemplate||null,k.footerTemplate=k.footerTemplate||"ui-grid/ui-grid-footer",k.gridFooterTemplate=k.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",k.rowTemplate=k.rowTemplate||"ui-grid/ui-grid-row",k.gridMenuTemplate=k.gridMenuTemplate||"ui-grid/uiGridMenu",k.disableGridMenuHideOnScroll=k.disableGridMenuHideOnScroll||!1,k.menuButtonTemplate=k.menuButtonTemplate||"ui-grid/ui-grid-menu-button",k.menuItemTemplate=k.menuItemTemplate||"ui-grid/uiGridMenuItem",k.appScopeProvider=k.appScopeProvider||null,k}}}])})();(function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(we,Q){function k(O,I,D){var T=this;T.name=O,T.grid=I,T.visibleRowCache=[],T.visibleColumnCache=[],T.renderedRows=[],T.renderedColumns=[],T.prevScrollTop=0,T.prevScrolltopPercentage=0,T.prevRowScrollIndex=0,T.prevScrollLeft=0,T.prevScrollleftPercentage=0,T.prevColumnScrollIndex=0,T.columnStyles="",T.viewportAdjusters=[],T.hasHScrollbar=!1,T.hasVScrollbar=!1,T.canvasHeightShouldUpdate=!0,T.$$canvasHeight=0,D&&angular.isObject(D)&&angular.extend(T,D),I.registerStyleComputation({priority:5,func:function(){return T.updateColumnWidths(),T.columnStyles}})}return k.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},k.prototype.containsColumn=function(O){return this.visibleColumnCache.indexOf(O)!==-1},k.prototype.minRowsToRender=function(){for(var I=this,D=0,T=0,_=I.getViewportHeight(),x=I.visibleRowCache.length-1;T<_&&x>=0;x--)T+=I.visibleRowCache[x].height,D++;return D},k.prototype.minColumnsToRender=function(){for(var I=this,D=this.getViewportWidth(),T=0,_=0,x=0;x<I.visibleColumnCache.length;x++){var d=I.visibleColumnCache[x];if(_<D)_+=d.drawnWidth?d.drawnWidth:0,T++;else{for(var M=0,g=x;g>=x-T;g--)M+=I.visibleColumnCache[g].drawnWidth?I.visibleColumnCache[g].drawnWidth:0;M<D&&T++}}return T},k.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},k.prototype.registerViewportAdjuster=function(I){this.viewportAdjusters.push(I)},k.prototype.removeViewportAdjuster=function(I){var D=this.viewportAdjusters.indexOf(I);D>-1&&this.viewportAdjusters.splice(D,1)},k.prototype.getViewportAdjustment=function(){var I=this,D={height:0,width:0};return I.viewportAdjusters.forEach(function(T){D=T.call(this,D)}),D},k.prototype.getMargin=function(I){var D=this,T=0;return D.viewportAdjusters.forEach(function(_){var x=_.call(this,{height:0,width:0});x.side&&x.side===I&&(T+=x.width*-1)}),T},k.prototype.getViewportHeight=function(){var I=this,D=I.headerHeight?I.headerHeight:I.grid.headerHeight,T=I.grid.gridHeight-D-I.grid.footerHeight,_=I.getViewportAdjustment();return T=T+_.height,T>0?T:0},k.prototype.getViewportWidth=function(){var I=this,D=I.grid.gridWidth,T=I.getViewportAdjustment();return D=D+T.width,D},k.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},k.prototype.getCanvasHeight=function(){var I=this;if(!I.canvasHeightShouldUpdate)return I.$$canvasHeight;var D=I.$$canvasHeight;return I.$$canvasHeight=0,I.visibleRowCache.forEach(function(T){I.$$canvasHeight+=T.height}),I.canvasHeightShouldUpdate=!1,I.grid.api.core.raise.canvasHeightChanged(D,I.$$canvasHeight),I.$$canvasHeight},k.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},k.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},k.prototype.getCanvasWidth=function(){var I=this;return I.canvasWidth},k.prototype.setRenderedRows=function(I){this.renderedRows.length=I.length;for(var D=0;D<I.length;D++)this.renderedRows[D]=I[D]},k.prototype.setRenderedColumns=function(I){this.renderedColumns.length=I.length;for(var D=0;D<I.length;D++)this.renderedColumns[D]=I[D];this.updateColumnOffset()},k.prototype.updateColumnOffset=function(){for(var I=0,D=0;D<this.currentFirstColumn;D++)I+=this.visibleColumnCache[D].drawnWidth;this.columnOffset=I},k.prototype.scrollVertical=function(O){var I=-1;if(O!==this.prevScrollTop){var D=O-this.prevScrollTop;D>0&&(this.grid.scrollDirection=Q.scrollDirection.DOWN),D<0&&(this.grid.scrollDirection=Q.scrollDirection.UP);var T=this.getVerticalScrollLength();return I=O/T,I>1&&(I=1),I<0&&(I=0),this.adjustScrollVertical(O,I),I}},k.prototype.scrollHorizontal=function(O){var I=-1;if(O!==this.prevScrollLeft){var D=O-this.prevScrollLeft;D>0&&(this.grid.scrollDirection=Q.scrollDirection.RIGHT),D<0&&(this.grid.scrollDirection=Q.scrollDirection.LEFT);var T=this.getHorizontalScrollLength();return T!==0?I=O/T:I=0,this.adjustScrollHorizontal(O,I),I}},k.prototype.adjustScrollVertical=function(I,D,T){this.prevScrollTop===I&&!T||((typeof I=="undefined"||I===void 0||I===null)&&(I=(this.getCanvasHeight()-this.getViewportHeight())*D),this.adjustRows(I,D,!1),this.prevScrollTop=I,this.prevScrolltopPercentage=D,this.grid.queueRefresh())},k.prototype.adjustScrollHorizontal=function(I,D,T){this.prevScrollLeft===I&&!T||((typeof I=="undefined"||I===void 0||I===null)&&(I=(this.getCanvasWidth()-this.getViewportWidth())*D),this.adjustColumns(I),this.prevScrollLeft=I,this.prevScrollleftPercentage=D,this.grid.queueRefresh())},k.prototype.adjustRows=function(I,D,T){var _=this,x=_.minRowsToRender(),d=_.visibleRowCache,M=d.length-x;(typeof D=="undefined"||D===null)&&I&&(D=I/_.getVerticalScrollLength());var g=Math.ceil(Math.min(M,M*D));g>M&&(g=M);var F=[];if(d.length>_.grid.options.virtualizationThreshold){if(!(typeof I=="undefined"||I===null)&&(!_.grid.suppressParentScrollDown&&_.prevScrollTop<I&&g<_.prevRowScrollIndex+_.grid.options.scrollThreshold&&g<M||!_.grid.suppressParentScrollUp&&_.prevScrollTop>I&&g>_.prevRowScrollIndex-_.grid.options.scrollThreshold&&g<M))return;var N=Math.max(0,g-_.grid.options.excessRows),J=Math.min(d.length,g+x+_.grid.options.excessRows);F=[N,J]}else{var pe=_.visibleRowCache.length;F=[0,Math.max(pe,x+_.grid.options.excessRows)]}_.updateViewableRowRange(F),_.prevRowScrollIndex=g},k.prototype.adjustColumns=function(I){var D=this,T=D.minColumnsToRender(),_=D.visibleColumnCache,x=_.length-T,d=Math.min(x,D.getLeftIndex(I)),M=[];if(_.length>D.grid.options.columnVirtualizationThreshold&&D.getCanvasWidth()>D.getViewportWidth()){var g=Math.max(0,d-D.grid.options.excessColumns),F=Math.min(_.length,d+T+D.grid.options.excessColumns);M=[g,F]}else{var N=D.visibleColumnCache.length;M=[0,Math.max(N,T+D.grid.options.excessColumns)]}D.updateViewableColumnRange(M),D.prevColumnScrollIndex=d},k.prototype.getLeftIndex=function(I){var D=0,T=0;for(T;T<this.visibleColumnCache.length&&!(this.visibleColumnCache[T]&&this.visibleColumnCache[T].visible&&(D+=this.visibleColumnCache[T].drawnWidth,D>=I));T++);return T},k.prototype.updateViewableRowRange=function(I){var D=this.visibleRowCache.slice(I[0],I[1]);this.currentTopRow=I[0],this.setRenderedRows(D)},k.prototype.updateViewableColumnRange=function(I){var D=this.visibleColumnCache.slice(I[0],I[1]);this.currentFirstColumn=I[0],this.setRenderedColumns(D)},k.prototype.headerCellWrapperStyle=function(){var O=this;if(O.currentFirstColumn!==0){var I=O.columnOffset;return O.grid.isRTL()?{"margin-right":I+"px"}:{"margin-left":I+"px"}}return null},k.prototype.updateColumnWidths=function(){var O=this,I=[],D=0,T=0,_="",x=!1,d=[],M=[],g=0,F=O.grid.getViewportWidth()-O.grid.scrollbarWidth,N=[];angular.forEach(O.grid.renderContainers,function(e){N=N.concat(e.visibleColumnCache)}),N.forEach(function(e){var o=0;if(e.visible)if(!x&&e.colDef.pinnedRight&&(x=!0),x&&(F+=O.grid.scrollbarWidth),angular.isNumber(e.width))e.colDef.allowFloatWidth?o=parseFloat(e.width):o=parseInt(e.width,10),T=T+o,e.drawnWidth=o,d.push(e);else if(we.endsWith(e.width,"%")){var i=parseInt(e.width.replace(/%/g,""),10);e.colDef.allowFloatWidth?o=parseFloat(i/100*F):o=parseInt(i/100*F,10),o>e.maxWidth&&(o=e.maxWidth),o<e.minWidth&&(o=e.minWidth),T=T+o,e.drawnWidth=o,g=g+i,M.push(e)}else angular.isString(e.width)&&e.width.indexOf("*")!==-1&&(D=D+e.width.length,I.push(e))});var J=F-T;if(I.length>0){var pe=J/D;I.forEach(function(e){var o=parseInt(e.width.length*pe,10);e.colDef.allowFloatWidth&&(o=parseFloat(e.width.length*pe)),o>e.maxWidth&&(o=e.maxWidth),o<e.minWidth&&(o=e.minWidth),T=T+o,e.drawnWidth=o})}var m;if(I.length>0?m=I:M.length>0&&d.length===0&&g===100&&(m=M),!angular.isUndefined(m)){for(var U=function(e){e.drawnWidth<e.maxWidth&&A>0&&(e.drawnWidth++,T++,A--,p=!0)},A=F-T,p=!0;A>0&&p;)p=!1,m.forEach(U);var w=function(e){e.drawnWidth>e.minWidth&&v>0&&(e.drawnWidth--,T--,v--,p=!0)},v=T-F;for(p=!0;v>0&&p;)p=!1,m.forEach(w)}var h=0;O.visibleColumnCache.forEach(function(e){e.visible&&(h=h+e.drawnWidth)}),N.forEach(function(e){_=_+e.getColClassDefinition()}),O.canvasWidth=h,this.columnStyles=_},k.prototype.needsHScrollbarPlaceholder=function(){var O=this,I;return O.name==="left"||O.name==="right"&&!this.hasHScrollbar&&!this.grid.disableScrolling?O.grid.options.enableHorizontalScrollbar===Q.scrollbars.ALWAYS?!0:(I=this.grid.element[0].querySelector(".ui-grid-render-container-body .ui-grid-viewport"),I.scrollWidth>I.offsetWidth):!1},k.prototype.getViewportStyle=function(){var O=this,I={},D={};return D[Q.scrollbars.ALWAYS]="scroll",D[Q.scrollbars.WHEN_NEEDED]="auto",O.hasHScrollbar=!1,O.hasVScrollbar=!1,O.grid.disableScrolling?(I["overflow-x"]="hidden",I["overflow-y"]="hidden",I):(O.name==="body"?(O.hasHScrollbar=O.grid.options.enableHorizontalScrollbar!==Q.scrollbars.NEVER,O.grid.isRTL()?O.grid.hasLeftContainerColumns()||(O.hasVScrollbar=O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER):O.grid.hasRightContainerColumns()||(O.hasVScrollbar=O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER)):O.name==="left"?O.hasVScrollbar=O.grid.isRTL()?O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER:!1:O.hasVScrollbar=O.grid.isRTL()?!1:O.grid.options.enableVerticalScrollbar!==Q.scrollbars.NEVER,I["overflow-x"]=O.hasHScrollbar?D[O.grid.options.enableHorizontalScrollbar]:"hidden",I["overflow-y"]=O.hasVScrollbar?D[O.grid.options.enableVerticalScrollbar]:"hidden",I)},k}])})();(function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(we,Q){function k(O,I,D){this.grid=D,this.entity=O,this.index=I,this.uid=we.nextUid(),this.visible=!0,this.isSelected=!1,this.$$height=D.options.rowHeight}return Object.defineProperty(k.prototype,"height",{get:function(){return this.$$height},set:function(O){O!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=O)}}),k.prototype.getQualifiedColField=function(O){return"row."+this.getEntityQualifiedColField(O)},k.prototype.getEntityQualifiedColField=function(O){var I="entity";return O.field===Q.ENTITY_BINDING?I:we.preEval(I+"."+O.field)},k.prototype.setRowInvisible=function(O){O&&O.setThisRowInvisible&&O.setThisRowInvisible("user")},k.prototype.clearRowInvisible=function(O){O&&O.clearThisRowInvisible&&O.clearThisRowInvisible("user")},k.prototype.setThisRowInvisible=function(O,I){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[O]=!0,this.evaluateRowVisibility(I)},k.prototype.clearThisRowInvisible=function(O,I){typeof this.invisibleReason!="undefined"&&delete this.invisibleReason[O],this.evaluateRowVisibility(I)},k.prototype.evaluateRowVisibility=function(O){var I=!0;typeof this.invisibleReason!="undefined"&&angular.forEach(this.invisibleReason,function(D,T){D&&(I=!1)}),(typeof this.visible=="undefined"||this.visible!==I)&&(this.visible=I,O||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},k}])})();(function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(Q,k){var O=function I(D,T){if(!(this instanceof I))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=D,this.col=T};return O.prototype.getIntersectionValueRaw=function(){var I=Q(this.row.getEntityQualifiedColField(this.col)),D=this.row;return I(D)},O}])})();(function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(we){function Q(k,O,I,D){var T=this;if(!k)throw new Error("grid argument is required");T.grid=k,T.source=D,T.withDelay=!0,T.sourceRowContainer=O,T.sourceColContainer=I,T.newScrollLeft=null,T.newScrollTop=null,T.x=null,T.y=null,T.verticalScrollLength=-9999999,T.horizontalScrollLength=-999999,T.type="scroll",T.fireThrottledScrollingEvent=we.throttle(function(_){T.grid.scrollContainers(_,T)},T.grid.options.wheelScrollThrottle,{trailing:!0})}return Q.prototype.getNewScrollLeft=function(k,O){var I=this;if(!I.newScrollLeft){var D=k.getCanvasWidth()-k.getViewportWidth(),T=we.normalizeScrollLeft(O,I.grid),_;if(typeof I.x.percentage!="undefined"&&I.x.percentage!==void 0)_=I.x.percentage;else if(typeof I.x.pixels!="undefined"&&I.x.pixels!==void 0)_=I.x.percentage=(T+I.x.pixels)/D;else throw new Error("No percentage or pixel value provided for scroll event X axis");return Math.max(0,_*D)}return I.newScrollLeft},Q.prototype.getNewScrollTop=function(k,O){var I=this;if(!I.newScrollTop){var D=k.getVerticalScrollLength(),T=O[0].scrollTop,_;if(typeof I.y.percentage!="undefined"&&I.y.percentage!==void 0)_=I.y.percentage;else if(typeof I.y.pixels!="undefined"&&I.y.pixels!==void 0)_=I.y.percentage=(T+I.y.pixels)/D;else throw new Error("No percentage or pixel value provided for scroll event Y axis");return Math.max(0,_*D)}return I.newScrollTop},Q.prototype.atTop=function(k){return this.y&&(this.y.percentage===0||this.verticalScrollLength<0)&&k===0},Q.prototype.atBottom=function(k){return this.y&&(this.y.percentage===1||this.verticalScrollLength===0)&&k>0},Q.prototype.atLeft=function(k){return this.x&&(this.x.percentage===0||this.horizontalScrollLength<0)&&k===0},Q.prototype.atRight=function(k){return this.x&&(this.x.percentage===1||this.horizontalScrollLength===0)&&k>0},Q.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},Q}])})();(function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(we,Q,k,O,I,D,T,_){var x={createGrid:function(d){d=typeof d!="undefined"?d:{},d.id=we.newId();var M=new D(d);if(M.options.rowTemplate){var g=Q.defer();M.getRowTemplateFn=g.promise,we.getTemplate(M.options.rowTemplate).then(function(F){var N=k(F);g.resolve(N)},function(){throw new Error("Couldn't fetch/use row template '"+M.options.rowTemplate+"'")}).catch(angular.noop)}return M.registerColumnBuilder(x.defaultColumnBuilder),M.registerRowBuilder(x.rowTemplateAssigner),M.registerRowsProcessor(function(N){return N.forEach(function(J){J.evaluateRowVisibility(!0)}),N},50),M.registerColumnsProcessor(function(N){return N.forEach(function(J){J.visible=angular.isDefined(J.colDef.visible)?J.colDef.visible:!0}),N},50),M.registerRowsProcessor(M.searchRows,100),M.options.externalSort&&angular.isFunction(M.options.externalSort)?M.registerRowsProcessor(M.options.externalSort,200):M.registerRowsProcessor(M.sortByColumn,200),M},defaultColumnBuilder:function(d,M,g){var F=[],N=function(J,pe,m,U,A){d[J]?M[pe]=d[J]:M[pe]=m;var p=we.getTemplate(M[pe]).then(function(w){angular.isFunction(w)&&(w=w());var v=A==="cellTooltip"?"col.cellTooltip(row,col)":"col.headerTooltip(col)";return A&&M[A]===!1?w=w.replace(I.TOOLTIP,""):A&&M[A]&&(w=w.replace(I.TOOLTIP,'title="{{'+v+' CUSTOM_FILTERS }}"')),U&&(w=w.replace(I.CUSTOM_FILTERS,function(){return M[U]?"|"+M[U]:""})),we.postProcessTemplate(w).then(function(h){M[J]=h})},function(){throw new Error("Couldn't fetch/use colDef."+J+" '"+d[J]+"'")}).catch(angular.noop);return F.push(p),p};return M.cellTemplatePromise=N("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),M.headerCellTemplatePromise=N("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),M.footerCellTemplatePromise=N("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),M.filterHeaderTemplatePromise=N("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),M.compiledElementFnDefer=Q.defer(),Q.all(F)},rowTemplateAssigner:function(M){var g=this;if(!M.rowTemplate)M.rowTemplate=g.options.rowTemplate,M.getRowTemplateFn=g.getRowTemplateFn;else{var F=Q.defer();M.getRowTemplateFn=F.promise,we.getTemplate(M.rowTemplate).then(function(N){var J=k(N);F.resolve(J)},function(){throw new Error("Couldn't fetch/use row template '"+M.rowTemplate+"'")})}return M.getRowTemplateFn}};return x}])})();(function(){var we=angular.module("ui.grid");function Q(k){return k.replace(/[|\\{}()[\]^$+?*.]/g,"\\$&").replace(/-/g,"\\x2d")}we.service("rowSearcher",["gridUtil","uiGridConstants",function(k,O){var I=O.filter.CONTAINS,D={};return D.getTerm=function(_){if(typeof _.term=="undefined")return _.term;var x=_.term;return typeof x=="string"&&(x=x.trim()),x},D.stripTerm=function(_){var x=D.getTerm(_);return typeof x=="string"?Q(x.replace(/(^\*|\*$)/g,"")):x},D.guessCondition=function(_){if(typeof _.term=="undefined"||!_.term)return I;var x=D.getTerm(_);if(/\*/.test(x)){var d=!_.flags||!_.flags.caseSensitive?"i":"";x=Q(x);var M=x.replace(/\\\*/g,".*?");return new RegExp("^"+M+"$",d)}else return I},D.setupFilters=function(_){for(var x=[],d=0;d<_.length;d++){var M=_[d];if(M.noTerm||!k.isNullOrUndefined(M.term)){var g={},F="";switch((!M.flags||!M.flags.caseSensitive)&&(F+="i"),k.isNullOrUndefined(M.term)||(M.rawTerm?g.term=M.term:g.term=D.stripTerm(M)),g.noTerm=M.noTerm,g.condition=M.condition||D.guessCondition(M),g.flags=angular.extend({caseSensitive:!1,date:!1},M.flags),g.condition){case O.filter.STARTS_WITH:g.startswithRE=new RegExp("^"+g.term,F);break;case O.filter.ENDS_WITH:g.endswithRE=new RegExp(g.term+"$",F);break;case O.filter.EXACT:g.exactRE=new RegExp("^"+g.term+"$",F);break;case O.filter.CONTAINS:g.containsRE=new RegExp(g.term,F);break}x.push(g)}}return x},D.runColumnFilter=function(_,x,d,M){var g=typeof M.condition,F=M.term,N=d.filterCellFiltered?_.getCellDisplayValue(x,d):_.getCellValue(x,d);if(N==null&&(N=""),M.condition instanceof RegExp)return M.condition.test(N);if(g==="function")return M.condition(F,N,x,d);if(M.startswithRE)return M.startswithRE.test(N);if(M.endswithRE)return M.endswithRE.test(N);if(M.containsRE)return M.containsRE.test(N);if(M.exactRE)return M.exactRE.test(N);if(M.condition===O.filter.NOT_EQUAL)return!new RegExp("^"+F+"$").test(N);if(typeof N=="number"&&typeof F=="string"){var J=parseFloat(F.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(J)||(F=J)}switch(M.flags.date===!0&&(N=new Date(N),F=new Date(F.replace(/\\/g,""))),M.condition){case O.filter.GREATER_THAN:return N>F;case O.filter.GREATER_THAN_OR_EQUAL:return N>=F;case O.filter.LESS_THAN:return N<F;case O.filter.LESS_THAN_OR_EQUAL:return N<=F}return!0},D.searchColumn=function(_,x,d,M){if(_.options.useExternalFiltering)return!0;for(var g=0;g<M.length;g++){var F=M[g];if((!k.isNullOrUndefined(F.term)&&F.term!==""||F.noTerm)&&!D.runColumnFilter(_,x,d,F))return!1}return!0},D.search=function(_,x,d){if(x){if(!_.options.enableFiltering)return x;for(var M=[],g=function(U){var A=!1;return U.forEach(function(p){(!k.isNullOrUndefined(p.term)&&p.term!==""||p.noTerm)&&(A=!0)}),A},F=0;F<d.length;F++){var N=d[F];typeof N.filters!="undefined"&&g(N.filters)&&M.push({col:N,filters:D.setupFilters(N.filters)})}if(M.length>0){for(var J=function(U,A,p,w){A.visible&&!D.searchColumn(U,A,p,w)&&(A.visible=!1)},pe=function(U,A){for(var p=0;p<x.length;p++)J(U,x[p],A.col,A.filters)},m=0;m<M.length;m++)pe(_,M[m]);_.api.core.raise.rowsVisibleChanged&&_.api.core.raise.rowsVisibleChanged()}return x}},D}])})();(function(){var we=angular.module("ui.grid");we.service("rowSorter",["uiGridConstants",function(Q){var k={colSortFnCache:{}};k.guessSortFn=function(T){switch(T){case"number":return k.sortNumber;case"numberStr":return k.sortNumberStr;case"boolean":return k.sortBool;case"string":return k.sortAlpha;case"date":return k.sortDate;case"object":return k.basicSort;default:throw new Error("No sorting function found for type: "+T)}},k.handleNulls=function(T,_){return T==null||_==null?T==null&&_==null?0:T==null?1:-1:null},k.basicSort=function(T,_){var x=k.handleNulls(T,_);return x!==null?x:T===_?0:T<_?-1:1},k.sortNumber=function(T,_){var x=k.handleNulls(T,_);return x!==null?x:T-_};function O(D){return/^\s*-?Infinity\s*$/.test(D)?parseFloat(D):parseFloat(D.replace(/[^0-9.eE-]/g,""))}k.sortNumberStr=function(T,_){var x=k.handleNulls(T,_);if(x!==null)return x;var d=O(T),M=O(_),g=isNaN(d),F=isNaN(M);return g||F?g&&F?0:g?1:-1:d-M},k.sortAlpha=function(T,_){var x=k.handleNulls(T,_);if(x!==null)return x;var d=T.toString().toLowerCase(),M=_.toString().toLowerCase();return d===M?0:d.localeCompare(M)},k.sortDate=function(T,_){var x=k.handleNulls(T,_);if(x!==null)return x;var d=T instanceof Date?T.getTime():new Date(T).getTime(),M=_ instanceof Date?_.getTime():new Date(_).getTime();return d===M?0:d<M?-1:1},k.sortBool=function(T,_){var x=k.handleNulls(T,_);return x!==null?x:T&&_||!T&&!_?0:T?1:-1},k.getSortFn=function(T){if(k.colSortFnCache[T.colDef.name])return k.colSortFnCache[T.colDef.name];if(T.sortingAlgorithm!=null)return k.colSortFnCache[T.colDef.name]=T.sortingAlgorithm,T.sortingAlgorithm;if(T.sortCellFiltered&&T.cellFilter)return k.colSortFnCache[T.colDef.name]=k.sortAlpha,k.sortAlpha;var _=k.guessSortFn(T.colDef.type);return _?(k.colSortFnCache[T.colDef.name]=_,_):k.sortAlpha},k.prioritySort=function(D,T){return D.sort&&D.sort.priority!==void 0&&T.sort&&T.sort.priority!==void 0?D.sort.priority<T.sort.priority?-1:D.sort.priority===T.sort.priority?0:1:D.sort&&D.sort.priority!==void 0?-1:T.sort&&T.sort.priority!==void 0?1:0},k.sort=function(T,_,x){if(_){if(T.options.useExternalSorting)return _;var d=[],M=[];if(x.forEach(function(pe){pe.sort&&!pe.sort.ignoreSort&&pe.sort.direction&&(pe.sort.direction===Q.ASC||pe.sort.direction===Q.DESC)?d.push({col:pe,sort:pe.sort}):pe.defaultSort&&pe.defaultSort.direction&&(pe.defaultSort.direction===Q.ASC||pe.defaultSort.direction===Q.DESC)&&M.push({col:pe,sort:pe.defaultSort})}),d=d.sort(k.prioritySort),M=M.sort(k.prioritySort),d=d.concat(M),d.length===0)return _;var g,F;_.forEach(function(pe,m){pe.entity.$$uiGridIndex=m});var N=function(pe,m){for(var U=0,A=0,p;U===0&&A<d.length;){g=d[A].col,F=d[A].sort.direction,p=k.getSortFn(g);var w=I(T,pe,m,g);U=p(w[0],w[1],pe,m,F,g),A++}return U===0?pe.entity.$$uiGridIndex-m.entity.$$uiGridIndex:F===Q.ASC?U:0-U},J=_.sort(N);return _.forEach(function(pe,m){delete pe.entity.$$uiGridIndex}),J}};function I(D,T,_,x){var d,M;return x.sortCellFiltered?(d=D.getCellDisplayValue(T,x),M=D.getCellDisplayValue(_,x)):(d=D.getCellValue(T,x),M=D.getCellValue(_,x)),[d,M]}return k}])})();(function(){var we=angular.module("ui.grid"),Q;typeof Function.prototype.bind!="function"&&(Q=function(){var g=Array.prototype.slice;return function(F){var N=this,J=g.call(arguments,1);return J.length?function(){return arguments.length?N.apply(F,J.concat(g.call(arguments))):N.apply(F,J)}:function(){return arguments.length?N.apply(F,arguments):N.call(F)}}});function k(g){var F=g;return typeof F.length!="undefined"&&F.length&&(F=g[0]),F.ownerDocument.defaultView.getComputedStyle(F,null)}var O=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),I=/^(block|none|table(?!-c[ea]).+)/,D={position:"absolute",visibility:"hidden",display:"block"};function T(g,F,N,J,pe){for(var m=N===(J?"border":"content")?4:F==="width"?1:0,U=0,A=["Top","Right","Bottom","Left"];m<4;m+=2){var p=A[m];if(N==="margin"){var w=parseFloat(pe[N+p]);isNaN(w)||(U+=w)}if(J){if(N==="content"){var v=parseFloat(pe["padding"+p]);isNaN(v)||(U-=v)}if(N!=="margin"){var h=parseFloat(pe["border"+p+"Width"]);isNaN(h)||(U-=h)}}else{var e=parseFloat(pe["padding"+p]);if(isNaN(e)||(U+=e),N!=="padding"){var o=parseFloat(pe["border"+p+"Width"]);isNaN(o)||(U+=o)}}}return U}function _(g,F,N){var J=!0,pe,m=k(g),U=m.boxSizing==="border-box";if(pe<=0||pe==null){if(pe=m[F],(pe<0||pe==null)&&(pe=g.style[F]),O.test(pe))return pe;J=U&&!0,pe=parseFloat(pe)||0}var A=pe+T(g,F,N||(U?"border":"content"),J,m);return A}function x(g){g=angular.element(g)[0];var F=g.parentElement;return F||(F=document.getElementsByTagName("body")[0]),parseInt(k(F).fontSize)||parseInt(k(g).fontSize)||16}var d=["0","0","0","0"],M="uiGrid-";we.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(g,F,N,J,pe,m,U,A,p,w,v){var h={augmentWidthOrHeight:T,getStyles:k,createBoundedWrapper:function(t,r){return function(){return r.apply(t,arguments)}},readableColumnName:function(t){return typeof t=="undefined"||t===void 0||t===null?t:(typeof t!="string"&&(t=String(t)),t.replace(/_+/g," ").replace(/^[A-Z]+$/,function(r){return r.toLowerCase()}).replace(/([\w\u00C0-\u017F]+)/g,function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(t,r){var a=[];if(!t||typeof t[0]=="undefined"||t[0]===void 0)return[];angular.isUndefined(r)&&(r=[]);var l=t[0];return angular.forEach(l,function(f,b){r.indexOf(b)===-1&&a.push({name:b})}),a},newId:(function(){var t=new Date().getTime();return function(){return t+=1}})(),getTemplate:function(t){if(pe.get(t))return h.postProcessTemplate(pe.get(t));if(angular.isFunction(t.then))return t.then(h.postProcessTemplate).catch(angular.noop);try{if(angular.element(t).length>0)return p.when(t).then(h.postProcessTemplate).catch(angular.noop)}catch{}return J({method:"GET",url:t}).then(function(r){var a=r.data.trim();return pe.put(t,a),a},function(r){throw new Error("Could not get template "+t+": "+r)}).then(h.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(t){var r=w.startSymbol(),a=w.endSymbol();return(r!=="{{"||a!=="}}")&&(t=t.replace(/\{\{/g,r),t=t.replace(/\}\}/g,a)),p.when(t)},guessType:function(t){var r=typeof t;switch(r){case"number":case"boolean":case"string":return r;default:return angular.isDate(t)?"date":"object"}},elementWidth:function(t){},elementHeight:function(t){},isVisible:function(t){return!!(t[0].offsetWidth||t[0].offsetHeight||t[0].getClientRects().length)},getScrollbarWidth:function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var r=t.offsetWidth;t.style.overflow="scroll",t.style.position="absolute";var a=document.createElement("div");a.style.width="100%",t.appendChild(a);var l=a.offsetWidth;return t.parentNode.removeChild(t),r-l},swap:function(t,r,a,l){var f,b,C={};for(b in r)C[b]=t.style[b],t.style[b]=r[b];f=a.apply(t,l||[]);for(b in r)t.style[b]=C[b];return f},fakeElement:function(t,r,a,l){var f,b,C=angular.element(t).clone()[0];for(b in r)C.style[b]=r[b];return angular.element(document.body).append(C),f=a.call(C,C),angular.element(C).remove(),f},normalizeWheelEvent:function(t){var r,a,l=t||window.event,f=[].slice.call(arguments,1),b=0,C=0,$=0,W=0,R=0,L;return l.originalEvent&&(l=l.originalEvent),l.wheelDelta&&(b=l.wheelDelta),l.detail&&(b=l.detail*-1),$=b,l.axis!==void 0&&l.axis===l.HORIZONTAL_AXIS&&($=0,C=b*-1),l.deltaY&&($=l.deltaY*-1,b=$),l.deltaX&&(C=l.deltaX,b=C*-1),l.wheelDeltaY!==void 0&&($=l.wheelDeltaY),l.wheelDeltaX!==void 0&&(C=l.wheelDeltaX),W=Math.abs(b),(!r||W<r)&&(r=W),R=Math.max(Math.abs($),Math.abs(C)),(!a||R<a)&&(a=R),L=b>0?"floor":"ceil",b=Math[L](b/r),C=Math[L](C/a),$=Math[L]($/a),{delta:b,deltaX:C,deltaY:$}},isTouchEnabled:function(){var t;return("ontouchstart"in F||F.DocumentTouch&&N instanceof DocumentTouch)&&(t=!0),t},isNullOrUndefined:function(t){return t==null},endsWith:function(t,r){return!t||!r||typeof t!="string"?!1:t.indexOf(r,t.length-r.length)!==-1},arrayContainsObjectWithProperty:function(t,r,a){var l=!1;return angular.forEach(t,function(f){f[r]===a&&(l=!0)}),l},numericAndNullSort:function(t,r){return t===null?1:r===null?-1:t===null&&r===null?0:t-r},disableAnimations:function(t){var r;try{r=A.get("$animate"),angular.version.major>1||angular.version.major===1&&angular.version.minor>=4?r.enabled(t,!1):r.enabled(!1,t)}catch{}},enableAnimations:function(t){var r;try{return r=A.get("$animate"),angular.version.major>1||angular.version.major===1&&angular.version.minor>=4?r.enabled(t,!0):r.enabled(!0,t),r}catch{}},nextUid:function(){for(var r=d.length,a;r;){if(r--,a=d[r].charCodeAt(0),a===57)return d[r]="A",M+d.join("");if(a===90)d[r]="0";else return d[r]=String.fromCharCode(a+1),M+d.join("")}return d.unshift("0"),M+d.join("")},hashKey:function(r){var a=typeof r,l;return a==="object"&&r!==null?typeof(l=r.$$hashKey)=="function"?l=r.$$hashKey():typeof r.$$hashKey!="undefined"&&r.$$hashKey?l=r.$$hashKey:l===void 0&&(l=r.$$hashKey=h.nextUid()):l=r,a+": "+l},resetUids:function(){d=["0","0","0"]},logError:function(t){v.LOG_ERROR_MESSAGES&&g.error(t)},logWarn:function(t){v.LOG_WARN_MESSAGES&&g.warn(t)},logDebug:function(){v.LOG_DEBUG_MESSAGES&&g.debug.apply(g,arguments)}};h.focus={queue:[],byId:function(t,r){this._purgeQueue();var a=m(function(){var l=(r&&r.id?r.id+"-":"")+t,f=F.document.getElementById(l);f?f.focus():h.logWarn("[focus.byId] Element id "+l+" was not found.")},0,!1);return this.queue.push(a),a},byElement:function(t){if(!angular.isElement(t))return h.logWarn("Trying to focus on an element that isn't an element."),p.reject("not-element");t=angular.element(t),this._purgeQueue();var r=m(function(){t&&t[0].focus()},0,!1);return this.queue.push(r),r},bySelector:function(t,r,a){var l=this;if(!angular.isElement(t))throw new Error("The parent element is not an element.");t=angular.element(t);var f=function(){var C=t[0].querySelector(r);return l.byElement(C)};if(this._purgeQueue(),a){var b=m(f,0,!1);return this.queue.push(b),b}else return f()},_purgeQueue:function(){this.queue.forEach(function(t){m.cancel(t)}),this.queue=[]}},["width","height"].forEach(function(t){var r=t.charAt(0).toUpperCase()+t.substr(1);h["element"+r]=function(a,l){var f=a;if(f&&typeof f.length!="undefined"&&f.length&&(f=a[0]),f&&f!==null){var b=k(f);return f.offsetWidth===0&&I.test(b.display)?h.swap(f,D,function(){return _(f,t,l)}):_(f,t,l)}else return null},h["outerElement"+r]=function(a,l){return a?h["element"+r].call(this,a,l?"margin":"border"):null}}),h.closestElm=function(r,a){typeof r.length!="undefined"&&r.length&&(r=r[0]);var l;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(b){return typeof document.body[b]=="function"?(l=b,!0):!1});for(var f;r!==null;){if(f=r.parentElement,f!==null&&f[l](a))return f;r=f}return null},h.type=function(t){var r=Function.prototype.toString.call(t.constructor);return r.match(/function (.*?)\(/)[1]},h.getBorderSize=function(r,a){typeof r.length!="undefined"&&r.length&&(r=r[0]);var l=k(r);a?a="border"+a.charAt(0).toUpperCase()+a.slice(1):a="border",a+="Width";var f=parseInt(l[a],10);return isNaN(f)?0:f},h.detectBrowser=function(){var r=F.navigator.userAgent,a={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var l in a)if(a[l].test(r))return l;return"unknown"},h.rtlScrollType=function t(){if(t.type)return t.type;var r=angular.element('<div dir="rtl" style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden"><div style="width: 2px"><span style="display: inline-block; width: 1px"></span><span style="display: inline-block; width: 1px"></span></div></div>')[0],a="reverse";return document.body.appendChild(r),r.scrollLeft>0?a="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(r.children[0].children[1].scrollIntoView(),r.scrollLeft<0&&(a="negative")):(r.scrollLeft=1,r.scrollLeft===0&&(a="negative")),angular.element(r).remove(),t.type=a,a},h.normalizeScrollLeft=function(r,a){typeof r.length!="undefined"&&r.length&&(r=r[0]);var l=r.scrollLeft;if(a.isRTL())switch(h.rtlScrollType()){case"default":return r.scrollWidth-l-r.clientWidth;case"negative":return Math.abs(l);case"reverse":return l}return l},h.denormalizeScrollLeft=function(r,a,l){if(typeof r.length!="undefined"&&r.length&&(r=r[0]),l.isRTL())switch(h.rtlScrollType()){case"default":var f=r.scrollWidth-r.clientWidth;return f-a;case"negative":return a*-1;case"reverse":return a}return a},h.preEval=function(t){var r=v.BRACKET_REGEXP.exec(t);if(r)return(r[1]?h.preEval(r[1]):r[1])+r[2]+(r[3]?h.preEval(r[3]):r[3]);t=t.replace(v.APOS_REGEXP,"\\'");var a=t.split(v.DOT_REGEXP),l=[a.shift()];return angular.forEach(a,function(f){l.push(f.replace(v.FUNC_REGEXP,"']$1"))}),l.join("['")},h.debounce=function(t,r,a){var l,f,b,C;function $(){b=this,f=arguments;var W=function(){l=null,a||(C=t.apply(b,f))},R=a&&!l;return l&&m.cancel(l),l=m(W,r,!1),R&&(C=t.apply(b,f)),C}return $.cancel=function(){m.cancel(l),l=null},$},h.throttle=function(t,r,a){a=a||{};var l=0,f=null,b,C;function $(W){l=+new Date,t.apply(b,C),U(function(){f=null},0,1,!1)}return function(){if(b=this,C=arguments,f===null){var W=+new Date-l;W>r?$():a.trailing&&(f=U($,r-W,1,!1))}}},h.on={},h.off={},h._events={},h.addOff=function(t){h.off[t]=function(r,a){var l=h._events[t].indexOf(a);l>0&&h._events[t].removeAt(l)}};var e="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o,i;h.on.mousewheel=function(t,r){if(!(!t||!r)){var a=angular.element(t);a.data("mousewheel-line-height",x(a)),a.data("mousewheel-page-height",h.elementHeight(a)),a.data("mousewheel-callbacks")||a.data("mousewheel-callbacks",{});var l=a.data("mousewheel-callbacks");l[r]=(Function.prototype.bind||Q).call(c,a[0],r);for(var f=e.length;f;)a.on(e[--f],l[r]);a.on("$destroy",function(){for(var C=e.length;C;)a.off(e[--C],l[r])})}},h.off.mousewheel=function(t,r){var a=angular.element(t),l=a.data("mousewheel-callbacks"),f=l[r];if(f)for(var b=e.length;b;)a.off(e[--b],f);delete l[r],Object.keys(l).length===0&&(a.removeData("mousewheel-line-height"),a.removeData("mousewheel-page-height"),a.removeData("mousewheel-callbacks"))};function c(t,r){var a=angular.element(this),l=0,f=0,b=0,C=0,$=0,W=0;if(r.originalEvent&&(r=r.originalEvent),"detail"in r&&(b=r.detail*-1),"wheelDelta"in r&&(b=r.wheelDelta),"wheelDeltaY"in r&&(b=r.wheelDeltaY),"wheelDeltaX"in r&&(f=r.wheelDeltaX*-1),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(f=b*-1,b=0),l=b===0?f:b,"deltaY"in r&&(b=r.deltaY*-1,l=b),"deltaX"in r&&(f=r.deltaX,b===0&&(l=f*-1)),!(b===0&&f===0)){if(r.deltaMode===1){var R=a.data("mousewheel-line-height");l*=R,b*=R,f*=R}else if(r.deltaMode===2){var L=a.data("mousewheel-page-height");l*=L,b*=L,f*=L}C=Math.max(Math.abs(b),Math.abs(f)),(!i||C<i)&&(i=C,s(r,C)&&(i/=40)),l=Math[l>=1?"floor":"ceil"](l/i),f=Math[f>=1?"floor":"ceil"](f/i),b=Math[b>=1?"floor":"ceil"](b/i);var Y={originalEvent:r,deltaX:f,deltaY:b,deltaFactor:i,preventDefault:function(){r.preventDefault()},stopPropagation:function(){r.stopPropagation()}};o&&clearTimeout(o),o=setTimeout(u,200),t.call(a[0],Y)}}function u(){i=null}function s(t,r){return t.type==="mousewheel"&&r%120===0}return h}]),we.filter("px",function(){return function(g){return g.match(/^[\d\.]+$/)?g+"px":g}})})();(function(){var we=["uiT","uiTranslate"],Q=["t","uiTranslate"],k=angular.module("ui.grid.i18n");k.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),k.service("i18nService",["$log","$parse","i18nConstants","$rootScope",function(T,_,x,d){var M={_langs:{},current:null,fallback:x.DEFAULT_LANG,get:function(N){var J=this,pe=J.getFallbackLang();return N!==J.fallback?angular.extend({},J._langs[pe],J._langs[N.toLowerCase()]):J._langs[N.toLowerCase()]},add:function(N,J){var pe=N.toLowerCase();this._langs[pe]||(this._langs[pe]={}),angular.merge(this._langs[pe],J)},getAllLangs:function(){var N=[];if(!this._langs)return N;for(var J in this._langs)N.push(J);return N},setCurrent:function(N){this.current=N.toLowerCase()},setFallback:function(N){this.fallback=N.toLowerCase()},getCurrentLang:function(){return this.current},getFallbackLang:function(){return this.fallback.toLowerCase()}};function g(N){return T.warn(x.MISSING+N),""}var F={add:function(N,J){typeof N=="object"?angular.forEach(N,function(pe){pe&&M.add(pe,J)}):M.add(N,J)},getAllLangs:function(){return M.getAllLangs()},get:function(N){var J=N||F.getCurrentLang();return M.get(J)},getSafeText:function(N,J){var pe=J||F.getCurrentLang(),m=M.get(pe),U=_(N);return m&&U(m)||g(N)},setCurrentLang:function(N){N&&(M.setCurrent(N),d.$broadcast(x.UPDATE_EVENT))},setFallbackLang:function(N){N&&M.setFallback(N)},getCurrentLang:function(){var N=M.getCurrentLang();return N||(N=x.DEFAULT_LANG,M.setCurrent(N)),N},getFallbackLang:function(){return M.getFallbackLang()}};return F}]);function O(T,_){return{compile:function(){return{pre:function(x,d,M){var g=_.LOCALE_DIRECTIVE_ALIAS,F=x.$eval(M[g]);F?x.$watch(M[g],function(){T.setCurrentLang(F)}):M.$$observers&&M.$observe(g,function(){T.setCurrentLang(M[g]||_.DEFAULT_LANG)})}}}}}k.directive("uiI18n",["i18nService","i18nConstants",O]);function I(T,_){return{restrict:"EA",compile:function(){return{pre:function(x,d,M){var g,F,N,J=we[0],pe=we[1],m=M[J]||M[pe]||d.html();function U(A){var p=T.getSafeText(A);d.html(p)}M.$$observers&&(N=M[J]?J:pe,F=M.$observe(N,function(A){A&&U(A)})),g=x.$on(_.UPDATE_EVENT,function(){F?F(M[J]||M[pe]):U(m)}),x.$on("$destroy",g),U(m)}}}}}angular.forEach(we,function(T){k.directive(T,["i18nService","i18nConstants",I])});function D(T){return function(_,x){return T.getSafeText(_,x)}}angular.forEach(Q,function(T){k.filter(T,["i18nService",D])})})();(function(){"use strict";var we=angular.module("ui.grid.edit",["ui.grid"]);we.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),we.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(Q,k,O){var I={initializeGrid:function(D){I.defaultGridOptions(D.options),D.registerColumnBuilder(I.editColumnBuilder),D.edit={};var T={events:{edit:{afterCellEdit:function(_,x,d,M){},beginCellEdit:function(_,x,d){},cancelCellEdit:function(_,x){}}},methods:{edit:{}}};D.api.registerEventsFromObject(T.events)},defaultGridOptions:function(D){D.cellEditableCondition=D.cellEditableCondition===void 0?!0:D.cellEditableCondition,D.enableCellEditOnFocus=D.enableCellEditOnFocus===void 0?!1:D.enableCellEditOnFocus},editColumnBuilder:function(D,T,_){var x=[];return D.enableCellEdit=D.enableCellEdit===void 0?_.enableCellEdit===void 0?D.type!=="object":_.enableCellEdit:D.enableCellEdit,D.cellEditableCondition=D.cellEditableCondition===void 0?_.cellEditableCondition:D.cellEditableCondition,D.enableCellEdit&&(D.editableCellTemplate=D.editableCellTemplate||_.editableCellTemplate||"ui-grid/cellEditor",x.push(O.getTemplate(D.editableCellTemplate).then(function(d){T.editableCellTemplate=d},function(d){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+D.editableCellTemplate+"'")}))),D.enableCellEditOnFocus=D.enableCellEditOnFocus===void 0?_.enableCellEditOnFocus:D.enableCellEditOnFocus,Q.all(x)},isStartEditKey:function(D){return!(D.metaKey||D.keyCode===k.keymap.ESC||D.keyCode===k.keymap.SHIFT||D.keyCode===k.keymap.CTRL||D.keyCode===k.keymap.ALT||D.keyCode===k.keymap.WIN||D.keyCode===k.keymap.CAPSLOCK||D.keyCode===k.keymap.LEFT||D.keyCode===k.keymap.TAB&&D.shiftKey||D.keyCode===k.keymap.RIGHT||D.keyCode===k.keymap.TAB||D.keyCode===k.keymap.UP||D.keyCode===k.keymap.ENTER&&D.shiftKey||D.keyCode===k.keymap.DOWN||D.keyCode===k.keymap.ENTER)}};return I}]),we.directive("uiGridEdit",["gridUtil","uiGridEditService",function(Q,k){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){k.initializeGrid(T.grid)},post:function(O,I,D,T){}}}}}]),we.directive("uiGridViewport",["uiGridEditConstants",function(Q){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(k,O,I,D){var T=D[0];if(!(!T.grid.api.edit||!T.grid.api.cellNav)){var _=D[1].containerId;_==="body"&&(k.$on(Q.events.CANCEL_CELL_EDIT,function(){T.focus()}),k.$on(Q.events.END_CELL_EDIT,function(){T.focus()}))}}}}}}]),we.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(Q,k,O,I,D,T,_,x,d,M){var g=500;if(k.has("uiGridCellNavService"))var F=k.get("uiGridCellNavService");return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(N,J,pe,m){var U,A,p,w,v=!1,h;if(!N.col.colDef.enableCellEdit)return;var e=function(){},o=function(){},i=function(){N.col.colDef.enableCellEdit&&N.row.enableCellEdit!==!1?N.beginEditEventsWired||u():N.beginEditEventsWired&&r()};i();var c=N.$watch("row",function(R,L){R!==L&&i()});N.$on("$destroy",function(){c(),J.off()});function u(){J.on("dblclick",f),J.on("touchstart",s),m&&m.grid.api.cellNav&&(o=m.grid.api.cellNav.on.viewPortKeyDown(N,function(R,L){L!==null&&L.row===N.row&&L.col===N.col&&!N.col.colDef.enableCellEditOnFocus&&a(R)}),e=m.grid.api.cellNav.on.navigate(N,function(R,L,Y){N.col.colDef.enableCellEditOnFocus&&R.row===N.row&&R.col===N.col&&(Y===null||Y&&(Y.type==="click"||Y.type==="keydown"))&&O(function(){f(Y)})})),N.beginEditEventsWired=!0}function s(R){typeof R.originalEvent!="undefined"&&R.originalEvent!==void 0&&(R=R.originalEvent),J.on("touchend",t),w=O(function(){},g),w.then(function(){setTimeout(f,0),J.off("touchend",t)}).catch(angular.noop)}function t(){O.cancel(w),J.off("touchend",t)}function r(){J.off("dblclick",f),J.off("keydown",a),J.off("touchstart",s),e(),o(),N.beginEditEventsWired=!1}function a(R){x.isStartEditKey(R)&&f(R)}function l(R,L,Y){return!L.isSaving&&(angular.isFunction(R.colDef.cellEditableCondition)?R.colDef.cellEditableCondition(N,Y):R.colDef.cellEditableCondition)}function f(R){N.grid.api.core.scrollToIfNecessary(N.row,N.col).then(function(){b(R)})}function b(R){if(!v&&l(N.col,N.row,R)){var L=N.row.getQualifiedColField(N.col);N.col.colDef.editModelField&&(L=T.preEval("row.entity."+N.col.colDef.editModelField)),p=_(L),A=p(N),U=N.col.editableCellTemplate,U=U.replace(I.MODEL_COL_FIELD,L),U=U.replace(I.COL_FIELD,"grid.getCellValue(row, col)");var Y=N.col.colDef.editDropdownFilter?"|"+N.col.colDef.editDropdownFilter:"";U=U.replace(I.CUSTOM_FILTERS,Y);var ee="text";switch(N.col.colDef.type){case"boolean":ee="checkbox";break;case"number":ee="number";break;case"date":ee="date";break}U=U.replace("INPUT_TYPE",ee);var ae=N.col.colDef.editDropdownOptionsFunction;if(ae)M.when(ae(N.row.entity,N.col.colDef)).then(function(z){N.editDropdownOptionsArray=z});else{var fe=N.col.colDef.editDropdownRowEntityOptionsArrayPath;fe?N.editDropdownOptionsArray=W(N.row.entity,fe):N.editDropdownOptionsArray=N.col.colDef.editDropdownOptionsArray}N.editDropdownIdLabel=N.col.colDef.editDropdownIdLabel?N.col.colDef.editDropdownIdLabel:"id",N.editDropdownValueLabel=N.col.colDef.editDropdownValueLabel?N.col.colDef.editDropdownValueLabel:"value";var xe=function(){v=!0,r();var z=angular.element(U);J.append(z),h=N.$new(),Q(z)(h);var E=angular.element(J.children()[0]);E.addClass("ui-grid-cell-contents-hidden")};d.$$phase?xe():N.$apply(xe);var se=N.col.grid.api.core.on.scrollBegin(N,function(){N.grid.disableScrolling||(C(),N.grid.api.edit.raise.afterCellEdit(N.row.entity,N.col.colDef,p(N),A),se(),B(),K())}),B=N.$on(D.events.END_CELL_EDIT,function(){C(),N.grid.api.edit.raise.afterCellEdit(N.row.entity,N.col.colDef,p(N),A),B(),se(),K()}),K=N.$on(D.events.CANCEL_CELL_EDIT,function(){$(),K(),se(),B()});N.$broadcast(D.events.BEGIN_CELL_EDIT,R),O(function(){N.grid.api.edit.raise.beginCellEdit(N.row.entity,N.col.colDef,R)})}}function C(){if(N.grid.disableScrolling=!1,!!v){m&&m.grid.api.cellNav&&m.focus();var R=angular.element(J.children()[0]);h.$destroy();for(var L=J.children(),Y=1;Y<L.length;Y++)angular.element(L[Y]).remove();R.removeClass("ui-grid-cell-contents-hidden"),v=!1,u(),N.grid.api.core.notifyDataChange(I.dataChange.EDIT)}}function $(){N.grid.disableScrolling=!1,v&&(p.assign(N,A),N.$apply(),N.grid.api.edit.raise.cancelCellEdit(N.row.entity,N.col.colDef),C())}function W(R,L){L=L.replace(/\[(\w+)\]/g,".$1"),L=L.replace(/^\./,"");for(var Y=L.split(".");Y.length;){var ee=Y.shift();if(ee in R)R=R[ee];else return}return R}}}}]),we.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(Q,k,O,I,D){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(T,_,x){},post:function(T,_,x,d){var M,g,F;d[0]&&(M=d[0]),d[1]&&(g=d[1]),d[2]&&(F=d[2]),T.$on(O.events.BEGIN_CELL_EDIT,function(){if(I(function(){if(_[0].focus(),_[0].select&&(T.col.colDef.enableCellEditOnFocus||!(M&&M.grid.api.cellNav)))_[0].select();else try{_[0].setSelectionRange(_[0].value.length,_[0].value.length)}catch{}}),M&&M.grid.api.cellNav)var N=M.grid.api.cellNav.on.viewPortKeyPress(T,function(J,pe){if(D.isStartEditKey(J)){var m=typeof J.which=="number"?J.which:J.keyCode;m>0&&(F.$setViewValue(String.fromCharCode(m),J),F.$render())}N()});_.on("mousedown",function(J){_[0].type==="checkbox"&&(_.off("blur",T.stopEdit),I(function(){_[0].focus(),_.on("blur",T.stopEdit)}))}),_[0]&&_[0].focus(),_.on("blur",T.stopEdit)}),T.deepEdit=!1,T.stopEdit=function(N){T.inputForm&&!T.inputForm.$valid?(N.stopPropagation(),T.$emit(O.events.CANCEL_CELL_EDIT)):T.$emit(O.events.END_CELL_EDIT),T.deepEdit=!1},_.on("click",function(N){_[0].type!=="checkbox"&&(T.deepEdit=!0,T.$applyAsync(function(){T.grid.disableScrolling=!0}))}),_.on("keydown",function(N){switch(N.keyCode){case k.keymap.ESC:N.stopPropagation(),T.$emit(O.events.CANCEL_CELL_EDIT);break}if(T.deepEdit&&(N.keyCode===k.keymap.LEFT||N.keyCode===k.keymap.RIGHT||N.keyCode===k.keymap.UP||N.keyCode===k.keymap.DOWN))N.stopPropagation();else if(M&&M.grid.api.cellNav)N.uiGridTargetRenderContainerId=g.containerId,M.cellNav.handleKeyDown(N)!==null&&T.stopEdit(N);else switch(N.keyCode){case k.keymap.ENTER:case k.keymap.TAB:N.stopPropagation(),N.preventDefault(),T.stopEdit(N);break}return!0}),T.$on("$destroy",function(){_.off()})}}}}}]),we.directive("uiGridEditor",["$filter",function(Q){function k(O){if(typeof O=="undefined"||O==="")return null;var I=O.split("-");if(I.length!==3)return null;var D=parseInt(I[0],10),T=parseInt(I[1],10),_=parseInt(I[2],10);return T<1||D<1||_<1?null:new Date(D,T-1,_)}return{priority:-100,require:"?ngModel",link:function(O,I,D,T){angular.version.minor===2&&D.type&&D.type==="date"&&T&&(T.$formatters.push(function(_){return T.$setValidity(null,!_||!isNaN(_.getTime())),Q("date")(_,"yyyy-MM-dd")}),T.$parsers.push(function(_){if(_&&_.length>0){var x=k(_);return T.$setValidity(null,x&&!isNaN(x.getTime())),x}else return T.$setValidity(null,!0),null}))}}}]),we.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(Q,k,O){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(I,D,T){},post:function(I,D,T,_){var x=_[0],d=_[1];I.$on(k.events.BEGIN_CELL_EDIT,function(){O(function(){D[0].focus()}),D[0].style.width=D[0].parentElement.offsetWidth-1+"px",D.on("blur",function(M){I.stopEdit(M)})}),I.stopEdit=function(M){I.$emit(k.events.END_CELL_EDIT)},D.on("keydown",function(M){switch(M.keyCode){case Q.keymap.ESC:M.stopPropagation(),I.$emit(k.events.CANCEL_CELL_EDIT);break}if(x&&x.grid.api.cellNav)M.uiGridTargetRenderContainerId=d.containerId,x.cellNav.handleKeyDown(M)!==null&&I.stopEdit(M);else switch(M.keyCode){case Q.keymap.ENTER:case Q.keymap.TAB:M.stopPropagation(),M.preventDefault(),I.stopEdit(M);break}return!0}),I.$on("$destroy",function(){D.off()})}}}}}]),we.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants",function(Q,k,O){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(I,D,T){},post:function(I,D){function T(_){var x=_.srcElement||_.target;x&&x.files&&x.files.length>0?(typeof I.col.colDef.editFileChooserCallback=="function"?I.col.colDef.editFileChooserCallback(I.row,I.col,x.files):Q.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),x.form.reset(),I.$emit(O.events.END_CELL_EDIT)):I.$emit(O.events.CANCEL_CELL_EDIT),D[0].removeEventListener("change",T,!1)}D[0].addEventListener("change",T,!1),I.$on(O.events.BEGIN_CELL_EDIT,function(){D[0].focus(),D[0].select(),D.on("blur",function(){I.$emit(O.events.END_CELL_EDIT),D.off()})})}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);we.service("uiGridBaseLayerService",["gridUtil","$compile",function(Q,k){return{initializeGrid:function(O,I){O.baseLayer={emptyRows:[]},O.options.enableEmptyGridBaseLayer!==!1&&(O.options.enableEmptyGridBaseLayer=!I)},setNumberOfEmptyRows:function(O,I){var D=I.options.rowHeight,T=Math.ceil(O/D);if(T>0){I.baseLayer.emptyRows=[];for(var _=0;_<T;_++)I.baseLayer.emptyRows.push({})}}}}]),we.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(Q,k,O){return{require:"^uiGrid",scope:!1,compile:function(){return{pre:function(I,D,T,_){var x=O(T.uiGridEmptyBaseLayer)(I)===!1;k.initializeGrid(_.grid,x)},post:function(I,D,T,_){if(!_.grid.options.enableEmptyGridBaseLayer)return;var x=_.grid.renderContainers.body,d=x.getViewportHeight();function M(){var F=x.getViewportHeight();return F!==d?(d=F,!0):!1}function g(F){return".grid"+_.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+F+"px; }"}_.grid.registerStyleComputation({func:function(){return M()&&k.setNumberOfEmptyRows(d,_.grid),g(d)}})}}}}}]),we.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(Q,k,O){return{priority:-200,scope:!1,compile:function(I){var D=O.get("ui-grid/emptyBaseLayerContainer");return I.prepend(D),{pre:function(T,_,x,d){},post:function(T,_,x,d){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.expandable",["ui.grid"]);we.service("uiGridExpandableService",["gridUtil",function(Q){var k={initializeGrid:function(O){O.expandable={},O.expandable.expandedAll=!1,O.options.enableOnDblClickExpand=O.options.enableOnDblClickExpand!==!1,O.options.enableExpandable=O.options.enableExpandable!==!1,O.options.showExpandAllButton=O.options.showExpandAllButton!==!1,O.options.expandableRowHeight=O.options.expandableRowHeight||150,O.options.expandableRowHeaderWidth=O.options.expandableRowHeaderWidth||40,O.options.enableExpandable&&!O.options.expandableRowTemplate&&(Q.logError("You have not set the expandableRowTemplate, disabling expandable module"),O.options.enableExpandable=!1);var I={events:{expandable:{rowExpandedBeforeStateChanged:function(D,T,_){},rowExpandedStateChanged:function(D,T,_){},rowExpandedRendered:function(D,T,_){}}},methods:{expandable:{toggleRowExpansion:function(D,T){var _=O.getRow(D);_!==null&&k.toggleRowExpansion(O,_,T)},expandAllRows:function(){k.expandAllRows(O)},collapseAllRows:function(){k.collapseAllRows(O)},toggleAllRows:function(){k.toggleAllRows(O)},expandRow:function(D){var T=O.getRow(D);T!==null&&!T.isExpanded&&k.toggleRowExpansion(O,T)},collapseRow:function(D){var T=O.getRow(D);T!==null&&T.isExpanded&&k.toggleRowExpansion(O,T)},getExpandedRows:function(){return k.getExpandedRows(O).map(function(D){return D.entity})}}}};O.api.registerEventsFromObject(I.events),O.api.registerMethodsFromObject(I.methods)},toggleRowExpansion:function(O,I,D){O.api.expandable.raise.rowExpandedBeforeStateChanged(I),I.isExpanded=!I.isExpanded,angular.isUndefined(I.expandedRowHeight)&&(I.expandedRowHeight=O.options.expandableRowHeight),I.isExpanded?(I.height=I.grid.options.rowHeight+I.expandedRowHeight,O.expandable.expandedAll=k.getExpandedRows(O).length===O.rows.length):(I.height=I.grid.options.rowHeight,O.expandable.expandedAll=!1),O.api.expandable.raise.rowExpandedStateChanged(I,D);function T(){I.expandedRendered?O.api.expandable.raise.rowExpandedRendered(I,D):window.setTimeout(T,100)}T()},expandAllRows:function(O){O.renderContainers.body.visibleRowCache.forEach(function(I){!I.isExpanded&&!(I.entity.subGridOptions&&I.entity.subGridOptions.disableRowExpandable)&&k.toggleRowExpansion(O,I)}),O.expandable.expandedAll=!0,O.queueGridRefresh()},collapseAllRows:function(O){O.renderContainers.body.visibleRowCache.forEach(function(I){I.isExpanded&&k.toggleRowExpansion(O,I)}),O.expandable.expandedAll=!1,O.queueGridRefresh()},toggleAllRows:function(O){O.expandable.expandedAll?k.collapseAllRows(O):k.expandAllRows(O)},getExpandedRows:function(O){return O.rows.filter(function(I){return I.isExpanded})}};return k}]),we.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(Q,k){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){if(Q.initializeGrid(T.grid),!!T.grid.options.enableExpandable&&T.grid.options.enableExpandableRowHeader!==!1){var _={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:T.grid.options.expandableRowHeaderWidth||30};_.cellTemplate=k.get("ui-grid/expandableRowHeader"),_.headerCellTemplate=k.get("ui-grid/expandableTopRowHeader"),T.grid.addRowHeaderColumn(_,-90)}},post:function(O,I,D,T){}}}}}]),we.directive("uiGrid",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(Q,k,O,I){I.grid.api.core.on.renderingComplete(Q,function(){Q.row&&Q.row.grid&&Q.row.grid.options&&Q.row.grid.options.enableExpandable&&(I.grid.parentRow=Q.row)})},post:function(Q,k,O,I){}}}}}),we.directive("uiGridExpandableRow",["uiGridExpandableService","$compile","uiGridConstants","gridUtil",function(Q,k,O,I){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(D,T){I.getTemplate(D.grid.options.expandableRowTemplate).then(function(_){if(D.grid.options.expandableRowScope){var x=D.grid.options.expandableRowScope;for(var d in x)x.hasOwnProperty(d)&&(D[d]=x[d])}var M=angular.element(_);M=k(M)(D),T.append(M),D.row.element=T,D.row.expandedRendered=!0})},post:function(D,T){D.row.element=T,D.$on("$destroy",function(){D.row.expandedRendered=!1})}}}}}]),we.directive("uiGridRow",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(Q,k){Q.grid.options.enableExpandable&&(Q.expandableRow={},Q.expandableRow.shouldRenderExpand=function(){return Q.colContainer.name==="body"&&Q.grid.options.enableExpandable!==!1&&Q.row.isExpanded&&(!Q.grid.isScrollingVertically||Q.row.expandedRendered)},Q.expandableRow.shouldRenderFiller=function(){return Q.row.isExpanded&&(Q.colContainer.name!=="body"||Q.grid.isScrollingVertically&&!Q.row.expandedRendered)},Q.grid.options.enableOnDblClickExpand&&k.on("dblclick",function(O){Q.grid.api.expandable.toggleRowExpansion(Q.row.entity,O)}))},post:function(Q,k,O,I){}}}}}),we.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(Q,k,O){return{priority:-200,scope:!1,compile:function(I){var D=angular.element(I.children().children()[0]),T=O.get("ui-grid/expandableScrollFiller"),_=O.get("ui-grid/expandableRow");return D.append(_),D.append(T),{pre:function(x,d,M,g){},post:function(x,d,M,g){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.exporter",["ui.grid"]);we.constant("uiGridExporterConstants",{featureName:"exporter",rowHeaderColName:"treeBaseRowHeaderCol",selectionRowHeaderColName:"selectionRowHeaderCol",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),we.service("uiGridExporterService",["$filter","$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(Q,k,O,I,D,T,_){var x={delay:100,type:null,initializeGrid:function(g){g.exporter={},this.defaultGridOptions(g.options);var F={events:{exporter:{}},methods:{exporter:{csvExport:function(N,J){x.csvExport(g,N,J)},pdfExport:function(N,J){x.pdfExport(g,N,J)},excelExport:function(N,J){x.excelExport(g,N,J)}}}};g.api.registerEventsFromObject(F.events),g.api.registerMethodsFromObject(F.methods),g.api.core.addToGridMenu?x.addToMenu(g):T(function(){g.api.core.addToGridMenu&&x.addToMenu(g)},this.delay,1)},defaultGridOptions:function(g){g.exporterSuppressMenu=g.exporterSuppressMenu===!0,g.exporterMenuLabel=g.exporterMenuLabel?g.exporterMenuLabel:"Export",g.exporterSuppressColumns=g.exporterSuppressColumns?g.exporterSuppressColumns:[],g.exporterCsvColumnSeparator=g.exporterCsvColumnSeparator?g.exporterCsvColumnSeparator:",",g.exporterCsvFilename=g.exporterCsvFilename?g.exporterCsvFilename:"download.csv",g.exporterPdfFilename=g.exporterPdfFilename?g.exporterPdfFilename:"download.pdf",g.exporterExcelFilename=g.exporterExcelFilename?g.exporterExcelFilename:"download.xlsx",g.exporterExcelSheetName=g.exporterExcelSheetName?g.exporterExcelSheetName:"Sheet1",g.exporterOlderExcelCompatibility=g.exporterOlderExcelCompatibility===!0,g.exporterIsExcelCompatible=g.exporterIsExcelCompatible===!0,g.exporterMenuItemOrder=g.exporterMenuItemOrder?g.exporterMenuItemOrder:200,g.exporterPdfDefaultStyle=g.exporterPdfDefaultStyle?g.exporterPdfDefaultStyle:{fontSize:11},g.exporterPdfTableStyle=g.exporterPdfTableStyle?g.exporterPdfTableStyle:{margin:[0,5,0,15]},g.exporterPdfTableHeaderStyle=g.exporterPdfTableHeaderStyle?g.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},g.exporterPdfHeader=g.exporterPdfHeader?g.exporterPdfHeader:null,g.exporterPdfFooter=g.exporterPdfFooter?g.exporterPdfFooter:null,g.exporterPdfOrientation=g.exporterPdfOrientation?g.exporterPdfOrientation:"landscape",g.exporterPdfPageSize=g.exporterPdfPageSize?g.exporterPdfPageSize:"A4",g.exporterPdfMaxGridWidth=g.exporterPdfMaxGridWidth?g.exporterPdfMaxGridWidth:720,g.exporterMenuAllData=g.exporterMenuAllData!==void 0?g.exporterMenuAllData:!0,g.exporterMenuVisibleData=g.exporterMenuVisibleData!==void 0?g.exporterMenuVisibleData:!0,g.exporterMenuSelectedData=g.exporterMenuSelectedData!==void 0?g.exporterMenuSelectedData:!0,g.exporterMenuCsv=g.exporterMenuCsv!==void 0?g.exporterMenuCsv:!0,g.exporterMenuPdf=g.exporterMenuPdf!==void 0?g.exporterMenuPdf:!0,g.exporterMenuExcel=g.exporterMenuExcel!==void 0?g.exporterMenuExcel:!0,g.exporterPdfCustomFormatter=g.exporterPdfCustomFormatter&&typeof g.exporterPdfCustomFormatter=="function"?g.exporterPdfCustomFormatter:function(F){return F},g.exporterHeaderFilterUseName=g.exporterHeaderFilterUseName===!0,g.exporterFieldCallback=g.exporterFieldCallback?g.exporterFieldCallback:M,g.exporterFieldFormatCallback=g.exporterFieldFormatCallback?g.exporterFieldFormatCallback:function(F,N,J,pe){return null},g.exporterExcelCustomFormatters=g.exporterExcelCustomFormatters?g.exporterExcelCustomFormatters:function(F,N,J){return J},g.exporterExcelHeader=g.exporterExcelHeader?g.exporterExcelHeader:function(F,N,J,pe){return null},g.exporterColumnScaleFactor=g.exporterColumnScaleFactor?g.exporterColumnScaleFactor:3.5,g.exporterFieldApplyFilters=g.exporterFieldApplyFilters===!0,g.exporterAllDataFn=g.exporterAllDataFn?g.exporterAllDataFn:null,g.exporterAllDataFn===null&&g.exporterAllDataPromise&&(g.exporterAllDataFn=g.exporterAllDataPromise)},addToMenu:function(g){g.api.core.addToGridMenu(g,[{title:_.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){g.api.exporter.csvExport(O.ALL,O.ALL)},shown:function(){return g.options.exporterMenuCsv&&g.options.exporterMenuAllData},order:g.options.exporterMenuItemOrder},{title:_.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){g.api.exporter.csvExport(O.VISIBLE,O.VISIBLE)},shown:function(){return g.options.exporterMenuCsv&&g.options.exporterMenuVisibleData},order:g.options.exporterMenuItemOrder+1},{title:_.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){g.api.exporter.csvExport(O.SELECTED,O.VISIBLE)},shown:function(){return g.options.exporterMenuCsv&&g.options.exporterMenuSelectedData&&g.api.selection&&g.api.selection.getSelectedRows().length>0},order:g.options.exporterMenuItemOrder+2},{title:_.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){g.api.exporter.pdfExport(O.ALL,O.ALL)},shown:function(){return g.options.exporterMenuPdf&&g.options.exporterMenuAllData},order:g.options.exporterMenuItemOrder+3},{title:_.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){g.api.exporter.pdfExport(O.VISIBLE,O.VISIBLE)},shown:function(){return g.options.exporterMenuPdf&&g.options.exporterMenuVisibleData},order:g.options.exporterMenuItemOrder+4},{title:_.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){g.api.exporter.pdfExport(O.SELECTED,O.VISIBLE)},shown:function(){return g.options.exporterMenuPdf&&g.options.exporterMenuSelectedData&&g.api.selection&&g.api.selection.getSelectedRows().length>0},order:g.options.exporterMenuItemOrder+5},{title:_.getSafeText("gridMenu.exporterAllAsExcel"),action:function(){g.api.exporter.excelExport(O.ALL,O.ALL)},shown:function(){return g.options.exporterMenuExcel&&g.options.exporterMenuAllData},order:g.options.exporterMenuItemOrder+6},{title:_.getSafeText("gridMenu.exporterVisibleAsExcel"),action:function(){g.api.exporter.excelExport(O.VISIBLE,O.VISIBLE)},shown:function(){return g.options.exporterMenuExcel&&g.options.exporterMenuVisibleData},order:g.options.exporterMenuItemOrder+7},{title:_.getSafeText("gridMenu.exporterSelectedAsExcel"),action:function(){g.api.exporter.excelExport(O.SELECTED,O.VISIBLE)},shown:function(){return g.options.exporterMenuExcel&&g.options.exporterMenuSelectedData&&g.api.selection&&g.api.selection.getSelectedRows().length>0},order:g.options.exporterMenuItemOrder+8}])},csvExport:function(g,F,N){var J=this;J.type="csv",this.loadAllDataIfNeeded(g,F,N).then(function(){var pe=g.options.showHeader?J.getColumnHeaders(g,N):[],m=J.getData(g,F,N),U=J.formatAsCsv(pe,m,g.options.exporterCsvColumnSeparator),A=angular.isFunction(g.options.exporterCsvFilename)?g.options.exporterCsvFilename(g,F,N):g.options.exporterCsvFilename;J.downloadFile(A,U,g.options.exporterCsvColumnSeparator,g.options.exporterOlderExcelCompatibility,g.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(g,F,N){if(F===O.ALL&&g.rows.length!==g.options.totalItems&&g.options.exporterAllDataFn)return g.options.exporterAllDataFn().then(function(pe){g.modifyRows(pe)});var J=k.defer();return J.resolve(),J.promise},getColumnHeaders:function(g,F){var N=[],J;if(F===O.ALL)J=g.columns;else{var pe=g.renderContainers.left?g.renderContainers.left.visibleColumnCache.filter(function(A){return A.visible}):[],m=g.renderContainers.body?g.renderContainers.body.visibleColumnCache.filter(function(A){return A.visible}):[],U=g.renderContainers.right?g.renderContainers.right.visibleColumnCache.filter(function(A){return A.visible}):[];J=pe.concat(m,U)}return J.forEach(function(A){if(A.colDef.exporterSuppressExport!==!0&&A.field!=="$$hashKey"&&g.options.exporterSuppressColumns.indexOf(A.name)===-1){var p={name:A.field,displayName:d(g,A),width:A.drawnWidth?A.drawnWidth:A.width,align:A.colDef.align?A.colDef.align:A.colDef.type==="number"?"right":"left"};N.push(p)}}),N},getRowsFromNode:function(g){var F=[],N=g?Object.keys(g):["children"];if((N.length>1||N[0]!="children")&&F.push(g),g&&g.children&&g.children.length>0)for(var J=0;J<g.children.length;J++)F=F.concat(this.getRowsFromNode(g.children[J]));return F},getDataSorted:function(g){if(!g.treeBase||g.treeBase.numberLevels===0)return g.rows;for(var F=[],N=0;N<g.treeBase.tree.length;N++)for(var J=this.getRowsFromNode(g.treeBase.tree[N]),pe=0;pe<J.length;pe++)F.push(J[pe].row);return F},getData:function(g,F,N,J){var pe=[],m,U;switch(F){case O.ALL:m=this.getDataSorted(g,F,N,J);break;case O.VISIBLE:m=g.getVisibleRows();break;case O.SELECTED:g.api.selection?m=g.api.selection.getSelectedGridRows():I.logError("selection feature must be enabled to allow selected rows to be exported");break}if(N===O.ALL)U=g.columns;else{var A=g.renderContainers.left?g.renderContainers.left.visibleColumnCache.filter(function(v){return v.visible}):[],p=g.renderContainers.body?g.renderContainers.body.visibleColumnCache.filter(function(v){return v.visible}):[],w=g.renderContainers.right?g.renderContainers.right.visibleColumnCache.filter(function(v){return v.visible}):[];U=A.concat(p,w)}return m.forEach(function(v){if(v.exporterEnableExporting!==!1){var h=[];U.forEach(function(e){if((e.visible||N===O.ALL)&&e.colDef.exporterSuppressExport!==!0&&e.field!=="$$hashKey"&&g.options.exporterSuppressColumns.indexOf(e.name)===-1){var o=J?g.getCellDisplayValue(v,e):g.getCellValue(v,e),i={value:g.options.exporterFieldCallback(g,v,e,o,x.type)},c=g.options.exporterFieldFormatCallback(g,v,e,o,x.type);c&&Object.assign(i,c),e.colDef.exporterPdfAlign&&(i.alignment=e.colDef.exporterPdfAlign),h.push(i)}}),pe.push(h)}}),pe},formatAsCsv:function(g,F,N){var J=this,pe=g.map(function(U){return{value:U.displayName}}),m=pe.length>0?J.formatRowAsCsv(this,N)(pe)+`
`),m},formatRowAsCsv:function(g,F){return function(N){return N.map(g.formatFieldAsCsv).join(F)}},formatFieldAsCsv:function(g){return g.value==null?"":typeof g.value=="number"?g.value:typeof g.value=="boolean"?g.value?"TRUE":"FALSE":typeof g.value=="string"?'"'+g.value.replace(/"/g,'""')+'"':typeof g.value=="object"&&!(g.value instanceof Date)?'"'+JSON.stringify(g.value).replace(/"/g,'""')+'"':JSON.stringify(g.value)},isIE:function(){var g=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),F=!1;return g!==-1&&(F=!0),F},downloadFile:function(g,F,N,J,pe){var m=document,U=m.createElement("a"),A="application/octet-stream;charset=utf-8",p,w=this.isIE();if(pe&&(F="sep="+N+`\r
`+F),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([J?"\uFEFF":"",F],{type:A}),g);if(w){var v=m.createElement("iframe");return document.body.appendChild(v),v.contentWindow.document.open("text/html","replace"),v.contentWindow.document.write(F),v.contentWindow.document.close(),v.contentWindow.focus(),v.contentWindow.document.execCommand("SaveAs",!0,g),document.body.removeChild(v),!0}if("download"in U){var h=new Blob([J?"\uFEFF":"",F],{type:A});p=URL.createObjectURL(h),U.setAttribute("download",g)}else p="data: "+A+","+encodeURIComponent(F),U.setAttribute("target","_blank");U.href=p,U.setAttribute("style","display:none;"),m.body.appendChild(U),setTimeout(function(){if(U.click)U.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),U.dispatchEvent(e)}m.body.removeChild(U)},this.delay)},pdfExport:function(g,F,N){var J=this;J.type="pdf",this.loadAllDataIfNeeded(g,F,N).then(function(){var pe=J.getColumnHeaders(g,N),m=J.getData(g,F,N),U=J.prepareAsPdf(g,pe,m);if(J.isIE()||navigator.appVersion.indexOf("Edge")!==-1){var A=angular.isFunction(g.options.exporterPdfFilename)?g.options.exporterPdfFilename(g,F,N):g.options.exporterPdfFilename;J.downloadPDF(A,U)}else pdfMake.createPdf(U).open()})},downloadPDF:function(g,F){var N=document,J=N.createElement("a"),pe;pe=this.isIE();var m=pdfMake.createPdf(F),U;m.getBuffer(function(A){if(U=new Blob([A]),navigator.msSaveBlob)return navigator.msSaveBlob(U,g);if(pe){var p=N.createElement("iframe");return document.body.appendChild(p),p.contentWindow.document.open("text/html","replace"),p.contentWindow.document.write(U),p.contentWindow.document.close(),p.contentWindow.focus(),p.contentWindow.document.execCommand("SaveAs",!0,g),document.body.removeChild(p),!0}})},prepareAsPdf:function(g,F,N){var J=this.calculatePdfHeaderWidths(g,F),pe=F.map(function(p){return{text:p.displayName,style:"tableHeader"}}),m=N.map(this.formatRowAsPdf(this)),U=[pe].concat(m),A={pageOrientation:g.options.exporterPdfOrientation,pageSize:g.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:J,body:U}}],styles:{tableStyle:g.options.exporterPdfTableStyle,tableHeader:g.options.exporterPdfTableHeaderStyle},defaultStyle:g.options.exporterPdfDefaultStyle};return g.options.exporterPdfLayout&&(A.layout=g.options.exporterPdfLayout),g.options.exporterPdfHeader&&(A.header=g.options.exporterPdfHeader),g.options.exporterPdfFooter&&(A.footer=g.options.exporterPdfFooter),g.options.exporterPdfCustomFormatter&&(A=g.options.exporterPdfCustomFormatter(A)),A},calculatePdfHeaderWidths:function(g,F){var N=0;F.forEach(function(m){typeof m.width=="number"&&(N+=m.width)});var J=0;F.forEach(function(m){if(m.width==="*"&&(J+=100),typeof m.width=="string"&&m.width.match(/(\d)*%/)){var U=parseInt(m.width.match(/(\d)*%/)[0]);m.width=N*U/100,J+=m.width}});var pe=N+J;return F.map(function(m){return m.width==="*"?m.width:m.width*g.options.exporterPdfMaxGridWidth/pe})},formatRowAsPdf:function(g){return function(F){return F.map(g.formatFieldAsPdfString)}},formatFieldAsPdfString:function(g){var F;return g.value==null?F="":typeof g.value=="number"?F=g.value.toString():typeof g.value=="boolean"?F=g.value?"TRUE":"FALSE":typeof g.value=="string"?F=g.value.replace(/"/g,'""'):g.value instanceof Date?F=JSON.stringify(g.value).replace(/^"/,"").replace(/"$/,""):typeof g.value=="object"?F=g.value:F=JSON.stringify(g.value).replace(/^"/,"").replace(/"$/,""),g.alignment&&typeof g.alignment=="string"&&(F={text:F,alignment:g.alignment}),F},formatAsExcel:function(g,F,N,J,pe){for(var m=g.map(function(o){return{value:o.displayName}}),U=[],A=[],p=0;p<m.length;p++){var w="header";switch(g[p].align){case"center":w="headerCenter";break;case"right":w="headerRight";break}var v=pe.styles&&pe.styles[w]?{style:pe.styles[w].id}:null;A.push({value:m[p].value,metadata:v})}U.push(A);for(var h=F.map(this.formatRowAsExcel(this,N,J)),e=0;e<h.length;e++)U.push(h[e]);return U},formatRowAsExcel:function(g,F,N){return function(J){for(var pe=[],m=0;m<J.length;m++){var U=g.formatFieldAsExcel(J[m],F,N);pe.push({value:U,metadata:J[m].metadata})}return pe}},formatFieldAsExcel:function(g,F,N,J){return g.value==null?"":typeof g.value=="number"||typeof g.value=="string"?g.value:typeof g.value=="boolean"?g.value?"TRUE":"FALSE":JSON.stringify(g.value)},prepareAsExcel:function(g,F,N){var J={styles:{}};if(g.options.exporterExcelCustomFormatters&&(J=g.options.exporterExcelCustomFormatters(g,F,J)),g.options.exporterExcelHeader)if(angular.isFunction(g.options.exporterExcelHeader))g.options.exporterExcelHeader(g,F,N,J);else{var pe=g.options.exporterExcelHeader.text,m=g.options.exporterExcelHeader.style;N.data.push([{value:pe,metadata:{style:J.styles[m].id}}])}return J},excelExport:function(g,F,N){var J=this;J.type="excel",this.loadAllDataIfNeeded(g,F,N).then(function(){var pe=g.options.showHeader?J.getColumnHeaders(g,N):[],m="Sheet1";g.options.exporterExcelSheetName&&(m=angular.isFunction(g.options.exporterExcelSheetName)?g.options.exporterExcelSheetName(g,F,N):g.options.exporterExcelSheetName);var U=new ExcelBuilder.Worksheet({name:m}),A=new ExcelBuilder.Workbook;A.addWorksheet(U);for(var p=J.prepareAsExcel(g,A,U),w=[],v=g.treeBase?g.treeBase.numberLevels:g.enableRowSelection?1:0,h=v;h<g.columns.length;h++)g.columns[h].field!==O.rowHeaderColName&&g.columns[h].field!==O.selectionRowHeaderColName&&w.push({width:g.columns[h].drawnWidth/g.options.exporterColumnScaleFactor});U.setColumns(w);var e=J.getData(g,F,N,g.options.exporterFieldApplyFilters),o=J.formatAsExcel(pe,e,A,U,p);U.setData(U.data.concat(o)),ExcelBuilder.Builder.createFile(A,{type:"blob"}).then(function(i){var c=angular.isFunction(g.options.exporterExcelFilename)?g.options.exporterExcelFilename(g,F,N):g.options.exporterExcelFilename;J.downloadFile(c,i,g.options.exporterCsvColumnSeparator,g.options.exporterOlderExcelCompatibility)})})}};function d(g,F){return g.options.exporterHeaderFilter?g.options.exporterHeaderFilterUseName?g.options.exporterHeaderFilter(F.name):g.options.exporterHeaderFilter(F.displayName):F.headerCellFilter?Q(F.headerCellFilter)(F.displayName):F.displayName}function M(g,F,N,J){if(N.cellFilter){var pe,m,U,A;return pe=N.cellFilter.match(/(?:[^:"]+|"[^"]*")+/g),m=pe[0]?pe[0].replace(/[\'\"\s]/g,""):null,U=pe[1]?pe[1].replace(/[\'\"]/g,"").trim():null,A=pe[2]?pe[2].replace(/[\'\"\s]/g,""):null,Q(m)(J,U,A)}else return J}return x}]),we.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(Q,k,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(D,T,_,x){k.initializeGrid(x.grid),x.grid.exporter.$scope=D}}}])})();(function(){"use strict";var we=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);we.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),we.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(Q,k,O,I,D,T,_,x,d){var M={initializeGrid:function(g,F){d.initializeGrid(g,F),g.grouping={},g.grouping.groupHeaderCache={},M.defaultGridOptions(g.options),g.registerRowsProcessor(M.groupRows,400),g.registerColumnBuilder(M.groupingColumnBuilder),g.registerColumnsProcessor(M.groupingColumnProcessor,400);var N={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(J){var pe=M.getGrouping(g);return pe.grouping.forEach(function(m){m.colName=m.col.name,delete m.col}),pe.aggregations.forEach(function(m){m.colName=m.col.name,delete m.col}),pe.aggregations=pe.aggregations.filter(function(m){return!m.aggregation.source||m.aggregation.source!=="grouping"}),J&&(pe.rowExpandedStates=M.getRowExpandedStates(g.grouping.groupingHeaderCache)),pe},setGrouping:function(J){M.setGrouping(g,J)},groupColumn:function(J){var pe=g.getColumn(J);M.groupColumn(g,pe)},ungroupColumn:function(J){var pe=g.getColumn(J);M.ungroupColumn(g,pe)},clearGrouping:function(){M.clearGrouping(g)},aggregateColumn:function(J,pe,m){var U=g.getColumn(J);M.aggregateColumn(g,U,pe,m)}}}};g.api.registerEventsFromObject(N.events),g.api.registerMethodsFromObject(N.methods),g.api.core.on.sortChanged(F,M.tidyPriorities)},defaultGridOptions:function(g){g.enableGrouping=g.enableGrouping!==!1,g.groupingShowCounts=g.groupingShowCounts!==!1,g.groupingNullLabel=typeof g.groupingNullLabel=="undefined"?"Null":g.groupingNullLabel,g.enableGroupHeaderSelection=g.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(g,F,N){if(g.enableGrouping!==!1){typeof F.grouping=="undefined"&&typeof g.grouping!="undefined"?(F.grouping=angular.copy(g.grouping),typeof F.grouping.groupPriority!="undefined"&&F.grouping.groupPriority>-1&&(F.treeAggregationFn=d.nativeAggregations()[k.aggregation.COUNT].aggregationFn,F.treeAggregationFinalizerFn=M.groupedFinalizerFn)):typeof F.grouping=="undefined"&&(F.grouping={}),typeof F.grouping!="undefined"&&typeof F.grouping.groupPriority!="undefined"&&F.grouping.groupPriority>=0&&(F.suppressRemoveSort=!0);var J={name:"ui.grid.grouping.group",title:_.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return typeof this.context.col.grouping=="undefined"||typeof this.context.col.grouping.groupPriority=="undefined"||this.context.col.grouping.groupPriority<0},action:function(){M.groupColumn(this.context.col.grid,this.context.col)}},pe={name:"ui.grid.grouping.ungroup",title:_.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return typeof this.context.col.grouping!="undefined"&&typeof this.context.col.grouping.groupPriority!="undefined"&&this.context.col.grouping.groupPriority>=0},action:function(){M.ungroupColumn(this.context.col.grid,this.context.col)}},m={name:"ui.grid.grouping.aggregateRemove",title:_.get().grouping.aggregate_remove,shown:function(){return typeof this.context.col.treeAggregationFn!="undefined"},action:function(){M.aggregateColumn(this.context.col.grid,this.context.col,null)}},U=function(A,p){p=p||_.get().grouping["aggregate_"+A]||A;var w={name:"ui.grid.grouping.aggregate"+A,title:p,shown:function(){return typeof this.context.col.treeAggregation=="undefined"||typeof this.context.col.treeAggregation.type=="undefined"||this.context.col.treeAggregation.type!==A},action:function(){M.aggregateColumn(this.context.col.grid,this.context.col,A)}};O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.aggregate"+A)||F.menuItems.push(w)};F.colDef.groupingShowGroupingMenu!==!1&&(O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.group")||F.menuItems.push(J),O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.ungroup")||F.menuItems.push(pe)),F.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(d.nativeAggregations(),function(A,p){U(p)}),angular.forEach(N.treeCustomAggregations,function(A,p){U(p,A.menuTitle)}),O.arrayContainsObjectWithProperty(F.menuItems,"name","ui.grid.grouping.aggregateRemove")||F.menuItems.push(m))}},groupingColumnProcessor:function(g,F){return g=M.moveGroupColumns(this,g,F),g},groupedFinalizerFn:function(g){var F=this;typeof g.groupVal!="undefined"?(g.rendered=g.groupVal,F.grid.options.groupingShowCounts&&F.colDef.type!=="date"&&F.colDef.type!=="object"&&(g.rendered+=" ("+g.value+")")):g.rendered=null},moveGroupColumns:function(g,F){return g.options.moveGroupColumns===!1||(F.forEach(function(N,J){N.groupingPosition=J}),F.sort(function(N,J){var pe,m;return N.isRowHeader?pe=N.headerPriority:typeof N.grouping=="undefined"||typeof N.grouping.groupPriority=="undefined"||N.grouping.groupPriority<0?pe=null:pe=N.grouping.groupPriority,J.isRowHeader?m=J.headerPriority:typeof J.grouping=="undefined"||typeof J.grouping.groupPriority=="undefined"||J.grouping.groupPriority<0?m=null:m=J.grouping.groupPriority,pe!==null&&m===null?-1:m!==null&&pe===null?1:pe!==null&&m!==null?pe-m:N.groupingPosition-J.groupingPosition}),F.forEach(function(N){delete N.groupingPosition})),F},groupColumn:function(g,F){typeof F.grouping=="undefined"&&(F.grouping={});var N=M.getGrouping(g);F.grouping.groupPriority=N.grouping.length,F.previousSort=angular.copy(F.sort),F.sort?(typeof F.sort.direction=="undefined"||F.sort.direction===null)&&(F.sort.direction=x.ASC):F.sort={direction:x.ASC},F.treeAggregation={type:k.aggregation.COUNT,source:"grouping"},F.colDef&&angular.isFunction(F.colDef.customTreeAggregationFn)?F.treeAggregationFn=F.colDef.customTreeAggregationFn:F.treeAggregationFn=d.nativeAggregations()[k.aggregation.COUNT].aggregationFn,F.treeAggregationFinalizerFn=M.groupedFinalizerFn,g.api.grouping.raise.groupingChanged(F),g.api.core.raise.sortChanged(g,g.getColumnSorting()),g.queueGridRefresh()},ungroupColumn:function(g,F){typeof F.grouping!="undefined"&&(delete F.grouping.groupPriority,delete F.treeAggregation,delete F.customTreeAggregationFinalizer,F.previousSort&&(F.sort=F.previousSort,delete F.previousSort),M.tidyPriorities(g),g.api.grouping.raise.groupingChanged(F),g.api.core.raise.sortChanged(g,g.getColumnSorting()),g.queueGridRefresh())},aggregateColumn:function(g,F,N,J){typeof F.grouping!="undefined"&&typeof F.grouping.groupPriority!="undefined"&&F.grouping.groupPriority>=0&&M.ungroupColumn(g,F);var pe={};typeof g.options.treeCustomAggregations[N]!="undefined"?pe=g.options.treeCustomAggregations[N]:typeof d.nativeAggregations()[N]!="undefined"&&(pe=d.nativeAggregations()[N]),F.treeAggregation={type:N,label:typeof J=="string"?J:_.get().aggregation[pe.label]||pe.label},F.treeAggregationFn=pe.aggregationFn,F.treeAggregationFinalizerFn=pe.finalizerFn,g.api.grouping.raise.aggregationChanged(F),g.queueGridRefresh()},setGrouping:function(g,F){typeof F!="undefined"&&(M.clearGrouping(g),F.grouping&&F.grouping.length&&F.grouping.length>0&&F.grouping.forEach(function(N){var J=g.getColumn(N.colName);J&&M.groupColumn(g,J)}),F.aggregations&&F.aggregations.length&&F.aggregations.forEach(function(N){var J=g.getColumn(N.colName);J&&M.aggregateColumn(g,J,N.aggregation.type)}),F.rowExpandedStates&&M.applyRowExpandedStates(g.grouping.groupingHeaderCache,F.rowExpandedStates))},clearGrouping:function(g){var F=M.getGrouping(g);F.grouping.length>0&&F.grouping.forEach(function(N){N.col||(N.col=g.getColumn(N.colName)),M.ungroupColumn(g,N.col)}),F.aggregations.length>0&&F.aggregations.forEach(function(N){N.col||(N.col=g.getColumn(N.colName)),M.aggregateColumn(g,N.col,null)})},tidyPriorities:function(g){(typeof g=="undefined"||typeof g.grid!="undefined")&&typeof this.grid!="undefined"&&(g=this.grid);var F=[],N=[];g.columns.forEach(function(pe,m){typeof pe.grouping!="undefined"&&typeof pe.grouping.groupPriority!="undefined"&&pe.grouping.groupPriority>=0?F.push(pe):typeof pe.sort!="undefined"&&typeof pe.sort.priority!="undefined"&&pe.sort.priority>=0&&N.push(pe)}),F.sort(function(pe,m){return pe.grouping.groupPriority-m.grouping.groupPriority}),F.forEach(function(pe,m){pe.grouping.groupPriority=m,pe.suppressRemoveSort=!0,typeof pe.sort=="undefined"&&(pe.sort={}),pe.sort.priority=m});var J=F.length;N.sort(function(pe,m){return pe.sort.priority-m.sort.priority}),N.forEach(function(pe){pe.sort.priority=J,pe.suppressRemoveSort=pe.colDef.suppressRemoveSort,J++})},groupRows:function(g){if(g.length===0)return g;var F=this;F.grouping.oldGroupingHeaderCache=F.grouping.groupingHeaderCache||{},F.grouping.groupingHeaderCache={};for(var N=M.initialiseProcessingState(F),J=function(U,A){var p=F.getCellValue(m,U.col);(!U.initialised||I.getSortFn(U.col)(p,U.currentValue)!==0)&&(M.insertGroupHeader(F,g,pe,N,A),pe++)},pe=0;pe<g.length;pe++){var m=g[pe];m.visible&&N.forEach(J)}return delete F.grouping.oldGroupingHeaderCache,g},initialiseProcessingState:function(g){var F=[],N=M.getGrouping(g);return N.grouping.forEach(function(J,pe){F.push({fieldName:J.field,col:J.col,initialised:!1,currentValue:null,currentRow:null})}),F},getGrouping:function(g){var F=[],N=[];return g.columns.forEach(function(J){J.grouping&&typeof J.grouping.groupPriority!="undefined"&&J.grouping.groupPriority>=0&&F.push({field:J.field,col:J,groupPriority:J.grouping.groupPriority,grouping:J.grouping}),J.treeAggregation&&J.treeAggregation.type&&N.push({field:J.field,col:J,aggregation:J.treeAggregation})}),F.sort(function(J,pe){return J.groupPriority-pe.groupPriority}),F.forEach(function(J,pe){J.grouping.groupPriority=pe,J.groupPriority=pe,delete J.grouping}),{grouping:F,aggregations:N}},insertGroupHeader:function(g,F,N,J,pe){var m=J[pe].col,U=g.getCellValue(F[N],m),A=U;(typeof U=="undefined"||U===null)&&(A=g.options.groupingNullLabel);function p(e){return angular.isObject(e)?JSON.stringify(e):e}for(var w=g.grouping.oldGroupingHeaderCache,v=0;v<pe;v++)w&&w[p(J[v].currentValue)]&&(w=w[p(J[v].currentValue)].children);var h;for(w&&w[p(U)]?(h=w[p(U)].row,h.entity={}):(h=new D({},null,g),T.rowTemplateAssigner.call(g,h)),h.entity["$$"+J[pe].col.uid]={groupVal:A},h.treeLevel=pe,h.groupHeader=!0,h.internalRow=!0,h.enableCellEdit=!1,h.enableSelection=g.options.enableGroupHeaderSelection,J[pe].initialised=!0,J[pe].currentValue=U,J[pe].currentRow=h,M.finaliseProcessingState(J,pe+1),F.splice(N,0,h),w=g.grouping.groupingHeaderCache,v=0;v<pe;v++)w=w[p(J[v].currentValue)].children;w[p(U)]={row:h,children:{}}},finaliseProcessingState:function(g,F){for(var N=F;N<g.length;N++)g[N].initialised=!1,g[N].currentRow=null,g[N].currentValue=null},getRowExpandedStates:function(g){if(typeof g=="undefined")return{};var F={};return angular.forEach(g,function(N,J){F[J]={state:N.row.treeNode.state},N.children?F[J].children=M.getRowExpandedStates(N.children):F[J].children={}}),F},applyRowExpandedStates:function(g,F){typeof F!="undefined"&&angular.forEach(F,function(N,J){g[J]&&(g[J].row.treeNode.state=N.state,N.children&&g[J].children&&M.applyRowExpandedStates(g[J].children,N.children))})}};return M}]),we.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService",function(Q,k){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){T.grid.options.enableGrouping!==!1&&k.initializeGrid(T.grid,O)},post:function(O,I,D,T){}}}}}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ar",{headerCell:{aria:{defaultFilterLabel:"\u0627\u0644\u062A\u0635\u0641\u064A\u0647 \u0628\u0627\u0644\u0639\u0645\u0648\u062F",removeFilter:"\u0645\u062D\u0648 \u0627\u0644\u062A\u0635\u0641\u064A\u0647",columnMenuButtonLabel:"\u0642\u0627\u0621\u0645\u0647 \u0627\u0644\u0627\u0639\u0645\u062F\u0647"},priority:"\u0623\u0648\u0644\u0648\u064A\u0647 : ",filterLabel:"\u062A\u0635\u0641\u064A\u0647 \u0628\u0627\u0644\u0627\u0639\u0645\u062F\u0647 :"},aggregate:{label:"\u0627\u0644\u0639\u0646\u0627\u0635\u0631"},groupPanel:{description:"\u0627\u0633\u062D\u0628 \u0631\u0623\u0633 \u0627\u0644\u0639\u0645\u0648\u062F \u0647\u0646\u0627 \u0648\u0623\u0633\u0642\u0637\u0647 \u0644\u0625\u0646\u0634\u0627\u0621 \u0645\u062C\u0645\u0648\u0639\u0647"},search:{placeholder:"\u0628\u062D\u062B  ...",showingItems:"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0638\u0627\u0647\u0631\u0647 :",selectedItems:"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0647 :",totalItems:"\u0639\u062F\u062F \u0627\u0644\u0639\u0646\u0627\u0635\u0631 :",size:"\u062D\u062C\u0645 \u0627\u0644\u0635\u0641\u062D\u0647 :",first:"\u0627\u0648\u0644 \u0635\u0641\u062D\u0647",next:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u062A\u0627\u0644\u064A\u0647",previous:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0635\u0627\u0628\u0642\u0647",last:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0627\u062E\u064A\u0631\u0647"},menu:{text:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0639\u0645\u0648\u062F :"},sort:{ascending:"\u062A\u0631\u062A\u064A\u0628 \u062A\u0635\u0627\u0639\u062F\u0649",descending:"\u062A\u0631\u062A\u064A\u0628 \u062A\u0646\u0627\u0632\u0644\u0649",none:"\u0639\u062F\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",remove:"\u062D\u0630\u0641 \u0627\u0644\u062A\u0631\u062A\u064A\u0628"},column:{hide:"\u0625\u062E\u0641\u0627\u0621 \u0639\u0645\u0648\u062F"},aggregation:{count:"\u0639\u062F\u062F \u0627\u0644\u0635\u0641\u0648\u0641: ",sum:"\u062C\u0645\u0639: ",avg:"\u0627\u0644\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u062D\u0633\u0627\u0628\u0649: ",min:"\u0627\u0644\u0627\u062F\u0646\u0649: ",max:"\u0627\u0644\u0627\u0642\u0635\u0649: "},pinning:{pinLeft:"\u062A\u062B\u0628\u064A\u062A \u0644\u0644\u064A\u0633\u0627\u0631",pinRight:"\u062A\u062B\u0628\u064A\u062A \u0644\u0644\u064A\u0645\u064A\u0646",unpin:"\u0641\u0643 \u0627\u0644\u062A\u062B\u0628\u064A\u062A"},columnMenu:{close:"\u063A\u0644\u0642"},gridMenu:{aria:{buttonLabel:"\u0642\u0627\u0626\u0645\u0647 \u0627\u0644\u062C\u062F\u0648\u0644"},columns:"\u0627\u0644\u0627\u0639\u0645\u062F\u0647:",importerTitle:"\u0625\u062F\u062E\u0627\u0644 \u0645\u0644\u0641",exporterAllAsCsv:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0643(csv)",exporterVisibleAsCsv:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0627\u0636\u062D\u0647 \u0643 (csv)",exporterSelectedAsCsv:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0647 \u0643 (csv)",exporterAllAsPdf:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0643(pdf)",exporterVisibleAsPdf:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0627\u0636\u062D\u0647 \u0643 (pdf)",exporterSelectedAsPdf:"\u0625\u062E\u0631\u0627\u062C \u0643\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0647 \u0643 (pdf)",clearAllFilters:"\u0645\u062D\u0648 \u0643\u0644 \u0627\u0644\u062A\u0631\u0634\u064A\u062D"},importer:{noHeaders:"\u0627\u0633\u0645\u0627\u0621 \u0647\u0624\u0644\u0627\u0621 \u0627\u0644\u0627\u0639\u0645\u062F\u0647 \u063A\u064A\u0631 \u0648\u0627\u0636\u062D\u0647\u060C \u0647\u0644 \u064A\u0648\u062C\u062F \u0631\u0623\u0633 \u0644\u0644\u0645\u0644\u0641\u061F",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"\u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0642\u0627\u062F\u0631 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0645\u0627\u0645 \u060C \u0647\u0644 \u0627\u0644 (CSV) \u0635\u062D\u064A\u062D\u061F",invalidJson:"\u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0642\u0627\u062F\u0631 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0645\u0627\u0645 \u060C \u0647\u0644 \u0627\u0644 (JSON) \u0635\u062D\u064A\u062D\u061F",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0627\u0648\u0644\u0649",pageBack:"\u0627\u0644\u0635\u0641\u0647 \u0627\u0644\u0633\u0627\u0628\u0642\u0647",pageSelected:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0645\u062D\u062F\u062F\u0647",pageForward:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u062A\u0627\u0644\u064A\u0647",pageToLast:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0627\u062E\u064A\u0631\u0647"},sizes:"\u0639\u062F\u062F \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0641\u0649 \u0627\u0644\u0635\u0641\u062D\u0647",totalItems:"\u0639\u0646\u0627\u0635\u0631",through:"\u0625\u0644\u0649",of:"\u0645\u0646"},grouping:{group:"\u062C\u0645\u0639",ungroup:"\u0641\u0643 \u0627\u0644\u062C\u0645\u0639",aggregate_count:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u0639\u062F\u062F",aggregate_sum:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u062D\u0627\u0635\u0644",aggregate_max:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u0627\u0642\u0635\u0649",aggregate_min:"\u062C\u0645\u0644\u0647 : \u0627\u0644\u0627\u0642\u0644",aggregate_avg:"\u062C\u0645\u0644\u0647 :\u0627\u0644\u0645\u062A\u0648\u0633\u0637 ",aggregate_remove:"\u062C\u0645\u0644\u0647 : \u062D\u0630\u0641"},validate:{error:"\u062E\u0637\u0623 :",minLength:"\u0627\u0644\u0642\u064A\u0645\u0647 \u0644\u0627\u0628\u062F \u0627\u0646 \u0644\u0627 \u062A\u0642\u0644 \u0639\u0646 THRESHOLD \u062D\u0631\u0641.",maxLength:"\u0627\u0644\u0642\u064A\u0645\u0647 \u0644\u0627\u0628\u062F \u0627\u0646 \u0644\u0627 \u062A\u0632\u064A\u062F \u0639\u0646 THRESHOLD \u062D\u0631\u0641.",required:"\u0645\u0637\u0644\u0648\u0628 \u0642\u064A\u0645\u0647"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("bg",{headerCell:{aria:{defaultFilterLabel:"\u0424\u0438\u043B\u0442\u0442\u044A\u0440 \u0437\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430",removeFilter:"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0444\u0438\u043B\u0442\u044A\u0440",columnMenuButtonLabel:"\u041C\u0435\u043D\u044E \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430"},priority:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:",filterLabel:"\u0424\u0438\u043B\u0442\u044A\u0440 \u0437\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430: "},aggregate:{label:"\u043E\u0431\u0435\u043A\u0442\u0438"},search:{placeholder:"\u0422\u044A\u0440\u0441\u0435\u043D\u0435...",showingItems:"\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u0438 \u043E\u0431\u0435\u043A\u0442\u0438:",selectedItems:"\u0438\u0437\u0431\u0440\u0430\u043D\u0438 \u043E\u0431\u0435\u043A\u0442\u0438:",totalItems:"\u041E\u0431\u0449\u043E:",size:"\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430\u0442\u0430:",first:"\u041F\u044A\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",next:"\u0421\u043B\u0435\u0434\u0432\u0430\u0449\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",previous:"\u041F\u0440\u0435\u0434\u0438\u0448\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",last:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},menu:{text:"\u0418\u0437\u0431\u0435\u0440\u0438 \u043A\u043E\u043B\u043E\u043D\u0438:"},sort:{ascending:"\u0421\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043F\u043E \u0432\u044A\u0437\u0445\u043E\u0434\u044F\u0449 \u0440\u0435\u0434",descending:"\u0421\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043F\u043E \u043D\u0438\u0437\u0445\u043E\u0434\u044F\u0449 \u0440\u0435\u0434",none:"\u0411\u0435\u0437 \u0441\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435",remove:"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0441\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435\u0442\u043E"},column:{hide:"\u0421\u043A\u0440\u0438\u0439 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430"},aggregation:{count:"\u041E\u0431\u0449\u043E \u0440\u0435\u0434\u043E\u0432\u0435: ",sum:"\u043E\u0431\u0449\u043E: ",avg:"\u0441\u0440\u0435\u0434\u043D\u043E: ",min:"\u043D\u0430\u0439-\u043C\u0430\u043B\u043A\u043E: ",max:"\u043D\u0430\u0439-\u043C\u043D\u043E\u0433\u043E: "},pinning:{pinLeft:"\u041F\u0440\u0438\u043A\u0440\u0435\u043F\u0438 \u0432\u043B\u044F\u0432\u043E",pinRight:"\u041F\u0440\u0438\u043A\u0440\u0435\u043F\u0438 \u0432\u0434\u044F\u0441\u043D\u043E",unpin:"\u041F\u0440\u0435\u043C\u0430\u0445\u0432\u0430\u043D\u0435"},columnMenu:{close:"\u0417\u0430\u0442\u0432\u043E\u0440\u0438"},gridMenu:{aria:{buttonLabel:"\u041C\u0435\u043D\u044E \u043D\u0430 \u0442\u0430\u0431\u043B\u0438\u0446\u0430\u0442\u0430"},columns:"\u041A\u043E\u043B\u043E\u043D\u0438:",importerTitle:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0444\u0430\u0439\u043B",exporterAllAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0434\u0430\u043D\u043D\u0438\u0442\u0435 \u043A\u0430\u0442\u043E csv",exporterVisibleAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0432\u0438\u0434\u0438\u043C\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E csv",exporterSelectedAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E csv",exporterAllAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0434\u0430\u043D\u043D\u0438\u0442\u0435 \u043A\u0430\u0442\u043E pdf",exporterVisibleAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0432\u0438\u0434\u0438\u043C\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E pdf",exporterSelectedAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u0434\u0430\u043D\u043D\u0438 \u043A\u0430\u0442\u043E pdf",clearAllFilters:"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0432\u0441\u0438\u0447\u043A\u0438 \u0444\u0438\u043B\u0442\u0440\u0438"},importer:{noHeaders:"\u0418\u043C\u0435\u043D\u0430\u0442\u0430 \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0438\u0442\u0435 \u043D\u0435 \u0443\u0441\u043F\u044F\u0445\u0430 \u0434\u0430 \u0431\u044A\u0434\u0430\u0442 \u0438\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438, \u0444\u0430\u0439\u043B\u044A\u0442 \u0438\u043C\u0430 \u043B\u0438 \u0445\u0435\u0434\u044A\u0440?",noObjects:"\u041E\u0431\u0435\u043A\u0442\u0438\u0442\u0435 \u043D\u0435 \u0443\u0441\u043F\u044F\u0445\u0430 \u0434\u0430 \u0431\u044A\u0434\u0430\u0442 \u0438\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438, \u0444\u0430\u0439\u043B\u044A\u0442 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043B\u0438 \u0434\u0430\u043D\u043D\u0438, \u0440\u0430\u0437\u043B\u0438\u0447\u043D\u0438 \u043E\u0442 \u0445\u0435\u0434\u044A\u0440?",invalidCsv:"\u0424\u0430\u0439\u043B\u044A\u0442 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0435\u0431, \u0443\u0432\u0435\u0440\u0435\u0442\u0435 \u0441\u0435, \u0447\u0435 \u0435 \u0432\u0430\u043B\u0438\u0434\u0435\u043D CSV \u0444\u0430\u0439\u043B",invalidJson:"\u0424\u0430\u0439\u043B\u044A\u0442 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0435\u0431, \u0443\u0432\u0435\u0440\u0435\u0442\u0435 \u0441\u0435, \u0447\u0435 \u0435 \u0432\u0430\u043B\u0438\u0434\u0435\u043D JSON \u0444\u0430\u0439\u043B",jsonNotArray:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0438\u044F\u0442 JSON \u0444\u0430\u0439\u043B \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043C\u0430\u0441\u0438\u0432, \u043F\u0440\u0435\u043A\u0440\u0430\u0442\u044F\u0432\u0430\u043D\u0435."},pagination:{aria:{pageToFirst:"\u041A\u044A\u043C \u043F\u044A\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageBack:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0430\u0437\u0430\u0434",pageSelected:"\u0418\u0437\u0431\u0440\u0430\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageForward:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0430\u043F\u0440\u0435\u0434",pageToLast:"\u041A\u044A\u043C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},sizes:"\u043E\u0431\u0435\u043A\u0442\u0430 \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",totalItems:"\u043E\u0431\u0435\u043A\u0442\u0430",through:"\u0434\u043E",of:"\u043E\u0442"},grouping:{group:"\u0413\u0440\u0443\u043F\u0438\u0440\u0430\u043D\u0435",ungroup:"\u041F\u0440\u0435\u043C\u0430\u0445\u0432\u0430\u043D\u0435 \u043D\u0430 \u0433\u0440\u0443\u043F\u0438\u0440\u0430\u043D\u0435\u0442\u043E",aggregate_count:"\u0421\u0431\u043E\u0440: \u0411\u0440\u043E\u0439",aggregate_sum:"\u0421\u0431\u043E\u0440: \u0421\u0443\u043C\u0430",aggregate_max:"\u0421\u0431\u043E\u0440: \u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C",aggregate_min:"\u0421\u0431\u043E\u0440: \u041C\u0438\u043D\u0438\u043C\u0443\u043C",aggregate_avg:"\u0421\u0431\u043E\u0440: \u0421\u0440\u0435\u0434\u043D\u043E",aggregate_remove:"\u0421\u0431\u043E\u0440: \u041F\u0440\u0435\u043C\u0430\u0445\u0432\u0430\u043D\u0435"},validate:{error:"\u0413\u0440\u0435\u0448\u043A\u0430:",minLength:"\u0421\u0442\u043E\u0439\u043D\u043E\u0441\u0442\u0442\u0430 \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043F\u043E\u043D\u0435 THRESHOLD \u0441\u0438\u043C\u0432\u043E\u043B\u0430.",maxLength:"\u0421\u0442\u043E\u0439\u043D\u043E\u0441\u0442\u0442\u0430 \u043D\u0435 \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u043F\u043E\u0432\u0435\u0447\u0435 \u043E\u0442 THRESHOLD \u0441\u0438\u043C\u0432\u043E\u043B\u0430.",required:"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u0430 \u0435 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){var k={aggregate:{label:"polo\u017Eky"},groupPanel:{description:"P\u0159esu\u0148te z\xE1hlav\xED zde pro vytvo\u0159en\xED skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji polo\u017Eky:",selectedItems:"Vybran\xE9 polo\u017Eky:",totalItems:"Celkem polo\u017Eek:",size:"Velikost strany:",first:"Prvn\xED strana",next:"Dal\u0161\xED strana",previous:"P\u0159edchoz\xED strana",last:"Posledn\xED strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Se\u0159adit od A-Z",descending:"Se\u0159adit od Z-A",remove:"Odebrat se\u0159azen\xED"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem \u0159\xE1dk\u016F: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat v\u0161echna data do csv",exporterVisibleAsCsv:"Exportovat viditeln\xE1 data do csv",exporterSelectedAsCsv:"Exportovat vybran\xE1 data do csv",exporterAllAsPdf:"Exportovat v\u0161echna data do pdf",exporterVisibleAsPdf:"Exportovat viditeln\xE1 data do pdf",exporterSelectedAsPdf:"Exportovat vybran\xE1 data do pdf",exporterAllAsExcel:"Exportovat v\u0161echna data do excel",exporterVisibleAsExcel:"Exportovat viditeln\xE1 data do excel",exporterSelectedAsExcel:"Exportovat vybran\xE1 data do excel",clearAllFilters:"Odstranit v\u0161echny filtry"},importer:{noHeaders:"N\xE1zvy sloupc\u016F se nepoda\u0159ilo z\xEDskat, obsahuje soubor z\xE1hlav\xED?",noObjects:"Data se nepoda\u0159ilo zpracovat, obsahuje soubor \u0159\xE1dky mimo z\xE1hlav\xED?",invalidCsv:"Soubor nelze zpracovat, jedn\xE1 se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus\xED obsahovat json. Ukon\u010Duji.."},pagination:{sizes:"polo\u017Eek na str\xE1nku",totalItems:"polo\u017Eek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen\xED",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return Q.add("cs",k),Q.add("cz",k),Q.add("cs-cz",k),Q.add("cs-CZ",k),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grup\xE9r r\xE6kker udfra en kolonne ved at tr\xE6kke dens overskift hertil."},search:{placeholder:"S\xF8g...",showingItems:"Viste r\xE6kker:",selectedItems:"Valgte r\xE6kker:",totalItems:"R\xE6kker totalt:",size:"Side st\xF8rrelse:",first:"F\xF8rste side",next:"N\xE6ste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"V\xE6lg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal r\xE6kker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fastg\xF8r til venstre",pinRight:"Fastg\xF8r til h\xF8jre",unpin:"Frig\xF8r"},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter markerede data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"G\xE5 til f\xF8rste",pageBack:"G\xE5 tilbage",pageSelected:"Valgte side",pageForward:"G\xE5 frem",pageToLast:"G\xE5 til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter f\xFCr Spalte",removeFilter:"Filter l\xF6schen",columnMenuButtonLabel:"Spaltenmen\xFC",column:"Spalte"},priority:"Priorit\xE4t:",filterLabel:"Filter f\xFCr Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spalten\xFCberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Eintr\xE4ge:",selectedItems:"Ausgew\xE4hlte Eintr\xE4ge:",totalItems:"Eintr\xE4ge gesamt:",size:"Eintr\xE4ge pro Seite:",first:"Erste Seite",next:"N\xE4chste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},selection:{aria:{row:"Zeile"},selectAll:"Alle ausw\xE4hlen",displayName:"Zeilenauswahlkasten"},menu:{text:"Spalten ausw\xE4hlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zur\xFCcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"L\xF6sen"},columnMenu:{close:"Schlie\xDFen"},gridMenu:{aria:{buttonLabel:"Tabellenmen\xFC"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"Sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"Markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"Sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"Markierte Daten als PDF exportieren",exporterAllAsExcel:"Alle Daten als Excel exportieren",exporterVisibleAsExcel:"Sichtbare Daten als Excel exportieren",exporterSelectedAsExcel:"Markierte Daten als Excel exportieren",clearAllFilters:"Alle Filter zur\xFCcksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei au\xDFer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine g\xFCltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enth\xE4lt sie g\xFCltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu\xDF ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zur\xFCck",pageSelected:"Ausgew\xE4hlte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Eintr\xE4ge pro Seite",totalItems:"Eintr\xE4gen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"},validate:{error:"Fehler:",minLength:"Der Wert sollte mindestens THRESHOLD Zeichen lang sein.",maxLength:"Der Wert sollte maximal THRESHOLD Zeichen lang sein.",required:"Ein Wert wird ben\xF6tigt."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("es-ct",{headerCell:{aria:{defaultFilterLabel:"Filtre per columna",removeFilter:"Elimina el filtre",columnMenuButtonLabel:"Men\xFA de Columna",column:"Columna"},priority:"Priority:",filterLabel:"Filtre per columna: "},aggregate:{label:"items"},groupPanel:{description:"Arrossegueu una cap\xE7alera de columna aqu\xED i deixeu-lo anar per agrupar per aquesta columna."},search:{aria:{selected:"Fila seleccionada",notSelected:"Fila no seleccionada"},placeholder:"Cerca...",showingItems:"\xCDtems Mostrats:",selectedItems:"\xCDtems Seleccionats:",totalItems:"\xCDtems Totals:",size:"Mida de la p\xE0gina:",first:"Primera P\xE0gina",next:"Propera P\xE0gina",previous:"P\xE0gina Anterior",last:"\xDAltima P\xE0gina"},selection:{aria:{row:"Fila"},selectAll:"Seleccionar Todo",displayName:"Seleccionar Fila"},menu:{text:"Triar Columnes:"},sort:{ascending:"Ordena Ascendent",descending:"Ordena Descendent",none:"Sense Ordre",remove:"Eliminar Ordre"},column:{hide:"Amaga la Columna"},aggregation:{count:"Files Totals: ",sum:"total: ",avg:"mitj\xE0: ",min:"m\xEDn: ",max:"m\xE0x: "},pinning:{pinLeft:"Fixar a l'Esquerra",pinRight:"Fixar a la Dreta",unpin:"Treure Fixaci\xF3"},columnMenu:{close:"Tanca"},gridMenu:{aria:{buttonLabel:"Men\xFA de Quadr\xEDcula"},columns:"Columnes:",importerTitle:"Importa el fitxer",exporterAllAsCsv:"Exporta tot com CSV",exporterVisibleAsCsv:"Exporta les dades visibles com a CSV",exporterSelectedAsCsv:"Exporta les dades seleccionades com a CSV",exporterAllAsPdf:"Exporta tot com PDF",exporterVisibleAsPdf:"Exporta les dades visibles com a PDF",exporterSelectedAsPdf:"Exporta les dades seleccionades com a PDF",exporterAllAsExcel:"Exporta tot com Excel",exporterVisibleAsExcel:"Exporta les dades visibles com Excel",exporterSelectedAsExcel:"Exporta les dades seleccionades com Excel",clearAllFilters:"Netejar tots els filtres"},importer:{noHeaders:"No va ser possible derivar els noms de les columnes, t\xE9 encap\xE7alats l'arxiu?",noObjects:"No va ser possible obtenir registres, cont\xE9 dades l'arxiu, a part de les cap\xE7aleres?",invalidCsv:"No va ser possible processar l'arxiu, \xBF\xE9s un CSV v\xE0lid?",invalidJson:"No va ser possible processar l'arxiu, \xBF\xE9s un JSON v\xE0lid?",jsonNotArray:"El fitxer json importat ha de contenir una matriu, avortant."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"\xEDtems per p\xE0gina",totalItems:"\xEDtems",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Compte",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: M\xE1x",aggregate_min:"Agr: M\xEDn",aggregate_avg:"Agr: Mitj\xE0",aggregate_remove:"Agr: Treure"},validate:{error:"Error:",minLength:"El valor ha de tenir almenys car\xE0cters THRESHOLD.",maxLength:"El valor ha de tenir com a m\xE0xim car\xE0cters THRESHOLD.",required:"Un valor \xE9s necessari."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("es",{aggregate:{label:"Art\xEDculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu\xED y su\xE9ltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Art\xEDculos Mostrados:",selectedItems:"Art\xEDculos Seleccionados:",totalItems:"Art\xEDculos Totales:",size:"Tama\xF1o de P\xE1gina:",first:"Primera P\xE1gina",next:"P\xE1gina Siguiente",previous:"P\xE1gina Anterior",last:"\xDAltima P\xE1gina"},selection:{aria:{row:"Fila"},selectAll:"Seleccionar Todo",displayName:"Seleccionar Fila"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijaci\xF3n"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selecci\xF3n como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selecci\xF3n como pdf",exporterAllAsExcel:"Exportar todo como excel",exporterVisibleAsExcel:"Exportar vista como excel",exporterSelectedAsExcel:"Exportar selecci\xF3n como excel",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, \xBFtiene encabezados el archivo?",noObjects:"No fue posible obtener registros, \xBFcontiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, \xBFes un CSV v\xE1lido?",invalidJson:"No fue posible procesar el archivo, \xBFes un Json v\xE1lido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{aria:{pageToFirst:"P\xE1gina para primero",pageBack:"P\xE1gina atr\xE1s",pageSelected:"P\xE1gina seleccionada",pageForward:"Avance de p\xE1gina",pageToLast:"P\xE1gina para durar"},through:"mediante",sizes:"registros por p\xE1gina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: M\xE1x",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("fa",{aggregate:{label:"\u0642\u0644\u0645"},groupPanel:{description:"\u0639\u0646\u0648\u0627\u0646 \u06CC\u06A9 \u0633\u062A\u0648\u0646 \u0631\u0627 \u0628\u06AF\u06CC\u0631 \u0648 \u0628\u0647 \u06AF\u0631\u0648\u0647\u06CC \u0627\u0632 \u0622\u0646 \u0633\u062A\u0648\u0646 \u0631\u0647\u0627 \u06A9\u0646."},search:{placeholder:"\u062C\u0633\u062A\u062C\u0648...",showingItems:"\u0646\u0645\u0627\u06CC\u0634 \u0627\u0642\u0644\u0627\u0645:",selectedItems:"\u0642\u0644\u0645\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647:",totalItems:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0642\u0644\u0627\u0645:",size:"\u0627\u0646\u062F\u0627\u0632\u0647\u200C\u06CC \u0635\u0641\u062D\u0647:",first:"\u0627\u0648\u0644\u06CC\u0646 \u0635\u0641\u062D\u0647",next:"\u0635\u0641\u062D\u0647\u200C\u06CC\u200C\u0628\u0639\u062F\u06CC",previous:"\u0635\u0641\u062D\u0647\u200C\u06CC\u200C \u0642\u0628\u0644\u06CC",last:"\u0622\u062E\u0631\u06CC\u0646 \u0635\u0641\u062D\u0647"},menu:{text:"\u0633\u062A\u0648\u0646\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628\u06CC:"},sort:{ascending:"\u062A\u0631\u062A\u06CC\u0628 \u0635\u0639\u0648\u062F\u06CC",descending:"\u062A\u0631\u062A\u06CC\u0628 \u0646\u0632\u0648\u0644\u06CC",remove:"\u062D\u0630\u0641 \u0645\u0631\u062A\u0628 \u06A9\u0631\u062F\u0646"},column:{hide:"\u067E\u0646\u0647\u0627\u0646\u200C\u06A9\u0631\u062F\u0646 \u0633\u062A\u0648\u0646"},aggregation:{count:"\u062A\u0639\u062F\u0627\u062F: ",sum:"\u0645\u062C\u0645\u0648\u0639: ",avg:"\u0645\u06CC\u0627\u0646\u06AF\u06CC\u0646: ",min:"\u06A9\u0645\u062A\u0631\u06CC\u0646: ",max:"\u0628\u06CC\u0634\u062A\u0631\u06CC\u0646: "},pinning:{pinLeft:"\u067E\u06CC\u0646 \u06A9\u0631\u062F\u0646 \u0633\u0645\u062A \u0686\u067E",pinRight:"\u067E\u06CC\u0646 \u06A9\u0631\u062F\u0646 \u0633\u0645\u062A \u0631\u0627\u0633\u062A",unpin:"\u062D\u0630\u0641 \u067E\u06CC\u0646"},gridMenu:{columns:"\u0633\u062A\u0648\u0646\u200C\u0647\u0627:",importerTitle:"\u0648\u0627\u0631\u062F \u06A9\u0631\u062F\u0646 \u0641\u0627\u06CC\u0644",exporterAllAsCsv:"\u062E\u0631\u0648\u062C\u06CC \u062A\u0645\u0627\u0645 \u062F\u0627\u062F\u0647\u200C\u0647\u0627 \u062F\u0631 \u0641\u0627\u06CC\u0644 csv",exporterVisibleAsCsv:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 csv",exporterSelectedAsCsv:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 csv",exporterAllAsPdf:"\u062E\u0631\u0648\u062C\u06CC \u062A\u0645\u0627\u0645 \u062F\u0627\u062F\u0647\u200C\u0647\u0627 \u062F\u0631 \u0641\u0627\u06CC\u0644 pdf",exporterVisibleAsPdf:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 pdf",exporterSelectedAsPdf:"\u062E\u0631\u0648\u062C\u06CC \u062F\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647 \u062F\u0631 \u0641\u0627\u06CC\u0644 pdf",clearAllFilters:"\u067E\u0627\u06A9 \u06A9\u0631\u062F\u0646 \u062A\u0645\u0627\u0645 \u0641\u06CC\u0644\u062A\u0631"},importer:{noHeaders:"\u0646\u0627\u0645 \u0633\u062A\u0648\u0646 \u0642\u0627\u0628\u0644 \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0646\u06CC\u0633\u062A. \u0622\u06CC\u0627 \u0641\u0627\u06CC\u0644 \u0639\u0646\u0648\u0627\u0646 \u062F\u0627\u0631\u062F\u061F",noObjects:"\u0627\u0634\u06CC\u0627 \u0642\u0627\u0628\u0644 \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0646\u06CC\u0633\u062A\u0646\u062F. \u0622\u06CC\u0627 \u0628\u0647 \u062C\u0632 \u0639\u0646\u0648\u0627\u0646\u200C\u0647\u0627 \u062F\u0631 \u0641\u0627\u06CC\u0644 \u062F\u0627\u062F\u0647 \u0648\u062C\u0648\u062F \u062F\u0627\u0631\u062F\u061F",invalidCsv:"\u0641\u0627\u06CC\u0644 \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u0632\u0634 \u0646\u06CC\u0633\u062A. \u0622\u06CC\u0627 \u0641\u0631\u0645\u062A  csv  \u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A\u061F",invalidJson:"\u0641\u0627\u06CC\u0644 \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u0632\u0634 \u0646\u06CC\u0633\u062A. \u0622\u06CC\u0627 \u0641\u0631\u0645\u062A json   \u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A\u061F",jsonNotArray:"\u0641\u0627\u06CC\u0644 json \u0648\u0627\u0631\u062F \u0634\u062F\u0647 \u0628\u0627\u06CC\u062F \u062D\u0627\u0648\u06CC \u0622\u0631\u0627\u06CC\u0647 \u0628\u0627\u0634\u062F. \u0639\u0645\u0644\u06CC\u0627\u062A \u0633\u0627\u0642\u0637 \u0634\u062F."},pagination:{sizes:"\u0627\u0642\u0644\u0627\u0645 \u062F\u0631 \u0647\u0631 \u0635\u0641\u062D\u0647",totalItems:"\u0627\u0642\u0644\u0627\u0645",of:"\u0627\u0632"},grouping:{group:"\u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",ungroup:"\u062D\u0630\u0641 \u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",aggregate_count:"Agg: \u062A\u0639\u062F\u0627\u062F",aggregate_sum:"Agg: \u062C\u0645\u0639",aggregate_max:"Agg: \u0628\u06CC\u0634\u06CC\u0646\u0647",aggregate_min:"Agg: \u06A9\u0645\u06CC\u0646\u0647",aggregate_avg:"Agg: \u0645\u06CC\u0627\u0646\u06AF\u06CC\u0646",aggregate_remove:"Agg: \u062D\u0630\u0641"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko t\xE4h\xE4n ryhmitt\xE4\xE4ksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"N\xE4ytet\xE4\xE4n rivej\xE4:",selectedItems:"Valitut rivit:",totalItems:"Rivej\xE4 yht.:",size:"N\xE4yt\xE4:",first:"Ensimm\xE4inen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"J\xE4rjest\xE4 nouseva",descending:"J\xE4rjest\xE4 laskeva",remove:"Poista j\xE4rjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej\xE4 yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie n\xE4kyv\xE4 tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie n\xE4kyv\xE4 tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",exporterAllAsExcel:"Vie tiedot excel-muodossa",exporterVisibleAsExcel:"Vie n\xE4kyv\xE4 tieto excel-muodossa",exporterSelectedAsExcel:"Vie valittu tieto excel-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimi\xE4 ei voitu p\xE4\xE4tell\xE4, onko tiedostossa otsikkorivi\xE4?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu k\xE4sitell\xE4, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu k\xE4sitell\xE4, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sis\xE4lt\xE4nyt taulukkoa, lopetetaan."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorit\xE9:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"\xE9l\xE9ments"},groupPanel:{description:"Faites glisser une en-t\xEAte de colonne ici pour cr\xE9er un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des \xE9l\xE9ments :",selectedItems:"\xC9l\xE9ments s\xE9lectionn\xE9s :",totalItems:"Nombre total d'\xE9l\xE9ments:",size:"Taille de page:",first:"Premi\xE8re page",next:"Page Suivante",previous:"Page pr\xE9c\xE9dente",last:"Derni\xE8re page"},selection:{aria:{row:"Ligne"},selectAll:"Tout S\xE9lectionner",displayName:"S\xE9lectionnez la ligne"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre d\xE9croissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"\xC9pingler \xE0 gauche",pinRight:"\xC9pingler \xE0 droite",unpin:"D\xE9tacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donn\xE9es en CSV",exporterVisibleAsCsv:"Exporter les donn\xE9es visibles en CSV",exporterSelectedAsCsv:"Exporter les donn\xE9es s\xE9lectionn\xE9es en CSV",exporterAllAsPdf:"Exporter toutes les donn\xE9es en PDF",exporterVisibleAsPdf:"Exporter les donn\xE9es visibles en PDF",exporterSelectedAsPdf:"Exporter les donn\xE9es s\xE9lectionn\xE9es en PDF",exporterAllAsExcel:"Exporter toutes les donn\xE9es en Excel",exporterVisibleAsExcel:"Exporter les donn\xE9es visibles en Excel",exporterSelectedAsExcel:"Exporter les donn\xE9es s\xE9lectionn\xE9es en Excel",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de d\xE9terminer le nom des colonnes, le fichier poss\xE8de-t-il une en-t\xEAte ?",noObjects:"Aucun objet trouv\xE9, le fichier poss\xE8de-t-il des donn\xE9es autres que l'en-t\xEAte ?",invalidCsv:"Le fichier n'a pas pu \xEAtre trait\xE9, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu \xEAtre trait\xE9, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import\xE9 doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller \xE0 la premi\xE8re page",pageBack:"Page pr\xE9c\xE9dente",pageSelected:"Page s\xE9lectionn\xE9e",pageForward:"Page suivante",pageToLast:"Aller \xE0 la derni\xE8re page"},sizes:"\xE9l\xE9ments par page",totalItems:"\xE9l\xE9ments",through:"\xE0",of:"sur"},grouping:{group:"Grouper",ungroup:"D\xE9grouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit \xEAtre sup\xE9rieure ou \xE9gale \xE0 THRESHOLD caract\xE8res.",maxLength:"La valeur doit \xEAtre inf\xE9rieure ou \xE9gale \xE0 THRESHOLD caract\xE8res.",required:"Une valeur est n\xE9c\xE9ssaire."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("he",{aggregate:{label:"items"},groupPanel:{description:"\u05D2\u05E8\u05D5\u05E8 \u05E2\u05DE\u05D5\u05D3\u05D4 \u05DC\u05DB\u05D0\u05DF \u05D5\u05E9\u05D7\u05E8\u05E8 \u05D1\u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05E5 \u05E2\u05DE\u05D5\u05D3\u05D4 \u05D6\u05D5."},search:{placeholder:"\u05D7\u05E4\u05E9...",showingItems:"\u05DE\u05E6\u05D9\u05D2:",selectedItems:'\u05E1\u05D4"\u05DB \u05E0\u05D1\u05D7\u05E8\u05D5:',totalItems:'\u05E1\u05D4"\u05DB \u05E8\u05E9\u05D5\u05DE\u05D5\u05EA:',size:"\u05EA\u05D5\u05E6\u05D0\u05D5\u05EA \u05D1\u05D3\u05E3:",first:"\u05D3\u05E3 \u05E8\u05D0\u05E9\u05D5\u05DF",next:"\u05D3\u05E3 \u05D4\u05D1\u05D0",previous:"\u05D3\u05E3 \u05E7\u05D5\u05D3\u05DD",last:"\u05D3\u05E3 \u05D0\u05D7\u05E8\u05D5\u05DF"},menu:{text:"\u05D1\u05D7\u05E8 \u05E2\u05DE\u05D5\u05D3\u05D5\u05EA:"},sort:{ascending:"\u05E1\u05D3\u05E8 \u05E2\u05D5\u05DC\u05D4",descending:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05E8\u05D3",remove:"\u05D1\u05D8\u05DC"},column:{hide:"\u05D8\u05D5\u05E8 \u05D4\u05E1\u05EA\u05E8"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("hy",{aggregate:{label:"\u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580"},groupPanel:{description:"\u0538\u057D\u057F \u057D\u0575\u0561\u0576 \u056D\u0574\u0562\u0561\u057E\u0578\u0580\u0565\u056C\u0578\u0582 \u0570\u0561\u0574\u0561\u0580 \u0584\u0561\u0577\u0565\u0584 \u0587 \u0563\u0581\u0565\u0584 \u057E\u0565\u0580\u0576\u0561\u0563\u056B\u0580\u0576 \u0561\u0575\u057D\u057F\u0565\u0572\u0589"},search:{placeholder:"\u0553\u0576\u057F\u0580\u0578\u0582\u0574...",showingItems:"\u0551\u0578\u0582\u0581\u0561\u0564\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u055D",selectedItems:"\u0538\u0576\u057F\u0580\u057E\u0561\u056E:",totalItems:"\u0538\u0576\u0564\u0561\u0574\u0565\u0576\u0568\u055D",size:"\u054F\u0578\u0572\u0565\u0580\u056B \u0584\u0561\u0576\u0561\u056F\u0568 \u0567\u057B\u0578\u0582\u0574\u055D",first:"\u0531\u057C\u0561\u057B\u056B\u0576 \u0567\u057B",next:"\u0540\u0561\u057B\u0578\u0580\u0564 \u0567\u057B",previous:"\u0546\u0561\u056D\u0578\u0580\u0564 \u0567\u057B",last:"\u054E\u0565\u0580\u057B\u056B\u0576 \u0567\u057B"},menu:{text:"\u0538\u0576\u057F\u0580\u0565\u056C \u057D\u0575\u0578\u0582\u0576\u0565\u0580\u0568:"},sort:{ascending:"\u0531\u0573\u0574\u0561\u0576 \u056F\u0561\u0580\u0563\u0578\u057E",descending:"\u0546\u057E\u0561\u0566\u0574\u0561\u0576 \u056F\u0561\u0580\u0563\u0578\u057E",remove:"\u0540\u0561\u0576\u0565\u056C "},column:{hide:"\u0539\u0561\u0584\u0581\u0576\u0565\u056C \u057D\u0575\u0578\u0582\u0576\u0568"},aggregation:{count:"\u0568\u0576\u0564\u0561\u0574\u0565\u0576\u0568 \u057F\u0578\u0572\u055D ",sum:"\u0568\u0576\u0564\u0561\u0574\u0565\u0576\u0568\u055D ",avg:"\u0574\u056B\u057B\u056B\u0576\u055D ",min:"\u0574\u056B\u0576\u055D ",max:"\u0574\u0561\u0584\u057D\u055D "},pinning:{pinLeft:"\u053F\u057A\u0581\u0576\u0565\u056C \u0571\u0561\u056D \u056F\u0578\u0572\u0574\u0578\u0582\u0574",pinRight:"\u053F\u057A\u0581\u0576\u0565\u056C \u0561\u057B \u056F\u0578\u0572\u0574\u0578\u0582\u0574",unpin:"\u0531\u0580\u0571\u0561\u056F\u0565\u056C"},gridMenu:{columns:"\u054D\u0575\u0578\u0582\u0576\u0565\u0580:",importerTitle:"\u0546\u0565\u0580\u0574\u0578\u0582\u056E\u0565\u056C \u0586\u0561\u0575\u056C",exporterAllAsCsv:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0561\u0574\u0562\u0578\u0572\u057B\u0568 CSV",exporterVisibleAsCsv:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0565\u0580\u0587\u0561\u0581\u0578\u0572 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 CSV",exporterSelectedAsCsv:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0568\u0576\u057F\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 CSV",exporterAllAsPdf:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C PDF",exporterVisibleAsPdf:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0565\u0580\u0587\u0561\u0581\u0578\u0572 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 PDF",exporterSelectedAsPdf:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0568\u0576\u057F\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 PDF",exporterAllAsExcel:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C excel",exporterVisibleAsExcel:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0565\u0580\u0587\u0561\u0581\u0578\u0572 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 excel",exporterSelectedAsExcel:"\u0531\u0580\u057F\u0561\u0570\u0561\u0576\u0565\u056C \u0568\u0576\u057F\u0580\u057E\u0561\u056E \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568 excel",clearAllFilters:"\u0544\u0561\u0584\u0580\u0565\u056C \u0562\u0578\u056C\u0578\u0580 \u0586\u056B\u056C\u057F\u0580\u0565\u0580\u0568"},importer:{noHeaders:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u0578\u0580\u0578\u0577\u0565\u056C \u057D\u0575\u0561\u0576 \u057E\u0565\u0580\u0576\u0561\u0563\u0580\u0565\u0580\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0586\u0561\u0575\u056C\u0568 \u0578\u0582\u0576\u056B \u057E\u0565\u0580\u0576\u0561\u0563\u0580\u0565\u0580\u0589",noObjects:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u056F\u0561\u0580\u0564\u0561\u056C \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0586\u0561\u0575\u056C\u0578\u0582\u0574 \u056F\u0561\u0576 \u057F\u057E\u0575\u0561\u056C\u0576\u0565\u0580\u0589",invalidCsv:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u0574\u0577\u0561\u056F\u0565\u056C \u0586\u0561\u0575\u056C\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0561\u0575\u0576 \u057E\u0561\u057E\u0565\u0580 CSV \u0567\u0589",invalidJson:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0565\u0572\u0561\u057E \u0574\u0577\u0561\u056F\u0565\u056C \u0586\u0561\u0575\u056C\u0568\u0589 \u0531\u0580\u0564\u0575\u0578\u055E\u0584 \u0561\u0575\u0576 \u057E\u0561\u057E\u0565\u0580 Json \u0567\u0589",jsonNotArray:"\u0546\u0565\u0580\u0574\u0578\u0582\u056E\u057E\u0561\u056E json \u0586\u0561\u0575\u056C\u0568 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B \u0566\u0561\u0576\u0563\u057E\u0561\u056E, \u056F\u0561\u057D\u0565\u0581\u057E\u0578\u0582\u0574 \u0567\u0589"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("is",{headerCell:{aria:{defaultFilterLabel:"S\xEDa fyrir d\xE1lk",removeFilter:"Fjarl\xE6gja s\xEDu",columnMenuButtonLabel:"D\xE1lkavalmynd"},priority:"Forgangsr\xF6\xF0un:",filterLabel:"S\xEDa fyrir d\xE1lka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Drag\xF0u d\xE1lkhaus hinga\xF0 til a\xF0 flokka saman eftir \xFEeim d\xE1lki."},search:{placeholder:"Leita...",showingItems:"S\xFDni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"St\xE6r\xF0 s\xED\xF0u:",first:"Fyrsta s\xED\xF0a",next:"N\xE6sta s\xED\xF0a",previous:"Fyrri s\xED\xF0a",last:"S\xED\xF0asta s\xED\xF0a"},menu:{text:"Veldu d\xE1lka:"},sort:{ascending:"Ra\xF0a h\xE6kkandi",descending:"Ra\xF0a l\xE6kkandi",none:"Engin r\xF6\xF0un",remove:"Fjarl\xE6gja r\xF6\xF0un"},column:{hide:"Fela d\xE1lk"},aggregation:{count:"fj\xF6ldi ra\xF0a: ",sum:"summa: ",avg:"me\xF0altal: ",min:"l\xE1gmark: ",max:"h\xE1mark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til h\xE6gri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"T\xF6flu valmynd"},columns:"D\xE1lkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja \xFAt g\xF6gn sem csv",exporterVisibleAsCsv:"Flytja \xFAt s\xFDnileg g\xF6gn sem csv",exporterSelectedAsCsv:"Flytja \xFAt valin g\xF6gn sem csv",exporterAllAsPdf:"Flytja \xFAt \xF6ll g\xF6gn sem pdf",exporterVisibleAsPdf:"Flytja \xFAt s\xFDnileg g\xF6gn sem pdf",exporterSelectedAsPdf:"Flytja \xFAt valin g\xF6gn sem pdf",clearAllFilters:"Hreinsa allar s\xEDur"},importer:{noHeaders:"Ekki h\xE6gt a\xF0 vinna d\xE1lkan\xF6fn \xFAr skjalinu, er skjali\xF0 \xF6rugglega me\xF0 haus?",noObjects:"Ekki h\xE6gt a\xF0 vinna hluti \xFAr skjalinu, voru \xF6rugglega g\xF6gn \xED skjalinu \xF6nnur en hausinn?",invalidCsv:"T\xF3kst ekki a\xF0 vinna skjal, er \xFEa\xF0 \xF6rggulega gilt CSV?",invalidJson:"T\xF3kst ekki a\xF0 vinna skjal, er \xFEa\xF0 \xF6rugglega gilt Json?",jsonNotArray:"Innflutt json skjal ver\xF0ur a\xF0 innihalda fylki, h\xE6tti vi\xF0."},pagination:{aria:{pageToFirst:"Fletta a\xF0 fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin s\xED\xF0a",pageForward:"Fletta \xE1fram",pageToLast:"Fletta a\xF0 s\xED\xF0ustu"},sizes:"hlutir \xE1 s\xED\xF0u",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurli\xF0a",aggregate_count:"Fj\xF6ldi: ",aggregate_sum:"Summa: ",aggregate_max:"H\xE1mark: ",aggregate_min:"L\xE1gmark: ",aggregate_avg:"Me\xF0altal: ",aggregate_remove:"Fjarl\xE6gja: "},validate:{error:"Villa:",minLength:"Gildi \xE6tti a\xF0 vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi \xE6tti a\xF0 vera \xED mesta lagi THRESHOLD stafa langt.",required:"\xDEarf a\xF0 hafa gildi."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},selection:{aria:{row:"Riga"},selectAll:"Seleccionar Todo",displayName:"Seleziona Riga"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",exporterAllAsExcel:"Esporta tutti i dati in excel",exporterVisibleAsExcel:"Esporta i dati visibili in excel",exporterSelectedAsExcel:"Esporta i dati selezionati in excel",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ja",{headerCell:{aria:{defaultFilterLabel:"\u5217\u306E\u30D5\u30A3\u30EB\u30BF\u30FC",removeFilter:"\u30D5\u30A3\u30EB\u30BF\u30FC\u306E\u89E3\u9664",columnMenuButtonLabel:"\u5217\u306E\u30E1\u30CB\u30E5\u30FC"},priority:"\u512A\u5148\u5EA6:",filterLabel:"\u5217\u30D5\u30A3\u30EB\u30BF\u30FC: "},aggregate:{label:"\u9805\u76EE"},groupPanel:{description:"\u3053\u3053\u306B\u5217\u30D8\u30C3\u30C0\u3092\u30C9\u30E9\u30C3\u30B0\u30A2\u30F3\u30C9\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u3001\u305D\u306E\u5217\u3067\u30B0\u30EB\u30FC\u30D7\u5316\u3057\u307E\u3059\u3002"},search:{placeholder:"\u691C\u7D22...",showingItems:"\u8868\u793A\u4E2D\u306E\u9805\u76EE:",selectedItems:"\u9078\u629E\u3057\u305F\u9805\u76EE:",totalItems:"\u9805\u76EE\u306E\u7DCF\u6570:",size:"\u30DA\u30FC\u30B8\u30B5\u30A4\u30BA:",first:"\u6700\u521D\u306E\u30DA\u30FC\u30B8",next:"\u6B21\u306E\u30DA\u30FC\u30B8",previous:"\u524D\u306E\u30DA\u30FC\u30B8",last:"\u524D\u306E\u30DA\u30FC\u30B8"},menu:{text:"\u5217\u306E\u9078\u629E:"},sort:{ascending:"\u6607\u9806\u306B\u4E26\u3079\u66FF\u3048",descending:"\u964D\u9806\u306B\u4E26\u3079\u66FF\u3048",none:"\u4E26\u3079\u66FF\u3048\u7121\u3057",remove:"\u4E26\u3079\u66FF\u3048\u306E\u89E3\u9664"},column:{hide:"\u5217\u306E\u975E\u8868\u793A"},aggregation:{count:"\u884C\u6570: ",sum:"\u5408\u8A08: ",avg:"\u5E73\u5747: ",min:"\u6700\u5C0F: ",max:"\u6700\u5927: "},pinning:{pinLeft:"\u5DE6\u306B\u56FA\u5B9A",pinRight:"\u53F3\u306B\u56FA\u5B9A",unpin:"\u56FA\u5B9A\u89E3\u9664"},columnMenu:{close:"\u9589\u3058\u308B"},gridMenu:{aria:{buttonLabel:"\u30B0\u30EA\u30C3\u30C9\u30E1\u30CB\u30E5\u30FC"},columns:"\u5217\u306E\u8868\u793A/\u975E\u8868\u793A:",importerTitle:"\u30D5\u30A1\u30A4\u30EB\u306E\u30A4\u30F3\u30DD\u30FC\u30C8",exporterAllAsCsv:"\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092CSV\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterVisibleAsCsv:"\u8868\u793A\u4E2D\u306E\u30C7\u30FC\u30BF\u3092CSV\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterSelectedAsCsv:"\u9078\u629E\u3057\u305F\u30C7\u30FC\u30BF\u3092CSV\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterAllAsPdf:"\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092PDF\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterVisibleAsPdf:"\u8868\u793A\u4E2D\u306E\u30C7\u30FC\u30BF\u3092PDF\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",exporterSelectedAsPdf:"\u9078\u629E\u3057\u305F\u30C7\u30FC\u30BF\u3092PDF\u5F62\u5F0F\u3067\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",clearAllFilters:"\u3059\u3079\u3066\u306E\u30D5\u30A3\u30EB\u30BF\u3092\u30AF\u30EA\u30A2"},importer:{noHeaders:"\u5217\u540D\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u306B\u30D8\u30C3\u30C0\u304C\u542B\u307E\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",noObjects:"\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u306B\u30D8\u30C3\u30C0\u4EE5\u5916\u306E\u30C7\u30FC\u30BF\u304C\u542B\u307E\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",invalidCsv:"\u30D5\u30A1\u30A4\u30EB\u3092\u51E6\u7406\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u304C\u6709\u52B9\u306ACSV\u5F62\u5F0F\u3067\u3042\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",invalidJson:"\u30D5\u30A1\u30A4\u30EB\u3092\u51E6\u7406\u3067\u304D\u307E\u305B\u3093\u3002\u30D5\u30A1\u30A4\u30EB\u304C\u6709\u52B9\u306AJSON\u5F62\u5F0F\u3067\u3042\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",jsonNotArray:"\u30A4\u30F3\u30DD\u30FC\u30C8\u3057\u305FJSON\u30D5\u30A1\u30A4\u30EB\u306B\u306F\u914D\u5217\u304C\u542B\u307E\u308C\u3066\u3044\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002\u51E6\u7406\u3092\u4E2D\u6B62\u3057\u307E\u3059\u3002"},pagination:{aria:{pageToFirst:"\u6700\u521D\u306E\u30DA\u30FC\u30B8",pageBack:"\u524D\u306E\u30DA\u30FC\u30B8",pageSelected:"\u73FE\u5728\u306E\u30DA\u30FC\u30B8",pageForward:"\u6B21\u306E\u30DA\u30FC\u30B8",pageToLast:"\u6700\u5F8C\u306E\u30DA\u30FC\u30B8"},sizes:"\u4EF6/\u30DA\u30FC\u30B8",totalItems:"\u4EF6",through:"\u304B\u3089",of:"\u4EF6/\u5168"},grouping:{group:"\u30B0\u30EB\u30FC\u30D7\u5316",ungroup:"\u30B0\u30EB\u30FC\u30D7\u5316\u306E\u89E3\u9664",aggregate_count:"\u96C6\u8A08\u8868\u793A: \u884C\u6570",aggregate_sum:"\u96C6\u8A08\u8868\u793A: \u5408\u8A08",aggregate_max:"\u96C6\u8A08\u8868\u793A: \u6700\u5927",aggregate_min:"\u96C6\u8A08\u8868\u793A: \u6700\u5C0F",aggregate_avg:"\u96C6\u8A08\u8868\u793A: \u5E73\u5747",aggregate_remove:"\u96C6\u8A08\u8868\u793A: \u89E3\u9664"},validate:{error:"Error:",minLength:"THRESHOLD \u6587\u5B57\u4EE5\u4E0A\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",maxLength:"THRESHOLD \u6587\u5B57\u4EE5\u4E0B\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",required:"\u5024\u304C\u5FC5\u8981\u3067\u3059\u3002"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ko",{aggregate:{label:"\uC544\uC774\uD15C"},groupPanel:{description:"\uCEEC\uB7FC\uC73C\uB85C \uADF8\uB8F9\uD551\uD558\uAE30 \uC704\uD574\uC11C\uB294 \uCEEC\uB7FC \uD5E4\uB354\uB97C \uB04C\uC5B4 \uB5A8\uC5B4\uB728\uB824 \uC8FC\uC138\uC694."},search:{placeholder:"\uAC80\uC0C9...",showingItems:"\uD56D\uBAA9 \uBCF4\uC5EC\uC8FC\uAE30:",selectedItems:"\uC120\uD0DD \uD56D\uBAA9:",totalItems:"\uC804\uCCB4 \uD56D\uBAA9:",size:"\uD398\uC774\uC9C0 \uD06C\uAE30:",first:"\uCCAB\uBC88\uC9F8 \uD398\uC774\uC9C0",next:"\uB2E4\uC74C \uD398\uC774\uC9C0",previous:"\uC774\uC804 \uD398\uC774\uC9C0",last:"\uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0"},menu:{text:"\uCEEC\uB7FC\uC744 \uC120\uD0DD\uD558\uC138\uC694:"},sort:{ascending:"\uC624\uB984\uCC28\uC21C \uC815\uB82C",descending:"\uB0B4\uB9BC\uCC28\uC21C \uC815\uB82C",remove:"\uC18C\uD305 \uC81C\uAC70"},column:{hide:"\uCEEC\uB7FC \uC81C\uAC70"},aggregation:{count:"\uC804\uCCB4 \uAC2F\uC218: ",sum:"\uC804\uCCB4: ",avg:"\uD3C9\uADE0: ",min:"\uCD5C\uC18C: ",max:"\uCD5C\uB300: "},pinning:{pinLeft:"\uC67C\uCABD \uD540",pinRight:"\uC624\uB978\uCABD \uD540",unpin:"\uD540 \uC81C\uAC70"},gridMenu:{columns:"\uCEEC\uB7FC:",importerTitle:"\uD30C\uC77C \uAC00\uC838\uC624\uAE30",exporterAllAsCsv:"csv\uB85C \uBAA8\uB4E0 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterVisibleAsCsv:"csv\uB85C \uBCF4\uC774\uB294 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterSelectedAsCsv:"csv\uB85C \uC120\uD0DD\uB41C \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterAllAsPdf:"pdf\uB85C \uBAA8\uB4E0 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterVisibleAsPdf:"pdf\uB85C \uBCF4\uC774\uB294 \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",exporterSelectedAsPdf:"pdf\uB85C \uC120\uD0DD \uB370\uC774\uD130 \uB0B4\uBCF4\uB0B4\uAE30",clearAllFilters:"\uBAA8\uB4E0 \uD544\uD130\uB97C \uCCAD\uC18C"},importer:{noHeaders:"\uCEEC\uB7FC\uBA85\uC774 \uC9C0\uC815\uB418\uC5B4 \uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uD30C\uC77C\uC5D0 \uD5E4\uB354\uAC00 \uBA85\uC2DC\uB418\uC5B4 \uC788\uB294\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",noObjects:"\uB370\uC774\uD130\uAC00 \uC9C0\uC815\uB418\uC5B4 \uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uB370\uC774\uD130\uAC00 \uD30C\uC77C\uC5D0 \uC788\uB294\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",invalidCsv:"\uD30C\uC77C\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC62C\uBC14\uB978 csv\uC778\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",invalidJson:"\uD30C\uC77C\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC62C\uBC14\uB978 json\uC778\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.",jsonNotArray:"json \uD30C\uC77C\uC740 \uBC30\uC5F4\uC744 \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4."},pagination:{sizes:"\uD398\uC774\uC9C0\uB2F9 \uD56D\uBAA9",totalItems:"\uC804\uCCB4 \uD56D\uBAA9"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",exporterAllAsExcel:"Exporteer alle data als excel",exporterVisibleAsExcel:"Exporteer zichtbare data als excel",exporterSelectedAsExcel:"Exporteer alle data als excel",clearAllFilters:"Alle filters wissen"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for \xE5 gruppere etter den kolonnen."},search:{placeholder:"S\xF8k...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidest\xF8rrelse:",first:"F\xF8rste side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til h\xF8yre",unpin:"L\xF8sne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter utvalgte data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil m\xE5 inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"G\xE5 til f\xF8rste side",pageBack:"G\xE5 til forrige side",pageSelected:"Valgte side",pageForward:"G\xE5 til neste side",pageToLast:"G\xE5 til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usu\u0144 filtr",columnMenuButtonLabel:"Opcje kolumny",column:"Kolumna"},priority:"Priorytet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeci\u0105gnij nag\u0142\xF3wek kolumny tutaj, aby pogrupowa\u0107 wed\u0142ug niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Nast\u0119pna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosn\u0105co",descending:"Sortuj malej\u0105co",none:"Brak sortowania",remove:"Wy\u0142\u0105cz sortowanie"},column:{hide:"Ukryj kolumn\u0119"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"\u015Arednia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",exporterAllAsExcel:"Eksportuj wszystkie dane do excel",exporterVisibleAsExcel:"Eksportuj widoczne dane do excel",exporterSelectedAsExcel:"Eksportuj zaznaczone dane do excel",clearAllFilters:"Wyczy\u015B\u0107 filtry"},importer:{noHeaders:"Nie uda\u0142o si\u0119 wczyta\u0107 nazw kolumn. Czy plik posiada nag\u0142\xF3wek?",noObjects:"Nie udalo si\u0119 wczyta\u0107 pozycji. Czy plik zawiera dane?",invalidCsv:"Nie uda\u0142o si\u0119 przetworzy\u0107 pliku. Czy to prawid\u0142owy plik CSV?",invalidJson:"Nie uda\u0142o si\u0119 przetworzy\u0107 pliku. Czy to prawid\u0142owy plik JSON?",jsonNotArray:"Importowany plik JSON musi zawiera\u0107 tablic\u0119. Importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Nast\u0119pna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stron\u0119",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: \u015Arednia",aggregate_remove:"Zbiorczo: Usu\u0144"},validate:{error:"B\u0142\u0105d:",minLength:"Warto\u015B\u0107 powinna sk\u0142ada\u0107 si\u0119 z co najmniej THRESHOLD znak\xF3w.",maxLength:"Warto\u015B\u0107 powinna sk\u0142ada\u0107 si\u0119 z przynajmniej THRESHOLD znak\xF3w.",required:"Warto\u015B\u0107 jest wymagana."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna",column:"Coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{aria:{selected:"Linha selecionada",notSelected:"Linha n\xE3o est\xE1 selecionada"},placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da P\xE1gina:",first:"Primeira P\xE1gina",next:"Pr\xF3xima P\xE1gina",previous:"P\xE1gina Anterior",last:"\xDAltima P\xE1gina"},selection:{aria:{row:"Linha"},selectAll:"Selecionar Tudo",displayName:"Caixa de Sele\xE7\xE3o da Linha"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordena\xE7\xE3o"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados vis\xEDveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados vis\xEDveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",exporterAllAsExcel:"Exportar todos os dados como excel",exporterVisibleAsExcel:"Exportar dados vis\xEDveis como excel",exporterSelectedAsExcel:"Exportar dados selecionados como excel",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas n\xE3o puderam ser derivados. O arquivo tem um cabe\xE7alho?",noObjects:"Objetos n\xE3o puderam ser derivados. Havia dados no arquivo, al\xE9m dos cabe\xE7alhos?",invalidCsv:"Arquivo n\xE3o pode ser processado. \xC9 um CSV v\xE1lido?",invalidJson:"Arquivo n\xE3o pode ser processado. \xC9 um Json v\xE1lido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira p\xE1gina",pageBack:"P\xE1gina anterior",pageSelected:"P\xE1gina Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por p\xE1gina",totalItems:"itens",through:"atrav\xE9s dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"},validate:{error:"Erro:",minLength:"O valor deve ter, no minimo, THRESHOLD caracteres.",maxLength:"O valor deve ter, no m\xE1ximo, THRESHOLD caracteres.",required:"Um valor \xE9 necess\xE1rio."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna",column:"Coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{aria:{selected:"Linha selecionada",notSelected:"Linha n\xE3o est\xE1 selecionada"},placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da P\xE1gina:",first:"Primeira P\xE1gina",next:"Pr\xF3xima P\xE1gina",previous:"P\xE1gina Anterior",last:"\xDAltima P\xE1gina"},selection:{aria:{row:"Linha"},selectAll:"Selecionar Tudo",displayName:"Caixa de Sele\xE7\xE3o da Linha"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordena\xE7\xE3o"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados vis\xEDveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados vis\xEDveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",exporterAllAsExcel:"Exportar todos os dados como excel",exporterVisibleAsExcel:"Exportar dados vis\xEDveis como excel",exporterSelectedAsExcel:"Exportar dados selecionados como excel",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas n\xE3o puderam ser derivados. O ficheiro tem um cabe\xE7alho?",noObjects:"Objetos n\xE3o puderam ser derivados. Havia dados no ficheiro, al\xE9m dos cabe\xE7alhos?",invalidCsv:"Ficheiro n\xE3o pode ser processado. \xC9 um CSV v\xE1lido?",invalidJson:"Ficheiro n\xE3o pode ser processado. \xC9 um Json v\xE1lido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira p\xE1gina",pageBack:"P\xE1gina anterior",pageSelected:"P\xE1gina Selecionada",pageForward:"Pr\xF3xima",pageToLast:"Anterior"},sizes:"itens por p\xE1gina",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"},validate:{error:"Erro:",minLength:"O valor deve ter, no minimo, THRESHOLD caracteres.",maxLength:"O valor deve ter, no m\xE1ximo, THRESHOLD caracteres.",required:"Um valor \xE9 necess\xE1rio."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("rs-lat",{headerCell:{aria:{defaultFilterLabel:"Filter za kolonu",removeFilter:"Ukloni Filter",columnMenuButtonLabel:"Meni Kolone",column:"Kolona"},priority:"Prioritet:",filterLabel:"Filter za kolonu: "},aggregate:{label:"stavke"},groupPanel:{description:"Ovde prevuci zaglavlje kolone i spusti do grupe pored te kolone."},search:{aria:{selected:"Red odabran",notSelected:"Red nije odabran"},placeholder:"Pretraga...",showingItems:"Prikazane Stavke:",selectedItems:"Odabrane Stavke:",totalItems:"Ukupno Stavki:",size:"Veli\u010Dina Stranice:",first:"Prva Stranica",next:"Slede\u0107a Stranica",previous:"Prethodna Stranica",last:"Poslednja Stranica"},menu:{text:"Odaberite kolonu:"},sort:{ascending:"Sortiraj po rastu\u0107em redosledu",descending:"Sortiraj po opadaju\u0107em redosledu",none:"Bez Sortiranja",remove:"Ukloni Sortiranje"},column:{hide:"Sakrij Kolonu"},aggregation:{count:"ukupno redova: ",sum:"ukupno: ",avg:"prosecno: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Zaka\u010Di Levo",pinRight:"Zaka\u010Di Desno",unpin:"Otka\u010Di"},columnMenu:{close:"Zatvori"},gridMenu:{aria:{buttonLabel:"Re\u0161etkasti Meni"},columns:"Kolone:",importerTitle:"Importuj fajl",exporterAllAsCsv:"Eksportuj sve podatke kao csv",exporterVisibleAsCsv:"Eksportuj vidljive podatke kao csv",exporterSelectedAsCsv:"Eksportuj obele\u017Eene podatke kao csv",exporterAllAsPdf:"Eksportuj sve podatke kao pdf",exporterVisibleAsPdf:"Eksportuj vidljive podake kao pdf",exporterSelectedAsPdf:"Eksportuj odabrane podatke kao pdf",exporterAllAsExcel:"Eksportuj sve podatke kao excel",exporterVisibleAsExcel:"Eksportuj vidljive podatke kao excel",exporterSelectedAsExcel:"Eksportuj odabrane podatke kao excel",clearAllFilters:"Obri\u0161i sve filtere"},importer:{noHeaders:"Kolone se nisu mogle podeliti, da li fajl poseduje heder?",noObjects:"Objecti nisu mogli biti podeljeni, da li je bilo i drugih podataka sem hedera?",invalidCsv:"Fajl nije bilo mogu\u0107e procesirati, da li je ispravni CSV?",invalidJson:"Fajl nije bilo mogu\u0107e procesirati, da li je ispravni JSON",jsonNotArray:"Importovani json fajl mora da sadr\u017Ei niz, prekidam operaciju."},pagination:{aria:{pageToFirst:"Prva stranica",pageBack:"Stranica pre",pageSelected:"Odabrana stranica",pageForward:"Slede\u0107a stranica",pageToLast:"Poslednja stranica"},sizes:"stavki po stranici",totalItems:"stavke",through:"kroz",of:"od"},grouping:{group:"Grupi\u0161i",ungroup:"Odrupi\u0161i",aggregate_count:"Agg: Broj",aggregate_sum:"Agg: Suma",aggregate_max:"Agg: Maksimum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Prose\u010Dna",aggregate_remove:"Agg: Ukloni"},validate:{error:"Gre\u0161ka:",minLength:"Vrednost bi trebala da bude duga bar THRESHOLD karaktera.",maxLength:"Vrednost bi trebalo da bude najvi\u0161e duga THRESHOLD karaktera.",required:"Portreba je vrednost."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ru",{headerCell:{aria:{defaultFilterLabel:"\u0424\u0438\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u043B\u0431\u0446\u0430",removeFilter:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440",columnMenuButtonLabel:"\u041C\u0435\u043D\u044E \u0441\u0442\u043E\u043B\u0431\u0446\u0430"},priority:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:",filterLabel:"\u0424\u0438\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u043B\u0431\u0446\u0430: "},aggregate:{label:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"},groupPanel:{description:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u043A\u0438 \u043F\u043E \u0441\u0442\u043E\u043B\u0431\u0446\u0443 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u0435\u0433\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435."},search:{placeholder:"\u041F\u043E\u0438\u0441\u043A...",showingItems:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B:",selectedItems:"\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B:",totalItems:"\u0412\u0441\u0435\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432:",size:"\u0420\u0430\u0437\u043C\u0435\u0440 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B:",first:"\u041F\u0435\u0440\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",next:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",previous:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",last:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},menu:{text:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0446\u044B:"},sort:{ascending:"\u041F\u043E \u0432\u043E\u0437\u0440\u0430\u0441\u0442\u0430\u043D\u0438\u044E",descending:"\u041F\u043E \u0443\u0431\u044B\u0432\u0430\u043D\u0438\u044E",none:"\u0411\u0435\u0437 \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0438",remove:"\u0423\u0431\u0440\u0430\u0442\u044C \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0443"},column:{hide:"\u0421\u043F\u0440\u044F\u0442\u0430\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0435\u0446"},aggregation:{count:"\u0432\u0441\u0435\u0433\u043E \u0441\u0442\u0440\u043E\u043A: ",sum:"\u0438\u0442\u043E\u0433\u043E: ",avg:"\u0441\u0440\u0435\u0434\u043D\u0435\u0435: ",min:"\u043C\u0438\u043D: ",max:"\u043C\u0430\u043A\u0441: "},pinning:{pinLeft:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043B\u0435\u0432\u0430",pinRight:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u0430",unpin:"\u041E\u0442\u043A\u0440\u0435\u043F\u0438\u0442\u044C"},columnMenu:{close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"},gridMenu:{aria:{buttonLabel:"\u041C\u0435\u043D\u044E"},columns:"\u0421\u0442\u043E\u043B\u0431\u0446\u044B:",importerTitle:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u0430\u0439\u043B",exporterAllAsCsv:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0451 \u0432 CSV",exporterVisibleAsCsv:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 CSV",exporterSelectedAsCsv:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 CSV",exporterAllAsPdf:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0451 \u0432 PDF",exporterVisibleAsPdf:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 PDF",exporterSelectedAsPdf:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 PDF",exporterAllAsExcel:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0451 \u0432 Excel",exporterVisibleAsExcel:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 Excel",exporterSelectedAsExcel:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 Excel",clearAllFilters:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0432\u0441\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B"},importer:{noHeaders:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F \u0441\u0442\u043E\u043B\u0431\u0446\u043E\u0432, \u0435\u0441\u0442\u044C \u043B\u0438 \u0432 \u0444\u0430\u0439\u043B\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A?",noObjects:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435, \u0435\u0441\u0442\u044C \u043B\u0438 \u0432 \u0444\u0430\u0439\u043B\u0435 \u0441\u0442\u0440\u043E\u043A\u0438 \u043A\u0440\u043E\u043C\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430?",invalidCsv:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0444\u0430\u0439\u043B, \u044D\u0442\u043E \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 CSV-\u0444\u0430\u0439\u043B?",invalidJson:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0444\u0430\u0439\u043B, \u044D\u0442\u043E \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 JSON?",jsonNotArray:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0443\u0435\u043C\u044B\u0439 JSON-\u0444\u0430\u0439\u043B \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0430\u0441\u0441\u0438\u0432, \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430."},pagination:{aria:{pageToFirst:"\u041F\u0435\u0440\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageBack:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageSelected:"\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageForward:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",pageToLast:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"},sizes:"\u0441\u0442\u0440\u043E\u043A \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",totalItems:"\u0441\u0442\u0440\u043E\u043A",through:"\u043F\u043E",of:"\u0438\u0437"},grouping:{group:"\u0413\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",ungroup:"\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",aggregate_count:"\u0413\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C: \u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E",aggregate_sum:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u0421\u0443\u043C\u043C\u0430",aggregate_max:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C",aggregate_min:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u041C\u0438\u043D\u0438\u043C\u0443\u043C",aggregate_avg:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u0421\u0440\u0435\u0434\u043D\u0435\u0435",aggregate_remove:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u043F\u044B: \u041F\u0443\u0441\u0442\u043E"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("sk",{headerCell:{aria:{defaultFilterLabel:"Filter pre st\u013Apec",removeFilter:"Odstr\xE1ni\u0165 filter",columnMenuButtonLabel:"Menu pre st\u013Apec",column:"St\u013Apec"},priority:"Priorita:",filterLabel:"Filter pre st\u013Apec: "},aggregate:{label:"polo\u017Eky"},groupPanel:{description:"Pretiahni sem n\xE1zov st\u013Apca pre zoskupenie pod\u013Ea toho st\u013Apca."},search:{aria:{selected:"Ozna\u010Den\xFD riadok",notSelected:"Neozna\u010Den\xFD riadok"},placeholder:"H\u013Eadaj...",showingItems:"Zobrazujem polo\u017Eky:",selectedItems:"Vybrat\xE9 polo\u017Eky:",totalItems:"Po\u010Det polo\u017Eiek:",size:"Po\u010Det:",first:"Prv\xE1 strana",next:"\u010Eal\u0161ia strana",previous:"Predch\xE1dzaj\xFAca strana",last:"Posledn\xE1 strana"},menu:{text:"Vyberte st\u013Apce:"},sort:{ascending:"Zotriedi\u0165 vzostupne",descending:"Zotriedi\u0165 zostupne",none:"Nezotriedi\u0165",remove:"Vymaza\u0165 triedenie"},column:{hide:"Skry\u0165 st\u013Apec"},aggregation:{count:"po\u010Det riadkov: ",sum:"spolu: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pripn\xFA\u0165 v\u013Eavo",pinRight:"Pripn\xFA\u0165 vpravo",unpin:"Odopn\xFA\u0165"},columnMenu:{close:"Zavrie\u0165"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"St\u013Apce:",importerTitle:"Importova\u0165 s\xFAbor",exporterAllAsCsv:"Exportova\u0165 v\u0161etky \xFAdaje ako CSV",exporterVisibleAsCsv:"Exportov\u0165 vidite\u013En\xE9 \xFAdaje ako CSV",exporterSelectedAsCsv:"Exportova\u0165 ozna\u010Den\xE9 \xFAdaje ako CSV",exporterAllAsPdf:"Exportova\u0165 v\u0161etky \xFAdaje ako pdf",exporterVisibleAsPdf:"Exportova\u0165 vidite\u013En\xE9 \xFAdaje ako pdf",exporterSelectedAsPdf:"Exportova\u0165 ozna\u010Den\xE9 \xFAdaje ako pdf",exporterAllAsExcel:"Exportova\u0165 v\u0161etky \xFAdaje ako excel",exporterVisibleAsExcel:"Exportova\u0165 vidite\u013En\xE9 \xFAdaje ako excel",exporterSelectedAsExcel:"Exportova\u0165 ozna\u010Den\xE9 \xFAdaje ako excel",clearAllFilters:"Zru\u0161i\u0165 v\u0161etky filtre"},importer:{noHeaders:"N\xE1zvy st\u013Apcov sa nedali odvodi\u0165, m\xE1 s\xFAbor hlavi\u010Dku?",noObjects:"Objekty nebolo mo\u017En\xE9 odvodi\u0165, existovali in\xE9 \xFAdaje v s\xFAbore ako hlavi\u010Dky?",invalidCsv:"S\xFAbor sa nepodarilo spracova\u0165, je to platn\xFD s\xFAbor CSV?",invalidJson:"S\xFAbor nebolo mo\u017En\xE9 spracova\u0165, je to platn\xFD s\xFAbor typu Json?",jsonNotArray:"Importovan\xFD s\xFAbor json mus\xED obsahova\u0165 pole, ukon\u010Dujem."},pagination:{aria:{pageToFirst:"Strana na za\u010Diatok",pageBack:"Strana dozadu",pageSelected:"Ozna\u010Den\xE1 strana",pageForward:"Strana dopredu",pageToLast:"Strana na koniec"},sizes:"polo\u017Eky na stranu",totalItems:"polo\u017Eky spolu",through:"do konca",of:"z"},grouping:{group:"Zoskupi\u0165",ungroup:"Zru\u0161i\u0165 zoskupenie",aggregate_count:"Agg: Po\u010Det",aggregate_sum:"Agg: Suma",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Zru\u0161i\u0165"},validate:{error:"Chyba:",minLength:"Hodnota by mala ma\u0165 aspo\u0148 THRESHOLD znakov dlh\xE1.",maxLength:"Hodnota by mala by\u0165 maxim\xE1lne THRESHOLD znakov dlh\xE1.",required:"Vy\u017Eaduje sa hodnota."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("sv",{headerCell:{aria:{defaultFilterLabel:"Kolumnfilter",removeFilter:"Ta bort filter",columnMenuButtonLabel:"Kolumnmeny",column:"Kolumn"},priority:"Prioritet:",filterLabel:"Filter f\xF6r kolumn: "},aggregate:{label:"Poster"},groupPanel:{description:"Dra en kolumnrubrik hit och sl\xE4pp den f\xF6r att gruppera efter den kolumnen."},search:{aria:{selected:"Rad \xE4r vald",notSelected:"Rad \xE4r inte vald"},placeholder:"S\xF6k...",showingItems:"Visar:",selectedItems:"Valda:",totalItems:"Antal:",size:"Sidstorlek:",first:"F\xF6rsta sidan",next:"N\xE4sta sida",previous:"F\xF6reg\xE5ende sida",last:"Sista sidan"},menu:{text:"V\xE4lj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",none:"Ingen sortering",remove:"Inaktivera sortering"},column:{hide:"G\xF6m kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"F\xE4st v\xE4nster",pinRight:"F\xE4st h\xF6ger",unpin:"L\xF6sg\xF6r"},columnMenu:{close:"St\xE4ng"},gridMenu:{aria:{buttonLabel:"Meny"},columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",exporterAllAsExcel:"Exportera all data till Excel",exporterVisibleAsExcel:"Exportera synlig data till Excel",exporterSelectedAsExcel:"Exportera markerad data till Excel",clearAllFilters:"Nollst\xE4ll alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte h\xE4rledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte h\xE4rledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, \xE4r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, \xE4r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil m\xE5ste inneh\xE5lla ett f\xE4lt. Import avbruten."},pagination:{aria:{pageToFirst:"G\xE5 till f\xF6rsta sidan",pageBack:"G\xE5 en sida bak\xE5t",pageSelected:"Vald sida",pageForward:"G\xE5 en sida fram\xE5t",pageToLast:"G\xE5 till sista sidan"},sizes:"Poster per sida",totalItems:"Poster",through:"genom",of:"av"},grouping:{group:"Gruppera",ungroup:"Dela upp",aggregate_count:"Agg: Antal",aggregate_sum:"Agg: Summa",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Genomsnitt",aggregate_remove:"Agg: Ta bort"},validate:{error:"Error:",minLength:"V\xE4rdet borde vara minst THRESHOLD tecken l\xE5ngt.",maxLength:"V\xE4rdet borde vara max THRESHOLD tecken l\xE5ngt.",required:"Ett v\xE4rde kr\xE4vs."}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ta",{aggregate:{label:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD"},groupPanel:{description:"\u0B92\u0BB0\u0BC1 \u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BC8 \u0B95\u0BC1\u0BB4\u0BC1\u0BB5\u0BBE\u0B95 \u0B85\u0BAE\u0BC8\u0B95\u0BCD\u0B95 \u0B85\u0BAA\u0BCD\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BBF\u0BA9\u0BCD \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC8 \u0B87\u0B99\u0BCD\u0B95\u0BC7  \u0B87\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1 \u0BB5\u0BB0\u0BB5\u0BC1\u0BAE\u0BCD "},search:{placeholder:"\u0BA4\u0BC7\u0B9F\u0BB2\u0BCD ...",showingItems:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BC8 \u0B95\u0BBE\u0BA3\u0BCD\u0BAA\u0BBF\u0BA4\u0BCD\u0BA4\u0BB2\u0BCD:",selectedItems:"\u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F  \u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD:",totalItems:"\u0BAE\u0BCA\u0BA4\u0BCD\u0BA4 \u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD:",size:"\u0BAA\u0B95\u0BCD\u0B95 \u0B85\u0BB3\u0BB5\u0BC1: ",first:"\u0BAE\u0BC1\u0BA4\u0BB2\u0BCD \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD",next:"\u0B85\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD",previous:"\u0BAE\u0BC1\u0BA8\u0BCD\u0BA4\u0BC8\u0BAF \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD ",last:"\u0B87\u0BB1\u0BC1\u0BA4\u0BBF \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD"},menu:{text:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0B95\u0BB3\u0BC8 \u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1:"},sort:{ascending:"\u0BAE\u0BC7\u0BB2\u0BBF\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4\u0BC1 \u0B95\u0BC0\u0BB4\u0BBE\u0B95",descending:"\u0B95\u0BC0\u0BB4\u0BBF\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4\u0BC1 \u0BAE\u0BC7\u0BB2\u0BBE\u0B95",remove:"\u0BB5\u0BB0\u0BBF\u0B9A\u0BC8\u0BAF\u0BC8 \u0BA8\u0BC0\u0B95\u0BCD\u0B95\u0BC1"},column:{hide:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BC8 \u0BAE\u0BB1\u0BC8\u0BA4\u0BCD\u0BA4\u0BC1 \u0BB5\u0BC8 "},aggregation:{count:"\u0BAE\u0BCA\u0BA4\u0BCD\u0BA4 \u0BB5\u0BB0\u0BBF\u0B95\u0BB3\u0BCD:",sum:"\u0BAE\u0BCA\u0BA4\u0BCD\u0BA4\u0BAE\u0BCD: ",avg:"\u0B9A\u0BB0\u0BBE\u0B9A\u0BB0\u0BBF: ",min:"\u0B95\u0BC1\u0BB1\u0BC8\u0BA8\u0BCD\u0BA4\u0BAA\u0B9F\u0BCD\u0B9A: ",max:"\u0B85\u0BA4\u0BBF\u0B95\u0BAA\u0B9F\u0BCD\u0B9A: "},pinning:{pinLeft:"\u0B87\u0B9F\u0BA4\u0BC1\u0BAA\u0BC1\u0BB1\u0BAE\u0BBE\u0B95 \u0BA4\u0BC8\u0B95\u0BCD\u0B95 ",pinRight:"\u0BB5\u0BB2\u0BA4\u0BC1\u0BAA\u0BC1\u0BB1\u0BAE\u0BBE\u0B95 \u0BA4\u0BC8\u0B95\u0BCD\u0B95",unpin:"\u0BAA\u0BBF\u0BB0\u0BBF"},gridMenu:{columns:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0B95\u0BB3\u0BCD:",importerTitle:"\u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BC1 : \u0BAA\u0B9F\u0BBF\u0BA4\u0BCD\u0BA4\u0BB2\u0BCD",exporterAllAsCsv:"\u0B8E\u0BB2\u0BCD\u0BB2\u0BBE \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8\u0BAF\u0BC1\u0BAE\u0BCD \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: csv",exporterVisibleAsCsv:"\u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95\u0BC1\u0BAE\u0BCD \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: csv",exporterSelectedAsCsv:"\u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: csv",exporterAllAsPdf:"\u0B8E\u0BB2\u0BCD\u0BB2\u0BBE \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8\u0BAF\u0BC1\u0BAE\u0BCD \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: pdf",exporterVisibleAsPdf:"\u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95\u0BC1\u0BAE\u0BCD \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: pdf",exporterSelectedAsPdf:"\u0BA4\u0BC7\u0BB0\u0BCD\u0BA8\u0BCD\u0BA4\u0BC6\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0BA4\u0BB0\u0BB5\u0BC1\u0B95\u0BB3\u0BC8 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBE\u0B95\u0BCD\u0B95\u0BC1: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"\u0BAA\u0BA4\u0BCD\u0BA4\u0BBF\u0BAF\u0BBF\u0BA9\u0BCD \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BC8 \u0BAA\u0BC6\u0BB1 \u0B87\u0BAF\u0BB2\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBF\u0BB1\u0BCD\u0B95\u0BC1 \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC1 \u0B89\u0BB3\u0BCD\u0BB3\u0BA4\u0BBE?",noObjects:"\u0B87\u0BB2\u0B95\u0BCD\u0B95\u0BC1\u0B95\u0BB3\u0BC8 \u0B89\u0BB0\u0BC1\u0BB5\u0BBE\u0B95\u0BCD\u0B95 \u0BAE\u0BC1\u0B9F\u0BBF\u0BAF\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBF\u0BB2\u0BCD \u0BA4\u0BB2\u0BC8\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BC8 \u0BA4\u0BB5\u0BBF\u0BB0 \u0BA4\u0BB0\u0BB5\u0BC1 \u0B8F\u0BA4\u0BC7\u0BA9\u0BC1\u0BAE\u0BCD \u0B89\u0BB3\u0BCD\u0BB3\u0BA4\u0BBE? ",invalidCsv:"\u0B9A\u0BB0\u0BBF\u0BB5\u0BB0 \u0BA8\u0B9F\u0BC8\u0BAE\u0BC1\u0BB1\u0BC8 \u0BAA\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0B87\u0BAF\u0BB2\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BC1 \u0B9A\u0BB0\u0BBF\u0BA4\u0BBE\u0BA9\u0BBE? - csv",invalidJson:"\u0B9A\u0BB0\u0BBF\u0BB5\u0BB0 \u0BA8\u0B9F\u0BC8\u0BAE\u0BC1\u0BB1\u0BC8 \u0BAA\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4 \u0B87\u0BAF\u0BB2\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8, \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BC1 \u0B9A\u0BB0\u0BBF\u0BA4\u0BBE\u0BA9\u0BBE? - json",jsonNotArray:"\u0BAA\u0B9F\u0BBF\u0BA4\u0BCD\u0BA4 \u0B95\u0BCB\u0BAA\u0BCD\u0BAA\u0BBF\u0BB2\u0BCD \u0BB5\u0BB0\u0BBF\u0B9A\u0BC8\u0B95\u0BB3\u0BCD \u0B89\u0BB3\u0BCD\u0BB3\u0BA4\u0BC1, \u0BA8\u0B9F\u0BC8\u0BAE\u0BC1\u0BB1\u0BC8 \u0BB0\u0BA4\u0BCD\u0BA4\u0BC1 \u0B9A\u0BC6\u0BAF\u0BCD : json"},pagination:{sizes:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD / \u0BAA\u0B95\u0BCD\u0B95\u0BAE\u0BCD",totalItems:"\u0B89\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0B9F\u0BBF\u0B95\u0BB3\u0BCD "},grouping:{group:"\u0B95\u0BC1\u0BB4\u0BC1",ungroup:"\u0BAA\u0BBF\u0BB0\u0BBF",aggregate_count:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B8E\u0BA3\u0BCD\u0BA3\u0BC1",aggregate_sum:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B95\u0BC2\u0B9F\u0BCD\u0B9F\u0BB2\u0BCD",aggregate_max:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B85\u0BA4\u0BBF\u0B95\u0BAA\u0B9F\u0BCD\u0B9A\u0BAE\u0BCD",aggregate_min:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B95\u0BC1\u0BB1\u0BC8\u0BA8\u0BCD\u0BA4\u0BAA\u0B9F\u0BCD\u0B9A\u0BAE\u0BCD",aggregate_avg:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0B9A\u0BB0\u0BBE\u0B9A\u0BB0\u0BBF",aggregate_remove:"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC0\u0B9F\u0BCD\u0B9F\u0BC1 : \u0BA8\u0BC0\u0B95\u0BCD\u0B95\u0BC1"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("tr",{headerCell:{aria:{defaultFilterLabel:"S\xFCtun i\xE7in filtre",removeFilter:"Filtreyi Kald\u0131r",columnMenuButtonLabel:"S\xFCtun Men\xFCs\xFC"},priority:"\xD6ncelik:",filterLabel:"S\xFCtun i\xE7in filtre: "},aggregate:{label:"kay\u0131tlar"},groupPanel:{description:"S\xFCtuna g\xF6re gruplamak i\xE7in s\xFCtun ba\u015Fl\u0131\u011F\u0131n\u0131 buraya s\xFCr\xFCkleyin ve b\u0131rak\u0131n."},search:{placeholder:"Arama...",showingItems:"G\xF6sterilen Kay\u0131t:",selectedItems:"Se\xE7ili Kay\u0131t:",totalItems:"Toplam Kay\u0131t:",size:"Sayfa Boyutu:",first:"\u0130lk Sayfa",next:"Sonraki Sayfa",previous:"\xD6nceki Sayfa",last:"Son Sayfa"},menu:{text:"S\xFCtunlar\u0131 Se\xE7:"},sort:{ascending:"Artan S\u0131rada S\u0131rala",descending:"Azalan S\u0131rada S\u0131rala",none:"S\u0131ralama Yapma",remove:"S\u0131ralamay\u0131 Kald\u0131r"},column:{hide:"S\xFCtunu Gizle"},aggregation:{count:"toplam sat\u0131r: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sa\u011Fa Sabitle",unpin:"Sabitlemeyi Kald\u0131r"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Men\xFC"},columns:"S\xFCtunlar:",importerTitle:"Dosya i\xE7eri aktar",exporterAllAsCsv:"B\xFCt\xFCn veriyi CSV olarak d\u0131\u015Far\u0131 aktar",exporterVisibleAsCsv:"G\xF6r\xFCnen veriyi CSV olarak d\u0131\u015Far\u0131 aktar",exporterSelectedAsCsv:"Se\xE7ili veriyi CSV olarak d\u0131\u015Far\u0131 aktar",exporterAllAsPdf:"B\xFCt\xFCn veriyi PDF olarak d\u0131\u015Far\u0131 aktar",exporterVisibleAsPdf:"G\xF6r\xFCnen veriyi PDF olarak d\u0131\u015Far\u0131 aktar",exporterSelectedAsPdf:"Se\xE7ili veriyi PDF olarak d\u0131\u015Far\u0131 aktar",clearAllFilters:"B\xFCt\xFCn filtreleri kald\u0131r"},importer:{noHeaders:"S\xFCtun isimleri \xFCretilemiyor, dosyan\u0131n bir ba\u015Fl\u0131\u011F\u0131 var m\u0131?",noObjects:"Nesneler \xFCretilemiyor, dosyada ba\u015Fl\u0131ktan ba\u015Fka bir veri var m\u0131?",invalidCsv:"Dosya i\u015Flenemedi, ge\xE7erli bir CSV dosyas\u0131 m\u0131?",invalidJson:"Dosya i\u015Flenemedi, ge\xE7erli bir Json dosyas\u0131 m\u0131?",jsonNotArray:"Al\u0131nan Json dosyas\u0131nda bir dizi bulunmal\u0131d\u0131r, i\u015Flem iptal ediliyor."},pagination:{aria:{pageToFirst:"\u0130lk sayfaya",pageBack:"Geri git",pageSelected:"Se\xE7ili sayfa",pageForward:"\u0130leri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne say\u0131s\u0131",totalItems:"kay\u0131tlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Say\u0131",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("ua",{headerCell:{aria:{defaultFilterLabel:"\u0424\u0456\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0430",removeFilter:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0444\u0456\u043B\u044C\u0442\u0440",columnMenuButtonLabel:"\u041C\u0435\u043D\u044E \u0441\u0442\u0432\u043F\u0447\u0438\u043A\u0430"},priority:"\u041F\u0440\u0456\u043E\u0440\u0438\u0442\u0435\u0442:",filterLabel:"\u0424\u0456\u043B\u044C\u0442\u0440 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0430: "},aggregate:{label:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"},groupPanel:{description:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0443\u0432\u0430\u043D\u043D\u044F \u0437\u0430 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u043E\u043C \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0441\u044E\u0434\u0438 \u0439\u043E\u0433\u043E \u043D\u0430\u0437\u0432\u0443."},search:{placeholder:"\u041F\u043E\u0448\u0443\u043A...",showingItems:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438:",selectedItems:"\u041E\u0431\u0440\u0430\u043D\u0456 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438:",totalItems:"\u0423\u0441\u044C\u043E\u0433\u043E \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432:",size:"\u0420\u043E\u0437\u043C\u0456\u0440 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438:",first:"\u041F\u0435\u0440\u0448\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",next:"\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",previous:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",last:"\u041E\u0441\u0442\u0430\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430"},menu:{text:"\u041E\u0431\u0440\u0430\u0442\u0438 \u0441\u0442\u0432\u043F\u0447\u0438\u043A\u0438:"},sort:{ascending:"\u0417\u0430 \u0437\u0440\u043E\u0441\u0442\u0430\u043D\u043D\u044F\u043C",descending:"\u0417\u0430 \u0441\u043F\u0430\u0434\u0430\u043D\u043D\u044F\u043C",none:"\u0411\u0435\u0437 \u0441\u043E\u0440\u0442\u0443\u0432\u0430\u043D\u043D\u044F",remove:"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438 \u0441\u043E\u0440\u0442\u0443\u0432\u0430\u043D\u043D\u044F"},column:{hide:"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A"},aggregation:{count:"\u0443\u0441\u044C\u043E\u0433\u043E \u0440\u044F\u0434\u043A\u0456\u0432: ",sum:"\u0456\u0442\u043E\u0433\u043E: ",avg:"\u0441\u0435\u0440\u0435\u0434\u043D\u0454: ",min:"\u043C\u0456\u043D: ",max:"\u043C\u0430\u043A\u0441: "},pinning:{pinLeft:"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438 \u043B\u0456\u0432\u043E\u0440\u0443\u0447",pinRight:"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438 \u043F\u0440\u0430\u0432\u043E\u0440\u0443\u0447",unpin:"\u0412\u0456\u0434\u043A\u0440\u0456\u043F\u0438\u0442\u0438"},columnMenu:{close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"},gridMenu:{aria:{buttonLabel:"\u041C\u0435\u043D\u044E"},columns:"\u0421\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0438:",importerTitle:"\u0406\u043C\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0444\u0430\u0439\u043B",exporterAllAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0435 \u0432 CSV",exporterVisibleAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0434\u0438\u043C\u0456 \u0434\u0430\u043D\u0456 \u0432 CSV",exporterSelectedAsCsv:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0456 \u0434\u0430\u043D\u0456 \u0432 CSV",exporterAllAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0435 \u0432 PDF",exporterVisibleAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0434\u0438\u043C\u0456 \u0434\u0430\u043D\u0456 \u0432 PDF",exporterSelectedAsPdf:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0456 \u0434\u0430\u043D\u0456 \u0432 PDF",clearAllFilters:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0432\u0441\u0456 \u0444\u0456\u043B\u044C\u0442\u0440\u0438"},importer:{noHeaders:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u043D\u0430\u0437\u0432\u0438 \u0441\u0442\u043E\u0432\u043F\u0447\u0438\u043A\u0456\u0432, \u0447\u0438 \u0454 \u0432 \u0444\u0430\u0439\u043B\u0456 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A?",noObjects:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u0434\u0430\u043D\u0456, \u0447\u0438 \u0454 \u0432 \u0444\u0430\u0439\u043B\u0456 \u0440\u044F\u0434\u043A\u0438 \u043E\u043A\u0440\u0456\u043C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430?",invalidCsv:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0431\u0440\u043E\u0431\u0438\u0442\u0438 \u0444\u0430\u0439\u043B, \u0447\u0438 \u0446\u0435 \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 CSV-\u0444\u0430\u0439\u043B?",invalidJson:"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0431\u0440\u043E\u0431\u0438\u0442\u0438 \u0444\u0430\u0439\u043B, \u0447\u0438 \u0446\u0435 \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 JSON?",jsonNotArray:"JSON-\u0444\u0430\u0439\u043B \u0449\u043E \u0456\u043C\u043F\u043E\u0440\u0442\u0443\u0454\u0442\u044C\u0441\u044F \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043C\u0430\u0441\u0438\u0432, \u043E\u043F\u0435\u0440\u0430\u0446\u0456\u044E \u0441\u043A\u0430\u0441\u043E\u0432\u0430\u043D\u043E."},pagination:{aria:{pageToFirst:"\u041F\u0435\u0440\u0448\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageBack:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageSelected:"\u041E\u0431\u0440\u0430\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageForward:"\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",pageToLast:"\u041E\u0441\u0442\u0430\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430"},sizes:"\u0440\u044F\u0434\u043A\u0456\u0432 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",totalItems:"\u0440\u044F\u0434\u043A\u0456\u0432",through:"\u043F\u043E",of:"\u0437"},grouping:{group:"\u0413\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",ungroup:"\u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",aggregate_count:"\u0413\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438: \u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C",aggregate_sum:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u0421\u0443\u043C\u0430",aggregate_max:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C",aggregate_min:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u041C\u0456\u043D\u0456\u043C\u0443\u043C",aggregate_avg:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u0421\u0435\u0440\u0434\u043D\u0454",aggregate_remove:"\u0414\u043B\u044F \u0433\u0440\u0443\u043F\u0438: \u041F\u0443\u0441\u0442\u043E"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"\u5217\u8FC7\u6EE4\u5668",removeFilter:"\u79FB\u9664\u8FC7\u6EE4\u5668",columnMenuButtonLabel:"\u5217\u83DC\u5355"},priority:"\u4F18\u5148\u7EA7:",filterLabel:"\u5217\u8FC7\u6EE4\u5668: "},aggregate:{label:"\u884C"},groupPanel:{description:"\u62D6\u66F3\u8868\u5934\u5230\u6B64\u5904\u8FDB\u884C\u5206\u7EC4"},search:{placeholder:"\u67E5\u627E",showingItems:"\u5DF2\u663E\u793A\u884C\u6570\uFF1A",selectedItems:"\u5DF2\u9009\u62E9\u884C\u6570\uFF1A",totalItems:"\u603B\u884C\u6570\uFF1A",size:"\u6BCF\u9875\u663E\u793A\u884C\u6570\uFF1A",first:"\u9996\u9875",next:"\u4E0B\u4E00\u9875",previous:"\u4E0A\u4E00\u9875",last:"\u672B\u9875"},menu:{text:"\u9009\u62E9\u5217\uFF1A"},sort:{ascending:"\u5347\u5E8F",descending:"\u964D\u5E8F",none:"\u65E0\u5E8F",remove:"\u53D6\u6D88\u6392\u5E8F"},column:{hide:"\u9690\u85CF\u5217"},aggregation:{count:"\u8BA1\u6570\uFF1A",sum:"\u6C42\u548C\uFF1A",avg:"\u5747\u503C\uFF1A",min:"\u6700\u5C0F\u503C\uFF1A",max:"\u6700\u5927\u503C\uFF1A"},pinning:{pinLeft:"\u5DE6\u4FA7\u56FA\u5B9A",pinRight:"\u53F3\u4FA7\u56FA\u5B9A",unpin:"\u53D6\u6D88\u56FA\u5B9A"},columnMenu:{close:"\u5173\u95ED"},gridMenu:{aria:{buttonLabel:"\u8868\u683C\u83DC\u5355"},columns:"\u5217\uFF1A",importerTitle:"\u5BFC\u5165\u6587\u4EF6",exporterAllAsCsv:"\u5BFC\u51FA\u5168\u90E8\u6570\u636E\u5230CSV",exporterVisibleAsCsv:"\u5BFC\u51FA\u53EF\u89C1\u6570\u636E\u5230CSV",exporterSelectedAsCsv:"\u5BFC\u51FA\u5DF2\u9009\u6570\u636E\u5230CSV",exporterAllAsPdf:"\u5BFC\u51FA\u5168\u90E8\u6570\u636E\u5230PDF",exporterVisibleAsPdf:"\u5BFC\u51FA\u53EF\u89C1\u6570\u636E\u5230PDF",exporterSelectedAsPdf:"\u5BFC\u51FA\u5DF2\u9009\u6570\u636E\u5230PDF",clearAllFilters:"\u6E05\u9664\u6240\u6709\u8FC7\u6EE4\u5668"},importer:{noHeaders:"\u65E0\u6CD5\u83B7\u53D6\u5217\u540D\uFF0C\u786E\u5B9A\u6587\u4EF6\u5305\u542B\u8868\u5934\uFF1F",noObjects:"\u65E0\u6CD5\u83B7\u53D6\u6570\u636E\uFF0C\u786E\u5B9A\u6587\u4EF6\u5305\u542B\u6570\u636E\uFF1F",invalidCsv:"\u65E0\u6CD5\u5904\u7406\u6587\u4EF6\uFF0C\u786E\u5B9A\u662F\u5408\u6CD5\u7684CSV\u6587\u4EF6\uFF1F",invalidJson:"\u65E0\u6CD5\u5904\u7406\u6587\u4EF6\uFF0C\u786E\u5B9A\u662F\u5408\u6CD5\u7684JSON\u6587\u4EF6\uFF1F",jsonNotArray:"\u5BFC\u5165\u7684\u6587\u4EF6\u4E0D\u662FJSON\u6570\u7EC4\uFF01"},pagination:{aria:{pageToFirst:"\u7B2C\u4E00\u9875",pageBack:"\u4E0A\u4E00\u9875",pageSelected:"\u5F53\u524D\u9875",pageForward:"\u4E0B\u4E00\u9875",pageToLast:"\u6700\u540E\u4E00\u9875"},sizes:"\u884C\u6BCF\u9875",totalItems:"\u884C",through:"\u81F3",of:"\u5171"},grouping:{group:"\u5206\u7EC4",ungroup:"\u53D6\u6D88\u5206\u7EC4",aggregate_count:"\u5408\u8BA1: \u8BA1\u6570",aggregate_sum:"\u5408\u8BA1: \u6C42\u548C",aggregate_max:"\u5408\u8BA1: \u6700\u5927",aggregate_min:"\u5408\u8BA1: \u6700\u5C0F",aggregate_avg:"\u5408\u8BA1: \u5E73\u5747",aggregate_remove:"\u5408\u8BA1: \u79FB\u9664"}}),Q}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(we){we.decorator("i18nService",["$delegate",function(Q){return Q.add("zh-tw",{aggregate:{label:"\u884C"},groupPanel:{description:"\u62D6\u66F3\u8868\u982D\u5230\u6B64\u8655\u9032\u884C\u5206\u7D44"},search:{placeholder:"\u67E5\u627E",showingItems:"\u5DF2\u986F\u793A\u884C\u6578\uFF1A",selectedItems:"\u5DF2\u9078\u64C7\u884C\u6578\uFF1A",totalItems:"\u7E3D\u884C\u6578\uFF1A",size:"\u6BCF\u9801\u986F\u793A\u884C\u6578\uFF1A",first:"\u9996\u9801",next:"\u4E0B\u58F9\u9801",previous:"\u4E0A\u58F9\u9801",last:"\u672B\u9801"},menu:{text:"\u9078\u64C7\u5217\uFF1A"},sort:{ascending:"\u5347\u5E8F",descending:"\u964D\u5E8F",remove:"\u53D6\u6D88\u6392\u5E8F"},column:{hide:"\u96B1\u85CF\u5217"},aggregation:{count:"\u8A08\u6578\uFF1A",sum:"\u6C42\u548C\uFF1A",avg:"\u5747\u503C\uFF1A",min:"\u6700\u5C0F\u503C\uFF1A",max:"\u6700\u5927\u503C\uFF1A"},pinning:{pinLeft:"\u5DE6\u5074\u56FA\u5B9A",pinRight:"\u53F3\u5074\u56FA\u5B9A",unpin:"\u53D6\u6D88\u56FA\u5B9A"},gridMenu:{columns:"\u5217\uFF1A",importerTitle:"\u5C0E\u5165\u6587\u4EF6",exporterAllAsCsv:"\u5C0E\u51FA\u5168\u90E8\u6578\u64DA\u5230CSV",exporterVisibleAsCsv:"\u5C0E\u51FA\u53EF\u898B\u6578\u64DA\u5230CSV",exporterSelectedAsCsv:"\u5C0E\u51FA\u5DF2\u9078\u6578\u64DA\u5230CSV",exporterAllAsPdf:"\u5C0E\u51FA\u5168\u90E8\u6578\u64DA\u5230PDF",exporterVisibleAsPdf:"\u5C0E\u51FA\u53EF\u898B\u6578\u64DA\u5230PDF",exporterSelectedAsPdf:"\u5C0E\u51FA\u5DF2\u9078\u6578\u64DA\u5230PDF",clearAllFilters:"\u6E05\u9664\u6240\u6709\u8FC7\u6EE4\u5668"},importer:{noHeaders:"\u7121\u6CD5\u7372\u53D6\u5217\u540D\uFF0C\u78BA\u5B9A\u6587\u4EF6\u5305\u542B\u8868\u982D\uFF1F",noObjects:"\u7121\u6CD5\u7372\u53D6\u6578\u64DA\uFF0C\u78BA\u5B9A\u6587\u4EF6\u5305\u542B\u6578\u64DA\uFF1F",invalidCsv:"\u7121\u6CD5\u8655\u7406\u6587\u4EF6\uFF0C\u78BA\u5B9A\u662F\u5408\u6CD5\u7684CSV\u6587\u4EF6\uFF1F",invalidJson:"\u7121\u6CD5\u8655\u7406\u6587\u4EF6\uFF0C\u78BA\u5B9A\u662F\u5408\u6CD5\u7684JSON\u6587\u4EF6\uFF1F",jsonNotArray:"\u5C0E\u5165\u7684\u6587\u4EF6\u4E0D\u662FJSON\u6578\u7D44\uFF01"},pagination:{sizes:"\u884C\u6BCF\u9801",totalItems:"\u884C"}}),Q}])}])})();(function(){"use strict";var we=angular.module("ui.grid.importer",["ui.grid"]);we.constant("uiGridImporterConstants",{featureName:"importer"}),we.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(Q,k,O,I,D,T,_,x){var d={initializeGrid:function(M,g){g.importer={$scope:M},this.defaultGridOptions(g.options);var F={events:{importer:{}},methods:{importer:{importFile:function(N){d.importThisFile(g,N)}}}};g.api.registerEventsFromObject(F.events),g.api.registerMethodsFromObject(F.methods),g.options.enableImporter&&g.options.importerShowMenu&&(g.api.core.addToGridMenu?d.addToMenu(g):T(function(){g.api.core.addToGridMenu&&d.addToMenu(g)},100,1))},defaultGridOptions:function(M){M.enableImporter||M.enableImporter===void 0?x.hasOwnProperty("File")&&x.hasOwnProperty("FileReader")&&x.hasOwnProperty("FileList")&&x.hasOwnProperty("Blob")?M.enableImporter=!0:(I.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),M.enableImporter=!1):M.enableImporter=!1,M.importerProcessHeaders=M.importerProcessHeaders||d.processHeaders,M.importerHeaderFilter=M.importerHeaderFilter||function(g){return g},(!M.importerErrorCallback||typeof M.importerErrorCallback!="function")&&delete M.importerErrorCallback,M.enableImporter===!0&&!M.importerDataAddCallback&&(I.logError("You have not set an importerDataAddCallback, importer is disabled"),M.enableImporter=!1),M.importerShowMenu=M.importerShowMenu!==!1,M.importerObjectCallback=M.importerObjectCallback||function(g,F){return F}},addToMenu:function(M){M.api.core.addToGridMenu(M,[{title:_.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(M)},order:151}])},importThisFile:function(M,g){if(!g){I.logError("No file object provided to importThisFile, should be impossible, aborting");return}var F=new FileReader;switch(g.type){case"application/json":F.onload=d.importJsonClosure(M);break;default:F.onload=d.importCsvClosure(M);break}F.readAsText(g)},importJsonClosure:function(M){return function(g){var F=[],N,J=d.parseJson(M,g);J!==null&&(J.forEach(function(pe){N=d.newObject(M),angular.extend(N,pe),N=M.options.importerObjectCallback(M,N),F.push(N)}),d.addObjects(M,F))}},parseJson:function(M,g){var F;try{F=JSON.parse(g.target.result)}catch{d.alertError(M,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",g.target.result);return}return Array.isArray(F)?F:(d.alertError(M,"importer.jsonNotarray","Import failed, file is not an array, file was: ",g.target.result),[])},importCsvClosure:function(M){return function(g){var F=d.parseCsv(g);if(!F||F.length<1){d.alertError(M,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",g.target.result);return}var N=d.createCsvObjects(M,F);if(!N||N.length===0){d.alertError(M,"importer.noObjects","Objects were not able to be derived, content was: ",g.target.result);return}d.addObjects(M,N)}},parseCsv:function(M){var g=M.target.result;return CSV.parse(g)},createCsvObjects:function(M,g){var F=M.options.importerProcessHeaders(M,g.shift());if(!F||F.length===0)return d.alertError(M,"importer.noHeaders","Column names could not be derived, content was: ",g),[];var N=[],J;return g.forEach(function(pe){J=d.newObject(M),pe!==null&&pe.forEach(function(m,U){F[U]!==null&&(J[F[U]]=m)}),J=M.options.importerObjectCallback(M,J),N.push(J)}),N},processHeaders:function(M,g){var F=[];if(!M.options.columnDefs||M.options.columnDefs.length===0)return g.forEach(function(J){F.push(J.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),F;var N=d.flattenColumnDefs(M,M.options.columnDefs);return g.forEach(function(J){N[J]?F.push(N[J]):N[J.toLowerCase()]?F.push(N[J.toLowerCase()]):F.push(null)}),F},flattenColumnDefs:function(M,g){var F={};return g.forEach(function(N){N.name&&(F[N.name]=N.field||N.name,F[N.name.toLowerCase()]=N.field||N.name),N.field&&(F[N.field]=N.field||N.name,F[N.field.toLowerCase()]=N.field||N.name),N.displayName&&(F[N.displayName]=N.field||N.name,F[N.displayName.toLowerCase()]=N.field||N.name),N.displayName&&M.options.importerHeaderFilter&&(F[M.options.importerHeaderFilter(N.displayName)]=N.field||N.name,F[M.options.importerHeaderFilter(N.displayName).toLowerCase()]=N.field||N.name)}),F},addObjects:function(M,g){if(M.api.rowEdit){var F=M.registerDataChangeCallback(function(){M.api.rowEdit.setRowsDirty(g),F()},[k.dataChange.ROW]);M.importer.$scope.$on("$destroy",F)}M.importer.$scope.$apply(M.options.importerDataAddCallback(M,g))},newObject:function(M){return typeof M.options!="undefined"&&typeof M.options.importerNewObject!="undefined"?new M.options.importerNewObject:{}},alertError:function(M,g,F,N){M.options.importerErrorCallback?M.options.importerErrorCallback(M,g,F,N):(x.alert(_.getSafeText(g)),I.logError(F+N))}};return d}]),we.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(Q,k,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(D,T,_,x){k.initializeGrid(D,x.grid)}}}]),we.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(Q,k,O,I){return{replace:!0,priority:0,require:"?^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(D,T,_,x){var d;function M(F){var N=F.srcElement||F.target;if(N&&N.files&&N.files.length===1){var J=N.files[0];typeof x!="undefined"&&x?(d=x.grid,k.importThisFile(d,J),N.form.reset()):O.logError("Could not import file because UI Grid was not found.")}}var g=T[0].querySelectorAll(".ui-grid-importer-file-chooser");g.length!==1?O.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):g[0].addEventListener("change",M,!1)}}}])})();(function(){"use strict";var we=angular.module("ui.grid.infiniteScroll",["ui.grid"]);we.service("uiGridInfiniteScrollService",["gridUtil","$compile","$rootScope","uiGridConstants","ScrollEvent","$q",function(Q,k,O,I,D,T){var _={initializeGrid:function(x,d){if(_.defaultGridOptions(x.options),!!x.options.enableInfiniteScroll){x.infiniteScroll={dataLoading:!1},_.setScrollDirections(x,x.options.infiniteScrollUp,x.options.infiniteScrollDown),x.api.core.on.scrollEnd(d,_.handleScroll);var M={events:{infiniteScroll:{needLoadMoreData:function(g,F){},needLoadMoreDataTop:function(g,F){}}},methods:{infiniteScroll:{dataLoaded:function(g,F){return _.setScrollDirections(x,g,F),_.adjustScroll(x).then(function(){x.infiniteScroll.dataLoading=!1})},resetScroll:function(g,F){_.setScrollDirections(x,g,F),_.adjustInfiniteScrollPosition(x,0)},saveScrollPercentage:function(){x.infiniteScroll.prevScrollTop=x.renderContainers.body.prevScrollTop,x.infiniteScroll.previousVisibleRows=x.getVisibleRowCount()},dataRemovedTop:function(g,F){_.dataRemovedTop(x,g,F)},dataRemovedBottom:function(g,F){_.dataRemovedBottom(x,g,F)},setScrollDirections:function(g,F){_.setScrollDirections(x,g,F)}}}};x.api.registerEventsFromObject(M.events),x.api.registerMethodsFromObject(M.methods)}},defaultGridOptions:function(x){x.enableInfiniteScroll=x.enableInfiniteScroll!==!1,x.infiniteScrollRowsFromEnd=x.infiniteScrollRowsFromEnd||20,x.infiniteScrollUp=x.infiniteScrollUp===!0,x.infiniteScrollDown=x.infiniteScrollDown!==!1},setScrollDirections:function(x,d,M){x.infiniteScroll.scrollUp=d===!0,x.suppressParentScrollUp=d===!0,x.infiniteScroll.scrollDown=M!==!1,x.suppressParentScrollDown=M!==!1},handleScroll:function(x){if(!(x.grid.infiniteScroll&&x.grid.infiniteScroll.dataLoading||x.source==="ui.grid.adjustInfiniteScrollPosition")&&x.y)if(x.y.percentage===0)x.grid.scrollDirection=I.scrollDirection.UP,_.loadData(x.grid);else if(x.y.percentage===1)x.grid.scrollDirection=I.scrollDirection.DOWN,_.loadData(x.grid);else{var d,M=x.grid.options.infiniteScrollRowsFromEnd/x.grid.renderContainers.body.visibleRowCache.length;x.grid.scrollDirection===I.scrollDirection.UP?(d=x.y.percentage,d<=M&&_.loadData(x.grid)):x.grid.scrollDirection===I.scrollDirection.DOWN&&(d=1-x.y.percentage,d<=M&&_.loadData(x.grid))}},loadData:function(x){if(x.infiniteScroll.previousVisibleRows=x.renderContainers.body.visibleRowCache.length,x.infiniteScroll.direction=x.scrollDirection,delete x.infiniteScroll.prevScrollTop,x.scrollDirection===I.scrollDirection.UP&&x.infiniteScroll.scrollUp)x.infiniteScroll.dataLoading=!0,x.api.infiniteScroll.raise.needLoadMoreDataTop();else if(x.scrollDirection===I.scrollDirection.DOWN&&x.infiniteScroll.scrollDown){if(x.cellNav&&x.cellNav.lastRowCol&&x.cellNav.lastRowCol.row.index===x.infiniteScroll.previousVisibleRows-1)return;x.infiniteScroll.dataLoading=!0,x.api.infiniteScroll.raise.needLoadMoreData()}},adjustScroll:function(x){var d=T.defer();return O.$applyAsync(function(){var M,g,F,N,J;M=x.getViewportHeight()+x.headerHeight-x.renderContainers.body.headerHeight-x.scrollbarHeight,g=x.options.rowHeight,x.infiniteScroll.direction===void 0&&_.adjustInfiniteScrollPosition(x,0),F=x.getVisibleRowCount();var pe=g*F;x.infiniteScroll.scrollDown&&M>pe&&x.api.infiniteScroll.raise.needLoadMoreData(),x.infiniteScroll.direction===I.scrollDirection.UP&&(N=x.infiniteScroll.prevScrollTop||0,J=N+(F-x.infiniteScroll.previousVisibleRows)*g,_.adjustInfiniteScrollPosition(x,J),O.$applyAsync(function(){d.resolve()})),x.infiniteScroll.direction===I.scrollDirection.DOWN&&(J=x.infiniteScroll.prevScrollTop||x.infiniteScroll.previousVisibleRows*g-M,_.adjustInfiniteScrollPosition(x,J),O.$applyAsync(function(){d.resolve()}))},0),d.promise},adjustInfiniteScrollPosition:function(x,d){var M=new D(x,null,null,"ui.grid.adjustInfiniteScrollPosition"),g=x.getVisibleRowCount(),F=x.getViewportHeight()+x.headerHeight-x.renderContainers.body.headerHeight-x.scrollbarHeight,N=x.options.rowHeight,J=g*N-F;d===0&&x.infiniteScroll.scrollUp?M.y={pixels:1}:M.y={percentage:d/J},x.scrollContainers("",M)},dataRemovedTop:function(x,d,M){var g,F,N,J;_.setScrollDirections(x,d,M),g=x.renderContainers.body.visibleRowCache.length,F=x.infiniteScroll.prevScrollTop,J=x.options.rowHeight,N=F-(x.infiniteScroll.previousVisibleRows-g)*J,_.adjustInfiniteScrollPosition(x,N)},dataRemovedBottom:function(x,d,M){var g;_.setScrollDirections(x,d,M),g=x.infiniteScroll.prevScrollTop,_.adjustInfiniteScrollPosition(x,g)}};return _}]),we.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(Q){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(k,O,I,D){Q.initializeGrid(D.grid,k)},post:function(k,O,I){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.moveColumns",["ui.grid"]);we.service("uiGridMoveColumnService",["$q","$rootScope","$log","ScrollEvent","uiGridConstants","gridUtil",function(Q,k,O,I,D,T){var _={initializeGrid:function(x){var d=this;this.registerPublicApi(x),this.defaultGridOptions(x.options),x.moveColumns={orderCache:[]},x.registerColumnBuilder(d.movableColumnBuilder),x.registerDataChangeCallback(d.verifyColumnOrder,[D.dataChange.COLUMN])},registerPublicApi:function(x){var d=this,M={events:{colMovable:{columnPositionChanged:function(g,F,N){}}},methods:{colMovable:{moveColumn:function(g,F){var N=x.columns;if(!angular.isNumber(g)||!angular.isNumber(F)){T.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");return}for(var J=0,pe=0;pe<N.length;pe++)(angular.isDefined(N[pe].colDef.visible)&&N[pe].colDef.visible===!1||N[pe].isRowHeader===!0)&&J++;if(g>=N.length-J||F>=N.length-J){T.logError("MoveColumn: Invalid values for originalPosition, finalPosition");return}var m=function(U){for(var A=U,p=0;p<=A;p++)angular.isDefined(N[p])&&(angular.isDefined(N[p].colDef.visible)&&N[p].colDef.visible===!1||N[p].isRowHeader===!0)&&A++;return A};d.redrawColumnAtPosition(x,m(g),m(F))}}}};x.api.registerEventsFromObject(M.events),x.api.registerMethodsFromObject(M.methods)},defaultGridOptions:function(x){x.enableColumnMoving=x.enableColumnMoving!==!1},movableColumnBuilder:function(x,d,M){var g=[];return x.enableColumnMoving=x.enableColumnMoving===void 0?M.enableColumnMoving:x.enableColumnMoving,Q.all(g)},updateColumnCache:function(x){x.moveColumns.orderCache=x.getOnlyDataColumns()},verifyColumnOrder:function(x){var d=x.rowHeaderColumns.length,M;angular.forEach(x.moveColumns.orderCache,function(g,F){if(M=x.columns.indexOf(g),M!==-1&&M-d!==F){var N=x.columns.splice(M,1)[0];x.columns.splice(F+d,0,N)}})},redrawColumnAtPosition:function(x,d,M){var g=x.columns;if(d!==M){var F=d<M?d+1:d-1,N=Math.min(F,M);for(N;N<=Math.max(F,M)&&!g[N].visible;N++);if(!(N>Math.max(F,M))){var J=g[d];if(J.colDef.enableColumnMoving){if(d>M)for(var pe=d;pe>M;pe--)g[pe]=g[pe-1];else if(M>d)for(var m=d;m<M;m++)g[m]=g[m+1];g[M]=J,_.updateColumnCache(x),x.queueGridRefresh(),k.$applyAsync(function(){x.api.core.notifyDataChange(D.dataChange.COLUMN),x.api.colMovable.raise.columnPositionChanged(J.colDef,d,M)})}}}}};return _}]),we.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(Q){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(k,O,I,D){Q.initializeGrid(D.grid)},post:function(k,O,I,D){}}}}}]),we.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(Q,k,O,I,D,T,_){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(x,d,M,g){if(x.col.colDef.enableColumnMoving){var F=angular.element(d[0].querySelectorAll(".ui-grid-cell-contents")),N,J,pe,m,U=!1,A,p,w=!1,v=function(s){N=x.grid.element[0].getBoundingClientRect().left,x.grid.hasLeftContainer()&&(N+=x.grid.renderContainers.left.header[0].getBoundingClientRect().width),J=s.pageX||(s.originalEvent?s.originalEvent.pageX:0),pe=0,m=N+x.grid.getViewportWidth(),s.type==="mousedown"?(I.on("mousemove",h),I.on("mouseup",e)):s.type==="touchstart"&&(I.on("touchmove",h),I.on("touchend",e))},h=function(s){var t=s.pageX||(s.originalEvent?s.originalEvent.pageX:0),r=t-J;r!==0&&(document.onselectstart=function(){return!1},w=!0,U?U&&(u(r),J=t):c())},e=function(s){if(document.onselectstart=null,A&&(A.remove(),U=!1),i(),o(),!!w){for(var t=x.grid.columns,r=0,a=0;a<t.length&&t[a].colDef.name!==x.col.colDef.name;a++)r++;var l;if(pe<0){var f=0,b;if(x.grid.isRTL()){for(b=r+1;b<t.length;b++)if((angular.isUndefined(t[b].colDef.visible)||t[b].colDef.visible===!0)&&(f+=t[b].drawnWidth||t[b].width||t[b].colDef.width,f>Math.abs(pe))){O.redrawColumnAtPosition(x.grid,r,b-1);break}}else for(b=r-1;b>=0;b--)if((angular.isUndefined(t[b].colDef.visible)||t[b].colDef.visible===!0)&&(f+=t[b].drawnWidth||t[b].width||t[b].colDef.width,f>Math.abs(pe))){O.redrawColumnAtPosition(x.grid,r,b+1);break}f<Math.abs(pe)&&(l=0,x.grid.isRTL()&&(l=t.length-1),O.redrawColumnAtPosition(x.grid,r,l))}else if(pe>0){var C=0,$;if(x.grid.isRTL()){for($=r-1;$>0;$--)if((angular.isUndefined(t[$].colDef.visible)||t[$].colDef.visible===!0)&&(C+=t[$].drawnWidth||t[$].width||t[$].colDef.width,C>pe)){O.redrawColumnAtPosition(x.grid,r,$);break}}else for($=r+1;$<t.length;$++)if((angular.isUndefined(t[$].colDef.visible)||t[$].colDef.visible===!0)&&(C+=t[$].drawnWidth||t[$].width||t[$].colDef.width,C>pe)){O.redrawColumnAtPosition(x.grid,r,$-1);break}C<pe&&(l=t.length-1,x.grid.isRTL()&&(l=0),O.redrawColumnAtPosition(x.grid,r,l))}}},o=function(){F.on("touchstart",v),F.on("mousedown",v)},i=function(){F.off("touchstart",v),F.off("mousedown",v),I.off("mousemove",h),I.off("touchmove",h),I.off("mouseup",e),I.off("touchend",e)};o();var c=function(){U=!0,A=d.clone(),d.parent().append(A),A.addClass("movingColumn");var s={};s.left=d[0].offsetLeft+"px";var t=x.grid.element[0].getBoundingClientRect().right,r=d[0].getBoundingClientRect().right;r>t&&(p=x.col.drawnWidth+(t-r),s.width=p+"px"),A.css(s)},u=function(s){for(var t=x.grid.columns,r=0,a=0;a<t.length;a++)(angular.isUndefined(t[a].colDef.visible)||t[a].colDef.visible===!0)&&(r+=t[a].drawnWidth||t[a].width||t[a].colDef.width);var l=A[0].getBoundingClientRect().left-1,f=A[0].getBoundingClientRect().right,b;if(b=l-N+s,b=b<m?b:m,(l>=N||s>0)&&(f<=m||s<0))A.css({visibility:"visible",left:A[0].offsetLeft+(b<m?s:m-l)+"px"});else if(r>Math.ceil(g.grid.gridWidth)){s*=8;var C=new _(x.col.grid,null,null,"uiGridHeaderCell.moveElement");C.x={pixels:s},C.grid.scrollContainers("",C)}for(var $=0,W=0;W<t.length;W++)if(angular.isUndefined(t[W].colDef.visible)||t[W].colDef.visible===!0)if(t[W].colDef.name!==x.col.colDef.name)$+=t[W].drawnWidth||t[W].width||t[W].colDef.width;else break;x.newScrollLeft===void 0?pe+=s:pe=x.newScrollLeft+b-$,p<x.col.drawnWidth&&(p+=Math.abs(s),A.css({width:p+"px"}))};x.$on("$destroy",i)}}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.pagination",["ng","ui.grid"]);we.service("uiGridPaginationService",["gridUtil",function(Q){var k={initializeGrid:function(O){k.defaultGridOptions(O.options);var I={events:{pagination:{paginationChanged:function(T,_){}}},methods:{pagination:{getPage:function(){return O.options.enablePagination?O.options.paginationCurrentPage:null},getFirstRowIndex:function(){return O.options.useCustomPagination?O.options.paginationPageSizes.reduce(function(T,_,x){return x<O.options.paginationCurrentPage-1?T+_:T},0):(O.options.paginationCurrentPage-1)*O.options.paginationPageSize},getLastRowIndex:function(){return O.options.useCustomPagination?I.methods.pagination.getFirstRowIndex()+O.options.paginationPageSizes[O.options.paginationCurrentPage-1]-1:Math.min(O.options.paginationCurrentPage*O.options.paginationPageSize,O.options.totalItems)-1},getTotalPages:function(){return O.options.enablePagination?O.options.useCustomPagination?O.options.paginationPageSizes.length:O.options.totalItems===0?1:Math.ceil(O.options.totalItems/O.options.paginationPageSize):null},nextPage:function(){O.options.enablePagination&&(O.options.totalItems>0?O.options.paginationCurrentPage=Math.min(O.options.paginationCurrentPage+1,I.methods.pagination.getTotalPages()):O.options.paginationCurrentPage++)},previousPage:function(){O.options.enablePagination&&(O.options.paginationCurrentPage=Math.max(O.options.paginationCurrentPage-1,1))},seek:function(T){if(O.options.enablePagination){if(!angular.isNumber(T)||T<1)throw"Invalid page number: "+T;O.options.paginationCurrentPage=Math.min(T,I.methods.pagination.getTotalPages())}}}}};O.api.registerEventsFromObject(I.events),O.api.registerMethodsFromObject(I.methods);var D=function(T){if(O.options.useExternalPagination||!O.options.enablePagination)return T;var _=parseInt(O.options.paginationPageSize,10),x=parseInt(O.options.paginationCurrentPage,10),d=T.filter(function(F){return F.visible});O.options.totalItems=d.length;var M=I.methods.pagination.getFirstRowIndex(),g=I.methods.pagination.getLastRowIndex();return M>d.length&&(x=O.options.paginationCurrentPage=1,M=(x-1)*_),d.slice(M,g+1)};O.registerRowsProcessor(D,900)},defaultGridOptions:function(O){O.enablePagination=O.enablePagination!==!1,O.enablePaginationControls=O.enablePaginationControls!==!1,O.useExternalPagination=O.useExternalPagination===!0,O.useCustomPagination=O.useCustomPagination===!0,Q.isNullOrUndefined(O.totalItems)&&(O.totalItems=0),Q.isNullOrUndefined(O.paginationPageSizes)&&(O.paginationPageSizes=[250,500,1e3]),Q.isNullOrUndefined(O.paginationPageSize)&&(O.paginationPageSizes.length>0?O.paginationPageSize=O.paginationPageSizes[0]:O.paginationPageSize=0),Q.isNullOrUndefined(O.paginationCurrentPage)&&(O.paginationCurrentPage=1),Q.isNullOrUndefined(O.paginationTemplate)&&(O.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(O,I,D){O.api.pagination.raise.paginationChanged(I,D),O.options.useExternalPagination||O.queueGridRefresh()}};return k}]),we.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(Q,k){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(O,I,D,T){k.initializeGrid(T.grid),Q.getTemplate(T.grid.options.paginationTemplate).then(function(_){var x=angular.element(_);I.append(x),T.innerCompile(x)})}}}}]),we.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService","i18nConstants",function(Q,k,O,I,D){return{priority:-200,scope:!0,require:"^uiGrid",link:function(T,_,x,d){var M=".ui-grid-pager-control-input";T.aria=I.getSafeText("pagination.aria");var g=function(){T.paginationApi=d.grid.api.pagination,T.sizesLabel=I.getSafeText("pagination.sizes"),T.totalItemsLabel=I.getSafeText("pagination.totalItems"),T.paginationOf=I.getSafeText("pagination.of"),T.paginationThrough=I.getSafeText("pagination.through")};g(),T.$on(D.UPDATE_EVENT,g);var F=d.grid.options;d.grid.renderContainers.body.registerViewportAdjuster(function(m){return F.enablePaginationControls&&(m.height=m.height-O.elementHeight(_,"padding")),m});var N=d.grid.registerDataChangeCallback(function(m){m.options.useExternalPagination||(m.options.totalItems=m.rows.length)},[k.dataChange.ROW]);T.$on("$destroy",N);var J=T.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(m,U){if(!(m===U||U===void 0)){if(!angular.isNumber(F.paginationCurrentPage)||F.paginationCurrentPage<1){F.paginationCurrentPage=1;return}if(F.totalItems>0&&F.paginationCurrentPage>T.paginationApi.getTotalPages()){F.paginationCurrentPage=T.paginationApi.getTotalPages();return}Q.onPaginationChanged(T.grid,F.paginationCurrentPage,F.paginationPageSize)}});T.$on("$destroy",function(){J()}),T.cantPageForward=function(){return T.paginationApi.getTotalPages()?T.cantPageToLast():F.data.length<1},T.cantPageToLast=function(){var m=T.paginationApi.getTotalPages();return!m||F.paginationCurrentPage>=m},T.cantPageBackward=function(){return F.paginationCurrentPage<=1};var pe=function(m){m&&O.focus.bySelector(_,M)};T.pageFirstPageClick=function(){T.paginationApi.seek(1),pe(T.cantPageBackward())},T.pagePreviousPageClick=function(){T.paginationApi.previousPage(),pe(T.cantPageBackward())},T.pageNextPageClick=function(){T.paginationApi.nextPage(),pe(T.cantPageForward())},T.pageLastPageClick=function(){T.paginationApi.seek(T.paginationApi.getTotalPages()),pe(T.cantPageToLast())}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.pinning",["ui.grid"]);we.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),we.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(Q,k,O,I){var D={initializeGrid:function(T){D.defaultGridOptions(T.options),T.registerColumnBuilder(D.pinningColumnBuilder);var _={events:{pinning:{columnPinned:function(x,d){}}},methods:{pinning:{pinColumn:function(x,d){D.pinColumn(T,x,d)}}}};T.api.registerEventsFromObject(_.events),T.api.registerMethodsFromObject(_.methods)},defaultGridOptions:function(T){T.enablePinning=T.enablePinning!==!1,T.hidePinLeft=T.enablePinning&&T.hidePinLeft,T.hidePinRight=T.enablePinning&&T.hidePinRight},pinningColumnBuilder:function(T,_,x){if(T.enablePinning=T.enablePinning===void 0?x.enablePinning:T.enablePinning,T.hidePinLeft=T.hidePinLeft===void 0?x.hidePinLeft:T.hidePinLeft,T.hidePinRight=T.hidePinRight===void 0?x.hidePinRight:T.hidePinRight,T.pinnedLeft?(_.renderContainer="left",_.grid.createLeftContainer()):T.pinnedRight&&(_.renderContainer="right",_.grid.createRightContainer()),!!T.enablePinning){var d={name:"ui.grid.pinning.pinLeft",title:O.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return typeof this.context.col.renderContainer=="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="left"},action:function(){D.pinColumn(this.context.col.grid,this.context.col,I.container.LEFT)}},M={name:"ui.grid.pinning.pinRight",title:O.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return typeof this.context.col.renderContainer=="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="right"},action:function(){D.pinColumn(this.context.col.grid,this.context.col,I.container.RIGHT)}},g={name:"ui.grid.pinning.unpin",title:O.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return typeof this.context.col.renderContainer!="undefined"&&this.context.col.renderContainer!==null&&this.context.col.renderContainer!=="body"},action:function(){D.pinColumn(this.context.col.grid,this.context.col,I.container.NONE)}};!T.hidePinLeft&&!Q.arrayContainsObjectWithProperty(_.menuItems,"name","ui.grid.pinning.pinLeft")&&_.menuItems.push(d),!T.hidePinRight&&!Q.arrayContainsObjectWithProperty(_.menuItems,"name","ui.grid.pinning.pinRight")&&_.menuItems.push(M),Q.arrayContainsObjectWithProperty(_.menuItems,"name","ui.grid.pinning.unpin")||_.menuItems.push(g)}},pinColumn:function(T,_,x){x===I.container.NONE?(_.renderContainer=null,_.colDef.pinnedLeft=_.colDef.pinnedRight=!1):(_.renderContainer=x,x===I.container.LEFT?T.createLeftContainer():x===I.container.RIGHT&&T.createRightContainer()),T.refresh().then(function(){T.api.pinning.raise.columnPinned(_.colDef,x)})}};return D}]),we.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(Q,k){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){k.initializeGrid(T.grid)},post:function(O,I,D,T){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.resizeColumns",["ui.grid"]);we.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(Q,k,O){return{defaultGridOptions:function(I){I.enableColumnResizing=I.enableColumnResizing!==!1,I.enableColumnResize===!1&&(I.enableColumnResizing=!1)},colResizerColumnBuilder:function(I,D,T){var _=[];return I.enableColumnResizing=I.enableColumnResizing===void 0?T.enableColumnResizing:I.enableColumnResizing,I.enableColumnResize===!1&&(I.enableColumnResizing=!1),k.all(_)},registerPublicApi:function(I){var D={events:{colResizable:{columnSizeChanged:function(T,_){}}}};I.api.registerEventsFromObject(D.events)},fireColumnSizeChanged:function(I,D,T){O.$applyAsync(function(){I.api.colResizable?I.api.colResizable.raise.columnSizeChanged(D,T):Q.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(I,D,T){var _=I.getRenderContainer();if(D==="left"){var x=_.visibleColumnCache.indexOf(I);return x===0?_.visibleColumnCache[0]:_.visibleColumnCache[x-1*T]}else return I}}}]),we.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(Q,k){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){k.defaultGridOptions(T.grid.options),T.grid.registerColumnBuilder(k.colResizerColumnBuilder),k.registerPublicApi(T.grid)},post:function(O,I,D,T){}}}}}]),we.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(Q,k,O,I,D,T){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(_,x,d,M){var g=M.grid;if(g.options.enableColumnResizing){var F=k.get("ui-grid/columnResizer"),N=1;g.isRTL()&&(_.position="left",N=-1);var J=function(){for(var U=x[0].getElementsByClassName("ui-grid-column-resizer"),A=0;A<U.length;A++)angular.element(U[A]).remove();var p=D.findTargetCol(_.col,"left",N),w=_.col.getRenderContainer();if(p&&w.visibleColumnCache.indexOf(_.col)!==0&&p.colDef.enableColumnResizing!==!1){var v=angular.element(F).clone();v.attr("position","left"),x.prepend(v),O(v)(_)}if(_.col.colDef.enableColumnResizing!==!1){var h=angular.element(F).clone();h.attr("position","right"),x.append(h),O(h)(_)}};J();var pe=function(){_.$applyAsync(J)},m=g.registerDataChangeCallback(pe,[T.dataChange.COLUMN]);_.$on("$destroy",m)}}}}}}]),we.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(Q,k,O,I){var D=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(T,_,x,d){var M=0,g=0,F=0,N=1;d.grid.isRTL()&&(T.position="left",N=-1),T.position==="left"?_.addClass("left"):T.position==="right"&&_.addClass("right");function J(h){d.grid.refreshCanvas(!0).then(function(){d.grid.queueGridRefresh()})}function pe(h,e){var o=e;return h.minWidth&&o<h.minWidth?o=h.minWidth:h.maxWidth&&o>h.maxWidth&&(o=h.maxWidth),o}function m(h,e){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),g=(h.targetTouches?h.targetTouches[0]:h).clientX-F,g<0?g=0:g>d.grid.gridWidth&&(g=d.grid.gridWidth);var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var i=g-M,c=parseInt(o.drawnWidth+i*N,10);g=g+(pe(o,c)-c)*N,D.css({left:g+"px"}),d.fireEvent(O.events.ITEM_DRAGGING)}}function U(h){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),d.grid.element.removeClass("column-resizing"),D.remove(),g=(h.changedTouches?h.changedTouches[0]:h).clientX-F;var e=g-M;if(e===0){w(),p();return}var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=parseInt(o.drawnWidth+e*N,10);o.width=pe(o,i),o.hasCustomWidth=!0,J(e),I.fireColumnSizeChanged(d.grid,o.colDef,e),w(),p()}}var A=function(h,e){h.originalEvent&&(h=h.originalEvent),h.stopPropagation(),F=d.grid.element[0].getBoundingClientRect().left,M=(h.targetTouches?h.targetTouches[0]:h).clientX-F,d.grid.element.append(D),D.css({left:M}),h.type==="touchstart"?(Q.on("touchend",U),Q.on("touchmove",m),_.off("mousedown",A)):(Q.on("mouseup",U),Q.on("mousemove",m),_.off("touchstart",A))},p=function(){_.on("mousedown",A),_.on("touchstart",A)},w=function(){Q.off("mouseup",U),Q.off("touchend",U),Q.off("mousemove",m),Q.off("touchmove",m),_.off("mousedown",A),_.off("touchstart",A)};p();var v=function(h,e){h.stopPropagation();var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=0,c=k.closestElm(_,".ui-grid-render-container"),u=c.querySelectorAll("."+O.COL_CLASS_PREFIX+o.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(u,function(r){var a;angular.element(r).parent().hasClass("ui-grid-header-cell")&&(a=angular.element(r).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),k.fakeElement(r,{},function(l){var f=angular.element(l);f.attr("style","float: left");var b=k.elementWidth(f)+2;if(a){var C=k.elementWidth(a);b=b+C}b>i&&(i=b)})});var s=pe(o,i),t=s-o.drawnWidth;o.width=s,o.hasCustomWidth=!0,J(t),I.fireColumnSizeChanged(d.grid,o.colDef,t)}};_.on("dblclick",v),_.on("$destroy",function(){_.off("dblclick",v),w()})}}}])})();(function(){"use strict";var we=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);we.constant("uiGridRowEditConstants",{}),we.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(Q,k,O,I,D){var T={initializeGrid:function(_,x){x.rowEdit={};var d={events:{rowEdit:{saveRow:function(M){}}},methods:{rowEdit:{setSavePromise:function(M,g){T.setSavePromise(x,M,g)},getDirtyRows:function(){return x.rowEdit.dirtyRows?x.rowEdit.dirtyRows:[]},getErrorRows:function(){return x.rowEdit.errorRows?x.rowEdit.errorRows:[]},flushDirtyRows:function(){return T.flushDirtyRows(x)},setRowsDirty:function(M){T.setRowsDirty(x,M)},setRowsClean:function(M){T.setRowsClean(x,M)}}}};x.api.registerEventsFromObject(d.events),x.api.registerMethodsFromObject(d.methods),x.api.core.on.renderingComplete(_,function(M){x.api.edit.on.afterCellEdit(_,T.endEditCell),x.api.edit.on.beginCellEdit(_,T.beginEditCell),x.api.edit.on.cancelCellEdit(_,T.cancelEditCell),x.api.cellNav&&x.api.cellNav.on.navigate(_,T.navigate)})},defaultGridOptions:function(_){},saveRow:function(_,x){var d=this;return function(){if(x.isSaving=!0,x.rowEditSavePromise)return x.rowEditSavePromise;var M=_.api.rowEdit.raise.saveRow(x.entity);return x.rowEditSavePromise?x.rowEditSavePromise.then(d.processSuccessPromise(_,x),d.processErrorPromise(_,x)):D.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),M}},setSavePromise:function(_,x,d){var M=_.getRow(x);M.rowEditSavePromise=d},processSuccessPromise:function(_,x){var d=this;return function(){delete x.isSaving,delete x.isDirty,delete x.isError,delete x.rowEditSaveTimer,delete x.rowEditSavePromise,d.removeRow(_.rowEdit.errorRows,x),d.removeRow(_.rowEdit.dirtyRows,x)}},processErrorPromise:function(_,x){return function(){delete x.isSaving,delete x.rowEditSaveTimer,delete x.rowEditSavePromise,x.isError=!0,_.rowEdit.errorRows||(_.rowEdit.errorRows=[]),T.isRowPresent(_.rowEdit.errorRows,x)||_.rowEdit.errorRows.push(x)}},removeRow:function(_,x){typeof _=="undefined"||_===null||_.forEach(function(d,M){d.uid===x.uid&&_.splice(M,1)})},isRowPresent:function(_,x){var d=!1;return _.forEach(function(M,g){M.uid===x.uid&&(d=!0)}),d},flushDirtyRows:function(_){var x=[];return _.api.rowEdit.getDirtyRows().forEach(function(d){T.cancelTimer(_,d),T.saveRow(_,d)(),x.push(d.rowEditSavePromise)}),k.all(x)},endEditCell:function(_,x,d,M){var g=this.grid,F=g.getRow(_);if(!F){D.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");return}(d!==M||F.isDirty)&&(g.rowEdit.dirtyRows||(g.rowEdit.dirtyRows=[]),F.isDirty||(F.isDirty=!0,g.rowEdit.dirtyRows.push(F)),delete F.isError,T.considerSetTimer(g,F))},beginEditCell:function(_,x){var d=this.grid,M=d.getRow(_);if(!M){D.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");return}T.cancelTimer(d,M)},cancelEditCell:function(_,x){var d=this.grid,M=d.getRow(_);if(!M){D.logError("Unable to find rowEntity in grid data, timer cannot be set");return}T.considerSetTimer(d,M)},navigate:function(_,x){var d=this.grid;_.row.rowEditSaveTimer&&T.cancelTimer(d,_.row),x&&x.row&&x.row!==_.row&&T.considerSetTimer(d,x.row)},considerSetTimer:function(_,x){if(T.cancelTimer(_,x),x.isDirty&&!x.isSaving&&_.options.rowEditWaitInterval!==-1){var d=_.options.rowEditWaitInterval?_.options.rowEditWaitInterval:2e3;x.rowEditSaveTimer=Q(T.saveRow(_,x),d,1)}},cancelTimer:function(_,x){x.rowEditSaveTimer&&!x.isSaving&&(Q.cancel(x.rowEditSaveTimer),delete x.rowEditSaveTimer)},setRowsDirty:function(_,x){var d;x.forEach(function(M,g){d=_.getRow(M),d?(_.rowEdit.dirtyRows||(_.rowEdit.dirtyRows=[]),d.isDirty||(d.isDirty=!0,_.rowEdit.dirtyRows.push(d)),delete d.isError,T.considerSetTimer(_,d)):D.logError("requested row not found in rowEdit.setRowsDirty, row was: "+M)})},setRowsClean:function(_,x){var d;x.forEach(function(M,g){d=_.getRow(M),d?(delete d.isDirty,T.removeRow(_.rowEdit.dirtyRows,d),T.cancelTimer(_,d),delete d.isError,T.removeRow(_.rowEdit.errorRows,d)):D.logError("requested row not found in rowEdit.setRowsClean, row was: "+M)})}};return T}]),we.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(Q,k,O){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(I,D,T,_){k.initializeGrid(I,_.grid)},post:function(I,D,T,_){}}}}}]),we.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(Q,k,O,I){return{priority:-200,scope:!1,compile:function(D,T){var _=angular.element(D.children().children()[0]),x=_.attr("ng-class"),d="";return x?d=x.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":d="{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",_.attr("ng-class",d),{pre:function(M,g,F,N){},post:function(M,g,F,N){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);we.constant("uiGridSaveStateConstants",{featureName:"saveState"}),we.service("uiGridSaveStateService",function(){var Q={initializeGrid:function(k){k.saveState={},this.defaultGridOptions(k.options);var O={events:{saveState:{}},methods:{saveState:{save:function(){return Q.save(k)},restore:function(I,D){return Q.restore(k,I,D)}}}};k.api.registerEventsFromObject(O.events),k.api.registerMethodsFromObject(O.methods)},defaultGridOptions:function(k){k.saveWidths=k.saveWidths!==!1,k.saveOrder=k.saveOrder!==!1,k.saveScroll=k.saveScroll===!0,k.saveFocus=k.saveScroll!==!0&&k.saveFocus!==!1,k.saveVisible=k.saveVisible!==!1,k.saveSort=k.saveSort!==!1,k.saveFilter=k.saveFilter!==!1,k.saveSelection=k.saveSelection!==!1,k.saveGrouping=k.saveGrouping!==!1,k.saveGroupingExpandedStates=k.saveGroupingExpandedStates===!0,k.savePinning=k.savePinning!==!1,k.saveTreeView=k.saveTreeView!==!1},save:function(k){var O={};return O.columns=Q.saveColumns(k),O.scrollFocus=Q.saveScrollFocus(k),O.selection=Q.saveSelection(k),O.grouping=Q.saveGrouping(k),O.treeView=Q.saveTreeView(k),O.pagination=Q.savePagination(k),O},restore:function(k,O,I){return I.columns&&Q.restoreColumns(k,I.columns),I.scrollFocus&&Q.restoreScrollFocus(k,O,I.scrollFocus),I.selection&&Q.restoreSelection(k,I.selection),I.grouping&&Q.restoreGrouping(k,I.grouping),I.treeView&&Q.restoreTreeView(k,I.treeView),I.pagination&&Q.restorePagination(k,I.pagination),k.refresh()},saveColumns:function(k){var O=[];return k.getOnlyDataColumns().forEach(function(I){var D={};D.name=I.name,k.options.saveVisible&&(D.visible=I.visible),k.options.saveWidths&&(D.width=I.width),k.options.saveSort&&(D.sort=angular.copy(I.sort)),k.options.saveFilter&&(D.filters=[],I.filters.forEach(function(T){var _={};angular.forEach(T,function(x,d){d!=="condition"&&d!=="$$hashKey"&&d!=="placeholder"&&(_[d]=x)}),D.filters.push(_)})),k.api.pinning&&k.options.savePinning&&(D.pinned=I.renderContainer?I.renderContainer:""),O.push(D)}),O},saveScrollFocus:function(k){if(!k.api.cellNav)return{};var O={};if(k.options.saveFocus){O.focus=!0;var I=k.api.cellNav.getFocusedCell();I!==null&&(I.col!==null&&(O.colName=I.col.colDef.name),I.row!==null&&(O.rowVal=Q.getRowVal(k,I.row)))}return(k.options.saveScroll||k.options.saveFocus&&!O.colName&&!O.rowVal)&&(O.focus=!1,k.renderContainers.body.prevRowScrollIndex&&(O.rowVal=Q.getRowVal(k,k.renderContainers.body.visibleRowCache[k.renderContainers.body.prevRowScrollIndex])),k.renderContainers.body.prevColScrollIndex&&(O.colName=k.renderContainers.body.visibleColumnCache[k.renderContainers.body.prevColScrollIndex].name)),O},saveSelection:function(k){return!k.api.selection||!k.options.saveSelection?[]:k.api.selection.getSelectedGridRows().map(function(O){return Q.getRowVal(k,O)})},saveGrouping:function(k){return!k.api.grouping||!k.options.saveGrouping?{}:k.api.grouping.getGrouping(k.options.saveGroupingExpandedStates)},savePagination:function(k){return!k.api.pagination||!k.options.paginationPageSize?{}:{paginationCurrentPage:k.options.paginationCurrentPage,paginationPageSize:k.options.paginationPageSize}},saveTreeView:function(k){return!k.api.treeView||!k.options.saveTreeView?{}:k.api.treeView.getTreeView()},getRowVal:function(k,O){if(!O)return null;var I={};return k.options.saveRowIdentity?(I.identity=!0,I.row=k.options.saveRowIdentity(O.entity)):(I.identity=!1,I.row=k.renderContainers.body.visibleRowCache.indexOf(O)),I},restoreColumns:function(k,O){var I=!1;O.forEach(function(D,T){var _=k.getColumn(D.name);if(_&&!k.isRowHeaderColumn(_)){k.options.saveVisible&&(_.visible!==D.visible||_.colDef.visible!==D.visible)&&(_.visible=D.visible,_.colDef.visible=D.visible,k.api.core.raise.columnVisibilityChanged(_)),k.options.saveWidths&&_.width!==D.width&&(_.width=D.width,_.hasCustomWidth=!0),k.options.saveSort&&!angular.equals(_.sort,D.sort)&&!(_.sort===void 0&&angular.isEmpty(D.sort))&&(_.sort=angular.copy(D.sort),I=!0),k.options.saveFilter&&!angular.equals(_.filters,D.filters)&&(D.filters.forEach(function(M,g){angular.extend(_.filters[g],M),(typeof M.term=="undefined"||M.term===null)&&delete _.filters[g].term}),k.api.core.raise.filterChanged(_)),k.api.pinning&&k.options.savePinning&&_.renderContainer!==D.pinned&&k.api.pinning.pinColumn(_,D.pinned);var x=k.getOnlyDataColumns().indexOf(_);if(x!==-1&&k.options.saveOrder&&x!==T){var d=k.columns.splice(x+k.rowHeaderColumns.length,1)[0];k.columns.splice(T+k.rowHeaderColumns.length,0,d)}}}),I&&k.api.core.raise.sortChanged(k,k.getColumnSorting())},restoreScrollFocus:function(k,O,I){if(k.api.cellNav){var D,T;if(I.colName){var _=k.options.columnDefs.filter(function(d){return d.name===I.colName});_.length>0&&(D=_[0])}I.rowVal&&I.rowVal.row&&(I.rowVal.identity?T=Q.findRowByIdentity(k,I.rowVal):T=k.renderContainers.body.visibleRowCache[I.rowVal.row]);var x=T&&T.entity?T.entity:null;(D||x)&&(I.focus?k.api.cellNav.scrollToFocus(x,D):k.scrollTo(x,D))}},restoreSelection:function(k,O){k.api.selection&&(k.api.selection.clearSelectedRows(),O.forEach(function(I){if(I.identity){var D=Q.findRowByIdentity(k,I);D&&k.api.selection.selectRow(D.entity)}else k.api.selection.selectRowByVisibleIndex(I.row)}))},restoreGrouping:function(k,O){!k.api.grouping||typeof O=="undefined"||O===null||angular.equals(O,{})||k.api.grouping.setGrouping(O)},restoreTreeView:function(k,O){!k.api.treeView||typeof O=="undefined"||O===null||angular.equals(O,{})||k.api.treeView.setTreeView(O)},restorePagination:function(k,O){!k.api.pagination||!k.options.paginationPageSize||(k.options.paginationCurrentPage=O.paginationCurrentPage,k.options.paginationPageSize=O.paginationPageSize)},findRowByIdentity:function(k,O){if(!k.options.saveRowIdentity)return null;var I=k.rows.filter(function(D){return k.options.saveRowIdentity(D.entity)===O.row});return I.length>0?I[0]:null}};return Q}),we.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(Q,k,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(D,T,_,x){k.initializeGrid(x.grid)}}}])})();(function(){"use strict";var we=angular.module("ui.grid.selection",["ui.grid"]);we.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(Q){Q.decorator("GridRow",["$delegate",function(k){return k.prototype.setSelected=function(O){O!==this.isSelected&&(this.isSelected=O,this.grid.selection.selectedCount+=O?1:-1)},k.prototype.setFocused=function(O){O!==this.isFocused&&(this.grid.selection.focusedRow&&(this.grid.selection.focusedRow.isFocused=!1),this.grid.selection.focusedRow=O?this:null,this.isFocused=O)},k}])}]),we.service("uiGridSelectionService",function(){var Q={initializeGrid:function(k){k.selection={lastSelectedRow:null,focusedRow:null,selectAll:!1},k.selection.selectedCount=0,Q.defaultGridOptions(k.options);var O={events:{selection:{rowFocusChanged:function(I,D,T){},rowSelectionChanged:function(I,D,T){},rowSelectionChangedBatch:function(I,D,T){}}},methods:{selection:{toggleRowSelection:function(I,D){var T=k.getRow(I);T!=null&&T!==null&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!0)},selectRow:function(I,D){var T=k.getRow(I);T!=null&&T!==null&&!T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!0)},selectRowByVisibleIndex:function(I,D){var T=k.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&!T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!1)},selectRowByKey:function(I,D,T,_,x){var d=k.findRowByKey(I,D,T,x);d!=null&&d!==null&&typeof d!="undefined"&&!d.isSelected&&Q.toggleRowSelection(k,d,_,k.options.multiSelect,k.options.noUnselect,!1)},unSelectRow:function(I,D){var T=k.getRow(I);T!=null&&T!==null&&T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!0)},unSelectRowByVisibleIndex:function(I,D){var T=k.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!1)},unSelectRowByKey:function(I,D,T,_,x){var d=k.findRowByKey(I,D,T,x);d!=null&&d!==null&&typeof d!="undefined"&&d.isSelected&&Q.toggleRowSelection(k,d,_,k.options.multiSelect,k.options.noUnselect,!1)},selectAllRows:function(I){if(k.options.multiSelect!==!1){var D=[];k.rows.forEach(function(T){!T.isSelected&&T.enableSelection!==!1&&k.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(k,T,D,I))}),k.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(k,D,I)}},selectAllVisibleRows:function(I){if(k.options.multiSelect!==!1){var D=[];k.rows.forEach(function(T){T.visible?!T.isSelected&&T.enableSelection!==!1&&k.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(k,T,D,I)):T.isSelected&&(T.setSelected(!1),Q.decideRaiseSelectionEvent(k,T,D,I))}),k.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(k,D,I)}},clearSelectedRows:function(I){Q.clearSelectedRows(k,I)},getSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getSelectedRows(k))},getUnSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getUnSelectedRows(k))},getSelectedGridRows:function(){return Q.getSelectedRows(k)},getUnSelectedGridRows:function(){return Q.getUnSelectedRows(k)},getSelectedCount:function(){return k.selection.selectedCount},setMultiSelect:function(I){k.options.multiSelect=I},setModifierKeysToMultiSelect:function(I){k.options.modifierKeysToMultiSelect=I},getSelectAllState:function(){return k.selection.selectAll}}}};k.api.registerEventsFromObject(O.events),k.api.registerMethodsFromObject(O.methods)},defaultGridOptions:function(k){k.enableRowSelection=k.enableRowSelection!==!1,k.multiSelect=k.multiSelect!==!1,k.noUnselect=k.noUnselect===!0,k.modifierKeysToMultiSelect=k.modifierKeysToMultiSelect===!0,k.enableRowHeaderSelection=k.enableRowHeaderSelection!==!1,typeof k.enableFullRowSelection=="undefined"&&(k.enableFullRowSelection=!k.enableRowHeaderSelection),k.enableFocusRowOnRowHeaderClick=k.enableFocusRowOnRowHeaderClick!==!1||!k.enableRowHeaderSelection,k.enableSelectRowOnFocus=k.enableSelectRowOnFocus!==!1,k.enableSelectAll=k.enableSelectAll!==!1,k.enableSelectionBatchEvent=k.enableSelectionBatchEvent!==!1,k.selectionRowHeaderWidth=angular.isDefined(k.selectionRowHeaderWidth)?k.selectionRowHeaderWidth:30,k.enableFooterTotalSelected=k.enableFooterTotalSelected!==!1,k.isRowSelectable=angular.isDefined(k.isRowSelectable)?k.isRowSelectable:angular.noop},toggleRowSelection:function(k,O,I,D,T,_){if(O.enableSelection!==!1){_===void 0&&(_=!0);var x=O.isSelected;D||(x?Q.getSelectedRows(k).length>1&&(x=!1,Q.clearSelectedRows(k,I)):Q.clearSelectedRows(k,I)),!(x&&T)&&(_||O.visible)&&(O.setSelected(!x),O.isSelected===!0&&(k.selection.lastSelectedRow=O),k.selection.selectAll=k.rows.length===Q.getSelectedRows(k).length,k.api.selection.raise.rowSelectionChanged(O,I))}},shiftSelect:function(k,O,I,D){if(D){var T=Q.getSelectedRows(k),_=T.length>0?k.renderContainers.body.visibleRowCache.indexOf(k.selection.lastSelectedRow):0,x=k.renderContainers.body.visibleRowCache.indexOf(O);if(_>x){var d=_;_=x,x=d}for(var M=[],g=_;g<=x;g++){var F=k.renderContainers.body.visibleRowCache[g];F&&!F.isSelected&&F.enableSelection!==!1&&(F.setSelected(!0),k.selection.lastSelectedRow=F,Q.decideRaiseSelectionEvent(k,F,M,I))}Q.decideRaiseSelectionBatchEvent(k,M,I)}},getSelectedRows:function(k){return k.rows.filter(function(O){return O.isSelected})},getUnSelectedRows:function(k){return k.rows.filter(function(O){return!O.isSelected})},mapAndFilterRowsByEntity:function(k){return typeof k.reduce=="function"?k.reduce(function(O,I){return(I.entity.hasOwnProperty("$$hashKey")||!angular.isObject(I.entity))&&O.push(I.entity),O},[]):k.filter(function(O){return O.entity.hasOwnProperty("$$hashKey")||!angular.isObject(O.entity)}).map(function(O){return O.entity})},clearSelectedRows:function(k,O){var I=[];Q.getSelectedRows(k).forEach(function(D){D.isSelected&&D.enableSelection!==!1&&(D.setSelected(!1),Q.decideRaiseSelectionEvent(k,D,I,O))}),k.selection.selectAll=!1,k.selection.selectedCount=0,Q.decideRaiseSelectionBatchEvent(k,I,O)},decideRaiseSelectionEvent:function(k,O,I,D){k.options.enableSelectionBatchEvent?I.push(O):k.api.selection.raise.rowSelectionChanged(O,D)},decideRaiseSelectionBatchEvent:function(k,O,I){O.length>0&&k.api.selection.raise.rowSelectionChangedBatch(O,I)}};return Q}),we.directive("uiGridSelection",["i18nService","uiGridSelectionConstants","uiGridSelectionService","uiGridConstants",function(Q,k,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(D,T,_,x){if(O.initializeGrid(x.grid),x.grid.options.enableRowHeaderSelection){var d={name:k.selectionRowHeaderColName,displayName:Q.getSafeText("selection.displayName"),width:x.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};x.grid.addRowHeaderColumn(d,0)}var M=!1,g=function(J){return J.forEach(function(pe){pe.enableSelection=x.grid.options.isRowSelectable(pe)}),J},F=function(){x.grid.options.isRowSelectable!==angular.noop&&M!==!0&&(x.grid.registerRowsProcessor(g,500),M=!0)};F();var N=x.grid.registerDataChangeCallback(F,[I.dataChange.OPTIONS]);D.$on("$destroy",N)},post:function(D,T,_,x){}}}}}]),we.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(Q,k,O){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(I,D,T,_){var x=_.grid;I.selectButtonClick=M,I.selectButtonKeyDown=d,O.detectBrowser()==="ie"&&D.on("mousedown",g);function d(F,N){(N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),M(F,N))}function M(F,N){if(N.stopPropagation(),N.shiftKey)k.shiftSelect(x,F,N,x.options.multiSelect);else if(N.ctrlKey||N.metaKey)k.toggleRowSelection(x,F,N,x.options.multiSelect,x.options.noUnselect,!1);else if(F.groupHeader){k.toggleRowSelection(x,F,N,x.options.multiSelect,x.options.noUnselect,!1);for(var J=0;J<F.treeNode.children.length;J++)k.toggleRowSelection(x,F.treeNode.children[J].row,N,x.options.multiSelect,x.options.noUnselect,!1)}else k.toggleRowSelection(x,F,N,x.options.multiSelect&&!x.options.modifierKeysToMultiSelect,x.options.noUnselect,!1);x.options.enableFocusRowOnRowHeaderClick&&F.setFocused(!F.isFocused)&&x.api.selection.raise.rowFocusChanged(F,N)}function g(F){(F.ctrlKey||F.shiftKey)&&(F.target.onselectstart=function(){return!1},window.setTimeout(function(){F.target.onselectstart=null},0))}I.$on("$destroy",function(){D.off()})}}}]),we.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(Q,k){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(O){var I=O.col.grid;O.headerButtonKeyDown=function(D){(D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),O.headerButtonClick(D))},O.headerButtonClick=function(D){I.selection.selectAll?(k.clearSelectedRows(I,D),I.options.noUnselect&&I.api.selection.selectRowByVisibleIndex(0,D),I.selection.selectAll=!1):I.options.multiSelect&&(I.api.selection.selectAllVisibleRows(D),I.selection.selectAll=!0)}}}}]),we.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(Q){var k=angular.element(Q[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),O="'ui-grid-row-selected': row.isSelected, 'ui-grid-row-focused': row.isFocused}",I=k.attr("ng-class");return I?O=I.slice(0,-1)+","+O:O="{"+O,k.attr("ng-class",O),{pre:function(D,T,_,x){},post:function(D,T,_,x){}}}}}),we.directive("uiGridCell",["uiGridConstants","uiGridSelectionService",function(Q,k){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(O,I,D,T){var _=0,x={},d=300,M=100;T.grid.api.cellNav&&T.grid.api.cellNav.on.viewPortKeyDown(O,function(U,A){A===null||A.row!==O.row||A.col!==O.col||U.keyCode===Q.keymap.SPACE&&O.col.colDef.name==="selectionRowHeaderCol"&&(U.preventDefault(),k.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.$apply())});var g=function(U){U.target.className==="ui-grid-icon-minus-squared"||U.target.className==="ui-grid-icon-plus-squared"||(I.off("touchend",N),U.shiftKey?k.shiftSelect(O.grid,O.row,U,O.grid.options.multiSelect):U.ctrlKey||U.metaKey?k.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect,O.grid.options.noUnselect,!1):O.grid.options.enableSelectRowOnFocus&&k.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.row.setFocused(!O.row.isFocused),O.grid.api.selection.raise.rowFocusChanged(O.row,U),O.$apply(),window.setTimeout(function(){I.on("touchend",N)},d))},F=function(U){_=new Date().getTime(),x=U.changedTouches[0],I.off("click",g)},N=function(U){var A=new Date().getTime(),p=U.changedTouches[0],w=A-_,v=Math.abs(x.clientX-p.clientX),h=Math.abs(x.clientY-p.clientY);v<M&&h<M&&w<d&&g(U),window.setTimeout(function(){I.on("click",g)},d)};function J(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&O.col.colDef.name!=="selectionRowHeaderCol"&&(I.addClass("ui-grid-disable-selection"),I.on("touchstart",F),I.on("touchend",N),I.on("click",g),O.registered=!0)}function pe(){O.registered&&(I.removeClass("ui-grid-disable-selection"),I.off("touchstart",F),I.off("touchend",N),I.off("click",g),O.registered=!1)}J();var m=O.grid.registerDataChangeCallback(function(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&!O.registered?J():(!O.grid.options.enableRowSelection||!O.grid.options.enableFullRowSelection)&&O.registered&&pe()},[Q.dataChange.OPTIONS]);I.on("$destroy",m)}}}]),we.directive("uiGridGridFooter",["$compile","gridUtil",function(Q,k){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(O,I,D,T){T.grid.options.showGridFooter&&k.getTemplate("ui-grid/gridFooterSelectedItems").then(function(_){var x=angular.element(_),d=Q(x)(O);angular.element(I[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(d)})},post:function(O,I,D,T){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.treeBase",["ui.grid"]);we.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),we.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(Q,k,O,I,D,T,_,x){var d={initializeGrid:function(M){M.treeBase={},M.treeBase.numberLevels=0,M.treeBase.expandAll=!1,M.treeBase.tree=[],d.defaultGridOptions(M.options),M.registerRowsProcessor(d.treeRows,410),M.registerColumnBuilder(d.treeBaseColumnBuilder),d.createRowHeader(M);var g={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){d.expandAllRows(M)},collapseAllRows:function(){d.collapseAllRows(M)},toggleRowTreeState:function(F){d.toggleRowTreeState(M,F)},expandRow:function(F,N){d.expandRow(M,F,N)},expandRowChildren:function(F){d.expandRowChildren(M,F)},collapseRow:function(F){d.collapseRow(M,F)},collapseRowChildren:function(F){d.collapseRowChildren(M,F)},getTreeExpandedState:function(){return{expandedState:d.getTreeState(M)}},setTreeState:function(F){d.setTreeState(M,F)},getRowChildren:function(F){return F.treeNode.children.map(function(N){return N.row})}}}};M.api.registerEventsFromObject(g.events),M.api.registerMethodsFromObject(g.methods)},defaultGridOptions:function(M){M.treeRowHeaderBaseWidth=M.treeRowHeaderBaseWidth||30,M.treeIndent=M.treeIndent!=null?M.treeIndent:10,M.showTreeRowHeader=M.showTreeRowHeader!==!1,M.showTreeExpandNoChildren=M.showTreeExpandNoChildren!==!1,M.treeRowHeaderAlwaysVisible=M.treeRowHeaderAlwaysVisible!==!1,M.treeCustomAggregations=M.treeCustomAggregations||{},M.enableExpandAll=M.enableExpandAll!==!1},treeBaseColumnBuilder:function(M,g,F){typeof M.customTreeAggregationFn!="undefined"&&(g.treeAggregationFn=M.customTreeAggregationFn),typeof M.treeAggregationType!="undefined"&&(g.treeAggregation={type:M.treeAggregationType},typeof F.treeCustomAggregations[M.treeAggregationType]!="undefined"?(g.treeAggregationFn=F.treeCustomAggregations[M.treeAggregationType].aggregationFn,g.treeAggregationFinalizerFn=F.treeCustomAggregations[M.treeAggregationType].finalizerFn,g.treeAggregation.label=F.treeCustomAggregations[M.treeAggregationType].label):typeof d.nativeAggregations()[M.treeAggregationType]!="undefined"&&(g.treeAggregationFn=d.nativeAggregations()[M.treeAggregationType].aggregationFn,g.treeAggregation.label=d.nativeAggregations()[M.treeAggregationType].label)),typeof M.treeAggregationLabel!="undefined"&&(typeof g.treeAggregation=="undefined"&&(g.treeAggregation={}),g.treeAggregation.label=M.treeAggregationLabel),g.treeAggregationUpdateEntity=M.treeAggregationUpdateEntity!==!1,typeof g.customTreeAggregationFinalizerFn=="undefined"&&(g.customTreeAggregationFinalizerFn=M.customTreeAggregationFinalizerFn)},createRowHeader:function(M){var g={name:k.rowHeaderColName,displayName:"",width:M.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};g.visible=M.options.treeRowHeaderAlwaysVisible,M.addRowHeaderColumn(g,-100)},expandAllRows:function(M){M.treeBase.tree.forEach(function(g){d.setAllNodes(M,g,k.EXPANDED)}),M.treeBase.expandAll=!0,M.queueGridRefresh()},collapseAllRows:function(M){M.treeBase.tree.forEach(function(g){d.setAllNodes(M,g,k.COLLAPSED)}),M.treeBase.expandAll=!1,M.queueGridRefresh()},setAllNodes:function(M,g,F){typeof g.state!="undefined"&&g.state!==F&&(g.state=F,F===k.EXPANDED?M.api.treeBase.raise.rowExpanded(g.row):M.api.treeBase.raise.rowCollapsed(g.row)),g.children&&g.children.forEach(function(N){d.setAllNodes(M,N,F)})},toggleRowTreeState:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||(g.treeNode.state===k.EXPANDED?d.collapseRow(M,g):d.expandRow(M,g,!1),M.queueGridRefresh())},expandRow:function(M,g,F){if(F){for(var N=[];g&&typeof g.treeLevel!="undefined"&&g.treeLevel!==null&&g.treeLevel>=0&&g.treeNode.state!==k.EXPANDED;)N.push(g),g=g.treeNode.parentRow;if(N.length>0){for(g=N.pop();g;)g.treeNode.state=k.EXPANDED,M.api.treeBase.raise.rowExpanded(g),g=N.pop();M.treeBase.expandAll=d.allExpanded(M.treeBase.tree),M.queueGridRefresh()}}else{if(typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0)return;g.treeNode.state!==k.EXPANDED&&(g.treeNode.state=k.EXPANDED,M.api.treeBase.raise.rowExpanded(g),M.treeBase.expandAll=d.allExpanded(M.treeBase.tree),M.queueGridRefresh())}},expandRowChildren:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||(d.setAllNodes(M,g.treeNode,k.EXPANDED),M.treeBase.expandAll=d.allExpanded(M.treeBase.tree),M.queueGridRefresh())},collapseRow:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||g.treeNode.state!==k.COLLAPSED&&(g.treeNode.state=k.COLLAPSED,M.treeBase.expandAll=!1,M.api.treeBase.raise.rowCollapsed(g),M.queueGridRefresh())},collapseRowChildren:function(M,g){typeof g.treeLevel=="undefined"||g.treeLevel===null||g.treeLevel<0||(d.setAllNodes(M,g.treeNode,k.COLLAPSED),M.treeBase.expandAll=!1,M.queueGridRefresh())},allExpanded:function(M){var g=!0;return M.forEach(function(F){d.allExpandedInternal(F)||(g=!1)}),g},allExpandedInternal:function(M){if(M.children&&M.children.length>0){if(M.state===k.COLLAPSED)return!1;var g=!0;return M.children.forEach(function(F){d.allExpandedInternal(F)||(g=!1)}),g}else return!0},treeRows:function(M){var g=this;return M.length===0?(d.updateRowHeaderWidth(g),M):(g.treeBase.tree=d.createTree(g,M),d.updateRowHeaderWidth(g),d.sortTree(g),d.fixFilter(g),d.renderTree(g.treeBase.tree))},updateRowHeaderWidth:function(M){var g=M.getColumn(k.rowHeaderColName),F=M.options.treeRowHeaderBaseWidth+M.options.treeIndent*Math.max(M.treeBase.numberLevels-1,0);g&&F!==g.width&&(g.width=F,M.queueRefresh());var N=!0;M.options.showTreeRowHeader===!1&&(N=!1),M.options.treeRowHeaderAlwaysVisible===!1&&M.treeBase.numberLevels<=0&&(N=!1),g&&g.visible!==N&&(g.visible=N,g.colDef.visible=N,M.queueGridRefresh())},renderTree:function(M){var g=[];return M.forEach(function(F){F.row.visible&&g.push(F.row),F.state===k.EXPANDED&&F.children&&F.children.length>0&&(g=g.concat(d.renderTree(F.children)))}),g},createTree:function(M,g){var F=-1,N={},J=[],pe;M.treeBase.tree=[],M.treeBase.numberLevels=0;var m=d.getAggregations(M);function U(p){if(!p.internalRow&&p.treeLevel!==p.entity.$$treeLevel&&(p.treeLevel=p.entity.$$treeLevel),p.treeLevel<=F){for(;p.treeLevel<=F;){var w=J.pop();d.finaliseAggregations(w),F--}J.length>0?pe=d.setCurrentState(J):pe=k.EXPANDED}typeof p.treeLevel!="undefined"&&p.treeLevel!==null&&p.treeLevel>=0&&N.hasOwnProperty(p.uid)&&J.push(N[p.uid]),(typeof p.treeLevel=="undefined"||p.treeLevel===null||p.treeLevel<0)&&p.visible&&d.aggregate(M,p,J),N.hasOwnProperty(p.uid)||d.addOrUseNode(M,p,J,m),typeof p.treeLevel!="undefined"&&p.treeLevel!==null&&p.treeLevel>=0&&(N.hasOwnProperty(p.uid)||(N[p.uid]=p,J.push(p)),F++,pe=d.setCurrentState(J)),M.treeBase.numberLevels<p.treeLevel+1&&(M.treeBase.numberLevels=p.treeLevel+1)}for(g.forEach(U);J.length>0;){var A=J.pop();d.finaliseAggregations(A)}return M.treeBase.tree},addOrUseNode:function(M,g,F,N){var J=[];N.forEach(function(m){J.push(d.buildAggregationObject(m.col))});var pe={state:k.COLLAPSED,row:g,parentRow:null,aggregations:J,children:[]};g.treeNode&&(pe.state=g.treeNode.state),F.length>0&&(pe.parentRow=F[F.length-1]),g.treeNode=pe,F.length===0?M.treeBase.tree.push(pe):F[F.length-1].treeNode.children.push(pe)},setCurrentState:function(M){var g=k.EXPANDED;return M.forEach(function(F){F.treeNode.state===k.COLLAPSED&&(g=k.COLLAPSED)}),g},sortTree:function(M){M.columns.forEach(function(g){g.sort&&g.sort.ignoreSort&&delete g.sort.ignoreSort}),M.treeBase.tree=d.sortInternal(M,M.treeBase.tree)},sortInternal:function(M,g){var F=g.map(function(J){return J.row});F=x.sort(M,F,M.columns);var N=F.map(function(J){return J.treeNode});return N.forEach(function(J){J.state===k.EXPANDED&&J.children&&J.children.length>0&&(J.children=d.sortInternal(M,J.children))}),N},fixFilter:function(M){var g;M.treeBase.tree.forEach(function(F){F.children&&F.children.length>0&&(g=F.row.visible,d.fixFilterInternal(F.children,g))})},fixFilterInternal:function(M,g){return M.forEach(function(F){F.row.visible&&!g&&(d.setParentsVisible(F),g=!0),F.children&&F.children.length>0&&d.fixFilterInternal(F.children,g&&F.row.visible)&&(g=!0)}),g},setParentsVisible:function(M){for(;M.parentRow;)M.parentRow.visible=!0,M=M.parentRow.treeNode},buildAggregationObject:function(M){var g={col:M};return M.treeAggregation&&M.treeAggregation.type&&(g.type=M.treeAggregation.type),M.treeAggregation&&M.treeAggregation.label&&(g.label=M.treeAggregation.label),g},getAggregations:function(M){var g=[];return M.columns.forEach(function(F){typeof F.treeAggregationFn!="undefined"&&(g.push(d.buildAggregationObject(F)),M.options.showColumnFooter&&typeof F.colDef.aggregationType=="undefined"&&F.treeAggregation&&(F.treeFooterAggregation=d.buildAggregationObject(F),F.aggregationType=d.treeFooterAggregationType))}),g},aggregate:function(M,g,F){F.length===0&&g.treeNode&&g.treeNode.aggregations&&g.treeNode.aggregations.forEach(function(N){if(typeof N.col.treeFooterAggregation!="undefined"){var J=M.getCellValue(g,N.col),pe=Number(J);N.col.treeAggregationFn?N.col.treeAggregationFn(N.col.treeFooterAggregation,J,pe,g):N.col.treeFooterAggregation.value=void 0}}),F.forEach(function(N,J){N.treeNode.aggregations&&N.treeNode.aggregations.forEach(function(pe){var m=M.getCellValue(g,pe.col),U=Number(m);pe.col.treeAggregationFn(pe,m,U,g),J===0&&typeof pe.col.treeFooterAggregation!="undefined"&&(pe.col.treeAggregationFn?pe.col.treeAggregationFn(pe.col.treeFooterAggregation,m,U,g):pe.col.treeFooterAggregation.value=void 0)})})},nativeAggregations:function(){return{count:{label:T.get().aggregation.count,menuTitle:T.get().grouping.aggregate_count,aggregationFn:function(M,g,F){typeof M.value=="undefined"?M.value=1:M.value++}},sum:{label:T.get().aggregation.sum,menuTitle:T.get().grouping.aggregate_sum,aggregationFn:function(M,g,F){isNaN(F)||(typeof M.value=="undefined"?M.value=F:M.value+=F)}},min:{label:T.get().aggregation.min,menuTitle:T.get().grouping.aggregate_min,aggregationFn:function(M,g,F){(typeof M.value=="undefined"||typeof g!="undefined"&&g!==null&&(g<M.value||M.value===null))&&(M.value=g)}},max:{label:T.get().aggregation.max,menuTitle:T.get().grouping.aggregate_max,aggregationFn:function(M,g,F){(typeof M.value=="undefined"||typeof g!="undefined"&&g!==null&&(g>M.value||M.value===null))&&(M.value=g)}},avg:{label:T.get().aggregation.avg,menuTitle:T.get().grouping.aggregate_avg,aggregationFn:function(M,g,F){typeof M.count=="undefined"?M.count=1:M.count++,!isNaN(F)&&(typeof M.value=="undefined"||typeof M.sum=="undefined"?(M.value=F,M.sum=F):(M.sum+=F,M.value=M.sum/M.count))}}}},finaliseAggregation:function(M,g){g.col.treeAggregationUpdateEntity&&typeof M!="undefined"&&typeof M.entity["$$"+g.col.uid]!="undefined"&&angular.extend(g,M.entity["$$"+g.col.uid]),typeof g.col.treeAggregationFinalizerFn=="function"&&g.col.treeAggregationFinalizerFn(g),typeof g.col.customTreeAggregationFinalizerFn=="function"&&g.col.customTreeAggregationFinalizerFn(g),typeof g.rendered=="undefined"&&(g.rendered=g.label?g.label+g.value:g.value)},finaliseAggregations:function(M){M==null||typeof M.treeNode.aggregations=="undefined"||M.treeNode.aggregations.forEach(function(g){if(d.finaliseAggregation(M,g),g.col.treeAggregationUpdateEntity){var F={};angular.forEach(g,function(N,J){g.hasOwnProperty(J)&&J!=="col"&&(F[J]=N)}),M.entity["$$"+g.col.uid]=F}})},treeFooterAggregationType:function(M,g){return d.finaliseAggregation(void 0,g.treeFooterAggregation),typeof g.treeFooterAggregation.value=="undefined"||g.treeFooterAggregation.rendered===null?"":g.treeFooterAggregation.rendered}};return d}]),we.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(Q,k){return{replace:!0,restrict:"E",template:Q.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(O,I,D,T){var _=T.grid;O.treeButtonClass=function(x){if(_.options.showTreeExpandNoChildren&&x.treeLevel>-1||x.treeNode.children&&x.treeNode.children.length>0){if(x.treeNode.state==="expanded")return"ui-grid-icon-minus-squared";if(x.treeNode.state==="collapsed")return"ui-grid-icon-plus-squared"}},O.treeButtonClick=function(x,d){d.stopPropagation(),k.toggleRowTreeState(_,x,d)},O.treeButtonKeyDown=function(x,d){(d.keyCode===32||d.keyCode===13)&&O.treeButtonClick(x,d)}}}}]),we.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(Q,k){return{replace:!0,restrict:"E",template:Q.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(O){var I=O.col.grid;O.headerButtonClass=function(){if(I.treeBase.numberLevels>0&&I.treeBase.expandAll)return"ui-grid-icon-minus-squared";if(I.treeBase.numberLevels>0&&!I.treeBase.expandAll)return"ui-grid-icon-plus-squared"},O.headerButtonClick=function(D,T){I.treeBase.expandAll?k.collapseAllRows(I,T):k.expandAllRows(I,T)},O.headerButtonKeyDown=function(D){(D.keyCode===32||D.keyCode===13)&&O.headerButtonClick(I,D)}}}}]),we.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(Q){var k=angular.element(Q.children().children()[0]),O=k.attr("ng-class"),I="";return O?I=O.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":I="{'ui-grid-tree-header-row': row.treeLevel > -1}",k.attr("ng-class",I),{pre:function(D,T,_,x){},post:function(D,T,_,x){}}}}})})();(function(){"use strict";var we=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);we.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),we.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(Q,k,O,I,D,T,_,x,d){var M={initializeGrid:function(g,F){I.initializeGrid(g,F),g.treeView={},g.registerRowsProcessor(M.adjustSorting,60);var N={events:{treeView:{}},methods:{treeView:{}}};g.api.registerEventsFromObject(N.events),g.api.registerMethodsFromObject(N.methods)},defaultGridOptions:function(g){g.enableTreeView=g.enableTreeView!==!1},adjustSorting:function(g){var F=this;return F.columns.forEach(function(N){N.sort&&(N.sort.ignoreSort=!0)}),g}};return M}]),we.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(Q,k,O){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(I,D,T,_){_.grid.options.enableTreeView!==!1&&k.initializeGrid(_.grid,I)},post:function(I,D,T,_){}}}}}])})();(function(){"use strict";var we=angular.module("ui.grid.validate",["ui.grid"]);we.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(Q,k,O,I,D){var T={validatorFactories:{},setExternalFactoryFunction:function(_){T.externalFactoryFunction=_},clearExternalFactory:function(){delete T.externalFactoryFunction},getValidatorFromExternalFactory:function(_,x){return T.externalFactoryFunction(_,x).validatorFactory(x)},getMessageFromExternalFactory:function(_,x){return T.externalFactoryFunction(_,x).messageFunction(x)},setValidator:function(_,x,d){T.validatorFactories[_]={validatorFactory:x,messageFunction:d}},getValidator:function(_,x){if(T.externalFactoryFunction){var d=T.getValidatorFromExternalFactory(_,x);if(d)return d}if(!T.validatorFactories[_])throw"Invalid validator name: "+_;return T.validatorFactories[_].validatorFactory(x)},getMessage:function(_,x){if(T.externalFactoryFunction){var d=T.getMessageFromExternalFactory(_,x);if(d)return d}return T.validatorFactories[_].messageFunction(x)},isInvalid:function(_,x){return _["$$invalid"+x.name]},setInvalid:function(_,x){_["$$invalid"+x.name]=!0},setValid:function(_,x){delete _["$$invalid"+x.name]},setError:function(_,x,d){_["$$errors"+x.name]||(_["$$errors"+x.name]={}),_["$$errors"+x.name][d]=!0},clearError:function(_,x,d){_["$$errors"+x.name]&&d in _["$$errors"+x.name]&&delete _["$$errors"+x.name][d]},getErrorMessages:function(_,x){var d=[];return!_["$$errors"+x.name]||Object.keys(_["$$errors"+x.name]).length===0||Object.keys(_["$$errors"+x.name]).sort().forEach(function(M){d.push(T.getMessage(M,x.validators[M]))}),d},getFormattedErrors:function(_,x){var d="",M=T.getErrorMessages(_,x);if(M.length)return M.forEach(function(g){d+=g+"<br/>"}),Q.trustAsHtml("<p><b>"+I.getSafeText("validate.error")+"</b></p>"+d)},getTitleFormattedErrors:function(_,x){var d=`
`,M="",g=T.getErrorMessages(_,x);if(g.length)return g.forEach(function(F){M+=F+d}),Q.trustAsHtml(I.getSafeText("validate.error")+d+M)},runValidators:function(_,x,d,M,g){if(d!==M){if(typeof x.name=="undefined"||!x.name)throw new Error("colDef.name is required to perform validation");T.setValid(_,x);var F=function(U,A,p){return function(w){w||(T.setInvalid(U,A),T.setError(U,A,p),g&&g.api.validate.raise.validationFailed(U,A,d,M))}},N=[];for(var J in x.validators){T.clearError(_,x,J);var pe=T.getValidator(J,x.validators[J]),m=k.when(pe(M,d,_,x)).then(F(_,x,J));N.push(m)}return k.all(N)}},createDefaultValidators:function(){T.setValidator("minLength",function(_){return function(x,d){return d==null||d===""?!0:d.length>=_}},function(_){return I.getSafeText("validate.minLength").replace("THRESHOLD",_)}),T.setValidator("maxLength",function(_){return function(x,d){return d==null||d===""?!0:d.length<=_}},function(_){return I.getSafeText("validate.maxLength").replace("THRESHOLD",_)}),T.setValidator("required",function(_){return function(x,d){return _?!(d==null||d===""):!0}},function(){return I.getSafeText("validate.required")})},initializeGrid:function(_,x){x.validate={isInvalid:T.isInvalid,getErrorMessages:T.getErrorMessages,getFormattedErrors:T.getFormattedErrors,getTitleFormattedErrors:T.getTitleFormattedErrors,runValidators:T.runValidators};var d={events:{validate:{validationFailed:function(M,g,F,N){}}},methods:{validate:{isInvalid:function(M,g){return x.validate.isInvalid(M,g)},getErrorMessages:function(M,g){return x.validate.getErrorMessages(M,g)},getFormattedErrors:function(M,g){return x.validate.getFormattedErrors(M,g)},getTitleFormattedErrors:function(M,g){return x.validate.getTitleFormattedErrors(M,g)}}}};x.api.registerEventsFromObject(d.events),x.api.registerMethodsFromObject(d.methods),x.edit&&x.api.edit.on.afterCellEdit(_,function(M,g,F,N){x.validate.runValidators(M,g,F,N,x)}),T.createDefaultValidators()}};return T}]),we.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(Q,k){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){k.initializeGrid(O,T.grid)},post:function(O,I,D,T){}}}}}])})();angular.module("ui.grid").run(["$templateCache",function(we){"use strict";we.put("ui-grid/ui-grid-filter",`<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{'ui-grid-filter-cancel-button-hidden' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== 'select'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || ''}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === ''" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== ''"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === 'select'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || ''}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === ''" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>`),we.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),we.put("ui-grid/ui-grid-grid-footer",`<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{'search.totalItems' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>`),we.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div role="columnheader" class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),we.put("ui-grid/ui-grid-menu-button",`<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="'grid-menu'" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel" tabindex="0" class="ui-grid-icon-container" ng-click="toggleMenu()" ng-keydown="toggleOnKeydown($event)" aria-expanded="{{shown}}" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>`),we.put("ui-grid/ui-grid-menu-header-item",'<li role="menuitem"><div class="ui-grid-menu-item" role="heading" aria-level="2" ng-show="itemShown()"><i aria-hidden="true">&nbsp; </i><span ng-bind="label()"></span></div></li>'),we.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),we.put("ui-grid/ui-grid-row",`<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" ui-grid-one-bind-id-grid="rowRenderIndex + '-' + col.uid + '-cell'" class="ui-grid-cell" ng-class="{ 'ui-grid-row-header-cell': col.isRowHeader }" role="{{col.isRowHeader ? 'rowheader' : 'gridcell'}}" ui-grid-cell></div>`),we.put("ui-grid/ui-grid",`<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {
  </div> --></div></div>`),we.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),we.put("ui-grid/uiGridHeaderCell",`<div role="columnheader" ng-class="{ 'sortable': sortable, 'ui-grid-header-cell-last-col': isLastCol }" ui-grid-one-bind-aria-labelledby-grid="col.uid + '-header-text ' + col.uid + '-sortdir-text'" aria-sort="{{col.sort.direction == asc ? 'ascending' : ( col.sort.direction == desc ? 'descending' : (!col.sort.direction ? 'none' : 'other'))}}"><div role="button" tabindex="0" ng-keydown="handleKeyDown($event)" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + '-header-text'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + '-sortdir-text'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ 'ui-grid-icon-up-dir': col.sort.direction == asc, 'ui-grid-icon-down-dir': col.sort.direction == desc, 'ui-grid-icon-blank': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + ' ' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + '-menu-button'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-keydown="headerCellArrowKeyDown($event)" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-expanded="{{col.menuShown}}" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter ng-hide="col.filterContainer === 'columnMenu'"></div></div>`),we.put("ui-grid/uiGridMenu",`<div class="ui-grid-menu" ng-keydown="checkKeyDown($event)" ng-show="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner" ng-if="shown"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="'menuitem-'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li><li ng-if="col.filterable && col.filterContainer === 'columnMenu'"><div ui-grid-filter></div></li></ul></div></div></div>`),we.put("ui-grid/uiGridMenuItem",`<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ 'ui-grid-menu-item-active': active(), 'ui-grid-sr-only': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp; </i>{{ label() }}</button>`),we.put("ui-grid/uiGridRenderContainer",`<div role="presentation" ui-grid-one-bind-id-grid="containerId + '-grid-container'" class="ui-grid-render-container" ng-style="{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if="colContainer.needsHScrollbarPlaceholder()" class="ui-grid-scrollbar-placeholder" ng-style="{height: colContainer.grid.scrollbarHeight + 'px'}"></div><ui-grid-footer ng-if="grid.options.showColumnFooter"></ui-grid-footer></div>`),we.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),we.put("ui-grid/cellEditor",`<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="'colt' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>`),we.put("ui-grid/dropdownEditor",`<div><form name="inputForm"><select ng-class="'colt' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>`),we.put("ui-grid/fileChooserEditor",`<div><form name="inputForm"><input ng-class="'colt' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>`),we.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),we.put("ui-grid/expandableRow",`<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + 'px', height: row.expandedRowHeight + 'px'}"></div>`),we.put("ui-grid/expandableRowHeader",`<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i class="clickable" ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ 'ui-grid-icon-plus-squared' : !row.isExpanded, 'ui-grid-icon-minus-squared' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity, $event)" aria-expanded="{{!!row.isExpanded}}"></i></div></div>`),we.put("ui-grid/expandableScrollFiller",`<div ng-if="expandableRow.shouldRenderFiller()" ng-class="{scrollFiller: true, scrollFillerClass:(colContainer.name === 'body')}" ng-style="{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }">&nbsp;</div>`),we.put("ui-grid/expandableTopRowHeader",`<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><span class="ui-grid-cell-empty" ng-if="!grid.options.showExpandAllButton"></span> <button type="button" class="ui-grid-icon-button clickable" ng-if="grid.options.showExpandAllButton" ng-class="{ 'ui-grid-icon-plus-squared' : !grid.expandable.expandedAll, 'ui-grid-icon-minus-squared' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()" aria-expanded="{{grid.expandable.expandedAll}}"></button></div></div>`),we.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),we.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),we.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),we.put("ui-grid/pagination",`<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? 'last-triangle' : 'first-triangle'"><div ng-class="grid.isRTL() ? 'last-bar-rtl' : 'first-bar'"></div></div></button> <button type="button" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? 'last-triangle prev-triangle' : 'first-triangle prev-triangle'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" step="1" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/ </abbr>{{ paginationApi.getTotalPages() }} </span><button type="button" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? 'first-triangle next-triangle' : 'last-triangle next-triangle'"></div></button> <button type="button" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? 'first-triangle' : 'last-triangle'"><div ng-class="grid.isRTL() ? 'first-bar-rtl' : 'last-bar'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="'items-per-page-label'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select> <span ui-grid-one-bind-id-grid="'items-per-page-label'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">- </abbr>{{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>`),we.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),we.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),we.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),we.put("ui-grid/selectionRowHeader",'<div class="ui-grid-cell-contents ui-grid-disable-selection clickable"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div>'),we.put("ui-grid/selectionRowHeaderButtons",`<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok clickable" ng-class="{'ui-grid-row-selected': row.isSelected}" tabindex="0" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" ng-attr-aria-label="{{('selection.aria.row' | t) + ' ' + (row.index + 1) + ', ' + col.displayName}}" aria-checked="{{row.isSelected}}" role="checkbox" ng-model="row.isSelected">&nbsp;</div>`),we.put("ui-grid/selectionSelectAllButtons",`<div role="checkbox" tabindex="0" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ui-grid-one-bind-aria-label="'selection.selectAll' | t" aria-checked="{{grid.selection.selectAll}}" ng-class="{'ui-grid-all-selected': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>`),we.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" tabindex="0" ng-class="headerButtonClass()" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>'),we.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),we.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),we.put("ui-grid/treeBaseRowHeaderButtons",`<div class="ui-grid-tree-base-row-header-buttons" ng-class="{'ui-grid-tree-base-header': row.treeLevel > -1 }" tabindex="0" ng-keydown="treeButtonKeyDown(row, $event)" ng-click="treeButtonClick(row, $event)"><i ng-class="treeButtonClass(row)" ng-style="{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}"></i> &nbsp;</div>`),we.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),we.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]);(function(){"use strict";var we=angular.module("ui.grid.resizeColumns",["ui.grid"]);we.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(Q,k,O){return{defaultGridOptions:function(I){I.enableColumnResizing=I.enableColumnResizing!==!1,I.enableColumnResize===!1&&(I.enableColumnResizing=!1)},colResizerColumnBuilder:function(I,D,T){var _=[];return I.enableColumnResizing=I.enableColumnResizing===void 0?T.enableColumnResizing:I.enableColumnResizing,I.enableColumnResize===!1&&(I.enableColumnResizing=!1),k.all(_)},registerPublicApi:function(I){var D={events:{colResizable:{columnSizeChanged:function(T,_){}}}};I.api.registerEventsFromObject(D.events)},fireColumnSizeChanged:function(I,D,T){O.$applyAsync(function(){I.api.colResizable?I.api.colResizable.raise.columnSizeChanged(D,T):Q.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(I,D,T){var _=I.getRenderContainer();if(D==="left"){var x=_.visibleColumnCache.indexOf(I);return x===0?_.visibleColumnCache[0]:_.visibleColumnCache[x-1*T]}else return I}}}]),we.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(Q,k){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(O,I,D,T){k.defaultGridOptions(T.grid.options),T.grid.registerColumnBuilder(k.colResizerColumnBuilder),k.registerPublicApi(T.grid)},post:function(O,I,D,T){}}}}}]),we.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(Q,k,O,I,D,T){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(_,x,d,M){var g=M.grid;if(g.options.enableColumnResizing){var F=k.get("ui-grid/columnResizer"),N=1;g.isRTL()&&(_.position="left",N=-1);var J=function(){for(var U=x[0].getElementsByClassName("ui-grid-column-resizer"),A=0;A<U.length;A++)angular.element(U[A]).remove();var p=D.findTargetCol(_.col,"left",N),w=_.col.getRenderContainer();if(p&&w.visibleColumnCache.indexOf(_.col)!==0&&p.colDef.enableColumnResizing!==!1){var v=angular.element(F).clone();v.attr("position","left"),x.prepend(v),O(v)(_)}if(_.col.colDef.enableColumnResizing!==!1){var h=angular.element(F).clone();h.attr("position","right"),x.append(h),O(h)(_)}};J();var pe=function(){_.$applyAsync(J)},m=g.registerDataChangeCallback(pe,[T.dataChange.COLUMN]);_.$on("$destroy",m)}}}}}}]),we.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(Q,k,O,I){var D=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(T,_,x,d){var M=0,g=0,F=0,N=1;d.grid.isRTL()&&(T.position="left",N=-1),T.position==="left"?_.addClass("left"):T.position==="right"&&_.addClass("right");function J(h){d.grid.refreshCanvas(!0).then(function(){d.grid.queueGridRefresh()})}function pe(h,e){var o=e;return h.minWidth&&o<h.minWidth?o=h.minWidth:h.maxWidth&&o>h.maxWidth&&(o=h.maxWidth),o}function m(h,e){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),g=(h.targetTouches?h.targetTouches[0]:h).clientX-F,g<0?g=0:g>d.grid.gridWidth&&(g=d.grid.gridWidth);var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var i=g-M,c=parseInt(o.drawnWidth+i*N,10);g=g+(pe(o,c)-c)*N,D.css({left:g+"px"}),d.fireEvent(O.events.ITEM_DRAGGING)}}function U(h){h.originalEvent&&(h=h.originalEvent),h.preventDefault(),d.grid.element.removeClass("column-resizing"),D.remove(),g=(h.changedTouches?h.changedTouches[0]:h).clientX-F;var e=g-M;if(e===0){w(),p();return}var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=parseInt(o.drawnWidth+e*N,10);o.width=pe(o,i),o.hasCustomWidth=!0,J(e),I.fireColumnSizeChanged(d.grid,o.colDef,e),w(),p()}}var A=function(h,e){h.originalEvent&&(h=h.originalEvent),h.stopPropagation(),F=d.grid.element[0].getBoundingClientRect().left,M=(h.targetTouches?h.targetTouches[0]:h).clientX-F,d.grid.element.append(D),D.css({left:M}),h.type==="touchstart"?(Q.on("touchend",U),Q.on("touchmove",m),_.off("mousedown",A)):(Q.on("mouseup",U),Q.on("mousemove",m),_.off("touchstart",A))},p=function(){_.on("mousedown",A),_.on("touchstart",A)},w=function(){Q.off("mouseup",U),Q.off("touchend",U),Q.off("mousemove",m),Q.off("touchmove",m),_.off("mousedown",A),_.off("touchstart",A)};p();var v=function(h,e){h.stopPropagation();var o=I.findTargetCol(T.col,T.position,N);if(o.colDef.enableColumnResizing!==!1){var i=0,c=k.closestElm(_,".ui-grid-render-container"),u=c.querySelectorAll("."+O.COL_CLASS_PREFIX+o.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(u,function(r){var a;angular.element(r).parent().hasClass("ui-grid-header-cell")&&(a=angular.element(r).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),k.fakeElement(r,{},function(l){var f=angular.element(l);f.attr("style","float: left");var b=k.elementWidth(f)+2;if(a){var C=k.elementWidth(a);b=b+C}b>i&&(i=b)})});var s=pe(o,i),t=s-o.drawnWidth;o.width=s,o.hasCustomWidth=!0,J(t),I.fireColumnSizeChanged(d.grid,o.colDef,t)}};_.on("dblclick",v),_.on("$destroy",function(){_.off("dblclick",v),w()})}}}])})();angular.module("ui.grid.resizeColumns").run(["$templateCache",function(we){"use strict";we.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>')}]);(function(){"use strict";var we=angular.module("ui.grid.selection",["ui.grid"]);we.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(Q){Q.decorator("GridRow",["$delegate",function(k){return k.prototype.setSelected=function(O){O!==this.isSelected&&(this.isSelected=O,this.grid.selection.selectedCount+=O?1:-1)},k.prototype.setFocused=function(O){O!==this.isFocused&&(this.grid.selection.focusedRow&&(this.grid.selection.focusedRow.isFocused=!1),this.grid.selection.focusedRow=O?this:null,this.isFocused=O)},k}])}]),we.service("uiGridSelectionService",function(){var Q={initializeGrid:function(k){k.selection={lastSelectedRow:null,focusedRow:null,selectAll:!1},k.selection.selectedCount=0,Q.defaultGridOptions(k.options);var O={events:{selection:{rowFocusChanged:function(I,D,T){},rowSelectionChanged:function(I,D,T){},rowSelectionChangedBatch:function(I,D,T){}}},methods:{selection:{toggleRowSelection:function(I,D){var T=k.getRow(I);T!=null&&T!==null&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!0)},selectRow:function(I,D){var T=k.getRow(I);T!=null&&T!==null&&!T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!0)},selectRowByVisibleIndex:function(I,D){var T=k.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&!T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!1)},selectRowByKey:function(I,D,T,_,x){var d=k.findRowByKey(I,D,T,x);d!=null&&d!==null&&typeof d!="undefined"&&!d.isSelected&&Q.toggleRowSelection(k,d,_,k.options.multiSelect,k.options.noUnselect,!1)},unSelectRow:function(I,D){var T=k.getRow(I);T!=null&&T!==null&&T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!0)},unSelectRowByVisibleIndex:function(I,D){var T=k.renderContainers.body.visibleRowCache[I];T!=null&&T!==null&&typeof T!="undefined"&&T.isSelected&&Q.toggleRowSelection(k,T,D,k.options.multiSelect,k.options.noUnselect,!1)},unSelectRowByKey:function(I,D,T,_,x){var d=k.findRowByKey(I,D,T,x);d!=null&&d!==null&&typeof d!="undefined"&&d.isSelected&&Q.toggleRowSelection(k,d,_,k.options.multiSelect,k.options.noUnselect,!1)},selectAllRows:function(I){if(k.options.multiSelect!==!1){var D=[];k.rows.forEach(function(T){!T.isSelected&&T.enableSelection!==!1&&k.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(k,T,D,I))}),k.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(k,D,I)}},selectAllVisibleRows:function(I){if(k.options.multiSelect!==!1){var D=[];k.rows.forEach(function(T){T.visible?!T.isSelected&&T.enableSelection!==!1&&k.options.isRowSelectable(T)!==!1&&(T.setSelected(!0),Q.decideRaiseSelectionEvent(k,T,D,I)):T.isSelected&&(T.setSelected(!1),Q.decideRaiseSelectionEvent(k,T,D,I))}),k.selection.selectAll=!0,Q.decideRaiseSelectionBatchEvent(k,D,I)}},clearSelectedRows:function(I){Q.clearSelectedRows(k,I)},getSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getSelectedRows(k))},getUnSelectedRows:function(){return Q.mapAndFilterRowsByEntity(Q.getUnSelectedRows(k))},getSelectedGridRows:function(){return Q.getSelectedRows(k)},getUnSelectedGridRows:function(){return Q.getUnSelectedRows(k)},getSelectedCount:function(){return k.selection.selectedCount},setMultiSelect:function(I){k.options.multiSelect=I},setModifierKeysToMultiSelect:function(I){k.options.modifierKeysToMultiSelect=I},getSelectAllState:function(){return k.selection.selectAll}}}};k.api.registerEventsFromObject(O.events),k.api.registerMethodsFromObject(O.methods)},defaultGridOptions:function(k){k.enableRowSelection=k.enableRowSelection!==!1,k.multiSelect=k.multiSelect!==!1,k.noUnselect=k.noUnselect===!0,k.modifierKeysToMultiSelect=k.modifierKeysToMultiSelect===!0,k.enableRowHeaderSelection=k.enableRowHeaderSelection!==!1,typeof k.enableFullRowSelection=="undefined"&&(k.enableFullRowSelection=!k.enableRowHeaderSelection),k.enableFocusRowOnRowHeaderClick=k.enableFocusRowOnRowHeaderClick!==!1||!k.enableRowHeaderSelection,k.enableSelectRowOnFocus=k.enableSelectRowOnFocus!==!1,k.enableSelectAll=k.enableSelectAll!==!1,k.enableSelectionBatchEvent=k.enableSelectionBatchEvent!==!1,k.selectionRowHeaderWidth=angular.isDefined(k.selectionRowHeaderWidth)?k.selectionRowHeaderWidth:30,k.enableFooterTotalSelected=k.enableFooterTotalSelected!==!1,k.isRowSelectable=angular.isDefined(k.isRowSelectable)?k.isRowSelectable:angular.noop},toggleRowSelection:function(k,O,I,D,T,_){if(O.enableSelection!==!1){_===void 0&&(_=!0);var x=O.isSelected;D||(x?Q.getSelectedRows(k).length>1&&(x=!1,Q.clearSelectedRows(k,I)):Q.clearSelectedRows(k,I)),!(x&&T)&&(_||O.visible)&&(O.setSelected(!x),O.isSelected===!0&&(k.selection.lastSelectedRow=O),k.selection.selectAll=k.rows.length===Q.getSelectedRows(k).length,k.api.selection.raise.rowSelectionChanged(O,I))}},shiftSelect:function(k,O,I,D){if(D){var T=Q.getSelectedRows(k),_=T.length>0?k.renderContainers.body.visibleRowCache.indexOf(k.selection.lastSelectedRow):0,x=k.renderContainers.body.visibleRowCache.indexOf(O);if(_>x){var d=_;_=x,x=d}for(var M=[],g=_;g<=x;g++){var F=k.renderContainers.body.visibleRowCache[g];F&&!F.isSelected&&F.enableSelection!==!1&&(F.setSelected(!0),k.selection.lastSelectedRow=F,Q.decideRaiseSelectionEvent(k,F,M,I))}Q.decideRaiseSelectionBatchEvent(k,M,I)}},getSelectedRows:function(k){return k.rows.filter(function(O){return O.isSelected})},getUnSelectedRows:function(k){return k.rows.filter(function(O){return!O.isSelected})},mapAndFilterRowsByEntity:function(k){return typeof k.reduce=="function"?k.reduce(function(O,I){return(I.entity.hasOwnProperty("$$hashKey")||!angular.isObject(I.entity))&&O.push(I.entity),O},[]):k.filter(function(O){return O.entity.hasOwnProperty("$$hashKey")||!angular.isObject(O.entity)}).map(function(O){return O.entity})},clearSelectedRows:function(k,O){var I=[];Q.getSelectedRows(k).forEach(function(D){D.isSelected&&D.enableSelection!==!1&&(D.setSelected(!1),Q.decideRaiseSelectionEvent(k,D,I,O))}),k.selection.selectAll=!1,k.selection.selectedCount=0,Q.decideRaiseSelectionBatchEvent(k,I,O)},decideRaiseSelectionEvent:function(k,O,I,D){k.options.enableSelectionBatchEvent?I.push(O):k.api.selection.raise.rowSelectionChanged(O,D)},decideRaiseSelectionBatchEvent:function(k,O,I){O.length>0&&k.api.selection.raise.rowSelectionChangedBatch(O,I)}};return Q}),we.directive("uiGridSelection",["i18nService","uiGridSelectionConstants","uiGridSelectionService","uiGridConstants",function(Q,k,O,I){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(D,T,_,x){if(O.initializeGrid(x.grid),x.grid.options.enableRowHeaderSelection){var d={name:k.selectionRowHeaderColName,displayName:Q.getSafeText("selection.displayName"),width:x.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};x.grid.addRowHeaderColumn(d,0)}var M=!1,g=function(J){return J.forEach(function(pe){pe.enableSelection=x.grid.options.isRowSelectable(pe)}),J},F=function(){x.grid.options.isRowSelectable!==angular.noop&&M!==!0&&(x.grid.registerRowsProcessor(g,500),M=!0)};F();var N=x.grid.registerDataChangeCallback(F,[I.dataChange.OPTIONS]);D.$on("$destroy",N)},post:function(D,T,_,x){}}}}}]),we.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(Q,k,O){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(I,D,T,_){var x=_.grid;I.selectButtonClick=M,I.selectButtonKeyDown=d,O.detectBrowser()==="ie"&&D.on("mousedown",g);function d(F,N){(N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),M(F,N))}function M(F,N){if(N.stopPropagation(),N.shiftKey)k.shiftSelect(x,F,N,x.options.multiSelect);else if(N.ctrlKey||N.metaKey)k.toggleRowSelection(x,F,N,x.options.multiSelect,x.options.noUnselect,!1);else if(F.groupHeader){k.toggleRowSelection(x,F,N,x.options.multiSelect,x.options.noUnselect,!1);for(var J=0;J<F.treeNode.children.length;J++)k.toggleRowSelection(x,F.treeNode.children[J].row,N,x.options.multiSelect,x.options.noUnselect,!1)}else k.toggleRowSelection(x,F,N,x.options.multiSelect&&!x.options.modifierKeysToMultiSelect,x.options.noUnselect,!1);x.options.enableFocusRowOnRowHeaderClick&&F.setFocused(!F.isFocused)&&x.api.selection.raise.rowFocusChanged(F,N)}function g(F){(F.ctrlKey||F.shiftKey)&&(F.target.onselectstart=function(){return!1},window.setTimeout(function(){F.target.onselectstart=null},0))}I.$on("$destroy",function(){D.off()})}}}]),we.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(Q,k){return{replace:!0,restrict:"E",template:Q.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(O){var I=O.col.grid;O.headerButtonKeyDown=function(D){(D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),O.headerButtonClick(D))},O.headerButtonClick=function(D){I.selection.selectAll?(k.clearSelectedRows(I,D),I.options.noUnselect&&I.api.selection.selectRowByVisibleIndex(0,D),I.selection.selectAll=!1):I.options.multiSelect&&(I.api.selection.selectAllVisibleRows(D),I.selection.selectAll=!0)}}}}]),we.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(Q){var k=angular.element(Q[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),O="'ui-grid-row-selected': row.isSelected, 'ui-grid-row-focused': row.isFocused}",I=k.attr("ng-class");return I?O=I.slice(0,-1)+","+O:O="{"+O,k.attr("ng-class",O),{pre:function(D,T,_,x){},post:function(D,T,_,x){}}}}}),we.directive("uiGridCell",["uiGridConstants","uiGridSelectionService",function(Q,k){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(O,I,D,T){var _=0,x={},d=300,M=100;T.grid.api.cellNav&&T.grid.api.cellNav.on.viewPortKeyDown(O,function(U,A){A===null||A.row!==O.row||A.col!==O.col||U.keyCode===Q.keymap.SPACE&&O.col.colDef.name==="selectionRowHeaderCol"&&(U.preventDefault(),k.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.$apply())});var g=function(U){U.target.className==="ui-grid-icon-minus-squared"||U.target.className==="ui-grid-icon-plus-squared"||(I.off("touchend",N),U.shiftKey?k.shiftSelect(O.grid,O.row,U,O.grid.options.multiSelect):U.ctrlKey||U.metaKey?k.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect,O.grid.options.noUnselect,!1):O.grid.options.enableSelectRowOnFocus&&k.toggleRowSelection(O.grid,O.row,U,O.grid.options.multiSelect&&!O.grid.options.modifierKeysToMultiSelect,O.grid.options.noUnselect,!1),O.row.setFocused(!O.row.isFocused),O.grid.api.selection.raise.rowFocusChanged(O.row,U),O.$apply(),window.setTimeout(function(){I.on("touchend",N)},d))},F=function(U){_=new Date().getTime(),x=U.changedTouches[0],I.off("click",g)},N=function(U){var A=new Date().getTime(),p=U.changedTouches[0],w=A-_,v=Math.abs(x.clientX-p.clientX),h=Math.abs(x.clientY-p.clientY);v<M&&h<M&&w<d&&g(U),window.setTimeout(function(){I.on("click",g)},d)};function J(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&O.col.colDef.name!=="selectionRowHeaderCol"&&(I.addClass("ui-grid-disable-selection"),I.on("touchstart",F),I.on("touchend",N),I.on("click",g),O.registered=!0)}function pe(){O.registered&&(I.removeClass("ui-grid-disable-selection"),I.off("touchstart",F),I.off("touchend",N),I.off("click",g),O.registered=!1)}J();var m=O.grid.registerDataChangeCallback(function(){O.grid.options.enableRowSelection&&O.grid.options.enableFullRowSelection&&!O.registered?J():(!O.grid.options.enableRowSelection||!O.grid.options.enableFullRowSelection)&&O.registered&&pe()},[Q.dataChange.OPTIONS]);I.on("$destroy",m)}}}]),we.directive("uiGridGridFooter",["$compile","gridUtil",function(Q,k){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(O,I,D,T){T.grid.options.showGridFooter&&k.getTemplate("ui-grid/gridFooterSelectedItems").then(function(_){var x=angular.element(_),d=Q(x)(O);angular.element(I[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(d)})},post:function(O,I,D,T){}}}}}])})();angular.module("ui.grid.selection").run(["$templateCache",function(we){"use strict";we.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),we.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),we.put("ui-grid/selectionRowHeader",'<div class="ui-grid-cell-contents ui-grid-disable-selection clickable"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div>'),we.put("ui-grid/selectionRowHeaderButtons",`<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok clickable" ng-class="{'ui-grid-row-selected': row.isSelected}" tabindex="0" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" ng-attr-aria-label="{{('selection.aria.row' | t) + ' ' + (row.index + 1) + ', ' + col.displayName}}" aria-checked="{{row.isSelected}}" role="checkbox" ng-model="row.isSelected">&nbsp;</div>`),we.put("ui-grid/selectionSelectAllButtons",`<div role="checkbox" tabindex="0" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ui-grid-one-bind-aria-label="'selection.selectAll' | t" aria-checked="{{grid.selection.selectAll}}" ng-class="{'ui-grid-all-selected': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>`)}]);window.XMLHttpRequest&&!(window.FileAPI&&FileAPI.shouldLoad)&&(window.XMLHttpRequest.prototype.setRequestHeader=(function(we){return function(Q,k){if(Q==="__setXHR_"){var O=k(this);O instanceof Function&&O(this)}else we.apply(this,arguments)}})(window.XMLHttpRequest.prototype.setRequestHeader));var wr=angular.module("ngFileUpload",[]);wr.version="12.2.13";wr.service("UploadBase",["$http","$q","$timeout",function(we,Q,k){var O=this;O.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var I=this.isResumeSupported();function D(_){_.method=_.method||"POST",_.headers=_.headers||{};var x=_._deferred=_._deferred||Q.defer(),d=x.promise;function M(N){x.notify&&x.notify(N),d.progressFunc&&k(function(){d.progressFunc(N)})}function g(N){return _._start!=null&&I?{loaded:N.loaded+_._start,total:_._file&&_._file.size||N.total,type:N.type,config:_,lengthComputable:!0,target:N.target}:N}_.disableProgress||(_.headers.__setXHR_=function(){return function(N){!N||!N.upload||!N.upload.addEventListener||(_.__XHR=N,_.xhrFn&&_.xhrFn(N),N.upload.addEventListener("progress",function(J){J.config=_,M(g(J))},!1),N.upload.addEventListener("load",function(J){J.lengthComputable&&(J.config=_,M(g(J)))},!1))}});function F(){we(_).then(function(N){if(I&&_._chunkSize&&!_._finished&&_._file){var J=_._file&&_._file.size||0;M({loaded:Math.min(_._end,J),total:J,config:_,type:"progress"}),O.upload(_,!0)}else _._finished&&delete _._finished,x.resolve(N)},function(N){x.reject(N)},function(N){x.notify(N)})}return I?_._chunkSize&&_._end&&!_._finished?(_._start=_._end,_._end+=_._chunkSize,F()):_.resumeSizeUrl?we.get(_.resumeSizeUrl).then(function(N){_.resumeSizeResponseReader?_._start=_.resumeSizeResponseReader(N.data):_._start=parseInt((N.data.size==null?N.data:N.data.size).toString()),_._chunkSize&&(_._end=_._start+_._chunkSize),F()},function(N){throw N}):_.resumeSize?_.resumeSize().then(function(N){_._start=N,_._chunkSize&&(_._end=_._start+_._chunkSize),F()},function(N){throw N}):(_._chunkSize&&(_._start=0,_._end=_._start+_._chunkSize),F()):F(),d.success=function(N){return d.then(function(J){N(J.data,J.status,J.headers,_)}),d},d.error=function(N){return d.then(null,function(J){N(J.data,J.status,J.headers,_)}),d},d.progress=function(N){return d.progressFunc=N,d.then(null,null,function(J){N(J)}),d},d.abort=d.pause=function(){return _.__XHR&&k(function(){_.__XHR.abort()}),d},d.xhr=function(N){return _.xhrFn=(function(J){return function(){J&&J.apply(d,arguments),N.apply(d,arguments)}})(_.xhrFn),d},O.promisesCount++,d.finally&&d.finally instanceof Function&&d.finally(function(){O.promisesCount--}),d}this.isUploadInProgress=function(){return O.promisesCount>0},this.rename=function(_,x){return _.ngfName=x,_},this.jsonBlob=function(_){_!=null&&!angular.isString(_)&&(_=JSON.stringify(_));var x=new window.Blob([_],{type:"application/json"});return x._ngfBlob=!0,x},this.json=function(_){return angular.toJson(_)};function T(_){var x={};for(var d in _)_.hasOwnProperty(d)&&(x[d]=_[d]);return x}this.isFile=function(_){return _!=null&&(_ instanceof window.Blob||_.flashId&&_.name&&_.size)},this.upload=function(_,x){function d(F,N){if(F._ngfBlob)return F;if(_._file=_._file||F,_._start!=null&&I){_._end&&_._end>=F.size&&(_._finished=!0,_._end=F.size);var J=F.slice(_._start,_._end||F.size);return J.name=F.name,J.ngfName=F.ngfName,_._chunkSize&&(N.append("_chunkSize",_._chunkSize),N.append("_currentChunkSize",_._end-_._start),N.append("_chunkNumber",Math.floor(_._start/_._chunkSize)),N.append("_totalSize",_._file.size)),J}return F}function M(F,N,J){if(N!==void 0)if(angular.isDate(N)&&(N=N.toISOString()),angular.isString(N))F.append(J,N);else if(O.isFile(N)){var pe=d(N,F),m=J.split(",");m[1]&&(pe.ngfName=m[1].replace(/^\s+|\s+$/g,""),J=m[0]),_._fileKey=_._fileKey||J,F.append(J,pe,pe.ngfName||pe.name)}else if(angular.isObject(N)){if(N.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+J;N.$$ngfCircularDetection=!0;try{for(var U in N)if(N.hasOwnProperty(U)&&U!=="$$ngfCircularDetection"){var A=_.objectKey==null?"[i]":_.objectKey;N.length&&parseInt(U)>-1&&(A=_.arrayKey==null?A:_.arrayKey),M(F,N[U],J+A.replace(/[ik]/g,U))}}finally{delete N.$$ngfCircularDetection}}else F.append(J,N)}function g(){_._chunkSize=O.translateScalars(_.resumeChunkSize),_._chunkSize=_._chunkSize?parseInt(_._chunkSize.toString()):null,_.headers=_.headers||{},_.headers["Content-Type"]=void 0,_.transformRequest=_.transformRequest?angular.isArray(_.transformRequest)?_.transformRequest:[_.transformRequest]:[],_.transformRequest.push(function(F){var N=new window.FormData,J;F=F||_.fields||{},_.file&&(F.file=_.file);for(J in F)if(F.hasOwnProperty(J)){var pe=F[J];_.formDataAppender?_.formDataAppender(N,J,pe):M(N,pe,J)}return N})}return x||(_=T(_)),_._isDigested||(_._isDigested=!0,g()),D(_)},this.http=function(_){return _=T(_),_.transformRequest=_.transformRequest||function(x){return window.ArrayBuffer&&x instanceof window.ArrayBuffer||x instanceof window.Blob?x:we.defaults.transformRequest[0].apply(this,arguments)},_._chunkSize=O.translateScalars(_.resumeChunkSize),_._chunkSize=_._chunkSize?parseInt(_._chunkSize.toString()):null,D(_)},this.translateScalars=function(_){if(angular.isString(_)){if(_.search(/kb/i)===_.length-2)return parseFloat(_.substring(0,_.length-2)*1024);if(_.search(/mb/i)===_.length-2)return parseFloat(_.substring(0,_.length-2)*1048576);if(_.search(/gb/i)===_.length-2)return parseFloat(_.substring(0,_.length-2)*1073741824);if(_.search(/b/i)===_.length-1)return parseFloat(_.substring(0,_.length-1));if(_.search(/s/i)===_.length-1)return parseFloat(_.substring(0,_.length-1));if(_.search(/m/i)===_.length-1)return parseFloat(_.substring(0,_.length-1)*60);if(_.search(/h/i)===_.length-1)return parseFloat(_.substring(0,_.length-1)*3600)}return _},this.urlToBlob=function(_){var x=Q.defer();return we({url:_,method:"get",responseType:"arraybuffer"}).then(function(d){var M=new Uint8Array(d.data),g=d.headers("content-type")||"image/WebP",F=new window.Blob([M],{type:g}),N=_.match(/.*\/(.+?)(\?.*)?$/);N.length>1&&(F.name=N[1]),x.resolve(F)},function(d){x.reject(d)}),x.promise},this.setDefaults=function(_){this.defaults=_||{}},this.defaults={},this.version=wr.version}]);wr.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(we,Q,k,O,I){var D=I;D.getAttrWithDefaults=function(d,M){if(d[M]!=null)return d[M];var g=D.defaults[M];return g==null||angular.isString(g)?g:JSON.stringify(g)},D.attrGetter=function(d,M,g,F){var N=this.getAttrWithDefaults(M,d);if(g)try{return F?we(N)(g,F):we(N)(g)}catch(J){if(d.search(/min|max|pattern/i))return N;throw J}else return N},D.shouldUpdateOn=function(d,M,g){var F=D.attrGetter("ngfModelOptions",M,g);return F&&F.updateOn?F.updateOn.split(" ").indexOf(d)>-1:!0},D.emptyPromise=function(){var d=O.defer(),M=arguments;return Q(function(){d.resolve.apply(d,M)}),d.promise},D.rejectPromise=function(){var d=O.defer(),M=arguments;return Q(function(){d.reject.apply(d,M)}),d.promise},D.happyPromise=function(d,M){var g=O.defer();return d.then(function(F){g.resolve(F)},function(F){Q(function(){throw F}),g.resolve(M)}),g.promise};function T(d,M,g){var F=[D.emptyPromise()];return angular.forEach(d,function(N,J){N.type.indexOf("image/jpeg")===0&&D.attrGetter("ngfFixOrientation",M,g,{$file:N})&&F.push(D.happyPromise(D.applyExifRotation(N),N).then(function(pe){d.splice(J,1,pe)}))}),O.all(F)}function _(d,M,g,F){var N=D.attrGetter("ngfResize",M,g);if(!N||!D.isResizeSupported()||!d.length)return D.emptyPromise();if(N instanceof Function){var J=O.defer();return N(d).then(function(pe){x(pe,d,M,g,F).then(function(m){J.resolve(m)},function(m){J.reject(m)})},function(pe){J.reject(pe)})}else return x(N,d,M,g,F)}function x(d,M,g,F,N){var J=[D.emptyPromise()];function pe(U,A){if(U.type.indexOf("image")===0){if(d.pattern&&!D.validatePattern(U,d.pattern))return;d.resizeIf=function(w,v){return D.attrGetter("ngfResizeIf",g,F,{$width:w,$height:v,$file:U})};var p=D.resize(U,d);J.push(p),p.then(function(w){M.splice(A,1,w)},function(w){U.$error="resize",(U.$errorMessages=U.$errorMessages||{}).resize=!0,U.$errorParam=(w?(w.message?w.message:w)+": ":"")+(U&&U.name),N.$ngfValidations.push({name:"resize",valid:!1}),D.applyModelValidation(N,M)})}}for(var m=0;m<M.length;m++)pe(M[m],m);return O.all(J)}return D.updateModel=function(d,M,g,F,N,J,pe){function m(r,a,l,f,b){M.$$ngfPrevValidFiles=r,M.$$ngfPrevInvalidFiles=a;var C=r&&r.length?r[0]:null,$=a&&a.length?a[0]:null;d&&(D.applyModelValidation(d,r),d.$setViewValue(b?C:r)),F&&we(F)(g,{$files:r,$file:C,$newFiles:l,$duplicateFiles:f,$invalidFiles:a,$invalidFile:$,$event:J});var W=D.attrGetter("ngfModelInvalid",M);W&&Q(function(){we(W).assign(g,b?$:a)}),Q(function(){})}var U,A=[],p,w,v=[],h=[];function e(){function r(f,b){return f.name===b.name&&(f.$ngfOrigSize||f.size)===(b.$ngfOrigSize||b.size)&&f.type===b.type}function a(f){var b;for(b=0;b<p.length;b++)if(r(f,p[b]))return!0;for(b=0;b<w.length;b++)if(r(f,w[b]))return!0;return!1}if(N){U=[],A=[];for(var l=0;l<N.length;l++)a(N[l])?A.push(N[l]):U.push(N[l])}}function o(r){return angular.isArray(r)?r:[r]}function i(){function r(){Q(function(){m(c?p.concat(h):h,c?w.concat(v):v,N,A,u)},t&&t.debounce?t.debounce.change||t.debounce:0)}var a=s?U:h;_(a,M,g,d).then(function(){s?D.validate(U,c?p.length:0,d,M,g).then(function(l){h=l.validsFiles,v=l.invalidsFiles,r()}):r()},function(){for(var l=0;l<a.length;l++){var f=a[l];if(f.$error==="resize"){var b=h.indexOf(f);b>-1&&(h.splice(b,1),v.push(f)),r()}}})}p=M.$$ngfPrevValidFiles||[],w=M.$$ngfPrevInvalidFiles||[],d&&d.$modelValue&&(p=o(d.$modelValue));var c=D.attrGetter("ngfKeep",M,g);U=(N||[]).slice(0),(c==="distinct"||D.attrGetter("ngfKeepDistinct",M,g)===!0)&&e(M,g);var u=!c&&!D.attrGetter("ngfMultiple",M,g)&&!D.attrGetter("multiple",M);if(!(c&&!U.length)){D.attrGetter("ngfBeforeModelChange",M,g,{$files:N,$file:N&&N.length?N[0]:null,$newFiles:U,$duplicateFiles:A,$event:J});var s=D.attrGetter("ngfValidateAfterResize",M,g),t=D.attrGetter("ngfModelOptions",M,g);D.validate(U,c?p.length:0,d,M,g).then(function(r){pe?m(U,[],N,A,u):((!t||!t.allowInvalid)&&!s?(h=r.validFiles,v=r.invalidFiles):h=U,D.attrGetter("ngfFixOrientation",M,g)&&D.isExifSupported()?T(h,M,g).then(function(){i()}):i())})}},D}]);wr.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(we,Q,k,O){var I=[];function D(_){var x=_.match(/Android[^\d]*(\d+)\.(\d+)/);if(x&&x.length>2){var d=O.defaults.androidFixMinorVersion||4;return parseInt(x[1])<4||parseInt(x[1])===d&&parseInt(x[2])<d}return _.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(_)}function T(_,x,d,M,g,F,N,J){var pe=function(t,r){return J.attrGetter(t,d,r)};function m(){return x[0].tagName.toLowerCase()==="input"&&d.type&&d.type.toLowerCase()==="file"}function U(){return pe("ngfChange")||pe("ngfSelect")}function A(t){if(J.shouldUpdateOn("change",d,_)){var r=t.__files_||t.target&&t.target.files,a=[];if(!r)return;for(var l=0;l<r.length;l++)a.push(r[l]);J.updateModel(M,d,_,U(),a.length?a:null,t)}}J.registerModelChangeValidator(M,d,_);var p=[];pe("ngfMultiple")&&p.push(_.$watch(pe("ngfMultiple"),function(){c.attr("multiple",pe("ngfMultiple",_))})),pe("ngfCapture")&&p.push(_.$watch(pe("ngfCapture"),function(){c.attr("capture",pe("ngfCapture",_))})),pe("ngfAccept")&&p.push(_.$watch(pe("ngfAccept"),function(){c.attr("accept",pe("ngfAccept",_))})),p.push(d.$observe("accept",function(){c.attr("accept",pe("accept"))}));function w(t,r){function a(b){t.attr("id","ngf-"+b),r.attr("id","ngf-label-"+b)}for(var l=0;l<x[0].attributes.length;l++){var f=x[0].attributes[l];f.name!=="type"&&f.name!=="class"&&f.name!=="style"&&(f.name==="id"?(a(f.value),p.push(d.$observe("id",a))):t.attr(f.name,!f.value&&(f.name==="required"||f.name==="multiple")?f.name:f.value))}}function v(){if(m())return x;var t=angular.element('<input type="file">'),r=angular.element("<label>upload</label>");return r.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),w(t,r),I.push({el:x,ref:r}),document.body.appendChild(r.append(t)[0]),t}function h(t){if(x.attr("disabled"))return!1;if(!pe("ngfSelectDisabled",_)){var r=i(t);if(r!=null)return r;u(t);try{!m()&&!document.body.contains(c[0])&&(I.push({el:x,ref:c.parent()}),document.body.appendChild(c.parent()[0]),c.bind("change",A))}catch{}return D(navigator.userAgent)?setTimeout(function(){c[0].click()},0):c[0].click(),!1}}var e=0,o=0;function i(t){var r=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(r){if(t.type==="touchstart")return o=r[0].clientX,e=r[0].clientY,!0;if(t.type==="touchend"){var a=r[0].clientX,l=r[0].clientY;if(Math.abs(a-o)>20||Math.abs(l-e)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}var c=x;function u(t){J.shouldUpdateOn("click",d,_)&&c.val()&&(c.val(null),J.updateModel(M,d,_,U(),null,t,!0))}m()||(c=v()),c.bind("change",A),m()?x.bind("click",u):x.bind("click touchstart touchend",h);function s(t){if(c&&!c.attr("__ngf_ie10_Fix_")){if(!c[0].parentNode){c=null;return}t.preventDefault(),t.stopPropagation(),c.unbind("click");var r=c.clone();return c.replaceWith(r),c=r,c.attr("__ngf_ie10_Fix_","true"),c.bind("change",A),c.bind("click",s),c[0].click(),!1}else c.removeAttr("__ngf_ie10_Fix_")}navigator.appVersion.indexOf("MSIE 10")!==-1&&c.bind("click",s),M&&M.$formatters.push(function(t){return(t==null||t.length===0)&&c.val()&&c.val(null),t}),_.$on("$destroy",function(){m()||c.parent().remove(),angular.forEach(p,function(t){t()})}),F(function(){for(var t=0;t<I.length;t++){var r=I[t];document.body.contains(r.el[0])||(I.splice(t,1),r.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(x,c,A)}return{restrict:"AEC",require:"?ngModel",link:function(_,x,d,M){T(_,x,d,M,we,Q,k,O)}}}]);(function(){wr.service("UploadDataUrl",["UploadBase","$timeout","$q",function(k,O,I){var D=k;return D.base64DataUrl=function(T){if(angular.isArray(T)){var _=I.defer(),x=0;return angular.forEach(T,function(d){D.dataUrl(d,!0).finally(function(){if(x++,x===T.length){var M=[];angular.forEach(T,function(g){M.push(g.$ngfDataUrl)}),_.resolve(M,T)}})}),_.promise}else return D.dataUrl(T,!0)},D.dataUrl=function(T,_){if(!T)return D.emptyPromise(T,T);if(_&&T.$ngfDataUrl!=null||!_&&T.$ngfBlobUrl!=null)return D.emptyPromise(_?T.$ngfDataUrl:T.$ngfBlobUrl,T);var x=_?T.$$ngfDataUrlPromise:T.$$ngfBlobUrlPromise;if(x)return x;var d=I.defer();return O(function(){if(window.FileReader&&T&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||T.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||T.size<4e6)){var M=window.URL||window.webkitURL;if(M&&M.createObjectURL&&!_){var g;try{g=M.createObjectURL(T)}catch{O(function(){T.$ngfBlobUrl="",d.reject()});return}O(function(){if(T.$ngfBlobUrl=g,g){d.resolve(g,T),D.blobUrls=D.blobUrls||[],D.blobUrlsTotalSize=D.blobUrlsTotalSize||0,D.blobUrls.push({url:g,size:T.size}),D.blobUrlsTotalSize+=T.size||0;for(var N=D.defaults.blobUrlsMaxMemory||268435456,J=D.defaults.blobUrlsMaxQueueSize||200;(D.blobUrlsTotalSize>N||D.blobUrls.length>J)&&D.blobUrls.length>1;){var pe=D.blobUrls.splice(0,1)[0];M.revokeObjectURL(pe.url),D.blobUrlsTotalSize-=pe.size}}})}else{var F=new FileReader;F.onload=function(N){O(function(){T.$ngfDataUrl=N.target.result,d.resolve(N.target.result,T),O(function(){delete T.$ngfDataUrl},1e3)})},F.onerror=function(){O(function(){T.$ngfDataUrl="",d.reject()})},F.readAsDataURL(T)}}else O(function(){T[_?"$ngfDataUrl":"$ngfBlobUrl"]="",d.reject()})}),_?x=T.$$ngfDataUrlPromise=d.promise:x=T.$$ngfBlobUrlPromise=d.promise,x.finally(function(){delete T[_?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),x},D}]);function we(k){return k.tagName.toLowerCase()==="img"?"image":k.tagName.toLowerCase()==="audio"?"audio":k.tagName.toLowerCase()==="video"?"video":/./}function Q(k,O,I,D,T,_,x,d){function M(g){var F=k.attrGetter("ngfNoObjectUrl",T,I);k.dataUrl(g,F).finally(function(){O(function(){var N=(F?g.$ngfDataUrl:g.$ngfBlobUrl)||g.$ngfDataUrl;d?D.css("background-image","url('"+(N||"")+"')"):D.attr("src",N),N?D.removeClass("ng-hide"):D.addClass("ng-hide")})})}O(function(){var g=I.$watch(T[_],function(F){var N=x;if(_==="ngfThumbnail"&&(N||(N={width:D[0].naturalWidth||D[0].clientWidth,height:D[0].naturalHeight||D[0].clientHeight}),N.width===0&&window.getComputedStyle)){var J=getComputedStyle(D[0]);J.width&&J.width.indexOf("px")>-1&&J.height&&J.height.indexOf("px")>-1&&(N={width:parseInt(J.width.slice(0,-2)),height:parseInt(J.height.slice(0,-2))})}if(angular.isString(F))return D.removeClass("ng-hide"),d?D.css("background-image","url('"+F+"')"):D.attr("src",F);F&&F.type&&F.type.search(we(D[0]))===0&&(!d||F.type.indexOf("image")===0)?N&&k.isResizeSupported()?(N.resizeIf=function(pe,m){return k.attrGetter("ngfResizeIf",T,I,{$width:pe,$height:m,$file:F})},k.resize(F,N).then(function(pe){M(pe)},function(pe){throw pe})):M(F):D.addClass("ng-hide")});I.$on("$destroy",function(){g()})})}wr.directive("ngfSrc",["Upload","$timeout",function(k,O){return{restrict:"AE",link:function(I,D,T){Q(k,O,I,D,T,"ngfSrc",k.attrGetter("ngfResize",T,I),!1)}}}]),wr.directive("ngfBackground",["Upload","$timeout",function(k,O){return{restrict:"AE",link:function(I,D,T){Q(k,O,I,D,T,"ngfBackground",k.attrGetter("ngfResize",T,I),!0)}}}]),wr.directive("ngfThumbnail",["Upload","$timeout",function(k,O){return{restrict:"AE",link:function(I,D,T){var _=k.attrGetter("ngfSize",T,I);Q(k,O,I,D,T,"ngfThumbnail",_,k.attrGetter("ngfAsBackground",T,I))}}}]),wr.config(["$compileProvider",function(k){k.imgSrcSanitizationWhitelist&&k.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),k.aHrefSanitizationWhitelist&&k.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),wr.filter("ngfDataUrl",["UploadDataUrl","$sce",function(k,O){return function(I,D,T){if(angular.isString(I))return O.trustAsResourceUrl(I);var _=I&&((D?I.$ngfDataUrl:I.$ngfBlobUrl)||I.$ngfDataUrl);return I&&!_?(!I.$ngfDataUrlFilterInProgress&&angular.isObject(I)&&(I.$ngfDataUrlFilterInProgress=!0,k.dataUrl(I,D)),""):(I&&delete I.$ngfDataUrlFilterInProgress,(I&&_?T?O.trustAsResourceUrl(_):_:I)||"")}}])})();wr.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(we,Q,k){var O=we;function I(T){var _="",x=[];if(T.length>2&&T[0]==="/"&&T[T.length-1]==="/")_=T.substring(1,T.length-1);else{var d=T.split(",");if(d.length>1)for(var M=0;M<d.length;M++){var g=I(d[M]);g.regexp?(_+="("+g.regexp+")",M<d.length-1&&(_+="|")):x=x.concat(g.excludes)}else T.indexOf("!")===0?x.push("^((?!"+I(T.substring(1)).regexp+").)*$"):(T.indexOf(".")===0&&(T="*"+T),_="^"+T.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",_=_.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:_,excludes:x}}O.validatePattern=function(T,_){if(!_)return!0;var x=I(_),d=!0;if(x.regexp&&x.regexp.length){var M=new RegExp(x.regexp,"i");d=T.type!=null&&M.test(T.type)||T.name!=null&&M.test(T.name)}for(var g=x.excludes.length;g--;){var F=new RegExp(x.excludes[g],"i");d=d&&(T.type==null||F.test(T.type))&&(T.name==null||F.test(T.name))}return d},O.ratioToFloat=function(T){var _=T.toString(),x=_.search(/[x:]/i);return x>-1?_=parseFloat(_.substring(0,x))/parseFloat(_.substring(x+1)):_=parseFloat(_),_},O.registerModelChangeValidator=function(T,_,x){T&&T.$formatters.push(function(d){if(T.$dirty){var M=d;d&&!angular.isArray(d)&&(M=[d]),O.validate(M,0,T,_,x).then(function(){O.applyModelValidation(T,M)})}return d})};function D(T,_){_!=null&&!T.$dirty&&(T.$setDirty?T.$setDirty():T.$dirty=!0)}return O.applyModelValidation=function(T,_){D(T,_),angular.forEach(T.$ngfValidations,function(x){T.$setValidity(x.name,x.valid)})},O.getValidationAttr=function(T,_,x,d,M){var g="ngf"+x[0].toUpperCase()+x.substr(1),F=O.attrGetter(g,T,_,{$file:M});if(F==null&&(F=O.attrGetter("ngfValidate",T,_,{$file:M}),F)){var N=(d||x).split(".");F=F[N[0]],N.length>1&&(F=F&&F[N[1]])}return F},O.validate=function(T,_,x,d,M){x=x||{},x.$ngfValidations=x.$ngfValidations||[],angular.forEach(x.$ngfValidations,function(w){w.valid=!0});var g=function(w,v){return O.attrGetter(w,d,M,v)},F=(O.attrGetter("ngfIgnoreInvalid",d,M)||"").split(" "),N=O.attrGetter("ngfRunAllValidations",d,M);if(T==null||T.length===0)return O.emptyPromise({validFiles:T,invalidFiles:[]});T=T.length===void 0?[T]:T.slice(0);var J=[];function pe(w,v,h){if(T){for(var e=T.length,o=null;e--;){var i=T[e];if(i){var c=O.getValidationAttr(d,M,w,v,i);c!=null&&(h(i,c,e)||(F.indexOf(w)===-1?(i.$error=w,(i.$errorMessages=i.$errorMessages||{})[w]=!0,i.$errorParam=c,J.indexOf(i)===-1&&J.push(i),N||T.splice(e,1),o=!1):T.splice(e,1)))}}o!==null&&x.$ngfValidations.push({name:w,valid:o})}}pe("pattern",null,O.validatePattern),pe("minSize","size.min",function(w,v){return w.size+.1>=O.translateScalars(v)}),pe("maxSize","size.max",function(w,v){return w.size-.1<=O.translateScalars(v)});var m=0;if(pe("maxTotalSize",null,function(w,v){return m+=w.size,m>O.translateScalars(v)?(T.splice(0,T.length),!1):!0}),pe("validateFn",null,function(w,v){return v===!0||v===null||v===""}),!T.length)return O.emptyPromise({validFiles:[],invalidFiles:J});function U(w,v,h,e,o){function i(s,t,r){function a(l){if(l())if(F.indexOf(w)===-1){if(t.$error=w,(t.$errorMessages=t.$errorMessages||{})[w]=!0,t.$errorParam=r,J.indexOf(t)===-1&&J.push(t),!N){var f=T.indexOf(t);f>-1&&T.splice(f,1)}s.resolve(!1)}else{var b=T.indexOf(t);b>-1&&T.splice(b,1),s.resolve(!0)}else s.resolve(!0)}r!=null?e(t,r).then(function(l){a(function(){return!o(l,r)})},function(){a(function(){return g("ngfValidateForce",{$file:t})})}):s.resolve(!0)}var c=[O.emptyPromise(!0)];T&&(T=T.length===void 0?[T]:T,angular.forEach(T,function(s){var t=Q.defer();if(c.push(t.promise),h&&(s.type==null||s.type.search(h)!==0)){t.resolve(!0);return}w==="dimensions"&&O.attrGetter("ngfDimensions",d)!=null?O.imageDimensions(s).then(function(r){i(t,s,g("ngfDimensions",{$file:s,$width:r.width,$height:r.height}))},function(){t.resolve(!1)}):w==="duration"&&O.attrGetter("ngfDuration",d)!=null?O.mediaDuration(s).then(function(r){i(t,s,g("ngfDuration",{$file:s,$duration:r}))},function(){t.resolve(!1)}):i(t,s,O.getValidationAttr(d,M,w,v,s))}));var u=Q.defer();return Q.all(c).then(function(s){for(var t=!0,r=0;r<s.length;r++)if(!s[r]){t=!1;break}x.$ngfValidations.push({name:w,valid:t}),u.resolve(t)}),u.promise}var A=Q.defer(),p=[];return p.push(U("maxHeight","height.max",/image/,this.imageDimensions,function(w,v){return w.height<=v})),p.push(U("minHeight","height.min",/image/,this.imageDimensions,function(w,v){return w.height>=v})),p.push(U("maxWidth","width.max",/image/,this.imageDimensions,function(w,v){return w.width<=v})),p.push(U("minWidth","width.min",/image/,this.imageDimensions,function(w,v){return w.width>=v})),p.push(U("dimensions",null,/image/,function(w,v){return O.emptyPromise(v)},function(w){return w})),p.push(U("ratio",null,/image/,this.imageDimensions,function(w,v){for(var h=v.toString().split(","),e=!1,o=0;o<h.length;o++)Math.abs(w.width/w.height-O.ratioToFloat(h[o]))<.01&&(e=!0);return e})),p.push(U("maxRatio","ratio.max",/image/,this.imageDimensions,function(w,v){return w.width/w.height-O.ratioToFloat(v)<1e-4})),p.push(U("minRatio","ratio.min",/image/,this.imageDimensions,function(w,v){return w.width/w.height-O.ratioToFloat(v)>-1e-4})),p.push(U("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(w,v){return w<=O.translateScalars(v)})),p.push(U("minDuration","duration.min",/audio|video/,this.mediaDuration,function(w,v){return w>=O.translateScalars(v)})),p.push(U("duration",null,/audio|video/,function(w,v){return O.emptyPromise(v)},function(w){return w})),p.push(U("validateAsyncFn",null,null,function(w,v){return v},function(w){return w===!0||w===null||w===""})),Q.all(p).then(function(){if(N)for(var w=0;w<T.length;w++){var v=T[w];v.$error&&T.splice(w--,1)}N=!1,pe("maxFiles",null,function(h,e,o){return _+o<e}),A.resolve({validFiles:T,invalidFiles:J})}),A.promise},O.imageDimensions=function(T){if(T.$ngfWidth&&T.$ngfHeight){var _=Q.defer();return k(function(){_.resolve({width:T.$ngfWidth,height:T.$ngfHeight})}),_.promise}if(T.$ngfDimensionPromise)return T.$ngfDimensionPromise;var x=Q.defer();return k(function(){if(T.type.indexOf("image")!==0){x.reject("not image");return}O.dataUrl(T).then(function(d){var M=angular.element("<img>").attr("src",d).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");function g(){var pe=M[0].naturalWidth||M[0].clientWidth,m=M[0].naturalHeight||M[0].clientHeight;M.remove(),T.$ngfWidth=pe,T.$ngfHeight=m,x.resolve({width:pe,height:m})}function F(){M.remove(),x.reject("load error")}M.on("load",g),M.on("error",F);var N=0;function J(){k(function(){M[0].parentNode&&(M[0].clientWidth?g():N++>10?F():J())},1e3)}J(),angular.element(document.getElementsByTagName("body")[0]).append(M)},function(){x.reject("load error")})}),T.$ngfDimensionPromise=x.promise,T.$ngfDimensionPromise.finally(function(){delete T.$ngfDimensionPromise}),T.$ngfDimensionPromise},O.mediaDuration=function(T){if(T.$ngfDuration){var _=Q.defer();return k(function(){_.resolve(T.$ngfDuration)}),_.promise}if(T.$ngfDurationPromise)return T.$ngfDurationPromise;var x=Q.defer();return k(function(){if(T.type.indexOf("audio")!==0&&T.type.indexOf("video")!==0){x.reject("not media");return}O.dataUrl(T).then(function(d){var M=angular.element(T.type.indexOf("audio")===0?"<audio>":"<video>").attr("src",d).css("visibility","none").css("position","fixed");function g(){var pe=M[0].duration;T.$ngfDuration=pe,M.remove(),x.resolve(pe)}function F(){M.remove(),x.reject("load error")}M.on("loadedmetadata",g),M.on("error",F);var N=0;function J(){k(function(){M[0].parentNode&&(M[0].duration?g():N>10?F():J())},1e3)}J(),angular.element(document.body).append(M)},function(){x.reject("load error")})}),T.$ngfDurationPromise=x.promise,T.$ngfDurationPromise.finally(function(){delete T.$ngfDurationPromise}),T.$ngfDurationPromise},O}]);wr.service("UploadResize",["UploadValidate","$q",function(we,Q){var k=we,O=function(D,T,_,x,d){var M=d?Math.max(_/D,x/T):Math.min(_/D,x/T);return{width:D*M,height:T*M,marginX:D*M-_,marginY:T*M-x}},I=function(D,T,_,x,d,M,g,F){var N=Q.defer(),J=document.createElement("canvas"),pe=document.createElement("img");return pe.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(pe),pe.onload=function(){var m=pe.width,U=pe.height;if(pe.parentNode.removeChild(pe),F!=null&&F(m,U)===!1){N.reject("resizeIf");return}try{if(M){var A=k.ratioToFloat(M),p=m/U;p<A?(T=m,_=T/A):(_=U,T=_*A)}T||(T=m),_||(_=U);var w=O(m,U,T,_,g);J.width=Math.min(w.width,T),J.height=Math.min(w.height,_);var v=J.getContext("2d");v.drawImage(pe,Math.min(0,-w.marginX/2),Math.min(0,-w.marginY/2),w.width,w.height),N.resolve(J.toDataURL(d||"image/WebP",x||.934))}catch(h){N.reject(h)}},pe.onerror=function(){pe.parentNode.removeChild(pe),N.reject()},pe.src=D,N.promise};return k.dataUrltoBlob=function(D,T,_){for(var x=D.split(","),d=x[0].match(/:(.*?);/)[1],M=atob(x[1]),g=M.length,F=new Uint8Array(g);g--;)F[g]=M.charCodeAt(g);var N=new window.Blob([F],{type:d});return N.name=T,N.$ngfOrigSize=_,N},k.isResizeSupported=function(){var D=document.createElement("canvas");return window.atob&&D.getContext&&D.getContext("2d")&&window.Blob},k.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(D){this.$ngfName=D},configurable:!0}),k.resize=function(D,T){if(D.type.indexOf("image")!==0)return k.emptyPromise(D);var _=Q.defer();return k.dataUrl(D,!0).then(function(x){I(x,T.width,T.height,T.quality,T.type||D.type,T.ratio,T.centerCrop,T.resizeIf).then(function(d){if(D.type==="image/jpeg"&&T.restoreExif!==!1)try{d=k.restoreExif(x,d)}catch(g){setTimeout(function(){throw g},1)}try{var M=k.dataUrltoBlob(d,D.name,D.size);_.resolve(M)}catch(g){_.reject(g)}},function(d){d==="resizeIf"&&_.resolve(D),_.reject(d)})},function(x){_.reject(x)}),_.promise},k}]);(function(){wr.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(k,O,I,D,T,_){return{restrict:"AEC",require:"?ngModel",link:function(x,d,M,g){we(x,d,M,g,k,O,I,D,T,_)}}}]),wr.directive("ngfNoFileDrop",function(){return function(k,O){Q()&&O.css("display","none")}}),wr.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(k,O,I){return function(D,T,_){if(Q()){var x=k(I.attrGetter("ngfDropAvailable",_));O(function(){x(D),x.assign&&x.assign(D,!0)})}}}]);function we(k,O,I,D,T,_,x,d,M,g){var F=Q(),N=function(o,i,c){return d.attrGetter(o,I,i,c)};if(N("dropAvailable")&&_(function(){k[N("dropAvailable")]?k[N("dropAvailable")].value=F:k[N("dropAvailable")]=F}),!F){N("ngfHideOnDropNotAvailable",k)===!0&&O.css("display","none");return}function J(){return O.attr("disabled")||N("ngfDropDisabled",k)}N("ngfSelect")==null&&d.registerModelChangeValidator(D,I,k);var pe=null,m=T(N("ngfStopPropagation")),U=1,A;O[0].addEventListener("dragover",function(o){if(!(J()||!d.shouldUpdateOn("drop",I,k))){if(o.preventDefault(),m(k)&&o.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=o.dataTransfer.effectAllowed;o.dataTransfer.dropEffect=i==="move"||i==="linkMove"?"move":"copy"}_.cancel(pe),A||(A="C",h(k,I,o,function(c){A=c,O.addClass(A),N("ngfDrag",k,{$isDragging:!0,$class:A,$event:o})}))}},!1),O[0].addEventListener("dragenter",function(o){J()||!d.shouldUpdateOn("drop",I,k)||(o.preventDefault(),m(k)&&o.stopPropagation())},!1),O[0].addEventListener("dragleave",function(o){J()||!d.shouldUpdateOn("drop",I,k)||(o.preventDefault(),m(k)&&o.stopPropagation(),pe=_(function(){A&&O.removeClass(A),A=null,N("ngfDrag",k,{$isDragging:!1,$event:o})},U||100))},!1),O[0].addEventListener("drop",function(o){J()||!d.shouldUpdateOn("drop",I,k)||(o.preventDefault(),m(k)&&o.stopPropagation(),A&&O.removeClass(A),A=null,p(o.dataTransfer,o,"dropUrl"))},!1),O[0].addEventListener("paste",function(o){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&N("ngfEnableFirefoxPaste",k)&&o.preventDefault(),!(J()||!d.shouldUpdateOn("paste",I,k))&&p(o.clipboardData||o.originalEvent.clipboardData,o,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&N("ngfEnableFirefoxPaste",k)&&(O.attr("contenteditable",!0),O.on("keypress",function(o){!o.metaKey&&!o.ctrlKey&&o.preventDefault()}));function p(o,i,c){if(o){var u;try{u=o&&o.getData&&o.getData("text/html")}catch{}e(o.items,o.files,N("ngfAllowDir",k)!==!1,N("multiple")||N("ngfMultiple",k)).then(function(s){s.length?w(s,i):v(c,u).then(function(t){w(t,i)})})}}function w(o,i){d.updateModel(D,I,k,N("ngfChange")||N("ngfDrop"),o,i)}function v(o,i){if(!d.shouldUpdateOn(o,I,k)||typeof i!="string")return d.rejectPromise([]);var c=[];i.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(r,a,l){c.push(l)});var u=[],s=[];if(c.length){angular.forEach(c,function(r){u.push(d.urlToBlob(r).then(function(a){s.push(a)}))});var t=g.defer();return g.all(u).then(function(){t.resolve(s)},function(r){t.reject(r)}),t.promise}return d.emptyPromise()}function h(o,i,c,u){var s=N("ngfDragOverClass",o,{$event:c}),t="dragover";if(angular.isString(s))t=s;else if(s&&(s.delay&&(U=s.delay),s.accept||s.reject)){var r=c.dataTransfer.items;if(r==null||!r.length)t=s.accept;else for(var a=s.pattern||N("ngfPattern",o,{$event:c}),l=r.length;l--;)if(d.validatePattern(r[l],a))t=s.accept;else{t=s.reject;break}}u(t)}function e(o,i,c,u){var s=d.getValidationAttr(I,k,"maxFiles");s==null&&(s=Number.MAX_VALUE);var t=d.getValidationAttr(I,k,"maxTotalSize");t==null&&(t=Number.MAX_VALUE);var r=N("ngfIncludeDir",k),a=[],l=0;function f(ee,ae){var fe=g.defer();if(ee!=null)if(ee.isDirectory){var xe=[d.emptyPromise()];if(r){var se={type:"directory"};se.name=se.path=(ae||"")+ee.name,a.push(se)}var B=ee.createReader(),K=[],z=function(){B.readEntries(function(E){try{E.length?(K=K.concat(Array.prototype.slice.call(E||[],0)),z()):(angular.forEach(K.slice(0),function(j){a.length<=s&&l<=t&&xe.push(f(j,(ae||"")+ee.name+"/"))}),g.all(xe).then(function(){fe.resolve()},function(j){fe.reject(j)}))}catch(j){fe.reject(j)}},function(E){fe.reject(E)})};z()}else ee.file(function(E){try{E.path=(ae||"")+E.name,r&&(E=d.rename(E,E.path)),a.push(E),l+=E.size,fe.resolve()}catch(j){fe.reject(j)}},function(E){fe.reject(E)});return fe.promise}var b=[d.emptyPromise()];if(o&&o.length>0&&x.location.protocol!=="file:")for(var C=0;C<o.length;C++){if(o[C].webkitGetAsEntry&&o[C].webkitGetAsEntry()&&o[C].webkitGetAsEntry().isDirectory){var $=o[C].webkitGetAsEntry();if($.isDirectory&&!c)continue;$!=null&&b.push(f($))}else{var W=o[C].getAsFile();W!=null&&(a.push(W),l+=W.size)}if(a.length>s||l>t||!u&&a.length>0)break}else if(i!=null)for(var R=0;R<i.length;R++){var L=i.item(R);if((L.type||L.size>0)&&(a.push(L),l+=L.size),a.length>s||l>t||!u&&a.length>0)break}var Y=g.defer();return g.all(b).then(function(){if(!u&&!r&&a.length){for(var ee=0;a[ee]&&a[ee].type==="directory";)ee++;Y.resolve([a[ee]])}else Y.resolve(a)},function(ee){Y.reject(ee)}),Y.promise}}function Q(){var k=document.createElement("div");return"draggable"in k&&"ondrop"in k&&!/Edge\/12./i.test(navigator.userAgent)}})();wr.service("UploadExif",["UploadResize","$q",function(we,Q){var k=we;k.isExifSupported=function(){return window.FileReader&&new FileReader().readAsArrayBuffer&&k.isResizeSupported()};function O(D,T,_,x){switch(T){case 2:return D.transform(-1,0,0,1,_,0);case 3:return D.transform(-1,0,0,-1,_,x);case 4:return D.transform(1,0,0,-1,0,x);case 5:return D.transform(0,1,1,0,0,0);case 6:return D.transform(0,1,-1,0,x,0);case 7:return D.transform(0,-1,-1,0,x,_);case 8:return D.transform(0,-1,1,0,0,_)}}k.readOrientation=function(D){var T=Q.defer(),_=new FileReader,x=D.slice?D.slice(0,64*1024):D;return _.readAsArrayBuffer(x),_.onerror=function(d){return T.reject(d)},_.onload=function(d){var M={orientation:1},g=new DataView(this.result);if(g.getUint16(0,!1)!==65496)return T.resolve(M);for(var F=g.byteLength,N=2;N<F;){var J=g.getUint16(N,!1);if(N+=2,J===65505){if(g.getUint32(N+=2,!1)!==1165519206)return T.resolve(M);var pe=g.getUint16(N+=6,!1)===18761;N+=g.getUint32(N+4,pe);var m=g.getUint16(N,pe);N+=2;for(var U=0;U<m;U++)if(g.getUint16(N+U*12,pe)===274){var A=g.getUint16(N+U*12+8,pe);return A>=2&&A<=8&&(g.setUint16(N+U*12+8,1,pe),M.fixedArrayBuffer=d.target.result),M.orientation=A,T.resolve(M)}}else{if((J&65280)!==65280)break;N+=g.getUint16(N,!1)}}return T.resolve(M)},T.promise};function I(D){for(var T="",_=new Uint8Array(D),x=_.byteLength,d=0;d<x;d++)T+=String.fromCharCode(_[d]);return window.btoa(T)}return k.applyExifRotation=function(D){if(D.type.indexOf("image/jpeg")!==0)return k.emptyPromise(D);var T=Q.defer();return k.readOrientation(D).then(function(_){if(_.orientation<2||_.orientation>8)return T.resolve(D);k.dataUrl(D,!0).then(function(x){var d=document.createElement("canvas"),M=document.createElement("img");M.onload=function(){try{d.width=_.orientation>4?M.height:M.width,d.height=_.orientation>4?M.width:M.height;var g=d.getContext("2d");O(g,_.orientation,M.width,M.height),g.drawImage(M,0,0);var F=d.toDataURL(D.type||"image/WebP",.934);F=k.restoreExif(I(_.fixedArrayBuffer),F);var N=k.dataUrltoBlob(F,D.name);T.resolve(N)}catch(J){return T.reject(J)}},M.onerror=function(){T.reject()},M.src=x},function(x){T.reject(x)})},function(_){T.reject(_)}),T.promise},k.restoreExif=function(D,T){var _={};return _.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_.encode64=function(x){var d="",M,g,F="",N,J,pe,m="",U=0;do M=x[U++],g=x[U++],F=x[U++],N=M>>2,J=(M&3)<<4|g>>4,pe=(g&15)<<2|F>>6,m=F&63,isNaN(g)?pe=m=64:isNaN(F)&&(m=64),d=d+this.KEY_STR.charAt(N)+this.KEY_STR.charAt(J)+this.KEY_STR.charAt(pe)+this.KEY_STR.charAt(m),M=g=F="",N=J=pe=m="";while(U<x.length);return d},_.restore=function(x,d){x.match("data:image/jpeg;base64,")&&(x=x.replace("data:image/jpeg;base64,",""));var M=this.decode64(x),g=this.slice2Segments(M),F=this.exifManipulation(d,g);return"data:image/jpeg;base64,"+this.encode64(F)},_.exifManipulation=function(x,d){var M=this.getExifArray(d),g=this.insertExif(x,M);return new Uint8Array(g)},_.getExifArray=function(x){for(var d,M=0;M<x.length;M++)if(d=x[M],d[0]===255&d[1]===225)return d;return[]},_.insertExif=function(x,d){var M=x.replace("data:image/jpeg;base64,",""),g=this.decode64(M),F=g.indexOf(255,3),N=g.slice(0,F),J=g.slice(F),pe=N;return pe=pe.concat(d),pe=pe.concat(J),pe},_.slice2Segments=function(x){for(var d=0,M=[];!(x[d]===255&x[d+1]===218);){if(x[d]===255&x[d+1]===216)d+=2;else{var g=x[d+2]*256+x[d+3],F=d+g+2,N=x.slice(d,F);M.push(N),d=F}if(d>x.length)break}return M},_.decode64=function(x){var d,M,g="",F,N,J,pe="",m=0,U=[],A=/[^A-Za-z0-9\+\/\=]/g;A.exec(x)&&console.log(`There were invalid base64 characters in the input text.
`+"Expect errors in decoding."),x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");do F=this.KEY_STR.indexOf(x.charAt(m++)),N=this.KEY_STR.indexOf(x.charAt(m++)),J=this.KEY_STR.indexOf(x.charAt(m++)),pe=this.KEY_STR.indexOf(x.charAt(m++)),d=F<<2|N>>4,M=(N&15)<<4|J>>2,g=(J&3)<<6|pe,U.push(d),J!==64&&U.push(M),pe!==64&&U.push(g),d=M=g="",F=N=J=pe="";while(m<x.length);return U},_.restore(D,T)},k}]);(function(){"use strict";var we=angular.module("ngNotify",[]),Q=!1;try{angular.module("ngSanitize")&&(angular.module("ngNotify").requires.push("ngSanitize"),Q=!0)}catch{}var k='<div class="ngn" ng-class="ngNotify.notifyClass" ng-style="ngNotify.notifyStyle"><span ng-show="ngNotify.notifyButton" class="ngn-dismiss" ng-click="dismiss()">&times;</span><span ng-if="ngNotify.notifyHtml" ng-bind-html="ngNotify.notifyMessage"></span><span ng-if="!ngNotify.notifyHtml" ng-bind="ngNotify.notifyMessage"></span></div>';we.run(["$templateCache",function(O){O.put("templates/ng-notify/ng-notify.html",k)}]),we.provider("ngNotify",function(){this.$get=["$document","$compile","$log","$rootScope","$timeout","$interval","$templateCache",function(O,I,D,T,_,x,d){var M,g,F="",N=" ",J=3e3,pe="ngn-sticky",m=1,U=-1,A=200,p=500,w=25,v=0,h=1,e={theme:"pure",position:"bottom",duration:J,type:"info",sticky:!1,button:!0,html:!1},o={notifyClass:"",notifyMessage:"",notifyStyle:{display:"none",opacity:v}},i={pure:F,prime:"ngn-prime",pastel:"ngn-pastel",pitchy:"ngn-pitchy"},c={info:"ngn-info",error:"ngn-error",success:"ngn-success",warn:"ngn-warn",grimace:"ngn-grimace"},u={bottom:"ngn-bottom",top:"ngn-top"},s=T.$new(),t=I(d.get("templates/ng-notify/ng-notify.html"))(s);s.ngNotify=angular.extend({},o),_(function(){O.find("body").append(t)});var r=function(ae){var fe=ae.type||e.type;return(c[fe]||c.info)+N},a=function(ae){var fe=ae.theme||e.theme;return(i[fe]||i.pure)+N},l=function(ae){var fe=ae.position||e.position;return(u[fe]||u.bottom)+N},f=function(ae){var fe=ae.duration||e.duration;return angular.isNumber(fe)?fe:J},b=function(ae){var fe=ae.sticky!==void 0?ae.sticky:e.sticky;return!!fe},C=function(ae,fe){var xe=ae.button!==void 0?ae.button:e.button;return xe&&fe},$=function(ae){if((ae.html||e.html)&&!Q)return D.debug(`ngNotify warning: 
gSanitize couldn't be located.  In order to use the 'html' option, be sure the ngSanitize source is included in your project.`),!1;var fe=ae.html!==void 0?ae.html:e.html;return!!fe},W=function(ae,fe){var xe=r(ae)+a(ae)+l(ae);return xe+=fe?pe:F},R=function(){s.ngNotify=angular.extend({},o)},L=function(ae,fe,xe,se){var B=w/xe;s.ngNotify.notifyStyle={display:"block",opacity:fe};var K=function(){fe+=ae*B,s.ngNotify.notifyStyle.opacity=fe,(v>=fe||fe>=h)&&(x.cancel(g),g=!1,se())};g||(g=x(K,w))},Y=function(ae,fe){L(U,h,ae,fe)},ee=function(ae,fe){L(m,v,ae,fe)};return s.dismiss=function(){Y(p,function(){R()})},{config:function(ae){ae=ae||{},angular.extend(e,ae)},set:function(ae,fe){if(ae){x.cancel(g),g=!1,_.cancel(M);var xe={};typeof fe=="object"?xe=fe:xe.type=fe;var se=b(xe),B=f(xe);angular.extend(s.ngNotify,{notifyHtml:$(xe),notifyClass:W(xe,se),notifyButton:C(xe,se),notifyMessage:ae}),ee(A,function(){se||(M=_(function(){s.dismiss()},B))})}},dismiss:function(){s.dismiss()},addTheme:function(ae,fe){ae&&fe&&(i[ae]=fe)},addType:function(ae,fe){ae&&fe&&(c[ae]=fe)}}}]})})();var nu=ta(Zc(),1),na=ta(eu(),1),sc=typeof window!="undefined"?window:globalThis,_d=na.default&&na.default.default?na.default.default:na.default;sc.angular=tu.default;sc.moment=nu.default;sc.WebTorrent=_d;})();
