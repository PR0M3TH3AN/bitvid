# Context: Documentation of js/ui/profileModalController.js

**Date:** 2026-02-14
**Agent:** docs-code-investigator (via Daily Scheduler)
**Target:** `js/ui/profileModalController.js` (~6200 lines)

## Selection Reason
This file is the largest UI controller in the codebase. It manages the complex Profile Modal, which includes:
- Account switching and login/logout.
- Relay management.
- Direct messages interface (a mini-app inside the modal).
- Wallet settings.
- Moderation tools (blocking/muting).
- Subscription management.

Despite its size and complexity, it lacks comprehensive JSDoc and architectural documentation. Documenting it is high priority for maintainability and future refactoring.

## Plan
1. **Analyze**: Map the dependencies and sub-controllers (DM, Relay, Wallet, etc.).
2. **JSDoc**: Add JSDoc to the class, constructor, and key lifecycle methods (`load`, `show`, `hide`, `handleAuthLogin`).
3. **Flow Comments**: Add comments explaining the initialization and pane switching logic.
4. **Overview Doc**: Create `docs/profileModalController-overview.md` describing the architecture (facade pattern over sub-controllers) and state management.
5. **Verify**: Run `npm run lint` and `npm run test:unit` (specifically `tests/profile-modal-controller.test.mjs` if it exists).
